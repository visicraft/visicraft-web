{"version":3,"sources":["datastore/races.ts","datastore/index.ts","../node_modules/argsarray/index.js","../node_modules/pouchdb-collections/lib/index.es.js","../node_modules/pouchdb-utils/node_modules/inherits/inherits_browser.js","../node_modules/immediate/lib/browser.js","../node_modules/pouchdb-errors/node_modules/inherits/inherits_browser.js","../node_modules/pouchdb-errors/lib/index.es.js","../node_modules/events/events.js","../node_modules/pouchdb-utils/node_modules/uuid/lib/rng-browser.js","../node_modules/pouchdb-utils/node_modules/uuid/lib/bytesToUuid.js","../node_modules/pouchdb-utils/node_modules/uuid/v1.js","../node_modules/pouchdb-utils/node_modules/uuid/v4.js","../node_modules/pouchdb-utils/node_modules/uuid/index.js","../node_modules/pouchdb-binary-utils/lib/index-browser.es.js","../node_modules/spark-md5/spark-md5.js","../node_modules/pouchdb-md5/lib/index-browser.es.js","../node_modules/pouchdb-utils/lib/index-browser.es.js","../node_modules/pouchdb-collate/lib/index.es.js","../node_modules/pouchdb-selector-core/lib/index.es.js","../node_modules/object-path/index.js","../node_modules/rxdb/dist/es/query-change-detector.js","../node_modules/rxdb/node_modules/@babel/runtime/helpers/createClass.js","../node_modules/object-keys/isArguments.js","../node_modules/object-keys/implementation.js","../node_modules/object-keys/index.js","../node_modules/is-arguments/index.js","../node_modules/object-is/index.js","../node_modules/function-bind/implementation.js","../node_modules/function-bind/index.js","../node_modules/has/src/index.js","../node_modules/is-regex/index.js","../node_modules/define-properties/index.js","../node_modules/regexp.prototype.flags/implementation.js","../node_modules/regexp.prototype.flags/polyfill.js","../node_modules/regexp.prototype.flags/shim.js","../node_modules/regexp.prototype.flags/index.js","../node_modules/is-date-object/index.js","../node_modules/deep-equal/index.js","../node_modules/random-token/index.js","../node_modules/base64-js/index.js","../node_modules/ieee754/index.js","../node_modules/buffer/node_modules/isarray/index.js","../node_modules/buffer/index.js","../node_modules/clone/clone.js","../node_modules/process/browser.js","../node_modules/is-electron/index.js","../node_modules/rxdb/dist/es/util.js","../node_modules/rxdb/node_modules/@babel/runtime/helpers/inheritsLoose.js","../node_modules/rxdb/node_modules/@babel/runtime/helpers/getPrototypeOf.js","../node_modules/rxdb/node_modules/@babel/runtime/helpers/setPrototypeOf.js","../node_modules/rxdb/node_modules/@babel/runtime/helpers/isNativeFunction.js","../node_modules/rxdb/node_modules/@babel/runtime/helpers/construct.js","../node_modules/rxdb/node_modules/@babel/runtime/helpers/wrapNativeSuper.js","../node_modules/rxdb/dist/es/overwritable.js","../node_modules/rxdb/dist/es/rx-error.js","../node_modules/rxdb/dist/es/hooks.js","../node_modules/tslib/tslib.es6.js","../../../src/internal/util/isFunction.ts","../../src/internal/config.ts","../../../src/internal/util/hostReportError.ts","../../src/internal/Observer.ts","../../../src/internal/util/isArray.ts","../../../src/internal/util/isObject.ts","../../../src/internal/util/UnsubscriptionError.ts","../../src/internal/Subscription.ts","../../../src/internal/symbol/rxSubscriber.ts","../../src/internal/Subscriber.ts","../../../src/internal/util/canReportError.ts","../../../src/internal/util/toSubscriber.ts","../../../src/internal/symbol/observable.ts","../../../src/internal/util/noop.ts","../../../src/internal/util/pipe.ts","../../src/internal/Observable.ts","../../../src/internal/util/ObjectUnsubscribedError.ts","../../src/internal/SubjectSubscription.ts","../../src/internal/Subject.ts","../../../src/internal/operators/refCount.ts","../../../src/internal/observable/ConnectableObservable.ts","../../../src/internal/operators/groupBy.ts","../../src/internal/BehaviorSubject.ts","../../../src/internal/scheduler/Action.ts","../../../src/internal/scheduler/AsyncAction.ts","../../../src/internal/scheduler/QueueAction.ts","../../src/internal/Scheduler.ts","../../../src/internal/scheduler/AsyncScheduler.ts","../../../src/internal/scheduler/QueueScheduler.ts","../../../src/internal/scheduler/queue.ts","../../../src/internal/observable/empty.ts","../../../src/internal/util/isScheduler.ts","../../../src/internal/util/subscribeToArray.ts","../../../src/internal/scheduled/scheduleArray.ts","../../../src/internal/observable/fromArray.ts","../../../src/internal/observable/of.ts","../../../src/internal/observable/throwError.ts","../../src/internal/Notification.ts","../../../src/internal/operators/observeOn.ts","../../src/internal/ReplaySubject.ts","../../src/internal/AsyncSubject.ts","../../../src/internal/util/Immediate.ts","../../../src/internal/scheduler/AsapAction.ts","../../../src/internal/scheduler/AsapScheduler.ts","../../../src/internal/scheduler/asap.ts","../../../src/internal/scheduler/async.ts","../../../src/internal/scheduler/AnimationFrameAction.ts","../../../src/internal/scheduler/AnimationFrameScheduler.ts","../../../src/internal/scheduler/animationFrame.ts","../../../src/internal/scheduler/VirtualTimeScheduler.ts","../../../src/internal/util/identity.ts","../../../src/internal/util/isObservable.ts","../../../src/internal/util/ArgumentOutOfRangeError.ts","../../../src/internal/util/EmptyError.ts","../../../src/internal/util/TimeoutError.ts","../../../src/internal/operators/map.ts","../../../src/internal/observable/bindCallback.ts","../../../src/internal/observable/bindNodeCallback.ts","../../src/internal/OuterSubscriber.ts","../../src/internal/InnerSubscriber.ts","../../../src/internal/util/subscribeToPromise.ts","../../../src/internal/symbol/iterator.ts","../../../src/internal/util/subscribeToIterable.ts","../../../src/internal/util/subscribeToObservable.ts","../../../src/internal/util/isArrayLike.ts","../../../src/internal/util/isPromise.ts","../../../src/internal/util/subscribeTo.ts","../../../src/internal/util/subscribeToResult.ts","../../../src/internal/observable/combineLatest.ts","../../../src/internal/scheduled/scheduleObservable.ts","../../../src/internal/scheduled/schedulePromise.ts","../../../src/internal/scheduled/scheduleIterable.ts","../../../src/internal/util/isInteropObservable.ts","../../../src/internal/util/isIterable.ts","../../../src/internal/scheduled/scheduled.ts","../../../src/internal/observable/from.ts","../../../src/internal/operators/mergeMap.ts","../../../src/internal/operators/mergeAll.ts","../../../src/internal/operators/concatAll.ts","../../../src/internal/observable/concat.ts","../../../src/internal/observable/defer.ts","../../../src/internal/observable/forkJoin.ts","../../../src/internal/observable/fromEvent.ts","../../../src/internal/observable/fromEventPattern.ts","../../../src/internal/observable/generate.ts","../../../src/internal/observable/iif.ts","../../../src/internal/util/isNumeric.ts","../../../src/internal/observable/interval.ts","../../../src/internal/observable/merge.ts","../../../src/internal/observable/never.ts","../../../src/internal/observable/onErrorResumeNext.ts","../../../src/internal/observable/pairs.ts","../../../src/internal/util/not.ts","../../../src/internal/operators/filter.ts","../../../src/internal/observable/partition.ts","../../../src/internal/observable/race.ts","../../../src/internal/observable/range.ts","../../../src/internal/observable/timer.ts","../../../src/internal/observable/using.ts","../../../src/internal/observable/zip.ts","../src/index.ts","../../../src/internal/operators/audit.ts","../../../src/internal/operators/auditTime.ts","../../../src/internal/operators/buffer.ts","../../../src/internal/operators/bufferCount.ts","../../../src/internal/operators/bufferTime.ts","../../../src/internal/operators/bufferToggle.ts","../../../src/internal/operators/bufferWhen.ts","../../../src/internal/operators/catchError.ts","../../../src/internal/operators/combineAll.ts","../../../src/internal/operators/combineLatest.ts","../../../src/internal/operators/concat.ts","../../../src/internal/operators/concatMap.ts","../../../src/internal/operators/concatMapTo.ts","../../../src/internal/operators/count.ts","../../../src/internal/operators/debounce.ts","../../../src/internal/operators/debounceTime.ts","../../../src/internal/operators/defaultIfEmpty.ts","../../../src/internal/util/isDate.ts","../../../src/internal/operators/delay.ts","../../../src/internal/operators/delayWhen.ts","../../../src/internal/operators/dematerialize.ts","../../../src/internal/operators/distinct.ts","../../../src/internal/operators/distinctUntilChanged.ts","../../../src/internal/operators/distinctUntilKeyChanged.ts","../../../src/internal/operators/throwIfEmpty.ts","../../../src/internal/operators/take.ts","../../../src/internal/operators/elementAt.ts","../../../src/internal/operators/endWith.ts","../../../src/internal/operators/every.ts","../../../src/internal/operators/exhaust.ts","../../../src/internal/operators/exhaustMap.ts","../../../src/internal/operators/expand.ts","../../../src/internal/operators/finalize.ts","../../../src/internal/operators/find.ts","../../../src/internal/operators/findIndex.ts","../../../src/internal/operators/first.ts","../../../src/internal/operators/ignoreElements.ts","../../../src/internal/operators/isEmpty.ts","../../../src/internal/operators/takeLast.ts","../../../src/internal/operators/last.ts","../../../src/internal/operators/mapTo.ts","../../../src/internal/operators/materialize.ts","../../../src/internal/operators/scan.ts","../../../src/internal/operators/reduce.ts","../../../src/internal/operators/max.ts","../../../src/internal/operators/merge.ts","../../../src/internal/operators/mergeMapTo.ts","../../../src/internal/operators/mergeScan.ts","../../../src/internal/operators/min.ts","../../../src/internal/operators/multicast.ts","../../../src/internal/operators/onErrorResumeNext.ts","../../../src/internal/operators/pairwise.ts","../../../src/internal/operators/partition.ts","../../../src/internal/operators/pluck.ts","../../../src/internal/operators/publish.ts","../../../src/internal/operators/publishBehavior.ts","../../../src/internal/operators/publishLast.ts","../../../src/internal/operators/publishReplay.ts","../../../src/internal/operators/race.ts","../../../src/internal/operators/repeat.ts","../../../src/internal/operators/repeatWhen.ts","../../../src/internal/operators/retry.ts","../../../src/internal/operators/retryWhen.ts","../../../src/internal/operators/sample.ts","../../../src/internal/operators/sampleTime.ts","../../../src/internal/operators/sequenceEqual.ts","../../../src/internal/operators/share.ts","../../../src/internal/operators/shareReplay.ts","../../../src/internal/operators/single.ts","../../../src/internal/operators/skip.ts","../../../src/internal/operators/skipLast.ts","../../../src/internal/operators/skipUntil.ts","../../../src/internal/operators/skipWhile.ts","../../../src/internal/operators/startWith.ts","../../../src/internal/observable/SubscribeOnObservable.ts","../../../src/internal/operators/subscribeOn.ts","../../../src/internal/operators/switchMap.ts","../../../src/internal/operators/switchAll.ts","../../../src/internal/operators/switchMapTo.ts","../../../src/internal/operators/takeUntil.ts","../../../src/internal/operators/takeWhile.ts","../../../src/internal/operators/tap.ts","../../../src/internal/operators/throttle.ts","../../../src/internal/operators/throttleTime.ts","../../../src/internal/operators/timeInterval.ts","../../../src/internal/operators/timeoutWith.ts","../../../src/internal/operators/timeout.ts","../../../src/internal/operators/timestamp.ts","../../../src/internal/operators/toArray.ts","../../../src/internal/operators/window.ts","../../../src/internal/operators/windowCount.ts","../../../src/internal/operators/windowTime.ts","../../../src/internal/operators/windowToggle.ts","../../../src/internal/operators/windowWhen.ts","../../../src/internal/operators/withLatestFrom.ts","../../../src/internal/operators/zip.ts","../../../src/internal/operators/zipAll.ts","../../src/operators/index.ts","../node_modules/rxdb/dist/es/rx-change-event.js","../node_modules/rxdb/dist/es/rx-document.js","../node_modules/rxdb/dist/es/rx-schema.js","../node_modules/rxdb/dist/es/crypter.js","../node_modules/rxdb/dist/es/mquery/mquery_utils.js","../node_modules/rxdb/dist/es/mquery/mquery.js","../node_modules/rxdb/dist/es/rx-document-prototype-merge.js","../node_modules/rxdb/dist/es/rx-query.js","../node_modules/pouchdb-merge/lib/index.es.js","../node_modules/pouchdb-core/node_modules/inherits/inherits_browser.js","../node_modules/pouchdb-fetch/lib/index-browser.es.js","../node_modules/pouchdb-changes-filter/lib/index-browser.es.js","../node_modules/pouchdb-core/lib/index.es.js","../node_modules/pouchdb-find/node_modules/pouchdb-collections/lib/index.es.js","../node_modules/pouchdb-find/node_modules/inherits/inherits_browser.js","../node_modules/pouchdb-find/node_modules/pouchdb-errors/lib/index.es.js","../node_modules/pouchdb-find/node_modules/uuid/lib/rng-browser.js","../node_modules/pouchdb-find/node_modules/uuid/lib/bytesToUuid.js","../node_modules/pouchdb-find/node_modules/uuid/v1.js","../node_modules/pouchdb-find/node_modules/uuid/v4.js","../node_modules/pouchdb-find/node_modules/uuid/index.js","../node_modules/pouchdb-find/node_modules/pouchdb-binary-utils/lib/index-browser.es.js","../node_modules/pouchdb-find/node_modules/pouchdb-md5/lib/index-browser.es.js","../node_modules/pouchdb-find/node_modules/pouchdb-utils/lib/index-browser.es.js","../node_modules/pouchdb-find/node_modules/pouchdb-fetch/lib/index-browser.es.js","../node_modules/pouchdb-find/node_modules/pouchdb-collate/lib/index.es.js","../node_modules/pouchdb-find/node_modules/pouchdb-selector-core/lib/index.es.js","../node_modules/pouchdb-abstract-mapreduce/node_modules/pouchdb-collections/lib/index.es.js","../node_modules/pouchdb-abstract-mapreduce/node_modules/inherits/inherits_browser.js","../node_modules/pouchdb-abstract-mapreduce/node_modules/pouchdb-errors/lib/index.es.js","../node_modules/pouchdb-abstract-mapreduce/node_modules/uuid/lib/rng-browser.js","../node_modules/pouchdb-abstract-mapreduce/node_modules/uuid/lib/bytesToUuid.js","../node_modules/pouchdb-abstract-mapreduce/node_modules/uuid/v1.js","../node_modules/pouchdb-abstract-mapreduce/node_modules/uuid/v4.js","../node_modules/pouchdb-abstract-mapreduce/node_modules/uuid/index.js","../node_modules/pouchdb-abstract-mapreduce/node_modules/pouchdb-binary-utils/lib/index-browser.es.js","../node_modules/pouchdb-abstract-mapreduce/node_modules/pouchdb-md5/lib/index-browser.es.js","../node_modules/pouchdb-abstract-mapreduce/node_modules/pouchdb-utils/lib/index-browser.es.js","../node_modules/pouchdb-abstract-mapreduce/node_modules/pouchdb-collate/lib/index.es.js","../node_modules/pouchdb-abstract-mapreduce/node_modules/pouchdb-fetch/lib/index-browser.es.js","../node_modules/pouchdb-mapreduce-utils/node_modules/inherits/inherits_browser.js","../node_modules/pouchdb-mapreduce-utils/node_modules/pouchdb-collections/lib/index.es.js","../node_modules/pouchdb-mapreduce-utils/node_modules/pouchdb-errors/lib/index.es.js","../node_modules/pouchdb-mapreduce-utils/node_modules/uuid/lib/rng-browser.js","../node_modules/pouchdb-mapreduce-utils/node_modules/uuid/lib/bytesToUuid.js","../node_modules/pouchdb-mapreduce-utils/node_modules/uuid/v1.js","../node_modules/pouchdb-mapreduce-utils/node_modules/uuid/v4.js","../node_modules/pouchdb-mapreduce-utils/node_modules/uuid/index.js","../node_modules/pouchdb-mapreduce-utils/node_modules/pouchdb-binary-utils/lib/index-browser.es.js","../node_modules/pouchdb-mapreduce-utils/node_modules/pouchdb-md5/lib/index-browser.es.js","../node_modules/pouchdb-mapreduce-utils/node_modules/pouchdb-utils/lib/index-browser.es.js","../node_modules/pouchdb-mapreduce-utils/lib/index.es.js","../node_modules/pouchdb-abstract-mapreduce/lib/index.es.js","../node_modules/pouchdb-find/lib/index-browser.es.js","../node_modules/rxdb/dist/es/pouch-db.js","../node_modules/rxdb/dist/es/rx-collection-helper.js","../node_modules/rxdb/dist/es/data-migrator.js","../node_modules/rxdb/dist/es/doc-cache.js","../node_modules/rxdb/dist/es/query-cache.js","../node_modules/rxdb/dist/es/change-event-buffer.js","../node_modules/rxdb/dist/es/rx-collection.js","../node_modules/custom-idle-queue/dist/es/index.js","../node_modules/broadcast-channel/dist/es/util.js","../node_modules/broadcast-channel/dist/es/methods/native.js","../node_modules/broadcast-channel/dist/es/oblivious-set.js","../node_modules/broadcast-channel/dist/es/options.js","../node_modules/broadcast-channel/dist/es/methods/indexed-db.js","../node_modules/broadcast-channel/dist/es/methods/localstorage.js","../node_modules/broadcast-channel/dist/es/methods/simulate.js","../node_modules/broadcast-channel/dist/es/method-chooser.js","../node_modules/broadcast-channel/dist/es/index.js","../node_modules/rxdb/dist/es/rx-database.js","../node_modules/rxdb/dist/es/plugin.js","../node_modules/rxdb/dist/es/core.js","../node_modules/rxdb/dist/es/plugins/schema-check.js","../node_modules/rxdb/dist/es/plugins/error-messages.js","../node_modules/is-property/is-property.js","../node_modules/generate-object-property/index.js","../node_modules/node-libs-browser/node_modules/util/support/isBufferBrowser.js","../node_modules/node-libs-browser/node_modules/util/node_modules/inherits/inherits_browser.js","../node_modules/node-libs-browser/node_modules/util/util.js","../node_modules/generate-function/index.js","../node_modules/jsonpointer/jsonpointer.js","../node_modules/xtend/immutable.js","../node_modules/is-my-ip-valid/index.js","../node_modules/is-my-json-valid/formats.js","../node_modules/is-my-json-valid/index.js","../node_modules/rxdb/dist/es/plugins/validate.js","../node_modules/rxdb/dist/es/plugins/key-compression.js","../node_modules/detect-node/browser.js","../node_modules/unload/dist/es/browser.js","../node_modules/unload/dist/es/index.js","../node_modules/broadcast-channel/dist/es/leader-election/index.js","../node_modules/rxdb/dist/es/plugins/leader-election.js","../node_modules/crypto-js/core.js","../node_modules/crypto-js/enc-base64.js","../node_modules/crypto-js/md5.js","../node_modules/crypto-js/sha1.js","../node_modules/crypto-js/hmac.js","../node_modules/crypto-js/evpkdf.js","../node_modules/crypto-js/cipher-core.js","../node_modules/crypto-js/aes.js","../node_modules/crypto-js/enc-utf8.js","../node_modules/rxdb/dist/es/plugins/encryption.js","../node_modules/modifyjs/dist/bundle.js","../node_modules/rxdb/dist/es/plugins/update.js","../node_modules/rxdb/dist/es/plugins/watch-for-changes.js","../node_modules/pouchdb-checkpointer/lib/index.es.js","../node_modules/pouchdb-generate-replication-id/lib/index.es.js","../node_modules/pouchdb-replication/node_modules/inherits/inherits_browser.js","../node_modules/pouchdb-replication/lib/index.es.js","../node_modules/rxdb/dist/es/plugins/replication.js","../node_modules/rxdb/dist/es/plugins/adapter-check.js","../node_modules/rxdb/dist/es/plugins/json-dump.js","../node_modules/rxdb/node_modules/@babel/runtime/helpers/assertThisInitialized.js","../node_modules/rxdb/dist/es/plugins/in-memory.js","../node_modules/rxdb/dist/es/plugins/attachments.js","../node_modules/rxdb/dist/es/plugins/local-documents.js","../node_modules/rxdb/dist/es/types/rx-query.js","../node_modules/rxdb/dist/es/types/index.js","../node_modules/rxdb/dist/es/index.js","../node_modules/pouchdb-adapter-utils/lib/index.es.js","../node_modules/vuvuzela/index.js","../node_modules/pouchdb-json/lib/index.es.js","../node_modules/pouchdb-adapter-idb/lib/index.es.js","../node_modules/deferred-leveldown/node_modules/abstract-leveldown/abstract-iterator.js","../node_modules/deferred-leveldown/node_modules/abstract-leveldown/abstract-chained-batch.js","../node_modules/deferred-leveldown/node_modules/abstract-leveldown/abstract-leveldown.js","../node_modules/deferred-leveldown/node_modules/abstract-leveldown/index.js","../node_modules/inherits/inherits_browser.js","../node_modules/deferred-leveldown/deferred-iterator.js","../node_modules/deferred-leveldown/deferred-leveldown.js","../node_modules/level-iterator-stream/node_modules/readable-stream/lib/internal/streams/stream-browser.js","../node_modules/level-iterator-stream/node_modules/readable-stream/lib/internal/streams/buffer_list.js","../node_modules/level-iterator-stream/node_modules/readable-stream/lib/internal/streams/destroy.js","../node_modules/level-iterator-stream/node_modules/readable-stream/errors-browser.js","../node_modules/level-iterator-stream/node_modules/readable-stream/lib/internal/streams/state.js","../node_modules/level-iterator-stream/node_modules/readable-stream/experimentalWarning.js","../node_modules/util-deprecate/browser.js","../node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_writable.js","../node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_duplex.js","../node_modules/safe-buffer/index.js","../node_modules/level-iterator-stream/node_modules/string_decoder/lib/string_decoder.js","../node_modules/level-iterator-stream/node_modules/readable-stream/lib/internal/streams/end-of-stream.js","../node_modules/level-iterator-stream/node_modules/readable-stream/lib/internal/streams/async_iterator.js","../node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_readable.js","../node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_transform.js","../node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_passthrough.js","../node_modules/level-iterator-stream/node_modules/readable-stream/lib/internal/streams/pipeline.js","../node_modules/level-iterator-stream/node_modules/readable-stream/readable-browser.js","../node_modules/level-iterator-stream/index.js","../node_modules/prr/prr.js","../node_modules/errno/custom.js","../node_modules/errno/errno.js","../node_modules/level-errors/errors.js","../node_modules/levelup/lib/promisify.js","../node_modules/levelup/lib/common.js","../node_modules/levelup/lib/batch.js","../node_modules/object-assign/index.js","../node_modules/assert/node_modules/util/support/isBufferBrowser.js","../node_modules/assert/node_modules/inherits/inherits_browser.js","../node_modules/assert/node_modules/util/util.js","../node_modules/assert/assert.js","../node_modules/levelup/lib/levelup.js","../node_modules/ltgt/index.js","../node_modules/level-codec/lib/encodings.js","../node_modules/level-codec/index.js","../node_modules/process-nextick-args/index.js","../node_modules/stream-browserify/node_modules/isarray/index.js","../node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/stream-browser.js","../node_modules/stream-browserify/node_modules/safe-buffer/index.js","../node_modules/core-util-is/lib/util.js","../node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/BufferList.js","../node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/destroy.js","../node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_writable.js","../node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_duplex.js","../node_modules/stream-browserify/node_modules/string_decoder/lib/string_decoder.js","../node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_readable.js","../node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_transform.js","../node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_passthrough.js","../node_modules/stream-browserify/node_modules/readable-stream/readable-browser.js","../node_modules/stream-browserify/node_modules/readable-stream/writable-browser.js","../node_modules/stream-browserify/node_modules/readable-stream/duplex-browser.js","../node_modules/stream-browserify/node_modules/readable-stream/transform.js","../node_modules/stream-browserify/node_modules/readable-stream/passthrough.js","../node_modules/stream-browserify/index.js","../node_modules/isarray/index.js","../node_modules/sublevel-pouchdb/node_modules/inherits/inherits_browser.js","../node_modules/string_decoder/index.js","../node_modules/sublevel-pouchdb/node_modules/readable-stream/lib/_stream_readable.js","../node_modules/sublevel-pouchdb/node_modules/readable-stream/lib/_stream_duplex.js","../node_modules/sublevel-pouchdb/node_modules/readable-stream/lib/_stream_writable.js","../node_modules/sublevel-pouchdb/node_modules/readable-stream/lib/_stream_transform.js","../node_modules/sublevel-pouchdb/node_modules/readable-stream/lib/_stream_passthrough.js","../node_modules/sublevel-pouchdb/node_modules/readable-stream/readable.js","../node_modules/sublevel-pouchdb/lib/index.es.js","../node_modules/pouchdb-adapter-leveldb-core/node_modules/readable-stream/lib/internal/streams/stream-browser.js","../node_modules/pouchdb-adapter-leveldb-core/node_modules/readable-stream/lib/internal/streams/buffer_list.js","../node_modules/pouchdb-adapter-leveldb-core/node_modules/readable-stream/lib/internal/streams/destroy.js","../node_modules/pouchdb-adapter-leveldb-core/node_modules/readable-stream/errors-browser.js","../node_modules/pouchdb-adapter-leveldb-core/node_modules/readable-stream/lib/internal/streams/state.js","../node_modules/pouchdb-adapter-leveldb-core/node_modules/readable-stream/experimentalWarning.js","../node_modules/pouchdb-adapter-leveldb-core/node_modules/readable-stream/lib/_stream_writable.js","../node_modules/pouchdb-adapter-leveldb-core/node_modules/readable-stream/lib/_stream_duplex.js","../node_modules/pouchdb-adapter-leveldb-core/node_modules/string_decoder/lib/string_decoder.js","../node_modules/pouchdb-adapter-leveldb-core/node_modules/readable-stream/lib/internal/streams/end-of-stream.js","../node_modules/pouchdb-adapter-leveldb-core/node_modules/readable-stream/lib/internal/streams/async_iterator.js","../node_modules/pouchdb-adapter-leveldb-core/node_modules/readable-stream/lib/_stream_readable.js","../node_modules/pouchdb-adapter-leveldb-core/node_modules/readable-stream/lib/_stream_transform.js","../node_modules/pouchdb-adapter-leveldb-core/node_modules/readable-stream/lib/_stream_passthrough.js","../node_modules/pouchdb-adapter-leveldb-core/node_modules/readable-stream/lib/internal/streams/pipeline.js","../node_modules/pouchdb-adapter-leveldb-core/node_modules/readable-stream/readable-browser.js","../node_modules/pouchdb-adapter-leveldb-core/node_modules/through2/through2.js","../node_modules/double-ended-queue/js/deque.js","../node_modules/buffer-from/index.js","../node_modules/pouchdb-adapter-leveldb-core/lib/index-browser.es.js","../node_modules/pouchdb-adapter-memory/node_modules/abstract-leveldown/abstract-iterator.js","../node_modules/pouchdb-adapter-memory/node_modules/abstract-leveldown/abstract-chained-batch.js","../node_modules/pouchdb-adapter-memory/node_modules/abstract-leveldown/abstract-leveldown.js","../node_modules/pouchdb-adapter-memory/node_modules/abstract-leveldown/is-leveldown.js","../node_modules/pouchdb-adapter-memory/node_modules/abstract-leveldown/index.js","../node_modules/pouchdb-adapter-memory/node_modules/ltgt/index.js","../node_modules/functional-red-black-tree/rbtree.js","../node_modules/pouchdb-adapter-memory/node_modules/immediate/lib/nextTick.js","../node_modules/pouchdb-adapter-memory/node_modules/immediate/lib/mutation.js","../node_modules/pouchdb-adapter-memory/node_modules/immediate/lib/messageChannel.js","../node_modules/pouchdb-adapter-memory/node_modules/immediate/lib/stateChange.js","../node_modules/pouchdb-adapter-memory/node_modules/immediate/lib/timeout.js","../node_modules/pouchdb-adapter-memory/node_modules/immediate/lib/index.js","../node_modules/pouchdb-adapter-memory/node_modules/memdown/immediate-browser.js","../node_modules/pouchdb-adapter-memory/node_modules/memdown/memdown.js","../node_modules/pouchdb-adapter-memory/lib/index.es.js","visicraft_client_options.ts","visicraft_client.ts","visicraft-lib.ts"],"names":["mangle","key","unmangle","substring","Map$1","_store","Set$1","array","Array","isArray","i","len","length","add","supportsMapAndSet","Symbol","Map","Set","prop","Object","getOwnPropertyDescriptor","species","ExportedSet","ExportedMap","prototype","get","mangled","set","value","has","delete","res","forEach","cb","keys","defineProperty","size","PouchError","status","error","reason","Error","call","name","message","toString","JSON","stringify","UNAUTHORIZED","MISSING_BULK_DOCS","MISSING_DOC","REV_CONFLICT","INVALID_ID","MISSING_ID","RESERVED_ID","NOT_OPEN","UNKNOWN_ERROR","BAD_ARG","INVALID_REQUEST","QUERY_PARSE_ERROR","DOC_VALIDATION","BAD_REQUEST","NOT_AN_OBJECT","DB_MISSING","IDB_ERROR","WSQ_ERROR","LDB_ERROR","FORBIDDEN","INVALID_REV","FILE_EXISTS","MISSING_STUB","INVALID_URL","createError","CustomPouchError","p","undefined","generateErrorFromResponse","err","data","ReflectOwnKeys","R","Reflect","ReflectApply","apply","target","receiver","args","Function","ProcessEmitWarning","warning","console","warn","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","concat","NumberIsNaN","Number","isNaN","EventEmitter","init","module","exports","_events","_eventsCount","_maxListeners","defaultMaxListeners","$getMaxListeners","that","_addListener","type","listener","prepend","m","events","existing","TypeError","create","newListener","emit","unshift","push","warned","w","String","emitter","count","onceWrapper","arguments","fired","removeListener","wrapFn","_onceWrap","state","wrapped","bind","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","listenerCount","arr","n","copy","spliceOne","list","index","pop","ret","enumerable","arg","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","er","context","handler","listeners","addListener","on","prependListener","once","prependOnceListener","position","originalListener","shift","off","removeAllListeners","rawListeners","eventNames","thisAtob","str","atob","thisBtoa","btoa","createBlob","parts","properties","Blob","e","Builder","builder","BlobBuilder","MSBlobBuilder","MozBlobBuilder","WebKitBlobBuilder","append","getBlob","binaryStringToArrayBuffer","bin","buf","ArrayBuffer","Uint8Array","charCodeAt","binStringToBluffer","binString","b64ToBluffer","b64","arrayBufferToBinaryString","buffer","binary","bytes","byteLength","fromCharCode","readAsBinaryString","blob","callback","reader","FileReader","hasBinaryString","onloadend","result","readAsArrayBuffer","blobToBinaryString","blobOrBuffer","blobToBase64","base64","typedBuffer","setImmediateShim","global","setImmediate","setTimeout","MD5_CHUNK_SIZE","rawToBase64","raw","sliceBlob","start","end","webkitSlice","slice","appendBlob","arrayBuffer","appendString","string","appendBinary","binaryMd5","inputIsString","chunkSize","Math","min","chunks","ceil","currentChunk","Md5","next","loadNextChunk","done","destroy","stringMd5","hash","isBinaryObject","object","cloneArrayBuffer","buff","targetArray","sourceArray","cloneBinaryObject","funcToString","objectCtorString","isPlainObject","proto","Ctor","constructor","clone","newObject","Date","toISOString","hasOwnProperty","fun","called","toPromise","func","self","usedCB","promise","Promise","fulfill","reject","resp","mesg","then","logApiCall","logArgs","origCallback","responseArgs","adapterFun","_closed","_destroyed","taskqueue","isReady","addTask","failed","pick","obj","hasLocal","assign","MAX_NUM_CONCURRENT_REQUESTS","identityFunction","x","formatResultForOpenRevsGet","ok","bulkGet","db","opts","requests","docs","requestsById","request","id","numDocs","numDone","perDocResults","checkDone","collapseResultsAndFinish","results","info","allRequests","nextBatch","upTo","batch","processBatch","offset","docId","j","docIdx","docRequests","docOpts","open_revs","map","rev","filter","formatResult","param","localStorage","setItem","getItem","hasLocalStorage","attachBrowserEvents","addEventListener","Changes","guardedConsole","method","randomNumber","max","parseInt","maxTimeout","random","defaultBackOff","explainError","dbName","inprogress","eventFunction","changesOpts","changes","c","seq","since","cancelled","onChange","onError","notifyLocalWindows","notify","assign$1","to","nextSource","nextKey","tryFilter","doc","req","msg","filterChange","hasFilter","query","query_params","change","filterReturn","include_docs","attachments","att","_attachments","stub","flatten","arrs","f","hasName","res$1","match","invalidIdError","test","isRemote","_remote","ee","parseDesignDocFunctionName","s","split","normalizeDesignDocFunctionName","normalized","join","qName","qParser","parser","parseUri","exec","uri","encoded","indexOf","decodeURIComponent","replace","$0","$1","$2","scopeEval","source","scope","values","upsert","diffFun","docRev","_rev","newDoc","updated","_id","tryAndPut","put","deterministic_revs","clonedDoc","_rev_tree","uuidV4","v4","toLowerCase","uuid","pad","padWith","upToLength","padding","targetLength","padLeft","MIN_MAGNITUDE","MAGNITUDE_DIGITS","SEP","collate","a","b","normalizeKey","ai","collationIndex","bi","stringCollate","arrayCollate","objectCollate","Infinity","origKey","toJSON","k","val","indexify","numToIndexableString","toIndexableString","objKey","parseNumber","originalIdx","num","zero","neg","numAsString","magAsString","magnitude","ch","parseFloat","stack","metaStack","lastMetaElement","element","lastElementIndex","parseIndexableString","parsedNum","parsedStr","arrayElement","objElement","sort","ak","bk","idx","expFormat","toExponential","magString","factor","abs","factorStr","toFixed","getFieldFromDoc","parsedField","setFieldInDoc","compare","left","right","parseField","fieldName","fields","current","combinationFields","isCombinationalField","field","getKey","getValue","mergeAndedSelectors","selectors","selector","matcher","$eq","fieldMatchers","operator","mergeGtGte","mergeLtLte","mergeNe","mergeEq","$gte","$gt","$lte","$lt","$ne","mergeAndedSelectorsNested","isAndInSelector","isAnd","massageSelector","input","wasAnded","orOrNor","subSelector","createFieldSorter","getFieldValuesAsArray","sorting","docFieldValue","aRow","bRow","aFieldValues","bFieldValues","collation","filterInMemoryFields","rows","requestDef","inMemoryFields","row","rowFilter","fieldSorter","reverse","skip","limit","every","matchCominationalSelector","matchSelector","userOperator","userValue","some","orMatchers","find","matchers","fieldExists","fieldIsNotUndefined","modField","divisor","mod","arrayContainsValue","arrayContainsAllValues","arraySize","regexMatch","re","RegExp","typeMatch","neValue","matchesSelector","rowsMatched","root","factory","define","amd","objectPath","toStr","isEmpty","intKey","options","reduce","proxy","hasShallowProperty","includeInheritedProps","getShallowProperty","path","doNotReplace","currentPath","currentValue","ensureExists","insert","at","splice","empty","isBoolean","isObject","coalesce","paths","defaultValue","nextObj","del","withInheritedProps","DEBUG","QueryChangeDetector","primaryKey","collection","schema","primaryPath","_proto","runChangeDetection","changeEvents","_this","database","queryChangeDetection","resultsData","_resultsData","changed","found","changeEvent","handleSingleChange","_this2","docData","v","wasDocInResults","_isDocInResultData","doesMatchNow","doesDocumentDataMatch","isFilled","limitAndFilled","log","_debugMessage","dir","_sortAfter","_sortBefore","__sortFieldChanged","op","_isSortedBefore","wasDoc","sortFieldChanged","docBefore","_sortFieldChanged","_resortDocData","sorted","queryChangeDetector","changeEventData","title","sortOptions","_getSortOptions","swapPrimaryToId","sortedDocs","swapIdToPrimary","docDataLeft","docDataRight","swappedLeft","sortedRows","docDataBefore","docDataAfter","sortFields","sortObj","beforeData","_sortOptions","resultData","enableDebugging","isArgs","callee","keysShim","require","isEnumerable","propertyIsEnumerable","hasDontEnumBug","hasProtoEnumBug","dontEnums","equalsConstructorPrototype","o","ctor","excludedKeys","$applicationCache","$console","$external","$frame","$frameElement","$frames","$innerHeight","$innerWidth","$onmozfullscreenchange","$onmozfullscreenerror","$outerHeight","$outerWidth","$pageXOffset","$pageYOffset","$parent","$scrollLeft","$scrollTop","$scrollX","$scrollY","$self","$webkitIndexedDB","$webkitStorageInfo","$window","hasAutomationEqualityBug","window","equalsConstructorPrototypeIfNotBuggy","isFunction","isArguments","isString","theKeys","skipProto","skipConstructor","origKeys","originalKeys","shim","hasToStringTag","toStringTag","isStandardArguments","isLegacyArguments","supportsStandardArguments","regexExec","gOPD","tryRegexExecCall","lastIndex","regexClass","descriptor","hasSymbols","origDefineProperty","fn","arePropertyDescriptorsSupported","_","supportsDescriptors","predicate","configurable","writable","defineProperties","predicates","props","toObject","TypeErr","ignoreCase","multiline","dotAll","unicode","sticky","implementation","flags","getPolyfill","getProto","regex","polyfill","flagsBound","getDay","tryDateObject","dateClass","_instanceof","nativeMap","nativeSet","nativePromise","parent","circular","depth","includeNonEnumerable","allParents","allChildren","useBuffer","Buffer","_clone","child","resolve","__isArray","__isRegExp","__getRegExpFlags","__isDate","getTime","isBuffer","allocUnsafe","keyChild","valueChild","entryChild","attrs","symbols","symbol","allPropertyNames","propertyName","__objToStr","clonePrototype","cachedSetTimeout","cachedClearTimeout","process","defaultSetTimout","defaultClearTimeout","runTimeout","runClearTimeout","marker","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","Item","noop","nextTick","env","argv","version","versions","binding","cwd","chdir","umask","pluginMissing","pluginKey","ucfirst","fastUnsecureHash","hashValue","generateId","promiseWait","ms","maybePromise","requestIdlePromise","promiseSeries","tasks","initial","requestIdleCallbackIfAvailable","charAt","toUpperCase","substr","base58Chars","base58Length","numberToLetter","nr","digits","floor","d","trimDots","sortObject","noArraySort","localeCompare","out","stringifyFilter","randomCouchString","text","possible","shuffleArray","adapterObject","adapter","adapterObj","recursiveDeepCopy","isElectronRenderer","flattenObject","ob","toReturn","flatObject","getHeightOfRevision","revString","first","LOCAL_PREFIX","funs","validatePassword","_password","createKeyCompressor","_rxSchema","createLeaderElector","_database","checkAdapter","_adapter","tunnelErrorMessage","parametersToString","parameters","paramStr","_k","messageForError","RxError","_Error","code","mes","rxdb","RxTypeError","_TypeError","newRxError","overwritable","newRxTypeError","HOOKS","createRxDatabase","preCreateRxCollection","createRxCollection","preCreateRxSchema","createRxSchema","createRxQuery","createRxDocument","postCreateRxDocument","preCreatePouchDb","preMigrateDocument","postMigrateDocument","preDestroyRxDatabase","runPluginHooks","hookKey","runAsyncPluginHooks","all","clearHook","h","extendStatics","setPrototypeOf","__proto__","__extends","__","__assign","t","__rest","__decorate","decorators","desc","r","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","rejected","__generator","body","y","g","label","sent","trys","ops","verb","iterator","__exportStar","__values","__read","ar","__spread","__spreadArrays","il","jl","__await","__asyncGenerator","asyncIterator","q","resume","settle","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","__importStar","__esModule","default","__importDefault","RxChangeEvent","_hash","col","it","isLocal","isIntern","isSocket","changeEventfromJSON","changeEventfromPouchChange","changeDoc","startsWith","_deleted","_handleFromPouch","token","createChangeEvent","primary","isInstanceOf","basePrototype","_data","isInstanceOfRxDocument","_dataSync$","revision","deleted$","_deleted$","asObservable","deleted","$","_handleChangeEvent","newRevNr","currentRevNr","newData","_docCache","$emit","get$","includes","finalFields","getSchemaByObjectPath","pipe","populate","schemaObj","ref","refCollection","collections","findOne","objPath","valueObj","defineGetterSetter","withRevAndAttachments","_isTemporary","is","pathEls","rootPath","childpath","update","_updateObj","putAttachment","getAttachment","allAttachments","allAttachments$","atomicUpdate","_atomicQueue","oldData","retPromise","_saveData","atomicSet","_this3","document","validateChange","_runHooks","validate","_pouchPut","save","_this4","remove","_this5","deletedData","createRxDocumentConstructor","jsonData","BehaviorSubject","_properties","pseudoConstructor","pseudoRxDocument","thisObj","pathProperties","fullPath","__defineGetter__","__defineSetter__","createWithConstructor","reserved","ownProperties","prototypeProperties","RxSchema","jsonID","compoundIndexes","indexes","getIndexes","getPrimary","required","getFinalFields","elem","pos","minLength","usePath","dataBefore","dataAfter","_obj","_schemaPath","fillObjectWithDefaults","entries","defaultValues","_ref","_ref2","entry","newKey","doKeyCompression","keyCompression","getDocumentPrototype","_getDocumentPrototype","_crypt","hasCrypt","_normalized","normalize","_defaultValues","_ref3","_ref4","_encryptedPaths","getEncryptedPaths","jsonSchema","traverse","currentObj","encrypted","attributeName","nextPath","flattened","splitted","addCompound","getPreviousVersions","fill","fillWithDefaultSettings","additionalProperties","Crypter","password","_encryptValue","_value","_decryptValue","encrypt","encryptedPaths","decrypt","decrypted","merge","from","mergeClone","MQueryBase","criteria","_conditions","same","where","_path","_val","equals","_ensurePath","eq","or","$or","nor","$nor","and","$and","$mod","exists","$exists","elemMatch","_criteria","$elemMatch","_pushArr","_i","ascend","canMerge","_fields","_update","_distinct","createMQuery","$meta","valueStr","conds","$conditional","protoForCollection","WeakMap","constructorForCollection","rxCollection","schemaProto","ormProto","getDocumentOrmPrototype","baseProto","endsWith","getRxDocumentConstructor","cacheDoc","_runHooksSync","createRxDocuments","docsJSON","json","methods","_queryCount","newQueryID","RxQueryBase","queryObj","_latestChangeEvent","_resultsDocs$","_execOverDatabaseCount","_ensureEqualQueue","_queryChangeDetector","_getDefaultQuery","mquery","stringRep","stringObj","cloned","_setResultData","newResultData","_execOverDatabase","docsPromise","_pouchFind","_ensureEqual","_toJSON","primPath","sortArray","dirInt","pushMe","_ref5","keyCompress","_keyCompress","_keyCompressor","compressQuery","matches","params","clonedThis","_tunnelQueryCache","checkParam","_sortAddToIndex","amount","_$","results$","hasChanged","changeEvents$","docChanges$","_massageSelector","_ref6","rxQuery","_queryCache","getByQuery","protoMerge","rxQueryProto","mQueryProtoKeys","attrName","p1","protoMerged","_throwNotInSchema","gt","_isResultsInSync","_changeEventBuffer","counter","__ensureEqual","destroyed","mustReExec","missedChangeEvents","getFrom","runChangeEvents","reduceByLastOfDoc","changeResult","latestAfter","winningRev","node","winningId","winningPos","winningDeleted","toVisit","rev_tree","tree","ids","branches","traverseRevTree","revs","newCtx","ctx","sortByPos","collectLeaves","leaves","isLeaf","acc","collectConflicts","win","conflicts","leaf","compactTree","revHash","rootToLeaf","history","sortByPos$1","binarySearch","item","comparator","low","mid","high","insertSorted","pathToTree","numStemmed","currentLeaf","compareTree","mergeTree","in_tree1","in_tree2","tree1","tree2","merged","doMerge","dontExpand","restree","branch","t1","t2","diff","candidateParents","trees","parentIdx","elements","elementsLen","el","stem","stemmedRevs","stemmed","newTree","revExists","splitRev","targetPos","targetId","getTrees","isDeleted","isLocalId","latest","historyNode","historyRev","l","AbortController","abort","fetch","Headers","applyChangesFilterPlugin","evalFilter","evalView","filterName","view","shouldFilter","changesHandler","doc_ids","complete","viewName","ddoc","isCancelled","mapFun","views","doChanges","filterFun","filters","PouchDB","_changesFilterPlugin","tryCatchInChangeListener","pending","lastSeq","onDestroy","cancel","validateChanges","processChange","changeList","style","_conflicts","yankError","cleanDocs","atts","compareByIdThenRev","idCompare","_revisions","computeHeight","height","edges","prnt","rev$$1","edge","allDocsKeysParse","descending","doNextCompaction","task","_compactionQueue","catch","last_seq","_compact","attachmentNameError","AbstractPouchDB","TaskQueue","parseAdapter","adapters","preferredAdapters","prefix","adapterName","use_prefix","prepareForDestruction","onDestroyed","from_constructor","onClosed","__opts","auto_compaction","prefixedName","backend","valid","fail","ready","continuous","live","newPromise","_changes","update_seq","post","bulkDocs","_putLocal","_removeLocal","oldRevId","newRevNum","newRevId","putDoc","_put","new_edits","force","attachmentId","api","createAttachment","prevrevpos","content_type","revpos","removeAttachment","docOrId","optsOrRev","was_delete","revsDiff","missing","addToMissing","revId","_getRevisionTree","processDoc","missingForId","missingObj","compactDocument","maxHeight","revTree","candidates","_doCompaction","compact","return_docs","promises","onComplete","_getLocal","finishOpenRevs","_get","revs_info","splittedRev","revNo","hashIndex","indexOfRev","howMany","_revs_info","_getAttachment","allDocs","start_key","startkey","end_key","endkey","incompatibleOpt","_allDocs","close","_close","_info","db_name","_type","attachmentError","_bulkDocs","registerDependentDatabase","dependentDb","depDB","dependentDbs","usePrefix","destroyDb","_destroy","localDoc","deletedMap","trueName","execute","eventEmitter","setUpEventEmitter","Pouch","destructListeners","_destructionListeners","dbList","addToPreferredAdapters","plugin","__defaults","defaults","defaultOpts","PouchAlt","url","pouchChangesFilter","clone$1","QueryParseError","captureStackTrace","NotFoundError","BuiltInError","promisedCallback","callbackify","fin","finalPromiseFactory","sequentialize","promiseFactory","uniq","theSet","mapToKeysArray","createAbstractMapReduce","createViewSignature","reduceFun","createView","sourceDB","temporary","localDocName","viewSignature","cachedViews","_cachedViews","promiseForView","depDbName","diffFunction","fullViewName","depDbs","lastSeqDoc","finish","persistentQueues","tempViewQueue","CHANGES_BATCH_SIZE","parseViewName","isGenOne","emitError","mapper","reducer","ddocValidator","tryMap","tryReduce","rereduce","output","sortByKeyThenValue","keyCompare","sliceResults","rowToDocId","postprocessAttachments","readAttachmentsAsBlobOrBuffer","filename","addHttpParam","paramName","asJson","encodeURIComponent","coerceInteger","integerCandidate","asNumber","checkQueryParseError","startkeyName","endkeyName","group","group_level","optionName","checkPositiveInteger","number","defaultsTo","getDocsToPersist","docIdsToChangesAndEmits","metaDocId","defaultMetaDoc","indexableKeysToKeyValues","getMetaDoc","metaDoc","getKeyValueDocs","kvDocsRes","processKeyValueDocs","kvDocs","oldKeys","keyValue","newKeys","kvDoc","getQueue","updateView","updateViewInQueue","mapResults","currentSeq","saveKeyValues","docIds","listOfDocsToPersist","docsToPersist","processNextBatch","response","createDocIdsToChangesAndEmits","createIndexableKeysToKeyValues","lastKey","emittedKeyValue","complexKey","queryView","queryViewInQueue","totalRows","shouldReduce","fetchFromView","viewOpts","total_rows","expectedKeys","parsedKeyAndDocId","onMapResultsReady","finalResults","reduceView","shouldGroup","groups","lvl","POSITIVE_INFINITY","last","groupKey","reduceTry","allDocsRes","docIdsToDocs","fetchPromises","inclusiveEnd","inclusive_end","keyStart","keyEnd","queryPromised","_query","customQuery","httpQuery","MAX_URL_LENGTH","keysAsString","headers","createViewPromise","designDocName","stale","abstractQuery","coerceOptions","viewCleanup","_viewCleanup","customViewCleanup","httpViewCleanup","localViewCleanup","docsToViews","viewsToStatus","ddocName","viewDBNames","statusIsGood","viewDBName","dbsToDelete","destroyPromises","massageCreateIndexRequest","dbFetch","createIndex","explain","deleteIndex","indexDef","getArguments","subArr","mergeObjects","oneArrayIsSubArrayOfOther","oneArrayIsStrictSubArrayOfOther","oneSetIsSubArrayOfOther","leftIdx","arrayToObject","maxScore","score","arrayEquals","arr1","arr2","createDeepMultiMapper","toEmit","iLen","jLen","createDeepSingleMapper","createShallowSingleMapper","createShallowMultiMapper","checkShallow","createMapper","isShallow","isSingle","mapFunDef","abstractMapper","massageSort","massageUseIndex","useIndex","cleanedUseIndex","massageIndexDef","getKeyFromDoc","def","filterInclusiveStart","targetValue","indexFields","docKey","reverseOptions","newOpts","inclusive_start","validateIndex","ascFields","validateSort","defaultUsed","noneIdSorts","sortItem","validateFindRequest","getUserFields","selectorFields","userFields","MAX_VALUE","rightIdx","sortOrder","createIndex$1","originalIndexDef","md5","getMd5","ddocId","hasInvalidLanguage","viewExists","updateDdoc","language","signature","getIndexes$1","viewNames","COLLATE_LO","COLLATE_HI","checkFieldInIndex","userOperatorLosesPrecision","sortFieldsByIndex","aIdx","bIdx","getBasicInMemoryFields","needToFilterInMemory","getInMemoryFieldsFromNe","getInMemoryFields","coreInMemoryFields","checkIndexFieldsMatch","sortMatches","selectorMatches","logicalMatchers","isNonLogicalMatcher","checkFieldsLogicallySound","firstField","matcherKey","checkIndexMatches","findMatchingIndexes","findBestMatchingIndex","matchingIndexes","defaultIndex","userFieldsMap","useIndexDdoc","useIndexName","scoreIndex","indexField","getSingleFieldQueryOptsFor","getSingleFieldCoreQueryPlan","combinedOpts","newQueryOpts","queryOpts","getMultiFieldCoreQueryPlan","getMultiFieldQueryOpts","inclusiveStart","usingGtlt","previousKeys","previousWasEq","previousWasSame","gtltLostSpecificity","userOperators","getDefaultQueryPlan","getCoreQueryPlan","planQuery","userFieldsRes","use_index","coreQueryPlan","indexToSignature","doAllDocs","originalOpts","find$1","getIndexesRes","queryPlan","indexToUse","explain$1","dbname","range","bookmark","deleteIndex$1","deltaFun","createIndexAsCallback","findAsCallback","explainAsCallback","getIndexesAsCallback","deleteIndexAsCallback","countAllUndeleted","pouchdb","getBatch","isLevelDown","super_","validateCouchDBString","regStr","reg","givenName","pouchReplicationFunction","pouch","_ref$pull","pull","_ref$push","sync","replicate","PouchDBCore","PouchDBFind","_handleToPouch","_crypter","compress","noDecrypt","decompress","fillObjectDataBeforeInsert","useJson","DataMigrator","newestCollection","migrationStrategies","_migrated","currentSchema","migrate","batchSize","oldCols","total","handled","success","percent","observer","Subject","_getOldCollections","countAll","oldCol","totalCount","cur","prev","currentCol","currentPromise","_loop","migrationState$","migrateOldCollection","sub","subscribe","subState","round","unsubscribe","migratePromise","_migratePromise","mustMigrate","must","rej","createOldCollection","dataMigrator","_spawnPouchDB","pouchSettings","_collectionsPouch","oldColDocs","colDoc","createDataMigrator","_runStrategyIfNotNull","oldCollection","docOrNull","getBatchOfOldCollection","migrateDocumentData","nextVersion","_loop2","fromVersion","toVersion","finalDoc","_migrateDocument","action","migrated","deleteOldCollection","removeCollectionDoc","_migrate","handleOneBatch","DocCache","_map","createDocCache","QueryCache","subs","createQueryCache","ChangeEventBuffer","eventCounterMap","cE","getArrayIndexByPointer","pointer","oldestEvent","oldestCounter","currentIndex","nextEvent","runFrom","docEventMap","hasChangeWithRevision","createChangeEventBuffer","HOOKS_WHEN","HOOKS_KEYS","hooksApplied","RxCollectionBase","statics","_isInMemory","_atomicUpsertQueues","synced","hooks","_subs","_repStates","_dataMigrator","_applyHookFunctions","prepare","spawnedPouchPromise","createIndexesPromise","_prepareCreateIndexes","_observable$","event","migrationNeeded","overwrite","lockedRun","exist","pouchDbError","_pouchGet","compressedQueryJSON","docsCompressed","tempDoc","insertResult","emitEvent","bulkInsert","docsData","_this6","useDocs","useDocData","insertDocs","docsMap","okResults","rxDocuments","_this7","atomicUpsert","_this8","_atomicUpsertEnsureRxDocumentExists","wasInserted","inserted","_atomicUpsertUpdate","dump","importDump","_exportedJSON","watchForChanges","_syncOptions","syncGraphQL","inMemory","addHook","when","parallel","boundFun","runName","series","getHooks","instance","hook","newDocument","_onDestroyCall","removeCollection","__docChanges$","cEvent","_this9","_onDestroy","colProto","fnName","pseudoInstance","innerDoc","indexAr","compressedIdx","transformKey","_ref$pouchSettings","_ref$migrationStrateg","_ref$autoMigrate","autoMigrate","_ref$statics","_ref$methods","_ref$attachments","_ref$options","funName","topLevelFields","IdleQueue","parallels","_parallels","_qC","_iC","_lHN","_hPM","_pHM","_resolveOneIdleCall","idleQueue","_manRes","_tryIdleCall","_removeIdlePromise","_timeoutObj","handle","_tryIR","isIdle","lock","unlock","wrapCall","prom","timeoutObj","cancelIdlePromise","requestIdleCallback","cancelIdleCallback","clear","isPromise","sleep","time","randomInt","randomToken","lastMs","additional","microSeconds","isNode","micro","channelName","messagesCallback","bc","BroadcastChannel","subFns","onmessage","channelState","postMessage","messageJson","onMessage","canBeUsed","_pubkey","averageResponseTime","ObliviousSet","ttl","timeMap","now","_removeTooOldValues","olderThen","fillOptionsWithDefaults","parse","webWorkerSupport","idb","fallbackInterval","localstorage","removeTimeout","useFastPath","DB_PREFIX","OBJECT_STORE_ID","getIdb","indexedDB","mozIndexedDB","webkitIndexedDB","msIndexedDB","createDatabase","IndexedDB","openRequest","open","dbPromise","onupgradeneeded","ev","createObjectStore","keyPath","autoIncrement","onerror","onsuccess","writeMessage","readerUuid","writeObject","transaction","oncomplete","objectStore","getAllMessages","openCursor","cursor","getMessagesHigherThen","lastCursorId","keyRangeValue","IDBKeyRange","bound","removeMessageById","getOldMessages","msgObk","cleanOldMessages","tooOld","msgObj","closed","eMIs","writeBlockPromise","readQueuePromises","_readLoop","readNewMessages","_filterMessage","messagesCallbackTime","newerMessages","msgObjA","msgObjB","KEY_PREFIX","getLocalStorage","storageKey","writeObj","createEvent","initEvent","newValue","dispatchEvent","addStorageEventListener","removeStorageEventListener","removeEventListener","ls","removeItem","SIMULATE_CHANNELS","channel","METHODS","NativeMethod","IndexeDbMethod","LocalstorageMethod","NodeMethod","chooseMethod","SimulateMethod","chooseMethods","useMethod","ENFORCED_OPTIONS","_iL","_onML","_addEL","internal","_befC","_prepP","_prepareChannel","_post","broadcastChannel","awaitPrepare","_state","_hasMessageListeners","_addListenerObject","_startListening","_removeListenerObject","_stopListening","listenerFn","clearNodeFolder","enforceOptions","postInternal","listenObj","USED_COMBINATIONS","DB_COUNT","RxDatabaseBase","multiInstance","subject","observable$","_adminPouch","dangerousRemoveCollectionInfo","colPouch","docsRes","collectionName","schemaVersion","_spawnPouchDB2","waitForLeadership","leaderElector","writeToSocket","_collectionNamePrimary","internalPrimary","schemaHash","collectionDoc","oneDoc","previousSchemaHash","_removeAllOfCollection","knownVersions","pouches","_json","server","_options","_leaderElector","_removeUsedCombination","removeDatabase","isLeader","_isNameAdapterUsed","used","ad","link","_preparePasswordHash","rxDatabase","pwHash","pwHashDoc","passwordHash","existingPasswordHash","_ensureStorageTokenExists","storageTokenDoc2","socketDoc","sendOverChannel","st","storageToken","relevantDocs","_prepareBroadcastChannel","broadcastChannel$","_internalAdminPouch","_internalCollectionsPouch","_ref2$multiInstance","_ref2$queryChangeDete","_ref2$ignoreDuplicate","ignoreDuplicate","_ref2$options","_ref2$pouchSettings","leveldb","getPouchLocation","pouchSettingsFromRxDatabaseCreator","pouchDbParameters","location","settings","pouchDBOptions","revs_limit","databaseName","adminPouch","collectionsPouch","collectionsData","dbCount","PROTOTYPES","RxDocument","RxDocumentPrototype","RxQuery","RxCollection","RxDatabase","ADDED_PLUGINS","addPlugin","rxPlugin","prototypes","isRxDatabase","isRxCollection","isRxDocument","isRxQuery","isRxSchema","checkFieldNameRegex","regexStr","validateFieldsDeep","checkField","items","isNested","checkSchema","unique","checkOrmMethods","checkMigrationStrategies","previousVersions","have","should","vNr","strat","CODES","UT1","UT2","UT3","UT4","P1","QU1","QU2","QU3","QU4","QU5","QU6","QU7","QU8","MQ1","MQ2","MQ3","MQ4","MQ5","MQ6","MQ7","MQ8","DB1","DB2","DB3","DB4","DB5","DB6","DB7","DB8","DB9","DB10","COL1","COL2","COL3","COL4","COL5","COL6","COL7","COL8","COL9","COL10","COL11","COL12","COL13","COL14","COL15","COL16","COL17","COL18","COL19","DOC1","DOC2","DOC3","DOC4","DOC5","DOC6","DOC7","DOC8","DOC9","DOC10","DOC11","DOC12","DOC13","DOC14","DOC15","DOC16","DOC17","DM1","DM2","DM3","AT1","EN1","EN2","JD1","JD2","JD3","LD1","LD2","LD3","LD4","LD5","LD6","LD7","RC1","RC2","RC3","SC1","SC2","SC3","SC4","SC5","SC6","SC7","SC8","SC10","SC11","SC12","SC13","SC14","SC15","SC16","SC17","SC18","SC19","SC20","SC21","SC22","SC23","SC24","VD1","VD2","IM1","IM2","S1","QL1","getOwnPropertyDescriptors","descriptors","formatRegExp","format","objects","inspect","isNull","deprecate","noDeprecation","deprecated","throwDeprecation","traceDeprecation","trace","debugEnviron","debugs","seen","stylize","stylizeNoColor","formatValue","colors","showHidden","_extend","isUndefined","customInspect","stylizeWithColor","styleType","styles","arrayToHash","recurseTimes","primitive","formatPrimitive","visibleKeys","isError","formatError","isRegExp","isDate","base","braces","toUTCString","formatArray","formatProperty","reduceToSingleString","simple","isNumber","line","numLinesEst","isNullOrUndefined","isSymbol","objectToString","isPrimitive","debuglog","pid","months","timestamp","getHours","getMinutes","getSeconds","getDate","getMonth","inherits","origin","kCustomPromisifiedSymbol","callbackifyOnRejected","newReason","original","callbackified","maybeCb","promisify","promiseResolve","promiseReject","custom","hasExcape","escapeMatcher","escapeReplacer","untilde","setter","part","hasNextPart","oldValue","compilePointer","compile","compiled","extend","VALIDATOR_CACHE","_getValidator","rxSchema","validator","useValidator","isValid","errors","runAfterSchemaCreated","KeyCompressor","_compressObj","_decompressObj","reverseTable","replacedKey","prePath","prePathCompressed","remainPathAr","table","nextFullPath","queryJSON","setObj","newObj","transKey","_table","lastKeyNumber","propertiesToTable","propertyObj","_reverseTable","keyCompressor","WorkerGlobalScope","USE_METHOD","BrowserMethod","LISTENERS","startedListening","startListening","runAll","addReturn","removeAll","getSize","LeaderElection","_channel","isDead","_isApl","_reApply","_unl","_lstns","_invs","_awaitLeadershipOnce","resolved","clearInterval","interval","whenDeathListener","applyOnce","setInterval","_sendMessage","msgJson","_beLeader","unloadFn","unload","die","isLeaderListener","responseTime","elector","stopCriteria","recieved","handleMessage","awaitLeadership","_aLP","uFn","LeaderElector","minPassLength","AES","cipherText","cryptoEnc","encryptedValue","updateObj","oldDocData","newDocData","RxQueryUpdate","_watchForChangesUnhandled","pouch$","resPromise","_handleSingleChange","Checkpointer","CHECKPOINT_VERSION","REPLICATOR","CHECKPOINT_HISTORY_SIZE","LOWEST_SEQ","updateCheckpoint","checkpoint","session","returnValue","session_id","replicator","src","writeCheckpoint","updateTarget","updateSource","writeTargetCheckpoint","writeSourceCheckpoint","isForbiddenError","comparisons","targetDoc","sourceDoc","compareReplicationLogs","srcDoc","tgtDoc","compareReplicationHistory","sourceHistory","targetHistory","S","sourceRest","T","targetRest","hasSessionId","sessionId","rest","getCheckpoint","generateReplicationId","sortObjectPropertiesByKey","queryParams","filterViewName","queryData","md5sum","replication","fileHasChanged","remoteDoc","digest","getDocAttachments","filenames","getDocAttachmentsFromTargetOrSource","doCheckForLocalAttachments","createBulkGetOpts","diffs","missingRev","getDocs","resultDocs","fetchRevisionOneDocs","hasAttachments","hasConflicts","getRevisionOneDocs","getAllDocs","bulkGetOpts","bulkGetResponse","bulkGetInfo","attachment","Boolean","returnResult","STARTING_BACK_OFF","backOff","retry","back_off_function","backOffSet","current_back_off","batches","currentBatch","repId","checkpointer","pendingBatch","writingCheckpoint","changesCompleted","replicationCompleted","batch_size","batches_limit","changesPending","changedDocs","start_time","docs_read","docs_written","doc_write_failures","initCheckpointer","checkpointOpts","writeDocs","bulkOpts","completeReplication","errorsById","errorsNo","errorName","finishBatch","outResult","getChanges","onCheckpointError","getBatchDocs","got","startNextBatch","getDiffs","abortReplication","processPendingBatch","immediate","fatalError","end_time","onChangesComplete","onChangesError","_abortChanges","abortChanges","startChanges","heartbeat","_addedListeners","Replication","toPouch","PouchConstructor","replicateWrapper","replicateRet","Sync","canceled","optsPush","optsPull","pullChange","direction","pushChange","pushDenied","pullDenied","pushPaused","pullPaused","pushActive","pullActive","removed","addOneListener","replicateMethods","other","_readyCalled","cleanup","Core","PouchReplicationPlugin","RxDBWatchForChangesPlugin","INTERNAL_POUCHDBS","WeakSet","RxReplicationStateBase","_subjects","denied","active","alive","_pouchEventEmitterObject","setPouchEventEmitter","rxRepState","evEmitter","observers","unhandledEvents","getIsAlive","isAlive","createRxReplicationState","remote","_ref$waitForLeadershi","_ref$direction","useOptions","syncFun","repState","pouchSync","POUCHDB_LOCATION","recoveredDoc","dumpRxDatabase","instanceToken","useCollections","colName","cols","importDumpRxDatabase","missingCollections","colDump","dumpRxCollection","importDumpRxCollection","exportedJSON","own","collectionCacheMap","collectionPromiseCacheMap","BULK_DOC_OPTIONS","BULK_DOC_OPTIONS_FALSE","InMemoryRxCollection","_RxCollectionBase","parentCollection","toCleanSchema","_methods","_eventCounter","_parentCollection","_changeStreams","stream","parentProto","_oldPouchPut","_nonPersistentRevisions","_nonPersistentRevisionsSubject","prepareChild","setIndexes","replicateExistingDocuments","thisToParentSub","streamChangedDocuments","applyChangedDocumentToPouch","changeRev","parentToThisSub","awaitPersistence","newSchemaJson","removeEncryption","fromCollection","toCollection","allRows","prevFilter","observable","_doNotEmitSet","changeAr","emitFlag","transformedDoc","oldDoc","bulkRet","INIT_DONE","spawnInMemory","memory","preparePromise","ensureSchemaSupportsAttachments","resyncRxDocument","blobBufferUtil","createBlobBuffer","blobBuffer","readAsText","_assignMethodsToAttachment","RxAttachment","getData","shouldEncrypt","dataString","getStringData","bufferBlob","fromPouchDocument","pouchDocAttachment","rxDocument","_ref3$type","attachmentData","stubData","attachmentsData","DOC_CACHE_BY_PARENT","_getDocCache","CHANGE_SUB_BY_PARENT","_getChangeSub","docCache","RxDocumentParent","RxLocalDocument","_RxDocumentParent","_getPouchByParent","RxLocalDocumentPrototype","toPouchJson","parentPouch","removeId","_init","docBaseProto","functionName","getThrowingFun","insertLocal","getLocal","saveData","upsertLocal","SchemaCheckPlugin","ErrorMessagesPlugin","ValidatePlugin","KeyCompressionPlugin","LeaderElectionPlugin","EncryptionPlugin","UpdatePlugin","WatchForChangesPlugin","ReplicationPlugin","AdapterCheckPlugin","JsonDumpPlugin","InMemoryPlugin","AttachmentsPlugin","LocalDocumentsPlugin","allDocsKeysQuery","subOpts","optKey","reservedWords","dataWords","parseRevisionInfo","makeRevTreeFromRevisions","revisions","revisionIds","parseDoc","newEdits","dbOpts","nRevNum","revInfo","specialKey","parseBase64","preprocessString","blobType","asBinary","preprocessBlob","preprocessAttachment","preprocessAttachments","docInfos","docv","overallErr","docInfo","recv","processedAttachment","updateDoc","revLimit","writeDoc","previousWinningRev","previouslyDeleted","isRoot","inConflict","newRev","rev_map","winningRev$$1","winningRevIsDeleted","delta","rootIsMissing","processDocs","fetchedDocs","tx","overallCallback","idsToDocs","docsDone","docsToDo","checkAllDocsDone","currentDoc","resultsIdx","docWritten","nextDoc","insertDoc","safeJsonParse","vuvuzela","safeJsonStringify","ADAPTER_VERSION","DOC_STORE","BY_SEQ_STORE","ATTACH_STORE","ATTACH_AND_SEQ_STORE","META_STORE","LOCAL_STORE","DETECT_BLOB_SUPPORT_STORE","idbError","evt","encodeMetadata","deletedOrLocal","decodeMetadata","storedObject","decodeDoc","_doc_id_rev","lastIndexOf","readBlobData","asBlob","fetchAttachmentsIfNecessary","txn","fetchAttachment","attObj","postProcessAttachments","attNames","compactRevs","possiblyOrphanedDigests","seqStore","attStore","attAndSeqStore","deleteOrphanedAttachments","countReq","only","digestSeq","continue","openTransactionSafely","stores","mode","changesHandler$1","idbBulkDocs","docStore","bySeqStore","attachStore","attachAndSeqStore","metaStore","docInfoError","allDocsProcessed","docCountDelta","preconditionErrored","_meta","blobSupport","onAllDocsProcessed","updateDocCountIfReady","docCount","newRevIsDeleted","isUpdate","writeAttachments","collectResults","finishDoc","attachmentSaved","saveAttachment","newAtt","putReq","afterPutDoc","revsToDelete","metadataToStore","afterPutMetadata","insertAttachmentMappings","attsAdded","attsToAdd","preventDefault","stopPropagation","afterPutDocError","startTransaction","txnResult","onabort","ontimeout","verifyAttachments","digests","verifyAttachment","attErr","fetchExistingDocs","numFetched","readMetadata","runBatchedCursor","keyRange","onBatch","useGetAll","keysBatch","valuesBatch","pseudoCursor","onGetAll","onGetAllKeys","onCursor","getAll","getAllKeys","continuePseudoCursor","newKeyRange","upper","upperOpen","lowerBound","onSuccess","allDocsKeys","createKeyRange","upperBound","idbAllDocs","keyRangeError","onTxnComplete","onResultsReady","updateSeq","docIdRevIndex","allDocsInner","fetchDocAsynchronously","batchValues","batchValue","batchKeys","returnVal","getMaxUpdateSeq","maxKey","checkBlobSupport","blob$$1","matchedChrome","navigator","userAgent","matchedEdge","countDocs","running","tryCode","applyNext","enqueueTask","numResults","docIdsToMetadata","onGetMetadata","docIdRev","objectStores","winningDocs","metadatas","fetchWinningDocAndMetadata","winningDoc","onBatchDone","processMetadataAndWinningDoc","filtered","blobSupportPromise","cachedDBs","openReqList","IdbPouch","thisCallback","addDeletedOrLocalIndex","migrateLocalStore","localStore","local","seqCursor","migrateAttsAndSeqs","digestMap","migrateMetadata","metadataSeq","onGetMetadataSeq","instanceId","reqOpts","attachId","blobData","doc_count","idb_attachment_format","oldRev","oStore","openReq","deleteDatabase","cached","oldVersion","createSchema","currentTarget","createLocalStoreSchema","addAttachAndSeqStore","migrations","migration","onversionchange","storedMetaDoc","completeSetup","storeMetaDocIfReady","instanceKey","AbstractIterator","_ended","_nexting","_next","seek","_serializeKey","_seek","_end","AbstractChainedBatch","_operations","_written","_checkWritten","_checkKey","_checkValue","_serializeValue","_del","_clear","write","_write","_batch","xtend","rangeOptions","AbstractLevelDOWN","cleanRangeOptions","opt","isRangeOption","oldStatus","createIfMissing","errorIfExists","_open","asBuffer","_chainedBatch","serialized","valueErr","_setupIteratorOptions","keyAsBuffer","valueAsBuffer","_iterator","DeferredIterator","setDb","_operation","deferrables","DeferredLevelDOWN","_db","_iterators","approximateSize","_objectSpread","sym","_defineProperty","_require","_require2","copyBuffer","BufferList","head","tail","alloc","consume","hasStrings","_getString","_getBuffer","nb","readableDestroyed","_readableState","writableDestroyed","_writableState","errorEmitted","emitErrorNT","emitErrorAndCloseNT","emitCloseNT","emitClose","undestroy","reading","ended","endEmitted","ending","finalCalled","prefinished","finished","_inheritsLoose","subClass","superClass","codes","createErrorType","Base","NodeError","_Base","arg1","arg2","arg3","getMessage","oneOf","expected","thing","search","this_len","actual","determiner","ERR_INVALID_OPT_VALUE","highWaterMarkFrom","isDuplex","duplexKey","highWaterMark","getHighWaterMark","hwm","isFinite","objectMode","experimentalWarnings","emitExperimentalWarning","feature","emitWarning","Duplex","WriteReq","chunk","encoding","CorkedRequest","onCorkedFinish","Writable","WritableState","internalUtil","Stream","OurUint8Array","_uint8ArrayToBuffer","_isUint8Array","realHasInstance","destroyImpl","_require$codes","ERR_INVALID_ARG_TYPE","ERR_METHOD_NOT_IMPLEMENTED","ERR_MULTIPLE_CALLBACK","ERR_STREAM_CANNOT_PIPE","ERR_STREAM_DESTROYED","ERR_STREAM_NULL_VALUES","ERR_STREAM_WRITE_AFTER_END","ERR_UNKNOWN_ENCODING","nop","writableObjectMode","needDrain","noDecode","decodeStrings","defaultEncoding","writing","corked","bufferProcessing","onwrite","writecb","writelen","bufferedRequest","lastBufferedRequest","pendingcb","bufferedRequestCount","corkedRequestsFree","writev","_writev","final","_final","writeAfterEnd","validChunk","decodeChunk","writeOrBuffer","isBuf","newChunk","doWrite","onwriteError","finishMaybe","onwriteStateUpdate","needFinish","clearBuffer","afterWrite","onwriteDrain","holder","allBuffers","callFinal","prefinish","need","endWritable","corkReq","getBuffer","hasInstance","cork","uncork","setDefaultEncoding","_undestroy","objectKeys","Readable","allowHalfOpen","readable","onend","onEndNT","ERR_STREAM_PREMATURE_CLOSE","_len","_key","isRequest","setHeader","eos","onlegacyfinish","onfinish","writableEnded","readableEnded","onclose","onrequest","_Object$setPrototypeO","kLastResolve","kLastReject","kError","kEnded","kLastPromise","kHandlePromise","kStream","createIterResult","readAndResolve","iter","read","onReadable","wrapForNext","lastPromise","AsyncIteratorPrototype","ReadableStreamAsyncIteratorPrototype","createReadableStreamAsyncIterator","_Object$create","ReadableState","EE","EElistenerCount","debug","debugUtil","StringDecoder","ERR_STREAM_PUSH_AFTER_EOF","ERR_STREAM_UNSHIFT_AFTER_END_EVENT","kProxyEvents","readableObjectMode","pipes","pipesCount","flowing","needReadable","emittedReadable","readableListening","resumeScheduled","paused","awaitDrain","readingMore","decoder","_read","readableAddChunk","addToFront","skipChunkCheck","onEofChunk","chunkInvalid","addChunk","maybeReadMore","emitReadable","isPaused","setEncoding","enc","MAX_HWM","computeNewHighWaterMark","howMuchToRead","emitReadable_","flow","maybeReadMore_","pipeOnDrain","updateReadableListening","nReadingNextTick","resume_","fromList","endReadable","endReadableNT","xs","nOrig","doRead","dest","pipeOpts","doEnd","endFn","stdout","stderr","unpipe","onunpipe","unpipeInfo","hasUnpiped","ondrain","ondata","cleanedUp","pause","dests","wrap","_fromList","Transform","ERR_TRANSFORM_ALREADY_TRANSFORMING","ERR_TRANSFORM_WITH_LENGTH_0","afterTransform","ts","_transformState","transforming","writechunk","rs","needTransform","writeencoding","transform","_transform","flush","_flush","err2","PassThrough","ERR_MISSING_ARGS","destroyer","popCallback","streams","pipeline","destroys","ReadStream","LevelUPError","notFound","InitializationError","OpenError","ReadError","WriteError","EncodingError","getCallback","getOptions","Batch","levelup","_levelup","propIsEnumerable","shouldUseNative","test1","test2","order2","test3","letter","IteratorStream","assert","LevelUP","strictEqual","maybeError","_isOpening","isOpen","isClosed","readStream","createReadStream","keyStream","createKeyStream","valueStream","createValueStream","utf8","encode","isBinary","decode","identity","none","bufferEncodings","encodings","Codec","_encoding","_keyEncoding","batchOpts","keyEncoding","_valueEncoding","valueEncoding","encodeKey","encodeValue","decodeKey","decodeValue","encodeBatch","_op","ltgtKeys","encodeLtgt","ltgt","createStreamDecoder","pna","asyncWrite","util","writableHwm","writableHighWaterMark","defaultHwm","sublevelPouch","getPrefix","nut","precodec","codec","encodePrefix","opts1","opts2","addEncodings","createDecoder","_opts","wrapIterator","toLtgt","NOT_FOUND_ERROR","sublevel","createStream","mergeOpts","sublevels","setIterator","ReadableStreamCore","makeData","_waiting","_makeData","_cleanup","decodedKey","encodedKeyAsBuffer","LevelPouch","readAsBlobOrBuffer","byteArray","prepareAttachmentForStorage","attData","createEmptyBlobOrBuffer","getCacheFor","store","cache","_cache","subCache","LevelTransaction","operation","uniqBatches","lookupKey","ATTACHMENT_STORE","BINARY_STORE","dbStores","UPDATE_SEQ_KEY","DOC_COUNT_KEY","UUID_KEY","MD5_PREFIX","safeJsonEncoding","levelChanges","getWinningRev","getIsDeleted","binaryStore","fetchAttachments","attName","leveldown","dbStore","leveldownName","afterDBCreated","attachmentStore","doMigrationTwo","afterLastMigration","_updateSeq","_docCount","executeNext","firstTask","_queue","peekFront","runReadOperation","readTasks","nextTask","readTask","cbArgs","runWriteOperation","writeLock","readLock","formatSeq","callDestroy","Deque","doMigrationOne","backend_adapter","attach","newUpdateSeq","userDocs","infoErrors","revsMap","_doCompactionNoLock","autoCompact","callback2","attachmentErr","onMD5Load","saveAttachmentRefs","isNewAttachment","doMD5","seqKey","attachmentQueues","saveAtt","oldAtt","refs","fetchAtt","levelErr","readstreamOpts","gte","lte","tmp","docstream","throughStream","streamOpts","changeStream","onGetWinningDoc","winningSeq","seqs","possiblyOrphanedAttachments","refsToDelete","newRefs","_putLocalNoLock","_putLocalWithLock","_removeLocalNoLock","_removeLocalWithLock","_isBuffer","_approximateSize","install","MemDownPouch","memdown"],"mappings":"AiaAA,ADAA,AhFAA,AnDAA,AO4GC,AG2QA,AXxRA,AYxFD,ARFA,ADCA,AyKNA,AHAAqG,A3LAA,ApQAA,AyQAA,AO4GC,AI2QA,AZxRA,AWxFD,APFA,ADCA,AwBNA,AQ4GC,APbA,AG1FD,ADCA,AkENA,A2DAA,ACAA,AkBAA,I5JIA,ADEA,AbFA,ADEA,A4BFA,ADEA,A6HNA,E1IMA,AdAA,A2BAA,A6HNA,CTAA,AqCAOC,A3BAP,C1IIA,AdAA,A2BAA,C4HJA,CzIIA,AdAA,A2BAA,GTwGC,AG5GD,AXAA,AYOA,ARFA,AwKyHA,AlLlBC,AI5GD,AZAA,AWOA,APFA,A+BuGC,AP5GD,AGKA,EmHLA,AhIKA,AqKLiBwjB,AnLKjB,A2BAA,A6HLA,E1IKA,AdAA,A2BAA,C4HHA,CRFA,AjFAA,AnDAA,AGKA,AtBLA,ApQAA,AyQAA,AGKA,AuBLA,AIKA,AiELA,A8EAA,CxJ4GC,AIrGD,AlBqGC,AGrGD,AwBqGC,EV5GQ5O,AXAAlb,A4K8HT,A9K9HSkb,AZAAlb,A4BAAA,C2JAgB,A3BAzB,CVAA,AzHAa8K,AXAG7K,A4K8HhB,A9K9Ha6K,AZAG7K,A4BAAA,CVKhB,AdAA,A2BAA,A4HHA,CRFA,AjFAA,AnDAA,AUAkBkb,ARMlB,ArBNA,ApQAA,AyQAA,AWAkBA,ATMlB,AwBNA,AGMA,AkENA,A8EAA,C5BCA,ApIAS,AIKT,AwKwHA,A1L7HS,AIKT,AwBLS,AGKT,CNN2BC,AbAAA,CMM3B,AdAA,A2BAA,ENFSC,AbAAA,EuIFT,AjFAA,AnDAA,ADDS,AIKT,AqKNmClV,A3LEnC,ApQAA,AyQAA,ADDS,AIKT,AuBJA,ACDS,AGKT,AiEJA,A2DAA,ACFA,AkBEA,C5BDA,AjIKA,AyKwHA,AvLxHA,A2BAA,CRsGC,AG3GKkV,ACMN,ARDA,AVsGC,AI3GKA,ADMN,APDA,A+BsGC,AJtGD,C2JwHA,CxC7HA,ApIAepb,AdAAA,A4BAAA,EHATob,AXEN,AFFMA,AZEN,A4BAA,A+HDA,CRAA,AjFAA,AnDAA,AGIA,AtBJA,ApQAA,AyQAA,AGIA,AuBJA,AIIA,AiEJA,A8EAA,CrJDgB,ARKhB,ALLgB,ATKhB,A2BAA,ERsGC,AIrGD,AlBqGC,AGrGD,AwBqGC,CV1GKC,AbAAA,EaAeF,AbAAA,EuIArB,AjFAA,AnDAA,AUAkCtQ,AXCzB5K,AlBDT,ApQAA,AyQAA,AWAkC4K,AZCzB5K,A2BDT,ACCSA,AoEDT,A2DAA,AmBAA,C5JIA,AdAA,A2BAA,CNJsCU,AXCpBX,AFDoBW,AZCpBX,A4BAAA,GdCTA,AIET,AlBFSA,AIET,AwBFSA,AGET,CmHLA,CwC6HA,CpKlBC,AIrGD,AlBqGC,AGrGD,AwBqGC,CgH1GD,ADAA,AhFAA,AnDAA,AO0GC,AGxGQob,ACGT,ATDA,ArBJA,ApQAA,AyQAA,AO0GC,AIxGQA,ADGT,ARDA,AwBJA,AQ0GC,ALtGD,AkEJA,A2DAA,AmBAA,E3BAA,AjFAA,AnDAA,AUEiBza,A7BFjB,ApQAA,AyQAA,AWEiBA,AeFjB,AqEAA,A8EAA,ChKESX,AIET,AlBFSA,AIET,AwBFSA,AGET,A4HHA,ERAA,AjFAA,AnDAA,ADCaE,AGEb,ArBHA,ApQAA,AyQAA,ADCaA,AGEb,AwBHA,ACCaA,AEEb,AkEHA,A8EAA,C5JMA,AwKqHA,AtLrHA,A2BAA,CoHNA,AjFAA,AnDAA,AOyGC,AIrGD,A9BJA,ApQAA,AyQAA,AOyGC,AGrGD,AgBJA,AQyGC,A6DzGD,A8EAA,ErJC0Bmb,AbAAA,A+ID1B,ErIyGC,AIrGD,AlBqGC,AGrGD,AwBqGC,CVvGGD,AbAAA,EuIFJ,AjFAA,AnDAA,AEIA,ArBJA,ApQAA,AyQAA,AEIA,AwBJA,AGIA,AkEJA,A8EAA,CrJEeF,AXDQ,AIKvB,ANJeA,AZDQ,AIKvB,AwBLuB,AGKvB,CoHLA,AjFAA,AnDAA,AnBAA,ApQAA,AyQAA,A0BAA,AqEAA,A8EAA,CrJGSE,APET,ANFSA,ARET,A2BAA,CoHLA,AjFAA,AnDAA,ADEA,AlBFA,ApQAA,AyQAA,ADEA,A2BFA,ACEA,AoEFA,A8EAA,C5BFA,A5H0GC,AIrGD,AREA,AVmGC,AGrGD,APEA,A+BmGC,AJnGD,EmHPA,ChIQA,AdAA,A2BAA,C2JoHA,CjKvHSA,AbAAA,EaGT,APAA,ANAA,ARAA,A2BAA,CmHPA,ApIGSjb,AdAAA,A4BAAA,A+HHT,CRCA,AjFAA,AnDAA,AGMA,AtBNA,ApQAA,AyQAA,AGMA,AuBNA,AIMA,AiENA,A8EAA,CnBDA,C+B2HA,C5KvHOC,AIGP,AlBHOA,AIGP,AwBHOA,AGGP,EbCA,AdAA,A2BAA,CdJA,AdAA,A2BAA,A6HJA,CRCA,AjFAA,AnDAA,AUMSkb,ACHT,ARIA,AtBPA,ApQAA,AyQAA,AWMSA,ADHT,APIA,AuBPA,AIOA,AiEPA,A8EAA,ChKGOlb,AdAAA,A4BAAA,CHGUyK,APEjB,ANFiBA,AREjB,A2BAA,ENFsBqQ,AiKoHtB,A9KpHsBA,EaASC,AbAAA,CuIN/B,AjFAA,AnDAA,AnBAA,ApQAA,AyQAA,A0BAA,AqEAA,A8EAA,ChKGgB,AYAhB,A1BAgB,AWAhB,AiBAgB,CuHHhB,AjFAA,AnDAA,AUQSC,APAT,ADLA,ArBHA,ApQAA,AyQAA,AWQSA,ARAT,ADLA,AwBHA,AIQA,ADLA,AkEHA,A8EAA,E5BDA,A5HyGC,ARjED,AI/BA,AVgGC,ARjED,AI/BA,A+BgGC,APjED,AG/BA,EmHTA,A5HyGC,AJhGD,AwKkHA,AlLlBC,AJhGD,A+BgGC,AJhGD,GNDgBH,ACJhB,AgKuHA,A9KnHgBA,ADJhB,EcIoBpQ,ARJpB,ALIoBA,ATJpB,A2BAA,CqHHA,ADAA,AhFAA,AnDAA,AGQA,AtBRA,ApQAA,AyQAA,AGQA,AuBRA,AIQA,AiERA,A8EAA,C3BCA,AjFAA,AnDAA,AUMyBqQ,AXgChB7a,AlBtCT,ApQAA,AyQAA,AWMyB6a,AZgChB7a,A2BtCT,ACsCSA,AoEtCT,A8EAA,CxJuGC,AJhGD,AVgGC,AJhGD,A+BgGC,AJhGD,CNDkC8a,AXgCnB7a,AFhCmB6a,AZgCnB7a,A4BAAA,CV/Bf,AdAA,A2BAA,CLLA,AfAA,CcKmBuK,AXmCbvK,AFnCauK,AZmCbvK,A4BAAA,EHwUL,AbAA,CE3UMF,AdAAA,A4BAAA,CV/BP,AdAA,A2BAA,C2JiHA,CxKjHA,AdAA,A2BAA,CoHRA,AjFAA,AnDAA,AnBAA,ApQAA,AyQAA,A0BAA,AqEAA,A8EAA,C3BCA,AjFAA,AnDAA,ADsCOA,AI/BP,AwKiHA,A9LxHA,ApQAA,AyQAA,ADsCOA,AI/BP,AuBPA,ACsCOA,AG/BP,AiEPA,A8EAA,CrJiXC,ARhXD,ALgXC,AThXD,A2BAA,CJAA,AfAA,EeLA,AfAA,CuIEA,CCEA,AjFAA,AnDAA,AGOA,ADNA,ArBDA,ApQAA,AyQAA,AGOA,ADNA,AwBDA,AIOA,ADNA,AkEDA,A8EAA,C5BFA,ApIwCgB,AdAA,A4BAA,CuHrChB,AjFAA,AnDAA,AWLIub,ARWJ,AtBNA,ApQAA,AyQAA,AULIA,APWJ,AuBNA,AIMA,AiENA,A8EAA,CYuHA,ChK5HoC,ARWpC,APXoC,APWpC,A2BAA,CjB+BoBxb,AdAAA,A4BAAA,C8JkFpB,C5K/EMG,AdAAA,A4BAAA,CN6DL,AdAA,A2BAA,EbAA,AG2QA,AXxUcC,AIlCf,ADLA,AToGC,AI2QA,AZxUcA,AIlCf,ADLA,AgCoGC,AP7DcA,AGlCf,ADLA,GbAA,AyKsHA,AvLtHA,A2BAA,CqHDA,AjFAA,AnDAA,AGOA,AtBPA,ApQAA,AyQAA,AGOA,AuBPA,AIOA,AiEPA,A8EAA,C7JCA,AdAA,A2BAA,CqHAA,AjFAA,AnDAA,ADuCqBC,AIjCrB,ADJA,AyKoHA,A9LtHA,ApQAA,AyQAA,ADuCqBA,AIjCrB,ADJA,AwBFA,ACuCqBA,AGjCrB,ADJA,AkEFA,A8EAA,ExJoGC,AG2QA,APzWD,AV8FC,AI2QA,ARzWD,A+B8FC,AJ9FD,EdJA,AdAA,A2BAA,EbAA,AdAA,A2BAA,EhBqC6BF,AY7CbqxC,ARYhB,AlBiC6BrxC,AW7CbqxC,APYhB,AwBiC6BrxC,AGjC7B,EoHNA,AjFAA,AnDAA,AGMA,ADJA,ArBFA,ApQAA,AyQAA,AGMA,ADJA,AwBFA,AIMA,ADJA,AkEFA,A8EAA,ChKwCS,AdAA,A4BAA,CuHvCT,AjFAA,AnDAA,AGKA,AtBLA,ApQAA,AyQAA,AGKA,AuBLA,AIKA,AiELA,A8EAA,GrJ8WC,AXvUQ,AFuUR,AZvUQ,A4BAA,CHuUR,AbAA,EMzWD,AdAA,A2BAA,CjBkCaG,A4K8Eb,A1L9EaA,A4BAAA,EdAI,AGtCjB,AjBsCiB,AGtCjB,AyBsCiB,AEtCjB,CZKA,AdAA,A2BAA,CNwWC,AXvUmBC,AFuUnB,AZvUmBA,A4BAAA,CF7CdixC,ARYN,APZMA,APYN,A2BAA,CjBiC0BrxC,AGpC1B,AjBoC0BA,AGpC1B,AyBoC0BA,AEpC1B,CqHHA,AjFAA,AnDAA,AGMA,AtBNA,ApQAA,AyQAA,AGMA,AuBNA,AIMA,AiENA,A8EAA,CrJ8WC,AXvU+BK,A4K8EhC,A9KyPC,AZvU+BA,A4BAAA,EN4D/B,AoKkBD,AlLlBC,A2BAA,EbAA,AdAA,A2BAA,CgH7FD,AjFAA,AnDAA,AGAA,ADHA,ArBGA,ApQAA,AyQAA,AGAA,ADHA,AwBGA,AIAA,ADHA,AkEGA,A8EAA,EhKiCwCF,AIjCxC,AlBiCwCA,AIjCxC,AwBiCwCA,AGjCxC,CNwWC,AbAA,CEvU2CC,AIjC5C,AlBiC4CA,AIjC5C,AwBiC4CA,AGjC5C,EjBiCiDD,AdAAA,A4BAAA,CuHjCjD,AjFAA,AnDAA,AO6FC,A1B7FD,ApQAA,AyQAA,AO6FC,AmB7FD,AQ6FC,A6D7FD,A8EAA,CpJXM,ATQN,ANRM,ARQN,A2BAA,EhBqCWG,AIlCX,AlBkCWA,AIlCX,AwBkCWA,AGlCX,CNwWC,AiKzPD,A9KyPC,CU3QA,AdAA,A2BAA,CV2QA,AbAA,CU3QA,AJ5FD,AV4FC,AJ5FD,A+B4FC,AJ5FD,CoHDA,AjFAA,AnDAA,ADkCWA,AlBlCX,ApQAA,AyQAA,ADkCWA,A2BlCX,ACkCWA,AoElCX,A8EAA,C5JCA,AdAA,A2BAA,EbAA,AdAA,A2BAA,CjBiCeN,AY7CY,ATU3B,AyKgHA,A1L7EeA,AW7CY,ARU3B,AyBmCeA,AEnCf,ELyWC,AXtUoBG,AFsUpB,AZtUoBA,A4BAAA,CN2DpB,AdAA,A2BAA,CuJkBD,CvC/GA,AjFAA,AnDAA,AGCA,AtBDA,ApQAA,AyQAA,AGCA,AuBDA,AICA,AiEDA,A8EAA,ChK2DA,AYtE2B,A1BsE3B,AWtE2B,AiBsE3B,CuH3DA,AjFAA,AnDAA,AWX4BmxC,ARY5B,ADHA,ArBEA,ApQAA,AyQAA,AUX4BA,APY5B,ADHA,AwBEA,AICA,ADHA,AkEEA,A8EAA,E5JCA,ADHA,AbGA,ADHA,A4BGA,ADHA,CqHGA,AjFAA,AnDAA,AnBAA,ApQAA,AyQAA,A0BAA,AqEAA,A8EAA,CY8GA,CvC9GA,AjFAA,AnDAA,AEFA,ArBEA,ApQAA,AyQAA,AEFA,AwBEA,AGFA,AkEEA,A8EAA,CpJZmC,AfAA,EcmXlC,AX7SQ/wC,AI1DT,ANuWC,AZ7SQA,AI1DT,AwB0DSA,AG1DT,ENuWC,AbAA,EuIvWD,AjFAA,AnDAA,AD2DM,AI1DN,ADDA,ArBAA,ApQAA,AyQAA,AD2DM,AI1DN,ADDA,AwBAA,AC2DM,AG1DN,ADDA,AkEAA,A8EAA,C7JKA,AdAA,A2BAA,CqHJA,AjFAA,AnDAA,AGAA,AwK6GA,A9L7GA,ApQAA,AyQAA,AGAA,AuBAA,AIAA,AiEAA,A8EAA,ChK0DwB,AdAA,A4BAA,CV1DxB,AdAA,A2BAA,CT2FC,ALvFD,ATuFC,ALvFD,AgCuFC,ALvFD,CqHJA,AjFAA,AnDAA,AUsWC,A7BtWD,ApQAA,AyQAA,AWsWC,AetWD,AqEAA,A8EAA,CxJ2FC,ALvFD,ATuFC,ALvFD,AgCuFC,ALvFD,CqHJA,AjFAA,AnDAA,AnBAA,ApQAA,AyQAA,A0BAA,AqEAA,A8EAA,CpJVA,AfAA,COUA,AdAA,A2BAA,CdIA,AdAA,A2BAA,CZJA,AdAA,A2BAA,EbAA,AdAA,A2BAA,CT2FC,AdAA,A2BAA,ETrGD,ATcA,ANdA,ARcA,A2BAA,C4JyGA,ExK5GA,AdAA,A2BAA,CoHAA,AjFAA,AnDAA,AEKA,ArBLA,ApQAA,AyQAA,AEKA,AwBLA,AGKA,AkELA,A8EAA,C5JAA,AwK4GA,AtL5GA,A2BAA,CoHAA,AjFAA,AnDAA,ADyDaC,AlBzDb,ApQAA,AyQAA,ADyDaA,A2BzDb,ACyDaA,AoEzDb,A8EAA,CrJqWC,APrWD,ANqWC,ARrWD,A2BAA,C2JhBA,CjKqXC,AbAA,EKhWD,AdAA,A2BAA,EZLA,AdAA,A2BAA,CjByDsD,AdAA,A4BAA,CVzDtD,AdAA,A2BAA,CoHAA,AjFAA,AnDAA,AWXA,A9BWA,ApQAA,AyQAA,AUXA,AgBWA,AqEAA,A8EAA,CrJqWC,APrWD,AwKhBS+/F,A9KqXR,ARrWD,A2BAA,CoHAA,AjFAA,AnDAA,AWZA,A9BYA,ApQAA,AyQAA,AUZA,AgBYA,AqEAA,A8EAA,C7JKA,AyKrBwBC,AvLqBxB,A2BAA,E4JrBkCC,ChKI9B9oF,AfAAA,COaJ,AdAA,A2BAA,CLbQ45B,AgKJwCivD,A/KIxCjvD,CWsGP,AJzFD,AVyFC,AJzFD,A+ByFC,AJzFD,C2JjByDtwC,CpK0GxD,AJzFD,AVyFC,AJzFD,A+ByFC,AJzFD,CoHAA,AjFAA,AnDAA,AnBAA,ApQAA,AyQAA,A0BAA,AqEAA,A8EAA,E3BAA,AjFAA,AnDAA,AWZA,ATiBA,ArBLA,ApQAA,AyQAA,AUZA,ARiBA,AwBLA,AGKA,AkELA,A8EAA,G5JAA,AdAA,A2BAA,CjBwD8CR,AGnD9C,AjBmD8CA,AGnD9C,AyBmD8CA,AEnD9C,CRoFC,AJzFD,AVyFC,AJzFD,A+ByFC,AJzFD,C2JjBqEG,CxKiBrE,AdAA,A2BAA,CNoWC,AChXD,ATiBA,AL+VC,ADhXD,ARiBA,A2BAA,ChBmDoF,AdAA,A4BAA,CuHxDpF,AjFAA,AnDAA,AUJA,ARSA,ArBLA,ApQAA,AyQAA,AWJA,ATSA,AwBLA,AGKA,AkELA,A8EAA,E7JKA,AdAA,A2BAA,CZFA,AwKpB4EkG,AtLoB5E,A2BAA,CoHHA,AjFAA,AnDAA,AUJImU,ACRJ,ATiBA,ArBLA,ApQAA,AyQAA,AWJIA,ADRJ,ARiBA,AwBLA,AGKA,AkELA,A8EAA,E3BCA,AjFAA,AnDAA,AWbA,ATiBA,ArBJA,ApQAA,AyQAA,AUbA,ARiBA,AwBJA,AGIA,AkEJA,A8EAA,CrJLqB,AbAA,CuIKrB,AjFAA,AnDAA,AnBAA,ApQAA,AyQAA,A0BAA,AqEAA,A8EAA,C7JIA,AdAA,A2BAA,CJjBIid,AReJ,AwKpBmFuoE,A/KK/EvoE,APeJ,A2BAA,CNNIhd,AbAAA,CcTIs2B,AgKLsFvwC,A/KKtFuwC,CWqGP,AG5FsB,ARSvB,ATmFC,AI5FsB,ATSvB,AgCmFC,ALnFD,ERmFC,AG3FGr2B,AjB2FH,AI3FGA,AuB2FH,EV3FS,ARQV,ALRU,ATQV,A2BAA,CqHLA,AjFAA,AnDAA,AGEA,AtBFA,ApQAA,AyQAA,AGEA,AuBFA,AIEA,AiEFA,A8EAA,ChKuD4Eza,AGlD5E,AjBkD4EA,AGlD5E,AyBkD4EA,AElD5E,CLNA,ACZA,AdYA,ADZA,GWqGC,ARhCU,A4K1E+F8/F,AlL0GzG,ARhCU,AmCgCV,APhCU,CXnDX,AdAA,A2BAA,C4JvBmHv/F,CzKuBnH,AdAA,A2BAA,EJlBA,AfAA,CcYSma,AbAAA,CuICT,AjFAA,AnDAA,ADwDW,AlBxDX,ApQAA,AyQAA,ADwDW,A2BxDX,ACwDW,AoExDX,A8EAA,CrJDiBC,AbAAA,CE2DX1a,AdAAA,A4BAAA,CH3Dc2a,AbAAA,E8KjByGpL,CjKmBvHmL,AXyDA1a,AYvEN,AdcM0a,AZyDA1a,AWvEN,AiBuEMA,CXrDN,AdAA,A2BAA,ChBqDaC,AdAAA,A4BAAA,CHzDPya,AbAAA,GUuFL,ALnFD,ATmFC,ALnFD,AgCmFC,ALnFD,CLJYC,AbAAA,CUuFX,AdAA,A2BAA,CVtFU,AXwDSza,AFxDT,AZwDSA,A4BAAA,E8J5EuH2/F,EAAUA,EAASnoE,CpK0G7J,AGtFU,ARIX,ATkFC,AItFU,ATIX,AgCkFC,ALlFD,ELDEhd,ARCF,ALDEA,ATCF,A2BAA,ELDME,AbAAA,CKCN,AdAA,A2BAA,CLDmBF,AbAAA,GaCjBC,AiKxBwKmlF,A9KwBxKnlF,EaAIC,ARAN,AyKtBA,A9KsBMA,ATAN,A2BAA,CRkFC,AdAA,A2BAA,CVlFkBD,ARAnB,ALAmBA,ATAnB,A2BAA,CRkFC,AdAA,A2BAA,CuJxGGolF,CjKwBEllF,AbAAA,CKFN,AyKtBY,AvLsBZ,A2BAA,ChBoD6C/a,AdAAA,A4BAAA,EHlDvC+a,ARFN,AyKpBA,A9KsBMA,ATFN,A2BAA,ERkFC,AGhFUC,AXkDuCjb,AN8BjD,AIhFUib,AZkDuCjb,AmC8BjD,AP9BiDA,EHlDxB6a,ARC1B,ALD0BA,ATC1B,A2BAA,GR+EC,AG/EKK,AjB+EL,AI/EKA,AuB+EL,EV/EUD,AXiD8C3a,A4KxEhD6/F,A9KuBEllF,AZiD8C3a,A4BAAA,EHjD/Bwa,ARA1B,AyKvByBkb,A9KuBClb,ATA1B,A2BAA,E4JvB+BjZ,CjKwBxBmZ,AbAAA,CU8EN,AoKtGuColF,AlLsGvC,A2BAA,EV9EMplF,AbAAA,CEiDE7a,A4KxEFigG,A1LwEEjgG,A4BAAA,CHjDG+a,AbAAA,GaAQ,AiKtBhBklF,A9KsBgB,EaCTplF,AiKvBAtZ,A9KuBAsZ,CU6EV,AR7BQ7a,AN6BR,AR7BQA,AmC6BR,AP7BQA,EN/ET,AdAA,A2BAA,CrB+EiB,AdAA,A4BAA,GN/Eb2J,AG+BOkR,AiKZLqlF,AlLnBFv2F,AI+BOkR,AuB/BPlR,EbAW,AG+BCoR,AjB/BD,AI+BCA,AuB/BD,EViCL,AiKdJmlF,A9KcI,CE8CgBlgG,AdAAA,A4BAAA,C8J1DdmgG,E5K0DsBrgG,AdAAA,A4BAAA,GN/ET8J,AdAAA,A2BAAA,CrB+Ea/J,AdAAA,A4BAAA,EN9E7BgK,AdAAA,A2BAAA,CuJoBGs2F,GjKYKzlF,AiKTJwlF,A9KSIxlF,CE8C4Bva,AdAAA,A4BAAA,EN9EpC0J,AGiCA,AjBjCAA,AIiCA,AuBjCAA,IViCA,AbAA,CUjCKD,AdAAA,A2BAAA,CuJuBDs2F,EAAUE,CpKoFtB,AR7ByDtgG,AN6BzD,AR7ByDA,AmC6BzD,AP7ByDA,C8JvD7BugG,EAAMC,CjKWtB5lF,AXiDb,AFjDaA,AZiDb,A4BAA,E8J3DaylF,EpKmFZ,ARxBG//F,ANwBH,ARxBGA,AmCwBH,APxBGA,EdCAC,AdAAA,A4BAAA,CHlDSqa,AbAAA,CE4DZ,AdAA,A4BAA,CNaA,AGzEgBC,AiKVJwlF,AlLmFZ,AIzEgBxlF,AuByEhB,EbxGD,AGgCS,AiKXUnZ,AlLrBnB,AIgCS,AuBhCT,IbAIsI,AGgCK,AX2DR,AN3FGA,AIgCK,AZ2DR,AmC3FGA,AP2FH,C8JtEuB,CpKrBT,AdAA,A2BAA,IuJOJy2F,IjK0BE7lF,AbAAA,CUjCY9Q,AdAAA,A2BAAA,GbChBG,AdAAA,A2BAAA,CrB0FR,A4KpFqBq2F,A1LoFrB,A4BAA,EH1DY1lF,AiK1Be2lF,A9K0Bf3lF,EaAIC,AiK1BiB2lF,A9K0BjB3lF,EUhCR5Q,AdAAA,A2BAAA,CVgCa,AiKzBd,A9KyBc,CE0DrB,AdAA,A4BAA,CH1DyB,AbAA,EUhCZH,AGiCL,AjBjCKA,AIiCL,AuBjCKA,EuJOa,EpKD3B,AG2BS,AjB3BT,AI2BS,AuB3BT,MrBoFC,AdAA,A4BAA,CdAA,AdAA,A4BAA,ENpFQI,AG4BIgR,AjB5BJhR,AI4BIgR,AuB5BJhR,EbAWC,AdAAA,A2BAAA,EbAOC,AdAAA,A2BAAA,CrBoF1B,AdAA,A4BAA,C8JnFcxI,CpKCbuI,AG0BW+Q,AjB1BX/Q,AI0BW+Q,AuB1BX/Q,CuJAWvI,CpKAHuI,AG0BiByQ,AXwD1B,ANlFSzQ,AI0BiByQ,AZwD1B,AmClFSzQ,APkFT,C8JhFYvI,CjKwBiBiZ,AbAAA,CU1BX,AoKEEylF,AlLFF,A2BAA,EV4BV9gG,AiK1BkB+gG,A9K0BlB/gG,CU3BP4K,AdAAA,A2BAAA,CuJC+Bo2F,CpKDlBp2F,ARiFd,ANjFcA,ARiFd,AmCjFcA,APiFd,E8JtE6Bq2F,CpKXD,AoKWYH,AlLXZ,A2BAA,CV2BpB9gG,AXsDR,AFtDQA,AZsDR,A4BAA,C8JtE8C+gG,CpKVzC,AdAA,A2BAA,CuJU+CC,GpKT1C,AGyBI/gG,AjBzBJ,AIyBIA,AuBzBJ,ErB+EV,A4KtE8D,A1LsE9D,A4BAA,KN/EU,AoKYA2gG,AlLZA,A2BAA,CVyBYxlF,AbAAA,GUzBRvQ,AGyBa8Q,AXsD3B,AN/Ec9Q,AIyBa8Q,AZsD3B,AmC/Ec9Q,AP+Ed,EHtDwCuQ,AXhCzCxb,AFgCyCwb,AZhCzCxb,A4BAAA,C8JaI0gG,CjKmBwCjlF,AXhCtCra,AFgCsCqa,AZhCtCra,A4BAAA,CNOc2J,AoKMDi2F,AlLNCj2F,A2BAAA,EbAOC,AGyBsBgR,AiKnBnBilF,AlLNHj2F,AIyBsBgR,AuBzBtBhR,EVyBoCwQ,AbAAA,CUxB3D,AoKWOwlF,AlLXP,A2BAA,CVwB8DvlF,AbAAA,C8KpBtDwlF,CAQRF,CjKiBJ,AXrCgB1/F,AFqChB,AZrCgBA,A4BAAA,ENQL6J,AoKcT81F,AlLdS91F,A2BAAA,ErBRW,A4KsBV9J,A1LtBU,A4BAA,CNSd8J,AdAAA,A2BAAA,GbAW,AdAA,A2BAA,CV4BVwQ,AbAAA,EaAa7b,AbAAA,EErCUA,AdAAA,A4BAAA,CHsCtB,AiKhBY0C,A9KgBZ,EErCJjB,AdAAA,A4BAAA,G8JqBuBy/F,C5KrBvBz/F,AdAAA,A4BAAA,C8JqB4BiB,CpKb1B2I,ARRQtL,ANQRsL,ARRQtL,AmCQRsL,APRQtL,ENQN2C,ARRa1C,ANQb0C,ARRa1C,AmCQb0C,APRa1C,E8JsBrBmhG,C5KrBO,AdAA,A4BAA,CHoCQnhG,AiKfLuB,A9KeKvB,CU5BLqL,AdAAA,A2BAAA,EV6BH,AbAA,GErCA,AdAA,A4BAA,CNQGA,AG6BH,AjB7BGA,AI6BH,AuB7BGA,EbOH,AdAA,A2BAA,CuJMayrB,C5KrBR12B,AdAAA,A4BAAA,ENUNkL,AdAAA,A2BAAA,EuJWqBwrB,EpKPrBvrB,AoKQNy1F,AlLRMz1F,A2BAAA,CrBda9J,AdAAA,A4BAAA,CNcH,AGwBL,AiKhBLq1B,AlLRU,AIwBL,AuBxBK,GrBZlB32B,A4KoBgBghG,A1LpBhBhhG,A4BAAA,CNQyC,AdAA,A2BAA,CrBRnCoB,A4KwBN,A1LxBMA,A4BAAA,EHoCO,AbAA,KaCJ,AbAA,E8KbAkgG,C5KxBO//F,AdAAA,A4BAAA,CHqCP,AiKbMggG,A9KaN,E8KbgBC,C5KxBH,AdAA,A4BAA,E8JyBhBphG,GpKjBmBiL,AoKiBnBjL,AlLjBmBiL,A2BAAA,CV8BfxL,AbAAA,GEtCsBA,AdAAA,A4BAAA,EdAK2B,A4KyBzBnB,A1LzByBmB,A4BAAA,EHsC3B3B,AbAAA,CErCJyB,AdAAA,A4BAAA,GNOiD+J,AG8BrC4Q,AjB9BqC5Q,AI8BrC4Q,AuB9BqC5Q,CrBPjD/J,AdAAA,A4BAAA,CHqCY2a,AiKbEslF,A9KaFtlF,CErCFrc,AdAAA,A4BAAA,EHqCcC,AXrCPA,A4KwBQ,A9KaDA,AZrCPA,A4BAAA,C8JyBfU,E5KvBC,AdAA,A4BAA,EHmC8B0b,AiKZ/B1b,A9KY+B0b,EU7BI,AG6BJA,AiKZzBslF,AlLjB6B,AI6BJtlF,AuB7BI,EuJiBpBzb,CjKY4BsF,AXpC5C7F,AFoC4C6F,AZpC5C7F,A4BAAA,KdAAA,AdAAA,A4BAAA,CHoCkDJ,AiKPjDU,A9KOiDV,GaC1C,AbAA,GErCDyB,AdAAA,A4BAAA,C8JyBVigG,CjKcS1hG,AbAAA,CEvCY2B,A4KyBV+/F,A1LzBU//F,A4BAAA,CHwChB,AbAA,CUjCgB8J,AoKkBDiJ,AlLlBCjJ,A2BAAA,CrBNhB,AdAA,A4BAA,EHuCA,AbAA,CErCTtL,A4KsB4B,A1LtB5BA,A4BAAA,EdAMoB,AdAAA,A4BAAA,MHsCI8a,AbAAA,C8KhB4B5b,CpKlBmBgL,AdAAA,A2BAAA,EVkC/C4Q,AXtCMza,A4KuBH+F,A9KeH0U,AZtCMza,A4BAAA,EHsCI5B,AbAAA,EaCVO,AXvCY,AFuCZA,AZvCY,A4BAA,GHuCZA,AiKhBGoH,A9KgBHpH,KUlCkC,AdAA,A2BAA,CVkC5BC,AXvCgBR,AFuChBQ,AZvCgBR,A4BAAA,C8JuBZS,E5KrBXgB,AdAAA,A4BAAA,G8JwBDf,EjKagBV,AiKbV,A9KaUA,EEtCRD,A4K0BH,A1L1BGA,A4BAAA,CHsCc,AbAA,CaClBW,AXvCWV,AFuCXU,AZvCWV,A4BAAA,IHuCXU,AbAAA,CEtCQ,AdAA,A4BAA,CHsCFV,AbAAA,CUnCO0L,AdAAA,A2BAAA,CVmCH/K,AiKbCmF,A9KaDnF,EEtCGP,AdAAA,A4BAAA,KHuCjBJ,AiKdsB2hG,A9KctB3hG,EaAM,AiKduB,A9KcvB,CErCdG,AdAAA,A4BAAA,EdAMoB,AdAAA,A4BAAA,CHqCYhB,AbAAA,CUpCwCmL,AoKsBhB5F,AlLtBgB4F,A2BAAA,KVoClChL,AbAAA,E8KdyBghG,CjKepC,AXtCG7/F,AFsCH,AZtCGA,A4BAAA,C8JuB0C0M,GjKe7C,AbAA,GUpCK5C,ARFO,A4KuBuC,AlLrB9CA,ARFO,AmCEPA,APFO,CHsCRlL,AbAAA,C8KfkDC,CjKe9C,AbAA,C8KfoD,CjKejDD,AbAAA,EaAIC,AiKfgDqY,A9KehDrY,EaAKD,AXtCET,AFsCFS,AZtCET,A4BAAA,GdC7ByB,A4KsB2E,A1LtB3EA,A4BAAA,CHsCIzB,AbAAA,EaAIS,AbAAA,CEtCRgB,AdAAA,A4BAAA,EHsCaoa,AXtCH9b,A4KsBwE,A9KgBrE8b,AZtCH9b,A4BAAA,CNGHU,AdAAA,A2BAAA,CVmCmB4b,AXtCTrc,AFsCSqc,AZtCTrc,A4BAAA,CNGN,AdAA,A2BAA,CVmCuBS,AbAAA,CUnCpBA,ARFdqB,ANEcrB,ARFdqB,AmCEcrB,APFdqB,ENEkBoJ,ARFZzJ,ANEYyJ,ARFZzJ,AmCEYyJ,APFZzJ,ENEkBd,AoKmBqE+gG,AlLnBrE/gG,A2BAAA,EuJmB8ED,CjKmB/F,AXxCU,AFwCV,AZxCU,A4BAA,CHwCV,AiKnBqG,A9KmBrG,GUtCyBD,AGsCrBT,AiKlBM,AlLpBeS,AIsCrBT,AuBtCqBS,CrBFVL,AdAAA,A4BAAA,ENEe,AdAA,A2BAA,CuJoB5BM,CpKnBT6K,AdAAA,A2BAAA,CuJoBO,CpKpBCK,AdAAA,A2BAAA,CrBDL9J,AdAAA,A4BAAA,KHsCuB6O,AbAAA,CUrCXzF,AdAAA,A2BAAA,EbAMzK,AoKoBJqF,AlLpBIrF,A2BAAA,EVsCZT,AbAAA,EUpCJuL,AdAAA,A2BAAA,ErBJF,AdAA,A4BAA,C8JsBqBo2F,EjKkBf3hG,AiKlBsB,A9KkBtBA,EUpCJuL,AGoCQ+Q,AXxCLlc,ANIHmL,AIoCQ+Q,AZxCLlc,AmCIHmL,APJGnL,ENIKyL,AdAAA,A2BAAA,CuJkBuB/F,I5KtBrBrE,AdAAA,A4BAAA,EHyCR,AbAA,CUrCc0J,ARHlBrJ,A4KqBwC4/F,AlLlBtBv2F,ARHlBrJ,AmCGkBqJ,APHlBrJ,ENG6B+E,AGqCb,AiKnBiC,AlLlBpBA,AIqCb,AuBrCaA,CrBDtC1G,AdAAA,A4BAAA,EdAMoB,A4KmBwD,A1LnBxDA,A4BAAA,INON,AG+BiBvB,AjB/BjB,AI+BiBA,AuB/BjB,EViCa,AbAA,E8KrByD8F,EjKqBzD,AXxCG/D,AFwCH,AZxCGA,A4BAAA,GNOP+J,AdAAA,A2BAAA,CViCQyQ,AbAAA,CUjCkBxQ,AoKY0C21F,AlLZ1C31F,A2BAAA,EuJYmD,CpKR/E,ARXmB,ANWnB,ARXmB,AmCWnB,APXmB,CHuClB/L,AbAAA,EaAM,AiKlBD,A9KkBC,CU/BRW,AdAAA,A2BAAA,EVgCgB0b,AbAAA,EUhChB1b,AGiCQ0b,AjBjCR1b,AIiCQ0b,AuBjCR1b,CrBR8BqB,A4KqBjB8D,A1LrBiB9D,A4BAAA,CNQrB+J,AdAAA,A2BAAA,CViCDsQ,AbAAA,CUjCK1b,ARNZ,ANMYA,ARNZ,AmCMYA,APNZ,CHuCekQ,AbAAA,GExChB5O,A4KoBoB0/F,A1LpBpB1/F,A4BAAA,E8JoB2B,CpKZ3B+J,AdAAA,A2BAAA,CrBRA/J,AdAAA,A4BAAA,CNQM,AdAA,A2BAA,CrBRCf,AdAAA,A4BAAA,C8JoByB4E,EpKZtBmG,AdAAA,A2BAAA,GVgCqBsQ,AbAAA,CExCjBta,AdAAA,A4BAAA,C8JoByBy/F,CjKoBJ,AbAA,CaCzBllF,AiKrBsC,A9KqBtCA,EEzCS,AdAA,A4BAA,EHyCTA,AiKlBL,A9KkBKA,CUjCY7b,AdAAA,A2BAAA,CViCN0b,AbAAA,CEzCQjc,AdAAA,A4BAAA,CNSxByI,AGgCwB0T,AjBhCxB1T,AIgCwB0T,AuBhCxB1T,EbAM,AoKcD,AlLdC,A2BAA,IbAIqD,AdAAA,A2BAAA,CrBRLzL,AdAAA,A4BAAA,CHyCoB,AiKnBdqF,A9KmBc,CEzChB,AdAA,A4BAA,EdAGpF,AdAAA,A4BAAA,CHyCK8b,AbAAA,CEzCCva,AdAAA,A4BAAA,EdAKtB,A4KsBLghG,A1LtBKhhG,A4BAAA,CH0CfX,AbAAA,CUlCagM,AoKcI,AlLdJA,A2BAAA,CVkCTuQ,AbAAA,EUjCP9b,AdAAA,A2BAAA,CViCYob,AbAAA,CUjCR,ARTsBpb,A4KsBDqF,AlLbrB,ARTsBrF,AmCStB,APTsBA,CH0CD+b,AbAAA,CUjClB/b,ARTuBC,ANSvBD,ARTuBC,AmCSvBD,APTuBC,ENSnBC,ARTwBF,ANSxBE,ARTwBF,AmCSxBE,APTwBF,ENShBA,AdAAA,A2BAAA,CVuCrBT,AiK1BkC2H,A9K0BlC3H,CEhD0C,AdAA,A4BAA,CdC3CA,AdAAA,A4BAAA,CNSJ6I,AdAAA,A2BAAA,EbAIpI,AdAAA,A2BAAA,CrBTAT,AdAAA,A4BAAA,CH+CCA,AiK1ByC0hG,A9K0BzC1hG,CUtCI+L,ARTC9J,ANSD8J,ARTC9J,AmCSD8J,APTC9J,CHkDd,AbAA,CUzCiBkK,ARTE1L,ANSF0L,ARTE1L,AmCSF0L,APTE1L,C8J0BnB,E5KvBIuB,AdAAA,A4BAAA,EdFY,AdAA,A4BAA,GHiDPya,AbAAA,EaASzc,AXjDGI,A4KyBZ28B,A9KwBS/8B,AZjDGI,A4BAAA,CNQOK,AdAAA,A2BAAA,CuJiBRoK,CjKyBd7K,AbAAA,CUxCGgM,AoKegB41F,AlLfhB51F,A2BAAA,EVwCK,AiKzBmBy2B,A9KyBnB,CElDcziC,AdAAA,A4BAAA,E8J0BnB6K,C5KzBL7K,AdAAA,A4BAAA,CNSKgM,AdAAA,A2BAAA,CrBTC/L,AdAAA,A4BAAA,CNYV,AGqCMD,AjBrCN,AIqCMA,AuBrCN,CrBZmBA,AdAAA,A4BAAA,CHkDP,AbAA,C8KzBH6K,EAAIipB,E5KrBb5yB,AdAAA,A4BAAA,ENQSkL,AdAAA,A2BAAA,EbAmBC,AdAAA,A2BAAA,EbAWxF,AoKalB47B,AlLbkB57B,A2BAAA,CrBRhC3E,AdAAA,A4BAAA,ENSE+I,AGqCUjL,AiKzBSyiC,AlLZnBx3B,AIqCUjL,AuBrCViL,EuJYyB,CjK0BvB,AbAA,C8K1B2B,GpKZ7BA,AGsCE,AiK1BgCw3B,AlLZlCx3B,AIsCE,AuBtCFA,EbAW,AoKY4B22F,AlLZ5B,A2BAA,CbAC91F,AdAAA,A2BAAA,CuJYkCnL,CpKZR0L,AdAAA,A2BAAA,CrBTzBlM,AdAAA,A4BAAA,EdAMoB,AdAAA,A4BAAA,CNSgC,AdAA,A2BAA,CbACsF,AGuC9C7G,AjBvC8C6G,AIuC9C7G,AuBvC8C6G,IuJYM+6F,CpKZA/6F,AdAAA,A2BAAA,CuJgBnE,CjKuBe7G,AbAAA,CEhDwB,AdAA,A4BAA,CNYvC,AGoCqB,AjBpCrB,AIoCqB,AuBpCrB,EVoCyB,AbAA,EaCd,AbAA,EEjDoC,A4KyBtCuoC,A1LzBsC,A4BAA,CdC7C/mC,AdAAA,A4BAAA,CHgDS,AiKxBOqJ,A9KwBP,CUrCFyB,AdAAA,A2BAAA,CuJacs1F,CpKbDr1F,ARXf,ANWeA,ARXf,AmCWeA,APXf,C8JwBwBs1F,CpKbJh7F,AdAAA,A2BAAA,EuJkBlBgE,CpKjBAuB,AdAAA,A2BAAA,CVqCMsQ,AbAAA,KEhDJxb,AdAAA,A4BAAA,CNWFkL,AdAAA,A2BAAA,CVqCMsQ,AbAAA,CUrCa9R,AdAAA,A2BAAA,CVqCQ5K,AbAAA,CUrCCuM,AoKalB7H,AlLbkB6H,A2BAAA,EVsC1B,AXjDArL,AFiDA,AZjDAA,A4BAAA,CNWgC2F,AdAAA,A2BAAA,CuJarCg7F,EpKPN,AGgCW,AjBhCX,AIgCW,AuBhCX,CuJOgCA,E5KxBd5/F,A4KwByB4I,A1LxBzB5I,A4BAAA,E8JwB6BtB,G5KxBxB,AdAA,A4BAA,CNiBd6L,AGuCMxM,AjBvCNwM,AIuCMxM,AuBvCNwM,EbA0BC,AdAAA,A2BAAA,ErBjBPrM,AdAAA,A4BAAA,CNqBrB,AdAA,A2BAA,CuJIHyhG,CjK+BW7hG,AbAAA,C8K/BA6K,CpKPT6B,AGuCK+M,AjBvCL/M,AIuCK+M,AuBvCL/M,CuJOa/L,E5KzBiBA,AdAAA,A4BAAA,CNkB9B+L,AdAAA,A2BAAA,EbAS,AdAA,A2BAA,EVuCI,AbAA,CUtCbC,AoKSG9B,AlLTH8B,A2BAAA,EbAQ,AoKSDzM,AlLTC,A2BAA,ErBLdG,AdAAA,A4BAAA,ENKkB6L,ARLZ3K,ANKY2K,ARLZ3K,AmCKY2K,APLZ3K,GH2CwB,AbAA,G8K7BPsgG,EAAWD,CjK8BvBnoF,AbAAA,CE5CK7Y,A4KcyBD,A1LdzBC,A4BAAA,CNKa6L,AdAAA,A2BAAA,GbCvB9L,ARNgB,ANMhBA,ARNgB,AmCMhBA,APNgB,ENMPgM,AdAAA,A2BAAA,CVsCI,AiK9B8Bk1F,A9K8B9B,CUtCEj1F,AdAAA,A2BAAA,IuJQ0Cg1F,C5Kd/B5hG,AdAAA,A4BAAA,C8JkBhC,E5KjBS,AdAA,A4BAA,CH2CqB,AbAA,EUrCnBS,AdAAA,A2BAAA,EbAI,AdAA,A2BAA,EbAGA,AGsCPgZ,AX5CF,A4KiBA8kB,AlLXS99B,AIsCPgZ,AZ5CF,AmCMShZ,APNT,ENMaE,AoKWJkK,AlLXIlK,A2BAAA,EbAQF,AoKWPmhG,AlLXOnhG,A2BAAA,CrBNhBL,AdAAA,A4BAAA,C8JiBiBgO,EpKV3B1B,AGqCe,AjBrCfA,AIqCe,AuBrCfA,CuJeE0B,EpKfQzG,AdAAA,A2BAAA,CrBPOjG,AdAAA,A4BAAA,G8JkBE,C5KlBE1B,AdAAA,A4BAAA,ENOJ6M,AGqCS,AjBrCTA,AIqCS,AuBrCTA,CrBPS,AdAA,A4BAA,IdE9BxM,AdAAA,A4BAAA,CH4CW,AbAA,CE5CLkB,AdAAA,A4BAAA,GH4CK,AbAA,GUvCuBoL,AdAAA,A2BAAA,CuJWrByB,CpKX2B3N,AdAAA,A2BAAA,ErBLxBmB,AdAAA,A4BAAA,C8JiBZwM,CpKVK1B,AGsCGlM,AjBtCHkM,AIsCGlM,AuBtCHkM,CuJUG,C5KjBU,AdAA,A4BAA,EH6CVlM,AbAAA,EaAUD,AiKzBhB6N,A9KyBgB7N,CUtCbmM,AdAAA,A2BAAA,CuJaKk1F,CpKTd,AdAA,A2BAA,CuJSqBjhG,C5KpBWX,AdAAA,A4BAAA,CH6CJQ,AbAAA,EE5CnB,AdAA,A4BAA,G8JmBqBqK,CpKTrBiC,AdAAA,A2BAAA,CuJSyBnM,CpKTNoM,AGkCQ/M,AjBlCR+M,AIkCQ/M,AuBlCR+M,CrBVnB,AdAA,A4BAA,CNUyBC,AdAAA,A2BAAA,CVmCtBnE,AbAAA,EUlCNoE,AGkCYzM,AjBlCZyM,AIkCYzM,AuBlCZyM,CrBXQ7M,AdAAA,A4BAAA,CH6CcJ,AbAAA,EUlCtBiN,AGkC4B/L,AiKvBS,AlLXrC+L,AIkC4B/L,AuBlC5B+L,EbAS,AdAA,A2BAA,ErBXMrL,A4KsBViJ,A1LtBUjJ,A4BAAA,ENWFsL,AoKWJqM,AlLXIrM,A2BAAA,CVkCsBjL,AbAAA,CE7ChBjC,AdAAA,A4BAAA,IH6CqBA,AX3C9CK,AF2C8CL,AZ3C9CK,A4BAAA,EdAMkB,A4KoBiBqgG,A1LpBjBrgG,A4BAAA,CH4CMd,AbAAA,C8KxBmB2N,CpKVzBjB,AdAAA,A2BAAA,CVkCW,AbAA,CUlC4C,AoKc7D8zF,AlLd6D,A2BAA,CVmCjDvgG,AbAAA,C8KrBI,CjKqBEmI,AbAAA,EaAIlI,AX7CNoB,AF6CMpB,AZ7CNoB,A4BAAA,OH8CJsL,AbAAA,CE9Cc,AdAA,A4BAA,CH8CL,AbAA,GaCT7M,AbAAA,EUrCmByM,AdAAA,A2BAAA,CVqCnBzM,AbAAA,CUrC0BsM,AdAAA,A2BAAA,CVsCrB,AXhDmB9K,AFgDnB,AZhDmBA,A4BAAA,GdC7B5B,AdAAA,A4BAAA,C8JuBkC,GjKwBtBK,AbAAA,CE/CZL,AdAAA,A4BAAA,CH+CgBM,AbAAA,GaCX2M,AbAAA,C8KzBuC3K,EjKyB7Bia,AXhDR5a,A4KuB2CJ,A9KyBnCgb,AZhDR5a,A4BAAA,EHgD0B8G,AbAAA,CUtCtCoE,AoKcO,AlLdPA,A2BAAA,CVsC0CxM,AbAAA,CUtCnC2M,AdAAA,A2BAAA,GrBVa,AdAA,A4BAA,C8JwBb,IjK2BQ,AbAA,EUzCI,AdAA,A2BAA,ErBVWzL,AdAAA,A4BAAA,EdAO3B,AdAAA,A4BAAA,CHmDpBS,AbAAA,EaAIC,AXlDnBsB,AFkDmBtB,AZlDnBsB,A4BAAA,C8JuBqBL,CpKdM0J,ARTxBrL,ANSwBqL,ARTxBrL,AmCSwBqL,APTxBrL,CHkDqB,AiK3BK,A9K2BL,CaCZ4c,AbAAA,CUzCRvP,AdAAA,A2BAAA,GVyCQuP,AXhDhB1b,AFgDgB0b,AZhDhB1b,A4BAAA,CNOQmM,AdAAA,A2BAAA,CVyCiBxE,AbAAA,CUzCRwC,AdAAA,A2BAAA,CVyCY5K,AbAAA,CUzCV0E,AdAAA,A2BAAA,EV0CPkI,AXjDLnL,AFiDKmL,AZjDLnL,A4BAAA,GHiDeya,AbAAA,EU1CItP,AG0CcuP,AjB1CdvP,AI0CcuP,AuB1CdvP,GV2CVsP,AbAAA,EaAkB3c,AbAAA,EaAI4c,AbAAA,CU3CF,AdAA,A2BAA,ErBPdvc,AdAAA,A4BAAA,CNQd8M,AG6COE,AiKjCgD3K,AlLZvDyK,AI6COE,AuB7CPF,CrBRoB5L,AdAAA,A4BAAA,C8JoB0C,CpKZ9D4L,AdAAA,A2BAAA,EbCKH,AdAAA,A2BAAA,EV4CEK,AiKhCZlG,A9KgCYkG,EaGN,AbAA,EExD8B,AdAA,A4BAA,CNS1BL,AdAAA,A2BAAA,EbASK,AdAAA,A2BAAA,CV+Cb,AbAA,EU7CLL,AdAAA,A2BAAA,CVmDJ,AX9D+C,A4KsB/Ci0F,A9KwCA,AZ9D+C,A4BAA,CNWlCz0F,ARVXhL,ANUWgL,ARVXhL,AmCUWgL,APVXhL,C8JqBc,CpKXuB6L,AdAAA,A2BAAA,ErBVhC,AdAA,A4BAA,GNYDF,AdAAA,A2BAAA,CViDGwP,AbAAA,CUhDL1P,AdAAA,A2BAAA,CVgDuBjN,AbAAA,CUhDhB8M,AdAAA,A2BAAA,EVmDFiP,AbAAA,EE/DE,AdAA,A4BAA,KH+DFA,AbAAA,EaDP/b,AX9DS,AF8DTA,AZ9DS,A4BAA,EH8DH6b,AiK1CgC,A9K0ChCA,EaAa7b,AbAAA,CE9DLI,AdAAA,A4BAAA,GNYc2M,AGmDC0O,AjBnDD1O,AImDC0O,AuBnDD1O,EVmDO0P,AbAAA,CUjDjCxP,AoKM8CvK,AlLN9CuK,A2BAAA,CViD0CjN,AX/DvBmC,AF+DuBnC,AZ/DvBmC,A4BAAA,CNcZmL,AoKM6Co0F,AlLN7Cp0F,A2BAAA,EV+CE,AiKzCqDw0F,A9KyCrD,G8KvCPC,EjK4CN,AXrCC,AFqCD,AZrCC,A4BAA,E8JPKA,EASA5qF,EAEAoxB,E5KJL,AdAA,A4BAA,CHqCQ1rB,AiK1CiB,A9K0CjBA,EUpDoB9P,AGoDRlC,AjBpDQkC,AIoDRlC,AuBpDQkC,CrBe5B,AdAA,A4BAA,CHqCyBtM,AbAAA,CUhD1B,ARWC,ANXD,ARWC,AmCXD,APWC,EHsCKqc,AbAAA,IaCAC,AbAAA,EaDAD,AXtCL,AFsCKA,AZtCL,A4BAA,CNXQvP,AdAAA,A2BAAA,CViDW9M,AbAAA,CUjDQ+M,AdAAA,A2BAAA,CVoDtBwP,AXzCL,A4KLY0kF,A9K8CP1kF,AZzCL,A4BAA,CNXyChQ,AdAAA,A2BAAA,CrBIpCnM,AdAAA,A4BAAA,CH+CkB,AiK7Cck8B,A9K6Cd,CUlDtBjwB,AdAAA,A2BAAA,CuJK+C40F,CpKL5Bl0F,AdAAA,A2BAAA,CrBIjBnM,A4KCuD,A1LDvDA,A4BAAA,CNJ+B,AdAA,A2BAA,CVkDtBwJ,AbAAA,EaAIpK,AbAAA,GaEbsc,AbAAA,CEhDA1b,AdAAA,A4BAAA,CHgDM,AiK9CN0gG,A9K8CM,CUpDmCh2F,AdAAA,A2BAAA,CVqDzCtL,AiK/Ca,A9K+CbA,CEjDAY,AdAAA,A4BAAA,CNHA2L,AdAAA,A2BAAA,CrBGchM,AdAAA,A4BAAA,CNHL+K,AdAAA,A2BAAA,GrBITzK,AdAAA,A4BAAA,CHiDK,AbAA,CUjDT,AGkDQ2b,AjBlDR,AIkDQA,AuBlDR,IVkDQA,AbAAA,C8KhDJykF,CjKgDqB,AXlDrBpgG,AFkDqB,AZlDrBA,A4BAAA,C8JEWogG,EpKFNj0F,AoKEegM,AlLFfhM,A2BAAA,CrBALnM,AdAAA,A4BAAA,CNAkBkM,AdAAA,A2BAAA,CVkDR3C,AXlDI9J,AFkDJ8J,AZlDI9J,A4BAAA,CNAkBiM,AdAAA,A2BAAA,CVkDlBvM,AbAAA,EUjDhB8M,AdAAA,A2BAAA,CVkDE9M,AiKjD4B,A9KiD5BA,CUlDiB+M,ARCjBnM,ANDiBmM,ARCjBnM,AmCDiBmM,APCjBnM,END+B,AdAA,A2BAA,CVmD3B6b,AbAAA,IaAAA,AiKlDiC,A9KkDjCA,CElDJ7b,AdAAA,A4BAAA,CHkDkB,AbAA,EUnDuBqM,AdAAA,A2BAAA,CVoDrCyP,AXnDJ9b,A4KEA0gG,A9KiDI5kF,AZnDJ9b,A4BAAA,ENAA2L,AGmDkBnC,AXnDJxK,A4KED,AlLFb2M,AImDkBnC,AZnDJxK,AmCAd2M,APAc3M,ENAL0K,AGmDa7K,AXlDtBoB,ANDSyJ,AImDa7K,AZlDtBoB,AmCDSyJ,APCTzJ,ENDkBoM,AdAAA,A2BAAA,MbKtB,ARJIpM,A4KMEinC,AlLFN,ARJIjnC,AmCIJ,APJIA,EHkDgCb,AiK5CrBiC,A9K4CqBjC,EaAGA,AXlDnCa,A4KMiB,A9K4CkBb,AZlDnCa,A4BAAA,EHkDuCka,AXlDzBrb,AFkDyBqb,AZlDzBrb,A4BAAA,GNITmN,AG+CD8P,AjB/CC9P,AI+CD8P,AuB/CC9P,EbAkBP,AG+CP2I,AjB/CO3I,AI+CP2I,AuB/CO3I,EbAMC,AdAAA,A2BAAA,GbC3BC,AdAAA,A2BAAA,CuJGFkK,EAAM,CpKHJlK,AG8CuBkQ,AjB9CvBlQ,AI8CuBkQ,AuB9CvBlQ,EbAS,AG8C2B,AjB9C3B,AI8C2B,AuB9C3B,IbAIC,AG8C6BqO,AiK3C/BzV,AlLHEoH,AI8C6BqO,AuB9C7BrO,EVoDR,AbAA,IaJH+P,AbAAA,C8K7CgBva,EAAM,CjK8CxB0a,AbAAA,CUhDJnQ,AdAAA,A2BAAA,EbAOG,AGgDUgQ,AjBhDVhQ,AIgDUgQ,AuBhDVhQ,CuJE0BtH,EjKgD/BrF,AbAAA,GaAK+a,AbAAA,E8KhDiCumF,EpKFrB,AGmDJ,AiKjDqC,AlLFjC,AImDJ,AuBnDI,CVoDX1kF,AbAAA,IaAAA,AiKlDiDvX,A9KkDjDuX,EaAKxS,AbAAA,EUpDgBQ,AGoDZ5K,AjBpDY4K,AIoDZ5K,AuBpDY4K,GbCvBgC,AGoDEgQ,AiKnDwDokF,AlLD1Dp0F,AIoDEgQ,AuBpDFhQ,EuJCgEq0F,CjKmDvD,AbAA,CUpDTr0F,AoKC0E,AlLD1EA,A2BAAA,EbAShC,AdAAA,A2BAAA,EbAElG,AdAAA,A2BAAA,EVoDTkY,AbAAA,EaCF,AbAA,GUrDkBhQ,AdAAA,A2BAAA,EuJEjB,CjKqDD6P,AiKpDArW,A9KoDAqW,GaAeG,AbAAA,C8KpDfxW,CpKH4B,AGyD9BpG,AjBzD8B,AIyD9BA,AuBzD8B,CuJGrB89B,EAAS77B,CpKHgBuJ,AG6DlC8Q,AjB7DkC9Q,AI6DlC8Q,AuB7DkC9Q,CuJGV,CjKyDC,AbAA,I8KzDM,CjKwDjCiR,AbAAA,EaAcA,AbAAA,EaAYtE,AbAAA,CU3DsB,AdAA,A2BAA,GbChD5L,AdAAA,A2BAAA,EbASK,AG0DuB,AiKxDc,AlLFrCA,AI0DuB,AuB1DvBA,IbEXJ,AdAAA,A2BAAA,EbAOK,AGyDW3M,AjBzDX2M,AIyDW3M,AuBzDX2M,KuJCL6J,EjKyDQzB,AiKzDF,A9KyDEA,Q8KzDO5P,CjKyDEoX,AbAAA,EU1DMnQ,AG0DO,AjB1DPA,AI0DO,AuB1DPA,GbI3B,AdAA,A2BAA,CVyDYuQ,AiK5Dc5a,A9K4Dd4a,E8K5DoB,MpKGvB3P,AoKH8B7H,AlLG9B6H,A2BAAA,GVyDcuP,AbAAA,EUxDtB,AGwDkC,AjBxDlC,AIwDkC,AuBxDlC,EuJJ6CrW,CjK4DN,AbAA,C8K5DY,GjK4DNqW,AbAAA,CUxD7C,AdAA,A2BAA,CVwDyD,AiK5DDpX,A9K4DC,IUxDzD,AG2DOmX,AjB3DP,AI2DOA,AuB3DP,GuJJ+D8kF,CjKgE1DhlF,AbAAA,C8KhEsE,EjKgE1D,AbAA,G8KhE+DjX,CjKmE3D,AbAA,IaAdsX,AbAAA,E8KnEgFqkF,EjKuElF1kF,AiKvEwF2kF,A9KuExF3kF,EaAMO,AiKvE4F,A9KuE5FA,S8KnEHnG,EjKmEc4F,AbAAA,EaAM,AbAA,G8KpE3B5F,CjKoEiCiG,AbAAA,E8KpE1B,EjKuEA,AbAA,MaAA,AbAA,CaACL,AbAAA,IaAKA,AbAAA,EaAKpc,AbAAA,I8KvEQmF,GjKuECrF,AbAAA,EaAIqc,AbAAA,E8KvESglF,CjK4E1C,AbAA,C8K5E0CA,KAEvC36F,GjK0EMgC,AbAAA,EaAIoU,AbAAA,EaAOC,AbAAA,GaCdjL,AbAAA,C8K1EN0uF,EAAgB,CjK0EV1uF,AbAAA,EaAMgL,AbAAA,EaAMpU,AbAAA,MaEZqU,AbAAA,GaAAA,AbAAA,EaAU7c,AbAAA,OaAQ,AbAA,CaChB8c,AbAAA,IaAAA,AiK7EqC,A9K6ErCA,EaAkBD,AbAAA,EaAUA,AbAAA,EaAU7c,AbAAA,OaAS,AbAA,GaC/C4R,AbAAA,IaAQkL,AbAAA,EaAgBC,AbAAA,K8K7EhCujF,EAAgB,GjK+EVzjF,AbAAA,EaAUrU,AbAAA,MaCVsU,AbAAA,EaAkBD,AbAAA,EaAUA,AbAAA,EaAU7c,AbAAA,OaAS,AbAA,IaE7C+c,AbAAA,C8KlFsC,GjKkFtCA,AbAAA,EaAUD,AbAAA,EaAgBC,AbAAA,E8KlFsBhb,GAC/C,GjKkFDib,AbAAA,EaAmBF,AbAAA,C8KlFlB,CjKkFkCvU,AbAAA,MaCnC3I,AiKnFUmC,A9KmFVnC,E8KnFiB,CjKmFjBA,AbAAA,MaAMC,AbAAA,QaAQkd,AbAAA,GaChBA,AbAAA,EaAQlW,AbAAA,KaAK+K,AbAAA,M8KlFnB0uF,EjKmFW,AiKnFK,A9KmFL,GaAItjF,AbAAA,IaAqBJ,AbAAA,EaAM5c,AbAAA,OaAS,AbAA,EaAG,AbAA,CaEhD+c,AbAAA,EaDUH,AbAAA,EaAMpU,AbAAA,M8KpFwB,CjKqFzBoJ,AbAAA,OaEfgL,AbAAA,EaAM/V,AbAAA,KaAK+K,AbAAA,IaKjB,AiK3FA0uF,A9K2FA,E8K3FgB,OjK2FPrjF,AbAAA,EaAqB/S,AbAAA,GaMrB,AbAA,IaLH0S,AbAAA,IaAAA,AbAAA,EaAQ,AbAA,C8K5F0B,EjK6FlCC,AbAAA,EaAY,AbAA,GaCZ/c,AbAAA,EaAI,AiK9FwCiC,A9K8FxC,G8K7FD,CjKgGM,AbAA,CaCPqZ,AbAAA,IaAAA,AiKjGC,A9KiGDA,EaAiBlR,AbAAA,EaAIpK,AbAAA,KaCrBsb,AbAAA,GaAmB,AbAA,G8KlGDrZ,EAAO,EjKkGzBqZ,AbAAA,EaQIA,AbAAA,OaAAA,AbAAA,GaCD,AbAA,IaAA,AbAA,IaCHwB,AbAAA,EaAM/V,AbAAA,KaAK,AbAA,K8K1GnBy5F,CjK2GQ,AbAA,C8K3GQ,KjK4GL,AbAA,IaAA,AbAA,IaCH1jF,AbAAA,EaAM/V,AbAAA,KaAgB,AbAA,I8K7GW,EjK6GtBqD,AbAAA,EaAIpK,AbAAA,IaCfA,AbAAA,IaCA,AbAA,MaCG,AbAA,IaAA,AbAA,IaCCod,AbAAA,IaAAA,AbAAA,EaAYhB,AbAAA,EaAYhS,AiKhHpCo2F,A9KgHoCp2F,EaAKpK,AiKhHzB,A9KgHyBA,GaCjC8c,AbAAA,EaAM/V,AbAAA,KaAKqW,AbAAA,EaAUd,AbAAA,KaCrBtc,AbAAA,GaAKod,AbAAA,EaAUld,AbAAA,G8KlHmB,IjKmHlC,AbAA,MaCG,AbAA,IaAA,AbAA,IaGI,AbAA,IaFHmd,AbAAA,IaAAA,AbAAA,EaAY,AbAA,C8KpHxBmjF,EAAgB,EjKsHK,AbAA,CaCP5jF,AbAAA,IaAAA,AbAAA,EaAKxS,AbAAA,EaAIpK,AbAAA,GaCT4c,AbAAA,GaAO,AbAA,OaAPA,AbAAA,EaCF,AbAA,G8KzHkC,GjK2HpCS,AbAAA,GaAaT,AbAAA,EaCb5c,AbAAA,IaKFqd,AbAAA,EaAYA,AbAAA,EaAUrE,AbAAA,G8KhI9BwnF,EAAgB,GjKgIsB,AbAA,gBaAiB,AbAA,MaC5CxnF,AiKjI+B,A9KiI/BA,QaAQ,AbAA,gBaAiB,AbAA,KaCzBA,AbAAA,QaAQ,AbAA,C8KlI8DtS,WACjF85F,EAAgB,EjKiIoB,AbAA,KaE5B1jF,AbAAA,EaAM/V,AbAAA,KaAKsW,AbAAA,GaCX,AbAA,MaCG,AiKrI6B,A9KqI7B,IaAA,AbAA,IaCCC,AbAAA,C8KtIsCzU,GjKsItCyU,AiKrIH,A9KqIGA,EaAe,AbAA,CaAEL,AbAAA,G8KrIpB,KjKqI6B,AbAA,GaAIxU,AbAAA,MaAOqU,AbAAA,EaAM5c,AbAAA,K8KrIvB2I,GjKsIxBiU,AiKrILpW,A9KqIKoW,EaAM/V,AbAAA,KaAKuW,AbAAA,EaAaL,AbAAA,E8KpIhCujF,EAAgB,KjKqIRzjF,AbAAA,EaAUhW,AbAAA,KaAKuW,AbAAA,GaCf,AbAA,MaCG,AbAA,IaAA,AbAA,IaCCC,AbAAA,IaAAA,AbAAA,EaAa,AbAA,CaAEN,AbAAA,C8KxI2B,OjKwIlB,AbAA,GaAIxU,AbAAA,MaAOqU,AbAAA,EaAM5c,AbAAA,QaC7C4c,AbAAA,EaAM/V,AbAAA,KaAKwW,AbAAA,EaAWN,AbAAA,C8KxI9BtX,OAAOC,CjKyICmX,AbAAA,EaAUhW,AbAAA,KaAKwW,AiKzIRgjF,A9KyIQhjF,GaCf,AbAA,G8K1IegjF,GjK4IjB,AbAA,QaCQ,AbAA,MaAA,AbAA,IaAIx+F,AbAAA,MaCR,AbAA,4DaCEuZ,AbAAA,OavDJA,AbAAA,CaCEwB,AbAAA,GaAiB,AbAA,IaAjBA,AbAAA,EaAM5c,AbAAA,OaCD4c,AbAAA,OaAAA,AbAAA,EaAMpU,AbAAA,MaEbA,AbAAA,EaAIoU,AbAAA,EaAOC,AbAAA,KawDnB,AbAA,SaAStB,AbAAA,EaAaP,AbAAA,EaAGC,AbAAA,GaElB,AbAA,IaDDlb,AbAAA,IaAAA,AbAAA,EaAMsO,AbAAA,KaAKC,AbAAA,IaAI0M,AbAAA,EaAEhb,AbAAA,OaAQib,AbAAA,EaAEjb,AbAAA,QaCtBF,AbAAA,EaAI,AbAA,EaAGA,AbAAA,EaAIC,AbAAA,EaAKD,AbAAA,IaAK,AbAA,CaCxBwd,AbAAA,IaAAA,AbAAA,EaAOvC,AbAAA,EaAQC,AbAAA,EaAElb,AbAAA,GaAImb,AbAAA,EaAEnb,AbAAA,IaCvBwd,AbAAA,GaAS,AbAA,IaATA,AbAAA,EaCKA,AbAAA,OaAAA,AbAAA,EaGHtC,AbAAA,OaAAA,AbAAA,EaAEhb,AbAAA,SaAWib,AbAAA,EaAEjb,AbAAA,OaAU,AbAA,EaC9Bgb,AbAAA,EaAEhb,AbAAA,OaASib,AbAAA,EaAEjb,AbAAA,OaAU,AbAA,GaAK,AbAA,EaEjC,AbAA,SaASsb,AbAAA,EaAcN,AbAAA,EaAGC,AbAAA,GaIhBD,AbAAA,OaAAA,AbAAA,IaAMC,AbAAA,EaAK,AbAA,EaAMD,AbAAA,EaAIC,AbAAA,EaAK,AbAA,GaAK,AbAA,EaEzC,AbAA,SaASO,AbAAA,EaAcR,AbAAA,EaAGC,AbAAA,GaGnB,AbAA,IaFDsC,AbAAA,IaAAA,AbAAA,EaAKhd,AbAAA,OaAOe,AbAAA,KaAK0Z,AbAAA,GaAIwC,AbAAA,EaAKjd,AbAAA,OaAOe,AbAAA,KaAK2Z,AbAAA,GaCtClb,AbAAA,EaAMsO,AbAAA,KaAKC,AbAAA,IaAIiP,AbAAA,EaAGvd,AbAAA,OaAQwd,AbAAA,EaAGxd,AbAAA,QaCxBF,AbAAA,EaAI,AbAA,EaAGA,AbAAA,EaAIC,AbAAA,EaAKD,AbAAA,IaAK,AbAA,CaExBwd,AbAAA,IaAAA,AbAAA,EaAOvC,AbAAA,EaAQwC,AbAAA,EaAGzd,AbAAA,GaAI0d,AbAAA,EaAG1d,AbAAA,IaCzBwd,AbAAA,GaAS,AbAA,IaATA,AbAAA,EaCKA,AbAAA,OaAAA,AbAAA,EaILA,AbAAA,GaAS,AbAA,KaDbA,AbAAA,EaAOvC,AbAAA,EaAQC,AbAAA,EaAEuC,AbAAA,EaAGzd,AbAAA,IaAKmb,AbAAA,EaAEuC,AbAAA,EaAG1d,AbAAA,MaErBwd,AbAAA,OaAAA,AbAAA,EaIHC,AbAAA,OaAAA,AbAAA,EaAGvd,AbAAA,SaAWwd,AbAAA,EaAGxd,AbAAA,OaAU,AbAA,EaChCud,AbAAA,EaAGvd,AbAAA,OaASwd,AbAAA,EaAGxd,AbAAA,OaAU,AbAA,GaAK,AbAA,EaMnC,AbAA,SaASob,AbAAA,EaAenJ,AbAAA,GaClBU,AbAAA,IaCA8K,AbAAA,EaDK,AbAA,CaAC,AbAA,UaAW,AbAA,SaAU,AbAA,SaAU,AbAA,UaC5B7E,AbAAA,eaAe3G,AbAAA,GaExB,AbAA,OaACwL,AbAAA,EaCO,AbAA,OaANxL,AbAAA,EaCK,AbAA,EaELrS,AbAAA,MaAMC,AbAAA,QaAQoS,AbAAA,GaCT,AbAA,EaEFwL,AbAAA,EaAM,AbAA,EaAKA,AbAAA,EaAM,AbAA,EaAMA,AbAAA,EaAM,AbAA,EaGlC7d,AbAAA,MaAMC,AbAAA,QaAQoS,AbAAA,GaCT,AbAA,OaDLrS,AbAAA,EaUN,AbAA,SaASmc,AbAAA,EaAqBK,AbAAA,GaExBA,AbAAA,GaAQ,AbAA,IaARA,AbAAA,EaCK,AbAA,MaAA,AbAA,IaKLsB,AbAAA,IaAAA,AbAAA,EaAYtB,AbAAA,EaAIuB,AbAAA,gBaAgB1F,AbAAA,MaAM,AbAA,QaCtCwE,AbAAA,EaAY1H,AbAAA,SaAS2I,AbAAA,EaAU,AbAA,GaAI,AbAA,IaEnCpB,AbAAA,EaAMF,AbAAA,EaAM,AbAA,EaEZ1P,AbAAA,EaAS4P,AbAAA,EaAM,AbAA,IaAM,AbAA,IaKrBsB,AbAAA,EaAYjD,AbAAA,IaDS2B,AbAAA,GaAOG,AbAAA,EaAYA,AbAAA,GaAa7B,AbAAA,GaCd3Y,AbAAA,WaAY,AbAA,IaAK4Y,AbAAA,GaE5DnO,AbAAA,GaAUoO,AbAAA,EaAM8C,AbAAA,EaGZC,AbAAA,IaAAA,AbAAA,EaASxP,AbAAA,KaAKyP,AbAAA,IaAInB,AbAAA,WaAWe,AbAAA,EaAU,AbAA,KaEvCpB,AbAAA,IaCFuB,AbAAA,EaAS,AbAA,GaAKA,AbAAA,GaGZE,AbAAA,IaAAA,AbAAA,EaAYF,AbAAA,EaAOG,AbAAA,QaAQ,AbAA,IaOxBtR,AbAAA,OaJPqR,AbAAA,EaAYA,AbAAA,EaAUjF,AbAAA,QaAQ,AbAA,SaAU,AbAA,IaExCpM,AbAAA,GaAUoO,AbAAA,EaAMiD,AbAAA;AgLtWlB,AJdA,ACiFA,AM5DA,A7ciCA,I0cxCA,AHmEA,EGnEA,AHmEA,OD/EA,AOuBA,A7c6BA,C0cxCA,AHmEA,GMxDA,EAAA,GPvBSmgF,AtcoDO,EscpDO15F,AtcoDW,C0cpD9Bs9F,AHAJ,EGA2B,AJAW,AOuBtC,A7c8BW,I0crDoBzhG,AJAO,GCA7ByO,AvcqDE,C0cnDX,AJF0ChP,CCAzBmE,AvcqDI,CscrDyB,CCAxB5C,CDA2BvB,EAAIsH,ACC/Cue,CMsBN,EHrBSo8E,CHDHp8E,CGC2Bq8E,CHDnB,AvcoDkB,CACxB,C0cnDFF,AGuBN,EP1B+D9hG,AO0B/D,CNvBMi/F,CGAA6C,AGuBN,A7c4Bc,CucnDY,CGAC7gG,GJH4CnB,CIGxCkiG,AHAA9C,EvcqDvB,C0crDF4C,AJHsE,CIItEtrF,AJJ4E2C,EO0BlF,EHtBM3C,AJJ4E2C,EIItE6oF,AJJ+F,AtcwD1F,E0cpDK,GGsBtB,CP1B2F56F,ACG1C,EMyBjD,A7c4BiB,GucrDqC83F,KDH+Cp/F,AO2BrG,EAAA,CP3BkHsH,EO2BlH,IACA,CNzBqE2kC,CMyBrE,EP5B4HjsC,CtcyDpH,EsczDyH,GAAQkF,CCInIm6F,CDJ6I5+F,AtcyDnI,CucrDU,IMyB1B,CNzB+B6+F,CDJ2H99F,CtcyD1I,C6c5BhB,GP7B+J6X,GAAqD,AO6BpN,IAAA,GNzBiD,IMyBjD,CNzBsDimF,EvcsD9C,C6c7BR,IHvBE0C,AJNiLvhG,EIM5JN,C1coDN,C6c7BjB,EHvB2B+hG,CJN+J/8F,CCIrH8mC,AMyBrE,CHtBEtb,EAAQwxE,A1cmDO,K6c7BjB,ENvBMhD,EMuBN,GHtBsBzoF,EAAK,AHDrByoF,GAAqBE,CMuB3B,EP7BkOn6F,ACO1N3D,EDPoO2D,ACQtO3D,AMqBN,EP7BoP8D,ACQ3OlB,Evc4CT,Euc3CeA,GDT4O1D,ACSnO,AMoBxB,E7cuBA,E6cvBA,CNpB6B6+F,EGC7B,AJVkQn6F,IO6BlQ,IAAA,CHnBSwsB,C1c0CT,I0cxCAhsB,AHHgD,EMoBhD,E7cuBA,Cuc3CqD25F,CMoBrD,CHjBO15F,CJZiRyT,GAAQlF,IIYjR8tF,CGiBf,C7cuBA,CscpDuS,AtcoDvS,Euc3CoE1C,AMoBpE,K7cuBA,EscpDiTlB,EtcuBpS,CscvBkT59F,CO6B/T,GNnBMkwB,CMmBN,CNnBciB,CDViTnxB,AtcuBlT,E0cX4BkwB,EAAQwxE,AGkBjD,GP9BsUzhG,CCU/S8+F,EAAa,CMoBpC,EACA,ENrB0Cr7F,CGGtC89F,EACAtwE,AHDO,GMmBX,G7cT8D,CucLxD,EvcOO,C6cOb,ENdWytE,EDlBoV/lF,AOoC/V,EPpCuWglF,CtcyB1V,EsczB+Vz1F,IOoC5W,EAAA,GACA,CNlBSw2F,GMkBT,EPrC+Xl6F,ACmBtXk6F,AMkBT,EPrCuY99F,GtcyB7U,C6cY1D,E7cVa,Esc3BkY,GOuC/Y,ENpBwB2qC,CvcQX,C6cWb,EPtCyZ1sC,EOsCzZ,CPtCga++F,EAAgB55F,COwChb,CPxCwbnF,ACmBpZ,EDnByZ8Z,CCuBvb,CDvB8b9Z,EOwCpc,ENjBW+/F,CMkBX,CPzCwd56F,Ctc2BpZ,CAChE,C6caJ,IPzCwdA,Ctc4B7c,Csc1BX,COwCA,IAAA,CNlBS46F,CvcKL,Esc3BKhB,EAAgBxsF,ACsBhBwtF,EDtBqB//F,AOyC9B,EPzCmC2B,GAAwK4Q,COyC3M,A7cdiB,Msc3B+BvS,CCsBxB0sC,AMoBxB,IP1CuDn6B,AO0CvD,EP1C8DrR,KCsB1B,AMqBpC,EP3CqEgB,CCyB9D44C,CMkBP,INlBOA,IMmBP,IAAA,CP5CoFvoC,ACyBpE3N,EDzByE5E,CCyBlE,CDzBuE,CAAE2B,GCyBnE,CMoB7B,EP7CuGA,EAAO0H,AO6C9G,INpBuCzE,AvcGnC,IucFK5C,GAAM4C,AMoBf,CP9C0H,Atc4B7G,Esc5BmHgpB,AC2B1HwD,AvcGF,EucHUiB,CMmBd,QNnBuB6tE,EAAqB55E,AMoB5C,CP/C8I,CC2B3F1hB,CD3BiGipB,Atc8BhI,C6ciBpB,CNlBUvH,AvcGN,EucHYy5E,MD7B8I,AOgD9J,C7chBc,CAAC,EschCiKxtF,AOgDhL,EPhDoLvS,GAAO2B,EAAgB4Q,AC8BnM+T,ED5BR,AC4Bcy5E,AMmBd,G7cjB8B,Csc9B1Bf,EAAWn1E,AO+Cf,O7cjByC,Csc9BlB,CC4BMm2E,AMoB7B,IAAA,G7cjBI,Esc9BAnwE,EAASmvE,Ctc8BH,Csc9BYnvE,AOgDtB,CNrB4C,GMqB5C,CNnBe7tB,ED3BXi9F,CC4BE7tE,AvcEF,Csc9BYvH,CC4BFwI,EMmBd,IAAA,CP/CwB,EC4BD8tE,AvcEP,CACR,CucH4B75E,CMoBpC,ENnBMtkB,CD5BF6vE,CC4BKjtE,CD5BKq6F,EAAUptB,AO+CxB,CNjBMzgD,CMkBN,A7clBoB,CucANiB,AvcCF,Ksc7BRyjD,Atc6Bc,Esc7BLjE,AO+Cb,ENnBuBsuB,CD5BCtuB,AO+CxB,CNnBoCvrD,CD5BJwvD,AO+ChC,E7cjBY,EucEH,GMgBT,CPhD0C,ECmC1C,AMaA,C7clBqB,E6ckBrB,C7cfQ,E6ceR,EP9CA,CCiCSoqB,EAAoBhvF,EAAMtM,GACjCq7F,AvcHmB,Csc/BZf,Atc+Ba,CucGRhuF,CDlCMsrE,CCkCA53E,AMapB,CP/CyBO,Ctc+BG,Csc/BKgP,ACmC/BgsF,AMYF,ENZcjvF,CDlCZ2e,AOqDF,EPrDStuB,ACqCT,IvcNQ,G6csBR,ENhBS4+F,AMgBT,CPrDmBp3F,CCqCEmI,CMiBrB,A7cvBiB,CAAC,CucOZA,CDtCkBzO,CCsCbs9F,AMgBX,EAAA,A7cvBwB,Esc/BKvjB,AOsD7B,EPtDkCr3E,COuDlC,CPvD0CgP,EOuD1C,CPpDA/N,Ctc6BQ,KucMsB8K,CDnCvB7K,Atc6BQ,CucMoB05F,AvcNnB,KAAM,Esc3BtB,COkDA,IAAA,EAAA,CNjBkDK,EvcClD,CscjCWjB,OtciCX,CucAMjuF,CDjCKiuF,AOiDX,CNhBWU,GDhCFT,AOgDT,EAAA,GPhDSA,COgDT,IPhDgB,EOgDhB,A7chBA,EucA8BluF,CD/BrBmuF,CC+B0BQ,AMgBnC,IP/CSR,EO+CT,GP/CgB,KACP1+F,CC8ByCy/F,ID9BzCz/F,OAAS,AC+BhBuQ,CMeF,CP3CMiV,AC4BC7e,EMgBP,EP5CM6e,CC4BM,CD5BGg5E,EAAW59F,CO4C1B,GAAA,ENbA,AMoBA,IP6GS49F,KCjIAkB,AMoBT,EPjDEl6E,AOiDF,EPjDS3e,AC8BH,CMqBN,IPnDgB,AC8BLq4F,AMqBX,EACA,OPpD8B54E,AOkD9B,GPjDQoc,EOiDR,EPjDQA,CC8BCw8D,CD9BO,CACVh7F,GC6BGg7F,CMmBT,CPhDY54E,COgDZ,CP/CM3X,EOiDN,GPjDY,EOiDZ,IP/CQ,AC0BgBo9B,KD1BX/rC,COgDb,IAAA,CNtBoC,CD1Bd,CC2Bbk/F,CD3BgB,IC2BhBA,CD3BqBR,COiD9B,IPjDmC/vF,COiDnC,IPjD0C+zB,COiD1C,CPjDqD,COkDrD,CNvBwBi9D,GD3BkClB,COkD1D,IPlDiE/7D,AOkDjE,CNvBkC,CD1BzBg8D,AOkDT,CNvBSQ,CMuBT,EACA,CPnDSR,CC2BAQ,ID3BOx8D,AOoDhB,IPnDM,AOmDN,KPnDW1iC,EC0Ba4/F,AM0BxB,KAAA,CPjDEp6E,CCuB8B,CDvBvB5e,CCwBAs4F,KAAAA,AMyBT,EPjDmB,AOkDnB,EAAA,EACA,KPnDoC54E,COoDpC,EPnDQoc,CCuBgBm9D,CM4BxB,EPnDQn9D,EAAQ,CACVx+B,IOmDN,CPnDYoiB,CCsByB,CDrB/B3X,ECwBA,AM0BN,GPlDY,ECwBDywF,AM0BX,EACA,CPnDiBX,IOmDjB,EPjDwB,EOiDxB,EPjDQ,AOkDR,EAAA,EN3BSW,AM4BT,CPnDap/F,ICuBJo/F,CM6BT,IPpD2B,IOuD3B,CPvDgCV,KAAOh8D,ACuBfqJ,CM8BxB,EPpDS0yD,GOoDT,EPpDSA,GCsB2B,CM8BpC,CPpDgB/7D,ACuBP08D,IDtBH,CCsBGA,CM8BT,GPpDWp/F,EOoDX,IAAA,EPjDEwlB,COoDF,CPpDS5b,CCmBeg2F,GMiCxB,EPpDiB,ECmBe,EACvBR,GMgCT,ENhCSA,AMiCT,EPpDQ,GAAgB,AOoDxB,IPpDQ,KAAKp/F,CCmBW8/F,AMiCxB,EACA,IPrDQ,CACAr3F,AOoDR,CNlCiC,EACxB22F,CDnBD32F,EAAM,ECmBL22F,CMiCT,EPpDmBX,AOoDnB,KPpDwBv6F,KAGbuE,ECgBas3F,AMiCxB,GAoCA,EPvFwB,IAAhB,GOuFR,CNrEsC,CDlBzB//F,AOuFb,CNpESo/F,EMqET,GNrESA,CDnBkB,GOwF3B,EPxFgCX,COwFhC,IPxFuC,AOwFvC,EAAA,ENrEwBuB,CDnBoBtB,AOwF5C,GAAA,EPxFmD,AOwFnD,EAAA,GPxF6D,AOwF7D,ENrEsC,CMqEtC,CNpESU,CDpByDX,COwFlE,EAAA,CNpESW,CDpBgE,COwFzE,GAAA,CPxF8EX,EOwF9E,EACA,CPzFmF9vF,EOyFnF,ENrEwBsxF,CMqExB,EPxFM,COwFN,GAAA,CPxFWjgG,CO8FX,CN3EmC,EAC1Bo/F,GDnBE32F,ECmBF22F,CM0ET,CP1FE55E,CO0FF,CP1FSq1C,CO0FT,EAAA,GP1FiB,AO2FjB,IAAA,CN3EwBwkC,CM2ExB,EAAA,GP1FSZ,IO0FT,CP1FSA,CO2FT,EN5EuC,CM4EvC,CP3FgB,CCmBhB,AMwEA,EAAA,EP3FqBC,KAAO,ACmBnBY,AMwET,ENxEqB/uF,AMyErB,ENzE2BtM,CDlBlBjE,CO2FT,CNxEEuQ,CMwEF,CNxEO5J,CDnBE3G,AO2FT,EAAA,ENxEY,EMyEZ,CP5FkB,GAGhBwlB,EAAOpN,ACgBYnU,CMyErB,ENtEAwB,CMsEA,CPzFgB,EO0FhB,EAAA,CNvEOC,GMuEP,CP1F8BsS,CO0F9B,EPzFQ,CCkBS,CACflJ,CDnBsB,IAAhB,AOyFR,EAAA,CNtEWA,EDnBE9O,ACoBX0/F,AMsEF,KAEA,EP5F2B,AO4F3B,GNxEaA,CMwEb,EP5FkC,EO4FlC,CPxFW57F,COwFX,GP3FQA,AO4FR,EAAA,EP5FQA,AO4FR,EP5FY,AO4FZ,KP5FiB26F,CO6FjB,GACA,CP7FQh2F,CO6FR,CP7Fc,GAAK3E,AO6FnB,EP7FqBI,AO6FrB,KP3FWJ,EAAIA,EAAE6K,AO2FjB,EAAA,GACA,CP3FMlG,GAAOuP,CO6Fb,CP7FiBlU,CO6FjB,CP7FmBI,GO6FnB,EP1FWuE,EO0FX,EAAA,GP1FWA,AO2FX,EAAA,CPxFE+c,COwFF,CPxFSrgB,COwFT,MPxFkB,AOyFlB,GACA,EAAA,IP1FkCgD,AO2FlC,GP1FQ,CO0FR,EP1FwB,AO0FxB,EAAA,EP1FQ,AO0FR,EAAA,GP1FanI,MO0Fb,CP1F2B,CO0F3B,GAEA,GP5FkCkvB,AO8FlC,EP9FyCyvE,AOyGzC,MPzG+C,GAKpC76F,AOoGX,EAAA,EPxGQ2E,AOwGR,EAAA,EPxGQA,COyGR,CPzGcymB,EAAOU,AOyGrB,MAAA,IAAA,EPzGiCznB,AOyGjC,IPzGuC,AO2GvC,GP1GQrE,EAAI,EOyGZ,EAAA,CPzGiB26F,KACT3+F,EAAI,COwGZ,CPtGWgE,COuGX,EPtGMy6F,EAAWz6F,AOwGjB,EPxGmBI,COwGnB,EAAA,EPxGyBuE,EAAK3I,GACxBA,EOuGN,CPvGWgE,EAAEI,AOuGb,EAAA,GPvGkBlE,IOuGlB,EAAA,CPtGM8D,AOuGN,EPvGUA,COuGV,CPvGY6K,KAGDlG,AOoGX,IAAA,EAAA,CPpGWA,GAIT+c,AOkGF,EPlGSo5E,KOiGT,EAAA,CPjGmB,QOiGnB,CPjGoCz2F,COkGpC,CPlGuC02F,GAC/Bp2F,AOmGR,GAAA,CPnGQA,COmGR,CPrFWA,OAZHN,COiGR,CPjGY,EOiGZ,EAAA,CPjGiBs2F,KAAKv6F,COiGtB,GACA,CPlG2BlE,KOkG3B,GPhGMyI,COgGN,CPhGY,COgGZ,IPhGiBg2F,AOkGjB,KPlGsBv6F,EOiGtB,EAAA,CPjG2B0J,MAAM,EAAGzF,AOiGpC,EACA,CPjGWs2F,IOwGX,CPxGWA,KAAKv6F,GOwGhB,EPxGuB,AOwGvB,GACA,EPzG4Bu6F,EOyG5B,EAAA,CPzGiCv6F,IOyGjC,CPzGsC0J,MAAMzF,GOyG5C,CPtGMM,EAFSN,EOwGf,EPxGqB,KAAKs2F,EOyG1B,EAAA,CPzG+Bv6F,COyG/B,IPzGoClE,COyGpC,EAAA,GACA,CPxGY,KAAK4J,MOwGjB,EPrGYi1F,EAAa,AOqGzB,EAAA,EACA,CPtG8BC,IOsG9B,OPtGyC32F,GAAK,AOsG9C,EAAA,GPtGmD42F,KOuGnD,EAAA,IPvG8D52F,COuG9D,EPpGWM,GAGT+c,AOiGF,EPjGSwP,MAAQ,COiGjB,EAAA,EAAA,KAAA,CPhGW,OAAA,EOiGX,GPjGgBypE,EOiGhB,GPjGqBv6F,MAInBshB,AO6FF,EP7FSs5E,OO6FT,IP7FsB,CO6FtB,QP7F0C32F,CO6F1C,EP5FQrE,AO4FR,IP5FQA,CO4FR,CP5FY,KAAK26F,KACThpF,EAAI,AO6FZ,EP5FQhN,AO4FR,EP5Fc3E,EAAEI,CO4FhB,IPzFWJ,COyFX,GP3FIqE,GAAKM,EAAIzI,CO2Fb,EAAA,EAAA,EPzFW8D,AOyFX,EPzFeA,EAAE6K,MAAM,CACbzE,EOyFV,EPzFUA,EAAMpG,COyFhB,CPzFkBI,KACR86F,EAAK72F,EAAI+B,AOwFnB,EPxFuBlK,AOwFvB,OPxFgCkK,EAAIlK,AO8FpC,OP9F6CmI,EAInCA,AO0FV,EAAA,CP7FU62F,CO6FV,GP7FiB90F,AO8FjB,EP9FqBlK,EO8FrB,EAAA,EAAA,CP9F6ByI,GAAOyB,CO8FpC,CP9F6CzB,CO8F7C,EP9FoDyB,CO+FpD,CP/FwD0D,GO+FxD,GP/F8D,EAAGzF,AO+FjE,GP5FgB,KAFVA,CO8FN,EP9FW62F,GAEQ,CACPA,CO2FZ,EAAA,CP3FmB90F,EAAIlK,MO2FvB,IP1FYyV,EACE3R,COyFd,CPzFgB6K,EO0FhB,GP1FsB,EO0FtB,GP1F2B8vF,KAAO36F,EAAE6K,AO0FpC,EACA,GP3F8C,CO2F9C,EAAA,EP3FmD8vF,AO2FnD,KP3F0D,GO2F1D,EP3F+DC,AO2F/D,KP3FsE,AO2FtE,OPzFeD,GO2Ff,EP3FeA,KAAO36F,AO0FtB,EPzFUA,AOyFV,EPzFYI,GOyFZ,EPzFmBgG,EAAI0D,COyFvB,KPzF6BoxF,IAGrB,AOsFR,EAAA,GACA,EAAA,CPpFQvpF,EAIGhN,MOgFX,CPjFSzI,KAAAA,COiFT,EAAA,GAKA,EPtFmByV,EACRhN,GAIT+c,EAAOu5E,AOiFT,EAAA,GACA,IAAA,EPlFsB,AOkFtB,GAAA,EAAA,IPlF0C52F,GAClCM,AOiFR,IPjFQA,COiFR,CPjFcymB,EAAOU,GOiFrB,GAAA,GACA,GPlFiCznB,GACzBrE,COiFR,CPjFY,IOiFZ,CPjFiB26F,KACThpF,EAAI,COgFZ,CP5EW3R,CO4EX,GP/EIA,COgFJ,CPhFMI,COuFN,IPvFWkE,KAAKK,AOuFhB,EAAA,CPtFIN,COsFJ,EPtFSrE,COuFT,CPvFWI,GOuFX,EPvFgBlE,AOuFhB,OPrFW8D,AOqFX,EPrFeA,COqFf,CPrFiB6K,EOqFjB,EAAA,CACA,CPtFuB,CACbtD,EOqFV,EPrFUA,AOqFV,EPrFgBvH,AOqFhB,EPrFkBI,KACR86F,EAAK72F,AOoFf,EPpFmBkD,EAAIrL,MOoFvB,CPpFgCqL,EAAIrL,AOqFpC,GAAA,EAAA,CACA,CPtF6CmI,EAInCA,COkFV,EPrFMkD,AOqFN,EPrFUjD,AOqFV,KPrFeK,EAAKA,EAAIzI,EOqFxB,EAAA,GPrFiCmI,EAAG,EAAG62F,AOqFvC,GPlFgB,AOmFhB,GAAA,EPrFM72F,COqFN,EPrFW62F,GAEQ,CACPA,COkFZ,GPlFmB3zF,AOkFnB,EPlFuBrL,IOuFvB,MPtFYyV,COkFZ,CPjFc3R,EAAE6K,EOiFhB,GPjFsB,KAAK8vF,COiF3B,EACA,EPlFkC36F,EAAE6K,COkFpC,IPlF8C,KAAK8vF,COkFnD,EACA,EPnF0D,GOmF1D,EPnF+DC,KAAO,EOmFtE,GAAA,EPjFeD,AOiFf,EAAA,GPjFeA,IOiFf,CPjFsB36F,EACZA,AOiFV,EPjFYI,GOiFZ,EPjFmBmH,EAAIuC,KOiFvB,CPjF6BoxF,EOiF7B,EP9EQ,AO8ER,EAAA,MP3EQvpF,CO2ER,CPvEWhN,EOwEX,EAAA,GPzESzI,GOyET,EPzESA,COyET,GAGA,IP5EmByV,EACRhN,CO2EX,EPvEE+c,AO4EF,EP5ES2vD,GAAU,EOyEnB,KAAA,EPzE6BroD,EAAGnJ,GACrButD,EOwEX,EACA,GPzEWA,EAAQ,AOyEnB,KPzEyBgtB,EAAc,GAAIv6E,AOyE3C,EPzEoD,AO0EpD,CPxEMkL,IOwEN,EPxEa,EAEPujD,KOsEN,GAAA,EAAA,EAAA,GPtEqB,IOsErB,EPlESosB,COmET,CP1OA,CO0OA,SAAA,UAAA,EAAA,EAAA,OAAA,GAKA,SAAA,EAAA,GACA,IAAA,EAAA,GAAA,EAAA,OAAA,KAAA,MAAA,GAAA,GACA,GAAA,KAAA,SAAA,CACA,IAAA,EAAA,KAAA,UAAA,KAAA,SACA,OAAA,EAAA,KAAA,SAAA,SAAA,UAAA,EAAA,GAEA,OAAA,EAGA,SAAA,EAAA,EAAA,GACA,IAAA,GAAA,EAAA,OAAA,GAAA,EACA,OAAA,IAAA,EAAA,EAAA,SAAA,SAAA,IACA,KAAA,SAAA,EAAA,EACA,KAAA,UAAA,EACA,IAAA,EACA,KAAA,SAAA,GAAA,EAAA,EAAA,OAAA,IAEA,KAAA,SAAA,GAAA,EAAA,EAAA,OAAA,GACA,KAAA,SAAA,GAAA,EAAA,EAAA,OAAA,IAEA,EAAA,SAAA,SAAA,EAAA,EAAA,OAAA,IAGA,SAAA,EAAA,GACA,IAAA,EAAA,GAAA,EAAA,OAAA,KAAA,MAAA,GAAA,GACA,OAAA,KAAA,SAAA,EAAA,KAAA,SAAA,SAAA,SAAA,EAAA,EAAA,KAAA,UACA,EAIA,SAAA,EAAA,GACA,OAAA,EAAA,SAAA,KAAA,UAGA,SAAA,EAAA,GACA,OAAA,GAAA,EAAA,OAAA,KAAA,MAAA,GAAA,GAzNA,QAAA,cAAA,EA6BA,EAAA,UAAA,MAAA,SAAA,GACA,GAAA,IAAA,EAAA,OAAA,MAAA,GACA,IAAA,EACA,EACA,GAAA,KAAA,SAAA,CAEA,QAAA,KADA,EAAA,KAAA,SAAA,IACA,MAAA,GACA,EAAA,KAAA,SACA,KAAA,SAAA,OAEA,EAAA,EAEA,OAAA,EAAA,EAAA,OAAA,EAAA,EAAA,KAAA,KAAA,EAAA,GAAA,KAAA,KAAA,EAAA,GACA,GAAA,IAGA,EAAA,UAAA,IAAA,EAGA,EAAA,UAAA,KAAA,EAGA,EAAA,UAAA,SAAA,SAAA,GACA,GAAA,KAAA,UAAA,EAAA,OAEA,OADA,EAAA,KAAA,KAAA,SAAA,KAAA,UAAA,KAAA,SAAA,EAAA,KAAA,UACA,KAAA,SAAA,SAAA,KAAA,SAAA,EAAA,KAAA,WAEA,EAAA,KAAA,KAAA,SAAA,KAAA,UAAA,KAAA,SAAA,EAAA,EAAA,QACA,KAAA,UAAA,EAAA;;A5czHA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAXA,IAAA,EAAA,QAAA,WAWA,SAAgB,EAAmB,GAGxB,OAFS,QAAQ,IAAI,CAAC,EAAA,kBAAwB,KADzD,QAAA,mBAAA;;ACbA,aAIA,SAAA,EAAA,GACA,OAAA,WACA,IAAA,EAAA,UAAA,OACA,GAAA,EAAA,CAGA,IAFA,IAAA,EAAA,GACA,GAAA,IACA,EAAA,GACA,EAAA,GAAA,UAAA,GAEA,OAAA,EAAA,KAAA,KAAA,GAEA,OAAA,EAAA,KAAA,KAAA,KAbA,OAAA,QAAA;;AC6FC,aA/FD,SAASp/F,EAAOC,GACP,MAAA,IAAMA,EAEf,SAASC,EAASD,GACTA,OAAAA,EAAIE,UAAU,GAEvB,SAASC,IACFC,KAAAA,OAAS,GAoChB,SAASC,EAAMC,GAITA,GAHCF,KAAAA,OAAS,IAAID,EAGdG,GAASC,MAAMC,QAAQF,GACpB,IAAA,IAAIG,EAAI,EAAGC,EAAMJ,EAAMK,OAAQF,EAAIC,EAAKD,IACtCG,KAAAA,IAAIN,EAAMG,IAyBrB,SAASI,IACH,GAAkB,oBAAXC,QAAyC,oBAARC,KAAsC,oBAARC,IACjE,OAAA,EAELC,IAAAA,EAAOC,OAAOC,yBAAyBJ,IAAKD,OAAOM,SAChDH,OAAAA,GAAQ,QAASA,GAAQF,IAAID,OAAOM,WAAaL,IAK1D,IAAIM,EACAC,EAUH,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,IAAA,QAAA,SAAA,EAtFDnB,EAAMoB,UAAUC,IAAM,SAAUxB,GAC1ByB,IAAAA,EAAU1B,EAAOC,GACd,OAAA,KAAKI,OAAOqB,IAErBtB,EAAMoB,UAAUG,IAAM,SAAU1B,EAAK2B,GAC/BF,IAAAA,EAAU1B,EAAOC,GAEd,OADFI,KAAAA,OAAOqB,GAAWE,GAChB,GAETxB,EAAMoB,UAAUK,IAAM,SAAU5B,GAEvByB,OADO1B,EAAOC,KACH,KAAKI,QAEzBD,EAAMoB,UAAUM,OAAS,SAAU7B,GAC7ByB,IAAAA,EAAU1B,EAAOC,GACjB8B,EAAML,KAAW,KAAKrB,OAEnB0B,cADA,KAAK1B,OAAOqB,GACZK,GAET3B,EAAMoB,UAAUQ,QAAU,SAAUC,GAE7B,IADDC,IAAAA,EAAOf,OAAOe,KAAK,KAAK7B,QACnBK,EAAI,EAAGC,EAAMuB,EAAKtB,OAAQF,EAAIC,EAAKD,IAAK,CAC3CT,IAAAA,EAAMiC,EAAKxB,GAGfuB,EAFY,KAAK5B,OAAOJ,GACxBA,EAAMC,EAASD,MAInBkB,OAAOgB,eAAe/B,EAAMoB,UAAW,OAAQ,CAC7CC,IAAK,WACIN,OAAAA,OAAOe,KAAK,KAAK7B,QAAQO,UAcpCN,EAAMkB,UAAUX,IAAM,SAAUZ,GACvB,OAAA,KAAKI,OAAOsB,IAAI1B,GAAK,IAE9BK,EAAMkB,UAAUK,IAAM,SAAU5B,GACvB,OAAA,KAAKI,OAAOwB,IAAI5B,IAEzBK,EAAMkB,UAAUQ,QAAU,SAAUC,GAC7B5B,KAAAA,OAAO2B,QAAQ,SAAUJ,EAAO3B,GACnCgC,EAAGhC,MAGPkB,OAAOgB,eAAe7B,EAAMkB,UAAW,OAAQ,CAC7CC,IAAK,WACI,OAAA,KAAKpB,OAAO+B,QA6BtB,QAAA,IAAA,EAAA,QAAA,IAAA,EAPKtB,KACFQ,QAAAA,IAAAA,EAAcL,IACdM,QAAAA,IAAAA,EAAcP,MAEdM,QAAAA,IAAAA,EAAchB,EACdiB,QAAAA,IAAAA,EAAcnB;;AC7FlB,mBAAA,OAAA,OAEA,OAAA,QAAA,SAAA,EAAA,GACA,EAAA,OAAA,EACA,EAAA,UAAA,OAAA,OAAA,EAAA,UAAA,CACA,YAAA,CACA,MAAA,EACA,YAAA,EACA,UAAA,EACA,cAAA,MAMA,OAAA,QAAA,SAAA,EAAA,GACA,EAAA,OAAA,EACA,IAAA,EAAA,aACA,EAAA,UAAA,EAAA,UACA,EAAA,UAAA,IAAA,EACA,EAAA,UAAA,YAAA;;;ACiDA,IAlEA,EAyCA,EAyBA,EAAA,UAAA,GApEA,EAAA,EAAA,kBAAA,EAAA,uBAKA,GAAA,EAAA,CACA,IAAA,EAAA,EACA,EAAA,IAAA,EAAA,GACA,EAAA,EAAA,SAAA,eAAA,IACA,EAAA,QAAA,EAAA,CACA,eAAA,IAEA,EAAA,WACA,EAAA,KAAA,IAAA,EAAA,QAEA,GAAA,EAAA,mBAAA,IAAA,EAAA,eAOA,EADA,aAAA,GAAA,uBAAA,EAAA,SAAA,cAAA,UACA,WAIA,IAAA,EAAA,EAAA,SAAA,cAAA,UACA,EAAA,mBAAA,WACA,IAEA,EAAA,mBAAA,KACA,EAAA,WAAA,YAAA,GACA,EAAA,MAEA,EAAA,SAAA,gBAAA,YAAA,IAGA,WACA,WAAA,EAAA,QAvBA,CACA,IAAA,EAAA,IAAA,EAAA,eACA,EAAA,MAAA,UAAA,EACA,EAAA,WACA,EAAA,MAAA,YAAA,IAyBA,IAAA,EAAA,GAEA,SAAA,IAEA,IAAA,EAAA,EADA,GAAA,EAGA,IADA,IAAA,EAAA,EAAA,OACA,GAAA,CAIA,IAHA,EAAA,EACA,EAAA,GACA,GAAA,IACA,EAAA,GACA,EAAA,KAEA,EAAA,EAAA,OAEA,GAAA,EAIA,SAAA,EAAA,GACA,IAAA,EAAA,KAAA,IAAA,GACA,IAHA,OAAA,QAAA;;AE4BC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,YAAA,EAAA,QAAA,0BAAA,EAAA,QAAA,YAAA,QAAA,UAAA,QAAA,aAAA,QAAA,YAAA,QAAA,YAAA,QAAA,UAAA,QAAA,UAAA,QAAA,UAAA,QAAA,WAAA,QAAA,cAAA,QAAA,YAAA,QAAA,eAAA,QAAA,kBAAA,QAAA,gBAAA,QAAA,QAAA,QAAA,cAAA,QAAA,SAAA,QAAA,YAAA,QAAA,WAAA,QAAA,WAAA,QAAA,aAAA,QAAA,YAAA,QAAA,kBAAA,QAAA,kBAAA,EA3FD,IAAA,EAAA,EAAA,QAAA,aA2FC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAvFD,SAASiC,EAAWC,EAAQC,EAAOC,GACjCC,MAAMC,KAAK,KAAMF,GACZF,KAAAA,OAASA,EACTK,KAAAA,KAAOJ,EACPK,KAAAA,QAAUJ,EACVD,KAAAA,OAAQ,GAPf,EAASF,EAAAA,SAAAA,EAAYI,OAUrBJ,EAAWb,UAAUqB,SAAW,WACvBC,OAAAA,KAAKC,UAAU,CACpBT,OAAQ,KAAKA,OACbK,KAAM,KAAKA,KACXC,QAAS,KAAKA,QACdJ,OAAQ,KAAKA,UAIjB,IAAIQ,EAAe,IAAIX,EAAW,IAAK,eAAgB,kCAsEtD,QAAA,aAAA,EArED,IAAIY,EAAoB,IAAIZ,EAAW,IAAK,cAAe,+BAqE1D,QAAA,kBAAA,EApED,IAAIa,EAAc,IAAIb,EAAW,IAAK,YAAa,WAoElD,QAAA,YAAA,EAnED,IAAIc,EAAe,IAAId,EAAW,IAAK,WAAY,4BAmElD,QAAA,aAAA,EAlED,IAAIe,EAAa,IAAIf,EAAW,IAAK,cAAe,mCAkEnD,QAAA,WAAA,EAjED,IAAIgB,EAAa,IAAIhB,EAAW,IAAK,aAAc,4BAiElD,QAAA,WAAA,EAhED,IAAIiB,EAAc,IAAIjB,EAAW,IAAK,cAAe,yDAgEpD,QAAA,YAAA,EA/DD,IAAIkB,EAAW,IAAIlB,EAAW,IAAK,sBAAuB,qBA+DzD,QAAA,SAAA,EA9DD,IAAImB,EAAgB,IAAInB,EAAW,IAAK,gBAAiB,yCA8DxD,QAAA,cAAA,EA7DD,IAAIoB,EAAU,IAAIpB,EAAW,IAAK,SAAU,kCA6D3C,QAAA,QAAA,EA5DD,IAAIqB,EAAkB,IAAIrB,EAAW,IAAK,kBAAmB,uBA4D5D,QAAA,gBAAA,EA3DD,IAAIsB,EAAoB,IAAItB,EAAW,IAAK,oBAAqB,mCA2DhE,QAAA,kBAAA,EA1DD,IAAIuB,EAAiB,IAAIvB,EAAW,IAAK,iBAAkB,+BA0D1D,QAAA,eAAA,EAzDD,IAAIwB,EAAc,IAAIxB,EAAW,IAAK,cAAe,oCAyDpD,QAAA,YAAA,EAxDD,IAAIyB,EAAgB,IAAIzB,EAAW,IAAK,cAAe,kCAwDtD,QAAA,cAAA,EAvDD,IAAI0B,EAAa,IAAI1B,EAAW,IAAK,YAAa,sBAuDjD,QAAA,WAAA,EAtDD,IAAI2B,EAAY,IAAI3B,EAAW,IAAK,sBAAuB,WAsD1D,QAAA,UAAA,EArDD,IAAI4B,EAAY,IAAI5B,EAAW,IAAK,mBAAoB,WAqDvD,QAAA,UAAA,EApDD,IAAI6B,EAAY,IAAI7B,EAAW,IAAK,wBAAyB,WAoD5D,QAAA,UAAA,EAnDD,IAAI8B,EAAY,IAAI9B,EAAW,IAAK,YAAa,wDAmDhD,QAAA,UAAA,EAlDD,IAAI+B,EAAc,IAAI/B,EAAW,IAAK,cAAe,sBAkDpD,QAAA,YAAA,EAjDD,IAAIgC,EAAc,IAAIhC,EAAW,IAAK,cAAe,+DAiDpD,QAAA,YAAA,EAhDD,IAAIiC,EAAe,IAAIjC,EAAW,IAAK,eAAgB,+CAgDtD,QAAA,aAAA,EA/CD,IAAIkC,EAAc,IAAIlC,EAAW,IAAK,cAAe,2BAErD,SAASmC,EAAYjC,EAAOC,GACjBiC,SAAAA,EAAiBjC,GAInB,IAAA,IAAIkC,KAAKnC,EACY,mBAAbA,EAAMmC,KACVA,KAAAA,GAAKnC,EAAMmC,SAILC,IAAXnC,IACGA,KAAAA,OAASA,GAIX,OADPiC,EAAiBjD,UAAYa,EAAWb,UACjC,IAAIiD,EAAiBjC,GAG9B,SAASoC,EAA0BC,GAE7B,GAAe,iBAARA,EAAkB,CACvBC,IAAAA,EAAOD,GACXA,EAAMrB,GACFsB,KAAOA,EAoBND,MAjBH,UAAWA,GAAqB,aAAdA,EAAItC,QACxBsC,EAAIlC,KAAO,WACXkC,EAAIvC,OAAS,KAGT,SAAUuC,IACdA,EAAIlC,KAAOkC,EAAItC,OAAS,WAGpB,WAAYsC,IAChBA,EAAIvC,OAAS,KAGT,YAAauC,IACjBA,EAAIjC,QAAUiC,EAAIjC,SAAWiC,EAAIrC,QAG5BqC,EACR,QAAA,YAAA;;ACtED,aAEA,IAOIE,EAPAC,EAAuB,iBAAZC,QAAuBA,QAAU,KAC5CC,EAAeF,GAAwB,mBAAZA,EAAEG,MAC7BH,EAAEG,MACF,SAAsBC,EAAQC,EAAUC,GACjCC,OAAAA,SAAS/D,UAAU2D,MAAMzC,KAAK0C,EAAQC,EAAUC,IAiB3D,SAASE,EAAmBC,GACtBC,SAAWA,QAAQC,MAAMD,QAAQC,KAAKF,GAb1CV,EADEC,GAA0B,mBAAdA,EAAEY,QACCZ,EAAEY,QACVzE,OAAO0E,sBACC,SAAwBT,GAChCjE,OAAAA,OAAO2E,oBAAoBV,GAC/BW,OAAO5E,OAAO0E,sBAAsBT,KAGxB,SAAwBA,GAChCjE,OAAAA,OAAO2E,oBAAoBV,IAQtC,IAAIY,EAAcC,OAAOC,OAAS,SAAqBtE,GAC9CA,OAAAA,GAAUA,GAGnB,SAASuE,IACPA,EAAaC,KAAK1D,KAAK,MAEzB2D,OAAOC,QAAUH,EAGjBA,EAAaA,aAAeA,EAE5BA,EAAa3E,UAAU+E,aAAU5B,EACjCwB,EAAa3E,UAAUgF,aAAe,EACtCL,EAAa3E,UAAUiF,mBAAgB9B,EAIvC,IAAI+B,EAAsB,GAoC1B,SAASC,EAAiBC,GACpBA,YAAuBjC,IAAvBiC,EAAKH,cACAN,EAAaO,oBACfE,EAAKH,cAmDd,SAASI,EAAazB,EAAQ0B,EAAMC,EAAUC,GACxCC,IAAAA,EACAC,EACAC,EAEA,GAAoB,mBAAbJ,EACH,MAAA,IAAIK,UAAU,0EAA4EL,GAqB9FI,QAjBWxC,KADfuC,EAAS9B,EAAOmB,UAEdW,EAAS9B,EAAOmB,QAAUpF,OAAOkG,OAAO,MACxCjC,EAAOoB,aAAe,SAIK7B,IAAvBuC,EAAOI,cACTlC,EAAOmC,KAAK,cAAeT,EACfC,EAASA,SAAWA,EAASA,SAAWA,GAIpDG,EAAS9B,EAAOmB,SAElBY,EAAWD,EAAOJ,SAGHnC,IAAbwC,EAEFA,EAAWD,EAAOJ,GAAQC,IACxB3B,EAAOoB,kBAeLS,GAboB,mBAAbE,EAETA,EAAWD,EAAOJ,GAChBE,EAAU,CAACD,EAAUI,GAAY,CAACA,EAAUJ,GAErCC,EACTG,EAASK,QAAQT,GAEjBI,EAASM,KAAKV,IAIhBE,EAAIN,EAAiBvB,IACb,GAAK+B,EAASvG,OAASqG,IAAME,EAASO,OAAQ,CACpDP,EAASO,QAAS,EAGdC,IAAAA,EAAI,IAAIlF,MAAM,+CACE0E,EAASvG,OAAS,IAAMgH,OAAOd,GAAQ,qEAG3Da,EAAEhF,KAAO,8BACTgF,EAAEE,QAAUzC,EACZuC,EAAEb,KAAOA,EACTa,EAAEG,MAAQX,EAASvG,OACnB4E,EAAmBmC,GAIhBvC,OAAAA,EAcT,SAAS2C,IAEF,IADDzC,IAAAA,EAAO,GACF5E,EAAI,EAAGA,EAAIsH,UAAUpH,OAAQF,IAAK4E,EAAKmC,KAAKO,UAAUtH,IAC1D,KAAKuH,QACH7C,KAAAA,OAAO8C,eAAe,KAAKpB,KAAM,KAAKqB,QACtCF,KAAAA,OAAQ,EACb/C,EAAa,KAAK6B,SAAU,KAAK3B,OAAQE,IAI7C,SAAS8C,EAAUhD,EAAQ0B,EAAMC,GAC3BsB,IAAAA,EAAQ,CAAEJ,OAAO,EAAOE,YAAQxD,EAAWS,OAAQA,EAAQ0B,KAAMA,EAAMC,SAAUA,GACjFuB,EAAUP,EAAYQ,KAAKF,GAGxBC,OAFPA,EAAQvB,SAAWA,EACnBsB,EAAMF,OAASG,EACRA,EAgIT,SAASE,EAAWpD,EAAQ0B,EAAM2B,GAC5BvB,IAAAA,EAAS9B,EAAOmB,QAEhBW,QAAWvC,IAAXuC,EACF,MAAO,GAELwB,IAAAA,EAAaxB,EAAOJ,GACpB4B,YAAe/D,IAAf+D,EACK,GAEiB,mBAAfA,EACFD,EAAS,CAACC,EAAW3B,UAAY2B,GAAc,CAACA,GAElDD,EACLE,EAAgBD,GAAcE,EAAWF,EAAYA,EAAW9H,QAoBpE,SAASiI,EAAc/B,GACjBI,IAAAA,EAAS,KAAKX,QAEdW,QAAWvC,IAAXuC,EAAsB,CACpBwB,IAAAA,EAAaxB,EAAOJ,GAEpB,GAAsB,mBAAf4B,EACF,OAAA,EACF,QAAmB/D,IAAf+D,EACFA,OAAAA,EAAW9H,OAIf,OAAA,EAOT,SAASgI,EAAWE,EAAKC,GAElB,IADDC,IAAAA,EAAO,IAAIxI,MAAMuI,GACZrI,EAAI,EAAGA,EAAIqI,IAAKrI,EACvBsI,EAAKtI,GAAKoI,EAAIpI,GACTsI,OAAAA,EAGT,SAASC,EAAUC,EAAMC,GAChBA,KAAAA,EAAQ,EAAID,EAAKtI,OAAQuI,IAC9BD,EAAKC,GAASD,EAAKC,EAAQ,GAC7BD,EAAKE,MAGP,SAAST,EAAgBG,GAElB,IADDO,IAAAA,EAAM,IAAI7I,MAAMsI,EAAIlI,QACfF,EAAI,EAAGA,EAAI2I,EAAIzI,SAAUF,EAChC2I,EAAI3I,GAAKoI,EAAIpI,GAAGqG,UAAY+B,EAAIpI,GAE3B2I,OAAAA,EA1XTlI,OAAOgB,eAAegE,EAAc,sBAAuB,CACzDmD,YAAY,EACZ7H,IAAK,WACIiF,OAAAA,GAET/E,IAAK,SAAS4H,GACR,GAAe,iBAARA,GAAoBA,EAAM,GAAKvD,EAAYuD,GAC9C,MAAA,IAAIC,WAAW,kGAAoGD,EAAM,KAEjI7C,EAAsB6C,KAI1BpD,EAAaC,KAAO,gBAEGzB,IAAjB,KAAK4B,SACL,KAAKA,UAAYpF,OAAOsI,eAAe,MAAMlD,UAC1CA,KAAAA,QAAUpF,OAAOkG,OAAO,MACxBb,KAAAA,aAAe,GAGjBC,KAAAA,cAAgB,KAAKA,oBAAiB9B,GAK7CwB,EAAa3E,UAAUkI,gBAAkB,SAAyBX,GAC5D,GAAa,iBAANA,GAAkBA,EAAI,GAAK/C,EAAY+C,GAC1C,MAAA,IAAIS,WAAW,gFAAkFT,EAAI,KAGtG,OADFtC,KAAAA,cAAgBsC,EACd,MAST5C,EAAa3E,UAAUmI,gBAAkB,WAChChD,OAAAA,EAAiB,OAG1BR,EAAa3E,UAAU+F,KAAO,SAAcT,GAErC,IADDxB,IAAAA,EAAO,GACF5E,EAAI,EAAGA,EAAIsH,UAAUpH,OAAQF,IAAK4E,EAAKmC,KAAKO,UAAUtH,IAC3DkJ,IAAAA,EAAoB,UAAT9C,EAEXI,EAAS,KAAKX,QACdW,QAAWvC,IAAXuC,EACF0C,EAAWA,QAA4BjF,IAAjBuC,EAAO3E,WAC1B,IAAKqH,EACR,OAAO,EAGLA,GAAAA,EAAS,CACPC,IAAAA,EAGAA,GAFAvE,EAAK1E,OAAS,IAChBiJ,EAAKvE,EAAK,IACRuE,aAAcpH,MAGVoH,MAAAA,EAGJhF,IAAAA,EAAM,IAAIpC,MAAM,oBAAsBoH,EAAK,KAAOA,EAAGjH,QAAU,IAAM,KAEnEiC,MADNA,EAAIiF,QAAUD,EACRhF,EAGJkF,IAAAA,EAAU7C,EAAOJ,GAEjBiD,QAAYpF,IAAZoF,EACF,OAAO,EAEL,GAAmB,mBAAZA,EACT7E,EAAa6E,EAAS,KAAMzE,OAExB3E,CAAAA,IAAAA,EAAMoJ,EAAQnJ,OACdoJ,EAAYpB,EAAWmB,EAASpJ,GAC/B,IAAID,EAAI,EAAGA,EAAIC,IAAOD,EACzBwE,EAAa8E,EAAUtJ,GAAI,KAAM4E,GAG9B,OAAA,GAmETa,EAAa3E,UAAUyI,YAAc,SAAqBnD,EAAMC,GACvDF,OAAAA,EAAa,KAAMC,EAAMC,GAAU,IAG5CZ,EAAa3E,UAAU0I,GAAK/D,EAAa3E,UAAUyI,YAEnD9D,EAAa3E,UAAU2I,gBACnB,SAAyBrD,EAAMC,GACtBF,OAAAA,EAAa,KAAMC,EAAMC,GAAU,IAqBhDZ,EAAa3E,UAAU4I,KAAO,SAActD,EAAMC,GAC5C,GAAoB,mBAAbA,EACH,MAAA,IAAIK,UAAU,0EAA4EL,GAG3F,OADFmD,KAAAA,GAAGpD,EAAMsB,EAAU,KAAMtB,EAAMC,IAC7B,MAGTZ,EAAa3E,UAAU6I,oBACnB,SAA6BvD,EAAMC,GAC7B,GAAoB,mBAAbA,EACH,MAAA,IAAIK,UAAU,0EAA4EL,GAG3F,OADFoD,KAAAA,gBAAgBrD,EAAMsB,EAAU,KAAMtB,EAAMC,IAC1C,MAIbZ,EAAa3E,UAAU0G,eACnB,SAAwBpB,EAAMC,GACxBmC,IAAAA,EAAMhC,EAAQoD,EAAU5J,EAAG6J,EAE3B,GAAoB,mBAAbxD,EACH,MAAA,IAAIK,UAAU,0EAA4EL,GAI9FG,QAAWvC,KADfuC,EAAS,KAAKX,SAEZ,OAAO,KAGL2C,QAASvE,KADbuE,EAAOhC,EAAOJ,IAEZ,OAAO,KAELoC,GAAAA,IAASnC,GAAYmC,EAAKnC,WAAaA,EACb,KAAtB,KAAKP,aACT,KAAKD,QAAUpF,OAAOkG,OAAO,cAEtBH,EAAOJ,GACVI,EAAOgB,gBACT,KAAKX,KAAK,iBAAkBT,EAAMoC,EAAKnC,UAAYA,SAElD,GAAoB,mBAATmC,EAAqB,CAGhCxI,IAFL4J,GAAY,EAEP5J,EAAIwI,EAAKtI,OAAS,EAAGF,GAAK,EAAGA,IAC5BwI,GAAAA,EAAKxI,KAAOqG,GAAYmC,EAAKxI,GAAGqG,WAAaA,EAAU,CACzDwD,EAAmBrB,EAAKxI,GAAGqG,SAC3BuD,EAAW5J,EACX,MAIA4J,GAAAA,EAAW,EACb,OAAO,KAEQ,IAAbA,EACFpB,EAAKsB,QAELvB,EAAUC,EAAMoB,GAGE,IAAhBpB,EAAKtI,SACPsG,EAAOJ,GAAQoC,EAAK,SAEQvE,IAA1BuC,EAAOgB,gBACT,KAAKX,KAAK,iBAAkBT,EAAMyD,GAAoBxD,GAGnD,OAAA,MAGbZ,EAAa3E,UAAUiJ,IAAMtE,EAAa3E,UAAU0G,eAEpD/B,EAAa3E,UAAUkJ,mBACnB,SAA4B5D,GACtBkD,IAAAA,EAAW9C,EAAQxG,EAGnBwG,QAAWvC,KADfuC,EAAS,KAAKX,SAEZ,OAAO,KAGLW,QAA0BvC,IAA1BuC,EAAOgB,eAUF,OATkB,IAArBF,UAAUpH,QACP2F,KAAAA,QAAUpF,OAAOkG,OAAO,MACxBb,KAAAA,aAAe,QACM7B,IAAjBuC,EAAOJ,KACY,KAAtB,KAAKN,aACT,KAAKD,QAAUpF,OAAOkG,OAAO,aAEtBH,EAAOJ,IAEX,KAILkB,GAAqB,IAArBA,UAAUpH,OAAc,CACtBsB,IACAjC,EADAiC,EAAOf,OAAOe,KAAKgF,GAElBxG,IAAAA,EAAI,EAAGA,EAAIwB,EAAKtB,SAAUF,EAEjB,oBADZT,EAAMiC,EAAKxB,KAENgK,KAAAA,mBAAmBzK,GAKnB,OAHFyK,KAAAA,mBAAmB,kBACnBnE,KAAAA,QAAUpF,OAAOkG,OAAO,MACxBb,KAAAA,aAAe,EACb,KAKL,GAAqB,mBAFzBwD,EAAY9C,EAAOJ,IAGZoB,KAAAA,eAAepB,EAAMkD,QACrB,QAAkBrF,IAAdqF,EAEJtJ,IAAAA,EAAIsJ,EAAUpJ,OAAS,EAAGF,GAAK,EAAGA,IAChCwH,KAAAA,eAAepB,EAAMkD,EAAUtJ,IAIjC,OAAA,MAoBbyF,EAAa3E,UAAUwI,UAAY,SAAmBlD,GAC7C0B,OAAAA,EAAW,KAAM1B,GAAM,IAGhCX,EAAa3E,UAAUmJ,aAAe,SAAsB7D,GACnD0B,OAAAA,EAAW,KAAM1B,GAAM,IAGhCX,EAAa0C,cAAgB,SAAShB,EAASf,GACzC,MAAiC,mBAA1Be,EAAQgB,cACVhB,EAAQgB,cAAc/B,GAEtB+B,EAAcnG,KAAKmF,EAASf,IAIvCX,EAAa3E,UAAUqH,cAAgBA,EAiBvC1C,EAAa3E,UAAUoJ,WAAa,WAC3B,OAAA,KAAKpE,aAAe,EAAIzB,EAAe,KAAKwB,SAAW;;ACnahE,IAAA,EAAA,oBAAA,QAAA,OAAA,gBAAA,KAAA,SACA,oBAAA,UAAA,SAAA,gBAAA,KAAA,UACA,GAAA,EAAA,CAEA,IAAA,EAAA,IAAA,WAAA,IAEA,OAAA,QAAA,WAEA,OADA,EAAA,GACA,OAEA,CAKA,IAAA,EAAA,IAAA,MAAA,IAEA,OAAA,QAAA,WACA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,GAAA,IACA,IAAA,EAAA,KAAA,EAAA,WAAA,KAAA,UACA,EAAA,GAAA,MAAA,EAAA,IAAA,GAAA,IAGA,OAAA;;ACxBA,IADA,IAAA,EAAA,GACA,EAAA,EAAA,EAAA,MAAA,EACA,EAAA,IAAA,EAAA,KAAA,SAAA,IAAA,OAAA,GAGA,SAAA,EAAA,EAAA,GACA,IAAA,EAAA,GAAA,EACA,EAAA,EACA,OAAA,EAAA,EAAA,MAAA,EAAA,EAAA,MACA,EAAA,EAAA,MAAA,EAAA,EAAA,MAAA,IACA,EAAA,EAAA,MAAA,EAAA,EAAA,MAAA,IACA,EAAA,EAAA,MAAA,EAAA,EAAA,MAAA,IACA,EAAA,EAAA,MAAA,EAAA,EAAA,MAAA,IACA,EAAA,EAAA,MAAA,EAAA,EAAA,MACA,EAAA,EAAA,MAAA,EAAA,EAAA,MACA,EAAA,EAAA,MAAA,EAAA,EAAA,MAGA,OAAA,QAAA;;ACtBA,IAQA,EACA,EATA,EAAA,QAAA,aACA,EAAA,QAAA,qBAWA,EAAA,EACA,EAAA,EAGA,SAAA,EAAA,EAAA,EAAA,GACA,IAAA,EAAA,GAAA,GAAA,EACA,EAAA,GAAA,GAGA,GADA,EAAA,GAAA,IACA,MAAA,EACA,OAAA,IAAA,EAAA,SAAA,EAAA,SAAA,EAKA,GAAA,MAAA,GAAA,MAAA,EAAA,CACA,IAAA,EAAA,IACA,MAAA,IAEA,EAAA,EAAA,CACA,EAAA,EAAA,GACA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,EAAA,KAGA,MAAA,IAEA,EAAA,EAAA,OAAA,EAAA,IAAA,EAAA,EAAA,KAQA,IAAA,OAAA,IAAA,EAAA,MAAA,EAAA,OAAA,IAAA,MAAA,UAIA,OAAA,IAAA,EAAA,MAAA,EAAA,MAAA,EAAA,EAGA,EAAA,EAAA,GAAA,EAAA,GAAA,IAcA,GAXA,EAAA,QAAA,IAAA,EAAA,WACA,EAAA,EAAA,EAAA,QAKA,EAAA,GAAA,EAAA,SAAA,IAAA,EAAA,QACA,EAAA,GAIA,GAAA,IACA,MAAA,IAAA,MAAA,mDAGA,EAAA,EACA,EAAA,EACA,EAAA,EAMA,IAAA,GAAA,KAAA,WAHA,GAAA,cAGA,GAAA,WACA,EAAA,KAAA,IAAA,GAAA,IACA,EAAA,KAAA,IAAA,GAAA,IACA,EAAA,KAAA,IAAA,EAAA,IACA,EAAA,KAAA,IAAA,EAGA,IAAA,EAAA,EAAA,WAAA,IAAA,UACA,EAAA,KAAA,IAAA,EAAA,IACA,EAAA,KAAA,IAAA,EAGA,EAAA,KAAA,IAAA,GAAA,GAAA,GACA,EAAA,KAAA,IAAA,GAAA,IAGA,EAAA,KAAA,IAAA,EAAA,IAGA,EAAA,KAAA,IAAA,EAGA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,EACA,EAAA,EAAA,GAAA,EAAA,GAGA,OAAA,GAAA,EAAA,GAGA,OAAA,QAAA;;AC5GA,IAAA,EAAA,QAAA,aACA,EAAA,QAAA,qBAEA,SAAA,EAAA,EAAA,EAAA,GACA,IAAA,EAAA,GAAA,GAAA,EAEA,iBAAA,IACA,EAAA,WAAA,EAAA,IAAA,MAAA,IAAA,KACA,EAAA,MAIA,IAAA,GAFA,EAAA,GAAA,IAEA,SAAA,EAAA,KAAA,KAOA,GAJA,EAAA,GAAA,GAAA,EAAA,GAAA,GACA,EAAA,GAAA,GAAA,EAAA,GAAA,IAGA,EACA,IAAA,IAAA,EAAA,EAAA,EAAA,KAAA,EACA,EAAA,EAAA,GAAA,EAAA,GAIA,OAAA,GAAA,EAAA,GAGA,OAAA,QAAA;;AC5BA,IAAA,EAAA,QAAA,QACA,EAAA,QAAA,QAEA,EAAA,EACA,EAAA,GAAA,EACA,EAAA,GAAA,EAEA,OAAA,QAAA;;ACqGC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,2BAAA,EAAA,QAAA,0BAAA,EAAA,QAAA,2BAAA,EAAA,QAAA,KAAA,EAAA,QAAA,qBAAA,EAAA,QAAA,2BAAA,EAAA,QAAA,kBAAA,EAAA,QAAA,mBAAA,EAAA,QAAA,YAAA,EAAA,QAAA,KAAA,QAAA,UAAA,EA5GD,IAAIsE,EAAW,SAAUC,GAChBC,OAAAA,KAAKD,IA2Gb,QAAA,KAAA,EAxGD,IAAIE,EAAW,SAAUF,GAChBG,OAAAA,KAAKH,IAMd,SAASI,EAAWC,EAAOC,GAEzBD,EAAQA,GAAS,GACjBC,EAAaA,GAAc,GACvB,IACK,OAAA,IAAIC,KAAKF,EAAOC,GACvB,MAAOE,GACHA,GAAW,cAAXA,EAAE3I,KACE2I,MAAAA,EAOH,IALDC,IAIAC,EAAU,IAJuB,oBAAhBC,YAA8BA,YACZ,oBAAlBC,cAAgCA,cACb,oBAAnBC,eAAiCA,eACxCC,mBAELlL,EAAI,EAAGA,EAAIyK,EAAMvK,OAAQF,GAAK,EACrC8K,EAAQK,OAAOV,EAAMzK,IAEhB8K,OAAAA,EAAQM,QAAQV,EAAWtE,OAMtC,SAASiF,EAA0BC,GAI5B,IAHDpL,IAAAA,EAASoL,EAAIpL,OACbqL,EAAM,IAAIC,YAAYtL,GACtBkI,EAAM,IAAIqD,WAAWF,GAChBvL,EAAI,EAAGA,EAAIE,EAAQF,IAC1BoI,EAAIpI,GAAKsL,EAAII,WAAW1L,GAEnBuL,OAAAA,EAGT,SAASI,EAAmBC,EAAWxF,GAC9BoE,OAAAA,EAAW,CAACa,EAA0BO,IAAa,CAACxF,KAAMA,IAGnE,SAASyF,EAAaC,EAAK1F,GAClBuF,OAAAA,EAAmBxB,EAAS2B,GAAM1F,GAM3C,SAAS2F,EAA0BC,GAI5B,IAHDC,IAAAA,EAAS,GACTC,EAAQ,IAAIT,WAAWO,GACvB9L,EAASgM,EAAMC,WACVnM,EAAI,EAAGA,EAAIE,EAAQF,IAC1BiM,GAAU/E,OAAOkF,aAAaF,EAAMlM,IAE/BiM,OAAAA,EAIT,SAASI,EAAmBC,EAAMC,GAC5BC,IAAAA,EAAS,IAAIC,WACbC,EAAuD,mBAA9BF,EAAOH,mBACpCG,EAAOG,UAAY,SAAU/B,GACvBgC,IAAAA,EAAShC,EAAElG,OAAOkI,QAAU,GAC5BF,GAAAA,EACKH,OAAAA,EAASK,GAElBL,EAASR,EAA0Ba,KAEjCF,EACFF,EAAOH,mBAAmBC,GAE1BE,EAAOK,kBAAkBP,GAI7B,SAASQ,EAAmBC,EAAcR,GACxCF,EAAmBU,EAAc,SAAUzB,GACzCiB,EAASjB,KAIb,SAAS0B,EAAaD,EAAcR,GAClCO,EAAmBC,EAAc,SAAUE,GACzCV,EAASjC,EAAS2C,MAKtB,SAASJ,EAAkBP,EAAMC,GAC3BC,IAAAA,EAAS,IAAIC,WACjBD,EAAOG,UAAY,SAAU/B,GACvBgC,IAAAA,EAAShC,EAAElG,OAAOkI,QAAU,IAAIpB,YAAY,GAChDe,EAASK,IAEXJ,EAAOK,kBAAkBP,GAI3B,SAASY,KACR,QAAA,KAAA;;;ACmoBD,IAAA,GA/uBA,SAAA,GACA,GAAA,iBAAA,QAEA,OAAA,QAAA,SACA,GAAA,mBAAA,GAAA,EAAA,IAEA,EAAA,OACA,CAEA,IAAA,EAEA,IACA,EAAA,OACA,MAAA,GACA,EAAA,KAGA,EAAA,SAAA,KAjBA,CAmBA,SAAA,GAEA,aAeA,IAGA,EAAA,CAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,KAQA,SAAA,EAAA,EAAA,GACA,IAAA,EAAA,EAAA,GACA,EAAA,EAAA,GACA,EAAA,EAAA,GACA,EAAA,EAAA,GASA,IADA,KADA,IADA,KADA,IADA,KADA,IADA,IAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,UAAA,IACA,EAAA,IAAA,IAAA,EAAA,GACA,GAAA,EAAA,GAAA,EAAA,GAAA,UAAA,IACA,GAAA,IAAA,IAAA,EAAA,GACA,GAAA,EAAA,GAAA,EAAA,GAAA,UAAA,IACA,GAAA,IAAA,IAAA,EAAA,GACA,GAAA,EAAA,GAAA,EAAA,GAAA,WAAA,IACA,GAAA,IAAA,IAAA,EAAA,EAQA,IADA,KADA,IADA,KADA,IADA,KADA,IADA,IAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,UAAA,IACA,EAAA,IAAA,IAAA,EAAA,GACA,GAAA,EAAA,GAAA,EAAA,GAAA,WAAA,IACA,GAAA,IAAA,IAAA,EAAA,GACA,GAAA,EAAA,GAAA,EAAA,GAAA,WAAA,IACA,GAAA,IAAA,IAAA,EAAA,GACA,GAAA,EAAA,GAAA,EAAA,GAAA,SAAA,IACA,GAAA,IAAA,IAAA,EAAA,EAQA,IADA,KADA,IADA,KADA,IADA,KADA,IADA,IAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,WAAA,IACA,EAAA,IAAA,IAAA,EAAA,GACA,GAAA,EAAA,GAAA,EAAA,GAAA,WAAA,IACA,GAAA,IAAA,IAAA,EAAA,GACA,GAAA,EAAA,GAAA,EAAA,IAAA,MAAA,IACA,GAAA,IAAA,IAAA,EAAA,GACA,GAAA,EAAA,GAAA,EAAA,IAAA,WAAA,IACA,GAAA,IAAA,IAAA,EAAA,EAQA,IADA,KADA,IADA,KADA,IADA,KADA,IADA,IAAA,EAAA,GAAA,EAAA,GAAA,EAAA,IAAA,WAAA,IACA,EAAA,IAAA,IAAA,EAAA,GACA,GAAA,EAAA,GAAA,EAAA,IAAA,SAAA,IACA,GAAA,IAAA,IAAA,EAAA,GACA,GAAA,EAAA,GAAA,EAAA,IAAA,WAAA,IACA,GAAA,IAAA,IAAA,EAAA,GACA,GAAA,EAAA,GAAA,EAAA,IAAA,WAAA,IACA,GAAA,IAAA,IAAA,EAAA,EASA,IADA,KADA,IADA,KADA,IADA,KADA,IADA,IAAA,EAAA,EAAA,GAAA,GAAA,EAAA,GAAA,UAAA,IACA,EAAA,IAAA,IAAA,EAAA,GACA,EAAA,GAAA,GAAA,EAAA,GAAA,WAAA,IACA,EAAA,IAAA,IAAA,EAAA,GACA,EAAA,GAAA,GAAA,EAAA,IAAA,UAAA,IACA,GAAA,IAAA,IAAA,EAAA,GACA,EAAA,GAAA,GAAA,EAAA,GAAA,UAAA,IACA,GAAA,IAAA,IAAA,EAAA,EAQA,IADA,KADA,IADA,KADA,IADA,KADA,IADA,IAAA,EAAA,EAAA,GAAA,GAAA,EAAA,GAAA,UAAA,IACA,EAAA,IAAA,IAAA,EAAA,GACA,EAAA,GAAA,GAAA,EAAA,IAAA,SAAA,IACA,EAAA,IAAA,IAAA,EAAA,GACA,EAAA,GAAA,GAAA,EAAA,IAAA,UAAA,IACA,GAAA,IAAA,IAAA,EAAA,GACA,EAAA,GAAA,GAAA,EAAA,GAAA,UAAA,IACA,GAAA,IAAA,IAAA,EAAA,EAQA,IADA,KADA,IADA,KADA,IADA,KADA,IADA,IAAA,EAAA,EAAA,GAAA,GAAA,EAAA,GAAA,UAAA,IACA,EAAA,IAAA,IAAA,EAAA,GACA,EAAA,GAAA,GAAA,EAAA,IAAA,WAAA,IACA,EAAA,IAAA,IAAA,EAAA,GACA,EAAA,GAAA,GAAA,EAAA,GAAA,UAAA,IACA,GAAA,IAAA,IAAA,EAAA,GACA,EAAA,GAAA,GAAA,EAAA,GAAA,WAAA,IACA,GAAA,IAAA,IAAA,EAAA,EAQA,IADA,KADA,IADA,KADA,IADA,KADA,IADA,IAAA,EAAA,EAAA,GAAA,GAAA,EAAA,IAAA,WAAA,IACA,EAAA,IAAA,IAAA,EAAA,GACA,EAAA,GAAA,GAAA,EAAA,GAAA,SAAA,IACA,EAAA,IAAA,IAAA,EAAA,GACA,EAAA,GAAA,GAAA,EAAA,GAAA,WAAA,IACA,GAAA,IAAA,IAAA,EAAA,GACA,EAAA,GAAA,GAAA,EAAA,IAAA,WAAA,IACA,GAAA,IAAA,IAAA,EAAA,EASA,IADA,KADA,IADA,KADA,IADA,KADA,IADA,IAAA,EAAA,EAAA,GAAA,EAAA,GAAA,OAAA,IACA,EAAA,IAAA,IAAA,EAAA,GACA,EAAA,GAAA,EAAA,GAAA,WAAA,IACA,GAAA,IAAA,IAAA,EAAA,GACA,EAAA,GAAA,EAAA,IAAA,WAAA,IACA,GAAA,IAAA,IAAA,EAAA,GACA,EAAA,GAAA,EAAA,IAAA,SAAA,IACA,GAAA,IAAA,GAAA,EAAA,EAQA,IADA,KADA,IADA,KADA,IADA,KADA,IADA,IAAA,EAAA,EAAA,GAAA,EAAA,GAAA,WAAA,IACA,EAAA,IAAA,IAAA,EAAA,GACA,EAAA,GAAA,EAAA,GAAA,WAAA,IACA,GAAA,IAAA,IAAA,EAAA,GACA,EAAA,GAAA,EAAA,GAAA,UAAA,IACA,GAAA,IAAA,IAAA,EAAA,GACA,EAAA,GAAA,EAAA,IAAA,WAAA,IACA,GAAA,IAAA,GAAA,EAAA,EAQA,IADA,KADA,IADA,KADA,IADA,KADA,IADA,IAAA,EAAA,EAAA,GAAA,EAAA,IAAA,UAAA,IACA,EAAA,IAAA,IAAA,EAAA,GACA,EAAA,GAAA,EAAA,GAAA,UAAA,IACA,GAAA,IAAA,IAAA,EAAA,GACA,EAAA,GAAA,EAAA,GAAA,UAAA,IACA,GAAA,IAAA,IAAA,EAAA,GACA,EAAA,GAAA,EAAA,GAAA,SAAA,IACA,GAAA,IAAA,GAAA,EAAA,EAQA,IADA,KADA,IADA,KADA,IADA,KADA,IADA,IAAA,EAAA,EAAA,GAAA,EAAA,GAAA,UAAA,IACA,EAAA,IAAA,IAAA,EAAA,GACA,EAAA,GAAA,EAAA,IAAA,UAAA,IACA,GAAA,IAAA,IAAA,EAAA,GACA,EAAA,GAAA,EAAA,IAAA,UAAA,IACA,GAAA,IAAA,IAAA,EAAA,GACA,EAAA,GAAA,EAAA,GAAA,UAAA,IACA,GAAA,IAAA,GAAA,EAAA,EASA,IADA,KAHA,IADA,IAAA,IADA,IADA,IAAA,GAAA,GAAA,IAAA,EAAA,GAAA,UAAA,IACA,EAAA,IAAA,IAAA,EAAA,IACA,IAAA,EAAA,GAAA,WAAA,IACA,GAAA,IAAA,IAAA,EAAA,KAEA,IADA,IAAA,GAAA,GAAA,IAAA,EAAA,IAAA,WAAA,IACA,GAAA,IAAA,IAAA,EAAA,IACA,IAAA,EAAA,GAAA,SAAA,IACA,GAAA,IAAA,IAAA,EAAA,EAQA,IADA,KAHA,IADA,IAAA,IADA,IADA,IAAA,GAAA,GAAA,IAAA,EAAA,IAAA,WAAA,IACA,EAAA,IAAA,IAAA,EAAA,IACA,IAAA,EAAA,GAAA,WAAA,IACA,GAAA,IAAA,IAAA,EAAA,KAEA,IADA,IAAA,GAAA,GAAA,IAAA,EAAA,IAAA,QAAA,IACA,GAAA,IAAA,IAAA,EAAA,IACA,IAAA,EAAA,GAAA,WAAA,IACA,GAAA,IAAA,IAAA,EAAA,EAQA,IADA,KAHA,IADA,IAAA,IADA,IADA,IAAA,GAAA,GAAA,IAAA,EAAA,GAAA,WAAA,IACA,EAAA,IAAA,IAAA,EAAA,IACA,IAAA,EAAA,IAAA,SAAA,IACA,GAAA,IAAA,IAAA,EAAA,KAEA,IADA,IAAA,GAAA,GAAA,IAAA,EAAA,GAAA,WAAA,IACA,GAAA,IAAA,IAAA,EAAA,IACA,IAAA,EAAA,IAAA,WAAA,IACA,GAAA,IAAA,IAAA,EAAA,EAQA,IADA,KAHA,IADA,IAAA,IADA,IADA,IAAA,GAAA,GAAA,IAAA,EAAA,GAAA,UAAA,IACA,EAAA,IAAA,IAAA,EAAA,IACA,IAAA,EAAA,IAAA,WAAA,IACA,GAAA,IAAA,IAAA,EAAA,KAEA,IADA,IAAA,GAAA,GAAA,IAAA,EAAA,GAAA,UAAA,IACA,GAAA,IAAA,IAAA,EAAA,IACA,IAAA,EAAA,GAAA,UAAA,IACA,GAAA,IAAA,IAAA,EAAA,EAEA,EAAA,GAAA,EAAA,EAAA,GAAA,EACA,EAAA,GAAA,EAAA,EAAA,GAAA,EACA,EAAA,GAAA,EAAA,EAAA,GAAA,EACA,EAAA,GAAA,EAAA,EAAA,GAAA,EAGA,SAAA,EAAA,GACA,IACA,EADA,EAAA,GAGA,IAAA,EAAA,EAAA,EAAA,GAAA,GAAA,EACA,EAAA,GAAA,GAAA,EAAA,WAAA,IAAA,EAAA,WAAA,EAAA,IAAA,IAAA,EAAA,WAAA,EAAA,IAAA,KAAA,EAAA,WAAA,EAAA,IAAA,IAEA,OAAA,EAGA,SAAA,EAAA,GACA,IACA,EADA,EAAA,GAGA,IAAA,EAAA,EAAA,EAAA,GAAA,GAAA,EACA,EAAA,GAAA,GAAA,EAAA,IAAA,EAAA,EAAA,IAAA,IAAA,EAAA,EAAA,IAAA,KAAA,EAAA,EAAA,IAAA,IAEA,OAAA,EAGA,SAAA,EAAA,GACA,IAEA,EACA,EACA,EACA,EACA,EACA,EAPA,EAAA,EAAA,OACA,EAAA,CAAA,YAAA,WAAA,WAAA,WAQA,IAAA,EAAA,GAAA,GAAA,EAAA,GAAA,GACA,EAAA,EAAA,EAAA,EAAA,UAAA,EAAA,GAAA,KAKA,IAFA,GADA,EAAA,EAAA,UAAA,EAAA,KACA,OACA,EAAA,CAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GACA,EAAA,EAAA,EAAA,EAAA,GAAA,EACA,EAAA,GAAA,IAAA,EAAA,WAAA,KAAA,EAAA,GAAA,GAGA,GADA,EAAA,GAAA,IAAA,MAAA,EAAA,GAAA,GACA,EAAA,GAEA,IADA,EAAA,EAAA,GACA,EAAA,EAAA,EAAA,GAAA,GAAA,EACA,EAAA,GAAA,EAcA,OARA,GADA,EAAA,EAAA,GACA,SAAA,IAAA,MAAA,kBACA,EAAA,SAAA,EAAA,GAAA,IACA,EAAA,SAAA,EAAA,GAAA,KAAA,EAEA,EAAA,IAAA,EACA,EAAA,IAAA,EAEA,EAAA,EAAA,GACA,EAmDA,SAAA,EAAA,GACA,IACA,EADA,EAAA,GAEA,IAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EACA,GAAA,EAAA,GAAA,EAAA,EAAA,EAAA,IAAA,EAAA,GAAA,EAAA,EAAA,IAEA,OAAA,EAGA,SAAA,EAAA,GACA,IAAA,EACA,IAAA,EAAA,EAAA,EAAA,EAAA,OAAA,GAAA,EACA,EAAA,GAAA,EAAA,EAAA,IAEA,OAAA,EAAA,KAAA,IAmEA,SAAA,EAAA,GAKA,MAJA,kBAAA,KAAA,KACA,EAAA,SAAA,mBAAA,KAGA,EA6BA,SAAA,EAAA,GACA,IAEA,EAFA,EAAA,GACA,EAAA,EAAA,OAGA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EACA,EAAA,KAAA,SAAA,EAAA,OAAA,EAAA,GAAA,KAGA,OAAA,OAAA,aAAA,MAAA,OAAA,GAYA,SAAA,IAEA,KAAA,QAwTA,MAhbA,qCAAA,EAAA,EAAA,WACA,SAAA,EAAA,GACA,IAAA,GAAA,MAAA,IAAA,MAAA,GAEA,OADA,GAAA,KAAA,GAAA,KAAA,GAAA,KACA,GAAA,MAAA,GAYA,oBAAA,aAAA,YAAA,UAAA,OACA,WACA,SAAA,EAAA,EAAA,GAGA,OAFA,EAAA,EAAA,GAAA,GAEA,EACA,KAAA,IAAA,EAAA,EAAA,GAGA,KAAA,IAAA,EAAA,GAGA,YAAA,UAAA,MAAA,SAAA,EAAA,GACA,IAGA,EACA,EACA,EACA,EANA,EAAA,KAAA,WACA,EAAA,EAAA,EAAA,GACA,EAAA,EAUA,OAJA,IAAA,IACA,EAAA,EAAA,EAAA,IAGA,EAAA,EACA,IAAA,YAAA,IAGA,EAAA,EAAA,EACA,EAAA,IAAA,YAAA,GACA,EAAA,IAAA,WAAA,GAEA,EAAA,IAAA,WAAA,KAAA,EAAA,GACA,EAAA,IAAA,GAEA,IAnCA,GAkHA,EAAA,UAAA,OAAA,SAAA,GAKA,OAFA,KAAA,aAAA,EAAA,IAEA,MAUA,EAAA,UAAA,aAAA,SAAA,GACA,KAAA,OAAA,EACA,KAAA,SAAA,EAAA,OAEA,IACA,EADA,EAAA,KAAA,MAAA,OAGA,IAAA,EAAA,GAAA,GAAA,EAAA,GAAA,GACA,EAAA,KAAA,MAAA,EAAA,KAAA,MAAA,UAAA,EAAA,GAAA,KAKA,OAFA,KAAA,MAAA,KAAA,MAAA,UAAA,EAAA,IAEA,MAWA,EAAA,UAAA,IAAA,SAAA,GACA,IAEA,EAEA,EAJA,EAAA,KAAA,MACA,EAAA,EAAA,OAEA,EAAA,CAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAGA,IAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EACA,EAAA,GAAA,IAAA,EAAA,WAAA,KAAA,EAAA,GAAA,GAYA,OATA,KAAA,QAAA,EAAA,GACA,EAAA,EAAA,KAAA,OAEA,IACA,EAAA,EAAA,IAGA,KAAA,QAEA,GAQA,EAAA,UAAA,MAAA,WAKA,OAJA,KAAA,MAAA,GACA,KAAA,QAAA,EACA,KAAA,MAAA,CAAA,YAAA,WAAA,WAAA,WAEA,MAQA,EAAA,UAAA,SAAA,WACA,MAAA,CACA,KAAA,KAAA,MACA,OAAA,KAAA,QACA,KAAA,KAAA,QAWA,EAAA,UAAA,SAAA,SAAA,GAKA,OAJA,KAAA,MAAA,EAAA,KACA,KAAA,QAAA,EAAA,OACA,KAAA,MAAA,EAAA,KAEA,MAOA,EAAA,UAAA,QAAA,kBACA,KAAA,aACA,KAAA,aACA,KAAA,SASA,EAAA,UAAA,QAAA,SAAA,EAAA,GACA,IACA,EACA,EACA,EAHA,EAAA,EAMA,GADA,EAAA,GAAA,IAAA,MAAA,EAAA,GAAA,GACA,EAAA,GAEA,IADA,EAAA,KAAA,MAAA,GACA,EAAA,EAAA,EAAA,GAAA,GAAA,EACA,EAAA,GAAA,EAOA,GADA,EAAA,EAAA,KAAA,SACA,SAAA,IAAA,MAAA,kBACA,EAAA,SAAA,EAAA,GAAA,IACA,EAAA,SAAA,EAAA,GAAA,KAAA,EAEA,EAAA,IAAA,EACA,EAAA,IAAA,EACA,EAAA,KAAA,MAAA,IAYA,EAAA,KAAA,SAAA,EAAA,GAGA,OAAA,EAAA,WAAA,EAAA,GAAA,IAWA,EAAA,WAAA,SAAA,EAAA,GACA,IACA,EAAA,EADA,EAAA,IAGA,OAAA,EAAA,EAAA,GAAA,GAUA,EAAA,YAAA,WAEA,KAAA,SAUA,EAAA,YAAA,UAAA,OAAA,SAAA,GACA,IAEA,EAhPA,EAAA,EAAA,EACA,EA6OA,GA9OA,EA8OA,KAAA,MAAA,OA9OA,EA8OA,EA9OA,GA8OA,GA7OA,EAAA,IAAA,WAAA,EAAA,WAAA,EAAA,aAEA,IAAA,IAAA,WAAA,IACA,EAAA,IAAA,IAAA,WAAA,GAAA,EAAA,YAEA,EAAA,EAAA,EAAA,QAyOA,EAAA,EAAA,OAKA,IAFA,KAAA,SAAA,EAAA,WAEA,EAAA,GAAA,GAAA,EAAA,GAAA,GACA,EAAA,KAAA,MAAA,EAAA,EAAA,SAAA,EAAA,GAAA,KAKA,OAFA,KAAA,MAAA,EAAA,GAAA,EAAA,IAAA,WAAA,EAAA,OAAA,MAAA,EAAA,KAAA,IAAA,WAAA,GAEA,MAWA,EAAA,YAAA,UAAA,IAAA,SAAA,GACA,IAGA,EACA,EAJA,EAAA,KAAA,MACA,EAAA,EAAA,OACA,EAAA,CAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAIA,IAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EACA,EAAA,GAAA,IAAA,EAAA,KAAA,EAAA,GAAA,GAYA,OATA,KAAA,QAAA,EAAA,GACA,EAAA,EAAA,KAAA,OAEA,IACA,EAAA,EAAA,IAGA,KAAA,QAEA,GAQA,EAAA,YAAA,UAAA,MAAA,WAKA,OAJA,KAAA,MAAA,IAAA,WAAA,GACA,KAAA,QAAA,EACA,KAAA,MAAA,CAAA,YAAA,WAAA,WAAA,WAEA,MAQA,EAAA,YAAA,UAAA,SAAA,WACA,IAnTA,EAmTA,EAAA,EAAA,UAAA,SAAA,KAAA,MAKA,OAFA,EAAA,MAtTA,EAsTA,EAAA,KArTA,OAAA,aAAA,MAAA,KAAA,IAAA,WAAA,KAuTA,GAUA,EAAA,YAAA,UAAA,SAAA,SAAA,GAIA,OAFA,EAAA,KAjVA,SAAA,EAAA,GACA,IAGA,EAHA,EAAA,EAAA,OACA,EAAA,IAAA,YAAA,GACA,EAAA,IAAA,WAAA,GAGA,IAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EACA,EAAA,GAAA,EAAA,WAAA,GAGA,OAAA,EAAA,EAAA,EAuUA,CAAA,EAAA,MAAA,GAEA,EAAA,UAAA,SAAA,KAAA,KAAA,IAGA,EAAA,YAAA,UAAA,QAAA,EAAA,UAAA,QAEA,EAAA,YAAA,UAAA,QAAA,EAAA,UAAA,QAUA,EAAA,YAAA,KAAA,SAAA,EAAA,GACA,IACA,EAAA,EA7eA,SAAA,GACA,IAEA,EACA,EACA,EACA,EACA,EACA,EAPA,EAAA,EAAA,OACA,EAAA,CAAA,YAAA,WAAA,WAAA,WAQA,IAAA,EAAA,GAAA,GAAA,EAAA,GAAA,GACA,EAAA,EAAA,EAAA,EAAA,SAAA,EAAA,GAAA,KAWA,IAFA,GAFA,EAAA,EAAA,GAAA,EAAA,EAAA,SAAA,EAAA,IAAA,IAAA,WAAA,IAEA,OACA,EAAA,CAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GACA,EAAA,EAAA,EAAA,EAAA,GAAA,EACA,EAAA,GAAA,IAAA,EAAA,KAAA,EAAA,GAAA,GAIA,GADA,EAAA,GAAA,IAAA,MAAA,EAAA,GAAA,GACA,EAAA,GAEA,IADA,EAAA,EAAA,GACA,EAAA,EAAA,EAAA,GAAA,GAAA,EACA,EAAA,GAAA,EAeA,OATA,GADA,EAAA,EAAA,GACA,SAAA,IAAA,MAAA,kBACA,EAAA,SAAA,EAAA,GAAA,IACA,EAAA,SAAA,EAAA,GAAA,KAAA,EAEA,EAAA,IAAA,EACA,EAAA,IAAA,EAEA,EAAA,EAAA,GAEA,EA+bA,CAAA,IAAA,WAAA,KAGA,OAAA,EAAA,EAAA,GAAA,GAGA;;;ACpqBC,IAAA,EAAA,UAAA,GAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EAAA,QAAA,UAAA,EAzED,IAAA,EAAA,QAAA,wBACA,EAAA,EAAA,QAAA,cAwEC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAtED,IAAIC,EAAmBC,EAAOC,cAAgBD,EAAOE,WACjDC,EAAiB,MAErB,SAASC,EAAYC,GACZ,OAAA,EAAKA,EAAAA,MAAAA,GAGd,SAASC,EAAUpB,EAAMqB,EAAOC,GAC1BtB,OAAAA,EAAKuB,YACAvB,EAAKuB,YAAYF,EAAOC,GAE1BtB,EAAKwB,MAAMH,EAAOC,GAG3B,SAASG,EAAW/B,EAAQM,EAAMqB,EAAOC,EAAKrB,IACxCoB,EAAQ,GAAKC,EAAMtB,EAAK5K,QAE1B4K,EAAOoB,EAAUpB,EAAMqB,EAAOC,KAEdtB,EAAAA,EAAAA,mBAAAA,EAAM,SAAU0B,GAChChC,EAAOb,OAAO6C,GACdzB,MAIJ,SAAS0B,EAAajC,EAAQkC,EAAQP,EAAOC,EAAKrB,IAC5CoB,EAAQ,GAAKC,EAAMM,EAAOhO,UAE5BgO,EAASA,EAAOzO,UAAUkO,EAAOC,IAEnC5B,EAAOmC,aAAaD,GACpB3B,IAGF,SAAS6B,EAAUhK,EAAMmI,GACnB8B,IAAAA,EAAgC,iBAATjK,EACvBnE,EAAMoO,EAAgBjK,EAAKlE,OAASkE,EAAK1C,KACzC4M,EAAYC,KAAKC,IAAIjB,EAAgBtN,GACrCwO,EAASF,KAAKG,KAAKzO,EAAMqO,GACzBK,EAAe,EACf3C,EAASqC,EAAgB,IAAIO,EAAJ,QAAY,IAAIA,EAAIpD,QAAAA,YAE7CL,EAASkD,EAAgBJ,EAAeF,EAEnCc,SAAAA,IACP1B,EAAiB2B,GAGVC,SAAAA,IACHtB,IACAR,EAASO,EADHxB,EAAO4B,KAAI,IAErBrB,EAASU,GACTjB,EAAOgD,UAGAF,SAAAA,IACHnB,IAAAA,EAAQgB,EAAeL,EACvBV,EAAMD,EAAQW,EAGhBnD,EAAOa,EAAQ5H,EAAMuJ,EAAOC,IAF9Be,EACmBF,EACgBI,EAEAE,GAGrCD,IAGF,SAASG,EAAUf,GACVU,OAAAA,EAAIM,QAAAA,KAAKhB;;ACurBlB,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,WAAA,EAAA,QAAA,YAAA,EAAA,QAAA,eAAA,EAAA,QAAA,MAAA,EAAA,QAAA,eAAA,EAAA,QAAA,aAAA,EAAA,QAAA,aAAA,EAAA,QAAA,QAAA,EAAA,QAAA,eAAA,EAAA,QAAA,gBAAA,EAAA,QAAA,eAAA,EAAA,QAAA,SAAA,EAAA,QAAA,cAAA,EAAA,QAAA,0BAAA,EAAA,QAAA,KAAA,EAAA,QAAA,sBAAA,EAAA,QAAA,SAAA,EAAA,QAAA,KAAA,EAAA,QAAA,IAAA,GAAA,QAAA,UAAA,EAAA,QAAA,UAAA,EAAA,QAAA,OAAA,EAAA,OAAA,eAAA,QAAA,WAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,WAAA,QAAA,KAAA,QAAA,aAAA,QAAA,YAAA,EA/vBA,IAAA,EAAA,EAAA,QAAA,cACA,EAAA,QAAA,uBACA,EAAA,EAAA,QAAA,aACA,EAAA,EAAA,QAAA,cACA,EAAA,QAAA,kBACA,EAAA,QAAA,UACA,EAAA,EAAA,QAAA,SACA,EAAA,QAAA,eAwvBA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAtvBA,SAASiB,EAAeC,GACd,MAAuB,oBAAhB5D,aAA+B4D,aAAkB5D,aAC7C,oBAATb,MAAwByE,aAAkBzE,KAGtD,SAAS0E,EAAiBC,GACpB,GAAsB,mBAAfA,EAAKxB,MACPwB,OAAAA,EAAKxB,MAAM,GAGhBpJ,IAAAA,EAAS,IAAI8G,YAAY8D,EAAKnD,YAC9BoD,EAAc,IAAI9D,WAAW/G,GAC7B8K,EAAc,IAAI/D,WAAW6D,GAE1B5K,OADP6K,EAAYtO,IAAIuO,GACT9K,EAGT,SAAS+K,EAAkBL,GACrBA,GAAAA,aAAkB5D,YACb6D,OAAAA,EAAiBD,GAEtB1N,IAAAA,EAAO0N,EAAO1N,KACd0E,EAAOgJ,EAAOhJ,KAEd,MAAwB,mBAAjBgJ,EAAOtB,MACTsB,EAAOtB,MAAM,EAAGpM,EAAM0E,GAGxBgJ,EAAOvB,YAAY,EAAGnM,EAAM0E,GAOrC,IAAIsJ,EAAe7K,SAAS/D,UAAUqB,SAClCwN,EAAmBD,EAAa1N,KAAKvB,QAEzC,SAASmP,EAAc1O,GACjB2O,IAAAA,EAAQpP,OAAOsI,eAAe7H,GAE9B2O,GAAU,OAAVA,EACK,OAAA,EAELC,IAAAA,EAAOD,EAAME,YACT,MAAe,mBAARD,GACbA,aAAgBA,GAAQJ,EAAa1N,KAAK8N,IAASH,EAGvD,SAASK,EAAMZ,GACTa,IAAAA,EACAjQ,EACAC,EAEA,IAACmP,GAA4B,iBAAXA,EACbA,OAAAA,EAGLtP,GAAAA,MAAMC,QAAQqP,GAAS,CAEpBpP,IADLiQ,EAAY,GACPjQ,EAAI,EAAGC,EAAMmP,EAAOlP,OAAQF,EAAIC,EAAKD,IACxCiQ,EAAUjQ,GAAKgQ,EAAMZ,EAAOpP,IAEvBiQ,OAAAA,EAKLb,GAAAA,aAAkBc,KACbd,OAAAA,EAAOe,cAGZhB,GAAAA,EAAeC,GACVK,OAAAA,EAAkBL,GAGvB,IAACQ,EAAcR,GACVA,OAAAA,EAIJpP,IAAAA,KADLiQ,EAAY,GACFb,EAEJ3O,GAAAA,OAAOK,UAAUsP,eAAepO,KAAKoN,EAAQpP,GAAI,CAC/CkB,IAAAA,EAAQ8O,EAAMZ,EAAOpP,SACJ,IAAVkB,IACT+O,EAAUjQ,GAAKkB,GAId+O,OAAAA,EAGT,SAASvG,EAAK2G,GACRC,IAAAA,GAAS,EACN,OAAA,EAAa,EAAA,SAAA,SAAU1L,GAExB0L,GAAAA,EAEI,MAAA,IAAIvO,MAAM,8BAEhBuO,GAAS,EACTD,EAAI5L,MAAM,KAAMG,KAKtB,SAAS2L,EAAUC,GAEV,OAAA,EAAa,EAAA,SAAA,SAAU5L,GAE5BA,EAAOoL,EAAMpL,GACT6L,IAAAA,EAAO,KAEPC,EAA2C,mBAA1B9L,EAAKA,EAAK1E,OAAS,IAAqB0E,EAAK8D,MAC9DiI,EAAU,IAAIC,QAAQ,SAAUC,EAASC,GACvCC,IAAAA,EACA,IACExE,IAAAA,EAAW7C,EAAK,SAAUvF,EAAK6M,GAC7B7M,EACF2M,EAAO3M,GAEP0M,EAAQG,KAKZpM,EAAKmC,KAAKwF,IACVwE,EAAOP,EAAK/L,MAAMgM,EAAM7L,KACS,mBAAdmM,EAAKE,MACtBJ,EAAQE,GAEV,MAAOnG,GACPkG,EAAOlG,MASJ+F,OALHD,GACFC,EAAQM,KAAK,SAAUrE,GACrB8D,EAAO,KAAM9D,IACZ8D,GAEEC,IAIX,SAASO,EAAWT,EAAMxO,EAAM2C,GAE1B6L,GAAAA,EAAKV,YAAYzG,UAAU,SAASpJ,OAAQ,CAEzC,IADDiR,IAAAA,EAAU,CAAC,MAAOV,EAAKxO,KAAMA,GACxBjC,EAAI,EAAGA,EAAI4E,EAAK1E,OAAS,EAAGF,IACnCmR,EAAQpK,KAAKnC,EAAK5E,IAEpByQ,EAAKV,YAAYlJ,KAAK,QAASsK,GAG3BC,IAAAA,EAAexM,EAAKA,EAAK1E,OAAS,GACtC0E,EAAKA,EAAK1E,OAAS,GAAK,SAAUiE,EAAK9C,GACjCgQ,IAAAA,EAAe,CAAC,MAAOZ,EAAKxO,KAAMA,GACtCoP,EAAeA,EAAahM,OAC1BlB,EAAM,CAAC,QAASA,GAAO,CAAC,UAAW9C,IAErCoP,EAAKV,YAAYlJ,KAAK,QAASwK,GAC/BD,EAAajN,EAAK9C,KAKxB,SAASiQ,EAAWrP,EAAMsK,GACjBgE,OAAAA,GAAU,EAAa,EAAA,SAAA,SAAU3L,GAClC,GAAA,KAAK2M,QACAX,OAAAA,QAAQE,OAAO,IAAI/O,MAAM,uBAE9B,GAAA,KAAKyP,WACAZ,OAAAA,QAAQE,OAAO,IAAI/O,MAAM,0BAE9B0O,IAAAA,EAAO,KAEP,OADJS,EAAWT,EAAMxO,EAAM2C,GAClB,KAAK6M,UAAUC,QAWbnF,EAAS9H,MAAM,KAAMG,GAVnB,IAAIgM,QAAQ,SAAUC,EAASC,GACpCL,EAAKgB,UAAUE,QAAQ,SAAUC,GAC3BA,EACFd,EAAOc,GAEPf,EAAQJ,EAAKxO,GAAMwC,MAAMgM,EAAM7L,WAU3C,SAASiN,EAAKC,EAAK1J,GAEZ,IADD/G,IAAAA,EAAM,GACDrB,EAAI,EAAGC,EAAMmI,EAAIlI,OAAQF,EAAIC,EAAKD,IAAK,CAC1CQ,IAAAA,EAAO4H,EAAIpI,GACXQ,KAAQsR,IACVzQ,EAAIb,GAAQsR,EAAItR,IAGba,OAAAA,EAMT,IAgII0Q,EA8IAC,EA9QAC,EAA8B,EAElC,SAASC,EAAiBC,GACjBA,OAAAA,EAGT,SAASC,EAA2BxF,GAC3B,MAAA,CAAC,CACNyF,GAAIzF,IAKR,SAAS0F,EAAQC,EAAIC,EAAMjG,GACrBkG,IAAAA,EAAWD,EAAKE,KAGhBC,EAAe,IAAIrS,EAAJ,IACnBmS,EAASnR,QAAQ,SAAUsR,GACrBD,EAAaxR,IAAIyR,EAAQC,IAC3BF,EAAa5R,IAAI6R,EAAQC,IAAI9L,KAAK6L,GAElCD,EAAa1R,IAAI2R,EAAQC,GAAI,CAACD,MAI9BE,IAAAA,EAAUH,EAAajR,KACvBqR,EAAU,EACVC,EAAgB,IAAIlT,MAAMgT,GAerBG,SAAAA,IAbAC,IACHC,IAaEJ,IAAYD,IAbdK,EAAU,GACdH,EAAc1R,QAAQ,SAAUD,GAC9BA,EAAIqR,KAAKpR,QAAQ,SAAU8R,GACzBD,EAAQpM,KAAK,CACX8L,GAAIxR,EAAIwR,GACRH,KAAM,CAACU,SAIb7G,EAAS,KAAM,CAAC4G,QAASA,KAcvBE,IAAAA,EAAc,GAClBV,EAAarR,QAAQ,SAAUJ,EAAO3B,GACpC8T,EAAYtM,KAAKxH,KAGfS,IAAAA,EAAI,EAECsT,SAAAA,IAEHtT,KAAAA,GAAKqT,EAAYnT,QAAjBF,CAIAuT,IAAAA,EAAOhF,KAAKC,IAAIxO,EAAIiS,EAA6BoB,EAAYnT,QAC7DsT,EAAQH,EAAYvF,MAAM9N,EAAGuT,IAK1BE,SAAaD,EAAOE,GAC3BF,EAAMlS,QAAQ,SAAUqS,EAAOC,GACzBC,IAAAA,EAASH,EAASE,EAClBE,EAAcnB,EAAa5R,IAAI4S,GAQ/BI,EAAUlC,EAAKiC,EAAY,GAAI,CAAC,aAAc,gBAClDC,EAAQC,UAAYF,EAAYG,IAAI,SAAUrB,GAErCA,OAAAA,EAAQsB,MAIjBH,EAAQC,UAAYD,EAAQC,UAAUG,OAAOjC,GAEzCkC,IAAAA,EAAelC,EAEc,IAA7B6B,EAAQC,UAAU9T,gBACb6T,EAAQC,UAKfI,EAAehC,GAIhB,CAAA,OAAQ,cAAe,SAAU,OAAQ,UAAU9Q,QAAQ,SAAU+S,GAChEA,KAAS7B,IACXuB,EAAQM,GAAS7B,EAAK6B,MAG1B9B,EAAGxR,IAAI4S,EAAOI,EAAS,SAAU5P,EAAK9C,GAChCuL,IAAAA,EA9DmBiG,EAAIH,EAiEzB9F,EADEzI,EACO,CAAC,CAACtC,MAAOsC,IAETiQ,EAAa/S,GAnEDwR,EAqELc,EArESjB,EAqEF9F,EApE7BoG,EAoEca,GApEY,CAAChB,GAAIA,EAAIH,KAAMA,GACzCO,IAoEIK,QAlDJG,CAAaD,EAAOxT,GACpBA,GAAKwT,EAAMtT,QAsDboT,IAMF,IACEgB,aAAaC,QAAQ,4BAA6B,GAClDxC,IAAauC,aAAaE,QAAQ,6BAClC,MAAO5J,IACPmH,GAAW,EAGb,SAAS0C,IACA1C,OAAAA,EAQT,SAAS2C,EAAoBjE,GACvBgE,KACFE,iBAAiB,UAAW,SAAU/J,GACpC6F,EAAK5J,KAAK+D,EAAErL,OAKlB,SAASqV,IACM5S,EAAAA,aAAAA,KAAK,MACb8F,KAAAA,WAAa,GAElB4M,EAAoB,MAsEtB,SAASG,EAAeC,GAElB,GAAmB,oBAAZ9P,SAAsD,mBAApBA,QAAQ8P,GAAwB,CACvElQ,IAAAA,EAAO9E,MAAMgB,UAAUgN,MAAM9L,KAAKsF,UAAW,GACjDtC,QAAQ8P,GAAQrQ,MAAMO,QAASJ,IAInC,SAASmQ,EAAavG,EAAKwG,GAiBlB,OAfPxG,EAAMyG,SAASzG,EAAK,KAAO,GAC3BwG,EAAMC,SAASD,EAAK,MACRA,GAAOA,GAAOxG,EACxBwG,GAAOxG,GAAO,IAAM,EAEpBwG,GAAY,EAGVA,EATa,MAUfxG,EAAM0G,IACNF,EAXe,SAcLA,EAAMxG,GADND,KAAK4G,SAGS3G,GAG5B,SAAS4G,EAAe5G,GAClBwG,IAAAA,EAAM,EAIHD,OAHFvG,IACHwG,EAAM,KAEDD,EAAavG,EAAKwG,GAK3B,SAASK,EAAazT,EAAQwI,GAC5ByK,EAAe,OAAQ,aAAejT,EAAS,uBAAyBwI,IA5H1E,EAASwK,EAAAA,SAAAA,EAASnP,EAAlB,cAiBAmP,EAAQ9T,UAAUyI,YAAc,SAAU+L,EAAQzC,EAAIN,EAAIC,GAEpD,IAAA,KAAK1K,WAAW+K,GAAhB,CAGApC,IAAAA,EAAO,KACP8E,GAAa,EAiCZzN,KAAAA,WAAW+K,GAAM2C,EACjBhM,KAAAA,GAAG8L,EAAQE,GAjCPA,SAAAA,IAEH,GAAC/E,EAAK3I,WAAW+K,GAGjB0C,GAAAA,EACFA,EAAa,cADXA,CAIJA,GAAa,EACTE,IAAAA,EAAc5D,EAAKW,EAAM,CAC3B,QAAS,eAAgB,cAAe,YAAa,SACrD,UAAW,OAAQ,QAAS,eAAgB,SAAU,gBAQxDD,EAAGmD,QAAQD,GAAajM,GAAG,SAAU,SAAUmM,GACzCA,EAAEC,IAAMpD,EAAKqD,QAAUrD,EAAKsD,YAC9BtD,EAAKqD,MAAQF,EAAEC,IACfpD,EAAKuD,SAASJ,MAEfnM,GAAG,WAAY,WACG,YAAf+L,IACQC,EAAAA,EAAAA,SAAAA,GAEZD,GAAa,IACZ/L,GAAG,QAdGwM,WACPT,GAAa,OAmBnBX,EAAQ9T,UAAU0G,eAAiB,SAAU8N,EAAQzC,GAE7CA,KAAM,KAAK/K,aAGJhH,EAAAA,aAAAA,UAAU0G,eAAexF,KAAK,KAAMsT,EAC/C,KAAKxN,WAAW+K,WACX,KAAK/K,WAAW+K,KAKzB+B,EAAQ9T,UAAUmV,mBAAqB,SAAUX,GAG3Cb,MACFH,aAAagB,GAAoC,MAAzBhB,aAAagB,GAAmB,IAAM,MAIlEV,EAAQ9T,UAAUoV,OAAS,SAAUZ,GAC9BzO,KAAAA,KAAKyO,GACLW,KAAAA,mBAAmBX,IAwE1B,IAAIa,EAxBAnE,EAD2B,mBAAlBvR,OAAOuR,OACPvR,OAAOuR,OAIP,SAAUtN,GAGZ,IAFD0R,IAAAA,EAAK3V,OAAOiE,GAEP+D,EAAQ,EAAGA,EAAQnB,UAAUpH,OAAQuI,IAAS,CACjD4N,IAAAA,EAAa/O,UAAUmB,GAEvB4N,GAAc,MAAdA,EACG,IAAA,IAAIC,KAAWD,EAEd5V,OAAOK,UAAUsP,eAAepO,KAAKqU,EAAYC,KACnDF,EAAGE,GAAWD,EAAWC,IAK1BF,OAAAA,GAOb,SAASG,EAAUpC,EAAQqC,EAAKC,GAC1B,IACK,OAACtC,EAAOqC,EAAKC,GACpB,MAAOtS,GACHuS,IAAAA,EAAM,0BAA4BvS,EAAIhC,WACnC,OAAA,EAAYgB,EAAAA,aAAAA,EAAZ,YAAyBuT,IAIpC,SAASC,EAAanE,GAChBiE,IAAAA,EAAM,GACNG,EAAYpE,EAAK2B,QAAiC,mBAAhB3B,EAAK2B,OAGpC,OAFPsC,EAAII,MAAQrE,EAAKsE,aAEV,SAAgBC,GAChBA,EAAOP,MAGVO,EAAOP,IAAM,IAGXQ,IAAAA,EAAeJ,GAAaL,EAAU/D,EAAK2B,OAAQ4C,EAAOP,IAAKC,GAE/D,GAAwB,iBAAjBO,EACFA,OAAAA,EAGLA,GAAAA,EACK,OAAA,EAGL,GAACxE,EAAKyE,cAEH,IAAKzE,EAAK0E,YACV,IAAA,IAAIC,KAAOJ,EAAOP,IAAIY,aAErBL,EAAOP,IAAIY,aAAahH,eAAe+G,KACzCJ,EAAOP,IAAIY,aAAaD,GAAKE,MAAO,eALjCN,EAAOP,IAST,OAAA,GAIX,SAASc,EAAQC,GAEV,IADDlW,IAAAA,EAAM,GACDrB,EAAI,EAAGC,EAAMsX,EAAKrX,OAAQF,EAAIC,EAAKD,IAC1CqB,EAAMA,EAAIgE,OAAOkS,EAAKvX,IAEjBqB,OAAAA,EAOT,SAASmW,KAkMT,QAAA,OAAA,EAhMA,IACInW,EADAoW,EAAUD,EAAEvV,KAqBZyV,EAfFrW,EADEoW,EACI,SAAUpH,GACPA,OAAAA,EAAIpO,MAGP,SAAUoO,GACVsH,IAAAA,EAAQtH,EAAIlO,WAAWwV,MAAM,kCAC7BA,OAAAA,GAASA,EAAM,GACVA,EAAM,GAGN,IAYb,SAASC,EAAe/E,GAClB1O,IAAAA,EAQAA,GAPC0O,EAEoB,iBAAPA,EAChB1O,GAAM,EAAYzB,EAAAA,aAAAA,EAAZ,YACG,KAAKmV,KAAKhF,KAAS,mBAAoBgF,KAAKhF,KACrD1O,GAAM,EAAYvB,EAAAA,aAAAA,EAAZ,cAJNuB,GAAM,EAAYxB,EAAAA,aAAAA,EAAZ,YAMJwB,EACIA,MAAAA,EAMV,SAAS2T,EAASvF,GACZ,MAAsB,kBAAfA,EAAGwF,QACLxF,EAAGwF,QAGW,mBAAZxF,EAAGnM,OACZyO,EAAe,OACb,8EAEmB,SAAdtC,EAAGnM,QAMd,SAAS+B,EAAc6P,EAAI5R,GAClB,MAAA,kBAAmB4R,EAAKA,EAAG7P,cAAc/B,GACjBX,EAAa0C,aAAAA,cAAc6P,EAAI5R,GAGhE,SAAS6R,EAA2BC,GAC9B,IAACA,EACI,OAAA,KAELzN,IAAAA,EAAQyN,EAAEC,MAAM,KAChB1N,OAAiB,IAAjBA,EAAMvK,OACDuK,EAEY,IAAjBA,EAAMvK,OACD,CAACgY,EAAGA,GAEN,KAGT,SAASE,EAA+BF,GAClCG,IAAAA,EAAaJ,EAA2BC,GACrCG,OAAAA,EAAaA,EAAWC,KAAK,KAAO,KAgH7C,QAAA,aAAA,EA1GA,IAAI9W,EAAO,CAAC,SAAU,WAAY,YAAa,WAAY,OAAQ,WAC/D,OAAQ,OAAQ,WAAY,OAAQ,YAAa,OAAQ,QAAS,UAClE+W,EAAO,WACPC,EAAU,4BAIVC,EAAS,mMAEb,SAASC,EAAStO,GAKTpK,IAJHuG,IAAAA,EAAIkS,EAAOE,KAAKvO,GAChBwO,EAAM,GACN5Y,EAAI,GAEDA,KAAK,CACNT,IAAAA,EAAMiC,EAAKxB,GACXkB,EAAQqF,EAAEvG,IAAM,GAChB6Y,GAAiD,IAAvC,CAAC,OAAQ,YAAYC,QAAQvZ,GAC3CqZ,EAAIrZ,GAAOsZ,EAAUE,mBAAmB7X,GAASA,EAU5C0X,OAPPA,EAAIL,GAAS,GACbK,EAAIpX,EAAK,KAAKwX,QAAQR,EAAS,SAAUS,EAAIC,EAAIC,GAC3CD,IACFN,EAAIL,GAAOW,GAAMC,KAIdP,EAOT,SAASQ,EAAUC,EAAQC,GACrB9X,IAAAA,EAAO,GACP+X,EAAS,GACR,IAAA,IAAIha,KAAO+Z,EACVA,EAAMlJ,eAAe7Q,KACvBiC,EAAKuF,KAAKxH,GACVga,EAAOxS,KAAKuS,EAAM/Z,KAIfsF,OADPrD,EAAKuF,KAAKsS,GACHxU,SAASJ,MAAM,KAAMjD,GAAMiD,MAAM,KAAM8U,GAMhD,SAASC,EAAOjH,EAAIoB,EAAO8F,GAClB,OAAA,IAAI7I,QAAQ,SAAUC,EAASC,GACpCyB,EAAGxR,IAAI4S,EAAO,SAAUxP,EAAKqS,GACvBrS,GAAAA,EAAK,CAEHA,GAAe,MAAfA,EAAIvC,OACCkP,OAAAA,EAAO3M,GAEhBqS,EAAM,GAIJkD,IAAAA,EAASlD,EAAImD,KACbC,EAASH,EAAQjD,GAEjB,IAACoD,EAGI/I,OAAAA,EAAQ,CAACgJ,SAAS,EAAO3F,IAAKwF,IAKvCE,EAAOE,IAAMnG,EACbiG,EAAOD,KAAOD,EACd7I,EAAQkJ,GAAUxH,EAAIqH,EAAQH,QAKpC,SAASM,GAAUxH,EAAIiE,EAAKiD,GACnBlH,OAAAA,EAAGyH,IAAIxD,GAAKvF,KAAK,SAAU5P,GACzB,MAAA,CACLwY,SAAS,EACT3F,IAAK7S,EAAI6S,MAEV,SAAU/P,GAEPA,GAAe,MAAfA,EAAIvC,OACAuC,MAAAA,EAEDqV,OAAAA,EAAOjH,EAAIiE,EAAIsD,IAAKL,KAI/B,SAASvF,GAAIsC,EAAKyD,GACZC,IAAAA,EAAYlK,EAAMwG,GAClB,OAACyD,UAIEC,EAAUC,WACV,EAAU/X,EAAAA,WAAAA,KAAKC,UAAU6X,KAJvBE,EAAOC,QAAAA,KAAKrB,QAAQ,KAAM,IAAIsB,cAOzC,IAAIC,GAAOH,EAAOC,QAAAA,GAAlB,QAAA,KAAA;;ACxYC,aAvXD,SAASG,EAAIpQ,EAAKqQ,EAASC,GAIlBC,IAHHA,IAAAA,EAAU,GACVC,EAAeF,EAAatQ,EAAIlK,OAE7Bya,EAAQza,OAAS0a,GACtBD,GAAWF,EAENE,OAAAA,EAGT,SAASE,EAAQzQ,EAAKqQ,EAASC,GAEtBC,OADOH,EAAIpQ,EAAKqQ,EAASC,GACftQ,EA2WlB,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EAAA,QAAA,aAAA,EAAA,QAAA,kBAAA,EAAA,QAAA,qBAAA,EAxWD,IAAI0Q,GAAiB,IACjBC,EAAmB,EACnBC,EAAM,GAEV,SAASC,EAAQC,EAAGC,GAEdD,GAAAA,IAAMC,EACD,OAAA,EAGTD,EAAIE,EAAaF,GACjBC,EAAIC,EAAaD,GAEbE,IAAAA,EAAKC,EAAeJ,GACpBK,EAAKD,EAAeH,GACnBE,GAAAA,EAAKE,GAAQ,EACTF,OAAAA,EAAKE,EAEN,cAAOL,GACR,IAAA,SACIA,OAAAA,EAAIC,EACR,IAAA,UACID,OAAAA,EAAIC,GAAK,EAAI,EACjB,IAAA,SACIK,OAAAA,EAAcN,EAAGC,GAErBrb,OAAAA,MAAMC,QAAQmb,GAAKO,EAAaP,EAAGC,GAAKO,EAAcR,EAAGC,GAKlE,SAASC,EAAa7b,GACZ,cAAOA,GACR,IAAA,YACI,OAAA,KACJ,IAAA,SACCA,OAAAA,IAAQoc,EAAAA,GAAYpc,KAASoc,EAAAA,GAAYnW,MAAMjG,GAC1C,KAEFA,EACJ,IAAA,SACCqc,IAAAA,EAAUrc,EACVO,GAAAA,MAAMC,QAAQR,GAAM,CAClBU,IAAAA,EAAMV,EAAIW,OACdX,EAAM,IAAIO,MAAMG,GACX,IAAA,IAAID,EAAI,EAAGA,EAAIC,EAAKD,IACvBT,EAAIS,GAAKob,EAAaQ,EAAQ5b,QAG3B,CAAA,GAAIT,aAAe2Q,KACjB3Q,OAAAA,EAAIsc,SACN,GAAY,OAARtc,EAEJ,IAAA,IAAIuc,KADTvc,EAAM,GACQqc,EACRA,GAAAA,EAAQxL,eAAe0L,GAAI,CACzBC,IAAAA,EAAMH,EAAQE,QACC,IAARC,IACTxc,EAAIuc,GAAKV,EAAaW,MAM3Bxc,OAAAA,EAGT,SAASyc,EAASzc,GACZA,GAAQ,OAARA,EACM,cAAOA,GACR,IAAA,UACIA,OAAAA,EAAM,EAAI,EACd,IAAA,SACI0c,OAAAA,EAAqB1c,GACzB,IAAA,SAOIA,OAAAA,EACJyZ,QAAQ,UAAW,MACnBA,QAAQ,UAAW,MACnBA,QAAQ,UAAW,MAEnB,IAAA,SACCjZ,IAAAA,EAAUD,MAAMC,QAAQR,GACxB6I,EAAMrI,EAAUR,EAAMkB,OAAOe,KAAKjC,GAClCS,GAAK,EACLC,EAAMmI,EAAIlI,OACV0M,EAAS,GACT7M,GAAAA,EACK,OAAEC,EAAIC,GACX2M,GAAUsP,EAAkB9T,EAAIpI,SAG3B,OAAEA,EAAIC,GAAK,CACZkc,IAAAA,EAAS/T,EAAIpI,GACjB4M,GAAUsP,EAAkBC,GACxBD,EAAkB3c,EAAI4c,IAGvBvP,OAAAA,EAGN,MAAA,GAMT,SAASsP,EAAkB3c,GAGlB+b,OAAAA,EADP/b,EAAM6b,EAAa7b,IACUyb,EAAMgB,EAASzc,GAFjC,KAKb,SAAS6c,EAAYhS,EAAKpK,GACpBqc,IACAC,EADAD,EAAcrc,EAGduc,GADkB,MAAXnS,EAAIpK,GAEbsc,EAAM,EACNtc,QACK,CACDwc,IAAAA,EAAiB,MAAXpS,EAAIpK,GACdA,IACIyc,IAAAA,EAAc,GACdC,EAActS,EAAI3K,UAAUO,EAAGA,EAAI+a,GACnC4B,EAAY1H,SAASyH,EAAa,IAAM5B,EAMrC,IAJH0B,IACFG,GAAaA,GAEf3c,GAAK+a,IACQ,CACP6B,IAAAA,EAAKxS,EAAIpK,GACT4c,GAAO,OAAPA,EACF,MAEAH,GAAeG,EAEjB5c,IAIAsc,EADyB,KAD3BG,EAAcA,EAAYtE,MAAM,MAChBjY,OACR+U,SAASwH,EAAa,IAGtBI,WAAWJ,EAAY,GAAK,IAAMA,EAAY,IAGlDD,IACFF,GAAY,IAGI,IAAdK,IAIFL,EAAMO,WAAWP,EAAM,IAAMK,IAG1B,MAAA,CAACL,IAAKA,EAAKpc,OAASF,EAAIqc,GAKjC,SAAS3T,EAAIoU,EAAOC,GACdjL,IAAAA,EAAMgL,EAAMpU,MAEZqU,GAAAA,EAAU7c,OAAQ,CAChB8c,IAAAA,EAAkBD,EAAUA,EAAU7c,OAAS,GAC/C4R,IAAQkL,EAAgBC,UAE1BF,EAAUrU,MACVsU,EAAkBD,EAAUA,EAAU7c,OAAS,IAE7C+c,IAAAA,EAAUD,EAAgBC,QAC1BC,EAAmBF,EAAgBvU,MACnC3I,GAAAA,MAAMC,QAAQkd,GAChBA,EAAQlW,KAAK+K,QACR,GAAIoL,IAAqBJ,EAAM5c,OAAS,EAAG,CAEhD+c,EADUH,EAAMpU,OACDoJ,OAEfgL,EAAM/V,KAAK+K,IAKjB,SAASqL,EAAqB/S,GAMrB,IALH0S,IAAAA,EAAQ,GACRC,EAAY,GACZ/c,EAAI,IAGK,CACPsb,IAAAA,EAAiBlR,EAAIpK,KACrBsb,GAAmB,OAAnBA,EAQIA,OAAAA,GACD,IAAA,IACHwB,EAAM/V,KAAK,MACX,MACG,IAAA,IACH+V,EAAM/V,KAAgB,MAAXqD,EAAIpK,IACfA,IACA,MACG,IAAA,IACCod,IAAAA,EAAYhB,EAAYhS,EAAKpK,GACjC8c,EAAM/V,KAAKqW,EAAUd,KACrBtc,GAAKod,EAAUld,OACf,MACG,IAAA,IAGI,IAFHmd,IAAAA,EAAY,KAEH,CACPT,IAAAA,EAAKxS,EAAIpK,GACT4c,GAAO,OAAPA,EACF,MAEFS,GAAaT,EACb5c,IAKFqd,EAAYA,EAAUrE,QAAQ,gBAAiB,MAC5CA,QAAQ,gBAAiB,KACzBA,QAAQ,gBAAiB,KAE5B8D,EAAM/V,KAAKsW,GACX,MACG,IAAA,IACCC,IAAAA,EAAe,CAAEL,QAAS,GAAIxU,MAAOqU,EAAM5c,QAC/C4c,EAAM/V,KAAKuW,EAAaL,SACxBF,EAAUhW,KAAKuW,GACf,MACG,IAAA,IACCC,IAAAA,EAAa,CAAEN,QAAS,GAAIxU,MAAOqU,EAAM5c,QAC7C4c,EAAM/V,KAAKwW,EAAWN,SACtBF,EAAUhW,KAAKwW,GACf,MAEF,QACQ,MAAA,IAAIxb,MACR,4DACEuZ,OAvDJA,CACEwB,GAAiB,IAAjBA,EAAM5c,OACD4c,OAAAA,EAAMpU,MAEbA,EAAIoU,EAAOC,KAwDnB,SAAStB,EAAaP,EAAGC,GAElB,IADDlb,IAAAA,EAAMsO,KAAKC,IAAI0M,EAAEhb,OAAQib,EAAEjb,QACtBF,EAAI,EAAGA,EAAIC,EAAKD,IAAK,CACxBwd,IAAAA,EAAOvC,EAAQC,EAAElb,GAAImb,EAAEnb,IACvBwd,GAAS,IAATA,EACKA,OAAAA,EAGHtC,OAAAA,EAAEhb,SAAWib,EAAEjb,OAAU,EAC9Bgb,EAAEhb,OAASib,EAAEjb,OAAU,GAAK,EAEjC,SAASsb,EAAcN,EAAGC,GAIhBD,OAAAA,IAAMC,EAAK,EAAMD,EAAIC,EAAK,GAAK,EAEzC,SAASO,EAAcR,EAAGC,GAGnB,IAFDsC,IAAAA,EAAKhd,OAAOe,KAAK0Z,GAAIwC,EAAKjd,OAAOe,KAAK2Z,GACtClb,EAAMsO,KAAKC,IAAIiP,EAAGvd,OAAQwd,EAAGxd,QACxBF,EAAI,EAAGA,EAAIC,EAAKD,IAAK,CAExBwd,IAAAA,EAAOvC,EAAQwC,EAAGzd,GAAI0d,EAAG1d,IACzBwd,GAAS,IAATA,EACKA,OAAAA,EAILA,GAAS,KADbA,EAAOvC,EAAQC,EAAEuC,EAAGzd,IAAKmb,EAAEuC,EAAG1d,MAErBwd,OAAAA,EAIHC,OAAAA,EAAGvd,SAAWwd,EAAGxd,OAAU,EAChCud,EAAGvd,OAASwd,EAAGxd,OAAU,GAAK,EAMnC,SAASob,EAAenJ,GAClBU,IACA8K,EADK,CAAC,UAAW,SAAU,SAAU,UAC5B7E,eAAe3G,GAExB,OAACwL,EACO,OAANxL,EACK,EAELrS,MAAMC,QAAQoS,GACT,EAEFwL,EAAM,EAAKA,EAAM,EAAMA,EAAM,EAGlC7d,MAAMC,QAAQoS,GACT,OADLrS,EAUN,SAASmc,EAAqBK,GAExBA,GAAQ,IAARA,EACK,MAAA,IAKLsB,IAAAA,EAAYtB,EAAIuB,gBAAgB1F,MAAM,QACtCwE,EAAY1H,SAAS2I,EAAU,GAAI,IAEnCpB,EAAMF,EAAM,EAEZ1P,EAAS4P,EAAM,IAAM,IAKrBsB,EAAYjD,IADS2B,GAAOG,EAAYA,GAAa7B,GACd3Y,WAAY,IAAK4Y,GAE5DnO,GAAUoO,EAAM8C,EAGZC,IAAAA,EAASxP,KAAKyP,IAAInB,WAAWe,EAAU,KAEvCpB,IACFuB,EAAS,GAAKA,GAGZE,IAAAA,EAAYF,EAAOG,QAAQ,IAOxBtR,OAJPqR,EAAYA,EAAUjF,QAAQ,SAAU,IAExCpM,GAAUoO,EAAMiD;;AC8NjB,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,gBAAA,EAAA,QAAA,gBAAA,EAAA,QAAA,qBAAA,EAAA,QAAA,kBAAA,EAAA,QAAA,UAAA,EAAA,QAAA,qBAAA,EAAA,QAAA,OAAA,EAAA,QAAA,SAAA,EAAA,QAAA,gBAAA,EAAA,QAAA,cAAA,EAAA,QAAA,QAAA,EAAA,QAAA,WAAA,EAllBD,IAAA,EAAA,QAAA,iBACA,EAAA,QAAA,mBAIA,SAASE,EAAgB3H,EAAK4H,GAEvB,IADDld,IAAAA,EAAQsV,EACHxW,EAAI,EAAGC,EAAMme,EAAYle,OAAQF,EAAIC,EAAKD,IAAK,CAGlD,KADJkB,EAAQA,EADEkd,EAAYpe,KAGpB,MAGGkB,OAAAA,EAGT,SAASmd,EAAc7H,EAAK4H,EAAald,GAClC,IAAA,IAAIlB,EAAI,EAAGC,EAAMme,EAAYle,OAAQF,EAAIC,EAAI,EAAGD,IAAK,CAExDwW,EAAMA,EADK4H,EAAYpe,IACL,GAEpBwW,EAAI4H,EAAYne,EAAI,IAAMiB,EAG5B,SAASod,EAAQC,EAAMC,GACdD,OAAAA,EAAOC,GAAS,EAAID,EAAOC,EAAQ,EAAI,EAIhD,SAASC,EAAWC,GAIb,IAFDC,IAAAA,EAAS,GACTC,EAAU,GACL5e,EAAI,EAAGC,EAAMye,EAAUxe,OAAQF,EAAIC,EAAKD,IAAK,CAChD4c,IAAAA,EAAK8B,EAAU1e,GACR,MAAP4c,EACE5c,EAAI,GAA0B,OAArB0e,EAAU1e,EAAI,GACzB4e,EAAUA,EAAQnf,UAAU,EAAGmf,EAAQ1e,OAAS,GAAK,KAErDye,EAAO5X,KAAK6X,GACZA,EAAU,IAGZA,GAAWhC,EAIR+B,OADPA,EAAO5X,KAAK6X,GACLD,EAGT,IAAIE,EAAoB,CAAC,MAAO,OAAQ,QACxC,SAASC,EAAqBC,GACrBF,OAAAA,EAAkB/F,QAAQiG,IAAU,EAG7C,SAASC,EAAOlN,GACPrR,OAAAA,OAAOe,KAAKsQ,GAAK,GAG1B,SAASmN,EAASnN,GACTA,OAAAA,EAAIkN,EAAOlN,IAKpB,SAASoN,EAAoBC,GAKvB9d,IAAAA,EAAM,GAqCHA,OAnCP8d,EAAU7d,QAAQ,SAAU8d,GAC1B3e,OAAOe,KAAK4d,GAAU9d,QAAQ,SAAUyd,GAClCM,IAAAA,EAAUD,EAASL,GAKnBD,GAJmB,iBAAZO,IACTA,EAAU,CAACC,IAAKD,IAGdP,EAAqBC,GACnBM,aAAmBvf,MACrBuB,EAAI0d,GAASM,EAAQpL,IAAI,SAAU1N,GAC1B2Y,OAAAA,EAAoB,CAAC3Y,MAG9BlF,EAAI0d,GAASG,EAAoB,CAACG,QAE/B,CACDE,IAAAA,EAAgBle,EAAI0d,GAAS1d,EAAI0d,IAAU,GAC/Cte,OAAOe,KAAK6d,GAAS/d,QAAQ,SAAUke,GACjCte,IAAAA,EAAQme,EAAQG,GAEhBA,MAAa,QAAbA,GAAmC,SAAbA,EACjBC,EAAWD,EAAUte,EAAOqe,GACb,QAAbC,GAAmC,SAAbA,EACxBE,EAAWF,EAAUte,EAAOqe,GACb,QAAbC,EACFG,EAAQze,EAAOqe,GACA,QAAbC,EACFI,EAAQ1e,EAAOqe,QAExBA,EAAcC,GAAYte,UAM3BG,EAMT,SAASoe,EAAWD,EAAUte,EAAOqe,QACF,IAAtBA,EAAcD,WAGS,IAAvBC,EAAcM,KACN,SAAbL,EACEte,EAAQqe,EAAcM,OACxBN,EAAcM,KAAO3e,GAGnBA,GAASqe,EAAcM,cAClBN,EAAcM,KACrBN,EAAcO,IAAM5e,QAGc,IAAtBqe,EAAcO,IACb,SAAbN,EACEte,EAAQqe,EAAcO,aACjBP,EAAcO,IACrBP,EAAcM,KAAO3e,GAGnBA,EAAQqe,EAAcO,MACxBP,EAAcO,IAAM5e,GAIxBqe,EAAcC,GAAYte,GAK9B,SAASwe,EAAWF,EAAUte,EAAOqe,QACF,IAAtBA,EAAcD,WAGS,IAAvBC,EAAcQ,KACN,SAAbP,EACEte,EAAQqe,EAAcQ,OACxBR,EAAcQ,KAAO7e,GAGnBA,GAASqe,EAAcQ,cAClBR,EAAcQ,KACrBR,EAAcS,IAAM9e,QAGc,IAAtBqe,EAAcS,IACb,SAAbR,EACEte,EAAQqe,EAAcS,aACjBT,EAAcS,IACrBT,EAAcQ,KAAO7e,GAGnBA,EAAQqe,EAAcS,MACxBT,EAAcS,IAAM9e,GAIxBqe,EAAcC,GAAYte,GAK9B,SAASye,EAAQze,EAAOqe,GAClB,QAASA,EAEXA,EAAcU,IAAIlZ,KAAK7F,GAEvBqe,EAAcU,IAAM,CAAC/e,GAKzB,SAAS0e,EAAQ1e,EAAOqe,UAGfA,EAAcO,WACdP,EAAcM,YACdN,EAAcS,WACdT,EAAcQ,YACdR,EAAcU,IACrBV,EAAcD,IAAMpe,EAItB,SAASgf,EAA0BpO,GAC1B,IAAA,IAAItR,KAAQsR,EAAK,CACdhS,GAAAA,MAAMC,QAAQ+R,GACT,IAAA,IAAI9R,KAAK8R,EACNA,EAAI9R,GAAJ,OACA8R,EAAI9R,GAAKkf,EAAoBpN,EAAI9R,GAAJ,OAIrCkB,IAAAA,EAAQ4Q,EAAItR,GACK,iBAAVU,GACPgf,EAA0Bhf,GAG3B4Q,OAAAA,EAIX,SAASqO,EAAgBrO,EAAKsO,GACrB,IAAA,IAAI5f,KAAQsR,EAAK,CACL,SAATtR,IACA4f,GAAQ,GAERlf,IAAAA,EAAQ4Q,EAAItR,GACK,iBAAVU,IACPkf,EAAQD,EAAgBjf,EAAOkf,IAGhCA,OAAAA,EAMX,SAASC,EAAgBC,GACnB1T,IAAAA,GAAS,EAAM0T,EAAAA,OAAAA,GACfC,GAAW,EAETJ,EAAgBvT,GAAQ,KAEpB,SADJA,EAASsT,EAA0BtT,MAE/BA,EAASsS,EAAoBtS,EAAM,OAEvC2T,GAAW,GAGhB,CAAA,MAAO,QAAQjf,QAAQ,SAAUkf,GAC5BA,KAAW5T,GAGbA,EAAO4T,GAASlf,QAAQ,SAAUmf,GAE3B,IADD9B,IAAAA,EAASle,OAAOe,KAAKif,GAChBzgB,EAAI,EAAGA,EAAI2e,EAAOze,OAAQF,IAAK,CAClC+e,IAAAA,EAAQJ,EAAO3e,GACfqf,EAAUoB,EAAY1B,GACH,iBAAZM,GAAoC,OAAZA,IACjCoB,EAAY1B,GAAS,CAACO,IAAKD,SAOjC,SAAUzS,IAGZA,EAAM,KAAWsS,EAAoB,CAACtS,EAAM,QAKzC,IAFD+R,IAAAA,EAASle,OAAOe,KAAKoL,GAEhB5M,EAAI,EAAGA,EAAI2e,EAAOze,OAAQF,IAAK,CAClC+e,IAAAA,EAAQJ,EAAO3e,GACfqf,EAAUzS,EAAOmS,GAEE,iBAAZM,GAAoC,OAAZA,EACjCA,EAAU,CAACC,IAAKD,GACP,QAASA,IAAYkB,IAG9BlB,EAAQY,IAAM,CAACZ,EAAQY,MAEzBrT,EAAOmS,GAASM,EAGXzS,OAAAA,EAIT,SAAS8T,EAAkBlD,GAEhBmD,SAAAA,EAAsBnK,GACtBgH,OAAAA,EAAKvJ,IAAI,SAAU2M,GACpBlC,IACAN,EAAcK,EADFO,EAAO4B,IAGhBC,OADa1C,EAAgB3H,EAAK4H,KAKtC,OAAA,SAAU0C,EAAMC,GACjBC,IAAAA,EAAeL,EAAsBG,EAAKtK,KAC1CyK,EAAeN,EAAsBI,EAAKvK,KAC1C0K,GAAY,EAAQF,EAAAA,SAAAA,EAAcC,GAClCC,OAAc,IAAdA,EACKA,EAGF5C,EAAQwC,EAAKtK,IAAIsD,IAAKiH,EAAKvK,IAAIsD,MAI1C,SAASqH,EAAqBC,EAAMC,EAAYC,GAK1CD,GAJJD,EAAOA,EAAKjN,OAAO,SAAUoN,GACpBC,OAAAA,EAAUD,EAAI/K,IAAK6K,EAAWjC,SAAUkC,KAG7CD,EAAW7D,KAAM,CAEfiE,IAAAA,EAAcf,EAAkBW,EAAW7D,MAC/C4D,EAAOA,EAAK5D,KAAKiE,GACiB,iBAAvBJ,EAAW7D,KAAK,IACU,SAAjCyB,EAASoC,EAAW7D,KAAK,MAC3B4D,EAAOA,EAAKM,WAIZ,GAAA,UAAWL,GAAc,SAAUA,EAAY,CAE7CM,IAAAA,EAAON,EAAWM,MAAQ,EAC1BC,GAAS,UAAWP,EAAaA,EAAWO,MAAQR,EAAKlhB,QAAUyhB,EACvEP,EAAOA,EAAKtT,MAAM6T,EAAMC,GAEnBR,OAAAA,EAGT,SAASI,EAAUhL,EAAK4I,EAAUkC,GACzBA,OAAAA,EAAeO,MAAM,SAAU9C,GAChCM,IAAAA,EAAUD,EAASL,GACnBX,EAAcK,EAAWM,GACzB8B,EAAgB1C,EAAgB3H,EAAK4H,GACrCU,OAAAA,EAAqBC,GAChB+C,EAA0B/C,EAAOM,EAAS7I,GAG5CuL,EAAc1C,EAAS7I,EAAK4H,EAAayC,KAIpD,SAASkB,EAAc1C,EAAS7I,EAAK4H,EAAayC,GAC5C,OAACxB,IAMkB,iBAAZA,EACF5e,OAAOe,KAAK6d,GAASwC,MAAM,SAAUG,GACtCC,IAAAA,EAAY5C,EAAQ2C,GACjBrK,OAAAA,EAAMqK,EAAcxL,EAAKyL,EAAW7D,EAAayC,KAKrDxB,IAAYwB,GAGrB,SAASiB,EAA0B/C,EAAOM,EAAS7I,GAE7CuI,MAAU,QAAVA,EACKM,EAAQ6C,KAAK,SAAUC,GACrBX,OAAAA,EAAUhL,EAAK2L,EAAY1hB,OAAOe,KAAK2gB,MAIpC,SAAVpD,GACMyC,EAAUhL,EAAK6I,EAAS5e,OAAOe,KAAK6d,KAItCA,EAAQ+C,KAAK,SAAUD,GACtBX,OAAAA,EAAUhL,EAAK2L,EAAY1hB,OAAOe,KAAK2gB,MAKlD,SAASxK,EAAMqK,EAAcxL,EAAKyL,EAAW7D,EAAayC,GACpD,IAACwB,EAASL,GACN,MAAA,IAAIjgB,MAAM,qBAAuBigB,EACrC,sIAGGK,OAAAA,EAASL,GAAcxL,EAAKyL,EAAW7D,EAAayC,GAG7D,SAASyB,EAAYzB,GACZ,OAAA,MAAOA,EAGhB,SAAS0B,EAAoB1B,GACpB,YAAyB,IAAlBA,EAGhB,SAAS2B,EAAS3B,EAAeoB,GAC3BQ,IAAAA,EAAUR,EAAU,GACpBS,EAAMT,EAAU,GAChBQ,GAAY,IAAZA,EACI,MAAA,IAAI1gB,MAAM,sCAGdkT,GAAAA,SAASwN,EAAS,MAAQA,EACtB,MAAA,IAAI1gB,MAAM,6BAGdkT,GAAAA,SAASyN,EAAK,MAAQA,EAClB,MAAA,IAAI3gB,MAAM,6BAGdkT,OAAAA,SAAS4L,EAAe,MAAQA,GAI7BA,EAAgB4B,IAAYC,EAGrC,SAASC,EAAmB9B,EAAeoB,GAClCA,OAAAA,EAAUC,KAAK,SAAUnG,GAC1B8E,OAAAA,aAAyB/gB,MACpB+gB,EAAc/H,QAAQiD,IAAQ,EAGhC8E,IAAkB9E,IAI7B,SAAS6G,EAAuB/B,EAAeoB,GACtCA,OAAAA,EAAUJ,MAAM,SAAU9F,GACxB8E,OAAAA,EAAc/H,QAAQiD,IAAQ,IAIzC,SAAS8G,EAAUhC,EAAeoB,GACzBpB,OAAAA,EAAc3gB,SAAW+hB,EAGlC,SAASa,EAAWjC,EAAeoB,GAG1Bc,OAFE,IAAIC,OAAOf,GAEVpK,KAAKgJ,GAGjB,SAASoC,EAAUpC,EAAeoB,GAExBA,OAAAA,GACD,IAAA,OACIpB,OAAkB,OAAlBA,EACJ,IAAA,UACI,MAA2B,kBAAnBA,EACZ,IAAA,SACI,MAA2B,iBAAnBA,EACZ,IAAA,SACI,MAA2B,iBAAnBA,EACZ,IAAA,QACIA,OAAAA,aAAyB/gB,MAC7B,IAAA,SACK,MAAqC,oBAArC,GAAIqC,SAASH,KAAK6e,GAGxB,MAAA,IAAI9e,MAAMkgB,EAAY,8FAK9B,IAAII,EAAW,CAEC,WAAA,SAAU7L,EAAKyL,EAAW7D,EAAayC,GAC/C,QAAC/gB,MAAMC,QAAQ8gB,KAIU,IAAzBA,EAAc3gB,SAIc,iBAArB2gB,EAAc,GAChBA,EAAcqB,KAAK,SAAUnG,GAC3ByF,OAAAA,EAAUzF,EAAKkG,EAAWxhB,OAAOe,KAAKygB,MAI1CpB,EAAcqB,KAAK,SAAUnG,GAC3BgG,OAAAA,EAAcE,EAAWzL,EAAK4H,EAAarC,QAIzC,UAAA,SAAUvF,EAAKyL,EAAW7D,EAAayC,GAC9C,QAAC/gB,MAAMC,QAAQ8gB,KAKU,IAAzBA,EAAc3gB,SAIc,iBAArB2gB,EAAc,GAChBA,EAAcgB,MAAM,SAAU9F,GAC5ByF,OAAAA,EAAUzF,EAAKkG,EAAWxhB,OAAOe,KAAKygB,MAI1CpB,EAAcgB,MAAM,SAAU9F,GAC5BgG,OAAAA,EAAcE,EAAWzL,EAAK4H,EAAarC,QAI/C,IAAA,SAAUvF,EAAKyL,EAAW7D,EAAayC,GACrC0B,OAAAA,EAAoB1B,IAAwD,KAAtC,EAAQA,EAAAA,SAAAA,EAAeoB,IAG9D,KAAA,SAAUzL,EAAKyL,EAAW7D,EAAayC,GACtC0B,OAAAA,EAAoB1B,KAAkB,EAAQA,EAAAA,SAAAA,EAAeoB,IAAc,GAG7E,IAAA,SAAUzL,EAAKyL,EAAW7D,EAAayC,GACrC0B,OAAAA,EAAoB1B,KAAkB,EAAQA,EAAAA,SAAAA,EAAeoB,GAAa,GAG3E,KAAA,SAAUzL,EAAKyL,EAAW7D,EAAayC,GACtC0B,OAAAA,EAAoB1B,KAAkB,EAAQA,EAAAA,SAAAA,EAAeoB,IAAc,GAG7E,IAAA,SAAUzL,EAAKyL,EAAW7D,EAAayC,GACrC0B,OAAAA,EAAoB1B,KAAkB,EAAQA,EAAAA,SAAAA,EAAeoB,GAAa,GAGxE,QAAA,SAAUzL,EAAKyL,EAAW7D,EAAayC,GAE5CoB,OAAAA,EACKM,EAAoB1B,IAGrB0B,EAAoB1B,IAGtB,KAAA,SAAUrK,EAAKyL,EAAW7D,EAAayC,GACtCyB,OAAAA,EAAYzB,IAAkB2B,EAAS3B,EAAeoB,IAGxD,IAAA,SAAUzL,EAAKyL,EAAW7D,EAAayC,GACrCoB,OAAAA,EAAUJ,MAAM,SAAUqB,GACxB,OAAoC,KAApC,EAAQrC,EAAAA,SAAAA,EAAeqC,MAG3B,IAAA,SAAU1M,EAAKyL,EAAW7D,EAAayC,GACrCyB,OAAAA,EAAYzB,IAAkB8B,EAAmB9B,EAAeoB,IAGjE,KAAA,SAAUzL,EAAKyL,EAAW7D,EAAayC,GACtCyB,OAAAA,EAAYzB,KAAmB8B,EAAmB9B,EAAeoB,IAGjE,MAAA,SAAUzL,EAAKyL,EAAW7D,EAAayC,GACvCyB,OAAAA,EAAYzB,IAAkBgC,EAAUhC,EAAeoB,IAGxD,KAAA,SAAUzL,EAAKyL,EAAW7D,EAAayC,GACtC/gB,OAAAA,MAAMC,QAAQ8gB,IAAkB+B,EAAuB/B,EAAeoB,IAGrE,OAAA,SAAUzL,EAAKyL,EAAW7D,EAAayC,GACxCyB,OAAAA,EAAYzB,IAAkBiC,EAAWjC,EAAeoB,IAGxD,MAAA,SAAUzL,EAAKyL,EAAW7D,EAAayC,GACvCoC,OAAAA,EAAUpC,EAAeoB,KAKpC,SAASkB,EAAgB3M,EAAK4I,GAExB,GAAoB,iBAAbA,EAEH,MAAA,IAAIrd,MAAM,0CAIdwf,IAIA6B,EAAcjC,EAAqB,CAJ7B,CACD3K,IAAAA,IAGqC,CAAc4I,SAL5DA,EAAWiB,EAAgBjB,IAK6C3e,OAAOe,KAAK4d,IAC7EgE,OAAAA,GAAsC,IAAvBA,EAAYljB;;;ACjlBpC,IAAA,GAAA,SAAWmjB,EAAMC,GACf,aAGsB,iBAAX3d,QAAiD,iBAAnBA,OAAOC,QAC9CD,OAAOC,QAAU0d,IACU,mBAAXC,GAAyBA,EAAOC,IAEhDD,EAAO,GAAID,GAGXD,EAAKI,WAAaH,IAXtB,CAaG,KAAM,WACP,aAEII,IAAAA,EAAQjjB,OAAOK,UAAUqB,SACpBiO,SAAAA,EAAe0B,EAAKtR,GACxBsR,OAAO,MAAPA,GAIIrR,OAAOK,UAAUsP,eAAepO,KAAK8P,EAAKtR,GAG1CmjB,SAAAA,EAAQziB,GACX,IAACA,EACI,OAAA,EAELnB,GAAAA,EAAQmB,IAA2B,IAAjBA,EAAMhB,OACjB,OAAA,EACJ,GAAqB,iBAAVgB,EAAoB,CAC7B,IAAA,IAAIlB,KAAKkB,EACNkP,GAAAA,EAAelP,EAAOlB,GACf,OAAA,EAGR,OAAA,EAEJ,OAAA,EAGAmC,SAAAA,EAASiE,GACTsd,OAAAA,EAAM1hB,KAAKoE,GAOhBrG,IAAAA,EAAUD,MAAMC,SAAW,SAAS+R,GAE/B4R,MAAoB,mBAApBA,EAAM1hB,KAAK8P,IAOXkN,SAAAA,EAAOzf,GACVqkB,IAAAA,EAAS3O,SAAS1V,GAClBqkB,OAAAA,EAAOzhB,aAAe5C,EACjBqkB,EAEFrkB,EAGA+jB,SAAAA,EAAQO,GACfA,EAAUA,GAAW,GAEjBJ,IAAAA,EAAa,SAAS3R,GACjBrR,OAAAA,OAAOe,KAAKiiB,GAAYK,OAAO,SAASC,EAAOvjB,GACjDA,MAAS,WAATA,EACMujB,GAIuB,mBAArBN,EAAWjjB,KACpBujB,EAAMvjB,GAAQijB,EAAWjjB,GAAMqH,KAAK4b,EAAY3R,IAG3CiS,IACN,KAGIC,SAAAA,EAAmBlS,EAAKtR,GACvBqjB,OAAAA,EAAQI,uBAA0C,iBAATzjB,GAAqBV,MAAMC,QAAQ+R,IAAS1B,EAAe0B,EAAKtR,GAG1G0jB,SAAAA,EAAmBpS,EAAKtR,GAC3BwjB,GAAAA,EAAmBlS,EAAKtR,GACnBsR,OAAAA,EAAItR,GAINS,SAAAA,EAAI6Q,EAAKqS,EAAMjjB,EAAOkjB,GAIzB,GAHgB,iBAATD,IACTA,EAAO,CAACA,KAELA,GAAwB,IAAhBA,EAAKjkB,OACT4R,OAAAA,EAEL,GAAgB,iBAATqS,EACFljB,OAAAA,EAAI6Q,EAAKqS,EAAKhM,MAAM,KAAKlE,IAAI+K,GAAS9d,EAAOkjB,GAElDC,IAAAA,EAAcF,EAAK,GACnBG,EAAeJ,EAAmBpS,EAAKuS,GACvCF,OAAgB,IAAhBA,EAAKjkB,aACc,IAAjBokB,GAA4BF,IAC9BtS,EAAIuS,GAAenjB,GAEdojB,SAGY,IAAjBA,IAEoB,iBAAZH,EAAK,GACbrS,EAAIuS,GAAe,GAEnBvS,EAAIuS,GAAe,IAIhBpjB,EAAI6Q,EAAIuS,GAAcF,EAAKrW,MAAM,GAAI5M,EAAOkjB,IAiK9CX,OA9JPA,EAAWtiB,IAAM,SAAU2Q,EAAKqS,GAO1B,GANgB,iBAATA,EACTA,EAAO,CAACA,GACiB,iBAATA,IAChBA,EAAOA,EAAKhM,MAAM,OAGfgM,GAAwB,IAAhBA,EAAKjkB,OACT,QAAE4R,EAGN,IAAA,IAAI9R,EAAI,EAAGA,EAAImkB,EAAKjkB,OAAQF,IAAK,CAChC4T,IAAAA,EAAIoL,EAAOmF,EAAKnkB,IAEhB,KAAa,iBAAN4T,GAAkB7T,EAAQ+R,IAAQ8B,EAAI9B,EAAI5R,SAClD2jB,EAAQI,sBAAyBrQ,KAAKnT,OAAOqR,GAAQ1B,EAAe0B,EAAK8B,KAGnE,OAAA,EAFP9B,EAAMA,EAAI8B,GAMP,OAAA,GAGT6P,EAAWc,aAAe,SAAUzS,EAAKqS,EAAMjjB,GACtCD,OAAAA,EAAI6Q,EAAKqS,EAAMjjB,GAAO,IAG/BuiB,EAAWxiB,IAAM,SAAU6Q,EAAKqS,EAAMjjB,EAAOkjB,GACpCnjB,OAAAA,EAAI6Q,EAAKqS,EAAMjjB,EAAOkjB,IAG/BX,EAAWe,OAAS,SAAU1S,EAAKqS,EAAMjjB,EAAOujB,GAC1Crc,IAAAA,EAAMqb,EAAW1iB,IAAI+Q,EAAKqS,GAC9BM,IAAOA,EACF1kB,EAAQqI,KACXA,EAAM,GACNqb,EAAWxiB,IAAI6Q,EAAKqS,EAAM/b,IAE5BA,EAAIsc,OAAOD,EAAI,EAAGvjB,IAGpBuiB,EAAWkB,MAAQ,SAAS7S,EAAKqS,GAQ3BjjB,IAAAA,EAAOlB,EAPP2jB,IAAAA,EAAQQ,KAGD,MAAPrS,IAKE5Q,EAAQuiB,EAAW1iB,IAAI+Q,EAAKqS,KAA9B,CAIA,GAAiB,iBAAVjjB,EACFuiB,OAAAA,EAAWxiB,IAAI6Q,EAAKqS,EAAM,IAC5B,GAjIFS,SAAU9S,GACV,MAAe,kBAARA,GAAuC,qBAAlB3P,EAAS2P,GAgI/B8S,CAAU1jB,GACZuiB,OAAAA,EAAWxiB,IAAI6Q,EAAKqS,GAAM,GAC5B,GAAqB,iBAAVjjB,EACTuiB,OAAAA,EAAWxiB,IAAI6Q,EAAKqS,EAAM,GAC5B,GAAIpkB,EAAQmB,GACjBA,EAAMhB,OAAS,MACV,CAAA,IAhJF2kB,SAAS/S,GACT,MAAe,iBAARA,GAAsC,oBAAlB3P,EAAS2P,GA+I9B+S,CAAS3jB,GAOXuiB,OAAAA,EAAWxiB,IAAI6Q,EAAKqS,EAAM,MAN5BnkB,IAAAA,KAAKkB,EACJ8iB,EAAmB9iB,EAAOlB,WACrBkB,EAAMlB,MAQrByjB,EAAW1c,KAAO,SAAU+K,EAAKqS,GAC3B/b,IAAAA,EAAMqb,EAAW1iB,IAAI+Q,EAAKqS,GACzBpkB,EAAQqI,KACXA,EAAM,GACNqb,EAAWxiB,IAAI6Q,EAAKqS,EAAM/b,IAG5BA,EAAIrB,KAAKtC,MAAM2D,EAAKtI,MAAMgB,UAAUgN,MAAM9L,KAAKsF,UAAW,KAG5Dmc,EAAWqB,SAAW,SAAUhT,EAAKiT,EAAOC,GAGrC,IAFD9jB,IAAAA,EAEKlB,EAAI,EAAGC,EAAM8kB,EAAM7kB,OAAQF,EAAIC,EAAKD,IACvC,QAA4C,KAA3CkB,EAAQuiB,EAAW1iB,IAAI+Q,EAAKiT,EAAM/kB,KAC9BkB,OAAAA,EAIJ8jB,OAAAA,GAGTvB,EAAW1iB,IAAM,SAAU+Q,EAAKqS,EAAMa,GAIhC,GAHgB,iBAATb,IACTA,EAAO,CAACA,KAELA,GAAwB,IAAhBA,EAAKjkB,OACT4R,OAAAA,EAELA,GAAO,MAAPA,EACKkT,OAAAA,EAEL,GAAgB,iBAATb,EACFV,OAAAA,EAAW1iB,IAAI+Q,EAAKqS,EAAKhM,MAAM,KAAM6M,GAG1CX,IAAAA,EAAcrF,EAAOmF,EAAK,IAC1Bc,EAAUf,EAAmBpS,EAAKuS,GAClCY,YAAY,IAAZA,EACKD,EAGW,IAAhBb,EAAKjkB,OACA+kB,EAGFxB,EAAW1iB,IAAI+Q,EAAIuS,GAAcF,EAAKrW,MAAM,GAAIkX,IAGzDvB,EAAWyB,IAAM,SAAapT,EAAKqS,GAK7BrS,GAJgB,iBAATqS,IACTA,EAAO,CAACA,IAGC,MAAPrS,EACKA,OAAAA,EAGL6R,GAAAA,EAAQQ,GACHrS,OAAAA,EAEN,GAAgB,iBAATqS,EACDV,OAAAA,EAAWyB,IAAIpT,EAAKqS,EAAKhM,MAAM,MAGpCkM,IAAAA,EAAcrF,EAAOmF,EAAK,IAC1B,OAACH,EAAmBlS,EAAKuS,GAIV,IAAhBF,EAAKjkB,OAOCujB,EAAWyB,IAAIpT,EAAIuS,GAAcF,EAAKrW,MAAM,KAN/C/N,EAAQ+R,GACVA,EAAI4S,OAAOL,EAAa,UAEjBvS,EAAIuS,GAMRvS,GAbEA,GAgBJ2R,EAGLf,IAAAA,EAAMY,IAGHZ,OAFPA,EAAI/b,OAAS2c,EACbZ,EAAIyC,mBAAqB7B,EAAQ,CAACW,uBAAuB,IAClDvB;;ACiDM,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,eAAA,EAAA,QAAA,gBAAA,EAAA,QAAA,kBAAA,EAAA,QAAA,gBAAA,EAAA,QAAA,mBAAA,EAAA,QAAA,gBAAA,EAAA,QAAA,OAAA,EAAA,QAAA,QAAA,QAAA,yBAAA,EA3Uf,IAAA,EAAA,QAAA,yBACA,EAAA,EAAA,QAAA,gBA0Ue,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAzUf,IAAI0C,GAAQ,EACDC,EAEX,WACWA,SAAAA,EAAoBxO,GACtBA,KAAAA,MAAQA,EACRyO,KAAAA,WAAazO,EAAM0O,WAAWC,OAAOC,YAOxCC,IAAAA,EAASL,EAAoBvkB,UAwL1BukB,OAtLPK,EAAOC,mBAAqB,SAA4BC,GAClDC,IAAAA,EAAQ,KAERD,GAAwB,IAAxBA,EAAa1lB,OAAc,OAAO,EAElC,IAAC,KAAK2W,MAAM0O,WAAWO,SAASC,qBAC3B,OAAA,EAGLC,IAAAA,EAAc,KAAKnP,MAAMoP,aACzBC,GAAU,EAUVC,QATQP,EAAaxD,KAAK,SAAUgE,GAClC/kB,IAAAA,EAAMwkB,EAAMQ,mBAAmBL,EAAaI,GAE5CtmB,OAAAA,MAAMC,QAAQsB,IAChB6kB,GAAU,EACVF,EAAc3kB,GACP,KACEA,QAAJ,OAGJ6kB,GAAkCF,GAQzCN,EAAOW,mBAAqB,SAA4BL,EAAaI,GAC/DE,IAAAA,EAAS,KAETnT,EAAU6S,EAAYlY,MAAM,GAE5B+V,EAAU,KAAKhN,MAAMgF,SACrB0K,EAAUH,EAAYhiB,KAAKoiB,EAE3BC,EAAkBC,EAAmB,KAAMH,EAASP,GAEpDW,EAAe,KAAK9P,MAAM+P,sBAAsBL,GAChDM,GAAYhD,EAAQjC,OAASiC,EAAQjC,OAASoE,EAAY9lB,QAAU2jB,EAAQjC,MAC5EkF,EAAiBjD,EAAQjC,OAASoE,EAAY9lB,QAAU2jB,EAAQjC,MAEhEwD,IACFpgB,QAAQ+hB,IAAI,4CAEZC,EAAc,KAAM,QAASZ,EAAYhiB,KAAKoiB,EAAG,wBAEjDxhB,QAAQ+hB,IAAI,qBACZ/hB,QAAQiiB,IAAIb,EAAYhiB,MACxBY,QAAQ+hB,IAAI,oBAAsBN,GAClCzhB,QAAQ+hB,IAAI,iBAAmBJ,GAC/B3hB,QAAQ+hB,IAAI,aAAeF,GAC3B7hB,QAAQ+hB,IAAI,WAAa3kB,KAAKC,UAAUwhB,KAGtCqD,IAAAA,EAAa,KAObC,EAAc,KAOdC,EAAqB,KAarBhB,GAAwB,WAAxBA,EAAYhiB,KAAKijB,GAAiB,CAEhC,IAACZ,IAAoBE,EAGhB,OAFPK,EAAc,KAAM,KAAMT,IAEnB,EAIL1C,GAAAA,EAAQlC,MAAQgF,IA1BA,OAAhBQ,IAAsBA,EAAcG,EAAgBhB,EAAQC,EAASpT,EAAQ,KAC1EgU,KAyB8CN,EAI5C1T,OAHP6T,EAAc,KAAM,KAAMT,GAE1BpT,EAAQrJ,QACDqJ,EAILwT,GAAAA,GAAgBF,IAAoBI,EAM/B1T,OALP6T,EAAc,KAAM,KAAMT,GAE1BpT,EAAUA,EAAQgB,OAAO,SAAUqC,GAC1BA,OAAAA,EAAI8P,EAAOhB,cAAgBiB,EAAQD,EAAOhB,cAMjDzB,GAAkB,IAAlBA,EAAQjC,QAAgB+E,GAAgBF,EAGnC,OAFPO,EAAc,KAAM,QAAST,IAEtB,EAILI,GAAAA,GAAgBF,IAAoB5C,EAAQjC,QAAUiC,EAAQlC,KAMzDxO,OALP6T,EAAc,KAAM,OAAQT,GAE5BpT,EAAUA,EAAQgB,OAAO,SAAUqC,GAC1BA,OAAAA,EAAI8P,EAAOhB,cAAgBiB,EAAQD,EAAOhB,cAMjDqB,GAAAA,GAAgB9C,EAAQjC,QApET,OAAfsF,IAAqBA,EAAaI,EAAgBhB,EAAQnT,EAAQA,EAAQjT,OAAS,GAAIqmB,IACpFW,GAsEE,OAFPF,EAAc,KAAM,KAAMT,IAEnB,MAEJ,CAED,IAAC1C,EAAQlC,OAAS8E,IAAoBE,EAGjC,OAFPK,EAAc,KAAM,KAAMT,IAEnB,EAIL,IAAC1C,EAAQlC,OAASkC,EAAQjC,OAAS6E,GAAmBE,EAAc,CAGlEY,IAAAA,EAASpU,EAAQiP,KAAK,SAAU5L,GAC3BA,OAAAA,EAAI8P,EAAOhB,cAAgBiB,EAAQD,EAAOhB,cAE/CtlB,EAAImT,EAAQ2F,QAAQyO,GAGpBC,OAFJrU,EAAQnT,GAAKumB,EA5EM,WACjBa,GAAuB,OAAvBA,EAA6B,CAC3BK,IAAAA,EAAYzB,EAAY5D,KAAK,SAAU5L,GAClCA,OAAAA,EAAI8P,EAAOhB,cAAgBiB,EAAQD,EAAOhB,cAEnD8B,EAAqBM,EAAkBpB,EAAQmB,EAAWlB,GAGrDmB,OAAAA,EAsEDF,IACFR,EAAc,KAAM,cAAeT,GAE5BoB,EAAe,KAAMxU,KAE5B6T,EAAc,KAAM,iBAAkBT,GAE/BpT,GAKP,IAAC0Q,EAAQlC,OAASmF,IAAmBL,GAAmBE,EAUnDiB,OATPZ,EAAc,KAAM,KAAMT,GAE1BpT,EAAQpM,KAAKwf,GAGAoB,EAAe,KAAMxU,GAW/B,OAFP6T,EAAc,KAAM,WAAYT,IAEzB,GAGFlB,EAlMT,GAqMA,SAAS2B,EAAca,EAAqBtoB,GACtCuoB,IAAAA,EAAkBxgB,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,GAAmBA,UAAU,GAAK,GACtFygB,EAAQzgB,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,GAAmBA,UAAU,GAAK,YAE3E8d,GAILpgB,QAAQiiB,IAAI,CACVhlB,KAAM,sBACN8lB,MAAOA,EACPlR,MAAOgR,EAAoBhR,MAAM1U,WACjC5C,IAAKA,EACLuoB,gBAAiBA,IAQd,SAASH,EAAeE,EAAqB7B,GAC9CgC,IAAAA,EAAcC,EAAgBJ,GAE9BzG,EAAO4E,EAAY/R,IAAI,SAAUuC,GAC5B,MAAA,CACLA,IAAKqR,EAAoBhR,MAAM0O,WAAWC,OAAO0C,gBAAgB1R,MAGjE8K,EAAiB7gB,OAAOe,KAAKqmB,EAAoBhR,MAAMgF,SAASuD,UAW7D+I,OATU,EAAqB/G,EAAAA,sBAAAA,EAAM,CAC1ChC,SAAUyI,EAAoBhR,MAAMwJ,gBACpC7C,KAAMwK,GACL1G,GACyBrN,IAAI,SAAUsN,GACjCA,OAAAA,EAAI/K,MACVvC,IAAI,SAAUuC,GACRqR,OAAAA,EAAoBhR,MAAM0O,WAAWC,OAAO4C,gBAAgB5R,KAUhE,SAAS8Q,EAAgBO,EAAqBQ,EAAaC,GAC5DN,IAAAA,EAAcC,EAAgBJ,GAE9BvG,EAAiB7gB,OAAOe,KAAKqmB,EAAoBhR,MAAMgF,SAASuD,UAChEmJ,EAAcV,EAAoBhR,MAAM0O,WAAWC,OAAO0C,gBAAgBG,GAE1EjH,EAAO,CAACmH,EADOV,EAAoBhR,MAAM0O,WAAWC,OAAO0C,gBAAgBI,IACxCrU,IAAI,SAAUuC,GAC5C,MAAA,CACL3D,GAAI2D,EAAIsD,IACRtD,IAAKA,KAQFgS,OAJU,EAAqBpH,EAAAA,sBAAAA,EAAM,CAC1ChC,SAAUyI,EAAoBhR,MAAMwJ,gBACpC7C,KAAMwK,GACL1G,GACe,GAAGzO,KAAO0V,EAAYzO,IAMnC,SAAS4N,EAAkBG,EAAqBY,EAAeC,GAChEV,IAEAW,EAFcV,EAAgBJ,GAEL5T,IAAI,SAAU2U,GAClCnoB,OAAAA,OAAOe,KAAKonB,GAASlgB,QAE1Bwd,GAAU,EAUPA,OATPyC,EAAWvG,KAAK,SAAUrD,GAIpB8J,OAHapF,EAAW1iB,QAAAA,IAAI0nB,EAAe1J,KAC/B0E,EAAW1iB,QAAAA,IAAI2nB,EAAc3J,KAG3CmH,GAAU,GACH,KAGJA,EAOF,SAAS+B,EAAgBJ,GAC1B,IAACA,EAAoBiB,aAAc,CACjCjF,IACAmE,EADUH,EAAoBhR,MAAMgF,SACd2B,KAErBwK,IACHA,EAAc,CAAC,CACblO,IAAK,SAIT+N,EAAoBiB,aAAed,EAG9BH,OAAAA,EAAoBiB,aAMtB,SAASpC,EAAmBmB,EAAqBtB,EAASwC,GAC3DtD,IAAAA,EAAcoC,EAAoBhR,MAAM0O,WAAWC,OAAOC,YAIvD,QAHKsD,EAAW3G,KAAK,SAAU5L,GAC7BA,OAAAA,EAAIiP,KAAiBc,EAAQd,KAIjC,SAASuD,IACdhkB,QAAQ+hB,IAAI,yCACZ3B,GAAQ,EAEH,SAASze,EAAOkQ,GAEdlO,OADG,IAAI0c,EAAoBxO,GAGrB,QAAA,oBAAA,EAAA,IAAA,EAAA,CACblQ,OAAQA,EACRqiB,gBAAiBA,GAFJ,QAAA,QAAA;;ACnVf,SAAA,EAAA,EAAA,GACA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,OAAA,IAAA,CACA,IAAA,EAAA,EAAA,GACA,EAAA,WAAA,EAAA,aAAA,EACA,EAAA,cAAA,EACA,UAAA,IAAA,EAAA,UAAA,GACA,OAAA,eAAA,EAAA,EAAA,IAAA,IAIA,SAAA,EAAA,EAAA,EAAA,GAGA,OAFA,GAAA,EAAA,EAAA,UAAA,GACA,GAAA,EAAA,EAAA,GACA,EAGA,OAAA,QAAA;;AChBA,aAEA,IAAItF,EAAQjjB,OAAOK,UAAUqB,SAE7BwD,OAAOC,QAAU,SAAqB1E,GACjCkJ,IAAAA,EAAMsZ,EAAM1hB,KAAKd,GACjB+nB,EAAiB,uBAAR7e,EASN6e,OARFA,IACJA,EAAiB,mBAAR7e,GACE,OAAVlJ,GACiB,iBAAVA,GACiB,iBAAjBA,EAAMhB,QACbgB,EAAMhB,QAAU,GACa,sBAA7BwjB,EAAM1hB,KAAKd,EAAMgoB,SAEZD;;ACfR,aAEA,IAAIE,EACJ,IAAK1oB,OAAOe,KAAM,CAEbL,IAAAA,EAAMV,OAAOK,UAAUsP,eACvBsT,EAAQjjB,OAAOK,UAAUqB,SACzB8mB,EAASG,QAAQ,iBACjBC,EAAe5oB,OAAOK,UAAUwoB,qBAChCC,GAAkBF,EAAarnB,KAAK,CAAEG,SAAU,MAAQ,YACxDqnB,EAAkBH,EAAarnB,KAAK,aAAgB,aACpDynB,EAAY,CACf,WACA,iBACA,UACA,iBACA,gBACA,uBACA,eAEGC,EAA6B,SAAUC,GACtCC,IAAAA,EAAOD,EAAE5Z,YACN6Z,OAAAA,GAAQA,EAAK9oB,YAAc6oB,GAE/BE,EAAe,CAClBC,mBAAmB,EACnBC,UAAU,EACVC,WAAW,EACXC,QAAQ,EACRC,eAAe,EACfC,SAAS,EACTC,cAAc,EACdC,aAAa,EACbC,wBAAwB,EACxBC,uBAAuB,EACvBC,cAAc,EACdC,aAAa,EACbC,cAAc,EACdC,cAAc,EACdC,SAAS,EACTC,aAAa,EACbC,YAAY,EACZC,UAAU,EACVC,UAAU,EACVC,OAAO,EACPC,kBAAkB,EAClBC,oBAAoB,EACpBC,SAAS,GAENC,EAA4B,WAE3B,GAAkB,oBAAXC,OAAiC,OAAA,EACvC,IAAA,IAAIxP,KAAKwP,OACT,IACC,IAACzB,EAAa,IAAM/N,IAAM3a,EAAIa,KAAKspB,OAAQxP,IAAoB,OAAdwP,OAAOxP,IAAoC,iBAAdwP,OAAOxP,GACpF,IACH4N,EAA2B4B,OAAOxP,IACjC,MAAOlR,GACD,OAAA,GAGR,MAAOA,GACD,OAAA,EAGF,OAAA,EAhBwB,GAkB5B2gB,EAAuC,SAAU5B,GAEhD,GAAkB,oBAAX2B,SAA2BD,EAC9B3B,OAAAA,EAA2BC,GAE/B,IACID,OAAAA,EAA2BC,GACjC,MAAO/e,GACD,OAAA,IAITue,EAAW,SAAc/Z,GACpByV,IAAAA,EAAsB,OAAXzV,GAAqC,iBAAXA,EACrCoc,EAAoC,sBAAvB9H,EAAM1hB,KAAKoN,GACxBqc,EAAcxC,EAAO7Z,GACrBsc,EAAW7G,GAAmC,oBAAvBnB,EAAM1hB,KAAKoN,GAClCuc,EAAU,GAEV,IAAC9G,IAAa2G,IAAeC,EAC1B,MAAA,IAAI/kB,UAAU,sCAGjBklB,IAAAA,EAAYpC,GAAmBgC,EAC/BE,GAAAA,GAAYtc,EAAOlP,OAAS,IAAMiB,EAAIa,KAAKoN,EAAQ,GACjD,IAAA,IAAIpP,EAAI,EAAGA,EAAIoP,EAAOlP,SAAUF,EACpC2rB,EAAQ5kB,KAAKG,OAAOlH,IAIlByrB,GAAAA,GAAerc,EAAOlP,OAAS,EAC7B,IAAA,IAAI0T,EAAI,EAAGA,EAAIxE,EAAOlP,SAAU0T,EACpC+X,EAAQ5kB,KAAKG,OAAO0M,SAGhB,IAAA,IAAI3R,KAAQmN,EACVwc,GAAsB,cAAT3pB,IAAyBd,EAAIa,KAAKoN,EAAQnN,IAC5D0pB,EAAQ5kB,KAAKG,OAAOjF,IAKnBsnB,GAAAA,EAGE,IAFDsC,IAAAA,EAAkBN,EAAqCnc,GAElD0M,EAAI,EAAGA,EAAI2N,EAAUvpB,SAAU4b,EACjC+P,GAAoC,gBAAjBpC,EAAU3N,KAAyB3a,EAAIa,KAAKoN,EAAQqa,EAAU3N,KACtF6P,EAAQ5kB,KAAK0iB,EAAU3N,IAInB6P,OAAAA,GAGThmB,OAAOC,QAAUujB;;ACzHjB,aAEA,IAAIrb,EAAQhO,MAAMgB,UAAUgN,MACxBmb,EAASG,QAAQ,iBAEjB0C,EAAWrrB,OAAOe,KAClB2nB,EAAW2C,EAAW,SAAcnC,GAAYmC,OAAAA,EAASnC,IAAQP,QAAQ,oBAEzE2C,EAAetrB,OAAOe,KAE1B2nB,EAAS6C,KAAO,WACXvrB,OAAOe,KACoB,WAEzBoD,IAAAA,EAAOnE,OAAOe,KAAK8F,WAChB1C,OAAAA,GAAQA,EAAK1E,SAAWoH,UAAUpH,OAHZ,CAI5B,EAAG,KAEJO,OAAOe,KAAO,SAAc4N,GACvB6Z,OAAAA,EAAO7Z,GACH2c,EAAaje,EAAM9L,KAAKoN,IAEzB2c,EAAa3c,KAItB3O,OAAOe,KAAO2nB,EAER1oB,OAAAA,OAAOe,MAAQ2nB,GAGvBxjB,OAAOC,QAAUujB;;AC/BjB,aAEA,IAAI8C,EAAmC,mBAAX5rB,QAAuD,iBAAvBA,OAAO6rB,YAC/DxI,EAAQjjB,OAAOK,UAAUqB,SAEzBgqB,EAAsB,SAAqBjrB,GAC1C+qB,QAAAA,GAAkB/qB,GAA0B,iBAAVA,GAAsBb,OAAO6rB,eAAehrB,IAGrD,uBAAtBwiB,EAAM1hB,KAAKd,IAGfkrB,EAAoB,SAAqBlrB,GACxCirB,QAAAA,EAAoBjrB,IAGP,OAAVA,GACW,iBAAVA,GACiB,iBAAjBA,EAAMhB,QACbgB,EAAMhB,QAAU,GACM,mBAAtBwjB,EAAM1hB,KAAKd,IACkB,sBAA7BwiB,EAAM1hB,KAAKd,EAAMgoB,SAGfmD,EAA6B,WACzBF,OAAAA,EAAoB7kB,WADK,GAIjC6kB,EAAoBC,kBAAoBA,EAExCzmB,OAAOC,QAAUymB,EAA4BF,EAAsBC;;AC9BnE,aAIA,IAAI9mB,EAAc,SAAUpE,GACpBA,OAAAA,GAAUA,GAGlByE,OAAOC,QAAU,SAAYsV,EAAGC,GAC3BD,OAAM,IAANA,GAAiB,IAANC,EACP,EAAID,GAAM,EAAIC,EACXD,IAAMC,MAEN7V,EAAY4V,KAAM5V,EAAY6V;;ACb1C,aAIA,IAAA,EAAA,kDACA,EAAA,MAAA,UAAA,MACA,EAAA,OAAA,UAAA,SACA,EAAA,oBAEA,OAAA,QAAA,SAAA,GACA,IAAA,EAAA,KACA,GAAA,mBAAA,GAAA,EAAA,KAAA,KAAA,EACA,MAAA,IAAA,UAAA,EAAA,GAyBA,IAvBA,IAEA,EAFA,EAAA,EAAA,KAAA,UAAA,GAqBA,EAAA,KAAA,IAAA,EAAA,EAAA,OAAA,EAAA,QACA,EAAA,GACA,EAAA,EAAA,EAAA,EAAA,IACA,EAAA,KAAA,IAAA,GAKA,GAFA,EAAA,SAAA,SAAA,oBAAA,EAAA,KAAA,KAAA,4CAAA,CAxBA,WACA,GAAA,gBAAA,EAAA,CACA,IAAA,EAAA,EAAA,MACA,KACA,EAAA,OAAA,EAAA,KAAA,aAEA,OAAA,OAAA,KAAA,EACA,EAEA,KAEA,OAAA,EAAA,MACA,EACA,EAAA,OAAA,EAAA,KAAA,eAaA,EAAA,UAAA,CACA,IAAA,EAAA,aACA,EAAA,UAAA,EAAA,UACA,EAAA,UAAA,IAAA,EACA,EAAA,UAAA,KAGA,OAAA;;AClDA,aAEA,IAAA,EAAA,QAAA,oBAEA,OAAA,QAAA,SAAA,UAAA,MAAA;;ACJA,aAEA,IAAItT,EAAOuhB,QAAQ,iBAEnBzjB,OAAOC,QAAUiC,EAAK7F,KAAK6C,SAAS7C,KAAMvB,OAAOK,UAAUsP;;ACJ3D,aAEA,IAAIjP,EAAMioB,QAAQ,OACdkD,EAAYtJ,OAAOliB,UAAU6X,KAC7B4T,EAAO9rB,OAAOC,yBAEd8rB,EAAmB,SAAsBtrB,GACxC,IACCurB,IAAAA,EAAYvrB,EAAMurB,UAIf,OAHPvrB,EAAMurB,UAAY,EAElBH,EAAUtqB,KAAKd,IACR,EACN,MAAO0J,GACD,OAAA,EACE,QACT1J,EAAMurB,UAAYA,IAGhB/I,EAAQjjB,OAAOK,UAAUqB,SACzBuqB,EAAa,kBACbT,EAAmC,mBAAX5rB,QAAuD,iBAAvBA,OAAO6rB,YAEnEvmB,OAAOC,QAAU,SAAiB1E,GAC7B,IAACA,GAA0B,iBAAVA,EACb,OAAA,EAEJ,IAAC+qB,EACGvI,OAAAA,EAAM1hB,KAAKd,KAAWwrB,EAG1BC,IAAAA,EAAaJ,EAAKrrB,EAAO,aAEzB,SAD2ByrB,IAAcxrB,EAAIwrB,EAAY,WAKtDH,EAAiBtrB;;ACrCzB,aAEA,IAAIM,EAAO4nB,QAAQ,eACfwD,EAA+B,mBAAXvsB,QAAkD,iBAAlBA,OAAO,OAE3DqjB,EAAQjjB,OAAOK,UAAUqB,SACzBkD,EAASvF,MAAMgB,UAAUuE,OACzBwnB,EAAqBpsB,OAAOgB,eAE5B+pB,EAAa,SAAUsB,GACnB,MAAc,mBAAPA,GAAwC,sBAAnBpJ,EAAM1hB,KAAK8qB,IAG3CC,EAAkC,WACjCjb,IAAAA,EAAM,GACN,IAGE,IAAA,IAAIkb,KAFTH,EAAmB/a,EAAK,IAAK,CAAElJ,YAAY,EAAO1H,MAAO4Q,IAE3CA,EACN,OAAA,EAEDA,OAAAA,EAAIK,IAAML,EAChB,MAAOlH,GACD,OAAA,IAGLqiB,EAAsBJ,GAAsBE,IAE5CtrB,EAAiB,SAAU2N,EAAQnN,EAAMf,EAAOgsB,MAC/CjrB,KAAQmN,IAAYoc,EAAW0B,IAAeA,OAG9CD,EACHJ,EAAmBzd,EAAQnN,EAAM,CAChCkrB,cAAc,EACdvkB,YAAY,EACZ1H,MAAOA,EACPksB,UAAU,IAGXhe,EAAOnN,GAAQf,IAIbmsB,EAAmB,SAAUje,EAAQ6E,GACpCqZ,IAAAA,EAAahmB,UAAUpH,OAAS,EAAIoH,UAAU,GAAK,GACnDimB,EAAQ/rB,EAAKyS,GACb2Y,IACHW,EAAQloB,EAAOrD,KAAKurB,EAAO9sB,OAAO0E,sBAAsB8O,KAEpD,IAAA,IAAIjU,EAAI,EAAGA,EAAIutB,EAAMrtB,OAAQF,GAAK,EACtCyB,EAAe2N,EAAQme,EAAMvtB,GAAIiU,EAAIsZ,EAAMvtB,IAAKstB,EAAWC,EAAMvtB,MAInEqtB,EAAiBJ,sBAAwBA,EAEzCtnB,OAAOC,QAAUynB;;ACzDjB,aAEA,IAAIG,EAAW/sB,OACXgtB,EAAU/mB,UAEdf,OAAOC,QAAU,WACZ,GAAQ,MAAR,MAAgB,OAAS4nB,EAAS,MAC/B,MAAA,IAAIC,EAAQ,sDAEf7gB,IAAAA,EAAS,GAmBNA,OAlBH,KAAKQ,SACRR,GAAU,KAEP,KAAK8gB,aACR9gB,GAAU,KAEP,KAAK+gB,YACR/gB,GAAU,KAEP,KAAKghB,SACRhhB,GAAU,KAEP,KAAKihB,UACRjhB,GAAU,KAEP,KAAKkhB,SACRlhB,GAAU,KAEJA;;AC5BR,aAEA,IAAImhB,EAAiB3E,QAAQ,oBAEzB6D,EAAsB7D,QAAQ,qBAAqB6D,oBACnDV,EAAO9rB,OAAOC,yBACd+sB,EAAU/mB,UAEdf,OAAOC,QAAU,WACZ,IAACqnB,EACE,MAAA,IAAIQ,EAAQ,6FAEf,GAAiB,QAAjB,OAAOO,MAAiB,CACvBrB,IAAAA,EAAaJ,EAAKvJ,OAAOliB,UAAW,SACpC6rB,GAAAA,GAAwC,mBAAnBA,EAAW5rB,KAA8C,iBAAhB,IAAK6sB,OAC/DjB,OAAAA,EAAW5rB,IAGbgtB,OAAAA;;AClBR,aAEA,IAAId,EAAsB7D,QAAQ,qBAAqB6D,oBACnDgB,EAAc7E,QAAQ,cACtBmD,EAAO9rB,OAAOC,yBACde,EAAiBhB,OAAOgB,eACxBgsB,EAAU/mB,UACVwnB,EAAWztB,OAAOsI,eAClBolB,EAAQ,IAEZxoB,OAAOC,QAAU,WACZ,IAACqnB,IAAwBiB,EACtB,MAAA,IAAIT,EAAQ,6FAEfW,IAAAA,EAAWH,IACXpe,EAAQqe,EAASC,GACjBxB,EAAaJ,EAAK1c,EAAO,SAQtBue,OAPFzB,GAAcA,EAAW5rB,MAAQqtB,GACrC3sB,EAAeoO,EAAO,QAAS,CAC9Bsd,cAAc,EACdvkB,YAAY,EACZ7H,IAAKqtB,IAGAA;;;ACxBR,aAEA,IAAI7K,EAAS6F,QAAQ,qBAEjB2E,EAAiB3E,QAAQ,oBACzB6E,EAAc7E,QAAQ,cACtB4C,EAAO5C,QAAQ,UAEfiF,EAAaxpB,SAAS7C,KAAK6F,KAAKkmB,GAEpCxK,EAAO8K,EAAY,CAClBJ,YAAaA,EACbF,eAAgBA,EAChB/B,KAAMA,IAGPrmB,OAAOC,QAAUyoB;;AChBjB,aAEA,IAAIC,EAASpe,KAAKpP,UAAUwtB,OACxBC,EAAgB,SAAuBrtB,GACtC,IAEI,OADPotB,EAAOtsB,KAAKd,IACL,EACN,MAAO0J,GACD,OAAA,IAIL8Y,EAAQjjB,OAAOK,UAAUqB,SACzBqsB,EAAY,gBACZvC,EAAmC,mBAAX5rB,QAAuD,iBAAvBA,OAAO6rB,YAEnEvmB,OAAOC,QAAU,SAAsB1E,GAClC,MAAiB,iBAAVA,GAAgC,OAAVA,IAC1B+qB,EAAiBsC,EAAcrtB,GAASwiB,EAAM1hB,KAAKd,KAAWstB;;AClBtE,IAAA,EAAA,QAAA,eACA,EAAA,QAAA,gBACA,EAAA,QAAA,aACA,EAAA,QAAA,YACA,EAAA,QAAA,0BACA,EAAA,QAAA,kBAEA,EAAA,KAAA,UAAA,QAEA,SAAA,EAAA,EAAA,EAAA,GACA,IAAA,EAAA,GAAA,GAGA,QAAA,EAAA,QAAA,EAAA,EAAA,GAAA,IAAA,MAKA,IAAA,GAAA,iBAAA,GAAA,iBAAA,EACA,EAAA,OAAA,EAAA,EAAA,GAAA,GAAA,EAYA,EAAA,EAAA,EAAA,IAGA,SAAA,EAAA,GACA,OAAA,MAAA,EAGA,SAAA,EAAA,GACA,SAAA,GAAA,iBAAA,GAAA,iBAAA,EAAA,UAGA,mBAAA,EAAA,MAAA,mBAAA,EAAA,SAGA,EAAA,OAAA,GAAA,iBAAA,EAAA,KAMA,SAAA,EAAA,EAAA,EAAA,GAEA,IAAA,EAAA,EACA,UAAA,UAAA,EAAA,OAAA,EACA,GAAA,EAAA,IAAA,EAAA,GAAA,OAAA,EAGA,GAAA,EAAA,YAAA,EAAA,UAAA,OAAA,EAEA,GAAA,EAAA,KAAA,EAAA,GAAA,OAAA,EAEA,IAAA,EAAA,EAAA,GACA,EAAA,EAAA,GACA,GAAA,IAAA,EAAA,OAAA,EACA,GAAA,GAAA,EACA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAA,KAAA,EAAA,GAGA,GAAA,EAAA,IAAA,EAAA,GACA,OAAA,EAAA,KAAA,KAAA,EAAA,KAAA,GAGA,IAAA,EAAA,EAAA,GACA,EAAA,EAAA,GACA,GAAA,IAAA,EAAA,OAAA,EACA,GAAA,GAAA,EAAA,CACA,GAAA,EAAA,SAAA,EAAA,OAAA,OAAA,EACA,IAAA,EAAA,EAAA,EAAA,EAAA,OAAA,IACA,GAAA,EAAA,KAAA,EAAA,GAAA,OAAA,EAEA,OAAA,EAGA,UAAA,UAAA,EAAA,OAAA,EAEA,IACA,IAAA,EAAA,EAAA,GACA,EAAA,EAAA,GACA,MAAA,GACA,OAAA,EAGA,GAAA,EAAA,SAAA,EAAA,OAAA,OAAA,EAMA,IAHA,EAAA,OACA,EAAA,OAEA,EAAA,EAAA,OAAA,EAAA,GAAA,EAAA,IACA,GAAA,EAAA,IAAA,EAAA,GAAA,OAAA,EAGA,IAAA,EAAA,EAAA,OAAA,EAAA,GAAA,EAAA,IAEA,IAAA,EAAA,EADA,EAAA,EAAA,IACA,EAAA,GAAA,GAAA,OAAA,EAGA,OAAA,EAGA,OAAA,QAAA;;CC/GA,SAAA,GAeA,IAAA,EAAA,SAAA,EAAA,GACA,OAAA,MAAA,QAAA,EACA,EAAA,OAAA,EAZA,SAAA,EAAA,GAGA,IAFA,IAHA,EAGA,EAAA,GACA,EAAA,EAAA,OACA,KAEA,GAAA,GAPA,EAMA,EANA,KAAA,MAAA,KAAA,SAAA,KASA,OAAA,EAKA,CAAA,EAAA,IAMA,SAAA,EAAA,GACA,EAAA,iBAAA,GAAA,EAAA,OAAA,EAAA,EAAA,uCACA,IAAA,EAAA,EAAA,KAAA,EAAA,GAIA,OAHA,EAAA,KAAA,WAAA,OAAA,GACA,EAAA,OAAA,EACA,EAAA,IAAA,EACA,EARA,EAAA,IAAA,EAWA,OAAA,QAAA,IAhCA;;ACAA,aAEA,QAAA,WAAA,EACA,QAAA,YAAA,EACA,QAAA,cAAA,EAOA,IALA,IAAA,EAAA,GACA,EAAA,GACA,EAAA,oBAAA,WAAA,WAAA,MAEA,EAAA,mEACA,EAAA,EAAA,EAAA,EAAA,OAAA,EAAA,IAAA,EACA,EAAA,GAAA,EAAA,GACA,EAAA,EAAA,WAAA,IAAA,EAQA,SAAA,EAAA,GACA,IAAA,EAAA,EAAA,OAEA,GAAA,EAAA,EAAA,EACA,MAAA,IAAA,MAAA,kDAKA,IAAA,EAAA,EAAA,QAAA,KAOA,OANA,IAAA,IAAA,EAAA,GAMA,CAAA,EAJA,IAAA,EACA,EACA,EAAA,EAAA,GAMA,SAAA,EAAA,GACA,IAAA,EAAA,EAAA,GACA,EAAA,EAAA,GACA,EAAA,EAAA,GACA,OAAA,GAAA,EAAA,GAAA,EAAA,EAGA,SAAA,EAAA,EAAA,EAAA,GACA,OAAA,GAAA,EAAA,GAAA,EAAA,EAGA,SAAA,EAAA,GACA,IAAA,EAcA,EAbA,EAAA,EAAA,GACA,EAAA,EAAA,GACA,EAAA,EAAA,GAEA,EAAA,IAAA,EAAA,EAAA,EAAA,EAAA,IAEA,EAAA,EAGA,EAAA,EAAA,EACA,EAAA,EACA,EAGA,IAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EACA,EACA,EAAA,EAAA,WAAA,KAAA,GACA,EAAA,EAAA,WAAA,EAAA,KAAA,GACA,EAAA,EAAA,WAAA,EAAA,KAAA,EACA,EAAA,EAAA,WAAA,EAAA,IACA,EAAA,KAAA,GAAA,GAAA,IACA,EAAA,KAAA,GAAA,EAAA,IACA,EAAA,KAAA,IAAA,EAmBA,OAhBA,IAAA,IACA,EACA,EAAA,EAAA,WAAA,KAAA,EACA,EAAA,EAAA,WAAA,EAAA,KAAA,EACA,EAAA,KAAA,IAAA,GAGA,IAAA,IACA,EACA,EAAA,EAAA,WAAA,KAAA,GACA,EAAA,EAAA,WAAA,EAAA,KAAA,EACA,EAAA,EAAA,WAAA,EAAA,KAAA,EACA,EAAA,KAAA,GAAA,EAAA,IACA,EAAA,KAAA,IAAA,GAGA,EAGA,SAAA,EAAA,GACA,OAAA,EAAA,GAAA,GAAA,IACA,EAAA,GAAA,GAAA,IACA,EAAA,GAAA,EAAA,IACA,EAAA,GAAA,GAGA,SAAA,EAAA,EAAA,EAAA,GAGA,IAFA,IAAA,EACA,EAAA,GACA,EAAA,EAAA,EAAA,EAAA,GAAA,EACA,GACA,EAAA,IAAA,GAAA,WACA,EAAA,EAAA,IAAA,EAAA,QACA,IAAA,EAAA,EAAA,IACA,EAAA,KAAA,EAAA,IAEA,OAAA,EAAA,KAAA,IAGA,SAAA,EAAA,GAQA,IAPA,IAAA,EACA,EAAA,EAAA,OACA,EAAA,EAAA,EACA,EAAA,GAIA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAHA,MAIA,EAAA,KAAA,EACA,EAAA,EAAA,EALA,MAKA,EAAA,EAAA,EALA,QA2BA,OAjBA,IAAA,GACA,EAAA,EAAA,EAAA,GACA,EAAA,KACA,EAAA,GAAA,GACA,EAAA,GAAA,EAAA,IACA,OAEA,IAAA,IACA,GAAA,EAAA,EAAA,IAAA,GAAA,EAAA,EAAA,GACA,EAAA,KACA,EAAA,GAAA,IACA,EAAA,GAAA,EAAA,IACA,EAAA,GAAA,EAAA,IACA,MAIA,EAAA,KAAA,IApIA,EAAA,IAAA,WAAA,IAAA,GACA,EAAA,IAAA,WAAA,IAAA;;ACnBA,QAAA,KAAA,SAAA,EAAA,EAAA,EAAA,EAAA,GACA,IAAA,EAAA,EACA,EAAA,EAAA,EAAA,EAAA,EACA,GAAA,GAAA,GAAA,EACA,EAAA,GAAA,EACA,GAAA,EACA,EAAA,EAAA,EAAA,EAAA,EACA,EAAA,GAAA,EAAA,EACA,EAAA,EAAA,EAAA,GAOA,IALA,GAAA,EAEA,EAAA,GAAA,IAAA,GAAA,EACA,KAAA,EACA,GAAA,EACA,EAAA,EAAA,EAAA,IAAA,EAAA,EAAA,EAAA,GAAA,GAAA,EAAA,GAAA,GAKA,IAHA,EAAA,GAAA,IAAA,GAAA,EACA,KAAA,EACA,GAAA,EACA,EAAA,EAAA,EAAA,IAAA,EAAA,EAAA,EAAA,GAAA,GAAA,EAAA,GAAA,GAEA,GAAA,IAAA,EACA,EAAA,EAAA,MACA,CAAA,GAAA,IAAA,EACA,OAAA,EAAA,IAAA,EAAA,GAAA,GAAA,EAAA,GAEA,GAAA,KAAA,IAAA,EAAA,GACA,GAAA,EAEA,OAAA,GAAA,EAAA,GAAA,EAAA,KAAA,IAAA,EAAA,EAAA,IAGA,QAAA,MAAA,SAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GACA,IAAA,EAAA,EAAA,EACA,EAAA,EAAA,EAAA,EAAA,EACA,GAAA,GAAA,GAAA,EACA,EAAA,GAAA,EACA,EAAA,KAAA,EAAA,KAAA,IAAA,GAAA,IAAA,KAAA,IAAA,GAAA,IAAA,EACA,EAAA,EAAA,EAAA,EAAA,EACA,EAAA,EAAA,GAAA,EACA,EAAA,EAAA,GAAA,IAAA,GAAA,EAAA,EAAA,EAAA,EAAA,EAmCA,IAjCA,EAAA,KAAA,IAAA,GAEA,MAAA,IAAA,IAAA,EAAA,GACA,EAAA,MAAA,GAAA,EAAA,EACA,EAAA,IAEA,EAAA,KAAA,MAAA,KAAA,IAAA,GAAA,KAAA,KACA,GAAA,EAAA,KAAA,IAAA,GAAA,IAAA,IACA,IACA,GAAA,IAGA,GADA,EAAA,GAAA,EACA,EAAA,EAEA,EAAA,KAAA,IAAA,EAAA,EAAA,IAEA,GAAA,IACA,IACA,GAAA,GAGA,EAAA,GAAA,GACA,EAAA,EACA,EAAA,GACA,EAAA,GAAA,GACA,GAAA,EAAA,EAAA,GAAA,KAAA,IAAA,EAAA,GACA,GAAA,IAEA,EAAA,EAAA,KAAA,IAAA,EAAA,EAAA,GAAA,KAAA,IAAA,EAAA,GACA,EAAA,IAIA,GAAA,EAAA,EAAA,EAAA,GAAA,IAAA,EAAA,GAAA,EAAA,GAAA,IAAA,GAAA,GAIA,IAFA,EAAA,GAAA,EAAA,EACA,GAAA,EACA,EAAA,EAAA,EAAA,EAAA,GAAA,IAAA,EAAA,GAAA,EAAA,GAAA,IAAA,GAAA,GAEA,EAAA,EAAA,EAAA,IAAA,IAAA;;AClFA,IAAA,EAAA,GAAA,SAEA,OAAA,QAAA,MAAA,SAAA,SAAA,GACA,MAAA,kBAAA,EAAA,KAAA;;;;AC0vDA,IAAA,EAAA,UAAA,GAnvDA,EAAA,QAAA,aACA,EAAA,QAAA,WACA,EAAA,QAAA,WAuCA,SAAA,IACA,IACA,IAAA,EAAA,IAAA,WAAA,GAEA,OADA,EAAA,UAAA,CAAA,UAAA,WAAA,UAAA,IAAA,WAAA,OAAA,KACA,KAAA,EAAA,OACA,mBAAA,EAAA,UACA,IAAA,EAAA,SAAA,EAAA,GAAA,WACA,MAAA,GACA,OAAA,GAIA,SAAA,IACA,OAAA,EAAA,oBACA,WACA,WAGA,SAAA,EAAA,EAAA,GACA,GAAA,IAAA,EACA,MAAA,IAAA,WAAA,8BAcA,OAZA,EAAA,qBAEA,EAAA,IAAA,WAAA,IACA,UAAA,EAAA,WAGA,OAAA,IACA,EAAA,IAAA,EAAA,IAEA,EAAA,OAAA,GAGA,EAaA,SAAA,EAAA,EAAA,EAAA,GACA,KAAA,EAAA,qBAAA,gBAAA,GACA,OAAA,IAAA,EAAA,EAAA,EAAA,GAIA,GAAA,iBAAA,EAAA,CACA,GAAA,iBAAA,EACA,MAAA,IAAA,MACA,qEAGA,OAAA,EAAA,KAAA,GAEA,OAAA,EAAA,KAAA,EAAA,EAAA,GAWA,SAAA,EAAA,EAAA,EAAA,EAAA,GACA,GAAA,iBAAA,EACA,MAAA,IAAA,UAAA,yCAGA,MAAA,oBAAA,aAAA,aAAA,YACA,EAAA,EAAA,EAAA,EAAA,GAGA,iBAAA,EACA,EAAA,EAAA,EAAA,GAGA,EAAA,EAAA,GA4BA,SAAA,EAAA,GACA,GAAA,iBAAA,EACA,MAAA,IAAA,UAAA,oCACA,GAAA,EAAA,EACA,MAAA,IAAA,WAAA,wCAIA,SAAA,EAAA,EAAA,EAAA,EAAA,GAEA,OADA,EAAA,GACA,GAAA,EACA,EAAA,EAAA,QAEA,IAAA,EAIA,iBAAA,EACA,EAAA,EAAA,GAAA,KAAA,EAAA,GACA,EAAA,EAAA,GAAA,KAAA,GAEA,EAAA,EAAA,GAWA,SAAA,EAAA,EAAA,GAGA,GAFA,EAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,KACA,EAAA,oBACA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,EACA,EAAA,GAAA,EAGA,OAAA,EAgBA,SAAA,EAAA,EAAA,EAAA,GAKA,GAJA,iBAAA,GAAA,KAAA,IACA,EAAA,SAGA,EAAA,WAAA,GACA,MAAA,IAAA,UAAA,8CAGA,IAAA,EAAA,EAAA,EAAA,EAAA,GAGA,GAFA,EAAA,EAAA,EAAA,IAEA,MAAA,EAAA,GASA,OAPA,IAAA,IAIA,EAAA,EAAA,MAAA,EAAA,IAGA,EAGA,SAAA,EAAA,EAAA,GACA,IAAA,EAAA,EAAA,OAAA,EAAA,EAAA,EAAA,EAAA,EAAA,QACA,EAAA,EAAA,EAAA,GACA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EACA,EAAA,GAAA,IAAA,EAAA,GAEA,OAAA,EAGA,SAAA,EAAA,EAAA,EAAA,EAAA,GAGA,GAFA,EAAA,WAEA,EAAA,GAAA,EAAA,WAAA,EACA,MAAA,IAAA,WAAA,6BAGA,GAAA,EAAA,WAAA,GAAA,GAAA,GACA,MAAA,IAAA,WAAA,6BAmBA,OAfA,OADA,IAAA,QAAA,IAAA,EACA,IAAA,WAAA,QACA,IAAA,EACA,IAAA,WAAA,EAAA,GAEA,IAAA,WAAA,EAAA,EAAA,GAGA,EAAA,qBAEA,EAAA,GACA,UAAA,EAAA,UAGA,EAAA,EAAA,EAAA,GAEA,EAGA,SAAA,EAAA,EAAA,GACA,GAAA,EAAA,SAAA,GAAA,CACA,IAAA,EAAA,EAAA,EAAA,EAAA,QAGA,OAAA,KAFA,EAAA,EAAA,EAAA,IAEA,OACA,GAGA,EAAA,KAAA,EAAA,EAAA,EAAA,GACA,GAGA,GAAA,EAAA,CACA,GAAA,oBAAA,aACA,EAAA,kBAAA,aAAA,WAAA,EACA,MAAA,iBAAA,EAAA,QAAA,EAAA,EAAA,QACA,EAAA,EAAA,GAEA,EAAA,EAAA,GAGA,GAAA,WAAA,EAAA,MAAA,EAAA,EAAA,MACA,OAAA,EAAA,EAAA,EAAA,MAIA,MAAA,IAAA,UAAA,sFAGA,SAAA,EAAA,GAGA,GAAA,GAAA,IACA,MAAA,IAAA,WAAA,0DACA,IAAA,SAAA,IAAA,UAEA,OAAA,EAAA,EAGA,SAAA,EAAA,GAIA,OAHA,GAAA,IACA,EAAA,GAEA,EAAA,OAAA,GA+EA,SAAA,EAAA,EAAA,GACA,GAAA,EAAA,SAAA,GACA,OAAA,EAAA,OAEA,GAAA,oBAAA,aAAA,mBAAA,YAAA,SACA,YAAA,OAAA,IAAA,aAAA,aACA,OAAA,EAAA,WAEA,iBAAA,IACA,EAAA,GAAA,GAGA,IAAA,EAAA,EAAA,OACA,GAAA,IAAA,EAAA,OAAA,EAIA,IADA,IAAA,GAAA,IAEA,OAAA,GACA,IAAA,QACA,IAAA,SACA,IAAA,SACA,OAAA,EACA,IAAA,OACA,IAAA,QACA,UAAA,EACA,OAAA,EAAA,GAAA,OACA,IAAA,OACA,IAAA,QACA,IAAA,UACA,IAAA,WACA,OAAA,EAAA,EACA,IAAA,MACA,OAAA,IAAA,EACA,IAAA,SACA,OAAA,EAAA,GAAA,OACA,QACA,GAAA,EAAA,OAAA,EAAA,GAAA,OACA,GAAA,GAAA,GAAA,cACA,GAAA,GAMA,SAAA,EAAA,EAAA,EAAA,GACA,IAAA,GAAA,EAcA,SALA,IAAA,GAAA,EAAA,KACA,EAAA,GAIA,EAAA,KAAA,OACA,MAAA,GAOA,SAJA,IAAA,GAAA,EAAA,KAAA,UACA,EAAA,KAAA,QAGA,GAAA,EACA,MAAA,GAOA,IAHA,KAAA,KACA,KAAA,GAGA,MAAA,GAKA,IAFA,IAAA,EAAA,UAGA,OAAA,GACA,IAAA,MACA,OAAA,EAAA,KAAA,EAAA,GAEA,IAAA,OACA,IAAA,QACA,OAAA,EAAA,KAAA,EAAA,GAEA,IAAA,QACA,OAAA,EAAA,KAAA,EAAA,GAEA,IAAA,SACA,IAAA,SACA,OAAA,EAAA,KAAA,EAAA,GAEA,IAAA,SACA,OAAA,EAAA,KAAA,EAAA,GAEA,IAAA,OACA,IAAA,QACA,IAAA,UACA,IAAA,WACA,OAAA,EAAA,KAAA,EAAA,GAEA,QACA,GAAA,EAAA,MAAA,IAAA,UAAA,qBAAA,GACA,GAAA,EAAA,IAAA,cACA,GAAA,GASA,SAAA,EAAA,EAAA,EAAA,GACA,IAAA,EAAA,EAAA,GACA,EAAA,GAAA,EAAA,GACA,EAAA,GAAA,EAmIA,SAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAEA,GAAA,IAAA,EAAA,OAAA,OAAA,EAmBA,GAhBA,iBAAA,GACA,EAAA,EACA,EAAA,GACA,EAAA,WACA,EAAA,WACA,GAAA,aACA,GAAA,YAEA,GAAA,EACA,MAAA,KAEA,EAAA,EAAA,EAAA,EAAA,OAAA,GAIA,EAAA,IAAA,EAAA,EAAA,OAAA,GACA,GAAA,EAAA,OAAA,CACA,GAAA,EAAA,OAAA,EACA,EAAA,EAAA,OAAA,OACA,GAAA,EAAA,EAAA,CACA,IAAA,EACA,OAAA,EADA,EAAA,EAUA,GALA,iBAAA,IACA,EAAA,EAAA,KAAA,EAAA,IAIA,EAAA,SAAA,GAEA,OAAA,IAAA,EAAA,QACA,EAEA,EAAA,EAAA,EAAA,EAAA,EAAA,GACA,GAAA,iBAAA,EAEA,OADA,GAAA,IACA,EAAA,qBACA,mBAAA,WAAA,UAAA,QACA,EACA,WAAA,UAAA,QAAA,KAAA,EAAA,EAAA,GAEA,WAAA,UAAA,YAAA,KAAA,EAAA,EAAA,GAGA,EAAA,EAAA,CAAA,GAAA,EAAA,EAAA,GAGA,MAAA,IAAA,UAAA,wCAGA,SAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GACA,IA0BA,EA1BA,EAAA,EACA,EAAA,EAAA,OACA,EAAA,EAAA,OAEA,QAAA,IAAA,IAEA,UADA,EAAA,OAAA,GAAA,gBACA,UAAA,GACA,YAAA,GAAA,aAAA,GAAA,CACA,GAAA,EAAA,OAAA,GAAA,EAAA,OAAA,EACA,OAAA,EAEA,EAAA,EACA,GAAA,EACA,GAAA,EACA,GAAA,EAIA,SAAA,EAAA,EAAA,GACA,OAAA,IAAA,EACA,EAAA,GAEA,EAAA,aAAA,EAAA,GAKA,GAAA,EAAA,CACA,IAAA,GAAA,EACA,IAAA,EAAA,EAAA,EAAA,EAAA,IACA,GAAA,EAAA,EAAA,KAAA,EAAA,GAAA,IAAA,EAAA,EAAA,EAAA,IAEA,IADA,IAAA,IAAA,EAAA,GACA,EAAA,EAAA,IAAA,EAAA,OAAA,EAAA,OAEA,IAAA,IAAA,GAAA,EAAA,GACA,GAAA,OAKA,IADA,EAAA,EAAA,IAAA,EAAA,EAAA,GACA,EAAA,EAAA,GAAA,EAAA,IAAA,CAEA,IADA,IAAA,GAAA,EACA,EAAA,EAAA,EAAA,EAAA,IACA,GAAA,EAAA,EAAA,EAAA,KAAA,EAAA,EAAA,GAAA,CACA,GAAA,EACA,MAGA,GAAA,EAAA,OAAA,EAIA,OAAA,EAeA,SAAA,EAAA,EAAA,EAAA,EAAA,GACA,EAAA,OAAA,IAAA,EACA,IAAA,EAAA,EAAA,OAAA,EACA,GAGA,EAAA,OAAA,IACA,IACA,EAAA,GAJA,EAAA,EASA,IAAA,EAAA,EAAA,OACA,GAAA,EAAA,GAAA,EAAA,MAAA,IAAA,UAAA,sBAEA,EAAA,EAAA,IACA,EAAA,EAAA,GAEA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,EAAA,CACA,IAAA,EAAA,SAAA,EAAA,OAAA,EAAA,EAAA,GAAA,IACA,GAAA,MAAA,GAAA,OAAA,EACA,EAAA,EAAA,GAAA,EAEA,OAAA,EAGA,SAAA,EAAA,EAAA,EAAA,EAAA,GACA,OAAA,EAAA,EAAA,EAAA,EAAA,OAAA,GAAA,EAAA,EAAA,GAGA,SAAA,EAAA,EAAA,EAAA,EAAA,GACA,OAAA,EAAA,EAAA,GAAA,EAAA,EAAA,GAGA,SAAA,EAAA,EAAA,EAAA,EAAA,GACA,OAAA,EAAA,EAAA,EAAA,EAAA,GAGA,SAAA,EAAA,EAAA,EAAA,EAAA,GACA,OAAA,EAAA,EAAA,GAAA,EAAA,EAAA,GAGA,SAAA,EAAA,EAAA,EAAA,EAAA,GACA,OAAA,EAAA,EAAA,EAAA,EAAA,OAAA,GAAA,EAAA,EAAA,GAkFA,SAAA,EAAA,EAAA,EAAA,GACA,OAAA,IAAA,GAAA,IAAA,EAAA,OACA,EAAA,cAAA,GAEA,EAAA,cAAA,EAAA,MAAA,EAAA,IAIA,SAAA,EAAA,EAAA,EAAA,GACA,EAAA,KAAA,IAAA,EAAA,OAAA,GAIA,IAHA,IAAA,EAAA,GAEA,EAAA,EACA,EAAA,GAAA,CACA,IAQA,EAAA,EAAA,EAAA,EARA,EAAA,EAAA,GACA,EAAA,KACA,EAAA,EAAA,IAAA,EACA,EAAA,IAAA,EACA,EAAA,IAAA,EACA,EAEA,GAAA,EAAA,GAAA,EAGA,OAAA,GACA,KAAA,EACA,EAAA,MACA,EAAA,GAEA,MACA,KAAA,EAEA,MAAA,KADA,EAAA,EAAA,EAAA,OAEA,GAAA,GAAA,IAAA,EAAA,GAAA,GACA,MACA,EAAA,GAGA,MACA,KAAA,EACA,EAAA,EAAA,EAAA,GACA,EAAA,EAAA,EAAA,GACA,MAAA,IAAA,IAAA,MAAA,IAAA,KACA,GAAA,GAAA,IAAA,IAAA,GAAA,IAAA,EAAA,GAAA,GACA,OAAA,EAAA,OAAA,EAAA,SACA,EAAA,GAGA,MACA,KAAA,EACA,EAAA,EAAA,EAAA,GACA,EAAA,EAAA,EAAA,GACA,EAAA,EAAA,EAAA,GACA,MAAA,IAAA,IAAA,MAAA,IAAA,IAAA,MAAA,IAAA,KACA,GAAA,GAAA,IAAA,IAAA,GAAA,IAAA,IAAA,GAAA,IAAA,EAAA,GAAA,GACA,OAAA,EAAA,UACA,EAAA,GAMA,OAAA,GAGA,EAAA,MACA,EAAA,GACA,EAAA,QAEA,GAAA,MACA,EAAA,KAAA,IAAA,GAAA,KAAA,OACA,EAAA,MAAA,KAAA,GAGA,EAAA,KAAA,GACA,GAAA,EAGA,OAAA,EAAA,GA98BA,QAAA,OAAA,EACA,QAAA,WAAA,EACA,QAAA,kBAAA,GA0BA,EAAA,yBAAA,IAAA,EAAA,oBACA,EAAA,oBACA,IAKA,QAAA,WAAA,IAkEA,EAAA,SAAA,KAGA,EAAA,SAAA,SAAA,GAEA,OADA,EAAA,UAAA,EAAA,UACA,GA2BA,EAAA,KAAA,SAAA,EAAA,EAAA,GACA,OAAA,EAAA,KAAA,EAAA,EAAA,IAGA,EAAA,sBACA,EAAA,UAAA,UAAA,WAAA,UACA,EAAA,UAAA,WACA,oBAAA,QAAA,OAAA,SACA,EAAA,OAAA,WAAA,GAEA,OAAA,eAAA,EAAA,OAAA,QAAA,CACA,MAAA,KACA,cAAA,KAiCA,EAAA,MAAA,SAAA,EAAA,EAAA,GACA,OAAA,EAAA,KAAA,EAAA,EAAA,IAiBA,EAAA,YAAA,SAAA,GACA,OAAA,EAAA,KAAA,IAKA,EAAA,gBAAA,SAAA,GACA,OAAA,EAAA,KAAA,IAiHA,EAAA,SAAA,SAAA,GACA,QAAA,MAAA,IAAA,EAAA,YAGA,EAAA,QAAA,SAAA,EAAA,GACA,IAAA,EAAA,SAAA,KAAA,EAAA,SAAA,GACA,MAAA,IAAA,UAAA,6BAGA,GAAA,IAAA,EAAA,OAAA,EAKA,IAHA,IAAA,EAAA,EAAA,OACA,EAAA,EAAA,OAEA,EAAA,EAAA,EAAA,KAAA,IAAA,EAAA,GAAA,EAAA,IAAA,EACA,GAAA,EAAA,KAAA,EAAA,GAAA,CACA,EAAA,EAAA,GACA,EAAA,EAAA,GACA,MAIA,OAAA,EAAA,GAAA,EACA,EAAA,EAAA,EACA,GAGA,EAAA,WAAA,SAAA,GACA,OAAA,OAAA,GAAA,eACA,IAAA,MACA,IAAA,OACA,IAAA,QACA,IAAA,QACA,IAAA,SACA,IAAA,SACA,IAAA,SACA,IAAA,OACA,IAAA,QACA,IAAA,UACA,IAAA,WACA,OAAA,EACA,QACA,OAAA,IAIA,EAAA,OAAA,SAAA,EAAA,GACA,IAAA,EAAA,GACA,MAAA,IAAA,UAAA,+CAGA,GAAA,IAAA,EAAA,OACA,OAAA,EAAA,MAAA,GAGA,IAAA,EACA,QAAA,IAAA,EAEA,IADA,EAAA,EACA,EAAA,EAAA,EAAA,EAAA,SAAA,EACA,GAAA,EAAA,GAAA,OAIA,IAAA,EAAA,EAAA,YAAA,GACA,EAAA,EACA,IAAA,EAAA,EAAA,EAAA,EAAA,SAAA,EAAA,CACA,IAAA,EAAA,EAAA,GACA,IAAA,EAAA,SAAA,GACA,MAAA,IAAA,UAAA,+CAEA,EAAA,KAAA,EAAA,GACA,GAAA,EAAA,OAEA,OAAA,GA8CA,EAAA,WAAA,EA0EA,EAAA,UAAA,WAAA,EAQA,EAAA,UAAA,OAAA,WACA,IAAA,EAAA,KAAA,OACA,GAAA,EAAA,GAAA,EACA,MAAA,IAAA,WAAA,6CAEA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EACA,EAAA,KAAA,EAAA,EAAA,GAEA,OAAA,MAGA,EAAA,UAAA,OAAA,WACA,IAAA,EAAA,KAAA,OACA,GAAA,EAAA,GAAA,EACA,MAAA,IAAA,WAAA,6CAEA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EACA,EAAA,KAAA,EAAA,EAAA,GACA,EAAA,KAAA,EAAA,EAAA,EAAA,GAEA,OAAA,MAGA,EAAA,UAAA,OAAA,WACA,IAAA,EAAA,KAAA,OACA,GAAA,EAAA,GAAA,EACA,MAAA,IAAA,WAAA,6CAEA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EACA,EAAA,KAAA,EAAA,EAAA,GACA,EAAA,KAAA,EAAA,EAAA,EAAA,GACA,EAAA,KAAA,EAAA,EAAA,EAAA,GACA,EAAA,KAAA,EAAA,EAAA,EAAA,GAEA,OAAA,MAGA,EAAA,UAAA,SAAA,WACA,IAAA,EAAA,EAAA,KAAA,OACA,OAAA,IAAA,EAAA,GACA,IAAA,UAAA,OAAA,EAAA,KAAA,EAAA,GACA,EAAA,MAAA,KAAA,YAGA,EAAA,UAAA,OAAA,SAAA,GACA,IAAA,EAAA,SAAA,GAAA,MAAA,IAAA,UAAA,6BACA,OAAA,OAAA,GACA,IAAA,EAAA,QAAA,KAAA,IAGA,EAAA,UAAA,QAAA,WACA,IAAA,EAAA,GACA,EAAA,QAAA,kBAKA,OAJA,KAAA,OAAA,IACA,EAAA,KAAA,SAAA,MAAA,EAAA,GAAA,MAAA,SAAA,KAAA,KACA,KAAA,OAAA,IAAA,GAAA,UAEA,WAAA,EAAA,KAGA,EAAA,UAAA,QAAA,SAAA,EAAA,EAAA,EAAA,EAAA,GACA,IAAA,EAAA,SAAA,GACA,MAAA,IAAA,UAAA,6BAgBA,QAbA,IAAA,IACA,EAAA,QAEA,IAAA,IACA,EAAA,EAAA,EAAA,OAAA,QAEA,IAAA,IACA,EAAA,QAEA,IAAA,IACA,EAAA,KAAA,QAGA,EAAA,GAAA,EAAA,EAAA,QAAA,EAAA,GAAA,EAAA,KAAA,OACA,MAAA,IAAA,WAAA,sBAGA,GAAA,GAAA,GAAA,GAAA,EACA,OAAA,EAEA,GAAA,GAAA,EACA,OAAA,EAEA,GAAA,GAAA,EACA,OAAA,EAQA,GAAA,OAAA,EAAA,OAAA,EASA,IAPA,IAAA,GAJA,KAAA,IADA,KAAA,GAMA,GAPA,KAAA,IADA,KAAA,GASA,EAAA,KAAA,IAAA,EAAA,GAEA,EAAA,KAAA,MAAA,EAAA,GACA,EAAA,EAAA,MAAA,EAAA,GAEA,EAAA,EAAA,EAAA,IAAA,EACA,GAAA,EAAA,KAAA,EAAA,GAAA,CACA,EAAA,EAAA,GACA,EAAA,EAAA,GACA,MAIA,OAAA,EAAA,GAAA,EACA,EAAA,EAAA,EACA,GA6HA,EAAA,UAAA,SAAA,SAAA,EAAA,EAAA,GACA,OAAA,IAAA,KAAA,QAAA,EAAA,EAAA,IAGA,EAAA,UAAA,QAAA,SAAA,EAAA,EAAA,GACA,OAAA,EAAA,KAAA,EAAA,EAAA,GAAA,IAGA,EAAA,UAAA,YAAA,SAAA,EAAA,EAAA,GACA,OAAA,EAAA,KAAA,EAAA,EAAA,GAAA,IAkDA,EAAA,UAAA,MAAA,SAAA,EAAA,EAAA,EAAA,GAEA,QAAA,IAAA,EACA,EAAA,OACA,EAAA,KAAA,OACA,EAAA,OAEA,QAAA,IAAA,GAAA,iBAAA,EACA,EAAA,EACA,EAAA,KAAA,OACA,EAAA,MAEA,CAAA,IAAA,SAAA,GAWA,MAAA,IAAA,MACA,2EAXA,GAAA,EACA,SAAA,IACA,GAAA,OACA,IAAA,IAAA,EAAA,UAEA,EAAA,EACA,OAAA,GASA,IAAA,EAAA,KAAA,OAAA,EAGA,SAFA,IAAA,GAAA,EAAA,KAAA,EAAA,GAEA,EAAA,OAAA,IAAA,EAAA,GAAA,EAAA,IAAA,EAAA,KAAA,OACA,MAAA,IAAA,WAAA,0CAGA,IAAA,EAAA,QAGA,IADA,IAAA,GAAA,IAEA,OAAA,GACA,IAAA,MACA,OAAA,EAAA,KAAA,EAAA,EAAA,GAEA,IAAA,OACA,IAAA,QACA,OAAA,EAAA,KAAA,EAAA,EAAA,GAEA,IAAA,QACA,OAAA,EAAA,KAAA,EAAA,EAAA,GAEA,IAAA,SACA,IAAA,SACA,OAAA,EAAA,KAAA,EAAA,EAAA,GAEA,IAAA,SAEA,OAAA,EAAA,KAAA,EAAA,EAAA,GAEA,IAAA,OACA,IAAA,QACA,IAAA,UACA,IAAA,WACA,OAAA,EAAA,KAAA,EAAA,EAAA,GAEA,QACA,GAAA,EAAA,MAAA,IAAA,UAAA,qBAAA,GACA,GAAA,GAAA,GAAA,cACA,GAAA,IAKA,EAAA,UAAA,OAAA,WACA,MAAA,CACA,KAAA,SACA,KAAA,MAAA,UAAA,MAAA,KAAA,KAAA,MAAA,KAAA,KAwFA,IAAA,EAAA,KAEA,SAAA,EAAA,GACA,IAAA,EAAA,EAAA,OACA,GAAA,GAAA,EACA,OAAA,OAAA,aAAA,MAAA,OAAA,GAMA,IAFA,IAAA,EAAA,GACA,EAAA,EACA,EAAA,GACA,GAAA,OAAA,aAAA,MACA,OACA,EAAA,MAAA,EAAA,GAAA,IAGA,OAAA,EAGA,SAAA,EAAA,EAAA,EAAA,GACA,IAAA,EAAA,GACA,EAAA,KAAA,IAAA,EAAA,OAAA,GAEA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,EACA,GAAA,OAAA,aAAA,IAAA,EAAA,IAEA,OAAA,EAGA,SAAA,EAAA,EAAA,EAAA,GACA,IAAA,EAAA,GACA,EAAA,KAAA,IAAA,EAAA,OAAA,GAEA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,EACA,GAAA,OAAA,aAAA,EAAA,IAEA,OAAA,EAGA,SAAA,EAAA,EAAA,EAAA,GACA,IAAA,EAAA,EAAA,SAEA,GAAA,EAAA,KAAA,EAAA,KACA,GAAA,EAAA,GAAA,EAAA,KAAA,EAAA,GAGA,IADA,IAAA,EAAA,GACA,EAAA,EAAA,EAAA,IAAA,EACA,GAAA,EAAA,EAAA,IAEA,OAAA,EAGA,SAAA,EAAA,EAAA,EAAA,GAGA,IAFA,IAAA,EAAA,EAAA,MAAA,EAAA,GACA,EAAA,GACA,EAAA,EAAA,EAAA,EAAA,OAAA,GAAA,EACA,GAAA,OAAA,aAAA,EAAA,GAAA,IAAA,EAAA,EAAA,IAEA,OAAA,EA0CA,SAAA,EAAA,EAAA,EAAA,GACA,GAAA,EAAA,GAAA,GAAA,EAAA,EAAA,MAAA,IAAA,WAAA,sBACA,GAAA,EAAA,EAAA,EAAA,MAAA,IAAA,WAAA,yCA+JA,SAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GACA,IAAA,EAAA,SAAA,GAAA,MAAA,IAAA,UAAA,+CACA,GAAA,EAAA,GAAA,EAAA,EAAA,MAAA,IAAA,WAAA,qCACA,GAAA,EAAA,EAAA,EAAA,OAAA,MAAA,IAAA,WAAA,sBAkDA,SAAA,EAAA,EAAA,EAAA,EAAA,GACA,EAAA,IAAA,EAAA,MAAA,EAAA,GACA,IAAA,IAAA,EAAA,EAAA,EAAA,KAAA,IAAA,EAAA,OAAA,EAAA,GAAA,EAAA,IAAA,EACA,EAAA,EAAA,IAAA,EAAA,KAAA,GAAA,EAAA,EAAA,EAAA,MACA,GAAA,EAAA,EAAA,EAAA,GA8BA,SAAA,EAAA,EAAA,EAAA,EAAA,GACA,EAAA,IAAA,EAAA,WAAA,EAAA,GACA,IAAA,IAAA,EAAA,EAAA,EAAA,KAAA,IAAA,EAAA,OAAA,EAAA,GAAA,EAAA,IAAA,EACA,EAAA,EAAA,GAAA,IAAA,GAAA,EAAA,EAAA,EAAA,GAAA,IAmJA,SAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GACA,GAAA,EAAA,EAAA,EAAA,OAAA,MAAA,IAAA,WAAA,sBACA,GAAA,EAAA,EAAA,MAAA,IAAA,WAAA,sBAGA,SAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAKA,OAJA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,uBAAA,uBAEA,EAAA,MAAA,EAAA,EAAA,EAAA,EAAA,GAAA,GACA,EAAA,EAWA,SAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAKA,OAJA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,wBAAA,wBAEA,EAAA,MAAA,EAAA,EAAA,EAAA,EAAA,GAAA,GACA,EAAA,EA/cA,EAAA,UAAA,MAAA,SAAA,EAAA,GACA,IAoBA,EApBA,EAAA,KAAA,OAqBA,IApBA,IAAA,GAGA,GACA,GAAA,GACA,IAAA,EAAA,GACA,EAAA,IACA,EAAA,IANA,OAAA,IAAA,EAAA,IAAA,GASA,GACA,GAAA,GACA,IAAA,EAAA,GACA,EAAA,IACA,EAAA,GAGA,EAAA,IAAA,EAAA,GAGA,EAAA,qBACA,EAAA,KAAA,SAAA,EAAA,IACA,UAAA,EAAA,cACA,CACA,IAAA,EAAA,EAAA,EACA,EAAA,IAAA,EAAA,OAAA,GACA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,EACA,EAAA,GAAA,KAAA,EAAA,GAIA,OAAA,GAWA,EAAA,UAAA,WAAA,SAAA,EAAA,EAAA,GACA,GAAA,EACA,GAAA,EACA,GAAA,EAAA,EAAA,EAAA,KAAA,QAKA,IAHA,IAAA,EAAA,KAAA,GACA,EAAA,EACA,EAAA,IACA,EAAA,IAAA,GAAA,MACA,GAAA,KAAA,EAAA,GAAA,EAGA,OAAA,GAGA,EAAA,UAAA,WAAA,SAAA,EAAA,EAAA,GACA,GAAA,EACA,GAAA,EACA,GACA,EAAA,EAAA,EAAA,KAAA,QAKA,IAFA,IAAA,EAAA,KAAA,IAAA,GACA,EAAA,EACA,EAAA,IAAA,GAAA,MACA,GAAA,KAAA,IAAA,GAAA,EAGA,OAAA,GAGA,EAAA,UAAA,UAAA,SAAA,EAAA,GAEA,OADA,GAAA,EAAA,EAAA,EAAA,KAAA,QACA,KAAA,IAGA,EAAA,UAAA,aAAA,SAAA,EAAA,GAEA,OADA,GAAA,EAAA,EAAA,EAAA,KAAA,QACA,KAAA,GAAA,KAAA,EAAA,IAAA,GAGA,EAAA,UAAA,aAAA,SAAA,EAAA,GAEA,OADA,GAAA,EAAA,EAAA,EAAA,KAAA,QACA,KAAA,IAAA,EAAA,KAAA,EAAA,IAGA,EAAA,UAAA,aAAA,SAAA,EAAA,GAGA,OAFA,GAAA,EAAA,EAAA,EAAA,KAAA,SAEA,KAAA,GACA,KAAA,EAAA,IAAA,EACA,KAAA,EAAA,IAAA,IACA,SAAA,KAAA,EAAA,IAGA,EAAA,UAAA,aAAA,SAAA,EAAA,GAGA,OAFA,GAAA,EAAA,EAAA,EAAA,KAAA,QAEA,SAAA,KAAA,IACA,KAAA,EAAA,IAAA,GACA,KAAA,EAAA,IAAA,EACA,KAAA,EAAA,KAGA,EAAA,UAAA,UAAA,SAAA,EAAA,EAAA,GACA,GAAA,EACA,GAAA,EACA,GAAA,EAAA,EAAA,EAAA,KAAA,QAKA,IAHA,IAAA,EAAA,KAAA,GACA,EAAA,EACA,EAAA,IACA,EAAA,IAAA,GAAA,MACA,GAAA,KAAA,EAAA,GAAA,EAMA,OAFA,IAFA,GAAA,OAEA,GAAA,KAAA,IAAA,EAAA,EAAA,IAEA,GAGA,EAAA,UAAA,UAAA,SAAA,EAAA,EAAA,GACA,GAAA,EACA,GAAA,EACA,GAAA,EAAA,EAAA,EAAA,KAAA,QAKA,IAHA,IAAA,EAAA,EACA,EAAA,EACA,EAAA,KAAA,IAAA,GACA,EAAA,IAAA,GAAA,MACA,GAAA,KAAA,IAAA,GAAA,EAMA,OAFA,IAFA,GAAA,OAEA,GAAA,KAAA,IAAA,EAAA,EAAA,IAEA,GAGA,EAAA,UAAA,SAAA,SAAA,EAAA,GAEA,OADA,GAAA,EAAA,EAAA,EAAA,KAAA,QACA,IAAA,KAAA,IACA,GAAA,IAAA,KAAA,GAAA,GADA,KAAA,IAIA,EAAA,UAAA,YAAA,SAAA,EAAA,GACA,GAAA,EAAA,EAAA,EAAA,KAAA,QACA,IAAA,EAAA,KAAA,GAAA,KAAA,EAAA,IAAA,EACA,OAAA,MAAA,EAAA,WAAA,EAAA,GAGA,EAAA,UAAA,YAAA,SAAA,EAAA,GACA,GAAA,EAAA,EAAA,EAAA,KAAA,QACA,IAAA,EAAA,KAAA,EAAA,GAAA,KAAA,IAAA,EACA,OAAA,MAAA,EAAA,WAAA,EAAA,GAGA,EAAA,UAAA,YAAA,SAAA,EAAA,GAGA,OAFA,GAAA,EAAA,EAAA,EAAA,KAAA,QAEA,KAAA,GACA,KAAA,EAAA,IAAA,EACA,KAAA,EAAA,IAAA,GACA,KAAA,EAAA,IAAA,IAGA,EAAA,UAAA,YAAA,SAAA,EAAA,GAGA,OAFA,GAAA,EAAA,EAAA,EAAA,KAAA,QAEA,KAAA,IAAA,GACA,KAAA,EAAA,IAAA,GACA,KAAA,EAAA,IAAA,EACA,KAAA,EAAA,IAGA,EAAA,UAAA,YAAA,SAAA,EAAA,GAEA,OADA,GAAA,EAAA,EAAA,EAAA,KAAA,QACA,EAAA,KAAA,KAAA,GAAA,EAAA,GAAA,IAGA,EAAA,UAAA,YAAA,SAAA,EAAA,GAEA,OADA,GAAA,EAAA,EAAA,EAAA,KAAA,QACA,EAAA,KAAA,KAAA,GAAA,EAAA,GAAA,IAGA,EAAA,UAAA,aAAA,SAAA,EAAA,GAEA,OADA,GAAA,EAAA,EAAA,EAAA,KAAA,QACA,EAAA,KAAA,KAAA,GAAA,EAAA,GAAA,IAGA,EAAA,UAAA,aAAA,SAAA,EAAA,GAEA,OADA,GAAA,EAAA,EAAA,EAAA,KAAA,QACA,EAAA,KAAA,KAAA,GAAA,EAAA,GAAA,IASA,EAAA,UAAA,YAAA,SAAA,EAAA,EAAA,EAAA,IACA,GAAA,EACA,GAAA,EACA,GAAA,EACA,IAEA,EAAA,KAAA,EAAA,EAAA,EADA,KAAA,IAAA,EAAA,EAAA,GAAA,EACA,GAGA,IAAA,EAAA,EACA,EAAA,EAEA,IADA,KAAA,GAAA,IAAA,IACA,EAAA,IAAA,GAAA,MACA,KAAA,EAAA,GAAA,EAAA,EAAA,IAGA,OAAA,EAAA,GAGA,EAAA,UAAA,YAAA,SAAA,EAAA,EAAA,EAAA,IACA,GAAA,EACA,GAAA,EACA,GAAA,EACA,IAEA,EAAA,KAAA,EAAA,EAAA,EADA,KAAA,IAAA,EAAA,EAAA,GAAA,EACA,GAGA,IAAA,EAAA,EAAA,EACA,EAAA,EAEA,IADA,KAAA,EAAA,GAAA,IAAA,IACA,GAAA,IAAA,GAAA,MACA,KAAA,EAAA,GAAA,EAAA,EAAA,IAGA,OAAA,EAAA,GAGA,EAAA,UAAA,WAAA,SAAA,EAAA,EAAA,GAMA,OALA,GAAA,EACA,GAAA,EACA,GAAA,EAAA,KAAA,EAAA,EAAA,EAAA,IAAA,GACA,EAAA,sBAAA,EAAA,KAAA,MAAA,IACA,KAAA,GAAA,IAAA,EACA,EAAA,GAWA,EAAA,UAAA,cAAA,SAAA,EAAA,EAAA,GAUA,OATA,GAAA,EACA,GAAA,EACA,GAAA,EAAA,KAAA,EAAA,EAAA,EAAA,MAAA,GACA,EAAA,qBACA,KAAA,GAAA,IAAA,EACA,KAAA,EAAA,GAAA,IAAA,GAEA,EAAA,KAAA,EAAA,GAAA,GAEA,EAAA,GAGA,EAAA,UAAA,cAAA,SAAA,EAAA,EAAA,GAUA,OATA,GAAA,EACA,GAAA,EACA,GAAA,EAAA,KAAA,EAAA,EAAA,EAAA,MAAA,GACA,EAAA,qBACA,KAAA,GAAA,IAAA,EACA,KAAA,EAAA,GAAA,IAAA,GAEA,EAAA,KAAA,EAAA,GAAA,GAEA,EAAA,GAUA,EAAA,UAAA,cAAA,SAAA,EAAA,EAAA,GAYA,OAXA,GAAA,EACA,GAAA,EACA,GAAA,EAAA,KAAA,EAAA,EAAA,EAAA,WAAA,GACA,EAAA,qBACA,KAAA,EAAA,GAAA,IAAA,GACA,KAAA,EAAA,GAAA,IAAA,GACA,KAAA,EAAA,GAAA,IAAA,EACA,KAAA,GAAA,IAAA,GAEA,EAAA,KAAA,EAAA,GAAA,GAEA,EAAA,GAGA,EAAA,UAAA,cAAA,SAAA,EAAA,EAAA,GAYA,OAXA,GAAA,EACA,GAAA,EACA,GAAA,EAAA,KAAA,EAAA,EAAA,EAAA,WAAA,GACA,EAAA,qBACA,KAAA,GAAA,IAAA,GACA,KAAA,EAAA,GAAA,IAAA,GACA,KAAA,EAAA,GAAA,IAAA,EACA,KAAA,EAAA,GAAA,IAAA,GAEA,EAAA,KAAA,EAAA,GAAA,GAEA,EAAA,GAGA,EAAA,UAAA,WAAA,SAAA,EAAA,EAAA,EAAA,GAGA,GAFA,GAAA,EACA,GAAA,GACA,EAAA,CACA,IAAA,EAAA,KAAA,IAAA,EAAA,EAAA,EAAA,GAEA,EAAA,KAAA,EAAA,EAAA,EAAA,EAAA,GAAA,GAGA,IAAA,EAAA,EACA,EAAA,EACA,EAAA,EAEA,IADA,KAAA,GAAA,IAAA,IACA,EAAA,IAAA,GAAA,MACA,EAAA,GAAA,IAAA,GAAA,IAAA,KAAA,EAAA,EAAA,KACA,EAAA,GAEA,KAAA,EAAA,IAAA,EAAA,GAAA,GAAA,EAAA,IAGA,OAAA,EAAA,GAGA,EAAA,UAAA,WAAA,SAAA,EAAA,EAAA,EAAA,GAGA,GAFA,GAAA,EACA,GAAA,GACA,EAAA,CACA,IAAA,EAAA,KAAA,IAAA,EAAA,EAAA,EAAA,GAEA,EAAA,KAAA,EAAA,EAAA,EAAA,EAAA,GAAA,GAGA,IAAA,EAAA,EAAA,EACA,EAAA,EACA,EAAA,EAEA,IADA,KAAA,EAAA,GAAA,IAAA,IACA,GAAA,IAAA,GAAA,MACA,EAAA,GAAA,IAAA,GAAA,IAAA,KAAA,EAAA,EAAA,KACA,EAAA,GAEA,KAAA,EAAA,IAAA,EAAA,GAAA,GAAA,EAAA,IAGA,OAAA,EAAA,GAGA,EAAA,UAAA,UAAA,SAAA,EAAA,EAAA,GAOA,OANA,GAAA,EACA,GAAA,EACA,GAAA,EAAA,KAAA,EAAA,EAAA,EAAA,KAAA,KACA,EAAA,sBAAA,EAAA,KAAA,MAAA,IACA,EAAA,IAAA,EAAA,IAAA,EAAA,GACA,KAAA,GAAA,IAAA,EACA,EAAA,GAGA,EAAA,UAAA,aAAA,SAAA,EAAA,EAAA,GAUA,OATA,GAAA,EACA,GAAA,EACA,GAAA,EAAA,KAAA,EAAA,EAAA,EAAA,OAAA,OACA,EAAA,qBACA,KAAA,GAAA,IAAA,EACA,KAAA,EAAA,GAAA,IAAA,GAEA,EAAA,KAAA,EAAA,GAAA,GAEA,EAAA,GAGA,EAAA,UAAA,aAAA,SAAA,EAAA,EAAA,GAUA,OATA,GAAA,EACA,GAAA,EACA,GAAA,EAAA,KAAA,EAAA,EAAA,EAAA,OAAA,OACA,EAAA,qBACA,KAAA,GAAA,IAAA,EACA,KAAA,EAAA,GAAA,IAAA,GAEA,EAAA,KAAA,EAAA,GAAA,GAEA,EAAA,GAGA,EAAA,UAAA,aAAA,SAAA,EAAA,EAAA,GAYA,OAXA,GAAA,EACA,GAAA,EACA,GAAA,EAAA,KAAA,EAAA,EAAA,EAAA,YAAA,YACA,EAAA,qBACA,KAAA,GAAA,IAAA,EACA,KAAA,EAAA,GAAA,IAAA,EACA,KAAA,EAAA,GAAA,IAAA,GACA,KAAA,EAAA,GAAA,IAAA,IAEA,EAAA,KAAA,EAAA,GAAA,GAEA,EAAA,GAGA,EAAA,UAAA,aAAA,SAAA,EAAA,EAAA,GAaA,OAZA,GAAA,EACA,GAAA,EACA,GAAA,EAAA,KAAA,EAAA,EAAA,EAAA,YAAA,YACA,EAAA,IAAA,EAAA,WAAA,EAAA,GACA,EAAA,qBACA,KAAA,GAAA,IAAA,GACA,KAAA,EAAA,GAAA,IAAA,GACA,KAAA,EAAA,GAAA,IAAA,EACA,KAAA,EAAA,GAAA,IAAA,GAEA,EAAA,KAAA,EAAA,GAAA,GAEA,EAAA,GAgBA,EAAA,UAAA,aAAA,SAAA,EAAA,EAAA,GACA,OAAA,EAAA,KAAA,EAAA,GAAA,EAAA,IAGA,EAAA,UAAA,aAAA,SAAA,EAAA,EAAA,GACA,OAAA,EAAA,KAAA,EAAA,GAAA,EAAA,IAWA,EAAA,UAAA,cAAA,SAAA,EAAA,EAAA,GACA,OAAA,EAAA,KAAA,EAAA,GAAA,EAAA,IAGA,EAAA,UAAA,cAAA,SAAA,EAAA,EAAA,GACA,OAAA,EAAA,KAAA,EAAA,GAAA,EAAA,IAIA,EAAA,UAAA,KAAA,SAAA,EAAA,EAAA,EAAA,GAQA,GAPA,IAAA,EAAA,GACA,GAAA,IAAA,IAAA,EAAA,KAAA,QACA,GAAA,EAAA,SAAA,EAAA,EAAA,QACA,IAAA,EAAA,GACA,EAAA,GAAA,EAAA,IAAA,EAAA,GAGA,IAAA,EAAA,OAAA,EACA,GAAA,IAAA,EAAA,QAAA,IAAA,KAAA,OAAA,OAAA,EAGA,GAAA,EAAA,EACA,MAAA,IAAA,WAAA,6BAEA,GAAA,EAAA,GAAA,GAAA,KAAA,OAAA,MAAA,IAAA,WAAA,6BACA,GAAA,EAAA,EAAA,MAAA,IAAA,WAAA,2BAGA,EAAA,KAAA,SAAA,EAAA,KAAA,QACA,EAAA,OAAA,EAAA,EAAA,IACA,EAAA,EAAA,OAAA,EAAA,GAGA,IACA,EADA,EAAA,EAAA,EAGA,GAAA,OAAA,GAAA,EAAA,GAAA,EAAA,EAEA,IAAA,EAAA,EAAA,EAAA,GAAA,IAAA,EACA,EAAA,EAAA,GAAA,KAAA,EAAA,QAEA,GAAA,EAAA,MAAA,EAAA,oBAEA,IAAA,EAAA,EAAA,EAAA,IAAA,EACA,EAAA,EAAA,GAAA,KAAA,EAAA,QAGA,WAAA,UAAA,IAAA,KACA,EACA,KAAA,SAAA,EAAA,EAAA,GACA,GAIA,OAAA,GAOA,EAAA,UAAA,KAAA,SAAA,EAAA,EAAA,EAAA,GAEA,GAAA,iBAAA,EAAA,CASA,GARA,iBAAA,GACA,EAAA,EACA,EAAA,EACA,EAAA,KAAA,QACA,iBAAA,IACA,EAAA,EACA,EAAA,KAAA,QAEA,IAAA,EAAA,OAAA,CACA,IAAA,EAAA,EAAA,WAAA,GACA,EAAA,MACA,EAAA,GAGA,QAAA,IAAA,GAAA,iBAAA,EACA,MAAA,IAAA,UAAA,6BAEA,GAAA,iBAAA,IAAA,EAAA,WAAA,GACA,MAAA,IAAA,UAAA,qBAAA,OAEA,iBAAA,IACA,GAAA,KAIA,GAAA,EAAA,GAAA,KAAA,OAAA,GAAA,KAAA,OAAA,EACA,MAAA,IAAA,WAAA,sBAGA,GAAA,GAAA,EACA,OAAA,KAQA,IAAA,EACA,GANA,KAAA,EACA,OAAA,IAAA,EAAA,KAAA,OAAA,IAAA,EAEA,IAAA,EAAA,GAGA,iBAAA,EACA,IAAA,EAAA,EAAA,EAAA,IAAA,EACA,KAAA,GAAA,MAEA,CACA,IAAA,EAAA,EAAA,SAAA,GACA,EACA,EAAA,IAAA,EAAA,EAAA,GAAA,YACA,EAAA,EAAA,OACA,IAAA,EAAA,EAAA,EAAA,EAAA,IAAA,EACA,KAAA,EAAA,GAAA,EAAA,EAAA,GAIA,OAAA,MAMA,IAAA,EAAA,qBAEA,SAAA,EAAA,GAIA,IAFA,EAAA,EAAA,GAAA,QAAA,EAAA,KAEA,OAAA,EAAA,MAAA,GAEA,KAAA,EAAA,OAAA,GAAA,GACA,GAAA,IAEA,OAAA,EAGA,SAAA,EAAA,GACA,OAAA,EAAA,KAAA,EAAA,OACA,EAAA,QAAA,aAAA,IAGA,SAAA,EAAA,GACA,OAAA,EAAA,GAAA,IAAA,EAAA,SAAA,IACA,EAAA,SAAA,IAGA,SAAA,EAAA,EAAA,GAEA,IAAA,EADA,EAAA,GAAA,EAAA,EAMA,IAJA,IAAA,EAAA,EAAA,OACA,EAAA,KACA,EAAA,GAEA,EAAA,EAAA,EAAA,IAAA,EAAA,CAIA,IAHA,EAAA,EAAA,WAAA,IAGA,OAAA,EAAA,MAAA,CAEA,IAAA,EAAA,CAEA,GAAA,EAAA,MAAA,EAEA,GAAA,IAAA,GAAA,EAAA,KAAA,IAAA,IAAA,KACA,SACA,GAAA,EAAA,IAAA,EAAA,EAEA,GAAA,IAAA,GAAA,EAAA,KAAA,IAAA,IAAA,KACA,SAIA,EAAA,EAEA,SAIA,GAAA,EAAA,MAAA,EACA,GAAA,IAAA,GAAA,EAAA,KAAA,IAAA,IAAA,KACA,EAAA,EACA,SAIA,EAAA,OAAA,EAAA,OAAA,GAAA,EAAA,YACA,IAEA,GAAA,IAAA,GAAA,EAAA,KAAA,IAAA,IAAA,KAMA,GAHA,EAAA,KAGA,EAAA,IAAA,CACA,IAAA,GAAA,GAAA,EAAA,MACA,EAAA,KAAA,QACA,GAAA,EAAA,KAAA,CACA,IAAA,GAAA,GAAA,EAAA,MACA,EAAA,KACA,GAAA,EAAA,IACA,GAAA,EAAA,UAEA,GAAA,EAAA,MAAA,CACA,IAAA,GAAA,GAAA,EAAA,MACA,EAAA,KACA,GAAA,GAAA,IACA,GAAA,EAAA,GAAA,IACA,GAAA,EAAA,SAEA,CAAA,KAAA,EAAA,SASA,MAAA,IAAA,MAAA,sBARA,IAAA,GAAA,GAAA,EAAA,MACA,EAAA,KACA,GAAA,GAAA,IACA,GAAA,GAAA,GAAA,IACA,GAAA,EAAA,GAAA,IACA,GAAA,EAAA,MAOA,OAAA,EAGA,SAAA,EAAA,GAEA,IADA,IAAA,EAAA,GACA,EAAA,EAAA,EAAA,EAAA,SAAA,EAEA,EAAA,KAAA,IAAA,EAAA,WAAA,IAEA,OAAA,EAGA,SAAA,EAAA,EAAA,GAGA,IAFA,IAAA,EAAA,EAAA,EACA,EAAA,GACA,EAAA,EAAA,EAAA,EAAA,WACA,GAAA,GAAA,KADA,EAIA,GADA,EAAA,EAAA,WAAA,KACA,EACA,EAAA,EAAA,IACA,EAAA,KAAA,GACA,EAAA,KAAA,GAGA,OAAA,EAGA,SAAA,EAAA,GACA,OAAA,EAAA,YAAA,EAAA,IAGA,SAAA,EAAA,EAAA,EAAA,EAAA,GACA,IAAA,IAAA,EAAA,EAAA,EAAA,KACA,EAAA,GAAA,EAAA,QAAA,GAAA,EAAA,UADA,EAEA,EAAA,EAAA,GAAA,EAAA,GAEA,OAAA,EAGA,SAAA,EAAA,GACA,OAAA,GAAA;;;AC3/CC,IAAA,EAAA,QAAA,UAAA,OAhQGxe,EAAS,WACb,aAESye,SAAAA,EAAY3c,EAAK1L,GACjBA,OAAQ,MAARA,GAAgB0L,aAAe1L,EAGpCsoB,IAAAA,EASAC,EAOAC,EAfA,IACFF,EAAYpuB,IACZ,MAAM0sB,GAGN0B,EAAY,aAIV,IACFC,EAAYpuB,IACZ,MAAMysB,GACN2B,EAAY,aAIV,IACFC,EAAgBhe,QAChB,MAAMoc,GACN4B,EAAgB,aAwBT5e,SAAAA,EAAM6e,EAAQC,EAAUC,EAAOjuB,EAAWkuB,GACzB,iBAAbF,IACTC,EAAQD,EAASC,MACjBjuB,EAAYguB,EAAShuB,UACrBkuB,EAAuBF,EAASE,qBAChCF,EAAWA,EAASA,UAIlBG,IAAAA,EAAa,GACbC,EAAc,GAEdC,OAA6B,IAAVC,EA0IhBC,YAxIgB,IAAZP,IACTA,GAAW,QAEO,IAATC,IACTA,EAAQpT,EAAAA,GAGD0T,SAAAA,EAAOR,EAAQE,GAElBF,GAAW,OAAXA,EACF,OAAO,KAELE,GAAU,IAAVA,EACF,OAAOF,EAELS,IAAAA,EACAzf,EACA,GAAiB,iBAAVgf,EACFA,OAAAA,EAGLJ,GAAAA,EAAYI,EAAQH,GACtBY,EAAQ,IAAIZ,OACP,GAAID,EAAYI,EAAQF,GAC7BW,EAAQ,IAAIX,OACP,GAAIF,EAAYI,EAAQD,GAC7BU,EAAQ,IAAIV,EAAc,SAAUW,EAASze,GAC3C+d,EAAO5d,KAAK,SAAS/P,GACnBquB,EAAQF,EAAOnuB,EAAO6tB,EAAQ,KAC7B,SAAS5qB,GACV2M,EAAOue,EAAOlrB,EAAK4qB,EAAQ,aAG1B,GAAI/e,EAAMwf,UAAUX,GACzBS,EAAQ,QACH,GAAItf,EAAMyf,WAAWZ,GAC1BS,EAAQ,IAAItM,OAAO6L,EAAOxV,OAAQqW,EAAiBb,IAC/CA,EAAOpC,YAAW6C,EAAM7C,UAAYoC,EAAOpC,gBAC1C,GAAIzc,EAAM2f,SAASd,GACxBS,EAAQ,IAAIpf,KAAK2e,EAAOe,eACnB,CAAA,GAAIT,GAAaC,EAAOS,SAAShB,GAS/BS,OANLA,EAFEF,EAAOU,YAEDV,EAAOU,YAAYjB,EAAO3uB,QAG1B,IAAIkvB,EAAOP,EAAO3uB,QAE5B2uB,EAAOvmB,KAAKgnB,GACLA,EACEb,EAAYI,EAAQ9sB,OAC7ButB,EAAQ7uB,OAAOkG,OAAOkoB,QAEE,IAAb/tB,GACT+O,EAAQpP,OAAOsI,eAAe8lB,GAC9BS,EAAQ7uB,OAAOkG,OAAOkJ,KAGtByf,EAAQ7uB,OAAOkG,OAAO7F,GACtB+O,EAAQ/O,GAIRguB,GAAAA,EAAU,CACRrmB,IAAAA,EAAQwmB,EAAWnW,QAAQ+V,GAE3BpmB,IAAU,GAAVA,EACKymB,OAAAA,EAAYzmB,GAErBwmB,EAAWloB,KAAK8nB,GAChBK,EAAYnoB,KAAKuoB,GAiBd,IAAA,IAAItvB,KAdLyuB,EAAYI,EAAQH,IACtBG,EAAOvtB,QAAQ,SAASJ,EAAO3B,GACzBwwB,IAAAA,EAAWV,EAAO9vB,EAAKwvB,EAAQ,GAC/BiB,EAAaX,EAAOnuB,EAAO6tB,EAAQ,GACvCO,EAAMruB,IAAI8uB,EAAUC,KAGpBvB,EAAYI,EAAQF,IACtBE,EAAOvtB,QAAQ,SAASJ,GAClB+uB,IAAAA,EAAaZ,EAAOnuB,EAAO6tB,EAAQ,GACvCO,EAAMnvB,IAAI8vB,KAIApB,EAAQ,CAChBqB,IAAAA,EACArgB,IACFqgB,EAAQzvB,OAAOC,yBAAyBmP,EAAO7P,IAG7CkwB,GAAsB,MAAbA,EAAMjvB,MAGnBquB,EAAMtvB,GAAKqvB,EAAOR,EAAO7uB,GAAI+uB,EAAQ,IAGnCtuB,GAAAA,OAAO0E,sBACLgrB,CAAAA,IAAAA,EAAU1vB,OAAO0E,sBAAsB0pB,GACtC,IAAI7uB,EAAI,EAAGA,EAAImwB,EAAQjwB,OAAQF,IAAK,CAGnCowB,IAAAA,EAASD,EAAQnwB,MACjB2sB,EAAalsB,OAAOC,yBAAyBmuB,EAAQuB,KACtCzD,EAAW/jB,YAAeomB,KAG7CM,EAAMc,GAAUf,EAAOR,EAAOuB,GAASrB,EAAQ,GAC1CpC,EAAW/jB,YACdnI,OAAOgB,eAAe6tB,EAAOc,EAAQ,CACnCxnB,YAAY,MAMhBomB,GAAAA,EACEqB,CAAAA,IAAAA,EAAmB5vB,OAAO2E,oBAAoBypB,GAC7C,IAAI7uB,EAAI,EAAGA,EAAIqwB,EAAiBnwB,OAAQF,IAAK,CAC5CswB,IACA3D,EADA2D,EAAeD,EAAiBrwB,IAChC2sB,EAAalsB,OAAOC,yBAAyBmuB,EAAQyB,KACvC3D,EAAW/jB,aAG7B0mB,EAAMgB,GAAgBjB,EAAOR,EAAOyB,GAAevB,EAAQ,GAC3DtuB,OAAOgB,eAAe6tB,EAAOgB,EAAc,CACzC1nB,YAAY,MAKX0mB,OAAAA,EAGFD,CAAOR,EAAQE,GAqBfwB,SAAAA,EAAW5G,GACXlpB,OAAAA,OAAOK,UAAUqB,SAASH,KAAK2nB,GAmB/B+F,SAAAA,EAAiB3M,GACpBiL,IAAAA,EAAQ,GAILA,OAHHjL,EAAG3V,SAAQ4gB,GAAS,KACpBjL,EAAG2K,aAAYM,GAAS,KACxBjL,EAAG4K,YAAWK,GAAS,KACpBA,EAIFhe,OAxCPA,EAAMwgB,eAAiB,SAAwB3B,GACzCA,GAAW,OAAXA,EACF,OAAO,KAELlZ,IAAAA,EAAI,aAED,OADPA,EAAE7U,UAAY+tB,EACP,IAAIlZ,GAQb3F,EAAMugB,WAAaA,EAKnBvgB,EAAM2f,SAHGA,SAAShG,GACT,MAAa,iBAANA,GAAoC,kBAAlB4G,EAAW5G,IAO7C3Z,EAAMwf,UAHGA,SAAU7F,GACV,MAAa,iBAANA,GAAoC,mBAAlB4G,EAAW5G,IAO7C3Z,EAAMyf,WAHGA,SAAW9F,GACX,MAAa,iBAANA,GAAoC,oBAAlB4G,EAAW5G,IAW7C3Z,EAAM0f,iBAAmBA,EAElB1f,EA3PM,GA8PS,iBAAXrK,QAAuBA,OAAOC,UACvCD,OAAOC,QAAUoK;;;AC9PnB,IAOIygB,EACAC,EARAC,EAAUhrB,OAAOC,QAAU,GAU/B,SAASgrB,IACC,MAAA,IAAI7uB,MAAM,mCAEpB,SAAS8uB,IACC,MAAA,IAAI9uB,MAAM,qCAsBpB,SAAS+uB,EAAWzgB,GACZogB,GAAAA,IAAqBnjB,WAEdA,OAAAA,WAAW+C,EAAK,GAGvB,IAACogB,IAAqBG,IAAqBH,IAAqBnjB,WAEzDA,OADPmjB,EAAmBnjB,WACZA,WAAW+C,EAAK,GAEvB,IAEOogB,OAAAA,EAAiBpgB,EAAK,GAC/B,MAAMzF,GACA,IAEO6lB,OAAAA,EAAiBzuB,KAAK,KAAMqO,EAAK,GAC1C,MAAMzF,GAEG6lB,OAAAA,EAAiBzuB,KAAK,KAAMqO,EAAK,KAMpD,SAAS0gB,EAAgBC,GACjBN,GAAAA,IAAuBO,aAEhBA,OAAAA,aAAaD,GAGpB,IAACN,IAAuBG,IAAwBH,IAAuBO,aAEhEA,OADPP,EAAqBO,aACdA,aAAaD,GAEpB,IAEON,OAAAA,EAAmBM,GAC5B,MAAOpmB,GACD,IAEO8lB,OAAAA,EAAmB1uB,KAAK,KAAMgvB,GACvC,MAAOpmB,GAGE8lB,OAAAA,EAAmB1uB,KAAK,KAAMgvB,MAjEhD,WACO,IAEIP,EADsB,mBAAfnjB,WACYA,WAEAsjB,EAEzB,MAAOhmB,GACL6lB,EAAmBG,EAEnB,IAEIF,EADwB,mBAAjBO,aACcA,aAEAJ,EAE3B,MAAOjmB,GACL8lB,EAAqBG,GAjB5B,GAwED,IAEIK,EAFAC,EAAQ,GACRC,GAAW,EAEXC,GAAc,EAElB,SAASC,IACAF,GAAaF,IAGlBE,GAAW,EACPF,EAAahxB,OACbixB,EAAQD,EAAa7rB,OAAO8rB,GAE5BE,GAAc,EAEdF,EAAMjxB,QACNqxB,KAIR,SAASA,IACDH,IAAAA,EAAAA,CAGAI,IAAAA,EAAUV,EAAWQ,GACzBF,GAAW,EAGLnxB,IADFA,IAAAA,EAAMkxB,EAAMjxB,OACVD,GAAK,CAGA,IAFPixB,EAAeC,EACfA,EAAQ,KACCE,EAAapxB,GACdixB,GACAA,EAAaG,GAAYI,MAGjCJ,GAAc,EACdpxB,EAAMkxB,EAAMjxB,OAEhBgxB,EAAe,KACfE,GAAW,EACXL,EAAgBS,IAiBpB,SAASE,EAAKrhB,EAAKxQ,GACVwQ,KAAAA,IAAMA,EACNxQ,KAAAA,MAAQA,EAYjB,SAAS8xB,KA5BThB,EAAQiB,SAAW,SAAUvhB,GACrBzL,IAAAA,EAAO,IAAI9E,MAAMwH,UAAUpH,OAAS,GACpCoH,GAAAA,UAAUpH,OAAS,EACd,IAAA,IAAIF,EAAI,EAAGA,EAAIsH,UAAUpH,OAAQF,IAClC4E,EAAK5E,EAAI,GAAKsH,UAAUtH,GAGhCmxB,EAAMpqB,KAAK,IAAI2qB,EAAKrhB,EAAKzL,IACJ,IAAjBusB,EAAMjxB,QAAiBkxB,GACvBN,EAAWS,IASnBG,EAAK5wB,UAAU2wB,IAAM,WACZphB,KAAAA,IAAI5L,MAAM,KAAM,KAAK5E,QAE9B8wB,EAAQ5I,MAAQ,UAEhB4I,EAAQkB,IAAM,GACdlB,EAAQmB,KAAO,GACfnB,EAAQoB,QAAU,GAClBpB,EAAQqB,SAAW,GAInBrB,EAAQnnB,GAAKmoB,EACbhB,EAAQpnB,YAAcooB,EACtBhB,EAAQjnB,KAAOioB,EACfhB,EAAQ5mB,IAAM4nB,EACdhB,EAAQnpB,eAAiBmqB,EACzBhB,EAAQ3mB,mBAAqB2nB,EAC7BhB,EAAQ9pB,KAAO8qB,EACfhB,EAAQlnB,gBAAkBkoB,EAC1BhB,EAAQhnB,oBAAsBgoB,EAE9BhB,EAAQrnB,UAAY,SAAUrH,GAAe,MAAA,IAE7C0uB,EAAQsB,QAAU,SAAUhwB,GAClB,MAAA,IAAIF,MAAM,qCAGpB4uB,EAAQuB,IAAM,WAAqB,MAAA,KACnCvB,EAAQwB,MAAQ,SAAUlL,GAChB,MAAA,IAAIllB,MAAM,mCAEpB4uB,EAAQyB,MAAQ,WAAoB,OAAA;;;AClKpC,IAAA,EAAA,QAAA,WApBA,SAAA,IAEA,MAAA,oBAAA,QAAA,iBAAA,OAAA,SAAA,aAAA,OAAA,QAAA,cAKA,IAAA,GAAA,iBAAA,EAAA,WAAA,EAAA,SAAA,WAKA,iBAAA,WAAA,iBAAA,UAAA,WAAA,UAAA,UAAA,QAAA,aAAA,GAOA,OAAA,QAAA;;ACkRO,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,cAAA,EAAA,QAAA,iBAAA,EAAA,QAAA,KAAA,EAAA,QAAA,WAAA,EAAA,QAAA,SAAA,EAAA,QAAA,YAAA,EAAA,QAAA,UAAA,EAAA,QAAA,mBAAA,EAAA,QAAA,cAAA,EAAA,QAAA,+BAAA,EAAA,QAAA,QAAA,EAAA,QAAA,eAAA,EAAA,QAAA,SAAA,EAAA,QAAA,WAAA,EAAA,QAAA,gBAAA,EAAA,QAAA,kBAAA,EAAA,QAAA,aAAA,EAAA,QAAA,cAAA,EAAA,QAAA,cAAA,EAAA,QAAA,oBAAA,EAAA,QAAA,aAAA,QAAA,mBAAA,QAAA,WAAA,EAlSP,IAAA,EAAA,EAAA,QAAA,iBACA,EAAA,EAAA,QAAA,UAyCA,EAAA,EAAA,QAAA,cAoNA,EAAA,EAAA,QAAA,gBAoCO,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA1RA,SAASC,EAAcC,GACrB,OAAA,IAAIvwB,MAAM,iOAAmOuwB,EAAY,oDAAsDC,EAAQD,GAAa,6BAA+BA,EAAY,+BAAiCC,EAAQD,GAAa,sBAQva,SAASE,EAAiB1gB,GACZ,iBAARA,IAAkBA,EAAM1P,KAAKC,UAAUyP,IAC9C2gB,IACAzyB,EAEAC,EAHAwyB,EAAY,EAIZ3gB,GAAe,IAAfA,EAAI5R,OAAc,OAAOuyB,EAExBzyB,IAAAA,EAAI,EAAGC,EAAM6R,EAAI5R,OAAQF,EAAIC,EAAKD,IAGrCyyB,GAAaA,GAAa,GAAKA,EAFzB3gB,EAAIpG,WAAW1L,GAIrByyB,GAAa,EAIRA,OADHA,EAAY,IAAGA,IAAyB,GACrCA,EASF,SAASvjB,EAAK4C,GACf4E,IAAAA,EAAM5E,EAEHlD,MADY,iBAARkD,IAAkB4E,EAAMtU,KAAKC,UAAUyP,IAC3ClD,EAAIM,QAAAA,KAAKwH,GAMX,SAASgc,IACP,OAAA,EAAY,EAAA,SAAA,IAAM,KAAM,IAAIxiB,MAAO0f,UAMrC,SAASgC,IACP,OAAA,IAAIhhB,QAAQ,SAAUvP,GACpBiM,OAAAA,WAAWjM,EAAK,KAGpB,SAASsxB,IACVC,IAAAA,EAAKtrB,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,GAAmBA,UAAU,GAAK,EACtE,OAAA,IAAIsJ,QAAQ,SAAUvP,GACpBiM,OAAAA,WAAWjM,EAAKuxB,KAGpB,SAASriB,EAAUsiB,GACpBA,OAAAA,GAA6C,mBAAtBA,EAAa5hB,KAE/B4hB,EAEAjiB,QAAQ2e,QAAQsD,GAGpB,SAASC,IACVtB,IAAAA,EAAUlqB,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,GAAmBA,UAAU,GAAK,KAE9E,MAAkB,iBAAXgkB,QAAuBA,OAAM,oBAC/B,IAAI1a,QAAQ,SAAUvP,GACpBiqB,OAAAA,OAAM,oBAAwBjqB,EAAK,CACxCmwB,QAASA,MAGD5gB,QAAQ2e,UAQjB,SAASwD,EAAcC,EAAOC,GAC5BD,OAAAA,EAAMlP,OAAO,SAAUlF,EAAS/P,GAC9B+P,OAAAA,EAAQ3N,KAAKpC,IACnB+B,QAAQ2e,QAAQ0D,IAQd,SAASC,EAA+B7iB,GACvB,iBAAXib,QAAuBA,OAAM,qBAAyBA,OAAM,oBAAwBjb,GAM1F,SAASkiB,EAAQnoB,GAGfoN,OAFPpN,GAAO,IACK+oB,OAAO,GAAGC,cACXhpB,EAAIipB,OAAO,GAOxB,IAAIC,EAAc,6DACdC,EAAeD,EAAYpzB,OAQxB,SAASszB,EAAeC,GACzBC,IAAAA,EAAS,GAEV,EAAA,CACGlN,IAAAA,EAAIiN,EAAKF,EACbG,EAAO3sB,KAAKyf,GACZiN,EAAKllB,KAAKolB,MAAMF,EAAKF,SACdE,KAAO,GAETC,OAAAA,EAAOhS,UAAUzN,IAAI,SAAU2f,GAC7BN,OAAAA,EAAYM,KAClBtb,KAAK,IAMH,SAASub,EAASzpB,GAEhBA,KAAkB,MAAlBA,EAAI+oB,OAAO,IAChB/oB,EAAMA,EAAIipB,OAAO,GAIZjpB,KAAkB,MAAlBA,EAAI0D,OAAO,IAChB1D,EAAMA,EAAI0D,MAAM,GAAI,GAGf1D,OAAAA,EAOF,SAAS0pB,EAAWhiB,GACrBiiB,IAAAA,EAAczsB,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,IAAmBA,UAAU,GAC7E,IAACwK,EAAK,OAAOA,EAGb,IAACiiB,GAAej0B,MAAMC,QAAQ+R,GACzBA,OAAAA,EAAI0L,KAAK,SAAUtC,EAAGC,GACvB,MAAa,iBAAND,GAA+B,iBAANC,EAAuBD,EAAE8Y,cAAc7Y,GAC1D,iBAAND,EAAuB,GAAe,IAChDjH,IAAI,SAAUjU,GACR8zB,OAAAA,EAAW9zB,KAKlB,GAAe,iBAAR8R,EAAkB,CACvBA,GAAAA,aAAekR,OAAQ,OAAOlR,EAC9BmiB,IAAAA,EAAM,GAMHA,OALPxzB,OAAOe,KAAKsQ,GAAK0L,KAAK,SAAUtC,EAAGC,GAC1BD,OAAAA,EAAE8Y,cAAc7Y,KACtB7Z,QAAQ,SAAU/B,GACnB00B,EAAI10B,GAAOu0B,EAAWhiB,EAAIvS,MAErB00B,EAIFniB,OAAAA,EAOF,SAASoiB,EAAgB30B,EAAK2B,GAC/BA,OAAAA,aAAiB8hB,OAAe9hB,EAAMiB,WACnCjB,EAOF,SAASizB,IAKT,IAJDj0B,IAAAA,EAASoH,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,GAAmBA,UAAU,GAAK,GAC7E8sB,EAAO,GACPC,EAAW,6BAENr0B,EAAI,EAAGA,EAAIE,EAAQF,IAC1Bo0B,GAAQC,EAASlB,OAAO5kB,KAAKolB,MAAMplB,KAAK4G,SAAWkf,EAASn0B,SAGvDk0B,OAAAA,EAMF,SAASE,EAAalsB,GACpBA,OAAAA,EAAIoV,KAAK,WACPjP,OAAAA,KAAK4G,SAAW,KAOpB,SAASof,EAAcC,GACxBC,IAAAA,EAAa,CACfliB,GAAIiiB,GASCC,MANgB,iBAAZD,IACTC,EAAa,CACXD,QAASA,IAINC,EAGT,SAASC,EAAkB/K,GACrB,OAACA,GACE,EAAUA,EAAAA,SAAAA,GAAG,GADLA,EAIV,IAAI3Z,EAAQ0kB,EAqCZ,QAAA,MAAA,EAnCA,IAAIC,GAAqB,EAAzB,EAAA,WAMA,SAASC,EAAcC,GACxBC,IAAAA,EAAW,GAEV,IAAA,IAAI90B,KAAK60B,EACR,GAACA,EAAGzkB,eAAepQ,GAEnB,GAAiB,iBAAV60B,EAAG70B,GAAiB,CACzB+0B,IAAAA,EAAaH,EAAcC,EAAG70B,IAE7B,IAAA,IAAImS,KAAK4iB,EACPA,EAAW3kB,eAAe+B,KAC/B2iB,EAAS90B,EAAI,IAAMmS,GAAK4iB,EAAW5iB,SAGrC2iB,EAAS90B,GAAK60B,EAAG70B,GAId80B,OAAAA,EAEF,SAASE,EAAoBC,GAC9BC,IAAAA,EAAQD,EAAU9c,MAAM,KAAK,GAC1BlD,OAAAA,SAASigB,EAAO,IAOlB,QAAA,mBAAA,EAAA,IAAIC,EAAe,UAAnB,QAAA,aAAA;;ACtSP,SAAA,EAAA,EAAA,GACA,EAAA,UAAA,OAAA,OAAA,EAAA,WACA,EAAA,UAAA,YAAA,EACA,EAAA,UAAA,EAGA,OAAA,QAAA;;ACNA,SAAA,EAAA,GAIA,OAHA,OAAA,QAAA,EAAA,OAAA,eAAA,OAAA,eAAA,SAAA,GACA,OAAA,EAAA,WAAA,OAAA,eAAA,IAEA,EAAA,GAGA,OAAA,QAAA;;ACPA,SAAA,EAAA,EAAA,GAMA,OALA,OAAA,QAAA,EAAA,OAAA,gBAAA,SAAA,EAAA,GAEA,OADA,EAAA,UAAA,EACA,GAGA,EAAA,EAAA,GAGA,OAAA,QAAA;;ACTA,SAAA,EAAA,GACA,OAAA,IAAA,SAAA,SAAA,KAAA,GAAA,QAAA,iBAGA,OAAA,QAAA;;ACJA,IAAA,EAAA,QAAA,oBAEA,SAAA,IACA,GAAA,oBAAA,UAAA,QAAA,UAAA,OAAA,EACA,GAAA,QAAA,UAAA,KAAA,OAAA,EACA,GAAA,mBAAA,MAAA,OAAA,EAEA,IAEA,OADA,KAAA,UAAA,SAAA,KAAA,QAAA,UAAA,KAAA,GAAA,gBACA,EACA,MAAA,GACA,OAAA,GAIA,SAAA,EAAA,EAAA,EAAA,GAcA,OAbA,IACA,OAAA,QAAA,EAAA,QAAA,UAEA,OAAA,QAAA,EAAA,SAAA,EAAA,EAAA,GACA,IAAA,EAAA,CAAA,MACA,EAAA,KAAA,MAAA,EAAA,GACA,IACA,EAAA,IADA,SAAA,KAAA,MAAA,EAAA,IAGA,OADA,GAAA,EAAA,EAAA,EAAA,WACA,GAIA,EAAA,MAAA,KAAA,WAGA,OAAA,QAAA;;AChCA,IAAA,EAAA,QAAA,oBAEA,EAAA,QAAA,oBAEA,EAAA,QAAA,sBAEA,EAAA,QAAA,eAEA,SAAA,EAAA,GACA,IAAA,EAAA,mBAAA,IAAA,IAAA,SAAA,EA8BA,OA5BA,OAAA,QAAA,EAAA,SAAA,GACA,GAAA,OAAA,IAAA,EAAA,GAAA,OAAA,EAEA,GAAA,mBAAA,EACA,MAAA,IAAA,UAAA,sDAGA,QAAA,IAAA,EAAA,CACA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAEA,EAAA,IAAA,EAAA,GAGA,SAAA,IACA,OAAA,EAAA,EAAA,UAAA,EAAA,MAAA,aAWA,OARA,EAAA,UAAA,OAAA,OAAA,EAAA,UAAA,CACA,YAAA,CACA,MAAA,EACA,YAAA,EACA,UAAA,EACA,cAAA,KAGA,EAAA,EAAA,IAGA,EAAA,GAGA,OAAA,QAAA;;ACCeC,aAAAA,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EAxCf,IAAA,EAAA,QAAA,UACIA,EAAO,CAMTC,iBAAkB,SAA0BC,GACpC,MAAA,EAAc,EAAA,eAAA,eAMtBC,oBAAqB,SAA6BC,GAC1C,MAAA,EAAc,EAAA,eAAA,oBAMtBC,oBAAqB,SAA6BC,GAC1C,MAAA,EAAc,EAAA,eAAA,oBAMtBC,aAAc,SAAsBC,GAC5B,MAAA,EAAc,EAAA,eAAA,kBAMtBC,mBAAoB,SAA4B3zB,GAEvC,MAAA,mBAAqBA,EAAU,qNAAuNA,EAAU,eAG5PkzB,EAAAA,EAAAA,QAAAA,QAAAA;;AC6Ed,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,WAAA,EAAA,QAAA,eAAA,EAAA,QAAA,YAAA,QAAA,aAAA,EAxHD,IAAA,EAAA,EAAA,QAAA,uCACA,EAAA,EAAA,QAAA,yCACA,EAAA,EAAA,QAAA,2CAKA,EAAA,EAAA,QAAA,mBAiHC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA5GD,SAASU,EAAmBC,GACtBptB,IAAAA,EAAM,GACNlI,OAAmC,IAAnCA,OAAOe,KAAKu0B,GAAY71B,OAAqByI,GACjDA,GAAO,wBACPA,GAAOlI,OAAOe,KAAKu0B,GAAY9hB,IAAI,SAAU6H,GACvCka,IAAAA,EAAW,kBAEX,IACFA,EAAW5zB,KAAKC,UAAU0zB,EAAWja,GAAI,SAAUma,EAAIzP,GAC9CA,YAAMviB,IAANuiB,EAAkB,KAAOA,GAC/B,GACH,MAAO5b,IAEFkR,OAAAA,EAAI,IAAMka,IAChB1d,KAAK,MACR3P,GAAO,KAIT,SAASutB,EAAgBh0B,EAAS6zB,GACzB,MAAA,aAAoB7zB,EAAU,KAAO4zB,EAAmBC,GAG1D,IAAII,EAEX,SAAUC,GAGCD,SAAAA,EAAQE,EAAMn0B,GACjB2jB,IAAAA,EAEAkQ,EAAazuB,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,GAAmBA,UAAU,GAAK,GACjFgvB,EAAMJ,EAAgBh0B,EAAS6zB,GAO5BlQ,OANPA,EAAQuQ,EAAOp0B,KAAK,KAAMs0B,IAAQ,MAC5BD,KAAOA,EACbxQ,EAAM3jB,QAAUo0B,EAChBzQ,EAAMkQ,WAAaA,EACnBlQ,EAAM0Q,MAAO,EAEN1Q,EAqBFsQ,OAlCQA,EAAAA,EAAAA,SAAAA,EAASC,GAgBXD,EAAQr1B,UAEdqB,SAAW,WACT,OAAA,KAAKD,UAGDi0B,EAAAA,EAAAA,SAAAA,EAAS,CAAC,CACrB52B,IAAK,OACLwB,IAAK,WACI,MAAA,YAER,CACDxB,IAAK,YACLwB,IAAK,WACI,OAAA,MAIJo1B,EAnCT,EAoCE,EAAiBp0B,EAAAA,SAAAA,QA+ClB,QAAA,QAAA,EA9CM,IAAIy0B,EAEX,SAAUC,GAGCD,SAAAA,EAAYH,EAAMn0B,GACrBokB,IAAAA,EAEAyP,EAAazuB,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,GAAmBA,UAAU,GAAK,GACjFgvB,EAAMJ,EAAgBh0B,EAAS6zB,GAO5BzP,OANPA,EAASmQ,EAAWz0B,KAAK,KAAMs0B,IAAQ,MAChCD,KAAOA,EACd/P,EAAOpkB,QAAUo0B,EACjBhQ,EAAOyP,WAAaA,EACpBzP,EAAOiQ,MAAO,EAEPjQ,EAqBFkQ,OAlCQA,EAAAA,EAAAA,SAAAA,EAAaC,GAgBdD,EAAY11B,UAElBqB,SAAW,WACV,OAAA,KAAKD,UAGDs0B,EAAAA,EAAAA,SAAAA,EAAa,CAAC,CACzBj3B,IAAK,OACLwB,IAAK,WACI,MAAA,YAER,CACDxB,IAAK,YACLwB,IAAK,WACI,OAAA,MAIJy1B,EAnCT,EAoCE,EAAiB9vB,EAAAA,SAAAA,YAGZ,SAASgwB,EAAWL,EAAMN,GACxB,OAAA,IAAII,EAAQE,EAAMM,EAAad,QAAAA,mBAAmBQ,GAAON,GAE3D,SAASa,EAAeP,EAAMN,GAC5B,OAAA,IAAIS,EAAYH,EAAMM,EAAad,QAAAA,mBAAmBQ,GAAON,GACrE,QAAA,YAAA;;ACxCA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,eAAA,EAAA,QAAA,oBAAA,EAAA,QAAA,UAAA,EAAA,QAAA,WAAA,EAzEM,IAAIc,EAAQ,CACjBC,iBAAkB,GAClBC,sBAAuB,GACvBC,mBAAoB,GAMpBC,kBAAmB,GAMnBC,eAAgB,GAChBC,cAAe,GACfC,iBAAkB,GAMlBC,qBAAsB,GAWtBC,iBAAkB,GASlBC,mBAAoB,GAKpBC,oBAAqB,GAKrBC,qBAAsB,IAEjB,SAASC,EAAeC,EAAS7lB,GACtC+kB,EAAMc,GAASr2B,QAAQ,SAAU+O,GACxBA,OAAAA,EAAIyB,KAGR,SAAS8lB,EAAoBD,EAAS7lB,GACpClB,OAAAA,QAAQinB,IAAIhB,EAAMc,GAAS1jB,IAAI,SAAU5D,GACvCA,OAAAA,EAAIyB,MAOR,SAASgmB,EAAU1xB,EAAMiK,GAC9BwmB,EAAMzwB,GAAQywB,EAAMzwB,GAAM+N,OAAO,SAAU4jB,GAClCA,OAAAA,IAAM1nB,IAEhB,QAAA,MAAA;;ACmHA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EAAA,QAAA,OAAA,EAAA,QAAA,WAAA,EAAA,QAAA,QAAA,EAAA,QAAA,WAAA,EAAA,QAAA,UAAA,EAAA,QAAA,YAAA,EAAA,QAAA,aAAA,EAAA,QAAA,SAAA,EAAA,QAAA,OAAA,EAAA,QAAA,SAAA,EAAA,QAAA,eAAA,EAAA,QAAA,QAAA,EAAA,QAAA,iBAAA,EAAA,QAAA,iBAAA,EAAA,QAAA,cAAA,EAAA,QAAA,qBAAA,EAAA,QAAA,aAAA,EAAA,QAAA,gBAAA,EAAA,QAAA,cAAA,EAnLD,IAAI2nB,EAAgB,SAASpE,EAAGzY,GAIrB6c,OAHPA,EAAgBv3B,OAAOw3B,gBAClB,CAAEC,UAAW,cAAgBp4B,OAAS,SAAU8zB,EAAGzY,GAAKyY,EAAEsE,UAAY/c,IACvE,SAAUyY,EAAGzY,GAAU,IAAA,IAAInX,KAAKmX,EAAOA,EAAE/K,eAAepM,KAAI4vB,EAAE5vB,GAAKmX,EAAEnX,MACpD4vB,EAAGzY,IAGrB,SAASgd,EAAUvE,EAAGzY,GAEhBid,SAAAA,IAAYroB,KAAAA,YAAc6jB,EADnCoE,EAAcpE,EAAGzY,GAEjByY,EAAE9yB,UAAkB,OAANqa,EAAa1a,OAAOkG,OAAOwU,IAAMid,EAAGt3B,UAAYqa,EAAEra,UAAW,IAAIs3B,GAG5E,IAAIC,EAAW,WAQXA,OAPPA,QAAAA,SAAAA,EAAW53B,OAAOuR,QAAU,SAAkBsmB,GACrC,IAAA,IAAIpgB,EAAGlY,EAAI,EAAGqI,EAAIf,UAAUpH,OAAQF,EAAIqI,EAAGrI,IAEvC,IAAA,IAAIgE,KADTkU,EAAI5Q,UAAUtH,GACOS,OAAOK,UAAUsP,eAAepO,KAAKkW,EAAGlU,KAAIs0B,EAAEt0B,GAAKkU,EAAElU,IAEvEs0B,OAAAA,GAEJD,EAAS5zB,MAAM,KAAM6C,YAGzB,SAASixB,EAAOrgB,EAAGtN,GAClB0tB,IAAAA,EAAI,GACH,IAAA,IAAIt0B,KAAKkU,EAAOzX,OAAOK,UAAUsP,eAAepO,KAAKkW,EAAGlU,IAAM4G,EAAEkO,QAAQ9U,GAAK,IAC9Es0B,EAAEt0B,GAAKkU,EAAElU,IACTkU,GAAK,MAALA,GAAqD,mBAAjCzX,OAAO0E,sBACtB,CAAA,IAAInF,EAAI,EAAb,IAAgBgE,EAAIvD,OAAO0E,sBAAsB+S,GAAIlY,EAAIgE,EAAE9D,OAAQF,IAC3D4K,EAAEkO,QAAQ9U,EAAEhE,IAAM,GAAKS,OAAOK,UAAUwoB,qBAAqBtnB,KAAKkW,EAAGlU,EAAEhE,MACvEs4B,EAAEt0B,EAAEhE,IAAMkY,EAAElU,EAAEhE,KAEnBs4B,OAAAA,EAGJ,SAASE,EAAWC,EAAY/zB,EAAQnF,EAAKm5B,GAC5C/iB,IAAuHie,EAAvHje,EAAIrO,UAAUpH,OAAQy4B,EAAIhjB,EAAI,EAAIjR,EAAkB,OAATg0B,EAAgBA,EAAOj4B,OAAOC,yBAAyBgE,EAAQnF,GAAOm5B,EACjH,GAAmB,iBAAZn0B,SAAoD,mBAArBA,QAAQq0B,SAAyBD,EAAIp0B,QAAQq0B,SAASH,EAAY/zB,EAAQnF,EAAKm5B,QACpH,IAAK,IAAI14B,EAAIy4B,EAAWv4B,OAAS,EAAGF,GAAK,EAAGA,KAAS4zB,EAAI6E,EAAWz4B,MAAI24B,GAAKhjB,EAAI,EAAIie,EAAE+E,GAAKhjB,EAAI,EAAIie,EAAElvB,EAAQnF,EAAKo5B,GAAK/E,EAAElvB,EAAQnF,KAASo5B,GACzIhjB,OAAAA,EAAI,GAAKgjB,GAAKl4B,OAAOgB,eAAeiD,EAAQnF,EAAKo5B,GAAIA,EAGzD,SAASE,EAAQC,EAAYC,GACzB,OAAA,SAAUr0B,EAAQnF,GAAOw5B,EAAUr0B,EAAQnF,EAAKu5B,IAGpD,SAASE,EAAWC,EAAaC,GAChC,GAAmB,iBAAZ30B,SAAoD,mBAArBA,QAAQ40B,SAAyB,OAAO50B,QAAQ40B,SAASF,EAAaC,GAG7G,SAASE,EAAUC,EAASC,EAAYC,EAAGC,GACvC,OAAA,IAAKD,IAAMA,EAAI3oB,UAAU,SAAU2e,EAASze,GACtC2oB,SAAAA,EAAUv4B,GAAa,IAAEw4B,EAAKF,EAAU3qB,KAAK3N,IAAW,MAAO0J,GAAKkG,EAAOlG,IAC3E+uB,SAAAA,EAASz4B,GAAa,IAAEw4B,EAAKF,EAAS,MAAUt4B,IAAW,MAAO0J,GAAKkG,EAAOlG,IAC9E8uB,SAAAA,EAAK9sB,GAAUA,EAAOmC,KAAOwgB,EAAQ3iB,EAAO1L,OAAS,IAAIq4B,EAAE,SAAUhK,GAAWA,EAAQ3iB,EAAO1L,SAAW+P,KAAKwoB,EAAWE,GACnID,GAAMF,EAAYA,EAAU/0B,MAAM40B,EAASC,GAAc,KAAKzqB,UAI/D,SAAS+qB,EAAYP,EAASQ,GAC7B7M,IAAkGxV,EAAGsiB,EAAGxB,EAAGyB,EAA3G/M,EAAI,CAAEgN,MAAO,EAAGC,KAAM,WAAiB3B,GAAO,EAAPA,EAAE,GAAQ,MAAMA,EAAE,GAAWA,OAAAA,EAAE,IAAO4B,KAAM,GAAIC,IAAK,IACzFJ,OAAAA,EAAI,CAAElrB,KAAMurB,EAAK,GAAaA,MAAAA,EAAK,GAAcA,OAAAA,EAAK,IAAwB,mBAAX/5B,SAA0B05B,EAAE15B,OAAOg6B,UAAY,WAAoB,OAAA,OAAUN,EAC9IK,SAAAA,EAAK/xB,GAAY,OAAA,SAAUme,GAAYkT,OACvCA,SAAKrS,GACN7P,GAAAA,EAAG,MAAM,IAAI9Q,UAAU,mCACpBsmB,KAAAA,GAAG,IACFxV,GAAAA,EAAI,EAAGsiB,IAAMxB,EAAY,EAARjR,EAAG,GAASyS,EAAC,OAAazS,EAAG,GAAKyS,EAAC,SAAexB,EAAIwB,EAAC,SAAexB,EAAEt2B,KAAK83B,GAAI,GAAKA,EAAEjrB,SAAWypB,EAAIA,EAAEt2B,KAAK83B,EAAGzS,EAAG,KAAKtY,KAAM,OAAOupB,EAEnJjR,OADJyS,EAAI,EAAGxB,IAAGjR,EAAK,CAAS,EAARA,EAAG,GAAQiR,EAAEp3B,QACzBmmB,EAAG,IACF,KAAA,EAAQ,KAAA,EAAGiR,EAAIjR,EAAI,MACnB,KAAA,EAAqB,OAAlB2F,EAAEgN,QAAgB,CAAE94B,MAAOmmB,EAAG,GAAItY,MAAM,GAC3C,KAAA,EAAGie,EAAEgN,QAASF,EAAIzS,EAAG,GAAIA,EAAK,CAAC,GAAI,SACnC,KAAA,EAAGA,EAAK2F,EAAEmN,IAAIzxB,MAAOskB,EAAEkN,KAAKxxB,MAAO,SACxC,QACQ,KAAc4vB,GAAZA,EAAItL,EAAEkN,MAAYh6B,OAAS,GAAKo4B,EAAEA,EAAEp4B,OAAS,MAAkB,IAAVmnB,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAE2F,EAAI,EAAG,SAC7F3F,GAAU,IAAVA,EAAG,MAAciR,GAAMjR,EAAG,GAAKiR,EAAE,IAAMjR,EAAG,GAAKiR,EAAE,IAAM,CAAEtL,EAAEgN,MAAQ3S,EAAG,GAAI,MAC1EA,GAAU,IAAVA,EAAG,IAAY2F,EAAEgN,MAAQ1B,EAAE,GAAI,CAAEtL,EAAEgN,MAAQ1B,EAAE,GAAIA,EAAIjR,EAAI,MACzDiR,GAAAA,GAAKtL,EAAEgN,MAAQ1B,EAAE,GAAI,CAAEtL,EAAEgN,MAAQ1B,EAAE,GAAItL,EAAEmN,IAAIpzB,KAAKsgB,GAAK,MACvDiR,EAAE,IAAItL,EAAEmN,IAAIzxB,MAChBskB,EAAEkN,KAAKxxB,MAAO,SAEtB2e,EAAKwS,EAAK73B,KAAKq3B,EAASrM,GAC1B,MAAOpiB,GAAKyc,EAAK,CAAC,EAAGzc,GAAIkvB,EAAI,EAAa,QAAEtiB,EAAI8gB,EAAI,EAClDjR,GAAQ,EAARA,EAAG,GAAQ,MAAMA,EAAG,GAAW,MAAA,CAAEnmB,MAAOmmB,EAAG,GAAKA,EAAG,QAAK,EAAQtY,MAAM,GArB9B2qB,CAAK,CAACrxB,EAAGme,MAyBtD,SAAS8T,EAAa/zB,EAAGX,GACvB,IAAA,IAAI5B,KAAKuC,EAAQX,EAAQwK,eAAepM,KAAI4B,EAAQ5B,GAAKuC,EAAEvC,IAG7D,SAASu2B,EAAS5Q,GACjBpjB,IAAAA,EAAsB,mBAAXlG,QAAyBspB,EAAEtpB,OAAOg6B,UAAWr6B,EAAI,EAC5DuG,OAAAA,EAAUA,EAAEvE,KAAK2nB,GACd,CACH9a,KAAM,WAEK,OADH8a,GAAK3pB,GAAK2pB,EAAEzpB,SAAQypB,OAAI,GACrB,CAAEzoB,MAAOyoB,GAAKA,EAAE3pB,KAAM+O,MAAO4a,KAKzC,SAAS6Q,EAAO7Q,EAAGthB,GAClB9B,IAAAA,EAAsB,mBAAXlG,QAAyBspB,EAAEtpB,OAAOg6B,UAC7C,IAAC9zB,EAAG,OAAOojB,EACX3pB,IAAe24B,EAAY/tB,EAA3B5K,EAAIuG,EAAEvE,KAAK2nB,GAAO8Q,EAAK,GACvB,IACO,WAAO,IAANpyB,GAAgBA,KAAM,MAAQswB,EAAI34B,EAAE6O,QAAQE,MAAM0rB,EAAG1zB,KAAK4xB,EAAEz3B,OAExE,MAAOW,GAAS+I,EAAI,CAAE/I,MAAOA,GACrB,QACA,IACI82B,IAAMA,EAAE5pB,OAASxI,EAAIvG,EAAC,SAAauG,EAAEvE,KAAKhC,GAE1C,QAAM4K,GAAAA,EAAG,MAAMA,EAAE/I,OAEtB44B,OAAAA,EAGJ,SAASC,IACP,IAAA,IAAID,EAAK,GAAIz6B,EAAI,EAAGA,EAAIsH,UAAUpH,OAAQF,IAC3Cy6B,EAAKA,EAAGp1B,OAAOm1B,EAAOlzB,UAAUtH,KAC7By6B,OAAAA,EAGJ,SAASE,IACP,IAAA,IAAIziB,EAAI,EAAGlY,EAAI,EAAG46B,EAAKtzB,UAAUpH,OAAQF,EAAI46B,EAAI56B,IAAKkY,GAAK5Q,UAAUtH,GAAGE,OACxE,IAAIy4B,EAAI74B,MAAMoY,GAAI4D,EAAI,EAAtB,IAAyB9b,EAAI,EAAGA,EAAI46B,EAAI56B,IACzC,IAAK,IAAIkb,EAAI5T,UAAUtH,GAAI4T,EAAI,EAAGinB,EAAK3f,EAAEhb,OAAQ0T,EAAIinB,EAAIjnB,IAAKkI,IAC1D6c,EAAE7c,GAAKZ,EAAEtH,GACV+kB,OAAAA,EAGJ,SAASmC,EAAQtU,GACb,OAAA,gBAAgBsU,GAAW,KAAKtU,EAAIA,EAAG,MAAQ,IAAIsU,EAAQtU,GAG/D,SAASuU,EAAiB1B,EAASC,EAAYE,GAC9C,IAACn5B,OAAO26B,cAAe,MAAM,IAAIt0B,UAAU,wCAC3CqzB,IAAgD/5B,EAAhD+5B,EAAIP,EAAU/0B,MAAM40B,EAASC,GAAc,IAAQ2B,EAAI,GACpDj7B,OAAAA,EAAI,GAAIo6B,EAAK,QAASA,EAAK,SAAUA,EAAK,UAAWp6B,EAAEK,OAAO26B,eAAiB,WAAqB,OAAA,MAASh7B,EAC3Go6B,SAAAA,EAAK/xB,GAAS0xB,EAAE1xB,KAAIrI,EAAEqI,GAAK,SAAUme,GAAY,OAAA,IAAI5V,QAAQ,SAAUsK,EAAGC,GAAK8f,EAAEl0B,KAAK,CAACsB,EAAGme,EAAGtL,EAAGC,IAAM,GAAK+f,EAAO7yB,EAAGme,OACrH0U,SAAAA,EAAO7yB,EAAGme,GAAS,KACdmS,EADqBoB,EAAE1xB,GAAGme,IACnBtlB,iBAAiB45B,EAAUlqB,QAAQ2e,QAAQoJ,EAAEz3B,MAAMslB,GAAGvV,KAAKJ,EAASC,GAAUqqB,EAAOF,EAAE,GAAG,GAAItC,GADpE,MAAO/tB,GAAKuwB,EAAOF,EAAE,GAAG,GAAIrwB,GAClE8uB,IAAKf,EACL9nB,SAAAA,EAAQ3P,GAASg6B,EAAO,OAAQh6B,GAChC4P,SAAAA,EAAO5P,GAASg6B,EAAO,QAASh6B,GAChCi6B,SAAAA,EAAO3jB,EAAGgP,GAAShP,EAAEgP,GAAIyU,EAAEnxB,QAASmxB,EAAE/6B,QAAQg7B,EAAOD,EAAE,GAAG,GAAIA,EAAE,GAAG,KAGzE,SAASG,EAAiBzR,GACzB3pB,IAAAA,EAAGgE,EACAhE,OAAAA,EAAI,GAAIo6B,EAAK,QAASA,EAAK,QAAS,SAAUxvB,GAAWA,MAAAA,IAAOwvB,EAAK,UAAWp6B,EAAEK,OAAOg6B,UAAY,WAAqB,OAAA,MAASr6B,EACjIo6B,SAAAA,EAAK/xB,EAAGmP,GAAKxX,EAAEqI,GAAKshB,EAAEthB,GAAK,SAAUme,GAAY,OAACxiB,GAAKA,GAAK,CAAE9C,MAAO45B,EAAQnR,EAAEthB,GAAGme,IAAKzX,KAAY,WAAN1G,GAAmBmP,EAAIA,EAAEgP,GAAKA,GAAOhP,GAGxI,SAAS6jB,EAAc1R,GACtB,IAACtpB,OAAO26B,cAAe,MAAM,IAAIt0B,UAAU,wCAC3CH,IAA6BvG,EAA7BuG,EAAIojB,EAAEtpB,OAAO26B,eACVz0B,OAAAA,EAAIA,EAAEvE,KAAK2nB,IAAMA,EAAwB,mBAAb4Q,EAA0BA,EAAS5Q,GAAKA,EAAEtpB,OAAOg6B,YAAar6B,EAAI,GAAIo6B,EAAK,QAASA,EAAK,SAAUA,EAAK,UAAWp6B,EAAEK,OAAO26B,eAAiB,WAAqB,OAAA,MAASh7B,GACrMo6B,SAAAA,EAAK/xB,GAAKrI,EAAEqI,GAAKshB,EAAEthB,IAAM,SAAUme,GAAY,OAAA,IAAI5V,QAAQ,SAAU2e,EAASze,IAC9EqqB,SAAO5L,EAASze,EAAQ8iB,EAAGpN,GAAK5V,QAAQ2e,QAAQ/I,GAAGvV,KAAK,SAASuV,GAAK+I,EAAQ,CAAEruB,MAAOslB,EAAGzX,KAAM6kB,KAAS9iB,IADJqqB,CAAO5L,EAASze,GAA7B0V,EAAImD,EAAEthB,GAAGme,IAA8BzX,KAAMyX,EAAEtlB,WAI7I,SAASo6B,EAAqBC,EAAQ9tB,GAElC8tB,OADH96B,OAAOgB,eAAkBhB,OAAOgB,eAAe85B,EAAQ,MAAO,CAAEr6B,MAAOuM,IAAiB8tB,EAAO9tB,IAAMA,EAClG8tB,EAGJ,SAASC,EAAa9Y,GACrBA,GAAAA,GAAOA,EAAI+Y,WAAY,OAAO/Y,EAC9B9V,IAAAA,EAAS,GACT8V,GAAO,MAAPA,EAAa,IAAK,IAAI5G,KAAK4G,EAASjiB,OAAO2P,eAAepO,KAAK0gB,EAAK5G,KAAIlP,EAAOkP,GAAK4G,EAAI5G,IAErFlP,OADPA,EAAO8uB,QAAUhZ,EACV9V,EAGJ,SAAS+uB,EAAgBjZ,GACpBA,OAAAA,GAAOA,EAAI+Y,WAAc/Y,EAAM,CAAEgZ,QAAShZ,GACrD,QAAA,SAAA;;ACjMA,aADC,SAAO,EAAa,GACrB,MAAA,mBAAA,EAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,WAAA;;ACSC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,YAAA,EALF,IAAA,GAAsB,EAKb,EAAE,CAUT,aAAI,EACF,0CAAW,GACT,IACa,IAAA,OACd,MAIF,EAAA,GAGC,4CACD,OAAA,IAtBD,QAAA,OAAA;;ACJD,aADC,SAAW,EAAQ,GACpB,WAAA,WAAA,MAAA,GAAA,GAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,gBAAA;;ACFC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,WAAA,EAHF,IAAA,EAAA,QAAA,YAEA,EAAA,QAAA,0BACQ,EAAM,CACZ,QAAA,EACA,KAAK,SAAL,KACE,MAAA,SAAW,GACT,GAAA,EAAM,OAAA,sCACP,MAAA,GAEA,EAAA,EAAA,iBAAA,IAGH,SAAA,cAVA,QAAA,MAAA;;ACLF,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,IAAA,EAAA,WAAA,OAAA,MAAA,SAAA,SAAA,GAAA,OAAA,GAAA,iBAAA,EAAA,QAAA,GAAA,QAAA,QAAA;;ACEC,aADC,SAAQ,EAAa,GACtB,OAAA,OAAA,GAAA,iBAAA,EAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,SAAA;;ACO0D,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,yBAAA,EAAzD,IAAA,EAAyD,WAClD,SAAA,EAAY,GAOlB,OANC,MAAK,KAAA,MACA,KAAA,QAAO,EAER,EAAK,OAAG,4CAAsB,EAAA,IAAA,SAAA,EAAA,GAAA,OAAA,EAAA,EAAA,KAAA,EAAA,aAAA,KAAA,QAAA,GAC7B,KAAA,KAAM,sBACX,KAAA,OAAY,EACb,KAKE,OADH,EAAO,UAAwB,OAAA,OAAA,MAAA,WAC5B,EAbsD,GAAA,EAAA,EAAA,QAAA,oBAAA;;ACyM1D,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,kBAAA,EAjND,IAAA,EAAA,QAAA,kBACA,EAAA,QAAA,mBACA,EAAA,QAAA,qBAeA,EAAA,QAAA,8BAsBE,EAAY,WAXL,SAAA,EAAkB,GAGf,KAAA,QAAA,EAEF,KAAA,iBAAqC,KAOvC,KAAA,eAAa,KACR,IACR,KAAA,aAAA,GAtBc,IAAK,EAyLvB,OAzJO,EAAA,UAAc,YAAA,WAEd,IAAA,EACF,IAAA,KAAA,OAAA,CAKE,IAAU,EAAT,KAAc,iBAAA,EAAd,KAAc,aAAA,EAAd,KAAc,eAOjB,GANG,KAAA,QAAA,EAGA,KAAA,iBAAiB,KAElB,KAAA,eAAgB,KAClB,aAA4B,EAC7B,EAAA,OAAA,WACC,GAAyB,OAApB,EACH,IAAA,IAAM,EAAM,EAAG,EAAA,EAAwB,SAAA,EAAA,CAC1B,EAAO,GACrB,OAAA,MAID,IAAA,EAAI,EAAA,YAAA,GACF,IACD,EAAA,KAAA,MACC,MAAA,GACD,EAAA,aAAA,EAAA,oBAAA,EAAA,EAAA,QAAA,CAAA,GAID,IAAA,EAAI,EAAA,SAAA,GACA,CAAA,GAAM,EAGR,IAHE,IAEJ,EAAS,EAAa,SACd,EAAM,GAAA,CACR,IAAA,EAAA,EAAe,GACjB,IAAA,EAAI,EAAA,UAAA,GACF,IACD,EAAA,cACC,MAAA,GACA,EAAK,GAAY,GACf,aAAS,EAAc,oBACxB,EAAA,EAAA,OAAA,EAAA,EAAA,SAEA,EAAA,KAAA,KAOP,GAAA,EACD,MAAA,IAAA,EAAA,oBAAA,KAwBG,EAAA,UAA8B,IAAA,SAAU,GAExC,IAAA,EAAkB,EACpB,IAAA,EACD,OAAA,EAAA,MAGC,cAAK,GACH,IAAA,WACF,EAAa,IAAA,EAAA,GACX,IAAA,SAEE,GAAA,IAAO,MAAa,EAAA,QAAA,mBAAA,EAAA,YACrB,OAAA,EACC,GAAA,KAAA,OAED,OADC,EAAO,cACR,EACC,KAAS,aAAgB,GAAA,CACzB,IAAA,EAAA,GACA,EAAa,IAAA,GACd,eAAA,CAAA,GAEH,MAyDL,QAvDM,MAAA,IAAA,MAAA,yBAAA,EAAA,2BAKC,IAAA,EAAgB,EAAW,iBAG7B,GAAa,OAAb,EACD,EAAA,iBAAA,UACC,GAAI,aAA2B,EAAA,CAE7B,GAAA,IAAoB,KACrB,OAAA,EAIF,EAAA,iBAAA,CAAA,EAAA,UAEC,CAAA,IAA4B,IAA5B,EAAsB,QAAM,MAI7B,OAAA,EAHA,EAAA,KAAA,MAOG,IAAA,EAAa,KAAK,eAOvB,OANQ,OAAL,EACD,KAAA,eAAA,CAAA,GAEA,EAAA,KAAA,GAGF,GASO,EAAA,UAAa,OAAQ,SAAA,GACvB,IAAA,EAAe,KAAA,eACjB,GAAA,EAAM,CACF,IAAA,EAAiB,EAAS,QAAA,IACP,IAArB,GACD,EAAA,OAAA,EAAA,KAtLG,EAAA,QAAc,EAyLxB,IAAA,GAxLI,QAAa,EACT,GAuLP,EAtKa,GAyKb,SAAA,EAAsB,GACtB,OAAA,EAAA,OAAA,SAAA,EAAA,GAAA,OAAA,EAAA,OAAA,aAAA,EAAA,oBAAA,EAAA,OAAA,IAAA,IAAA,QAAA,aAAA;;AChNC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,eAAA,QAAA,kBAAA,EAAA,IAAA,EAA4B,WACxB,MAAO,mBAAA,OACP,OAAoB,gBAAiB,kBAAA,KAAA,SAFb,GAA5B,QAAA,aAAA,EAAA,IAAA,EAAA,EAAA,QAAA,eAAA;;ACsKqC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,eAAA,QAAA,gBAAA,EAxKvC,IAAA,EAAA,EAAA,QAAA,UACA,EAAA,QAAA,qBAEA,EAAA,QAAA,cACA,EAAA,QAAA,kBACA,EAAA,QAAA,mCACA,EAAA,QAAA,YAYA,EAAA,QAAA,0BAsJuC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAtJJ,IAAA,EAAA,SAAY,GAuC7C,SAAA,EAGE,EAAO,EA2BR,GA7CgB,IAAA,EAAA,EAAA,KAAsB,OAAK,KAqBxC,OApBa,EAAA,eAAe,KACf,EAAA,iBAAkB,EAEzB,EAAA,oBAA2B,EAgBnC,EAAA,WAAkB,EAChB,UAAM,QACJ,KAAA,EACA,EAAM,YAAA,EAAN,MACF,MACE,KAAA,EACE,IAAA,EAAmB,CACnB,EAAM,YAAA,EAAN,MACD,MAEC,GAAqB,iBAAjB,EAA6B,CAC/B,aAA0B,GAC1B,EAAK,mBAAc,EAAkB,mBACrC,EAAA,YAAkB,EACnB,EAAA,IAAA,KAEC,EAAK,oBAAkB,EACxB,EAAA,YAAA,IAAA,EAAA,EAAA,IAEF,MAuF8B,QApF/B,EAAK,oBAAkB,EACvB,EAAM,YAAA,IAAA,EAAA,EAAA,EAAA,EAAA,GAEX,OAAA,EArEgC,OAuCjC,EAAA,UAAA,EAAY,GAvBL,EAAA,UAAP,EAAO,cAEU,WAAqB,OAAA,MAC9B,EAAA,OAAU,SAAO,EAAW,EAAM,GACxC,IAAA,EAAW,IAAA,EAAqB,EAAM,EAAA,GAEvC,OADC,EAAO,oBAAW,EACnB,GAyDM,EAAA,UAAK,KAAW,SAAA,GACnB,KAAK,WACN,KAAA,MAAA,IAWI,EAAA,UAAK,MAAW,SAAA,GACnB,KAAK,YACA,KAAA,WAAY,EAClB,KAAA,OAAA,KAUI,EAAA,UAAK,SAAW,WACnB,KAAK,YACA,KAAA,WAAY,EAClB,KAAA,cAIG,EAAA,UAAa,YAAA,WACf,KAAA,SAGF,KAAA,WAAM,EACP,EAAA,UAAA,YAAA,KAAA,QAGM,EAAA,UAAY,MAAK,SAAO,GAC9B,KAAA,YAAA,KAAA,IAGM,EAAA,UAAY,OAAS,SAAE,GACvB,KAAA,YAAW,MAAG,GACpB,KAAA,eAGM,EAAA,UAAY,UAAW,WACvB,KAAA,YAAW,WACjB,KAAA,eAIU,EAAA,UAAA,uBAAA,WACL,IAAA,EAAiB,KAAO,iBAM7B,OALM,KAAA,iBAAc,KACd,KAAA,cACA,KAAA,QAAS,EACT,KAAA,WAAA,EACL,KAAA,iBAAY,EACb,MA9IgC,EAAA,CAAA,EAAA,cAsJI,QAAA,WAAA,EAAA,IAAA,EAAA,SAAa,GAIlD,SAAA,EAIE,EAwBD,EAAA,EAAA,GA5BmB,IAOd,EAPc,EAAA,EAAA,KAAiB,OAAjB,KAMlB,EAAI,kBAA2B,EAG3B,IAAA,EAAU,EAmBf,OAlBG,EAA+B,EAAA,YAAA,GAChC,EAAA,EACK,IACJ,EAAK,EAAwC,KAC7C,EAAQ,EAAyB,MACjC,EAAI,EAAmB,SACrB,IAAiB,EAAO,QACxB,EAAI,OAAW,OAAQ,IACrB,EAAsB,EAAA,YAAA,EAAQ,cAC/B,EAAA,IAAA,EAAA,YAAA,KAAA,IAEF,EAAA,YAAA,EAAA,YAAA,KAAA,KAIH,EAAK,SAAQ,EACb,EAAK,MAAM,EACX,EAAK,OAAS,EA/BqB,EAAA,UAAA,EAgCpC,EAhCoC,OAIrC,EAAA,UAAA,EAAoB,GA+BR,EAAA,UAAS,KAAS,SAAO,GACzB,IAAA,KAAA,WAAA,KAAA,MAAA,CACJ,IAAA,EAAQ,KAAA,kBACV,EAAK,OAAA,uCAAgC,EAAA,mBAEhC,KAAA,gBAAc,EAAA,KAAA,MAAA,IACpB,KAAA,cAFA,KAAA,aAAA,KAAA,MAAA,KAOO,EAAA,UAAW,MAAA,SAAA,GACX,IAAA,KAAA,UAAA,CACA,IAAA,EAAA,KAAA,kBACJ,EAAa,EAAA,OAAA,sCACf,GAAA,KAAK,OACH,GAAoC,EAAA,oBAI/B,KAAA,gBAAc,EAAA,KAAA,OAAA,GACpB,KAAA,gBAJM,KAAA,aAAa,KAAC,OAAA,GACpB,KAAA,oBAKD,GAAK,EAAc,mBAOjB,GACA,EAAkB,eAAe,EAClC,EAAA,iBAAA,IAEA,EAAA,EAAA,iBAAA,GAEF,KAAA,kBAboB,CAEjB,GADE,KAAA,cACF,EACD,MAAA,GAEF,EAAA,EAAA,iBAAA,MAYL,EAAA,UAiBC,SAAA,WAhBK,IAAA,EAAM,KACA,IAAA,KAAA,UAAA,CACJ,IAAA,EAAgB,KAAA,kBAClB,GAAA,KAAM,UAAA,CAEF,IAAA,EAAQ,WAAA,OAAA,EAAqC,UAAK,KAAA,EAAA,WACpD,EAAK,OAAA,uCAA8B,EAAA,oBAI9B,KAAA,gBAAc,EAAA,GACpB,KAAA,gBAJM,KAAA,aAAa,GACnB,KAAA,oBAMF,KAAA,gBAKC,EAAA,UAAA,aAAA,SAAA,EAAA,GACF,IACD,EAAA,KAAA,KAAA,SAAA,GACC,MAAA,GAEE,GADE,KAAA,cACF,EAAM,OAAA,sCACP,MAAA,GAEA,EAAA,EAAA,iBAAA,KAKE,EAAM,UAAC,gBAAA,SAAqC,EAAE,EAAA,GACjD,IAAA,EAAM,OAAA,sCACP,MAAA,IAAA,MAAA,YAEC,IACD,EAAA,KAAA,KAAA,SAAA,GACC,MAAA,GACE,OAAA,EAAO,OAAA,uCACP,EAAO,eAAe,EACtB,EAAO,iBAAK,GACb,KAEa,EAAA,EAAA,iBAAA,IACb,GAGJ,OAAA,GAIS,EAAA,UAAA,aAAA,WACJ,IAAA,EAAiB,KAAA,kBAChB,KAAA,SAAA,KACL,KAAA,kBAAkB,KACnB,EAAA,eApIoC,EAAA,CAAA,GAAA,QAAA,eAAA;;ACnJtC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,eAAA,EAZD,IAAA,EAAA,QAAA,iBACE,SAAO,EAAU,GACT,KAAA,GAAA,CACF,IAAA,EAAA,EAAU,EAAW,EAAA,OAAA,EAAA,EAAA,YAAA,EAAA,EAAA,UACvB,GAAA,GAAY,EACb,OAAA,EAEA,EADC,GAAW,aAAY,EAAvB,WACD,EAEA,KAGJ,OAAA;;ACIA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAxBD,IAAA,EAAA,QAAA,iBACA,EAAA,QAAA,0BAGA,EAAA,QAAA,eAKE,SAAI,EAAgB,EAAA,EAAA,GAClB,GAAA,EAAI,CACF,GAAA,aAAwC,EAAA,WACzC,OAAA,EAGC,GAAA,EAAO,EAAA,cACR,OAAA,EAAA,EAAA,gBAID,OAAA,GAAW,GAAW,EAIzB,IAAA,EAAA,WAAA,EAAA,EAAA,GAHE,IAAA,EAAA,WAAA,EAAA;;ACZH,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,gBAAA,EAAA,IAAA,EAAA,WAAA,MAAA,mBAAA,QAAA,OAAA,YAAA,eAAA,GAAA,QAAA,WAAA;;ACTA,aAAA,SAAA,KAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,KAAA;;ACiCC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,KAAA,EAAA,QAAA,cAAA,EAjBD,IAAA,EAAA,QAAA,UAAqB,SAAA,IAAA,IAAA,IAAA,EAAA,GAAA,EAAA,EAAA,EAAA,UAAsC,OAAA,IAiB1D,EAAA,GAAA,UAAA,GAfA,OAAA,EAAA,GAIC,SAAU,EAAA,GACR,OAAA,EAIc,IAAd,EAAA,OACD,EAAA,GAGC,SAAkB,GAClB,OAAA,EAAA,OAAA,SAAA,EAAA,GAAA,OAAA,EAAA,IAAA,IARD,EAAA;;ACoWF,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,gBAAA,EAxXD,IAAA,EAAA,QAAA,yBAGA,EAAA,QAAA,uBACA,EAAA,QAAA,uBACA,EAAA,QAAA,eAQA,EAAA,QAAA,YAkBE,EAAY,WAfL,SAAA,EAAS,GAgBV,KAAA,WAAW,EACb,IACD,KAAA,WAAA,GAmUJ,OAxSS,EAAA,UAAa,KAAI,SAAgB,GACvC,IAAA,EAAiB,IAAG,EAGrB,OAFC,EAAW,OAAQ,KACnB,EAAO,SAAW,EACnB,GA2IS,EAAA,UAAA,UAAkB,SAAA,EAAA,EAAA,GACpB,IAAA,EAAO,KAAA,SAET,GAAA,EAAU,EAAA,cAAA,EAAA,EAAA,GAWZ,GAVA,EACD,EAAA,IAAA,EAAA,KAAA,EAAA,KAAA,SAGG,EAAA,IAAK,KAAA,QAAgB,EAAE,OAAA,wCAAA,EAAA,mBACvB,KAAK,WAAA,GAER,KAAA,cAAA,IAGC,EAAI,OAAA,uCACF,EAAK,qBACL,EAAI,oBAAsB,EACxB,EAAA,iBACD,MAAA,EAAA,eAKN,OAAA,GAIK,EAAA,UAAA,cAAA,SAAA,GACF,IACD,OAAA,KAAA,WAAA,GACC,MAAA,GACE,EAAK,OAAA,wCACL,EAAK,iBAAiB,EACvB,EAAA,eAAA,IAEC,EAAe,EAAA,gBAAA,GAChB,EAAA,MAAA,GAEA,QAAA,KAAA,KAWL,EAAA,UAkBC,QAAA,SAAA,EAAA,GAjBC,IAAA,EAAW,KAKT,OAAA,IAHF,EAAW,EAAkB,IAGI,SAAA,EAAA,GAC/B,IAAA,EACM,EAAA,EAAA,UAAA,SAAA,GACF,IACD,EAAA,GACC,MAAA,GACA,EAAI,GACF,GACD,EAAA,gBAGa,EAAA,MAKZ,EAAA,UAAA,WAAgB,SAAA,GACxB,IAAA,EAAa,KAAI,OAClB,OAAA,GAAA,EAAA,UAAA,IAqBC,EAAO,UAAK,EAAA,YAAA,WACb,OAAA,MAoCI,EAAA,UAAA,KAA2C,WAA3C,IAAA,IAAA,EAAA,GAAA,EAAA,EAAA,EAAA,UAAA,OAA2C,IAyCjD,EAAA,GAAA,UAAA,GAvCK,OAAmB,IAAnB,EAAkB,OACnB,MAGF,EAAA,EAAA,eAAA,EAAA,CAAA,OAQD,EAAA,UAOC,UAAA,SAAA,GANC,IAAA,EAAW,KAGT,OAAA,IADF,EAAW,EAAY,IACN,SAAA,EAAA,GACf,IAAA,EACe,EAAA,UAAA,SAAA,GAAA,OAAA,EAAA,GAAA,SAAA,GAAA,OAAA,EAAA,IAAA,WAAA,OAAA,EAAA,QAjTjB,EAAO,OAAI,SAAc,GAC1B,OAAA,IAAA,EAAA,IAkTF,EAtUa,GAgVP,SAAA,EAAa,GAKhB,GAJA,IACD,EAAA,EAAA,OAAA,SAAA,UAGC,EACD,MAAA,IAAA,MAAA,yBAGF,OAAA,EAAA,QAAA,WAAA;;ACrXqC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,6BAAA,EAApC,IAAA,EAAoC,WAC7B,SAAA,IAIN,OAHC,MAAK,KAAA,MACA,KAAA,QAAO,sBACZ,KAAA,KAAY,0BACb,KAKE,OADH,EAAO,UAA4B,OAAA,OAAA,MAAA,WAChC,EAViC,GAAA,EAAA,EAAA,QAAA,wBAAA;;ACCM,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,yBAAA,EAP5C,IAAA,EAAA,EAAA,QAAA,UAOA,EAAA,QAAA,kBAA4C,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAAA,IAAA,EAAA,SAAY,GAGtD,SAAA,EACE,EAAO,GADU,IAAA,EAAA,EAAA,KAAmB,OAAA,KAErC,OAF8C,EAAA,QAAU,EAFzD,EAAA,WAAkB,EADwB,EAAA,QAAA,EAKzC,EALyC,OAG1C,EAAA,UAAA,EAA+C,GAK9B,EAAA,UAAE,YAAA,WACf,IAAA,KAAA,OAAA,CAKI,KAAA,QAAU,EACV,IAAA,EAAS,KAAG,QAEd,EAAW,EAAK,UAGlB,GADG,KAAA,QAAS,KACZ,GAAO,IAAA,EAAA,SAAA,EAAA,YAAA,EAAA,OAAP,CAKE,IAAA,EAAe,EAAS,QAAA,KAAA,aACT,IAAjB,GACD,EAAA,OAAA,EAAA,MA3BuC,EAAA,CAAA,EAAA,cAAA,QAAA,oBAAA;;AC8IH,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,iBAAA,QAAA,QAAA,QAAA,uBAAA,EAtJzC,IAAA,EAAA,EAAA,QAAA,UACA,EAAA,QAAA,gBACA,EAAA,QAAA,gBAEA,EAAA,QAAA,kBACA,EAAA,QAAA,kCACA,EAAA,QAAA,yBAKA,EAAA,QAAA,mCA2IyC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EA3IC,IAAA,EAAA,SAAa,GACrD,SAAA,EACE,GADoB,IAAA,EAAA,EAAW,KAAX,KAAA,IAAuB,KAE5C,OAwIsC,EAAA,YAAA,EAxItC,EAHuC,OACxC,EAAA,UAAA,EAAsB,GADkB,EAAA,CAAA,EAAA,YA2ID,QAAA,kBAAA,EA5HT,IAAA,EAAA,SAAa,GAgB3C,SAAA,IAVA,IAAA,EAAA,EAA2B,KAAG,OAAA,KAY7B,OAVD,EAAA,UAAS,GAET,EAAA,QAAS,EAET,EAAA,WAAW,EAEX,EAAA,UAAW,EA8G4B,EAAA,YAAA,KA1GtC,EAlB6B,OAgB9B,EAAA,UAAA,EAAA,GAbE,EAAA,UAAW,EAAwB,cAAA,WACpC,OAAA,IAAA,EAAA,OAwBC,EAAM,UAAU,KAAI,SAAA,GACpB,IAAA,EAAQ,IAAQ,EAAiB,KAAA,MAElC,OADC,EAAY,SAAQ,EACrB,GAGC,EAAI,UAAK,KAAQ,SAAA,GACf,GAAA,KAAA,OACD,MAAA,IAAA,EAAA,wBAES,IAAA,KAAA,UAIN,IAHI,IAAA,EAAM,KAAU,UAChB,EAAI,EAAY,OACtB,EAAU,EAAU,QACb,EAAG,EAAI,EAAC,EAAO,IACrB,EAAA,GAAA,KAAA,IAKH,EAAI,UAAK,MAAQ,SAAA,GACf,GAAA,KAAA,OACD,MAAA,IAAA,EAAA,wBAEI,KAAA,UAAW,EACX,KAAA,YAAY,EACT,KAAA,WAAA,EAIN,IAHI,IAAA,EAAM,KAAU,UAChB,EAAI,EAAY,OACtB,EAAU,EAAU,QACb,EAAG,EAAA,EAAM,EAAK,IACpB,EAAA,GAAA,MAAA,GAEF,KAAA,UAAA,OAAA,GAGC,EAAI,UAAK,SAAQ,WACf,GAAA,KAAA,OACD,MAAA,IAAA,EAAA,wBAEO,KAAA,WAAA,EAIN,IAHI,IAAA,EAAM,KAAU,UAChB,EAAI,EAAY,OACtB,EAAU,EAAU,QACb,EAAG,EAAA,EAAQ,EAAG,IACpB,EAAA,GAAA,WAEF,KAAA,UAAA,OAAA,GAGC,EAAI,UAAU,YAAQ,WACjB,KAAA,WAAS,EACT,KAAA,QAAS,EACf,KAAA,UAAA,MAIC,EAAI,UAAK,cAAQ,SAAA,GACf,GAAA,KAAA,OACD,MAAA,IAAA,EAAA,wBAEA,OAAA,EAAA,UAAA,cAAA,KAAA,KAAA,IAKD,EAAI,UAAK,WAAQ,SAAA,GACf,GAAA,KAAA,OACD,MAAA,IAAA,EAAA,wBACC,OAAA,KAAU,UACV,EAAO,MAAA,KAAa,aACrB,EAAA,aAAA,OACC,KAAU,WACV,EAAO,WACR,EAAA,aAAA,QAEC,KAAA,UAAW,KAAA,GACZ,IAAA,EAAA,oBAAA,KAAA,KAUD,EAAM,UAAU,aAAO,WACjB,IAAA,EAAkB,IAAG,EAAH,WAEzB,OADC,EAAO,OAAW,KACnB,GA9FC,EAAA,OAAW,SAAA,EAAoB,GAChC,OAAA,IAAA,EAAA,EAAA,IAzB6B,EAAA,CAAA,EAAA,YA4HS,QAAA,QAAA,EAAA,IAAA,EAAA,SAAU,GACjD,SAAA,EACE,EAAO,GADa,IAAA,EAAA,EAAW,KAAX,OAAyB,KAG9C,OADC,EAAK,YAAS,EAHuB,EAAA,OAAA,EAItC,EAJ6C,OAC9C,EAAA,UAAA,EAAsB,GAMZ,EAAA,UAAA,KAAA,SAAqB,GACzB,IAAA,EAAW,KAAI,YACjB,GAAY,EAAY,MACzB,EAAA,KAAA,IAIO,EAAA,UAAA,MAAA,SAAqB,GACzB,IAAA,EAAW,KAAI,YACjB,GAAK,EAAsB,OAC5B,KAAA,YAAA,MAAA,IAIO,EAAA,UAAA,SAAW,WACf,IAAA,EAAW,KAAI,YACjB,GAAK,EAAsB,UAC5B,KAAA,YAAA,YAKO,EAAA,UAAA,WAAgB,SAAA,GAEtB,OADU,KAAA,OAEX,KAAA,OAAA,UAAA,GAEA,EAAA,aAAA,OAlC2C,EAAP,CAAA,GAAA,QAAA,iBAAA;;AClEL,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,SAAA,EApFpC,IAAA,EAAA,EAAA,QAAA,UA2DA,EAAA,QAAA,iBAyBoC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAxBlC,SAAO,IACL,OAAA,SAAuB,GACQ,OAAA,EAAA,KAAA,IAAA,EAAA,KAIjC,IAAA,EAAoB,WAAA,SAAA,EAAA,GACnB,KAAA,YAAA,EAeF,OAZW,EAAA,UAAA,KAAA,SAAqB,EAAA,GACtB,IAAA,EAAa,KAAW,YAE/B,EAAM,YACA,IAAA,EAAY,IAAG,EAAiB,EAAY,GAE9C,EAAY,EAAQ,UAAA,GAKzB,OAJU,EAAY,SACpB,EAAA,WAAA,EAAA,WAGF,GACF,EAhBqB,GAkBc,EAAA,SAAa,GAI/C,SAAA,EAEE,EAAM,GADY,IAAA,EAAA,EAAW,KAAX,KAAA,IAAqC,KAExD,OAPiC,EAAA,YAAA,EAOjC,EAPiC,OAIlC,EAAA,UAAA,EAAY,GAOF,EAAA,UAAA,aAAqB,WACzB,IAAA,EAAc,KAAA,YAChB,GAAA,EAAA,CAKI,KAAA,YAAkB,KACpB,IAAA,EAAQ,EAAO,UACjB,GAAA,GAAK,EACL,KAAA,WAAO,UAKP,GADF,EAAY,UAAM,EAAA,EAChB,EAAK,EACL,KAAA,WAAO,SADP,CA6BI,IAAA,EAAA,KAAgB,WAClB,EAAmB,EAAA,YAEnB,KAAA,WAAA,MACF,GAAiB,GAAc,IAAA,GAChC,EAAA,oBA9CC,KAAA,WAAO,MAduB,EAAA,CAAA,EAAA;;ACmCA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,gCAAA,QAAA,2BAAA,EAxHpC,IAAA,EAAA,EAAA,QAAA,UAEA,EAAA,QAAA,cACA,EAAA,QAAA,iBACA,EAAA,QAAA,iBAEA,EAAA,QAAA,mBAKA,EAAA,QAAA,yBA6GoC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EA7GU,IAAA,EAAA,SAAa,GAQzD,SAAA,EAEE,EAAO,GAFU,IAAA,EAAM,EAAN,KAAqB,OAAA,KAGvC,OAFqB,EAAA,OAAA,EANZ,EAAA,eAAsB,EAGhC,EAAA,UAAW,EAuGuB,EAAA,aAAA,EAlGjC,EAX2C,OAQ5C,EAAA,UAAA,EACsB,GAMR,EAAA,UAAa,WAAU,SAAY,GAChD,OAAA,KAAA,aAAA,UAAA,IAGiB,EAAI,UAAU,WAAA,WAC1B,IAAA,EAAQ,KAAI,SAIjB,OAHG,IAAK,EAAe,YACrB,KAAA,SAAA,KAAA,kBAEF,KAAA,UAGkB,EAAA,UAAK,QAAY,WAC9B,IAAA,EAAa,KAAA,YAWlB,OAVG,IACA,KAAA,aAAkB,GAClB,EAAW,KAAI,YAAW,IAAA,EAAA,cACvB,IAAU,KAAI,OACb,UAAW,IAAA,EAAQ,KAAA,aAAA,QACrB,EAAK,SACL,KAAA,YAAa,KACd,EAAA,EAAA,aAAA,QAGJ,GAGQ,EAAA,UAAqB,SAAwB,WACrD,OAAA,EAAA,EAAA,WAAA,CAAA,OA3C2C,EAAA,CAAA,EAAA,YA6GV,QAAA,sBAAA,EA9DlC,IAAM,EAAwD,WAC9D,IAAA,EAAO,EAAA,UACL,MAAA,CACA,SAAS,CAAE,MAAO,MAClB,UAAU,CAAE,MAAO,EAAY,UAAU,GACzC,SAAA,CAAW,MAAI,KAAO,UAAc,GACpC,YAAY,CAAE,MAAO,KAAA,UAAiB,GACtC,WAAW,CAAE,MAAO,EAAkB,YACtC,YAAY,CAAE,MAAO,EAAiB,YAAY,UAAA,GAClD,WAAW,CAAA,MAAO,EAAiB,YACnC,QAAQ,CAAE,MAAO,EAAkB,SACnC,SAAA,CAAA,MAAA,EAAA,WAX4D,GA8D5B,QAAA,gCAAA,EAhDG,IAAA,EAAA,SAAoB,GACzD,SAAA,EAEE,EAAM,GADY,IAAA,EAAA,EAAW,KAAX,KAAA,IAAqC,KAExD,OA4CiC,EAAA,YAAA,EA5CjC,EAJoC,OACrC,EAAA,UAAA,EAAY,GAKO,EAAA,UAAG,OAAA,SAAA,GACpB,KAAA,eACD,EAAA,UAAA,OAAA,KAAA,KAAA,IAEkB,EAAA,UAAW,UAAQ,WAC/B,KAAA,YAAY,aAAG,EACpB,KAAA,eACD,EAAA,UAAA,UAAA,KAAA,OAEkB,EAAQ,UAAK,aAAY,WACtC,IAAA,EAAa,KAAA,YACf,GAAA,EAAK,CACC,KAAA,YAAa,KACnB,IAAA,EAAY,EAAc,YAC1B,EAAY,UAAW,EACvB,EAAY,SAAW,KACvB,EAAI,YAAY,KACd,GACD,EAAA,gBAxBgC,EAAA,CA6BvC,EA7BuC,mBA8BrC,EAAoB,WAAA,SAAA,EAAA,GACnB,KAAA,YAAA,EAeF,OAZW,EAAA,UAAA,KAAA,SAAqB,EAAA,GACtB,IAAA,EAAa,KAAW,YAE/B,EAAM,YACA,IAAA,EAAY,IAAG,EAAiB,EAAY,GAE9C,EAAY,EAAQ,UAAA,GAKzB,OAJU,EAAY,SACpB,EAAA,WAAA,EAAA,WAGF,GACF,EAhBqB,GAkBc,EAAA,SAAa,GAI/C,SAAA,EAEE,EAAM,GADY,IAAA,EAAA,EAAW,KAAX,KAAA,IAAqC,KAExD,OAPiC,EAAA,YAAA,EAOjC,EAPiC,OAIlC,EAAA,UAAA,EAAY,GAOF,EAAA,UAAA,aAAqB,WACzB,IAAA,EAAc,KAAA,YAChB,GAAA,EAAA,CAKI,KAAA,YAAkB,KACpB,IAAA,EAAQ,EAAO,UACjB,GAAA,GAAK,EACL,KAAA,WAAO,UAKP,GADF,EAAY,UAAM,EAAA,EAChB,EAAK,EACL,KAAA,WAAO,SADP,CA4BI,IAAA,EAAA,KAAgB,WAClB,EAAmB,EAAA,YAEnB,KAAA,WAAA,MACF,GAAiB,GAAc,IAAA,GAChC,EAAA,oBA7CC,KAAA,WAAO,MAduB,EAAA,CAAA,EAAA;;ACsLI,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EAAA,QAAA,uBAAA,EA9SxC,IAAA,EAAA,EAAA,QAAA,UACA,EAAA,QAAA,iBACA,EAAA,QAAA,mBAEA,EAAA,QAAA,iBAoGA,EAAA,QAAA,cAsMwC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAlMtC,SAAO,EAAC,EAAqB,EAAA,EAAA,GAC3B,OAAA,SAAM,GAA4F,OAAA,EAAA,KAAA,IAAA,EAAA,EAAA,EAAA,EAAA,KAWpG,IAAA,EAAoB,WAAA,SAAA,EAAA,EAA4B,EAAA,EAAA,GAC5B,KAAA,YAAA,EACA,KAAA,gBAAgB,EAChB,KAAA,iBAAA,EACnB,KAAA,gBAAA,EAOF,OAJU,EAAA,UAAO,KAAc,SAAA,EAC1B,GAEH,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,YAAA,KAAA,gBAAA,KAAA,iBAAA,KAAA,mBACF,EAXqB,GAkBmB,EAAA,SAAa,GAKpD,SAAA,EAKE,EAAM,EAAY,EACnB,EAAA,GALmB,IAAA,EAAA,EAAW,KAAX,KAAA,IAA4B,KAK/C,OAJmB,EAAA,YAAA,EACA,EAAA,gBAAgB,EAChB,EAAA,iBAAA,EARZ,EAAA,gBAAsC,EACvC,EAAA,OAAA,KACA,EAAA,wBAAkB,EAiKa,EAAA,MAAA,EAzJrC,EAXsC,OAKvC,EAAA,UAAA,EAAY,GASC,EAAA,UAAA,MAAA,SAAA,GACP,IAAA,EACF,IACD,EAAA,KAAA,YAAA,GACC,MAAA,GAED,YADC,KAAA,MAAO,GAIV,KAAA,OAAA,EAAA,IAGc,EAAA,UAAW,OAAC,SAAA,EAAA,GAErB,IAAA,EAAS,KAAA,OACX,IACD,EAAA,KAAA,OAAA,IAAA,KAIG,IACA,EADA,EAAW,EAAA,IAAA,GAEb,GAAA,KAAI,gBACF,IACD,EAAA,KAAA,gBAAA,GACC,MAAA,GACD,KAAA,MAAA,QAGF,EAAA,EAGC,IAAA,EAAQ,CACR,EAAO,KAAO,gBAAS,KAAA,kBAAA,IAAA,EAAA,QACvB,EAAM,IAAA,EAAA,GACF,IAAA,EAAkB,IAAA,EAAmB,EAAA,EAAA,MAEvC,GADE,KAAA,YAAK,KAAA,GACP,KAAI,iBAAc,CACd,IAAA,OAAA,EACF,IACD,EAAA,KAAA,iBAAA,IAAA,EAAA,EAAA,IACC,MAAA,GAED,YADC,KAAA,MAAO,GAGV,KAAA,IAAA,EAAA,UAAA,IAAA,EAAA,EAAA,EAAA,SAID,EAAM,QACP,EAAA,KAAA,IAIc,EAAA,UAAW,OAAC,SAAA,GACvB,IAAA,EAAQ,KAAA,OACV,IACE,EAAA,QAAW,SAAM,EAAA,GAChB,EAAA,MAAA,KAGJ,EAAA,SAEF,KAAA,YAAA,MAAA,IAGgB,EAAA,UAAW,UAAC,WACvB,IAAA,EAAQ,KAAA,OACV,IACE,EAAA,QAAM,SAAW,EAAA,GAChB,EAAA,aAGJ,EAAA,SAEF,KAAA,YAAA,YAGa,EAAA,UAAY,YAAA,SAAA,GACzB,KAAA,OAAA,OAAA,IAGW,EAAA,UAAQ,YAAA,WAChB,KAAK,SACD,KAAA,wBAAkB,EACpB,IAAA,KAAA,OACD,EAAA,UAAA,YAAA,KAAA,QApGkC,EAAA,CA8GzC,EA9GyC,YA8GG,EAAA,SAAa,GACvD,SAAA,EAGE,EAAM,EAAM,GAHM,IAAA,EAAA,EAAM,KAAA,KAAA,IAAA,KAIzB,OAHmB,EAAA,IAAK,EACL,EAAA,MAAM,EAmDY,EAAA,OAAA,EAjDrC,EALyC,OAC1C,EAAA,UAAA,EACqC,GAMnB,EAAA,UAAA,MAAA,SAAA,GACjB,KAAA,YAIS,EAAA,UAAA,aAAQ,WACZ,IAAW,EAAP,KAAiB,OAAK,EAAtB,KAAsB,IAC1B,KAAA,IAAM,KAAE,OAAA,KACV,GACD,EAAA,YAAA,IAjBuC,EAAA,CA6B5C,EA7B4C,YA6BC,EAAA,SAAa,GAExD,SAAA,EAGE,EAAA,EACD,GAJkB,IAAA,EAAA,EAAM,KAAA,OAAA,KAIxB,OAHmB,EAAA,IAAA,EACA,EAAA,aAAA,EAqBkB,EAAA,qBAAA,EAnBrC,EAN0C,OAE3C,EAAA,UAAA,EACoB,GAOZ,EAAA,UAAmB,WAAc,SAAC,GAClC,IAAA,EAAE,IAAA,EAAA,aACJ,EAAA,KAAyB,qBAA6B,EAAtD,KAAsD,aAK3D,OAJG,IAAqB,EAAyB,QAC/C,EAAA,IAAA,IAAA,EAAA,IAED,EAAO,IAAA,EAAa,UAAA,IACrB,GAjB0C,EAAA,CAAA,EAAA,YAyBL,QAAA,kBAAA,EAAA,IAAA,EAAA,SAAY,GAClD,SAAA,EACS,GADW,IAAA,EAAM,EAAN,KAA4B,OAAA,KAG/C,OADC,EAAM,OAAS,EAHqB,EAAA,QAIrC,EAJqC,OACtC,EAAA,UAAA,EAAgD,GAM1B,EAAA,UAAO,YAAA,WACvB,IAAA,EAAQ,KAAM,OAChB,EAAA,QAAM,KAAA,SACN,EAAO,UAAU,YAAC,KAAA,MAClB,EAAI,OAAY,EACP,IAAP,EAAO,OAAc,EAAA,wBACtB,EAAA,gBAbiC,EAAA,CAAA,EAAA;;AClSA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,qBAAA,EAZxC,IAAA,EAAA,EAAA,QAAA,UAIA,EAAA,QAAA,aAQA,EAAA,QAAA,kCAAwC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAAA,IAAA,EAAA,SAAU,GAEhD,SAAA,EACE,GADkB,IAAA,EAAM,EAAN,KAAS,OAAA,KAE5B,OAJqC,EAAA,OAAA,EAIrC,EAJ4C,OAE7C,EAAA,UAAA,EAA6B,GAI7B,OAAA,eAAA,EAAA,UAAA,QAAA,CACE,IAAA,WACD,OAAA,KAAA,YAFD,YAAA,EAEC,cAAA,IAIO,EAAA,UAAe,WAAA,SAAM,GACvB,IAAA,EAAY,EAAwB,UAAc,WAAQ,KAAA,KAAA,GAI/D,OAHG,IAAgB,EAAa,QAC9B,EAAA,KAAA,KAAA,QAEF,GAGU,EAAA,UAAU,SAAA,WACjB,GAAA,KAAA,SACD,MAAA,KAAA,YACC,GAAA,KAAU,OACX,MAAA,IAAA,EAAA,wBAEA,OAAA,KAAA,QAID,EAAA,UAAU,KAAA,SAAM,GACjB,EAAA,UAAA,KAAA,KAAA,KAAA,KAAA,OAAA,IA/B4C,EAAP,CAAA,EAAA,SAAA,QAAA,gBAAA;;ACMT,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,YAAA,EAjB/B,IAAA,EAAA,EAAA,QAAA,UAiBA,EAAA,QAAA,mBAA+B,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAAA,IAAA,EAAA,SAAY,GAEvC,SAAA,EAAA,EAAA,GACD,OAAA,EAAA,KAAA,OAAA,KAH4B,OAC7B,EAAA,UAAY,EAAoB,GAaL,EAAA,UAAA,SAAA,SAAiB,EAAA,GAdH,YAe3B,IAAZ,IACD,EAAA,GAhBwC,MAAZ,EAAA,CAAA,EAAA,cAAA,QAAA,OAAA;;ACRK,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,iBAAA,EAVpC,IAAA,EAAA,EAAA,QAAA,UAUA,EAAA,QAAA,YAAoC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAAA,IAAA,EAAA,SAAS,GAO3C,SAAA,EAEE,EAAA,GAFoB,IAAA,EAAA,EAAA,KAAA,KAAyB,EAAA,IAAA,KAG9C,OAFqB,EAAA,UAAmD,EAH/D,EAAA,KAAO,EALiB,EAAA,SAAA,EAUjC,EAViC,OAOlC,EAAA,UAAA,EAA+C,GAKpB,EAAA,UAAA,SAAA,SAAiB,EAAA,GAOtC,QALK,IAAL,IACF,EAAO,GAIL,KAAC,OAEM,OAAA,KAwBP,KAAA,MAAM,EACR,IAAA,EAAK,KAAK,GACX,EAAA,KAAA,UAa2D,OATvD,MAAD,IAEC,KAAA,GAAQ,KAAM,eAAA,EAAA,EAAA,IAInB,KAAA,SAAY,EACb,KAAA,MAAA,EAES,KAAA,GAAA,KAAA,IAAA,KAAA,eAAV,EAAyB,KAA2B,GAAU,GAAA,MAE9D,EAAC,UAAA,eAAA,SAAA,EAAA,EAAA,GAKG,YAHM,IAAA,IAAmD,EAAA,GAGzD,YAAU,EAAA,MAAA,KAAA,EAAA,MAAA,IAIZ,EAAA,UAAkB,eAAA,SAAA,EAAA,EAAA,GAUd,QATG,IAAP,IACD,EAAA,GAQU,OAAL,GAAa,KAAA,QAAA,IAAA,IAAA,KAAA,QACR,OAAA,EAGT,cAAY,IAGV,EAAA,UAAa,QAAA,SAAA,EAAA,GACd,GAAA,KAAA,OAAU,OAAA,IAAK,MAAO,gCAetB,KAAA,SAAA,EACF,IAAA,EAAA,KAAA,SAAA,EAAA,GAES,GAAA,EACG,OAAA,GAEP,IAAA,KAAA,SAAA,MAAA,KAAA,KACG,KAAA,GAAK,KAAK,eAAE,KAAA,UAAA,KAAA,GAAA,QAEjB,EAAA,UAAc,SAAC,SAAA,EAAA,GACf,IAAA,GAAU,EACX,OAAA,EACG,IACG,KAAA,KAAA,GAEN,MAAA,GACF,GAAA,EAGD,IAAA,GAAA,GAAA,IAAA,MAAA,GAGQ,GAAA,EAEK,OADL,KAAA,cACK,GAIN,EAAA,UAAU,aAAM,WACjB,IAAA,EAAC,KAAS,GAEV,EAAY,KAAE,UAChB,EAAQ,EAAY,QACrB,EAAA,EAAA,QAAA,MAEG,KAAA,KAAM,KACR,KAAA,MAAO,KACR,KAAA,SAAA,EAEI,KAAA,UAAY,MAClB,IAAA,GACH,EAAA,OAAC,EAAA,GAjJmC,MAAA,IAAA,KAAA,GAAA,KAAA,eAAA,EAAA,EAAA,OAAA,KAAA,MAAA,MAAA,EAAA,CAAA,EAAA,QAAA,QAAA,YAAA;;ACAA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,iBAAA,EAVpC,IAAA,EAAA,EAAA,QAAA,UAUA,EAAA,QAAA,iBAAoC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAAA,IAAA,EAAA,SAAc,GAEhD,SAAA,EAEE,EAAA,GAFoB,IAAA,EAAA,EAAA,KAAA,KAAyB,EAAA,IAAA,KAG9C,OAFqB,EAAA,UAAmD,EAHvC,EAAA,KAAA,EAKjC,EALiC,OAElC,EAAA,UAAA,EAA+C,GAKpB,EAAA,UAAA,SAAA,SAAiB,EAAA,GAItC,YAHS,IAAT,IACF,EAAO,GAEL,EAAM,EACA,EAAQ,UAAC,SAAA,KAAA,KAAA,EAAA,IAEnB,KAAA,MAAY,EACb,KAAA,MAAA,EAEM,KAAA,UAAA,MAAA,MACE,OAEL,EAAI,UAAU,QAAO,SAAQ,EAAA,GAChC,OAAA,EAAA,GAAA,KAAA,OAES,EAAA,UAAA,QAAA,KAAc,KAAxB,EAAyB,GAAqC,KAAA,SAAA,EAAA,IAK1D,EAAA,UAAO,eAAM,SAAc,EAAC,EAAA,GAKlC,YAJK,IAAA,IAED,EAAO,GAEV,OAAD,GAAC,EAAA,GAAA,OAAA,GAAA,KAAA,MAAA,EAAA,EAAA,UAAA,eAAA,KAAA,KAAA,EAAA,EAAA,GAjCmC,EAAA,MAAA,OAAA,EAAA,CAAA,EAAA,aAAA,QAAA,YAAA;;ACapC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,eAAA,EAAA,IAAA,EAAA,WASE,SAAA,EAAoB,EACR,QAAA,IAAA,IADQ,EAAA,EAAe,KAGlC,KAAA,gBAAA,EA6BM,KAAA,IAAA,EAzCT,OA0CI,EAAA,UAAgB,SAAA,SAAuB,EAAO,EAAC,GAElD,YADE,IAAA,IApCa,EAAoB,GAqCnC,IAAA,KAAA,gBAAA,KAAA,GAAA,SAAA,EAAA,IA5CD,EAAA,IAAA,WAAA,OAAA,KAAA,OAAA,EAAA,GAAA,QAAA,UAAA;;ACjBoC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,oBAAA,EANpC,IAAA,EAAA,EAAA,QAAA,UAMA,EAAA,QAAA,gBAAoC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAAA,IAAA,EAAA,SAAS,GAoB/B,SAAA,EAAA,EAA6B,QACvC,IAFF,IAGI,EAAI,EAAA,UAAA,KAEH,IAAA,EAAA,EAAA,KAAA,KAAA,EAAA,WAAM,OAAA,EAAA,UAAA,EAAA,WAAA,EACE,EAAM,SAAA,MAvBL,OAeP,KAaiE,OA9BtC,EAAA,QAAA,GA4BjC,EAAA,QAAA,EAEM,EAAA,eAAA,EAAiE,EA9BtC,OAmBlC,EAAA,UAAA,EAAY,GAaR,EAAO,UAAA,SAAe,SAAS,EAAa,EAAO,GAGpD,YAFA,IAAA,IAAM,EAAA,GAEN,EAAA,UAAA,EAAA,WAAA,KACF,EAAA,SAAA,SAAA,EAAA,EAAA,GAMU,EAAQ,UAAA,SAAA,KAAA,KAAA,EAAA,EAAA,IAGhB,EAAA,UAAA,MAAA,SAAA,GAEG,IAAA,EAAW,KAAA,QACX,GAAA,KAAC,OAEF,EAAA,KAAA,OAFC,CAhD4B,IAAA,EAsD/B,KAAA,QAAQ,EAET,GAEI,GAAA,EAAO,EAAA,QAAA,EAAA,MAAA,EAAA,OACT,YAEC,EAAA,EAAA,SAEF,GADC,KAAA,QAAM,EACP,EAAA,CACF,KAAA,EAAA,EAAA,SACH,EAAA,cAjEoC,MAAA,KAAA,EAAA,CAAA,EAAA,WAAA,QAAA,eAAA;;ACJA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,oBAAA,EAFpC,IAAA,EAAA,EAAA,QAAA,UAEA,EAAA,QAAA,oBAAoC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAAA,IAAA,EAAA,SAAc,GAAd,SAAA,IACnC,OAAA,OAAA,GAAA,EAAA,MAAA,KAAA,YAAA,KADmC,OAApC,EAAA,UAAA,EAAA,GAAoC,EAAA,CAAA,EAAA,gBAAA,QAAA,eAAA;;ACFpC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,WAAA,EACA,IAAA,EAAA,QAAA,iBAqEA,EAAA,QAAA,oBAtEA,EAAA,IAAA,EAAA,eAAA,EAAA,aAAA,QAAA,MAAA;;ACmEC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,MAAA,EAAA,QAAA,WAAA,EA5DD,IAAA,EAAA,QAAA,iBAsDM,EAAyC,IAAA,EAAA,WAAA,SAAA,GAAA,OAAA,EAAA,aAC7C,SAAO,EAAW,GACnB,OAAA,EAAA,EAAA,GAAA,EAGC,SAAA,EAAW,GACZ,OAAA,IAAA,EAAA,WAAA,SAAA,GAAA,OAAA,EAAA,SAAA,WAAA,OAAA,EAAA,eAAA,QAAA,MAAA;;AC/DA,aADC,SAAY,EAAiB,GAC9B,OAAA,GAAA,mBAAA,EAAA,SAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,YAAA;;ACGC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,sBAAA,EAAA,IAAK,EAAiB,SAAc,GAClC,OAAA,SAAW,GACZ,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,OAAA,EAAA,IAAA,EAAA,OAAA,IACD,EAAmB,KAAG,EAAA,IAHtB,EAAA,aAAA,QAAA,iBAAA;;ACDE,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,cAAA,EAJJ,IAAA,EAAA,QAAA,iBAEA,EAAA,QAAA,mBACE,SAAW,EAAc,EAAA,GACvB,OAAA,IAAS,EAAT,WAAgB,SAAc,GAC1B,IAAA,EAAM,IAAA,EAAA,aACN,EAAI,EAWP,OAVC,EAAA,IAAI,EAAM,SAAY,WACpB,IAAA,EAAW,QAIb,EAAK,KAAW,EAAM,MACpB,EAAY,QACb,EAAA,IAAA,KAAA,aALC,EAAO,cAQV;;ACRJ,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EATD,IAAA,EAAA,QAAA,iBACA,EAAA,QAAA,4BAEA,EAAA,QAAA,8BACE,SAAK,EAAW,EAAA,GACd,OAAA,GAGD,EAAA,EAAA,eAAA,EAAA,GAFA,IAAA,EAAA,YAAA,EAAA,EAAA,kBAAA;;ACqGF,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,GAAA,EA3GD,IAAA,EAAA,QAAA,uBAEA,EAAA,QAAA,eAiGA,EAAA,QAAA,8BAAsB,SAAA,IAAA,IAAA,IAAA,EAAA,GAAA,EAAA,EAAA,EAAA,UAAiC,OAAA,IAQtD,EAAA,GAAA,UAAA,GANK,IAAA,EAAY,EAAA,EAAU,OAAE,GAC1B,OAAA,EAAW,EAAA,aAAA,IACX,EAAA,OACD,EAAA,EAAA,eAAA,EAAA,KAEA,EAAA,EAAA,WAAA;;ACzBF,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,WAAA,EAfD,IAAA,EAAA,QAAA,iBACE,SAAK,EAAW,EAAA,GACd,OAAA,EAGD,IAAA,EAAA,WAAA,SAAA,GAAA,OAAA,EAAA,SAAA,EAAA,EAAA,CAAA,MAAA,EAAA,WAAA,MAFA,IAAA,EAAA,WAAA,SAAA,GAAA,OAAA,EAAA,MAAA,KAUiB,SAAA,EAAA,GAClB,IAAA,EAAW,EAAA,MAAa,EAAA,WACzB,MAAA;;ACjDkD,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,QAAA,sBAAA,EA/BnD,IAQY,EARZ,EAAA,QAAA,sBACA,EAAA,QAAA,mBAOA,EAAA,QAAA,2BAuBmD,QAAA,iBAAA,EAtBjD,SAAA,GACA,EAAA,KAAA,IACA,EAAA,MAAA,IAHU,EAAgB,SAAhB,IACV,CAmBF,IAAA,QAAA,iBAAA,EAAA,KAGE,IAAA,EAAiD,WAA9B,SAAA,EAAqB,EAAA,EAAA,GAAS,KAAA,KAAK,EAAa,KAAA,MAAA,EAC5D,KAAA,MAAQ,EACd,KAAA,SAAA,MAAA,EA+GF,OAvGW,EAAA,UAAW,QAAA,SAAA,GACjB,OAAA,KAAQ,MACN,IAAA,IACM,OAAA,EAAA,MAAA,EAAA,KAAA,KAAA,OACN,IAAA,IACM,OAAA,EAAA,OAAA,EAAA,MAAA,KAAA,OACN,IAAA,IACH,OAAA,EAAA,UAAA,EAAA,aAYS,EAAA,UAAQ,GAAK,SAAA,EAAA,EAAA,GAErB,OADM,KAAM,MAEV,IAAA,IACM,OAAA,GAAA,EAAA,KAAA,OACN,IAAA,IACM,OAAA,GAAA,EAAA,KAAA,OACN,IAAA,IACH,OAAA,GAAA,MAaG,EAAA,UAAc,OAAI,SAA4B,EAAyB,EAAA,GACzE,OAAA,GAAwD,mBAAhB,EAAgB,KACzD,KAAA,QAAA,GAEA,KAAA,GAAA,EAAA,EAAA,IASS,EAAA,UAAQ,aAAK,WAErB,OADM,KAAM,MAEV,IAAA,IACM,OAAA,EAAA,EAAA,IAAA,KAAA,OACN,IAAA,IACM,OAAA,EAAA,EAAA,YAAA,KAAA,OACN,IAAA,IACH,OAAA,EAAA,EAAA,SAEF,MAAA,IAAA,MAAA,uCAcK,EAAA,WAAiB,SAAW,GAC9B,YAAW,IAAJ,EACR,IAAA,EAAA,IAAA,GAEF,EAAA,4BAWQ,EAAA,YAAgB,SAAM,GAC9B,OAAA,IAAA,EAAA,SAAA,EAAA,IAQQ,EAAA,eAAa,WACrB,OAAA,EAAA,sBApCc,EAAA,qBAAA,IAA0B,EAA0B,KAqCrE,EAAA,2BAAC,IAAA,EAAA,SAAA,GAAA,EAjHkD,GAAA,QAAA,aAAA;;ACsDL,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EAAA,QAAA,iBAAA,QAAA,oBAAA,QAAA,uBAAA,EAtF9C,IAAA,EAAA,EAAA,QAAA,UAEA,EAAA,QAAA,iBAuDA,EAAA,QAAA,mBA6B8C,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EA7BS,SAAA,EAAA,EAAiB,GAIvE,YAHQ,IAAP,IACE,EAAO,GAEV,SAAA,GAED,OAAA,EAAA,KAAA,IAAA,EAAA,EAAA,KACsB,IAAA,EAAwB,WAAU,SAAA,EAAiB,EAAA,QACtE,IAAA,IAED,EAAA,GAEC,KAAA,UAAA,EACH,KAAA,MAAA,EAeE,OAC4C,EAAA,UAAA,KAAA,SAAA,EAAA,GAT9C,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,UAAA,KAAA,SAQE,EArB4C,GAsBA,QAAA,kBAAA,EAAf,IAAA,EAAe,SAAA,GAAA,SAAA,EAAA,EAAA,EAAA,QAG3C,IAAA,IAVM,EAAA,GAEL,IAAA,EAAY,EAAC,KAAQ,KAAA,IAAa,KAU5B,OATN,EAAK,UAAa,EACnB,EAAA,MAAA,EAQO,EA2BP,OA/BmB,EAAA,UAAA,EAAiB,GAMpB,EAAC,SAAK,SAAU,GAKhC,IAAA,EAAA,EAAA,aAAA,EAAA,EAAA,YAES,EAAA,QAAA,GACH,KAAA,eAGG,EAAA,UAAA,gBAAV,SAAyB,GAClB,KAAgB,YAChB,IAAW,KAAG,UAAA,SAAA,EAAA,SAAA,KAAA,MAAA,IAAA,EAAA,EAAA,KAAA,gBAGX,EAAA,UAAA,MAAA,SAAV,GACO,KAAA,gBAAgB,EAAa,aAAA,WAAA,KAEpC,EAAC,UAAA,OAAA,SAAA,GACH,KAAA,gBAAA,EAAC,aAAA,YAAA,IApCqD,KAAA,eAsCtD,EAAA,UAAA,UAAA,WACE,KAAA,gBAAA,EAAkD,aAAA,kBAA/B,KAAA,eAElB,EAhC2C,CAAA,EAAA,YAAA,QAAA,oBAAA,EAAA,IAAA,EAAA,WAAA,OAAA,SAAA,EAAA,GAAA,KAAA,aAAA,EAAA,KAAA,YAAA,GAAA,GAAA,QAAA,iBAAA;;AC+C7C,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,mBAAA,EAvID,IAAA,EAAA,EAAA,QAAA,UAEA,EAAA,QAAA,aAEA,EAAA,QAAA,qBACA,EAAA,QAAA,kBACA,EAAA,QAAA,yBACA,EAAA,QAAA,kCAQA,EAAA,QAAA,yBAwHC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAxHqC,IAAA,EAAA,SAAU,GAMlC,SAAA,EAAA,EAAA,EAAqB,QACrB,IAAA,IADZ,EAGE,OAAA,wBAR2C,IAArC,IAGA,EAAA,OAAA,mBAON,IAAA,EAAK,EAAW,KAAG,OAAa,KAe5B,OAbJ,EAAI,UAAU,EACZ,EAAA,QAAK,GACL,EAAA,qBAAiB,EAClB,EAAA,YAAA,EAAA,EAAA,EAAA,EAAM,EAAA,YAAA,EAAA,EAAA,EAAA,EACL,IAAY,OAAK,mBAClB,EAAA,qBAAA,EAsGJ,EAAA,KAAA,EAAA,wBAlGS,EAAA,KAAU,EAAK,eAIjB,EA4Fa,OAhHnB,EAAA,UAAA,EAAyD,GAsBtD,EAAA,UAAA,uBAAA,SAAA,GAED,IAAA,EAAA,KAAM,QACP,EAAA,KAAA,GAEO,EAAA,OAAA,KAAA,aACF,EAAQ,QAGZ,EAAA,UAAM,KAAI,KAAA,KAAC,IAIb,EAAA,UAAA,eAAA,SAAW,GAEH,KAAA,QAAA,KAAA,IAAA,EAA2B,KAAA,UAAmB,IAC9C,KAAA,2BACN,EAAM,UAAY,KAAK,KAAA,KAAU,IAE7B,EAAA,UAA2B,WAAA,SAAA,GAE3B,IAGF,EAHE,EAAa,KAAA,oBACf,EAAU,EAAA,KAA0B,QAAA,KAAA,2BACrC,EAAA,KAAA,UAAM,EAAI,EAAK,OAEf,GAAA,KAAA,OAAM,MAAA,IAAA,EAAA,wBAaA,GAXL,KAAA,WAAmB,KAAA,SACpB,EAAA,EAAA,aAAA,OAIA,KAAA,UAAA,KAAA,GAEG,EAAA,IAAmB,EAAnB,oBAAqB,KAAA,IAErB,GACD,EAAA,IAAA,EAAA,IAAA,EAAA,oBAAA,EAAA,IACI,EACA,IAAA,IAAI,EAAI,EAAG,EAAI,IAAQ,EAAW,OAAQ,IAC7C,EAAW,KAAsB,EAAQ,SAK3C,IAAA,EAAW,EAAK,EAAC,IAAK,EAAa,OAAA,IACpC,EAAA,KAAA,EAAA,GAAA,OAWK,OATL,KAAA,SAED,EAAO,MAAa,KAAA,aAGtB,KAAA,WACE,EAAa,WAGP,GAEA,EAAA,UAAc,QAAK,WACnB,OAAA,KAAA,WAAmB,EAAnB,OAAmB,OAGnB,EAAA,UAAc,yBAAe,WAWlC,IAVG,IAAA,EAAA,KAAW,UAKf,EAAkB,KAAG,YACnB,EAAW,KAAQ,YACjB,EAAM,KAAA,QACP,EAAA,EAAA,OACD,EAAc,EACf,EAAA,KAEG,EAAW,EAAG,GAAa,KAAA,IAI3B,IASR,OAPK,EAAA,IAED,EAAe,KAAA,IAAA,EAAA,EAAA,IAGnB,EAAC,GAAA,EAAA,OAAA,EAAA,GAED,GACqB,EAtHiB,CAAA,EAAA,SAwHrC,QAAA,cAAA,EAAD,IAAA,EAAC,WAAA,OAAA,SAAA,EAAA,GAAA,KAAA,KAAA,EAAA,KAAA,MAAA,GAAA;;AC7HoC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,kBAAA,EAVrC,IAAA,EAAA,EAAA,QAAA,UAEA,EAAA,QAAA,aAQA,EAAA,QAAA,kBAAqC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAAA,IAAA,EAAA,SAAU,GAA/C,SAAA,IACU,IAAA,EAAgB,OAAX,GAAW,EAAA,MAAA,KAAA,YAAA,KAqCzB,OApCS,EAAA,MAAO,KACP,EAAA,SAAA,EAH2B,EAAA,cAAA,EAsCpC,EAtC2C,OAA5C,EAAA,UAAA,EAAA,GAOY,EAAC,UAAU,WAAA,SAAA,GACjB,OAAA,KAAA,UACA,EAAO,MAAA,KAAa,aACrB,EAAA,aAAA,OACC,KAAU,cAAgB,KAAE,SAC5B,EAAW,KAAA,KAAU,OACrB,EAAO,WACR,EAAA,aAAA,OAEF,EAAA,UAAA,WAAA,KAAA,KAAA,IAGM,EAAI,UAAC,KAAc,SAAA,GACtB,KAAK,eACA,KAAA,MAAO,EACb,KAAA,SAAA,IAII,EAAI,UAAC,MAAc,SAAA,GACtB,KAAA,cACD,EAAA,UAAA,MAAA,KAAA,KAAA,IAII,EAAA,UAAY,SAAQ,WACrB,KAAA,cAAc,EAChB,KAAA,SACD,EAAA,UAAA,KAAA,KAAA,KAAA,KAAA,OAEF,EAAA,UAAA,SAAA,KAAA,OArCyC,EAAP,CAAA,EAAA,SAAA,QAAA,aAAA;;ACEnC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,eAAA,EAVF,IAAM,EAAa,EAEnB,EAAS,GACD,SAAA,EAAK,GACP,IAAA,EAAI,EAAA,GACN,GACD,IAID,IAAA,EAAA,CACQ,aAAM,SAAG,GACf,IAAA,EAAa,IAGd,OAFC,EAAQ,GAAe,EACvB,QAAO,UAAO,KAAA,WAAA,OAAA,EAAA,KACf,GAGQ,eAAA,SAAc,UACtB,EAAA,KATD,QAAA,UAAA;;ACHiC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,gBAAA,EATnC,IAAA,EAAA,EAAA,QAAA,UACA,EAAA,QAAA,qBAQA,EAAA,QAAA,iBAAmC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAAA,IAAA,EAAA,SAAc,GAE/C,SAAA,EAEE,EAAA,GAFoB,IAAA,EAAA,EAAA,KAAA,KAAwB,EAAA,IAAA,KAG7C,OAFqB,EAAA,UAAmD,EAHxC,EAAA,KAAA,EAKhC,EALgC,OAEjC,EAAA,UAAA,EAA8C,GAKe,EAAA,UAAA,eAAiB,SAAA,EAAA,EAAA,GAM5E,YAJc,IAAV,IACF,EAAO,GAGC,OAAV,GAAsB,EAAO,EAItB,EAAU,UAAS,eAAe,KAAA,KAAY,EAAU,EAAA,IAIvD,EAAA,QAAA,KAAA,MAAmD,EAAA,YAAA,EAAiB,UAAA,EAAA,UAAA,aAAA,EAAA,MAAA,KAAA,EAAA,UAK1E,EAAA,UAAO,eAAM,SAAc,EAAC,EAAA,GAO5B,QAND,IAAA,IAIG,EAAA,GAEQ,OAAV,GAAmB,EAAG,GAAU,OAAA,GAAA,KAAA,MAAA,EACjC,OAAA,EAAA,UAAA,eAAA,KAAA,KAAA,EAAA,EAAA,GAGF,IAAA,EAAA,QAAA,SACF,EAAA,UAAA,eAAA,GAtCkC,EAsClC,eAAA,IAtCkC,EAAA,CAAA,EAAA,aAAA,QAAA,WAAA;;ACNA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,mBAAA,EAFnC,IAAA,EAAA,EAAA,QAAA,UAEA,EAAA,QAAA,oBAAmC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAAA,IAAA,EAAA,SAAc,GAAd,SAAA,IA2BlC,OAAA,OAAA,GAAA,EAAA,MAAA,KAAA,YAAA,KA3BkC,OAAnC,EAAA,UAAA,EAAA,GAGS,EAAA,UAAc,MAAA,SAAA,GACd,KAAA,QAAS,EAEP,KAAA,eAAA,EACH,IACA,EADA,EAAW,KAAA,QAEX,GAAgB,EACpB,EAAS,EAAU,OAEnB,EAAG,GAAA,EAAA,QAZ4B,GAc3B,GAAA,EAAM,EAAA,QAAA,EAAA,MAAA,EAAA,OACP,cAGQ,EAAQ,IAAC,EAAA,EAAA,UAGlB,GADE,KAAA,QAAO,EACT,EAAO,CACL,OAAA,EAAO,IAAc,EAAA,EAAA,UACtB,EAAA,cAEF,MAAA,IAzB8B,EAAA,CAAA,EAAA,gBAAA,QAAA,cAAA;;ACHnC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EACA,IAAA,EAAA,QAAA,gBAwCA,EAAA,QAAA,mBAzCA,EAAA,IAAA,EAAA,cAAA,EAAA,YAAA,QAAA,KAAA;;ACAA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,WAAA,EACA,IAAA,EAAA,QAAA,iBAqDA,EAAA,QAAA,oBAtDA,EAAA,IAAA,EAAA,eAAA,EAAA,aAAA,QAAA,MAAA;;ACS6C,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,0BAAA,EAT7C,IAAA,EAAA,EAAA,QAAA,UASA,EAAA,QAAA,iBAA6C,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAAA,IAAA,EAAA,SAAc,GAEzD,SAAA,EAEE,EAAM,GAFc,IAAA,EAAA,EAAA,KAAA,KAAkC,EAAA,IAAA,KAGvD,OAFqB,EAAA,UAAmD,EAH9B,EAAA,KAAA,EAK1C,EAL0C,OAE3C,EAAA,UAAA,EAAwD,GAKe,EAAA,UAAA,eAAiB,SAAA,EAAA,EAAA,GAMtF,YAJc,IAAV,IACF,EAAO,GAGC,OAAV,GAAsB,EAAO,EAItB,EAAU,UAAS,eAAe,KAAA,KAAY,EAAA,EAAA,IAG7C,EAAA,QAAA,KAAA,MAA6D,EAAA,YAAA,EAAiB,UAAA,sBAAA,WAAA,OAAA,EAAA,MAAA,WAK7E,EAAA,UAAA,eAAoB,SAAC,EAAW,EAAI,GAO3C,QAND,IAAA,IAIG,EAAA,GAEQ,OAAV,GAAmB,EAAG,GAAU,OAAA,GAAA,KAAA,MAAA,EACjC,OAAA,EAAA,UAAA,eAAA,KAAA,KAAA,EAAA,EAAA,GAGF,IAAA,EAAA,QAAA,SACH,qBAAC,GArC4C,EAqC5C,eAAA,IArC4C,EAAA,CAAA,EAAA,aAAA,QAAA,qBAAA;;ACNA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,6BAAA,EAF7C,IAAA,EAAA,EAAA,QAAA,UAEA,EAAA,QAAA,oBAA6C,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAAA,IAAA,EAAA,SAAc,GAAd,SAAA,IA2B5C,OAAA,OAAA,GAAA,EAAA,MAAA,KAAA,YAAA,KA3B4C,OAA7C,EAAA,UAAA,EAAA,GAGuB,EAAA,UAAA,MAAA,SAAA,GACd,KAAA,QAAS,EAEP,KAAA,eAAA,EACH,IACA,EADA,EAAW,KAAA,QAEX,GAAgB,EACpB,EAAS,EAAU,OAEnB,EAAG,GAAA,EAAA,QAZsC,GAcrC,GAAA,EAAM,EAAA,QAAA,EAAA,MAAA,EAAA,OACP,cAGQ,EAAQ,IAAC,EAAA,EAAA,UAGlB,GADE,KAAA,QAAO,EACT,EAAO,CACL,OAAA,EAAO,IAAc,EAAA,EAAA,UACtB,EAAA,cAEF,MAAA,IAzBwC,EAAA,CAAA,EAAA,gBAAA,QAAA,wBAAA;;ACH7C,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,oBAAA,EACA,IAAA,EAAA,QAAA,0BAsCA,EAAA,QAAA,6BAvCA,EAAA,IAAA,EAAA,wBAAA,EAAA,sBAAA,QAAA,eAAA;;ACqDiC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,cAAA,QAAA,0BAAA,EArDjC,IAAA,EAAA,EAAA,QAAA,UAEA,EAAA,QAAA,iBAGA,EAAA,QAAA,oBAgDiC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAhDS,IAAA,EAAA,SAAc,GAO1C,SAAA,EAAA,EAAA,QACO,IAAA,IADnB,EAEE,QALuB,IAAlB,IACA,EAAkB,OAAC,mBAKzB,IAAA,EAAA,EAAA,KAAA,KAAA,EAAA,WAAA,OAAA,EAAA,SAAA,KAYQ,OALF,EAAA,UAAA,EAEC,EAAA,MAA2B,EACjC,EAAI,OAAY,EAET,EA0BT,OAzCA,EAAA,UAAA,EAAY,GAiBE,EAAG,UAAO,MAAM,WAIzB,IAFD,IACE,EAAA,EADO,EAAL,KAAe,QAAc,EAA7B,KAA4C,WAE/C,EAAA,EAAA,KAAA,EAAA,OAAA,IACF,EAAA,QAEQ,KAAA,MAAE,EAAA,QACT,EAAO,EAAS,QAAQ,EAAS,MAAA,EAAA,WAIlC,GAAA,EAAA,CACF,KAAA,EAAA,EAAA,SAnCgB,EAAA,cAFqC,MAAA,IA4ClB,EAAA,gBAAA,GAIpC,EAhDwC,CAAA,EAAA,gBAgDT,QAAA,qBAAA,EAAT,IAAA,EAAS,SAAsB,GAE/B,SAAA,EAAK,EAA+B,EAAA,QAJ1C,IAAN,IAMR,EAAU,EAAG,OAAe,GAC7B,IAAA,EAAA,EAAA,KAAA,KAAA,EAAA,IAAA,KAMM,OAJA,EAAA,UAAA,EAAoB,EAAA,KAAA,EACzB,EAAK,MAAS,EACZ,EAAA,QAAO,EACR,EAAA,MAAA,EAAA,MAAA,EACI,EAXwB,OACT,EAAA,UAAA,EAAmD,GAgB9D,EAAA,UAAQ,SAAA,SAAA,EAAA,GAIiD,QAHpD,IAAd,IACD,EAAA,IAEmE,KAAA,GACxD,OAAA,EAAG,UAAe,SAAS,KAAA,KAAA,EAAA,GAErC,KAAA,QAAa,EACZ,IAAA,EAAyC,IAAA,EAAc,KAAA,UAAa,KAAA,MAEtE,OADC,KAAA,IAAO,GACR,EAAA,SAAA,EAAA,IAEmE,EAAA,UAAA,eAAiB,SAAA,EAAA,EAAA,QAC5E,IAAP,IACD,EAAA,GAGK,KAAA,MAAK,EAAW,MAAM,EACxB,IAAA,EAAO,EAAA,QAIG,OAHX,EAAA,KAAA,MACF,EAAA,KAAA,EAAA,cAEa,GAEL,EAAC,UAAU,eAAS,SAAA,EAAA,EAAA,QACvB,IAAA,IACD,EAAA,IAEM,EAAA,UAAA,SAAA,SAAA,EAAA,GACL,IAAU,IAAV,KAAA,OACD,OAAA,EAAA,UAAA,SAAA,KAAA,KAAA,EAAA,IAED,EAAA,YAAS,SAAA,EAAA,GACV,OAAA,EAAA,QAAA,EAAA,MAAM,EAAA,QAAA,EAAA,MACK,EAEb,EAAA,MAAA,EAAA,MACH,GAtDiC,EAAA,EAAA,MAAA,EAAA,MAAA,GAAA,GAAA,EAAA,CAAA,EAAA,aAAA,QAAA,cAAA;;ACnDhC,aADC,SAAS,EAAA,GACV,OAAA,EAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,SAAA;;ACOA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAFD,IAAA,EAAA,QAAA,iBACE,SAAY,EAAQ,GACrB,QAAA,IAAA,aAAA,EAAA,YAAA,mBAAA,EAAA,MAAA,mBAAA,EAAA;;ACDqC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,6BAAA,EAApC,IAAA,EAAoC,WAC7B,SAAA,IAIN,OAHC,MAAK,KAAA,MACA,KAAA,QAAO,wBACZ,KAAA,KAAY,0BACb,KAKE,OADH,EAAO,UAA4B,OAAA,OAAA,MAAA,WAChC,EAViC,GAAA,EAAA,EAAA,QAAA,wBAAA;;ACAb,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,gBAAA,EAAvB,IAAA,EAAuB,WAChB,SAAA,IAIN,OAHC,MAAK,KAAA,MACA,KAAA,QAAO,0BACZ,KAAA,KAAY,aACb,KAKE,OADH,EAAO,UAAe,OAAA,OAAA,MAAA,WACnB,EAVoB,GAAA,EAAA,EAAA,QAAA,WAAA;;ACAE,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,kBAAA,EAAzB,IAAA,EAAyB,WAClB,SAAA,IAIN,OAHC,MAAK,KAAA,MACA,KAAA,QAAO,uBACZ,KAAA,KAAY,eACb,KAKE,OADH,EAAO,UAAiB,OAAA,OAAA,MAAA,WACrB,EAVsB,GAAA,EAAA,EAAA,QAAA,aAAA;;AC2DO,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,IAAA,EAAA,QAAA,iBAAA,EAlElC,IAAA,EAAA,EAAA,QAAA,UA2CA,EAAA,QAAA,iBAuBkC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAtBhC,SAAO,EAAS,EAAA,GACd,OAAA,SAAuB,GACrB,GAAmB,mBAAb,EACP,MAAA,IAAA,UAAA,8DAED,OAAA,EAAA,KAAA,IAAA,EAAA,EAAA,KAIF,IAAA,EAA2D,WAAvC,SAAA,EAAA,EAAuC,GAAU,KAAA,QAAA,EACpE,KAAA,QAAA,EAKF,OAFU,EAAA,UAAO,KAAU,SAAI,EAAc,GAC3C,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,QAAA,KAAA,WACF,EAN4D,GAa3B,QAAA,YAAA,EAAA,IAAA,EAAA,SAAa,GAI7C,SAAA,EAGE,EAAM,EAAW,GAFC,IAAA,EAAA,EAAA,KAAuC,KAAA,IAAA,KAI1D,OARD,EAAA,QAAkB,EAOhB,EAAK,MAAO,EARkB,EAAA,QAAA,GAAA,EAS/B,EAT+B,OAIhC,EAAA,UAAA,EAAY,GAUN,EAAW,UAAC,MAAA,SAAA,GACZ,IAAA,EACF,IACD,EAAA,KAAA,QAAA,KAAA,KAAA,QAAA,EAAA,KAAA,SACC,MAAA,GAED,YADC,KAAA,YAAO,MAAA,GAGV,KAAA,YAAA,KAAA,IAtB+B,EAAA,CAAA,EAAA;;AC8NjC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EA/RD,IAAA,EAAA,QAAA,iBAEA,EAAA,QAAA,mBACA,EAAA,QAAA,oBACA,EAAA,QAAA,0BACA,EAAA,QAAA,mBA4KA,EAAA,QAAA,uBAKE,SAAI,EAAgB,EAAA,EAAA,GAClB,GAAA,EAAgB,CACd,KAAA,EAAY,EAAA,aAAA,GAGJ,OAAA,WAAA,IAAA,IAAA,EAAA,GAAA,EAAA,EAAA,EAAA,UAAc,OAAA,IAoG3B,EAAA,GAAA,UAAA,GAlGO,OAAA,EAAA,EAAA,GAAA,WAAA,EAAA,GAAA,MAAA,EAAA,EAAA,KAAA,SAAA,GAAA,OAAA,EAAA,EAAA,SAAA,GAAA,EAAA,WAAA,EAAA,GAAA,EAAA,OAJH,EAAA,EAQyB,OAAA,WAAA,IAAA,IAAA,EAAA,GAAA,EAAA,EAAA,EAAA,UAAc,OAAA,IA8F3C,EAAA,GAAA,UAAA,GA5FO,IACE,EADF,EAAyB,KAE3B,EAAO,CACP,QAAO,EACP,QAAA,EACA,aAAS,EACT,UAAA,GAEA,OAAA,IAAK,EAAL,WAAgB,SAAA,GACd,GAAA,EAmBA,CACE,IAAA,EAAI,CACJ,KAAA,EAAA,WAAA,EAAA,OAAA,GAEH,OAAA,EAAA,SAAA,EAAA,EAAA,GAtBG,IAAA,EAAU,CACV,EAAM,IAAU,EAAV,aAMJ,IACD,EAAA,MAAA,EAAA,EAAA,OAAA,CAPgB,WAAA,IAAA,IAAA,EAAmB,GAAnB,EAAA,EAAA,EAAA,UAAA,OAAmB,IAiF7C,EAAA,GAAA,UAAA,GA/EW,EAAQ,KAAA,EAAW,QAAA,EAAA,EAAA,GAAA,GACnB,EAAA,eAKA,MAAA,IACE,EAAc,EAAA,gBAAA,GACf,EAAA,MAAA,GAEA,QAAA,KAAA,IAIN,OAAA,EAAA,UAAA,MAuBP,SAAA,EAAA,GACQ,IAAA,EAAO,KAEL,EAAA,EAAA,KAAA,EAAA,EAAc,WAAA,EAAA,EAAS,OACzB,EAAA,EAAA,aAAmB,EAAA,EAAA,QAAA,EAAA,EAAA,UACrB,EAAU,EAAA,QACZ,IAAA,EAAU,CAEV,EAAM,EAAU,QAAA,IAAA,EAAA,aAMd,IACD,EAAA,MAAA,EAAA,EAAA,OAAA,CAPgB,WAAA,IAAA,IAAA,EAAmB,GAAnB,EAAA,EAAA,EAAA,UAAA,OAAmB,IAkCvC,EAAA,GAAA,UAAA,GAhCK,IAAA,EAAS,EAAU,QAAuB,EAAA,EAAiB,GAAE,EAC7D,EAAA,IAAA,EAAA,SAAA,EAAA,EAAA,CAAA,MAAA,EAAA,QAAA,SAKA,MAAA,GACD,EAAA,MAAA,IAIJ,KAAA,IAAA,EAAA,UAAA,IAQS,SAAA,EAAA,GACR,IAAA,EAAY,EAAM,MAAE,EAAA,EAAA,QACpB,EAAQ,KAAA,GACT,EAAA,WAQS,SAAA,EAAG,GACX,IAAA,EAAQ,EAAM,IAAK,EAAA,QACpB,MAAA;;ACZA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,iBAAA,EApRD,IAAA,EAAA,QAAA,iBAGA,EAAA,QAAA,mBACA,EAAA,QAAA,oBACA,EAAA,QAAA,0BACA,EAAA,QAAA,uBAoJA,EAAA,QAAA,mBAME,SAAI,EAAgB,EAAA,EAAA,GAClB,GAAA,EAAgB,CACd,KAAA,EAAY,EAAA,aAAA,GAGJ,OAAA,WAAA,IAAA,IAAA,EAAA,GAAA,EAAA,EAAA,EAAA,UAAc,OAAA,IA+G3B,EAAA,GAAA,UAAA,GA7GO,OAAA,EAAA,EAAA,GAAA,WAAA,EAAA,GAAA,MAAA,EAAA,EAAA,KAAA,SAAA,GAAA,OAAA,EAAA,EAAA,SAAA,GAAA,EAAA,WAAA,EAAA,GAAA,EAAA,OAJH,EAAA,EAQwB,OAAA,WAAA,IAAA,IAAA,EAAA,GAAA,EAAA,EAAA,EAAA,UAAc,OAAA,IAyG1C,EAAA,GAAA,UAAA,GAvGK,IAAA,EAAS,CACT,aAAI,EACJ,KAAA,EACA,aAAS,EACT,UAAS,EACT,QAAA,MAEQ,OAAA,IAAA,EAAA,WAAA,SAAO,GACT,IAAA,EAAA,EAAA,QACF,EAAU,EAAE,QACd,GAAA,EA2BD,OAAA,EAAA,SAAA,EAAA,EAAA,CAAA,OAAA,EAAA,WAAA,EAAA,QAAA,IA1BG,IAAA,EAAU,CACV,EAAM,EAAU,QAAA,IAAA,EAAA,aAad,IACD,EAAA,MAAA,EAAA,EAAA,OAAA,CAdgB,WAAA,IAAA,IAAA,EAAmB,GAAnB,EAAA,EAAA,EAAA,UAAA,OAAmB,IA2F7C,EAAA,GAAA,UAAA,GAxFe,IAAA,EAAK,EAAA,QACP,EACA,EAAO,MAAA,IAIT,EAAQ,KAAA,EAAW,QAAA,EAAA,EAAA,GAAA,GACnB,EAAA,gBAKA,MAAA,IACE,EAAc,EAAA,gBAAA,GACf,EAAA,MAAA,GAEA,QAAA,KAAA,IAIN,OAAA,EAAA,UAAA,MAqBP,SAAA,EAAA,GACU,IAAA,EAAA,KACA,EAAA,EAAA,OAAA,EAAc,EAAA,WAAI,EAAE,EAAA,QACxB,EAAU,EAAO,aAAQ,EAAA,EAAA,KAAA,EAAA,EAAA,UAEzB,EAAU,EAAA,QACZ,IAAA,EAAU,CAEV,EAAM,EAAU,QAAA,IAAA,EAAA,aAWd,IACD,EAAA,MAAA,EAAA,EAAA,OAAA,CAZgB,WAAA,IAAA,IAAA,EAAmB,GAAnB,EAAA,EAAA,EAAA,UAAA,OAAmB,IAuCvC,EAAA,GAAA,UAAA,GArCS,IAAA,EAAK,EAAA,QACP,GAAA,EACD,EAAA,IAAA,EAAA,SAAA,EAAA,EAAA,CAAA,IAAA,EAAA,QAAA,SACC,CACA,IAAA,EAAS,EAAU,QAA6B,EAAA,EAAiB,GAAE,EACpE,EAAA,IAAA,EAAA,SAAA,EAAA,EAAA,CAAA,MAAA,EAAA,QAAA,UAMD,MAAA,GACD,KAAA,IAAA,EAAA,SAAA,EAAA,EAAA,CAAA,IAAA,EAAA,QAAA,MAIJ,KAAA,IAAA,EAAA,UAAA,IAQS,SAAA,EAAA,GACR,IAAA,EAAY,EAAC,MAAO,EAAA,EAAA,QACpB,EAAQ,KAAA,GACT,EAAA,WAQS,SAAA,EAAK,GACb,IAAA,EAAQ,EAAM,IAAK,EAAA,QACpB,MAAA;;AC7Q0C,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,qBAAA,EAR3C,IAAA,EAAA,EAAA,QAAA,UAQA,EAAA,QAAA,gBAA2C,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAAA,IAAA,EAAA,SAAa,GAAb,SAAA,IAc1C,OAAA,OAAA,GAAA,EAAA,MAAA,KAAA,YAAA,KAd0C,OAA3C,EAAA,UAAA,EAAA,GAIS,EAAA,UAAiB,WAAY,SAAA,EAAA,EAAA,EAAA,EAAA,GACnC,KAAA,YAAA,KAAA,IAGM,EAAA,UAAiB,YAAQ,SAAA,EAAA,GAC/B,KAAA,YAAA,MAAA,IAGM,EAAA,UAAY,eAAW,SAAA,GAC7B,KAAA,YAAA,YAbwC,EAAA,CAAA,EAAA,YAAA,QAAA,gBAAA;;ACAA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,qBAAA,EAR3C,IAAA,EAAA,EAAA,QAAA,UAQA,EAAA,QAAA,gBAA2C,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAAA,IAAA,EAAA,SAAa,GAGtD,SAAA,EACE,EAAO,EACR,GAFmB,IAAA,EAAM,EAAN,KAA6B,OAAA,KAEhD,OAFyD,EAAA,OAAA,EAAsB,EAAA,WAAA,EAFxE,EAAA,WAAU,EADuB,EAAA,MAAA,EAKxC,EALwC,OAGzC,EAAA,UAAA,EAA0D,GAK7C,EAAC,UAAU,MAAM,SAAY,GACzC,KAAA,OAAA,WAAA,KAAA,WAAA,EAAA,KAAA,WAAA,KAAA,QAAA,OAGY,EAAC,UAAA,OAAmB,SAAM,GAChC,KAAA,OAAA,YAAc,EAAA,MACpB,KAAA,eAGY,EAAC,UAAA,UAAqB,WAC5B,KAAA,OAAA,eAAc,MACpB,KAAA,eAnBwC,EAAA,CAAA,EAAA,YAAA,QAAA,gBAAA;;ACJzC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,wBAAA,EADF,IAAA,EAAA,QAAA,qBACS,EACC,SAAA,GACJ,OAAA,SAAK,GAFT,OAGM,EAAA,KAAA,SAAgB,GAChB,EAAW,SACZ,EAAA,KAAA,GAEH,EAAc,aAGT,SAAU,GAAC,OAAA,EAAA,MAAA,KAClB,KAAA,KAAA,EAAA,iBAXA,IAAA,QAAA,mBAAA;;ACSK,aAZL,SAAW,IACT,MAAO,mBAAA,QAAoB,OAAA,SAI9B,OAAA,SAHE,aAUI,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,kBAAA,EAAA,QAAA,WAAA,QAAA,cAAA,EAAA,IAAM,EAAsB,IAA5B,QAAA,SAAA,EAAA,IAAA,EAAA,EAAA,QAAA,WAAA;;ACTL,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,yBAAA,EADF,IAAA,EAAA,QAAA,sBACQ,EAAoB,SAAe,GACtC,OAAA,SAAA,GAED,IADM,IAAA,EAAO,EAAa,EAAJ,cACtB,CACE,IAAA,EAAW,EAAQ,OACnB,GAAA,EAAM,KAAA,CACP,EAAA,WACD,MAGC,GADC,EAAM,KAAA,EAAA,OACP,EAAA,OACM,MAXT,MAgByB,mBAAjB,EAAS,QACX,EAAA,IAAS,WACV,EAAA,QACA,EAAA,WAnBL,IAAA,QAAA,oBAAA;;ACKA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,2BAAA,EADF,IAAA,EAAA,QAAA,wBACW,EAAwB,SAAI,GACjC,OAAA,SAAW,GAEb,IAAA,EAAU,EAAA,EAAA,cACX,GAAA,mBAAA,EAAA,UAAM,MAAA,IAAA,UAAA,kEAGP,OAAA,EAAA,UAAA,KAPA,QAAA,sBAAA;;ACTF,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,iBAAA,EAAA,IAAA,EAAA,SAAA,GAAA,OAAA,GAAA,iBAAA,EAAA,QAAA,mBAAA,GAAA,QAAA,YAAA;;ACOC,aADC,SAAS,EAAS,GACnB,QAAA,GAAA,mBAAA,EAAA,WAAA,mBAAA,EAAA,KAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA;;ACOC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,iBAAA,EAZF,IAAA,EAAA,QAAA,sBACA,EAAA,QAAA,wBACA,EAAA,QAAA,yBACA,EAAA,QAAA,2BACA,EAAA,QAAA,iBACA,EAAA,QAAA,eACA,EAAA,QAAA,cACA,EAAA,QAAA,sBAIA,EAAA,QAAA,wBACQ,EAAU,SAAc,GAC5B,GAAA,GAA4C,mBAArC,EAAA,EAAA,YACR,OAAA,EAAA,EAAA,uBAAA,GACC,IAAA,EAAO,EAAA,aAAA,GACR,OAAA,EAAA,EAAA,kBAAA,GACC,IAAA,EAAO,EAAA,WAAA,GACR,OAAA,EAAA,EAAA,oBAAA,GACC,GAAO,GAAmC,mBAAnC,EAAoB,EAAA,UAC5B,OAAA,EAAA,EAAA,qBAAA,GAEO,IAAA,GAAM,EAAA,EAAA,UAAA,GAAgB,oBAAK,IAAA,EAA+B,IAGjE,MAAA,IAAA,UAFK,gBAAA,EAAA,8FAXN,QAAA,YAAA;;ACcD,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,kBAAA,EAxBD,IAAA,EAAA,QAAA,sBACA,EAAA,QAAA,iBASA,EAAA,QAAA,iBAKE,SAAA,EAAA,EAAA,EAAmC,EAAgB,EAAe,GAK9D,QAHY,IAAZ,IACF,EAAO,IAAU,EAAV,gBAAU,EAAA,EAAA,KAEf,EAAM,OAGV,OAAA,aAAmB,EAAnB,WACD,EAAA,UAAA,IAAA,EAAA,EAAA,aAAA,EAAA,CAAA;;AC0OkD,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,cAAA,EAAA,QAAA,wBAAA,QAAA,2BAAA,EApQnD,IAAA,EAAA,EAAA,QAAA,UACA,EAAA,QAAA,uBAEA,EAAA,QAAA,mBAGA,EAAA,QAAA,sBACA,EAAA,QAAA,6BAEA,EAAA,QAAA,eA2PmD,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EArCnD,IAAA,EAAM,GACJ,SAAA,IAAA,IAAgF,IAAA,EAAhF,GAAA,EAAA,EAAA,EAAA,UAAA,OAAgF,IAoC/B,EAAA,GAAA,UAAA,GAjC7C,IAAA,EAAgC,KAEhC,EAAY,KAejB,OAdG,EAAY,EAAA,aAAA,EAAY,EAAuB,OAAA,MAChD,EAAA,EAAA,OAGoE,mBAAnE,EAAiB,EAAY,OAAsC,KACpE,EAAA,EAAA,OAKe,IAAd,EAAW,SAAwB,EAAC,EAAA,SAAA,EAAA,MACrC,EAAA,EAAA,KAGF,EAAA,EAAA,WAAA,EAAA,GAAA,KAAA,IAAA,EAAA,IAGC,IAAA,EAAoB,WAAA,SAAA,EAAA,GACnB,KAAA,eAAA,EAKF,OAFiB,EAAA,UAAc,KAAA,SAAA,EAAwB,GACrD,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,kBACF,EANqB,GAa6B,QAAA,sBAAA,EAAA,IAAA,EAAA,SAAqB,GAMtE,SAAA,EACE,EAAkB,GAD4B,IAAA,EAAA,EAAA,KAAA,KAAA,IAA6C,KAE5F,OAPO,EAAA,eAAmB,EACnB,EAAA,OAAgB,EAChB,EAAA,OAAA,GAHyC,EAAA,YAAA,GAQhD,EARgD,OAMjD,EAAA,UAAA,EAAY,GAKO,EAAA,UAAM,MAAA,SAAA,GAClB,KAAA,OAAA,KAAY,GAClB,KAAA,YAAA,KAAA,IAGqB,EAAA,UAAK,UAAY,WAC/B,IAAA,EAAM,KAAY,YACpB,EAAG,EAAQ,OACb,GAAK,IAAL,EACD,KAAA,YAAA,eACC,CACK,KAAA,OAAS,EACT,KAAA,UAAY,EACf,IAAA,IAAM,EAAA,EAAA,EAAU,EAAG,IAAA,CACf,IAAA,EAAK,EAAkB,GAC5B,KAAA,KAAA,EAAA,EAAA,mBAAA,KAAA,EAAA,EAAA,OAKa,EAAI,UAAU,eAAA,SAAA,GACX,IAAjB,KAAK,QAAW,IACjB,KAAA,YAAA,YAMmB,EAAA,UAAO,WAAA,SAAA,EAAA,EAAA,EAAA,EAAA,GACrB,IAAA,EAAS,KAAA,OACT,EAAS,EAAI,GACjB,EAAG,KAAA,UAEC,IAAW,IAAI,KAAU,UAAC,KAAA,UAD5B,EAGJ,EAAI,GAAiB,EACV,IAAT,IACE,KAAK,eACN,KAAA,mBAAA,GAEA,KAAA,YAAA,KAAA,EAAA,WAKa,EAAA,UAAA,mBAAA,SAAA,GACZ,IAAA,EACF,IACD,EAAA,KAAA,eAAA,MAAA,KAAA,GACC,MAAA,GAED,YADC,KAAA,YAAO,MAAA,GAGV,KAAA,YAAA,KAAA,IAhEgD,EAAA,CAAA,EAAA,iBAAA,QAAA,wBAAA;;AC/P/C,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,mBAAA,EANJ,IAAA,EAAA,QAAA,iBACA,EAAA,QAAA,mBAGA,EAAA,QAAA,wBACE,SAAW,EAAc,EAAA,GACvB,OAAA,IAAS,EAAT,WAAgB,SAAc,GAC1B,IAAA,EAAI,IAAA,EAAA,aASP,OARC,EAAA,IAAM,EAAU,SAA0B,WACtC,IAAA,EAAI,EAAW,EAAA,cACjB,EAAA,IAAI,EAAA,UAAU,CACd,KAAK,SAAA,GAAQ,EAAI,IAAI,EAAU,SAAS,WAAM,OAAA,EAAW,KAAM,OAC/D,MAAA,SAAQ,GAAK,EAAI,IAAI,EAAU,SAAS,WAAM,OAAA,EAAW,MAAA,OACvD,SAAA,WAAA,EAAA,IAAA,EAAA,SAAA,WAAA,OAAA,EAAA,qBAGL;;ACXD,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,gBAAA,EAJJ,IAAA,EAAA,QAAA,iBAEA,EAAA,QAAA,mBACE,SAAW,EAAc,EAAA,GACvB,OAAA,IAAS,EAAT,WAAgB,SAAc,GAC1B,IAAA,EAAI,IAAA,EAAA,aADR,OAGI,EAAA,IAAI,EAAI,SAAU,WAChB,OAAA,EAAA,KAAW,SAAY,GACvB,EAAI,IAAI,EAAU,SAAS,WACzB,EAAA,KAAA,GAEN,EAAG,IAAA,EAAA,SAAA,WAAA,OAAA,EAAA,kBAGF,SAAC,GACG,EAAI,IAAA,EAAA,SAAA,WAAA,OAAA,EAAA,MAAA,WAZX;;ACIA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,iBAAA,EARJ,IAAA,EAAA,QAAA,iBACA,EAAA,QAAA,mBAEA,EAAA,QAAA,sBACE,SAAY,EAAA,EAAA,GACV,IAAA,EACD,MAAA,IAAA,MAAA,2BAEC,OAAA,IAAS,EAAT,WAAgB,SAAc,GAC1B,IACA,EADA,EAAA,IAAsB,EAAtB,aAgCH,OA7BC,EAAA,IAAI,WACF,GAAkB,mBAAA,EAAA,QACnB,EAAA,WAGD,EAAA,IAAA,EAAW,SAAM,WACjB,EAAQ,EAAS,EAAT,YACN,EAAA,IAAI,EAAU,SAAS,WACrB,IAAA,EAAO,OAAP,CAGE,IAAA,EACA,EACF,IACA,IAAA,EAAQ,EAAa,OACrB,EAAO,EAAO,MACf,EAAA,EAAA,KACC,MAAA,GAED,YADC,EAAO,MAAA,GAGP,EACD,EAAA,YAEC,EAAK,KAAW,GACjB,KAAA,mBAIJ;;ACrCJ,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,oBAAA,EAFD,IAAA,EAAA,QAAA,wBACE,SAAY,EAAiB,GAC9B,OAAA,GAAA,mBAAA,EAAA,EAAA;;ACDA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,WAAA,EAFD,IAAA,EAAA,QAAA,sBACE,SAAY,EAAW,GACxB,OAAA,GAAA,mBAAA,EAAA,EAAA;;AC8BA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EAlCD,IAAA,EAAA,QAAA,wBACA,EAAA,QAAA,qBACA,EAAA,QAAA,mBAEA,EAAA,QAAA,sBACA,EAAA,QAAA,+BACA,EAAA,QAAA,qBACA,EAAA,QAAA,uBAaA,EAAA,QAAA,sBACE,SAAS,EAAU,EAAA,GACjB,GAAI,MAAJ,EAAI,CACF,IAAA,EAAO,EAAA,qBAAA,GACR,OAAA,EAAA,EAAA,oBAAA,EAAA,GACC,IAAA,EAAO,EAAA,WAAA,GACR,OAAA,EAAA,EAAA,iBAAA,EAAA,GACC,IAAA,EAAO,EAAA,aAAA,GACR,OAAA,EAAA,EAAA,eAAA,EAAA,GACC,IAAA,EAAO,EAAA,YAAA,IAAmC,iBAAX,EAChC,OAAA,EAAA,EAAA,kBAAA,EAAA,GAIJ,MAAA,IAAA,WAAA,OAAA,UAAA,GAAA,GAAA;;ACkFA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,KAAA,EApHD,IAAA,EAAA,QAAA,iBAEA,EAAA,QAAA,uBAyGA,EAAA,QAAA,0BACE,SAAK,EAAW,EAAA,GACd,OAAA,GAMD,EAAA,EAAA,WAAA,EAAA,GALG,aAAa,EAAA,WACd,EAEF,IAAA,EAAA,YAAA,EAAA,EAAA,aAAA;;ACG2E,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,SAAA,EAAA,QAAA,mBAAA,QAAA,sBAAA,EAjH9E,IAAA,EAAA,EAAA,QAAA,UACA,EAAA,QAAA,6BACA,EAAA,QAAA,sBAEA,EAAA,QAAA,sBACA,EAAA,QAAA,SAkEA,EAAA,QAAA,sBA0C8E,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAvC5E,SAAA,EAAA,EAAA,EAAqB,GASV,YAPA,IAAP,IAEF,EAAO,OAAC,mBAKsB,mBAArB,EACT,SAAa,GAAe,OAAA,EAAA,KAAA,EAAA,SAAA,EAAA,GAAA,OAAA,EAAA,EAAA,MAAA,EAAA,EAAA,IAAA,MAAA,EAAA,EAAA,KAAA,SAAA,EAAA,GAAA,OAAA,EAAA,EAAA,EAAA,EAAA,OAAA,MAEI,iBAA3B,IACR,EAAA,GAGC,SAAA,GAA4E,OAAA,EACxD,KAA6C,IAAA,EAAA,EAAA,MADtC,IAAA,EAAiD,WACxD,SAAA,EAAA,EAA6C,QAChE,IAAA,IAED,EAAA,OAAA,mBAIC,KAAA,QAAA,EACH,KAAA,WAAA,EAaE,OAC4E,EAAA,UAAA,KAAA,SAAA,EAAA,GAP9E,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,QAAA,KAAA,cAME,EAtB4E,GAuBA,QAAA,iBAAA,EAAjD,IAAA,EAAiD,SAAA,GANpE,SAAA,EAAwB,EAAM,EAAA,QACb,IAAjB,IACA,EAAmB,OAAA,mBAIiD,IAAA,EAAA,EAAA,KAAA,KAAA,IAAA,KASxE,OANH,EAAA,QAAA,EAES,EAAA,WAAA,EACR,EAAI,cAAc,EAChB,EAAA,OAAK,GACN,EAAA,OAAA,EAAM,EAAA,MAAA,EACL,EATwE,OACxD,EAAA,UAAA,EAA6C,GAUjE,EAAC,UAAA,MAAA,SAAA,GAES,KAAA,OAAA,KAAA,WACJ,KAAA,SAA2B,GAG7B,KAAA,OAAS,KAAK,IAET,EAAA,UAAY,SAAW,SAAA,GAC5B,IAAA,EACD,EAAA,KAAA,QACG,IACA,EAAC,KAAU,QAAQ,EAAO,GAGxB,MAAA,GAEA,YADA,KAAA,YAAe,MAAO,GAG5B,KAAA,SACD,KAAA,UAAA,EAAA,EAAA,IAGM,EAAA,UAAoB,UAAA,SAAA,EAAA,EAAA,GACrB,IAAA,EAAiB,IAAI,EAAJ,gBAAgB,UAAW,OAAG,GAC5C,KAAY,YAClB,IAAA,IACiB,EAAA,EAAA,mBAAA,KAAC,EAAA,EAAA,EAAA,IAGrB,EAAA,UAAA,UAAU,WAGH,KAAA,cAAY,EAClB,IAAA,KAAA,QAAA,IAAA,KAAA,OAAA,QAED,KAAA,YAAA,WAEO,KAAA,eAEM,EAAA,UAAY,WAAA,SAAA,EAAA,EAAA,EAAA,EAAA,GACrB,KAAA,YAAW,KAAO,IACJ,EAAA,UAAW,eAAU,SAAc,GACjD,IAAA,EAAK,KAAA,OACN,KAAA,OAAA,GACF,KAAA,SACH,EAAA,OAAA,EAhE6D,KAAA,MAgE5D,EAAA,SAAD,IAAA,KAAA,QAAA,KAAA,cAzD8E,KAAA,YAAA,YAAA,EAAA,CAAA,EAAA,iBAAA,QAAA,mBAAA;;ACpD7E,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,SAAA,EA/DD,IAAA,EAAA,QAAA,cA6DA,EAAA,QAAA,oBAA4B,SAAA,EAAA,GAE3B,YADiB,IAAhB,IACD,EAAA,OAAA,oBAAA,EAAA,EAAA,UAAA,EAAA,SAAA;;ACEA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EAFD,IAAA,EAAA,QAAA,cACE,SAAO,IACR,OAAA,EAAA,EAAA,UAAA;;AC6EA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,OAAA,EA3ID,IAAA,EAAA,QAAA,QAyIA,EAAA,QAAA,0BAA0D,SAAA,IAAA,IAAwC,IAAA,EAAxC,GAAA,EAAA,EAAA,EAAA,UAAA,OAAwC,IAEjG,EAAA,GAAA,UAAA,GAAA,OAAA,EAAA,EAAA,YAAA,CAAA,EAAA,GAAA,WAAA,EAAA;;ACxFG,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,MAAA,EAtDJ,IAAA,EAAA,QAAA,iBACA,EAAA,QAAA,UAmDA,EAAA,QAAA,WACE,SAAW,EAAA,GACT,OAAA,IAAI,EAAJ,WAAoB,SAAA,GAChB,IAAA,EACF,IACD,EAAA,IACC,MAAA,GAED,YADC,EAAO,MAAU,GAIlB,OADY,GAAC,EAAU,EAAA,MAAA,IAAW,EAAnC,EAAA,UACC,UAAA;;ACwGD,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,SAAA,EAvKJ,IAAA,EAAA,QAAA,iBACA,EAAA,QAAA,mBACA,EAAA,QAAA,oBAEA,EAAA,QAAA,oBAsIA,EAAA,QAAA,UACE,SAAA,IAAA,IAAA,IAAA,EAAA,GAAA,EAAA,EAAA,EAAA,UAAiB,OAAA,IA4Bf,EAAA,GAAA,UAAA,GAzBA,GAAc,IAAd,EAAM,OAAgB,CAClB,IAAA,EAAQ,EAAQ,GAClB,IAAA,EAAO,EAAA,SAAA,GACR,OAAA,EAAA,EAAA,MAGC,IAAA,EAAU,EAAA,UAAA,IAAU,OAAK,eAAO,KAAA,OAAA,UAAA,CAChC,IAAA,EAAO,OAAA,KAAgB,GACxB,OAAA,EAAA,EAAA,IAAA,SAAA,GAAA,OAAA,EAAA,KAAA,IAKD,GAAiD,mBAA3C,EAAA,EAAiB,OAAQ,GAAkB,CACjD,IAAA,EAAmB,EAAY,MAIhC,OAAA,EAHC,EAAwB,IAAjB,EAAA,SAA0B,EAAU,EAAA,SAAA,EACrC,IAAC,EAAgB,GAAA,EAExB,MAAA,MAAA,EAAA,EAAA,KAAA,SAAA,GAAA,OAAA,EAAA,WAAA,EAAA,MAGF,OAAA,EAAA,EAAA,MAGC,SAAA,EAAsB,EAAA,GACpB,OAAA,IAAS,EAAT,WAAoB,SAAO,GACvB,IAAA,EAAG,EAAQ,OACb,GAAA,IAAA,EAMQ,IAFN,IAAA,EAAS,IAAI,MAAC,GACd,EAAY,EAPhB,EAAA,EASE,EAAY,SAAQ,GAChB,IAAA,GAAQ,EAAG,EAAA,MAAA,EAAM,IACrB,GAAe,EACP,EAAA,IAAA,EAAA,UAAK,CACT,KAAA,SAAK,GACH,IACA,GAAU,EACX,KAEF,EAAA,GAAA,GAED,MAAA,SAAU,GAAA,OAAA,EAAA,MAAA,IACR,SAAA,aACA,IACa,GAAU,IACnB,IAAW,GACJ,EAAA,KAAO,EACZ,EAAA,OAAQ,SAAA,EAAA,EAAA,GAAA,OAAA,EAAA,GAAA,EAAA,GAAA,GAAA,IACX,GAEF,EAAA,iBArBG,EAAA,EAAA,EAAA,EAAA,IAwBT,EAAA,QA7BC,EAAO;;ACwEZ,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EAnPD,IAAA,EAAA,QAAA,iBACA,EAAA,QAAA,mBAEA,EAAA,QAAA,sBAEA,EAAA,QAAA,oBA0KA,EACE,WAEA,OAAA,OACA,UAAwC,SAHxC,GAMA,SAAI,EAAkB,EAAG,EAAA,EAAA,GAOvB,OALA,EAAA,EAAA,YAAA,KACA,EAAU,EACX,OAAA,GAGC,EAGD,EAAA,EAAA,EAAA,GAAA,MAAA,EAAA,EAAA,KAAA,SAAA,GAAA,OAAA,EAAA,EAAA,SAAA,GAAA,EAAA,WAAA,EAAA,GAAA,EAAA,MAGC,IAAA,EAAA,WAAqB,SAAA,GAQpB,EAAA,EAAA,EAPK,SAAS,GACX,UAAU,OAAM,EACjB,EAAA,KAAA,MAAA,UAAA,MAAA,KAAA,YAEA,EAAA,KAAA,IAGF,EAAA,KAMC,SAAA,EAAwB,EAAA,EAAA,EAAA,EAAA,GACxB,IAAA,EACF,GAAA,EAAY,GAAa,CACzB,IAAA,EAAU,EACV,EAAA,iBAAc,EAAM,EAAO,GAC5B,EAAA,WAAA,OAAA,EAAA,oBAAA,EAAA,EAAA,SACC,GAAM,EAAmB,GAAA,CACzB,IAAA,EAAa,EACb,EAAA,GAAW,EAAG,GACf,EAAA,WAAA,OAAA,EAAA,IAAA,EAAA,SACC,GAAM,EAAmB,GAAA,CACzB,IAAA,EAAU,EACV,EAAA,YAAc,EAAM,GACrB,EAAA,WAAA,OAAA,EAAA,eAAA,EAAA,QACC,CAAA,IAAK,IAAW,EAAO,OAKxB,MAAA,IAAA,UAAA,wBAJG,IAAA,IAAA,EAAA,EAAA,EAAkB,EAAU,OAAI,EAAA,EAAW,IAC5C,EAAA,EAAA,GAAA,EAAA,EAAA,EAAA,GAMJ,EAAA,IAAA,GAGC,SAAA,EAA2B,GAC5B,OAAA,GAAA,mBAAA,EAAA,aAAA,mBAAA,EAAA,eAGC,SAAA,EAA2B,GAC5B,OAAA,GAAA,mBAAA,EAAA,IAAA,mBAAA,EAAA,IAGC,SAAA,EAAgB,GACjB,OAAA,GAAA,mBAAA,EAAA,kBAAA,mBAAA,EAAA;;AC5FG,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,iBAAA,EAvJJ,IAAA,EAAA,QAAA,iBACA,EAAA,QAAA,mBAEA,EAAA,QAAA,sBAwIA,EAAA,QAAA,oBAIE,SAAI,EAAgB,EAAA,EAAA,GAElB,OAAA,EAGD,EAAA,EAAA,GAAA,MAAA,EAAA,EAAA,KAAA,SAAA,GAAA,OAAA,EAAA,EAAA,SAAA,GAAA,EAAA,WAAA,EAAA,GAAA,EAAA,MAGC,IAAM,EAAN,WAAgB,SAAA,GAAC,IAGb,EAHa,EAAA,WAAA,IAAA,IAAA,EAAA,GAAA,EAAA,EAAA,EAAA,UAAS,OAAA,IAA1B,EAAA,GAAA,UAAA,GAA0E,OAAA,EAAA,KAAA,IAAA,EAAA,OAAA,EAAA,GAAA,IAIxE,IACD,EAAA,EAAA,GACC,MAAA,GAED,YADC,EAAO,MAAU,GAIjB,IAAA,EAAO,EAAA,YAAA,GAIR,OAAA,WAAA,OAAA,EAAA,EAAA;;ACmNJ,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,SAAA,EAxXD,IAAA,EAAA,QAAA,iBAEA,EAAA,QAAA,oBA8PA,EAAA,QAAA,uBAME,SAAI,EAAiC,EAAA,EAAA,EAAA,EAAA,GACjC,IAAA,EAEA,EACF,GAAgB,GAAhB,UAAM,OAAU,CAChB,IAAA,EAAY,EACZ,EAAY,EAAQ,aACpB,EAAU,EAAQ,UAClB,EAAA,EAAiB,QACjB,EAAY,EAAQ,gBAAU,EAA9B,SACD,EAAA,EAAA,oBAC0C,IAAzC,IAA0C,EAAA,EAAA,aAAA,IAC1C,EAAc,EACd,EAAY,EAAZ,SACD,EAAA,IAEC,EAAc,EACf,EAAA,GAGC,OAAA,IAAI,EAAJ,WAAY,SAAa,GACrB,IAAA,EAAA,EACF,GAAA,EACE,OAAA,EAAU,SAAA,EAAA,EAAA,CACV,WAAO,EACP,QAAS,EACT,UAAA,EACA,eAAK,EACJ,MAAA,IAsFR,OAAA,CAjFO,GAAA,EAAI,CACA,IAAA,OAAA,EACF,IACD,EAAA,EAAA,GACC,MAAA,GAED,YADC,EAAO,MAAU,GAGjB,IAAA,EAAW,CACX,EAAM,WACP,OAGC,IAAA,OAAA,EACF,IACD,EAAA,EAAA,GACC,MAAA,GAED,YADC,EAAO,MAAU,GAIjB,GADF,EAAI,KAAW,GACb,EAAM,OACP,MAEC,IACD,EAAA,EAAA,GACC,MAAA,GAED,YADC,EAAO,MAAU,OASf,SAAA,EAAA,GACJ,IAAA,EAAW,EAAQ,WAAA,EAAA,EAAA,UACrB,IAAA,EAAO,OAAP,CAGA,GAAA,EAAI,YACF,IACD,EAAA,MAAA,EAAA,QAAA,EAAA,OACC,MAAA,GAED,YADC,EAAO,MAAU,QAIpB,EAAA,aAAA,EAEC,GAAA,EAAI,CACA,IAAA,OAAA,EACF,IACD,EAAA,EAAA,EAAA,OACC,MAAA,GAED,YADC,EAAO,MAAU,GAGjB,IAAA,EAED,YADC,EAAO,WAGP,GAAA,EAAO,OACR,OAGC,IAAA,EACF,IACD,EAAA,EAAA,eAAA,EAAA,OACC,MAAA,GAED,YADC,EAAO,MAAU,GAGjB,IAAA,EAAO,SAGT,EAAI,KAAW,IACb,EAAO,QAGV,OAAA,KAAA,SAAA;;ACvRA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,IAAA,EAjGD,IAAA,EAAA,QAAA,WA2FA,EAAA,QAAA,WAEE,SAAA,EAAA,EAAA,EAAA,GAID,YAHC,IAAA,IAEA,EAAa,EAAb,YACD,IAAA,IAAA,EAAA,EAAA,QAAA,EAAA,EAAA,OAAA,WAAA,OAAA,IAAA,EAAA;;AC3FA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EAND,IAAA,EAAA,QAAA,aAKE,SAAQ,EAAY,GACrB,QAAA,EAAA,EAAA,SAAA,IAAA,EAAA,WAAA,GAAA,GAAA;;ACoEA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,SAAA,EA3ED,IAAA,EAAA,QAAA,iBAEA,EAAA,QAAA,sBAmDA,EAAA,QAAA,qBAAyB,SAAA,EAAA,EAAA,GAkBhB,YAjBgB,IAAA,IACnB,EAAC,QAEJ,IAAA,IAEG,EAAU,EAAV,UAEH,EAAA,EAAA,WAAA,IAAA,EAAA,KAED,EAAW,GAIT,GAAkB,mBAAA,EAAA,WACjB,EAAA,EAAA,OAGI,IAAA,EAAA,WAAmE,SAAA,GAE/D,OADH,EAAA,IAAA,EAAA,SAAY,EAAA,EAAA,CAAO,WAAE,EAAiB,QAAA,EAAA,OAAA,KACnC,IAEZ,SAAA,EAAA,GAAA,IAAA,EAAA,EAAA,WAAA,EAAA,EAAA,QAAA,EAAA,EAAA,OAAA,EAAA,KAAA,GAAA,KAAA,SAAA,CAAA,WAAA,EAAA,QAAA,EAAA,EAAA,OAAA,GAAA;;AC+DA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,MAAA,EAzID,IAAA,EAAA,QAAA,iBACA,EAAA,QAAA,uBACA,EAAA,QAAA,yBAqHA,EAAA,QAAA,eAA4B,SAAA,IAAA,IAAoE,IAAA,EAApE,GAAA,EAAA,EAAA,EAAA,UAAA,OAAoE,IAkB/F,EAAA,GAAA,UAAA,GAhBI,IAAA,EAA2B,OAAK,kBAC/B,EAAY,KACZ,EAAA,EAAmB,EAAA,OAAA,GAUrB,OATA,EAA2B,EAAA,aAAA,IAC3B,EAAI,EAAkB,MACpB,EAAU,OAAW,GAAkB,iBAAA,EAAA,EAAA,OAAA,KACxC,EAAA,EAAA,QAEoB,iBAAX,IACX,EAAA,EAAA,OAGuB,OAAtB,GAAqC,IAAA,EAAA,QAAA,EAAA,aAAA,EAAA,WACtC,EAAA,IAGF,EAAA,EAAA,UAAA,EAAA,EAAA,EAAA,EAAA,WAAA,EAAA;;ACnGA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,MAAA,EAAA,QAAA,WAAA,EAvCD,IAAA,EAAA,QAAA,iBAgCA,EAAA,QAAA,gBAKM,EAAe,IAAA,EAAA,WAAA,EAAA,MACnB,SAAY,IACb,OAAA,EAAA,QAAA,MAAA;;ACmDG,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,kBAAA,EAzFJ,IAAA,EAAA,QAAA,iBACA,EAAA,QAAA,UACA,EAAA,QAAA,mBAwEA,EAAA,QAAA,WAAwC,SAAA,IAAA,IAAA,IAAA,EAAA,GAAA,EAAA,EAAA,EAAA,UAEqD,OAAA,IAazF,EAAA,GAAA,UAAA,GAVA,GAAa,IAAb,EAAO,OACR,OAAA,EAAA,MAIG,IAAA,EAAQ,EAAM,GAAM,EAAY,EAAQ,MAAA,GAC1C,OAAO,IAAP,EAAO,SAAiB,EAAA,EAAA,SAAA,GACzB,EAAA,WAAA,EAAA,GAGC,IAAM,EAAN,WAAgB,SAAM,GAItB,IAAA,EAAY,WAAiB,OAAA,EAAA,IAAA,EAAA,WAAA,EAAA,GAAA,UAAA,KAC3B,OAAA,EAAI,EAAA,MAAA,GAAA,UAAU,CACd,KAAK,SAAS,GAAA,EAAA,KAAA,IACd,MAAA,EACC,SAAA;;ACTN,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,MAAA,EAAA,QAAA,SAAA,EAvFD,IAAA,EAAA,QAAA,iBAkDA,EAAA,QAAA,mBACE,SAAK,EAAW,EAAA,GACd,OAAA,EAYE,IAAM,EAAN,WAAoB,SAAU,GACxB,IAAA,EAAA,OAAY,KAAO,GACzB,EACE,IAAA,EAAA,aAGD,OADD,EAAO,IAAA,EAAa,SAAA,EAAA,EAAA,CAAA,KAAA,EAAA,MAAA,EAAA,WAAA,EAAA,aAAA,EAAA,IAAA,KACnB,IAjBD,IAAM,EAAN,WAAoB,SAAU,GAE5B,IADF,IAAA,EAAU,OAAO,KAAG,GACZ,EAAG,EAAG,EAAM,EAAE,SAAA,EAAA,OAAA,IAAA,CAChB,IAAA,EAAI,EAAA,GACN,EAAA,eAAiB,IAClB,EAAA,KAAA,CAAA,EAAA,EAAA,KAGF,EAAA,aAgBG,SAAA,EAAI,GACR,IAAA,EAAC,EAAW,KAAM,EAAE,EAAA,MAAA,EAAA,EAAA,WAAA,EAAA,EAAA,aAAA,EAAA,EAAA,IACtB,IAAA,EAAY,OACV,GAAA,EAAS,EAAG,OAAW,CACvB,IAAA,EAAU,EAAK,GACf,EAAA,KAAgB,CAAC,EAAK,EAAA,KACvB,EAAA,IAAA,KAAA,SAAA,CAAA,KAAA,EAAA,MAAA,EAAA,EAAA,WAAA,EAAA,aAAA,EAAA,IAAA,UAEA,EAAA;;ACjFJ,aANC,SAAS,EAAO,EAAA,GACd,SAAA,IACD,OAAA,EAAA,KAAA,MAAA,EAAA,QAAA,WAIF,OAFQ,EAAS,KAAO,EACvB,EAAO,QAAQ,EAChB,EAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,IAAA;;ACwEiC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,OAAA,EA9ElC,IAAA,EAAA,EAAA,QAAA,UAwDA,EAAA,QAAA,iBAsBkC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EApBhC,SAAO,EAAS,EAAA,GACd,OAAA,SAAuB,GACvB,OAAA,EAAA,KAAA,IAAA,EAAA,EAAA,KAIF,IAAA,EAAoB,WAAA,SAAA,EAAA,EAA+C,GAC/C,KAAA,UAAA,EACnB,KAAA,QAAA,EAKF,OAFU,EAAA,UAAO,KAAc,SAAA,EAAiB,GAC9C,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,UAAA,KAAA,WACF,EAPqB,GAcY,EAAA,SAAa,GAI7C,SAAA,EAGE,EAAM,EAAY,GAFA,IAAA,EAAA,EAAA,KAAA,KAA+C,IAAA,KAGlE,OAFmB,EAAA,UAAA,EAJpB,EAAA,QAAkB,EAFc,EAAA,MAAA,EAQ/B,EAR+B,OAIhC,EAAA,UAAA,EAAY,GASM,EAAA,UAAA,MAAA,SAAA,GACZ,IAAA,EACF,IACD,EAAA,KAAA,UAAA,KAAA,KAAA,QAAA,EAAA,KAAA,SACC,MAAA,GAED,YADC,KAAA,YAAO,MAAA,GAGP,GACD,KAAA,YAAA,KAAA,IAtB6B,EAAA,CAAA,EAAA;;AChB9B,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EA9DJ,IAAA,EAAA,QAAA,eACA,EAAA,QAAA,uBAEA,EAAA,QAAA,uBAqDA,EAAA,QAAA,iBAKE,SAAO,EAAA,EAAA,EAAA,GACL,MAAA,EACA,EAAO,EAAA,QAAA,EAAI,EAAX,CAAsB,IAAgB,EAAhB,YAAqB,EAAc,EAAA,aAAA,MACvB,EAAA,EAAA,SAAA,EAAA,EAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,YAAA,EAAA,EAAA,aAAA;;ACqBC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,KAAA,EAAA,QAAA,eAAA,QAAA,kBAAA,EArFvC,IAAA,EAAA,EAAA,QAAA,UACA,EAAA,QAAA,mBAKA,EAAA,QAAA,eAEA,EAAA,QAAA,sBAoDA,EAAA,QAAA,6BAyBuC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAzBf,SAAA,IAAA,IAAsC,IAAA,EAAtC,GAAA,EAAA,EAAA,EAAA,UAAA,OAAsC,IAyBvB,EAAA,GAAA,UAAA,GArBnC,GAAuB,IAAvB,EAAY,OAAc,CACxB,KAAA,EAAA,EAAA,SAAA,EAAc,IAGf,OAAA,EAAA,GAFA,EAAA,EAAA,GAMJ,OAAA,EAAA,EAAA,WAAA,OAAA,GAAA,KAAA,IAAA,GAED,IAAA,EAAA,WAIC,SAAA,KAAA,OAFU,EAAA,UAAO,KAAU,SAAI,EAAe,GAC5C,OAAA,EAAA,UAAA,IAAA,EAAA,KACF,EAJD,GAWuC,QAAA,aAAA,EAAA,IAAA,EAAA,SAAqB,GAK1D,SAAA,EACE,GALM,IAAA,EAAA,EAAoB,KAAM,KAAA,IAAA,KAMjC,OALO,EAAA,UAAW,EACX,EAAA,YAAa,GAHgB,EAAA,cAAA,GAOpC,EAPoC,OAKrC,EAAA,UAAA,EAAY,GAKL,EAAA,UAAgB,MAAC,SAAY,GACnC,KAAA,YAAA,KAAA,IAGO,EAAA,UAAc,UAAK,WACnB,IAAA,EAAM,KAAY,YAEpB,EAAG,EAAQ,OACb,GAAK,IAAL,EACD,KAAA,YAAA,eACC,CACE,IAAA,IAAI,EAAA,EAAA,EAAU,IAAG,KAAY,SAAG,IAAA,CAC5B,IAAA,EAAY,EAAG,GAEf,GAAK,EAAe,EAAA,mBAAA,KAAA,EAAA,EAAA,GACtB,KAAK,eACN,KAAA,cAAA,KAAA,GAEF,KAAA,IAAA,GAEF,KAAA,YAAA,OAMS,EAAA,UAAU,WAAA,SAAA,EAAA,EAAA,EAAA,EAAA,GAClB,IAAA,KAAK,SAAW,CAEX,KAAA,UAAW,EACd,IAAA,IAAK,EAAA,EAAK,EAAA,KAAU,cAAE,OAAA,IACpB,GAAA,IAAI,EAAY,CAEhB,IAAA,EAAa,KAAW,cAAG,GAC3B,EAAY,cACb,KAAA,OAAA,GAIJ,KAAA,cAAA,KAGF,KAAA,YAAA,KAAA,IApDoC,EAAA,CAAA,EAAA,iBAAA,QAAA,eAAA;;ACGtC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,MAAA,EAAA,QAAA,SAAA,EApDD,IAAA,EAAA,QAAA,iBAAsB,SAAA,EAAA,EAAA,EAAA,GAMhB,YAHO,IAAX,IACE,EAAI,GAEF,IAAA,EAAU,WAAA,SAAA,QACX,IAAA,IAEG,EAAQ,EACR,EAAO,GAGT,IAAA,EAAO,EACL,EAAK,EACJ,GAAA,EACJ,OAAA,EAAA,SAAA,EAAA,EAAA,CAAM,MAAA,EAAA,MAAA,EAAA,MAAA,EAAA,WAAA,IAoCV,OAAA,CA/BQ,GAAA,KAAA,EAAA,CACD,EAAe,WACX,MAGL,GADE,EAAA,KAAA,KACF,EAAc,OAChB,SAWD,SAAA,EAAW,GACX,IAAA,EAAO,EAAA,MAAA,EAAA,EAAA,MAAA,EAAA,EAAA,MAAA,EAAA,EAAA,WACR,GAAA,EAED,EAAe,YAId,EAAA,KAAA,GAED,EAAc,SAIf,EAAA,MAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,KAAA,SAAA;;ACWA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,MAAA,EAlGD,IAAA,EAAA,QAAA,iBACA,EAAA,QAAA,sBACA,EAAA,QAAA,qBAqDA,EAAA,QAAA,uBAAsB,SAAA,EAAA,EAAA,EAA0B,QAG9B,IAAZ,IACA,EAAU,GAEb,IAAA,GAAA,EAWM,OAXI,EAAA,EAAA,WAAA,GACT,EAAS,OAAG,GAAyB,EAAA,EAAA,OAAA,IAGlC,EAAY,EAAA,aAAA,KACf,EAAY,IAGd,EAAW,EAAA,aAAA,KACT,EAAY,EAAZ,OAEK,IAAA,EAAW,WAAA,SAAU,GAE1B,IAAA,GAAO,EAAU,EAAA,WAAA,GACf,GACC,EAAA,EAAA,MACF,OAAA,EAAA,SAAA,EAAA,EAAA,CACJ,MAAA,EAAA,OAAA,EAAA,WAAA,MAYK,SAAA,EAAU,GACZ,IAAA,EAAO,EAAA,MAAA,EAAA,EAAA,OAAA,EAAA,EAAA,WACE,GAAV,EAAA,KAAA,IAAU,EAAM,OAAN,CAIN,IAAc,IAAb,EACD,OAAA,EAAgB,WACtB,EAAA,MAAA,EAAA,EAAA,KAAA,SAAA,EAAA;;AChEG,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,MAAA,EAlCJ,IAAA,EAAA,QAAA,iBACA,EAAA,QAAA,UA8BA,EAAA,QAAA,WAEE,SAAW,EAAA,EAAc,GACvB,OAAA,IAAI,EAAJ,WAAoC,SAAA,GAEhC,IAAA,EAQA,EAPF,IACD,EAAA,IACC,MAAA,GAED,YADC,EAAO,MAAU,GAKjB,IACD,EAAA,EAAA,GACC,MAAA,GAED,YADC,EAAO,MAAU,GAIb,IACN,GADM,GAAe,EAAO,EAAA,MAAA,GAAU,EAAtC,OACO,UAAA,GACL,OAAA,WACA,EAAY,cACV,GACD,EAAA;;ACiOG,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,IAAA,EAAA,QAAA,cAAA,QAAA,iBAAA,EA3RV,IAAA,EAAA,EAAA,QAAA,UACA,EAAA,QAAA,eAGA,EAAA,QAAA,mBAEA,EAAA,QAAA,iBAEA,EAAA,QAAA,sBACA,EAAA,QAAA,6BAmEA,EAAA,QAAA,kCA+MU,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EA9MR,SAAA,IAAA,IAAmE,IAAA,EAAnE,GAAA,EAAA,EAAA,EAAA,UAAA,OAAmE,IA8M3D,EAAA,GAAA,UAAA,GA3MJ,IAAA,EAAO,EAAmB,EAAY,OAAA,GAI3C,MAHqB,mBAAlB,GACD,EAAA,OAEF,EAAA,EAAA,WAAA,OAAA,GAAA,KAAA,IAAA,EAAA,IAMC,IAAA,EAAY,WACL,SAAA,EAAA,GACN,KAAA,eAAA,EAKF,OAFU,EAAA,UAAO,KAAU,SAAI,EAAc,GAC3C,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,kBACF,EAPa,GAiMJ,QAAA,YAAA,EAnL+B,IAAA,EAAA,SAAa,GAQxC,SAAA,EAAA,EAAA,EAA4B,QACtC,IAHF,IAHQ,EAAA,OAAwC,OAAC,OAO/C,IAAA,EAAK,EAAA,KAAkB,KAAA,IAAqB,KAKtC,OAJN,EAAK,UAAS,GAwKR,EAAA,OAAA,EAvKP,EAAA,eAAA,mBAAA,EAAA,EAAA,KAES,EAAA,OAAA,EACF,EAqGV,OA9GE,EAAA,UAAA,EAAY,GAWR,EAAA,UAAe,MAAI,SAAA,GACpB,IAAA,EAAA,KAAA,WAAU,EAAA,EAAA,SAAA,GACT,EAAU,KAAK,IAAI,EAAoB,IAClC,mBAAA,EAAA,EAAA,UACL,EAAU,KAAK,IAAI,EAAA,EAAkB,EAAA,cAI/B,EAAA,KAAA,IAAA,EAAV,KAAA,YAAA,KAAA,KAIO,EAAA,UAAc,UAAA,WAEf,IAAA,EAAW,KAAA,UACb,EAAK,EAAW,OAEjB,GADC,KAAA,cACD,IAAA,EAAA,CAKC,KAAA,OAAI,EACF,IAAA,IAAA,EAAM,EAAA,EAAA,EAAW,IAAO,CACxB,IAAA,EAAW,EAAK,GACjB,GAAA,EAAA,kBAAM,KAAA,YACM,IAAG,EAAA,UAAA,EAAA,SAGnB,KAAA,eAVM,KAAA,YAAa,YAeX,EAAA,UAAW,eAAY,WAC7B,KAAA,SACF,IAAA,KAAA,QAED,KAAA,YAAA,YAGQ,EAAA,UAAc,eAAiB,WAMjC,IAHJ,IAAA,EAAgB,KAAI,UAClB,EAAI,EAAW,OACf,EAAW,KAAQ,YACjB,EAAA,EAAO,EAAA,EAAA,IAAA,CAEV,GAAA,mBADE,EAAA,EAAA,IACF,WAAA,EAAA,WAEG,OAGF,IAAA,GAAe,EACf,EAAI,GAIJ,IAAI,EAAA,EAAQ,EAAC,EAAA,IAAY,CACvB,IAAA,EACD,GADC,EAAA,EAAqB,IACtB,OAKA,GAHG,EAAO,iBACT,GAAY,GAEb,EAAA,KAGF,YADK,EAAY,WAIhB,EAAK,KAAA,EAAA,OACA,KAAA,eACL,KAAA,mBAAuB,GAIvB,EAAY,KAAA,GAEf,GAES,EAAA,YAGN,EAAM,UAAQ,mBAAqB,SAAY,GAChD,IAAA,EAAC,IACA,EAAK,KAAA,eAAuB,MAAA,KAAA,GAE7B,MAAA,GAEF,YADM,KAAA,YAAgB,MAAC,GA3GyB,KAAA,YA6GlD,KAAA,IAOD,EApHyC,CAAA,EAAA,YAmL/B,QAAA,cAAA,EA3DD,IAAA,EAAsB,WAC5B,SAAA,EAAA,GAED,KAAA,SAAA,EACE,KAAA,WAAY,EAAA,OAmBd,OAhBA,EAAA,UAAA,SAAA,WACQ,OAAA,GAEC,EAAA,UAAO,KAAA,WACf,IAAA,EAAA,KAAA,WAGO,OADR,KAAA,WAAA,KAAA,SAAA,OACQ,GAER,EAAC,UAAA,aAAA,WACH,IAAA,EAAC,KAAA,WAAA,OAAA,GAAA,EAAA,MAMC,EAvB6B,GAoBX,EAAA,WACV,SAAA,EAAW,GAGZ,KAAA,MAAM,EACZ,KAAA,MAAA,EAED,KAAA,OAAA,EACE,KAAA,OAAY,EAAA,OAuBsB,OApBpC,EAAA,UAAA,EAAA,UAAK,WACI,OAAA,MAEQ,EAAC,UAAS,KAAO,SAAU,GAC3C,IAAA,EAAA,KAAA,QAED,EAAA,KAAA,MACS,OAAA,EAAI,KAAC,OAAY,CAAG,MAAK,EAAM,GAAA,MAAA,GAAA,CAAA,MAAA,KAAA,MAAA,IAGxC,EAAA,UAAA,SAAA,WACS,OAAA,KAAK,MAAM,OAAM,KAAK,OAEjC,EAAA,UAAC,aAAA,WAAA,OAAA,KAAA,MAAA,SAAA,KAAA,OAOqC,EA/BlB,GAuChB,EAAM,SAAW,GADC,SAAA,EAAA,EAAyB,EAAA,GAN7C,IAAA,EAAA,EAAA,KAAiB,KAAO,IAAC,KAWhB,OAVT,EAAA,OAAc,EACd,EAAA,WAAa,EAKL,EAAA,mBAAA,EACP,EAAA,OAAA,GAED,EAAA,YAAA,EACS,EAJD,OAFY,EAAA,UAAM,EAAqB,GAW/C,EAAA,UAAA,EAAA,UAAA,WACQ,OAAA,MAEK,EAAA,UAAW,KAAM,WAC3B,IAAA,EAAA,KAAA,OAAM,OAAA,IAAA,EAAA,QAAA,KAAA,WACE,CAAE,MAAO,KAAM,MAAM,GAIhC,CAAA,MAAA,EAAA,QAAA,MAAA,IAIA,EAAA,UAAA,SAAA,WACS,OAAA,KAAK,OAAO,OAAM,GAG3B,EAAA,UAAA,aAAc,WACR,OAAwB,IAAxB,KAAK,OAAO,QAAY,KAAA,YAErB,EAAA,UAAO,eAAiB,WAC9B,KAAA,OAAA,OAAA,GAAM,KAAA,YAAA,EACA,KAAA,OAAA,kBAIT,KAAA,YAAA,YAKA,EAAC,UAAA,WAAA,SAAA,EAAA,EAAA,EAAA,EAAA,GAED,KAAA,OAAA,KAAA,GACE,KAAA,OAAO,kBAEX,EAAA,UAAC,UAAA,SAAA,EAAA,GArDqC,OAAA,EAqDrC,EAAA,mBAAA,KAAA,KAAA,WAAA,KAAA,IA7CS,EAAA,CAAA,EAAA;;ACtNV,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,OAAA,eAAA,QAAA,aAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,cAAA,OAAA,eAAA,QAAA,wBAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,yBAAA,OAAA,eAAA,QAAA,oBAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,qBAAA,OAAA,eAAA,QAAA,aAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,cAAA,OAAA,eAAA,QAAA,UAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,WAAA,OAAA,eAAA,QAAA,kBAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,mBAAA,OAAA,eAAA,QAAA,gBAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,iBAAA,OAAA,eAAA,QAAA,eAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,gBAAA,OAAA,eAAA,QAAA,gBAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,QAAA,OAAA,eAAA,QAAA,iBAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,SAAA,OAAA,eAAA,QAAA,iBAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,SAAA,OAAA,eAAA,QAAA,0BAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,kBAAA,OAAA,eAAA,QAAA,uBAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,wBAAA,OAAA,eAAA,QAAA,gBAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,iBAAA,OAAA,eAAA,QAAA,YAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,aAAA,OAAA,eAAA,QAAA,eAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,gBAAA,OAAA,eAAA,QAAA,aAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,cAAA,OAAA,eAAA,QAAA,eAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,gBAAA,OAAA,eAAA,QAAA,mBAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,oBAAA,OAAA,eAAA,QAAA,OAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,QAAA,OAAA,eAAA,QAAA,OAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,QAAA,OAAA,eAAA,QAAA,WAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,YAAA,OAAA,eAAA,QAAA,eAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,gBAAA,OAAA,eAAA,QAAA,0BAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,2BAAA,OAAA,eAAA,QAAA,aAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,cAAA,OAAA,eAAA,QAAA,0BAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,2BAAA,OAAA,eAAA,QAAA,sBAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,uBAAA,OAAA,eAAA,QAAA,eAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,gBAAA,OAAA,eAAA,QAAA,eAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,gBAAA,OAAA,eAAA,QAAA,mBAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,oBAAA,OAAA,eAAA,QAAA,gBAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,iBAAA,OAAA,eAAA,QAAA,SAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,UAAA,OAAA,eAAA,QAAA,QAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,SAAA,OAAA,eAAA,QAAA,QAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,SAAA,OAAA,eAAA,QAAA,QAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,SAAA,OAAA,eAAA,QAAA,WAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,YAAA,OAAA,eAAA,QAAA,OAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,QAAA,OAAA,eAAA,QAAA,YAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,aAAA,OAAA,eAAA,QAAA,mBAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,oBAAA,OAAA,eAAA,QAAA,WAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,YAAA,OAAA,eAAA,QAAA,MAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,OAAA,OAAA,eAAA,QAAA,WAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,YAAA,OAAA,eAAA,QAAA,QAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,SAAA,OAAA,eAAA,QAAA,QAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,SAAA,OAAA,eAAA,QAAA,QAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,SAAA,OAAA,eAAA,QAAA,KAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,MAAA,OAAA,eAAA,QAAA,oBAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,qBAAA,OAAA,eAAA,QAAA,QAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,SAAA,OAAA,eAAA,QAAA,YAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,aAAA,OAAA,eAAA,QAAA,OAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,QAAA,OAAA,eAAA,QAAA,QAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,SAAA,OAAA,eAAA,QAAA,aAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,cAAA,OAAA,eAAA,QAAA,QAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,SAAA,OAAA,eAAA,QAAA,QAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,SAAA,OAAA,eAAA,QAAA,MAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,OAAA,OAAA,eAAA,QAAA,YAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,aAAA,OAAA,eAAA,QAAA,SAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,UApEA,IAAA,EAAA,QAAA,yBACA,EAAA,QAAA,+CAEA,EAAA,QAAA,gCAGA,EAAA,QAAA,gCACA,EAAA,QAAA,sBACA,EAAA,QAAA,8BACA,EAAA,QAAA,4BAGA,EAAA,QAAA,2BACA,EAAA,QAAA,6BACA,EAAA,QAAA,8BACA,EAAA,QAAA,8BACA,EAAA,QAAA,uCACA,EAAA,QAAA,6CAGA,EAAA,QAAA,wBACA,EAAA,QAAA,2BAGA,EAAA,QAAA,yBAGA,EAAA,QAAA,2BACA,EAAA,QAAA,wBACA,EAAA,QAAA,wBACA,EAAA,QAAA,4BAGA,EAAA,QAAA,gCACA,EAAA,QAAA,2CACA,EAAA,QAAA,8BACA,EAAA,QAAA,2CACA,EAAA,QAAA,uCAGA,EAAA,QAAA,gCACA,EAAA,QAAA,sCACA,EAAA,QAAA,0CACA,EAAA,QAAA,uCACA,EAAA,QAAA,gCACA,EAAA,QAAA,+BACA,EAAA,QAAA,+BACA,EAAA,QAAA,kCACA,EAAA,QAAA,8BACA,EAAA,QAAA,mCACA,EAAA,QAAA,0CACA,EAAA,QAAA,kCACA,EAAA,QAAA,6BACA,EAAA,QAAA,kCACA,EAAA,QAAA,+BACA,EAAA,QAAA,+BACA,EAAA,QAAA,4BACA,EAAA,QAAA,2CACA,EAAA,QAAA,+BACA,EAAA,QAAA,mCACA,EAAA,QAAA,8BACA,EAAA,QAAA,+BACA,EAAA,QAAA,oCACA,EAAA,QAAA,+BACA,EAAA,QAAA,+BACA,EAAA,QAAA,6BAGA,EAAA,QAAA,kCAAA,EAAA,QAAA;;ACKoC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,MAAA,EArEpC,IAAA,EAAA,EAAA,QAAA,UACA,EAAA,QAAA,sBAgDA,EAAA,QAAA,6BAoBoC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAnBlC,SAAO,EAAS,GACd,OAAA,SAAuB,GACvB,OAAA,EAAA,KAAA,IAAA,EAAA,KAIF,IAAA,EAAoB,WAAA,SAAA,EAAA,GACnB,KAAA,iBAAA,EAKF,OAFU,EAAA,UAAO,KAAU,SAAI,EAAsB,GACnD,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,oBACF,EANqB,GAac,EAAA,SAAqB,GAMvD,SAAA,EAEE,EAAM,GADY,IAAA,EAAA,EAAA,KAAgB,KAAhB,IAA0D,KAE7E,OANO,EAAA,iBAA0B,EAHA,EAAA,UAAA,EASjC,EATiC,OAMlC,EAAA,UAAA,EAAY,GAMA,EAAA,UAAS,MAAA,SAAA,GAGjB,GAFG,KAAA,MAAQ,EACR,KAAA,UAAK,GACR,KAAI,UAAQ,CACR,IAAA,OAAA,EACM,IAET,GAAA,EADY,KAAiB,kBAC7B,GACC,MAAA,GACD,OAAA,KAAA,YAAA,MAAA,GAEG,IAAA,GAAkB,EAAI,EAAA,mBAAA,KAAkB,IAC1C,GAAqB,EAAA,OACtB,KAAA,gBAEA,KAAA,IAAA,KAAA,UAAA,KAKG,EAAA,UAAE,cAAO,WACX,IAAW,EAAX,KAAW,MAAA,EAAX,KAAW,SAAA,EAAX,KAAW,UACb,IACK,KAAA,OAAA,GACL,KAAA,UAAU,KACX,EAAA,eAEC,IACK,KAAA,MAAQ,KACR,KAAA,UAAW,EACjB,KAAA,YAAA,KAAA,KAII,EAAA,UAAgB,WAAA,SAAA,EAAA,EAAA,EAAA,GACtB,KAAA,iBAGM,EAAA,UAAgB,eAAA,WACtB,KAAA,iBAnDiC,EAAA,CAAA,EAAA;;ACnBnC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EAvDD,IAAA,EAAA,QAAA,sBACA,EAAA,QAAA,WAoDA,EAAA,QAAA,uBAA+C,SAAA,EAAA,EAAA,GAE9C,YADc,IAAb,IACD,EAAA,EAAA,QAAA,EAAA,EAAA,OAAA,WAAA,OAAA,EAAA,EAAA,OAAA,EAAA;;ACaiC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,OAAA,EAlElC,IAAA,EAAA,EAAA,QAAA,UAEA,EAAA,QAAA,sBA2CA,EAAA,QAAA,6BAqBkC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EApBhC,SAAO,EAAS,GACd,OAAA,SAAuB,GACvB,OAAA,EAAA,KAAA,IAAA,EAAA,KAKF,IAAA,EAAoB,WAAA,SAAA,EAAe,GAClC,KAAA,gBAAA,EAKF,OAFU,EAAA,UAAO,KAAc,SAAA,EAAiB,GAC9C,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,mBACF,EANqB,GAaY,EAAA,SAAuB,GAGvD,SAAA,EACE,EAAM,GAHA,IAAA,EAAM,EAAW,KAAA,KAAA,IAAA,KAKxB,OADC,EAAK,OAAI,GALqB,EAAA,KAAA,EAAA,EAAA,mBAAA,EAAA,IAM/B,EAN+B,OAGhC,EAAA,UAAA,EAAY,GAME,EAAA,UAAW,MAAC,SAAA,GACzB,KAAA,OAAA,KAAA,IAKa,EAAG,UAAK,WAAO,SAAA,EAAA,EAAA,EAAA,EAAA,GACvB,IAAA,EAAO,KAAM,OACZ,KAAA,OAAA,GACN,KAAA,YAAA,KAAA,IAlB+B,EAAA,CAAA,EAAA;;ACuDxB,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,YAAA,EA3HV,IAAA,EAAA,EAAA,QAAA,UA2DA,EAAA,QAAA,iBAgEU,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAhEyC,SAAA,EAAA,EAAA,GAIlD,YAHiB,IAAhB,IACE,EAAmB,MAEtB,SAAA,GAED,OAAA,EAAA,KAAA,IAAA,EAAA,EAAA,KAGkD,IAAA,EAAA,WACzC,SAAA,EAAoB,EAAU,GACjC,KAAA,WAAK,EACN,KAAA,iBAAA,EAKH,KAAA,gBALS,GAAA,IAAA,EAKT,EAJ2B,EAcU,OAPvC,EAAA,UAAC,KAAA,SAAA,EAAA,GAAA,OAAA,EAAA,UAAA,IAAA,KAAA,gBAAA,EAAA,KAAA,WAAA,KAAA,oBAOsC,EAlBW,GAsB9C,EAAM,SAAY,GAHZ,SAAA,EAAiB,EAAA,GAoCjB,IAAA,EAAA,EAAA,KAAA,KAAA,IAAA,KA7BA,OAHP,EAAA,WAAA,EAES,EAAA,OAAA,GACF,EAwBiC,OA7BS,EAAA,UAAA,EAAkB,GASjD,EAAA,UAAS,MAAU,SAAE,GACpC,IAAA,EAAK,KAAA,OACL,EAAA,KAAK,GACN,EAAA,QAAA,KAAA,aACF,KAAA,YAAA,KAAA,GAES,KAAA,OAAA,KAGD,EAAA,UAAiB,UAAQ,WAC/B,IAAA,EAAA,KAAA,OACD,EAAA,OAAM,GACP,KAAA,YAAA,KAAA,GAxBoC,EAyBtC,UAAA,UAAA,KAAA,OAO0C,EA5BjC,CAAA,EAAA,YAiCN,EAAM,SAAY,GAD0D,SAAA,EAAA,EAAwB,EAAA,GAH9F,IAAA,EAAA,EAAyB,KAAA,KAAA,IAAA,KAQzB,OAPA,EAAA,WAAkB,EAGlB,EAAA,iBAAA,EACP,EAAA,QAAA,GAES,EAAA,MAAA,EACF,EAJA,OAD0C,EAAA,UAAA,EAAkB,GAQtD,EAAA,UAAgB,MAAQ,SAAA,GAClC,IAAQ,EAAR,KAAiB,WAAA,EAAjB,KAAiB,iBAAA,EAAjB,KAAiB,QAAA,EAAjB,KAAiB,MAClB,KAAA,QAED,EAAU,GAAsB,GAC9B,EAAM,KAAS,IAEf,IAAA,IAAI,EAAA,EAAa,OAAK,KAAA,CACpB,IAAA,EAAQ,EAAQ,GAChB,EAAA,KAAK,GACN,EAAA,SAAA,IACF,EAAA,OAAA,EAAA,GACF,KAAA,YAAA,KAAA,MAMgB,EAAA,UAAe,UAAC,WAE3B,IADF,IAAW,EAAP,KAAmB,QAAA,EAAnB,KAAmB,YACrB,EAAA,OAAgB,GAAC,CAClB,IAAA,EAAA,EAAA,QACF,EAAA,OAAA,GACD,EAAM,KAAA,GAnCiC,EAsC1C,UAAA,UAAA,KAAA,OAjCS,EAAA,CAAA,EAAA;;AC6HT,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,WAAA,EAxPD,IAAA,EAAA,EAAA,QAAA,UAEA,EAAA,QAAA,sBAEA,EAAA,QAAA,iBAkEA,EAAA,QAAA,uBAkLC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAjLC,SAAU,EAAqB,GAE3B,IAAA,EAAS,UAAwB,OACjC,EAAY,EAAhB,OACE,EAAY,EAAA,aAAA,UAAU,UAAU,OAAS,MACzC,EAAS,UAAA,UAAA,OAAA,GACV,KAGG,IAAA,EAAa,KACf,GAAA,IACD,EAAA,UAAA,IAGG,IAAA,EAAa,OAAA,kBAKf,OAJA,GAAA,IACD,EAAA,UAAA,IAGC,SAAuB,GACvB,OAAA,EAAA,KAAA,IAAA,EAAA,EAAA,EAAA,EAAA,KAIF,IAAA,EAAoB,WAAA,SAAA,EAAA,EAAsB,EAAA,EAAA,GACtB,KAAA,eAAA,EACA,KAAA,uBAAA,EACA,KAAA,cAAA,EACnB,KAAA,UAAA,EAOF,OAJiB,EAAA,UAAU,KAAI,SAAA,EAC1B,GAEH,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,eAAA,KAAA,uBAAA,KAAA,cAAA,KAAA,aACF,EAXqB,GAatB,EAAA,WAGC,OAFC,WAED,KAAA,OAAA,IAHD,GAsBsC,EAAA,SAAa,GAIjD,SAAA,EAKE,EAAM,EAYP,EAAA,EAAA,GAhBmB,IAAA,EAAA,EAAA,KAAA,KAAA,IAAsB,KACtB,EAAA,eAAA,EACA,EAAA,uBAAA,EACA,EAAA,cAAA,EAPZ,EAAA,UAA8B,EASpC,EAAM,SAAU,GAChB,IAAA,EAAK,EAAY,cAEf,GADF,EAAI,aAAmB,MAAd,GAAc,EAAA,EACrB,EAAM,aAAA,CACN,IAAA,EAAiB,CAAA,WAAc,EAAU,QAAS,EAAA,eAA4B,GAC/E,EAAA,IAAA,EAAA,YAAA,EAAA,SAAA,EAAA,EAAA,QACC,CACM,IAAA,EAAa,CAAA,WAA2B,EAAc,QAAA,GAC5D,EAAiB,CAAA,eAAc,EAAwC,uBAAqB,EAA6B,WAAA,EAAA,UAAA,GACzH,EAAK,IAAI,EAAA,YAAyC,EAAA,SAAsB,EAAE,EAAwB,IACnG,EAAA,IAAA,EAAA,SAAA,EAAA,EAAA,IACF,OAAA,EArBmC,OAIpC,EAAA,UAAA,EAAY,GAoBO,EAAA,UAAK,MAAS,SAAA,GAI7B,IAHI,IAEN,EAFM,EAAM,KAAS,SACjB,EAAA,EAAA,OAEI,EAAA,EAAA,EAAU,EAAA,IAAU,CACpB,IAAA,EAAS,EAAQ,GACvB,EAAY,EAAO,OACnB,EAAI,KAAO,GACT,EAAA,QAAA,KAAsB,gBACvB,EAAA,GAID,GACD,KAAA,aAAA,IAIa,EAAA,UAAW,OAAA,SAAA,GACzB,KAAA,SAAA,OAAY,EACb,EAAA,UAAA,OAAA,KAAA,KAAA,IAGS,EAAA,UAAA,UAAU,WAEhB,IADF,IAAe,EAAR,KAAqB,SAAA,EAArB,KAAqB,YAC1B,EAAM,OAAU,GAAQ,CACxB,IAAA,EAAgB,EAAC,QAClB,EAAA,KAAA,EAAA,QAEF,EAAA,UAAA,UAAA,KAAA,OAIiB,EAAA,UAAK,aAAA,WACtB,KAAA,SAAA,MAGM,EAAY,UAAU,aAAA,SAAA,GACrB,KAAA,aAAc,GACpB,IAAA,EAAY,EAAc,YAIxB,GAHF,EAAY,cAEP,KAAA,OAAK,IACR,KAAA,QAAe,KAAA,aAAc,CAC7B,EAAM,KAAA,cACA,IAAA,EAAiB,KAAK,eACxB,EAAa,CAAA,WAAmB,KAAA,QAAU,EAAS,eAAA,GACxD,KAAA,IAAA,EAAA,YAAA,KAAA,UAAA,SAAA,EAAA,EAAA,MAI2B,EAAA,UAAgB,YAAC,WACzC,IAAA,EAAU,IAAI,EAEnB,OADC,KAAA,SAAc,KAAC,GAChB,GAGiB,EAAC,UAAK,aAAgB,SAAA,GAChC,KAAA,YAAW,KAAK,EAAS,QAEzB,IAAA,EAAW,KAAG,UACL,EAAO,EAAA,QAAA,IAAA,IACL,GAChB,EAAA,OAAA,EAAA,QAAA,GAAA,IAvFiC,EAAA,CA2FtC,EA3FsC,YA4F9B,SAAA,EAA8C,GAE9C,IAAA,EAAW,EAAQ,WACrB,EAAa,EAAA,QACf,GACD,EAAA,aAAA,GAGC,EAAM,SACN,EAAM,QAAQ,EAAW,cAC1B,EAAA,QAAA,YAAA,KAAA,SAAA,EAAA,EAAA,iBAIO,SAAA,EAAA,GACF,IAAA,EAAqB,EAAA,uBAAc,EAAA,EAAA,eAAA,EAAA,EAAA,WAAA,EAAA,EAAA,UACnC,EAAgD,EAAK,cAEzD,EAAW,SACX,EAAO,IAAQ,EAAQ,YAAA,EAAwB,SAAA,EAAA,EAAA,CAAA,WAAA,EAAA,QAAA,KAF5C,KAGJ,SAAA,EAAA,IAIO,SAAA,EAAA,GACR,IAAA,EAAW,EAAA,WAAsB,EAAA,EAAA,QAClC,EAAA,aAAA;;ACpK0C,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAlF3C,IAAA,EAAA,EAAA,QAAA,UACA,EAAA,QAAA,mBACA,EAAA,QAAA,6BAkDA,EAAA,QAAA,sBA8B2C,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EA1BzC,SAAO,EAAS,EAAA,GACd,OAAA,SAAuB,GACvB,OAAA,EAAA,KAAA,IAAA,EAAA,EAAA,KAKF,IAAA,EAAsD,WAAlC,SAAA,EAAkC,EAAA,GAClC,KAAA,SAAA,EACnB,KAAA,gBAAA,EAKF,OAFiB,EAAA,UAAU,KAAI,SAAA,EAAuB,GACpD,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,SAAA,KAAA,mBACF,EAPuD,GAmBb,EAAA,SAAqB,GAG9D,SAAA,EAGE,EAAiB,EAElB,GAJmB,IAAA,EAAA,EAAA,KAAA,KAAkC,IAAA,KAIrD,OAHmB,EAAA,SAAA,EAJZ,EAAA,gBAAuC,EAM7C,EAAK,SAAI,GAP8B,EAAA,KAAA,EAAA,EAAA,mBAAA,EAAA,IAQxC,EARwC,OAGzC,EAAA,UAAA,EAAY,GAQO,EAAI,UAAU,MAAA,SAAA,GAG7B,IAFI,IAAA,EAAM,KAAS,SACrB,EAAU,EAAO,OACf,EAAS,EAAG,EAAA,EAAO,IACpB,EAAA,GAAA,OAAA,KAAA,IAIgB,EAAI,UAAU,OAAA,SAAA,GAE7B,IADF,IAAA,EAAe,KAAC,SACd,EAAM,OAAU,GAAQ,CACxB,IAAA,EAAQ,EAAa,QACrB,EAAQ,aAAa,cACrB,EAAQ,OAAA,KACT,EAAA,aAAA,KAED,KAAA,SAAA,KACD,EAAA,UAAA,OAAA,KAAA,KAAA,IAGkB,EAAI,UAAU,UAAA,WAE7B,IADF,IAAA,EAAe,KAAC,SACd,EAAM,OAAU,GAAQ,CACpB,IAAA,EAAY,EAAM,QACtB,KAAA,YAAQ,KAAY,EAAC,QACrB,EAAQ,aAAa,cACrB,EAAQ,OAAA,KACT,EAAA,aAAA,KAED,KAAA,SAAA,KACD,EAAA,UAAA,UAAA,KAAA,OAKmB,EAAA,UAAW,WAAa,SAAO,EAAW,EAAY,EAAA,EAAA,GACzE,EAAA,KAAA,YAAA,GAAA,KAAA,WAAA,IAGyB,EAAA,UAAU,eAAS,SAAA,GAC5C,KAAA,YAAA,EAAA,UAGK,EAAA,UAAA,WAAA,SAAA,GACF,IACM,IACF,EADoB,KAAA,gBACH,KAAA,KAAA,GACnB,GACD,KAAA,aAAA,GAED,MAAA,GACD,KAAA,OAAA,KAIgB,EAAI,UAAU,YAAA,SAAA,GAE3B,IAAA,EAAQ,KAAI,SACN,GAAA,GAAA,EAAA,CACJ,IAAA,EAAC,EAAgB,OAAQ,EAAC,EAAA,aAC9B,KAAA,YAAgB,KAAA,GAChB,EAAK,OAAO,EAAa,QAAC,GAAA,GAC1B,KAAA,OAAY,GACb,EAAA,gBAIgB,EAAI,UAAU,aAAA,SAAA,GAEzB,IAAA,EAAqB,KAAC,SAEtB,EAAY,IAAM,EAAN,aAClB,EAAc,CAAA,OAFR,GAEiB,aAAA,GAEvB,EAAM,KAAA,GAEF,IAAA,GAAkB,EAAI,EAAA,mBAAA,KAAkB,EAAQ,IAClD,GAAiB,EAAS,OAC3B,KAAA,YAAA,IAGC,EAAS,QAAmB,EAC5B,KAAA,IAAA,GACD,EAAA,IAAA,KA9FsC,EAAA,CAAA,EAAA;;ACbL,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,WAAA,EArEtC,IAAA,EAAA,EAAA,QAAA,UACA,EAAA,QAAA,mBAEA,EAAA,QAAA,sBA6CA,EAAA,QAAA,6BAqBsC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EApBpC,SAAO,EAA+B,GACpC,OAAA,SAAa,GACb,OAAA,EAAA,KAAA,IAAA,EAAA,KAKF,IAAA,EAAoB,WAAA,SAAA,EAAA,GACnB,KAAA,gBAAA,EAKF,OAFiB,EAAA,UAAU,KAAI,SAAA,EAAqB,GAClD,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,mBACF,EANqB,GAagB,EAAA,SAAuB,GAK3D,SAAA,EACE,EAAM,GAD0C,IAAA,EAAA,EAAA,KAAA,KAAA,IAAsC,KAGvF,OANO,EAAA,gBAAuB,EAK7B,EAAK,aAAa,EAPgB,EAAA,aAQnC,EARmC,OAKpC,EAAA,UAAA,EAAY,GAMM,EAAC,UAAO,MAAA,SAAA,GACzB,KAAA,OAAA,KAAA,IAGgB,EAAI,UAAQ,UAAA,WACvB,IAAA,EAAQ,KAAA,OACV,GACD,KAAA,YAAA,KAAA,GAEF,EAAA,UAAA,UAAA,KAAA,OAIe,EAAA,UAAK,aAAA,WACd,KAAA,OAAA,KACN,KAAA,aAAA,GAKgB,EAAE,UAAC,WAAA,SAAA,EAAA,EAAA,EAAA,EAAA,GACnB,KAAA,cAGU,EAAA,UAAa,eAAA,WACpB,KAAK,YACN,KAAA,WAEA,KAAA,cAIK,EAAA,UAAA,WAAA,WAEF,IAAA,EAAqB,KAAA,oBACvB,IACA,KAAA,OAAA,GACD,EAAA,eAGG,IAOA,EAPA,EAAK,KAAQ,OACf,KAAK,QACN,KAAA,YAAA,KAAA,GAIG,KAAA,OAAA,GAEM,IAET,GAAA,EADmB,KAAA,mBAElB,MAAA,GACD,OAAA,KAAA,MAAA,GAED,EAAK,IAAmB,EAAnB,aACA,KAAA,oBAAI,EACJ,KAAA,IAAA,GACL,KAAA,aAAmB,EACnB,EAAmB,KAAK,EAAC,EAAA,mBAAA,KAAA,IAC1B,KAAA,aAAA,GAtEmC,EAAA,CAAA,EAAA;;AC2CF,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,WAAA,EA/GpC,IAAA,EAAA,EAAA,QAAA,UACA,EAAA,QAAA,sBACA,EAAA,QAAA,sBAmFA,EAAA,QAAA,6BA0BoC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAvBlC,SAAO,EAAS,GACd,OAAA,SAAmC,GAC7B,IAAA,EAAS,IAAM,EAAc,GACnC,EAAQ,EAAS,KAAM,GACvB,OAAA,EAAA,OAAA,GAMF,IAAA,EAAyF,WAArE,SAAA,EAAA,GACnB,KAAA,SAAA,EAKF,OAFU,EAAA,UAAO,KAAU,SAAI,EAAgB,GAC7C,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,SAAA,KAAA,UACF,EAN0F,GAavD,EAAA,SAAyB,GAC3D,SAAA,EAGE,EAAM,EAAY,GAFA,IAAA,EAAA,EAAA,KAAA,KAAqE,IAAA,KAGxF,OAFmB,EAAA,SAAA,EAHc,EAAA,OAAA,EAKjC,EALiC,OAClC,EAAA,UAAA,EAAY,GAYA,EAAA,UAAW,MAAA,SAAA,GACnB,IAAA,KAAI,UAAM,CACN,IAAA,OAAA,EACF,IACD,EAAA,KAAA,SAAA,EAAA,KAAA,QACC,MAAA,GAED,YADC,EAAO,UAAA,MAAA,KAAA,KAAA,GAGH,KAAA,yBACF,IAAA,EAAK,IAAiB,EAAjB,gBAAiB,UAAA,OAAA,GAC1B,KAAA,IAAA,IACD,EAAA,EAAA,mBAAA,KAAA,OAAA,OAAA,EAAA,KAzB+B,EAAA,CAAA,EAAA;;AC3DnC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,WAAA,EAFD,IAAA,EAAA,QAAA,+BACE,SAAO,EAAsB,GAC9B,OAAA,SAAA,GAAA,OAAA,EAAA,KAAA,IAAA,EAAA,sBAAA;;ACEA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,cAAA,EAxDD,IAAA,EAAA,QAAA,mBACA,EAAA,QAAA,+BAIA,EAAA,QAAA,sBAoCA,EAAM,GAA8B,SAAA,IAAA,IAE+C,IAAA,EAF/C,GAAA,EAAA,EAAA,EAAA,UAAA,OAE+C,IAalF,EAAA,GAAA,UAAA,GAXK,IAAA,EAAO,KAWZ,MAV6D,mBAAnD,EAAiC,EAAkB,OAAA,KAC3D,EAAA,EAAA,OAKqB,IAApB,EAAW,SAAwB,EAAQ,EAAA,SAAA,EAAC,MAC7C,EAAA,EAAA,GAAA,SAGF,SAAA,GAAA,OAAA,EAAA,KAAA,MAAA,EAAA,EAAA,MAAA,CAAA,GAAA,OAAA,IAAA,IAAA,EAAA,sBAAA;;AC9BA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,OAAA,EAFD,IAAA,EAAA,QAAA,wBAA6B,SAAA,IAAA,IAA2D,IAAA,EAA3D,GAAA,EAAA,EAAA,EAAA,UAAA,OAA2D,IAEvF,EAAA,GAAA,UAAA,GAAA,OAAA,SAAA,GAAA,OAAA,EAAA,KAAA,KAAA,EAAA,OAAA,WAAA,EAAA,CAAA,GAAA,OAAA;;ACgDA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EALD,IAAA,EAAA,QAAA,cAIE,SAAO,EAAS,EAAS,GAC1B,OAAA,EAAA,EAAA,UAAA,EAAA,EAAA;;ACJA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,YAAA,EALD,IAAA,EAAA,QAAA,eAIE,SAAO,EAAU,EAAM,GACxB,OAAA,EAAA,EAAA,WAAA,WAAA,OAAA,GAAA;;ACWgC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,MAAA,EAhFjC,IAAA,EAAA,EAAA,QAAA,UA6DA,EAAA,QAAA,iBAmBiC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAlB/B,SAAO,EAAC,GACT,OAAA,SAAA,GAAA,OAAA,EAAA,KAAA,IAAA,EAAA,EAAA,KAGC,IAAA,EAAoB,WAAA,SAAA,EAAA,EAAuE,GACvE,KAAA,UAAA,EACnB,KAAA,OAAA,EAKF,OAFU,EAAA,UAAO,KAAU,SAAI,EAAgB,GAC7C,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,UAAA,KAAA,UACF,EAPqB,GAcW,EAAA,SAAa,GAI5C,SAAA,EAGE,EAAM,EAAY,GAFA,IAAA,EAAA,EAAA,KAAA,KAAuE,IAAA,KAG1F,OAFmB,EAAA,UAAA,EALZ,EAAA,OAAiB,EACjB,EAAA,MAAgB,EAFO,EAAA,MAAA,EAQ9B,EAR8B,OAI/B,EAAA,UAAA,EAAY,GAOD,EAAA,UAAW,MAAA,SAAA,GAClB,KAAK,UACN,KAAA,cAAA,GAEA,KAAA,SAIe,EAAA,UAAA,cAAA,SAAA,GAEZ,IAAA,EACF,IACD,EAAA,KAAA,UAAA,EAAA,KAAA,QAAA,KAAA,QACC,MAAA,GAED,YADC,KAAA,YAAO,MAAA,GAIP,GACD,KAAA,SAII,EAAA,UAAiB,UAAY,WAC7B,KAAA,YAAY,KAAA,KAAU,OAC5B,KAAA,YAAA,YApC8B,EAAA,CAAA,EAAA;;ACPM,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,SAAA,EAtEvC,IAAA,EAAA,EAAA,QAAA,UAEA,EAAA,QAAA,sBAkDA,EAAA,QAAA,6BAkBuC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAjBrC,SAAO,EAAC,GACT,OAAA,SAAA,GAAA,OAAA,EAAA,KAAA,IAAA,EAAA,KAGC,IAAA,EAAoB,WAAA,SAAA,EAAgB,GACnC,KAAA,iBAAA,EAKF,OAFU,EAAM,UAAU,KAAK,SAAA,EAAmB,GAChD,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,oBACF,EANqB,GAaiB,EAAA,SAAqB,GAK1D,SAAA,EAEE,EAAM,GADY,IAAA,EAAA,EAAA,KAAgB,KAAhB,IAA0D,KAE7E,OANO,EAAA,iBAA0B,EAC1B,EAAA,UAAA,EAH6B,EAAA,qBAAA,KAQpC,EARoC,OAKrC,EAAA,UAAA,EAAY,GAMN,EAAA,UAAA,MAAA,SAAA,GACF,IAEI,IAAA,EAAQ,KAAA,iBAAA,KAAA,KAAA,GACV,GACD,KAAA,SAAA,EAAA,GAED,MAAA,GACD,KAAA,YAAA,MAAA,KAIa,EAAA,UAAG,UAAA,WACZ,KAAA,YACN,KAAA,YAAA,YAGK,EAAA,UAAoB,SAAA,SAAqB,EAAA,GACzC,IAAA,EAAe,KAAA,qBACd,KAAA,MAAQ,EACT,KAAA,UAAY,EACd,IACA,EAAY,cACb,KAAA,OAAA,KAGD,GAAI,EAA6B,EAAA,mBAAA,KAAC,MAClB,EAAA,QACf,KAAA,IAAA,KAAA,qBAAA,IAMa,EAAA,UAAG,WAAA,SAAA,EAAA,EAAA,EAAA,EAAA,GAClB,KAAA,aAGe,EAAA,UAAG,eAAA,WAClB,KAAA,aAGU,EAAA,UAAU,UAAA,WACjB,GAAA,KAAM,SAAQ,CACR,IAAA,EAAA,KAAY,MACd,EAAc,KAAA,qBAChB,IACA,KAAA,qBAA2B,KAC3B,EAAY,cACb,KAAA,OAAA,IAOI,KAAA,MAAQ,KACb,KAAA,UAAA,EACD,EAAA,UAAA,MAAA,KAAA,KAAA,KArEkC,EAAA,CAAA,EAAA;;ACS7B,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAnFV,IAAA,EAAA,EAAA,QAAA,UAEA,EAAA,QAAA,iBAuDA,EAAA,QAAA,sBA0BU,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EA1BuC,SAAA,EAAA,EAAA,GAK/C,YAJQ,IAAR,IACD,EAAA,EAAA,OAGC,SAAA,GAAoB,OAAA,EAAyB,KAAA,IAAwB,EAAA,EAAA,KAAf,IAAA,EAAe,WACpE,SAAA,EAAA,EAAA,GAED,KAAA,QAAA,EACE,KAAA,UAAc,EASsB,OAPxC,EAAA,UAAC,KAAA,SAAA,EAAA,GAAA,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,QAAA,KAAA,aAOuC,EAb+B,GAqBnE,EAAM,SAAY,GADA,SAAA,EAAwB,EAAA,EAAA,GANpC,IAAA,EAAA,EAAA,KAAA,KAAsC,IAAK,KAW5C,OAVC,EAAA,QAAS,EACT,EAAA,UAAoB,EAKpB,EAAA,sBAAA,KACP,EAAA,UAAA,KAES,EAAA,UAAA,EACH,EAuCP,OA7CoB,EAAA,UAAO,EAAQ,GAQjB,EAAA,UAAK,MAAA,SAAA,GAChB,KAAA,gBACN,KAAA,UAAA,EAES,KAAA,UAAA,EACH,KAAA,IAAA,KAAA,sBAAgB,KAAA,UAAA,SAAA,EAAA,KAAA,QAAA,QAEvB,EAAC,UAAA,UAAA,WAED,KAAA,gBACO,KAAA,YAAA,YAGK,EAAA,UAAA,cAAmB,WAO3B,GADA,KAAA,gBACA,KAAK,SAAQ,CACT,IAAA,EAAY,KAAK,UACtB,KAAA,UAAA,KACF,KAAA,UAAA,EAEO,KAAA,YAAA,KAAA,KAIQ,EAAA,UAAA,cAAuB,WACnC,IAAA,EAAsB,KAAA,sBACI,OAA1B,IACD,KAAA,OAAA,GACF,EAAA,cACH,KAAA,sBAAC,OAGC,EA3CQ,CA4CT,EA5CS,YAAA,SAAA,EAAA,GAAA,EAAA;;AChBA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,eAAA,EAnEV,IAAA,EAAA,EAAA,QAAA,UA4CA,EAAA,QAAA,iBAuBU,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAvB2B,SAAA,EAAA,GAMnC,YALQ,IAAR,IACD,EAAA,MAIC,SAAA,GAAoB,OAAA,EAAA,KAAe,IAAA,EAAA,KACnC,IAAA,EAAC,WAED,SAAA,EAAA,GACE,KAAA,aAAc,EAS2B,OAP7C,EAAA,UAAC,KAAA,SAAA,EAAA,GAAA,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,gBAO4C,EAZ1C,GAgBC,EAAM,SAAY,GAHZ,SAAA,EAAwB,EAAA,GAGxB,IAAA,EAAA,EAAA,KAAA,KAAA,IAAA,KAID,OAHN,EAAA,aAAA,EAES,EAAA,SAAA,EACH,EAJC,OAD4C,EAAA,UAAA,EAAe,GAOnE,EAAC,UAAA,MAAA,SAAA,GAES,KAAA,SAAA,EACJ,KAAA,YAAY,KAAE,IAEjB,EAAA,UAAA,UAAA,WACG,KAAC,SACN,KAAA,YAAA,KAAA,KAAA,cAjBoD,KAAA,YAkBtD,YAdS,EAAA,CAAA,EAAA;;ACnET,aADC,SAAY,EAAA,GACb,OAAA,aAAA,OAAA,OAAA,GAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,OAAA;;AC4J6B,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,MAAA,EA9J9B,IAAA,EAAA,EAAA,QAAA,UACA,EAAA,QAAA,sBAEA,EAAA,QAAA,kBAEA,EAAA,QAAA,iBAsDA,EAAA,QAAA,mBAmG8B,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAlGL,SAAA,EAAA,EAAA,QACJ,IAAb,IACA,EAAW,EAAX,OAEP,IAED,GAFC,EAAA,EAAA,QAAA,IAED,EAAA,EAAA,MAAA,KAAA,IAAA,GACE,OAAA,SAAA,GACoB,OAAA,EAAwB,KAAA,IAAA,EAAA,EAAA,KAAxB,IAAA,EAAwB,WAC3C,SAAA,EAAA,EAAA,GAED,KAAA,MAAA,EACE,KAAA,UAAc,EAee,OAbjC,EAAA,UAAC,KAAA,SAAA,EAAA,GAAA,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,MAAA,KAAA,aAagC,EAnBa,GA2C5C,EAGE,SAAM,GADY,SAAA,EAAA,EAAwB,EAAA,GAzBpC,IAAA,EAAK,EAA8B,KAAA,KAAA,IAAA,KAKnC,OAJA,EAAA,MAAM,EACN,EAAA,UAAmB,EAoEC,EAAA,MAAA,GA3C3B,EAAA,QAAA,EAvBc,EAAA,SAAA,EACP,EAgER,OA7CoB,EAAA,UAAA,EAAa,GAjBzB,EAAA,SAAkB,SAAU,GAO9B,IANE,IAAA,EAAA,EAAc,OAEpB,EAAY,EAAO,MACjB,EAAW,EAAG,UACf,EAAA,EAAA,YAEG,EAAM,OAAY,GAAA,EAAA,GAAA,KAAA,EAAA,OAAA,GACpB,EAAM,QAAQ,aAAY,QAAS,GAEpC,GAAA,EAAA,OAAA,EAAA,CAAM,IAAA,EAAA,KAAA,IAAA,EAAA,EAAA,GAAA,KAAA,EAAA,OACA,KAAA,SAAA,EAAc,QAGtB,KAAA,cAQO,EAAA,QAAA,GAGK,EAAC,UAAI,UAAkB,SAAgB,GAChD,KAAA,QAAQ,EACN,KAAA,YACL,IAAA,EAAA,SAAA,EAAA,SAAA,KAAA,MAAA,CAEO,OAAA,KAAA,YAAA,KAAA,YAAR,UAA6B,MAG1B,EAAA,UAAA,qBAAA,SAAA,GAEK,IAAiB,IAAjB,KAAA,QAAA,CAIF,IAAA,EAAW,KAAK,UAClB,EAAK,IAAS,EAAY,EAAA,MAAA,KAAA,MAAA,GAC3B,KAAA,MAAA,KAAA,IACF,IAAA,KAAA,QAES,KAAA,UAAA,KAIA,EAAA,UAAA,MAAM,SAAhB,GACO,KAAA,qBAAe,EAAA,aAAA,WAAA,KAEf,EAAA,UAAiB,OAAM,SAAA,GACvB,KAAA,SAAA,EACN,KAAA,MAAA,GAES,KAAA,YAAA,MAAA,GACH,KAAA,eAEP,EAAC,UAAA,UAAA,WACH,KAAA,qBAAC,EAAA,aAAA,kBAnE0C,KAAA,eAsEzC,EA3CE,CAAA,EAAA,YA4C0B,EAAA,WAAA,OAC3B,SAAA,EAAA,GACH,KAAA,KAAA,EAAC,KAAA,aAAA,GAF6B;;ACsCe,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EAnM7C,IAAA,EAAA,EAAA,QAAA,UACA,EAAA,QAAA,iBAEA,EAAA,QAAA,iBAEA,EAAA,QAAA,sBAqEA,EAAA,QAAA,6BAyH6C,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAvH3C,SAAI,EAAiB,EAAE,GACrB,OAAA,EACE,SAAI,GACD,OAAA,IAAK,EAAsB,EAAA,GAAwB,KAAA,IAAA,EAAA,KAG3D,SAAA,GAAA,OAAA,EAAA,KAAA,IAAA,EAAA,KAGC,IAAA,EAAoB,WAAA,SAAA,EAAA,GACnB,KAAA,sBAAA,EAKF,OAFgB,EAAC,UAAU,KAAI,SAAA,EAAoB,GACjD,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,yBACF,EANqB,GAakB,EAAA,SAAqB,GAK3D,SAAA,EAEE,EAAM,GADY,IAAA,EAAA,EAAA,KAAA,KAAA,IAAA,KAEnB,OAPO,EAAA,sBAA2B,EAC3B,EAAA,WAAA,EACA,EAAA,2BAAkB,GA8FiB,EAAA,MAAA,EAzF1C,EARqC,OAKtC,EAAA,UAAA,EAAY,GAQL,EAAW,UAAM,WAAY,SAAA,EAAA,EAAA,EAAA,EAAA,GAC7B,KAAA,YAAA,KAAA,GACA,KAAA,mBAAc,GACpB,KAAA,eAGa,EAAA,UAAO,YAAA,SAAA,EAAA,GACpB,KAAA,OAAA,IAGe,EAAI,UAAC,eAAmB,SAAU,GAC5C,IAAA,EAAO,KAAA,mBAAA,GACT,GACD,KAAA,YAAA,KAAA,GAEF,KAAA,eAGe,EAAI,UAAS,MAAA,SAAA,GACvB,IAAA,EAAA,KAAA,QACF,IACI,IAAA,EAAe,KAAA,sBAAA,EAAA,GACjB,GACD,KAAA,SAAA,EAAA,GAED,MAAA,GACD,KAAA,YAAA,MAAA,KAIa,EAAA,UAAQ,UAAA,WACjB,KAAA,WAAW,EACX,KAAA,cACN,KAAA,eAGc,EAAA,UAAa,mBAAC,SAAA,GAE3B,EAAM,cACF,IAAA,EAAe,KAAO,2BAAE,QAAA,GAK7B,OAJQ,IAAL,GACD,KAAA,2BAAA,OAAA,EAAA,GAGF,EAAA,YAGO,EAAA,UAAoB,SAAG,SAAkB,EAAM,GAEjD,IAAA,GAAoB,EAAK,EAAA,mBAAA,KAAqB,EAAQ,GACxD,IAAyB,EAA4B,SACrC,KAAA,YACX,IAAA,GACN,KAAA,2BAAA,KAAA,KAIQ,EAAA,UAAiB,YAAC,WACzB,KAAK,WAAuB,IAAX,KAAA,2BAAW,QAC7B,KAAA,YAAA,YAxEmC,EAAA,CAiFxC,EAjFwC,iBAiFK,EAAA,SAAa,GACxD,SAAA,EACS,EACR,GAFkB,IAAA,EAAM,EAAN,KAAqB,OAAA,KAEvC,OAFiD,EAAA,OAAA,EAeP,EAAA,kBAAA,EAb1C,EAH0C,OAC3C,EAAA,UAAA,EAAkD,GAMzB,EAAA,UAAU,WAAI,SAAA,GACtC,KAAA,kBAAA,UAAA,IAAA,EAAA,EAAA,KAAA,UAR0C,EAAA,CAgB7C,EAhB6C,YAgBA,EAAA,SAAa,GAGxD,SAAA,EACS,EACR,GAFmB,IAAA,EAAM,EAAN,KAAqB,OAAA,KAExC,OAFkD,EAAA,OAAA,EAF3C,EAAA,OAAA,EADmC,EAAA,kBAAA,EAK1C,EAL0C,OAG3C,EAAA,UAAA,EAAmD,GAK3B,EAAE,UAAC,MAAA,SAAA,GAC1B,KAAA,qBAGoB,EAAA,UAAA,OAAA,SAAA,GACd,KAAA,cACN,KAAA,OAAA,MAAA,IAGoB,EAAA,UAAA,UAAA,WACd,KAAA,cACN,KAAA,qBAGW,EAAA,UAAkB,kBAAA,WAC1B,KAAK,mBACA,KAAA,kBAAc,EACd,KAAA,cACN,KAAA,OAAA,UAAA,KAAA,UA1BwC,EAAA,CAAA,EAAA;;AC/HsB,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,cAAA,EAnEnE,IAAA,EAAA,EAAA,QAAA,UAkDA,EAAA,QAAA,iBAiBmE,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAhBjE,SAAO,IACL,OAAA,SAAuB,GACvB,OAAA,EAAA,KAAA,IAAA,IAGJ,IAAA,EAAA,WAIC,SAAA,KAAA,OAFiB,EAAA,UAAc,KAAA,SAAA,EAAwB,GACrD,OAAA,EAAA,UAAA,IAAA,EAAA,KACF,EAJD,GAWmE,EAAA,SAAa,GAEtE,SAAA,EAAA,GACP,OAAA,EAAA,KAAA,KAAA,IAAA,KAHgE,OACjE,EAAA,UAAA,EAAY,GAKS,EAAA,UAAW,MAAE,SAAA,GACjC,EAAA,QAAA,KAAA,cAPgE,EAAA,CAAA,EAAA;;ACgBrB,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,SAAA,EAAA,QAAA,wBAAA,EAlF9C,IAAA,EAAA,EAAA,QAAA,UAEA,EAAA,QAAA,sBA6DA,EAAA,QAAA,6BAmB8C,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAjB5C,SAAO,EAAC,EAA0B,GACnC,OAAA,SAAA,GAAA,OAAA,EAAA,KAAA,IAAA,EAAA,EAAA,KAGC,IAAA,EAAoB,WAAA,SAAA,EAAA,EAA4B,GAAU,KAAA,YAAA,EACzD,KAAA,QAAA,EAKF,OAFU,EAAM,UAAU,KAAK,SAAA,EAAmB,GAChD,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,YAAA,KAAA,WACF,EANqB,GAawB,EAAA,SAAqB,GAGjE,SAAA,EACE,EAAM,EAAY,GAD4B,IAAA,EAAA,EAAW,KAAX,KAAA,IAA4B,KAM3E,OARO,EAAA,YAAa,EAKnB,EAAI,OAAS,IAAA,IACX,GACD,EAAA,KAAA,EAAA,EAAA,mBAAA,EAAA,IACF,EAT2C,OAG5C,EAAA,UAAA,EAAY,GAWE,EAAA,UAAQ,WAAA,SAAA,EAAA,EAAA,EAAA,EAAA,GACrB,KAAA,OAAA,SAGa,EAAA,UAAO,YAAA,SAAA,EAAA,GACpB,KAAA,OAAA,IAGU,EAAA,UAAa,MAAA,SAAA,GACpB,KAAK,YACN,KAAA,gBAAA,GAEA,KAAA,cAAA,EAAA,IAIU,EAAA,UAAA,gBAAA,SAAA,GACH,IAAA,EACJ,EAAA,KAAA,YACF,IACD,EAAA,KAAA,YAAA,GACC,MAAA,GAED,YADC,EAAO,MAAA,GAGV,KAAA,cAAA,EAAA,IAGS,EAAA,UAAgB,cAAA,SAAA,EAAA,GACpB,IAAA,EAAQ,KAAO,OACjB,EAAO,IAAO,KACd,EAAK,IAAA,GACN,KAAA,YAAA,KAAA,KA9CyC,EAAA,CAAA,EAAA,iBAAA,QAAA,mBAAA;;ACHK,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,qBAAA,EAjFnD,IAAA,EAAA,EAAA,QAAA,UA8DA,EAAA,QAAA,iBAmBmD,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAlBjD,SAAO,EAA2B,EAAO,GAC1C,OAAA,SAAA,GAAA,OAAA,EAAA,KAAA,IAAA,EAAA,EAAA,KAGC,IAAA,EAAoD,WAAhC,SAAA,EAAgC,EAAA,GAChC,KAAA,QAAA,EACnB,KAAA,YAAA,EAKF,OAF2B,EAAA,UAAI,KAAA,SAAA,EAA+B,GAC5D,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,QAAA,KAAA,eACF,EAPqD,GAcH,EAAA,SAAa,GAI9D,SAAA,EAGQ,EAAY,EAInB,GALmB,IAAA,EAAA,EAAW,KAAX,KAAA,IAAwB,KAK3C,OATO,EAAA,YAAuB,EAM7B,EAAI,QAAO,EACM,mBAAV,IACN,EAAA,QAAA,GACF,EAXgD,OAIjD,EAAA,UAAA,EAAY,GAUK,EAAA,UAAA,QAAA,SAAA,EAAA,GAChB,OAAA,IAAA,GAGc,EAAA,UAAA,MAAA,SAAA,GACT,IAAA,EACM,IACL,IAAA,EAAe,KAAE,YACrB,EAAA,EAAA,EAAA,GAAA,EACC,MAAA,GACD,OAAA,KAAA,YAAA,MAAA,GAEG,IAAA,GAAK,EACP,GAAA,KAAI,OACM,IAET,GAAA,EADU,KAAQ,SAClB,KAAA,IAAA,GACC,MAAA,GACD,OAAA,KAAA,YAAA,MAAA,QAGF,KAAA,QAAA,EAEC,IACK,KAAA,IAAA,EACN,KAAA,YAAA,KAAA,KAvC8C,EAAA,CAAA,EAAA;;ACFlD,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,wBAAA,EAFD,IAAA,EAAA,QAAA,0BACE,SAAO,EAAqB,EAAO,GACpC,OAAA,EAAA,EAAA,sBAAA,SAAA,EAAA,GAAA,OAAA,EAAA,EAAA,EAAA,GAAA,EAAA,IAAA,EAAA,KAAA,EAAA;;ACzBS,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAvDV,IAAA,EAAA,EAAA,QAAA,UAGA,EAAA,QAAA,sBAiCA,EAAA,QAAA,iBAmBU,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAnBuB,SAAA,EAAA,GAIhC,YAHS,IAAR,IACE,EAAc,GAEjB,SAAA,GAED,OAAA,EAAA,KAAA,IAAA,EAAA,KAEE,IAAA,EAAC,WAED,SAAA,EAAA,GACE,KAAA,aAAc,EAIsB,OAFxC,EAAA,UAAC,KAAA,SAAA,EAAA,GAAA,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,gBAEuC,EAPrC,GAWC,EAAM,SAAY,GAHZ,SAAA,EAA0B,EAAA,GAG1B,IAAA,EAAA,EAAA,KAAA,KAAA,IAAA,KAID,OAHN,EAAA,aAAA,EAES,EAAA,UAAA,EACH,EAoBA,OAzByC,EAAA,UAAA,EAAuB,GAOvE,EAAC,UAAA,MAAA,SAAA,GAES,KAAA,UAAA,EACH,KAAA,YAAK,KAAU,IAEd,EAAA,UAAA,UAAA,WACF,GAAA,KAAA,SASR,OAAA,KAAA,YAAC,WARM,IAAA,OAAA,EAAC,IACA,EAAM,KAAE,eAEV,MAAK,GACN,EAAA,EACG,KAAA,YAAY,MAAW,IAMtB,EAxBC,CAyBT,EAzBS,YAAA,SAAA,IAAA,OAAA,IAAA,EAAA;;ACyBsB,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,KAAA,EA/EhC,IAAA,EAAA,EAAA,QAAA,UACA,EAAA,QAAA,iBACA,EAAA,QAAA,mCAkDA,EAAA,QAAA,uBA2BgC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EA1B9B,SAAO,EAAC,GACN,OAAA,SAAS,GACP,OAAO,IAAP,GACD,EAAA,EAAA,SAEA,EAAA,KAAA,IAAA,EAAA,KAKH,IAAA,EAAiC,WAAb,SAAA,EAAK,GAErB,GADE,KAAA,MAAK,EACP,KAAA,MAAU,EACX,MAAA,IAAA,EAAA,wBAMJ,OAFU,EAAA,UAAO,KAAU,SAAI,EAAe,GAC5C,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,SACF,EATkC,GAgBH,EAAA,SAAa,GAG3C,SAAA,EACE,EAAM,GADwC,IAAA,EAAK,EAAA,KAAQ,KAAA,IAAA,KAE5D,OAJO,EAAA,MAAgB,EADM,EAAA,MAAA,EAK7B,EAL6B,OAG9B,EAAA,UAAA,EAAY,GAKC,EAAA,UAAQ,MAAM,SAAA,GACnB,IAAA,EAAQ,KAAE,MACZ,IAAS,KAAK,MAChB,GAAK,IACD,KAAA,YAAU,KAAO,GACnB,IAAK,IACA,KAAA,YAAW,WACjB,KAAA,iBAfyB,EAAA,CAAA,EAAA;;ACd1B,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EA7DN,IAAA,EAAA,QAAA,mCACA,EAAA,QAAA,YACA,EAAA,QAAA,kBACA,EAAA,QAAA,oBAkDA,EAAA,QAAA,UACE,SAAY,EAAG,EAAA,GAAE,GAAA,EAAM,EAAgC,MAAA,IAAA,EAAA,wBAEvD,IAAA,EAAQ,UAA0B,QAAO,EAInC,OAAA,SAAA,GACA,OAAA,EAAY,MAAC,EAAA,EAAA,QAAA,SAAM,EAAA,GAAI,OAAA,IAAA,KAAyB,EACrD,EAAA,MAAA,GAAC,GACH,EAAA,EAAA,gBAAA,IADG,EAAA,EAAA,cAAA,WADE,OAAA,IAAA,EAAA;;ACAL,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EAhED,IAAA,EAAA,QAAA,wBA8DA,EAAA,QAAA,oBAA2B,SAAA,IAAA,IAAA,IAAA,EAAA,GAAA,EAAA,EAAA,EAAA,UAAkC,OAAA,IAE5D,EAAA,GAAA,UAAA,GAAA,OAAA,SAAA,GAAA,OAAA,EAAA,EAAA,QAAA,EAAA,EAAA,GAAA,WAAA,EAAA;;ACnBgC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,MAAA,EA7CjC,IAAA,EAAA,EAAA,QAAA,UAwBA,EAAA,QAAA,iBAqBiC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAnB/B,SAAO,EAAC,EAA0B,GACnC,OAAA,SAAA,GAAA,OAAA,EAAA,KAAA,IAAA,EAAA,EAAA,EAAA,KAGC,IAAA,EAAoB,WAAA,SAAA,EAAA,EAAsE,EAAA,GACtE,KAAA,UAAA,EACA,KAAA,QAAA,EACnB,KAAA,OAAA,EAKF,OAFU,EAAA,UAAO,KAAU,SAAI,EAAgB,GAC7C,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,UAAA,KAAA,QAAA,KAAA,UACF,EARqB,GAeW,EAAA,SAAa,GAG5C,SAAA,EAIE,EAAM,EAAY,EAEnB,GALmB,IAAA,EAAA,EAAA,KAAA,KAAsE,IAAA,KAKzF,OAJmB,EAAA,UAAA,EACA,EAAA,QAAA,EALZ,EAAA,OAAiB,EAOvB,EAAK,MAAO,EARiB,EAAA,QAAA,GAAA,EAS9B,EAT8B,OAG/B,EAAA,UAAA,EAAY,GASL,EAAA,UAAiB,eAAiB,SAAA,GAClC,KAAA,YAAY,KAAA,GAClB,KAAA,YAAA,YAGW,EAAA,UAAS,MAAA,SAAA,GACf,IAAA,GAAA,EACF,IACD,EAAA,KAAA,UAAA,KAAA,KAAA,QAAA,EAAA,KAAA,QAAA,KAAA,QACC,MAAA,GAED,YADC,KAAA,YAAO,MAAA,GAIP,GACD,KAAA,gBAAA,IAII,EAAA,UAAe,UAAM,WAC3B,KAAA,gBAAA,IAhC8B,EAAA,CAAA,EAAA;;ACuBM,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EAlEvC,IAAA,EAAA,EAAA,QAAA,UACA,EAAA,QAAA,sBAkDA,EAAA,QAAA,6BAeuC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAdrC,SAAO,IACR,OAAA,SAAA,GAAA,OAAA,EAAA,KAAA,IAAA,IAED,IAAA,EAAA,WAIC,SAAA,KAAA,OAFiB,EAAA,UAAU,KAAI,SAAA,EAAsB,GACnD,OAAA,EAAA,UAAA,IAAA,EAAA,KACF,EAJD,GAWuC,EAAA,SAAqB,GAI1D,SAAA,EACE,GAJM,IAAA,EAAA,EAAY,KAAY,KAAM,IAAA,KAKrC,OAJO,EAAA,cAAe,EAFc,EAAA,iBAAA,EAMpC,EANoC,OAIrC,EAAA,UAAA,EAAY,GAKA,EAAA,UAAiB,MAAA,SAAA,GACzB,KAAK,kBACA,KAAA,iBAAI,EACV,KAAA,KAAA,EAAA,EAAA,mBAAA,KAAA,MAIgB,EAAA,UAAQ,UAAA,WACpB,KAAA,cAAK,EACR,KAAK,iBACN,KAAA,YAAA,YAIW,EAAA,UAAU,eAAA,SAAA,GACjB,KAAA,OAAA,GACD,KAAA,iBAAmB,EACrB,KAAK,cACN,KAAA,YAAA,YA3BkC,EAAA,CAAA,EAAA;;ACwBE,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,WAAA,EA1FzC,IAAA,EAAA,EAAA,QAAA,UACA,EAAA,QAAA,sBACA,EAAA,QAAA,sBAEA,EAAA,QAAA,6BACA,EAAA,QAAA,SAuDA,EAAA,QAAA,sBA8ByC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EA1BvC,SAAI,EAAgB,EAAA,GAElB,OAAA,EAKD,SAAA,GAAA,OAAA,EAAA,KAAA,EAAA,SAAA,EAAA,GAAA,OAAA,EAAA,EAAA,MAAA,EAAA,EAAA,IAAA,MAAA,EAAA,EAAA,KAAA,SAAA,EAAA,GAAA,OAAA,EAAA,EAAA,EAAA,EAAA,UAEC,SAAM,GAAuC,OAAA,EAAA,KAAA,IAAA,EAAA,KAI/C,IAAA,EAA4E,WAAxD,SAAA,EAAwD,GAC3E,KAAA,QAAA,EAKF,OAFiB,EAAA,UAAU,KAAI,SAAA,EAAqB,GAClD,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,WACF,EAN6E,GAarC,EAAA,SAAqB,GAK5D,SAAA,EAEE,EAAM,GADY,IAAA,EAAA,EAAA,KAAwD,KAAA,IAAA,KAE3E,OAPO,EAAA,QAAA,EACA,EAAA,iBAAe,EACf,EAAA,cAAU,EAHqB,EAAA,MAAA,EAQtC,EARsC,OAKvC,EAAA,UAAA,EAAY,GAMA,EAAA,UAAiB,MAAA,SAAA,GACzB,KAAK,iBACN,KAAA,QAAA,IAI8B,EAAA,UAAA,QAAA,SAAA,GACzB,IAAA,EACF,EAAA,KAAA,QACF,IACD,EAAA,KAAA,QAAA,EAAA,GACC,MAAA,GAED,YADC,KAAA,YAAO,MAAA,GAGJ,KAAA,iBAAkB,EACxB,KAAA,UAAA,EAAA,EAAA,IAGO,EAAA,UAAsB,UAAA,SAAsB,EAAS,EAAE,GACvD,IAAA,EAAkB,IAAC,EAAD,gBAA6B,UAAA,OAAA,GACrC,KAAA,YAChB,IAAA,IACD,EAAA,EAAA,mBAAA,KAAA,EAAA,EAAA,EAAA,IAGM,EAAY,UAAQ,UAAA,WACpB,KAAA,cAAK,EACR,KAAK,iBACN,KAAA,YAAA,WAEF,KAAA,eAKiB,EAAC,UAAK,WAAY,SAAA,EAAA,EAAA,EAAA,EAAA,GACnC,KAAA,YAAA,KAAA,IAGiB,EAAC,UAAU,YAAC,SAAA,GAC7B,KAAA,YAAA,MAAA,IAGkB,EAAA,UAAQ,eAA4B,SAAA,GACnC,KAAC,YAEd,OAAA,GACD,KAAA,iBAAmB,EACrB,KAAK,cACN,KAAA,YAAA,YA7DoC,EAAA,CAAA,EAAA;;ACWD,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,OAAA,EAAA,QAAA,iBAAA,QAAA,oBAAA,EArGxC,IAAA,EAAA,EAAA,QAAA,UAEA,EAAA,QAAA,sBA4DA,EAAA,QAAA,6BAuCwC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAtCX,SAAA,EAAA,EAAA,EAAA,GASP,YARO,IAAA,IAC3B,EAAc,OAAU,wBAGzB,IAAA,IAED,OAAA,GACsB,GAAA,GAAwD,GAAA,EAAA,OAAA,kBAAA,EACxD,SAAA,GAAkB,OAAA,EAAA,KAAA,IAAA,EAAA,EAAA,EAAA,KAEtC,IAAA,EAAC,WAED,SAAA,EAAA,EAAA,EAAK,GACH,KAAA,QAAc,EACf,KAAA,WAAA,EACH,KAAA,UAAC,EAoBC,OAEsC,EAAA,UAAA,KAAA,SAAA,EAAA,GARxC,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,QAAA,KAAA,WAAA,KAAA,aAME,EAzBC,GA2BqC,QAAA,eAAA,EAAlB,IAAA,EAAkB,SAAA,GAP9B,SAAA,EAAkB,EAAA,EAAA,EAAA,GAClB,IAAA,EAAM,EAAa,KAAA,KAAA,IAAA,KAiB1B,OAhBO,EAAA,QAAA,EAQN,EAAI,WAAa,EACf,EAAA,UAAW,EACZ,EAAA,MAAA,EALmC,EAAA,OAAA,EAMrC,EAAA,cAAA,EAEc,EAAA,OAAf,oBACS,EAAA,OAAA,IAER,EAXqC,OAClB,EAAA,UAAA,EAAwB,GAapC,EAAA,SAAmB,SAAW,GAEhC,IAAA,EAAY,EAAA,WAAQ,EAAA,EAAA,OAAA,EAAA,EAAA,MAAA,EAAA,EAAA,MACjB,EAAA,sBAAY,EAAA,EAAA,IAElB,EAAA,UAAA,MAAA,SAAA,GAEK,IAAA,EAAa,KAAK,YACpB,GAAA,EAAW,OACb,KAAA,gBADE,CAIA,IAAA,EAAM,KAAA,QACN,GAAA,KAAA,OAAU,KAAA,WAAW,CACnB,EAAI,KAAC,GA5ByB,IA6BzB,IACL,GAAW,EADN,KAAA,SAC8B,EAAU,GAC7C,GAAA,KAAM,UAGT,CAAW,IAAA,EAAA,CAAA,WAAA,KAAA,OAAA,EAAA,MAAA,EAAA,MAAA,GACW,KAAA,YACtB,IAAA,KAAA,UAAA,SAAA,EAAA,SAAA,EAAA,SAJG,KAAA,sBAAqB,EAAU,EAA4B,GAM/D,MAAK,GACN,EAAA,MAAA,SAKK,KAAA,OAAW,KAAG,KAIZ,EAAA,UAAA,sBAAV,SAAA,EAAA,EAAA,GACO,KAAA,SACI,KAAY,YACd,KAAA,EAAuB,EAAA,mBAAA,KAAA,EAAA,EAAA,KAEzB,EAAA,UAAc,UAAA,WACpB,KAAA,cAAA,EAED,KAAA,cAAA,IAAA,KAAA,QAGO,KAAA,YAAgB,WAGvB,KAAA,eAEQ,EAAA,UAAmB,WAA4B,SAAA,EAAA,EAAA,EAAA,EAAA,GACrD,KAAA,MAAW,IAED,EAAA,UAAW,eAAY,SAAA,GAC/B,IAAA,EAAK,KAAM,OACZ,KAAA,YACQ,OAAA,GACP,KAAA,SACD,GAAA,EAAA,OAAA,GACF,KAAA,MAAA,EAAA,SAjFyC,KAAe,cAkF1D,IAAA,KAAA,QA1EuC,KAAA,YAAA,YAAA,EAAA,CAAA,EAAA,iBAAA,QAAA,iBAAA;;ACzEL,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,SAAA,EA/BnC,IAAA,EAAA,EAAA,QAAA,UACA,EAAA,QAAA,iBAYA,EAAA,QAAA,mBAkBmC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAjBjC,SAAO,EAAC,GACT,OAAA,SAAA,GAAA,OAAA,EAAA,KAAA,IAAA,EAAA,KAGC,IAAA,EAAwC,WAApB,SAAA,EAAA,GACnB,KAAA,SAAA,EAKF,OAFU,EAAA,UAAO,KAAc,SAAA,EAAkB,GAC/C,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,YACF,EANyC,GAaP,EAAA,SAAa,GAC9C,SAAA,EACE,EAAM,GACN,IAAA,EAAS,EAAI,KAAA,KAAa,IAAW,KACtC,OAJgC,EAAA,IAAA,IAAA,EAAA,aAAA,IAIhC,EAJgC,OACjC,EAAA,UAAA,EAAY,GADqB,EAAA,CAAA,EAAA;;ACyCS,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,KAAA,EAAA,QAAA,oBAAA,QAAA,uBAAA,EAvE5C,IAAA,EAAA,EAAA,QAAA,UA8CA,EAAA,QAAA,iBAyB4C,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAvB1C,SAAW,EAAA,EAAc,GACvB,GAAoB,mBAAd,EACP,MAAA,IAAA,UAAA,+BAEF,OAAA,SAAA,GAAA,OAAA,EAAA,KAAA,IAAA,EAAA,EAAA,GAAA,EAAA,KAGC,IAAA,EAAoB,WAAA,SAAA,EAAA,EAAsE,EAAA,EAAA,GACtE,KAAA,UAAA,EACA,KAAA,OAAA,EACA,KAAA,WAAA,EACnB,KAAA,QAAA,EAKF,OAFgB,EAAC,UAAU,KAAI,SAAA,EAAoB,GACjD,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,UAAA,KAAA,OAAA,KAAA,WAAA,KAAA,WACF,EATqB,GAgBsB,QAAA,kBAAA,EAAA,IAAA,EAAA,SAAa,GAGvD,SAAA,EAKE,EAAM,EAAY,EACnB,EAAA,GALmB,IAAA,EAAA,EAAA,KAAA,KAAsE,IAAA,KAKzF,OAJmB,EAAA,UAAA,EACA,EAAA,OAAA,EACA,EAAA,WAAA,EANZ,EAAA,QAAkB,EADgB,EAAA,MAAA,EASzC,EATyC,OAG1C,EAAA,UAAA,EAAY,GASO,EAAA,UAAQ,eAAY,SAAA,GAErC,IAAA,EAAiB,KAAM,YACvB,EAAY,KAAA,GACZ,EAAK,WACN,KAAA,eAGQ,EAAA,UAAA,MAAA,SAAW,GACZ,IAAQ,EAAH,KAAgB,UAAA,EAAhB,KAAgB,QACvB,EAAA,KAAA,QACF,IACY,EAAA,KAAA,GAAA,KAAA,EAAA,EAAA,KAAA,SAEX,KAAA,eAAA,KAAA,WAAA,EAAA,GAED,MAAA,GACD,KAAA,YAAA,MAAA,KAII,EAAA,UAAoB,UAAa,WACvC,KAAA,eAAA,KAAA,YAAA,OAAA,IAlCyC,EAAA,CAAA,EAAA,YAAA,QAAA,oBAAA;;AC3B3C,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EAHD,IAAA,EAAA,QAAA,qBAEE,SAAO,EAAC,EAA0B,GACnC,OAAA,SAAA,GAAA,OAAA,EAAA,KAAA,IAAA,EAAA,kBAAA,EAAA,GAAA,EAAA;;AC4CA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,MAAA,EArFD,IAAA,EAAA,QAAA,sBACA,EAAA,QAAA,YACA,EAAA,QAAA,UACA,EAAA,QAAA,oBACA,EAAA,QAAA,kBAuEA,EAAA,QAAA,oBAIE,SAAM,EAAA,EAAkB,GACxB,IAAA,EAAQ,UAA0B,QAAO,EAK1C,OAAA,SAAA,GAAA,OAAA,EAAA,KAAA,GAAA,EAAA,EAAA,QAAA,SAAA,EAAA,GAAA,OAAA,EAAA,EAAA,EAAA,KAAA,EAAA,UAAA,EAAA,EAAA,MAAA,GAAA,GAAA,EAAA,EAAA,gBAAA,IAAA,EAAA,EAAA,cAAA,WAAA,OAAA,IAAA,EAAA;;ACzCyC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,eAAA,EA/C1C,IAAA,EAAA,EAAA,QAAA,UA8BA,EAAA,QAAA,iBAiB0C,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAhBxC,SAAO,IACL,OAAA,SAAuB,GACvB,OAAA,EAAA,KAAA,IAAA,IAGJ,IAAA,EAAA,WAIC,SAAA,KAAA,OAFiB,EAAA,UAAc,KAAA,SAAA,EAAyB,GACtD,OAAA,EAAA,UAAA,IAAA,EAAA,KACF,EAJD,GAW0C,EAAA,SAAa,GAAb,SAAA,IAIzC,OAAA,OAAA,GAAA,EAAA,MAAA,KAAA,YAAA,KAJyC,OAA1C,EAAA,UAAA,EAAA,GAGE,EAAC,UAAA,MAAA,SAAA,KAHuC,EAAA,CAAA,EAAA;;AC+BV,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EA/EhC,IAAA,EAAA,EAAA,QAAA,UAgEA,EAAA,QAAA,iBAegC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAd9B,SAAO,IACR,OAAA,SAAA,GAAA,OAAA,EAAA,KAAA,IAAA,IAED,IAAA,EAAA,WAIC,SAAA,KAAA,OAFU,EAAA,UAAO,KAAc,SAAA,EAAkB,GAC/C,OAAA,EAAA,UAAA,IAAA,EAAA,KACF,EAJD,GAWgC,EAAA,SAAe,GAE3C,SAAA,EAAA,GACD,OAAA,EAAA,KAAA,KAAA,IAAA,KAH6B,OAC9B,EAAA,UAAA,EAAY,GAKJ,EAAA,UAAmB,eAAY,SAAA,GAErC,IAAA,EAAiB,KAAA,YACjB,EAAY,KAAA,GACb,EAAA,YAGM,EAAA,UAAe,MAAO,SAAA,GAC5B,KAAA,gBAAA,IAGM,EAAA,UAAmB,UAAE,WAC3B,KAAA,gBAAA,IAlB6B,EAAA,CAAA,EAAA;;ACJI,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,SAAA,EA3EpC,IAAA,EAAA,EAAA,QAAA,UACA,EAAA,QAAA,iBACA,EAAA,QAAA,mCA8CA,EAAA,QAAA,uBA2BoC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EA1BlC,SAAO,EAAS,GACd,OAAA,SAAiB,GACf,OAAO,IAAP,GACD,EAAA,EAAA,SAEA,EAAA,KAAA,IAAA,EAAA,KAKH,IAAA,EAAiC,WAAb,SAAA,EAAa,GAE7B,GADE,KAAA,MAAK,EACP,KAAA,MAAU,EACX,MAAA,IAAA,EAAA,wBAMJ,OAFU,EAAM,UAAU,KAAK,SAAA,EAAmB,GAChD,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,SACF,EATkC,GAgBC,EAAA,SAAa,GAI/C,SAAA,EACE,EAAM,GADwC,IAAA,EAAK,EAAA,KAAQ,KAAA,IAAA,KAE5D,OALO,EAAA,MAAiB,EACjB,EAAA,KAAK,IAAa,MAFQ,EAAA,MAAA,EAMjC,EANiC,OAIlC,EAAA,UAAA,EAAY,GAKG,EAAI,UAAM,MAAA,SAAA,GACjB,IAAA,EAAK,KAAO,KACZ,EAAQ,KAAK,MAEf,EAAK,KAAM,QACb,EAAK,OAAK,EACX,EAAA,KAAA,GAGA,EADY,EAAS,GACrB,GAIK,EAAW,UAAQ,UAAY,WACjC,IAAA,EAAa,KAAM,YAEnB,EAAQ,KAAG,MACb,GAAA,EAAM,EAIJ,IAHI,IAAA,EAAQ,KAAK,OAAK,KAAA,MAAA,KAAA,MAAA,KAAA,MAExB,EAAU,KAAM,KACR,EAAG,EAAI,EAAK,EAAM,IAAM,CAC9B,IAAA,EAAW,IAAW,EACvB,EAAA,KAAA,EAAA,IAIJ,EAAA,YApCiC,EAAA,CAAA,EAAA;;ACvBnC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,KAAA,EAhDD,IAAA,EAAA,QAAA,sBACA,EAAA,QAAA,YACA,EAAA,QAAA,cACA,EAAA,QAAA,kBACA,EAAA,QAAA,oBAkCA,EAAA,QAAA,oBAIE,SAAM,EAAA,EAAkB,GACxB,IAAA,EAAQ,UAA0B,QAAO,EAK1C,OAAA,SAAA,GAAA,OAAA,EAAA,KAAA,GAAA,EAAA,EAAA,QAAA,SAAA,EAAA,GAAA,OAAA,EAAA,EAAA,EAAA,KAAA,EAAA,UAAA,EAAA,EAAA,UAAA,GAAA,GAAA,EAAA,EAAA,gBAAA,IAAA,EAAA,EAAA,cAAA,WAAA,OAAA,IAAA,EAAA;;ACMmC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,MAAA,EA1DpC,IAAA,EAAA,EAAA,QAAA,UAoCA,EAAA,QAAA,iBAsBoC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EArBlC,SAAO,EAAC,GACT,OAAA,SAAA,GAAA,OAAA,EAAA,KAAA,IAAA,EAAA,KAMC,IAAA,EAAoB,WACb,SAAA,EAAc,GACpB,KAAA,MAAA,EAKF,OAFU,EAAA,UAAO,KAAU,SAAI,EAAgB,GAC7C,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,SACF,EAPqB,GAcc,EAAA,SAAa,GAI/C,SAAA,EACE,EAAM,GACN,IAAA,EAAU,EAAQ,KAAC,KAAA,IAAA,KACpB,OAPiC,EAAA,MAAA,EAOjC,EAPiC,OAIlC,EAAA,UAAA,EAAY,GAML,EAAA,UAAiB,MAAK,SAAO,GACnC,KAAA,YAAA,KAAA,KAAA,QAXiC,EAAA,CAAA,EAAA;;ACcG,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,YAAA,EAvEvC,IAAA,EAAA,EAAA,QAAA,UACA,EAAA,QAAA,iBAqDA,EAAA,QAAA,mBAiBuC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAhBrC,SAAO,IACL,OAAA,SAAuB,GACvB,OAAA,EAAA,KAAA,IAAA,IAGJ,IAAA,EAAA,WAIC,SAAA,KAAA,OAFiB,EAAA,UAAU,KAAI,SAAA,EAAsB,GACnD,OAAA,EAAA,UAAA,IAAA,EAAA,KACF,EAJD,GAWuC,EAAA,SAAa,GAE1C,SAAA,EAAA,GACP,OAAA,EAAA,KAAA,KAAA,IAAA,KAHoC,OACrC,EAAA,UAAA,EAAY,GAKO,EAAA,UAAK,MAAa,SAAW,GAC/C,KAAA,YAAA,KAAA,EAAA,aAAA,WAAA,KAGkB,EAAG,UAAK,OAAY,SAAA,GACrC,IAAA,EAAiB,KAAA,YACjB,EAAY,KAAA,EAAW,aAAA,YAAA,IACxB,EAAA,YAGkB,EAAG,UAAK,UAAY,WACrC,IAAA,EAAiB,KAAA,YACjB,EAAY,KAAA,EAAW,aAAA,kBACxB,EAAA,YAnBoC,EAAA,CAAA,EAAA;;ACwBnC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,KAAA,EA/FJ,IAAA,EAAA,EAAA,QAAA,UAoDA,EAAA,QAAA,iBA2CI,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EA1CF,SAAW,EAAG,EAAM,GAMhB,IAAA,GAAU,EAKZ,OAJA,UAAU,QAAK,IAChB,GAAA,GAGC,SAAuB,GACvB,OAAA,EAAA,KAAA,IAAA,EAAA,EAAA,EAAA,KAIF,IAAA,EAAoB,WAAmF,SAAA,EAAA,EAAA,EAAA,QAAxE,IAAX,IAA6D,GAAA,GAAkD,KAAA,YAAA,EAEnI,KAAA,KAAA,EACE,KAAA,QAAc,EASiB,OAPnC,EAAA,UAAC,KAAA,SAAA,EAAA,GAAA,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,YAAA,KAAA,KAAA,KAAA,WAOkC,EAZb,GAwBpB,EAEE,SAAM,GAFqG,SAAA,EAAY,EAAA,EAAA,EAAA,GACrG,IAAA,EAAA,EAAA,KAAgB,KAAA,IAAA,KAVpC,OAFQ,EAAA,YAAkB,EAaxB,EAAA,MAAA,EACD,EAAA,QAAA,EAZD,EAAA,MAAA,EAAA,EAWE,OAF8C,EAAA,UAAA,EAAA,GAP/C,OAAA,eAAA,EAAA,UAAA,OAAA,CAED,IAAA,WACO,OAAA,KAAO,OAEd,IAAC,SAAA,GAIC,KAAA,SAAA,EAAA,KAAA,MAAA,GAGQ,YAAA,EACR,cAAU,IAEH,EAAA,UAAY,MAAK,SAAO,GAC9B,GAAA,KAAA,QAKK,OAAA,KAAA,SAAA,GALC,KAAA,KAAA,EACL,KAAA,YAAY,KAAS,IAOnB,EAAA,UAAA,SAAA,SAAA,GACF,IACD,EADC,EAAM,KAAO,QACb,IACA,EAAK,KAAA,YAAqB,KAAE,KAAA,EAAA,GAE9B,MAAK,GACA,KAAA,YAAgB,MAAC,GAE1B,KAAA,KAAA,EArC6C,KAAA,YAqC5C,KAAA,IAvBG,EAAA,CAAA,EAAA;;AChBH,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,OAAA,EA/ED,IAAA,EAAA,QAAA,UACA,EAAA,QAAA,cAEA,EAAA,QAAA,oBA2DA,EAAA,QAAA,gBAME,SAAI,EAAU,EAAa,GACzB,OAAA,UAAO,QAAS,EACd,SAAqC,GACrC,OAAA,EAAA,EAAA,OAAA,EAAA,EAAA,MAAA,EAAA,IAAA,EAAA,EAAA,UAAA,IAAA,EAAA,EAAA,gBAAA,GAAA,CAAA,IAGF,SACuB,GAGvB,OAAA,EAAA,EAAA,OAAA,EAAA,EAAA,MAAA,SAAA,EAAA,EAAA,GAAA,OAAA,EAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,UAAA,GAAA,CAAA;;AC1BH,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,IAAA,EAND,IAAA,EAAA,QAAA,YACE,SAAgC,EAAA,GAC9B,IAAA,EAAY,mBAAR,EACF,SAAC,EAAG,GAAM,OAAA,EAAS,EAAG,GAAE,EAAA,EAAA,GAE5B,SAAc,EAAK,GAAA,OAAA,EAAA,EAAA,EAAA,GACpB,OAAA,EAAA,EAAA,QAAA;;ACdA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,MAAA,EAFD,IAAA,EAAA,QAAA,uBAA4B,SAAA,IAAA,IAAoE,IAAA,EAApE,GAAA,EAAA,EAAA,EAAA,UAAA,OAAoE,IAE/F,EAAA,GAAA,UAAA,GAAA,OAAA,SAAA,GAAA,OAAA,EAAA,KAAA,KAAA,EAAA,MAAA,WAAA,EAAA,CAAA,GAAA,OAAA;;ACuBA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,WAAA,EAZD,IAAA,EAAA,QAAA,cAGE,SAAA,EAAA,EAAA,EAA4B,GAKxB,YAHO,IAAP,IACF,EAAO,OAAS,mBAEY,mBAAnB,GACT,EAAa,EAAA,UAAA,WAAe,OAAA,GAAA,EAAA,IAER,iBAAf,IACR,EAAA,IAAA,EAAA,EAAA,UAAA,WAAA,OAAA,GAAA;;ACoBS,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EAAA,QAAA,oBAAA,QAAA,uBAAA,EA/EV,IAAA,EAAA,EAAA,QAAA,UACA,EAAA,QAAA,6BACA,EAAA,QAAA,sBA0CA,EAAA,QAAA,sBAmCU,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAjCsB,SAAA,EAAA,EAAA,EAAA,GAK9B,YAJQ,IAAR,IACD,EAAA,OAAA,mBAGC,SAAA,GAAoB,OAAA,EACA,KACA,IAAA,EAAkB,EAAA,EAAA,KADlB,IAAA,EAAO,WACP,SAAA,EAAA,EAAkB,EAAA,GACrC,KAAA,YAAA,EAED,KAAA,KAAA,EACE,KAAA,WAAc,EAWlB,OAPA,EAAA,UAAC,KAAA,SAAA,EAAA,GAAA,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,YAAA,KAAA,KAAA,KAAA,cAOD,EAhB6B,GA2BnB,QAAA,kBAAA,EAAN,IAAA,EAAM,SAAY,GAFA,SAAA,EAAM,EAAA,EAAA,EAAA,GACN,IAAA,EAAA,EAAA,KAAA,KAAkB,IAAA,KAKhC,OAdE,EAAA,YAAoB,EACpB,EAAA,IAAA,EACA,EAAA,WAA+B,EAC/B,EAAA,UAAmB,EACjB,EAAA,cAAkB,EAMpB,EAAA,OAAA,GACP,EAAA,OAAA,EAES,EAAA,MAAA,EACJ,EAJE,OAHY,EAAA,UAAA,EAAoE,GAS9E,EAAA,UAAkB,MAAC,SAAY,GACrC,GAAA,KAAI,OAAG,KAAC,WAAA,CACJ,IAAA,EAAA,KAAA,QACM,EAAA,KAAA,YACR,OAAM,EACP,IACC,GAAA,EADU,KAAA,aACQ,KAAC,IAAS,EAAA,GAE9B,MAAK,GACA,OAAA,EAAe,MAAO,GACtB,KAAA,SACA,KAAA,UAAO,EAAK,EAAO,QAIpB,KAAA,OAAA,KAAA,IAGS,EAAC,UAAA,UAAiB,SAAA,EAAA,EAAA,GACjC,IAAA,EAA4B,IAAE,EAAF,gBAAmB,UAAE,OAAgB,GAClE,KAAA,YAES,IAAA,IACS,EAAA,EAAA,mBAAA,KAAO,EAAC,EAAA,EAAA,IAEd,EAAA,UAAa,UAAO,WACtB,KAAA,cAAA,EACN,IAAA,KAAA,QAAA,IAAA,KAAA,OAAA,UACgB,IAAb,KAAC,UACN,KAAA,YAAA,KAAA,KAAA,KAEF,KAAA,YAAA,YAKS,KAAA,eAEK,EAAG,UAAK,WAAA,SAAA,EAAA,EAAA,EAAA,EAAA,GACrB,IAAA,EAAiB,KAAA,YAClB,KAAA,IAAA,EAED,KAAA,UAAA,EACE,EAAY,KAAO,IAEP,EAAA,UAAO,eAAU,SAAA,GACzB,IAAA,EAAS,KAAC,OACG,KAAM,YAChB,OAAM,GACZ,KAAA,SAAU,EAAA,OAAW,EAChB,KAAA,MAAK,EAAQ,SAEhB,IAAA,KAAA,QAAA,KAAA,gBACgB,IAAb,KAAC,UACN,KAAA,YAAA,KAAA,KAAA,KAEL,KAAA,YAAA,aA9DU,EAAA,CAAA,EAAA,iBAAA,QAAA,oBAAA;;AC/BT,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,IAAA,EALD,IAAA,EAAA,QAAA,YACE,SAAgC,EAAA,GAC9B,IAAA,EAAY,mBAAR,EACF,SAAC,EAAG,GAAM,OAAA,EAAS,EAAG,GAAE,EAAA,EAAA,GAC5B,SAAc,EAAK,GAAA,OAAA,EAAA,EAAA,EAAA,GACpB,OAAA,EAAA,EAAA,QAAA;;ACMqB,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EAAA,QAAA,uBAAA,EAzBtB,IAAA,EAAA,QAAA,uCAEE,SAAO,EAAS,EAA0B,GACxC,OAAA,SAAqC,GACjC,IAAA,EASF,GAPD,EADoC,mBAAnC,EACD,EAEsB,WACnB,OAAA,GAIiB,mBAAZ,EACR,OAAA,EAAA,KAAA,IAAA,EAAA,EAAA,IAGD,IAAA,EAAkB,OAAG,OAAO,EAAA,EAAV,iCAIlB,OAHA,EAAY,OAAA,EAEZ,EAAkC,eAAY,EAC9C,GAIF,IAAA,EAAoB,WAAA,SAAA,EAAA,EAAgC,GAChC,KAAA,eAAA,EACnB,KAAA,SAAA,EAQF,OANW,EAAA,UAAA,KAAkB,SAAA,EAAA,GACpB,IAAA,EAAU,KAAK,SACf,EAAA,KAAe,iBACrB,EAAiB,EAAO,GAAU,UAAU,GAE7C,OADC,EAAO,IAAA,EAAa,UAAA,IACrB,GACF,EAVqB,GAAA,QAAA,kBAAA;;AC4E0B,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,kBAAA,EAAA,QAAA,wBAAA,EArIhD,IAAA,EAAA,EAAA,QAAA,UAIA,EAAA,QAAA,sBACA,EAAA,QAAA,mBACA,EAAA,QAAA,sBACA,EAAA,QAAA,sBAoFA,EAAA,QAAA,6BA0CgD,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EA1CR,SAAA,IAAA,IAC2C,IAAA,EAD3C,GAAA,EAAA,EAAA,EAAA,UAAA,OAC2C,IAyCnC,EAAA,GAAA,UAAA,GAnC/C,OAJyC,IAAtC,EAAW,SAAyC,EAAC,EAAA,SAAA,EAAA,MACtD,EAAA,EAAA,IAGF,SAAA,GAAA,OAAA,EAAA,KAAA,IAAA,EAAA,KAa6C,SAAA,IAAA,IAEb,IAAA,EAFa,GAAA,EAAA,EAAA,EAAA,UAAA,OAEb,IAoBe,EAAA,GAAA,UAAA,GAjB1C,IAAA,EAML,OAL8C,IAA3C,EAAW,SAA8C,EAAC,EAAA,SAAA,EAAA,MAC3D,EAAA,EAAA,IAGD,EAAO,EAAa,SACrB,EAAA,EAAA,MAAA,EAAA,MAAA,KAAA,IAAA,EAAA,IAGC,IAAA,EAAoB,WAAA,SAAA,EAAwC,GAC3D,KAAA,YAAA,EAKF,OAFiB,EAAA,UAAc,KAAA,SAAA,EAA4B,GACzD,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,eACF,EANqB,GAQ0B,EAAA,SAAqB,GACnE,SAAA,EAEQ,EAAY,GAFE,IAAA,EAAA,EAAW,KAAX,KAAA,IAA0B,KAG/C,OAFmB,EAAA,YAAA,EAF0B,EAAA,YAAA,EAI7C,EAJ6C,OAC9C,EAAA,UAAA,EAAsB,GAMf,EAAA,UAAwB,YAAA,SAAA,EAAA,GAC9B,KAAA,yBAGM,EAAA,UAAwB,eAAA,SAAA,GAC9B,KAAA,yBAGM,EAAA,UAAwB,OAAA,SAAA,GACxB,KAAA,wBACN,KAAA,eAGM,EAAA,UAAwB,UAAA,WACxB,KAAA,wBACN,KAAA,eAGmB,EAAA,UAAiB,sBAAG,WAClC,IAAA,EAAM,KAAE,YAAA,QACV,GAAA,EAAM,CACA,IAAA,EAAkB,IAAC,EAAD,gBAA6B,UAAA,OAAA,GACrC,KAAA,YAChB,IAAA,IACD,EAAA,EAAA,mBAAA,KAAA,OAAA,OAAA,EAAA,QAEA,KAAA,YAAA,YAjC2C,EAAA,CAAA,EAAA;;ACvEZ,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,SAAA,EA7DpC,IAAA,EAAA,EAAA,QAAA,UA8CA,EAAA,QAAA,iBAeoC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAdlC,SAAO,IACR,OAAA,SAAA,GAAA,OAAA,EAAA,KAAA,IAAA,IAED,IAAA,EAAA,WAIC,SAAA,KAAA,OAFU,EAAM,UAAU,KAAK,SAAA,EAAmB,GAChD,OAAA,EAAA,UAAA,IAAA,EAAA,KACF,EAJD,GAWoC,EAAA,SAAa,GAI/C,SAAA,EACE,GAHM,IAAA,EAAA,EAAmB,KAAM,KAAA,IAAA,KAIhC,OANiC,EAAA,SAAA,EAMjC,EANiC,OAIlC,EAAA,UAAA,EAAY,GAKmB,EAAA,UAAA,MAAA,SAAA,GAEzB,IAAA,EACF,KAAI,QACL,EAAA,CAAA,KAAA,KAAA,GAEA,KAAA,SAAA,EAIG,KAAA,KAAM,EACR,GACD,KAAA,YAAA,KAAA,IArB+B,EAAA,CAAA,EAAA;;ACNhC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EAxDJ,IAAA,EAAA,QAAA,eAoDA,EAAA,QAAA,YAEE,SAAO,EAAC,EAA0B,GAChC,OAAA,SAAO,GACA,MAAA,EAC2B,EAAA,EAAA,QAAA,EAAA,EAAA,CAAA,IACrC,EAAA,EAAA,SAAA,EAAA,EAAA,KAAA,EAAA,GAAA,CAAA;;ACUA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,MAAA,EAvBD,IAAA,EAAA,QAAA,SAA4B,SAAA,IAAA,IAAA,IAAA,EAAA,GAAA,EAAA,EAAA,EAAA,UAAA,OAAuB,IAuBlD,EAAA,GAAA,UAAA,GArBK,IAAA,EAAM,EAAQ,OAChB,GAAU,IAAV,EACD,MAAA,IAAA,MAAA,uCAEF,OAAA,SAAA,GAAA,OAAA,EAAA,EAAA,KAAA,EAAA,EAAA,GAAA,CAAA,IAGO,SAAA,EAAS,EAAA,GAchB,OAbO,SAAe,GAEjB,IADF,IAAA,EAAiB,EACR,EAAG,EAAA,EAAA,EAAY,IAAS,CAC3B,IAAA,EAAA,EAAa,EAAA,IACf,QAAW,IAAX,EAGD,OAFA,EAAA,EAKH,OAAA;;ACAH,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EAhED,IAAA,EAAA,QAAA,cA4DA,EAAA,QAAA,eACE,SAAO,EAAU,GACf,OAAA,GACA,EAAU,EAAA,WAAA,WAAkB,OAAA,IAAA,EAAA,SAAA,IAC/B,EAAA,EAAA,WAAA,IAAA,EAAA;;ACpDA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,gBAAA,EAZD,IAAA,EAAA,QAAA,sBAUA,EAAA,QAAA,eACE,SAAO,EAA2B,GACnC,OAAA,SAAA,GAAA,OAAA,EAAA,EAAA,WAAA,IAAA,EAAA,gBAAA,GAAA,CAAA;;ACoDA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,YAAA,EAhED,IAAA,EAAA,QAAA,mBA8DA,EAAA,QAAA,eACE,SAAO,IACR,OAAA,SAAA,GAAA,OAAA,EAAA,EAAA,WAAA,IAAA,EAAA,aAAA,CAAA;;AC1CA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,cAAA,EAtBD,IAAA,EAAA,QAAA,oBASA,EAAA,QAAA,eAKE,SAAI,EAAmB,EAAW,EAAA,EAAoC,GACpE,GAAgC,mBAApB,IACb,EAAA,GAGK,IAAA,EAA2C,mBAA7B,EAAyC,OAAW,EAExE,EAAO,IAAC,EAAD,cAA2B,EAAU,EAAA,GAC7C,OAAA,SAAA,GAAA,OAAA,EAAA,EAAA,WAAA,WAAA,OAAA,GAAA,EAAA,CAAA;;ACWA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,KAAA,EAhCD,IAAA,EAAA,QAAA,mBAsBA,EAAA,QAAA,sBAAwB,SAAA,IAAA,IAAmD,IAAA,EAAnD,GAAA,EAAA,EAAA,EAAA,UAAA,OAAmD,IAU1E,EAAA,GAAA,UAAA,GANG,OAAA,SAAgC,GAKhC,OAJgB,IAAd,EAAW,SAAoC,EAAC,EAAA,SAAA,EAAA,MACjD,EAAA,EAAA,IAGD,EAAA,KAAA,KAAA,EAAA,KAAA,WAAA,EAAA,CAAA,GAAA,OAAA;;AC0DM,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,OAAA,EA3FV,IAAA,EAAA,EAAA,QAAA,UAEA,EAAA,QAAA,iBA2DA,EAAA,QAAA,uBA8BU,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EA9BgB,SAAA,EAAA,GAIrB,YAHI,IAAP,IACE,GAAS,GAER,SAAA,GAAU,OAAK,IAAL,GACF,EAAP,EAAA,SACK,EAAA,EACE,EAAO,KAAK,IAAI,GAAe,EAAA,IAG3C,EAAA,KAAA,IAAA,EAAA,EAAA,EAAA,KAIqB,IAAA,EAAqB,WACxC,SAAA,EAAA,EAAA,GACD,KAAA,MAAA,EACE,KAAA,OAAc,EASgB,OAPlC,EAAA,UAAC,KAAA,SAAA,EAAA,GAAA,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,MAAA,KAAA,UAOiC,EAZS,GAgBvC,EAAM,SAAA,GADY,SAAA,EAAqB,EAAA,EAAA,GACjC,IAAA,EAAA,EAAA,KAAA,KAAA,IAAA,KAGD,OAFN,EAAA,MAAA,EACD,EAAA,OAAA,EACO,EAHC,OAFY,EAAA,UAAA,EAAa,GAOzB,EAAK,UAAQ,SAAA,WACf,IAAA,KAAA,UAAO,CACR,IAAA,EAAA,KAAA,OAAA,EAAA,KAAA,MAAU,GAAK,IAAL,EACJ,OAAA,EAAQ,UAAU,SAAA,KAAA,MAElB,GAAU,IAClB,KAAA,MAAA,EAAA,GAEL,EAAA,UAAC,KAAA,4BAbS,EAAA,CAAA,EAAA;;AChC+B,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,WAAA,EAzDzC,IAAA,EAAA,EAAA,QAAA,UAGA,EAAA,QAAA,cAEA,EAAA,QAAA,sBAkCA,EAAA,QAAA,6BAkByC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAjBvC,SAAO,EAAsB,GAC9B,OAAA,SAAA,GAAA,OAAA,EAAA,KAAA,IAAA,EAAA,KAGC,IAAA,EAAmF,WAA7D,SAAA,EAAQ,GAC7B,KAAA,SAAA,EAKF,OAFiB,EAAA,UAAU,KAAI,SAAA,EAAqB,GAClD,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,SAAA,KACF,EANoF,GAa5C,EAAA,SAAqB,GAO5D,SAAA,EAGE,EAAM,EAAY,GAFA,IAAA,EAAA,EAAA,KAAA,KAA6D,IAAA,KAGhF,OAFmB,EAAA,SAAA,EAJZ,EAAA,OAAA,EAL+B,EAAA,2BAAA,EAWtC,EAXsC,OAOvC,EAAA,UAAA,EAAY,GASL,EAAA,UAAA,WAAiC,SAAA,EAAA,EAAA,EAAA,EAAA,GACjC,KAAA,2BAAuB,EAC7B,KAAA,OAAA,UAAA,OAGU,EAAA,UAAA,eAAmC,SAAE,GAC5C,IAAqB,IAArB,KAAA,0BACD,OAAA,EAAA,UAAA,SAAA,KAAA,OAII,EAAA,UAAA,SAAiC,WAGpC,GADG,KAAA,2BAAgB,GACnB,KAAK,UAAY,CAIf,GAHA,KAAK,SACN,KAAA,sBAEC,KAAA,qBAAa,KAAQ,oBAAG,OACzB,OAAA,EAAA,UAAA,SAAA,KAAA,MAGI,KAAA,yBACN,KAAA,cAAA,SAKO,EAAA,UAAA,aAAA,WACJ,IAAA,EAAA,KAAe,cAAA,EAAf,KAAe,oBACjB,IACA,EAAK,cACN,KAAA,cAAA,MAEC,IACA,EAAK,cACN,KAAA,oBAAA,MAEF,KAAA,QAAA,MAIS,EAAA,UAAA,uBAAsB,WAE1B,IAAA,EAAa,KAAO,aAKzB,OAJC,KAAA,aAAM,KACN,EAAK,UAAY,uBAAgB,KAAA,MAEjC,KAAA,aAAY,EACb,MAGM,EAAA,UAAoB,mBAAU,WAE/B,IAAA,EADA,KAAA,cAAQ,IAAA,EAAA,QAEF,IAET,GAAA,EADW,KAAS,UACpB,KAAA,eACC,MAAA,GACD,OAAA,EAAA,UAAA,SAAA,KAAA,MAEI,KAAA,QAAA,EACN,KAAA,qBAAA,EAAA,EAAA,mBAAA,KAAA,IA9EsC,EAAA,CAAA,EAAA;;ACerC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,MAAA,EA1EJ,IAAA,EAAA,EAAA,QAAA,UAmDA,EAAA,QAAA,iBAuBI,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAvBqB,SAAA,EAAA,GAKvB,YAJO,IAAP,IACD,GAAA,GAGC,SAAA,GACoB,OAAA,EAAqB,KAAA,IAAA,EAAA,EAAA,KAArB,IAAA,EAAqB,WACxC,SAAA,EAAA,EAAA,GAED,KAAA,MAAA,EACE,KAAA,OAAc,EASe,OAPjC,EAAA,UAAC,KAAA,SAAA,EAAA,GAAA,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,MAAA,KAAA,UAOgC,EAbU,GAczC,EAGE,SAAM,GADY,SAAA,EAAM,EAAe,EAAA,GACvC,IAAA,EAAA,EAAA,KAAA,KAAA,IAAA,KAGK,OAFN,EAAA,MAAA,EACD,EAAA,OAAA,EACO,EAHL,OAFkB,EAAA,UAAA,EAAa,GAOzB,EAAA,UAAa,MAAA,SAAA,GACf,IAAA,KAAA,UAAO,CACR,IAAA,EAAA,KAAA,OAAA,EAAA,KAAA,MAAU,GAAK,IAAL,EACJ,OAAA,EAAQ,UAAU,MAAA,KAAA,KAAA,GAElB,GAAU,IAClB,KAAA,MAAA,EAAA,GAEL,EAAA,UAAC,KAAA,4BAbG,EAAA,CAAA,EAAA;;AC9BoC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EA1CxC,IAAA,EAAA,EAAA,QAAA,UAGA,EAAA,QAAA,cAEA,EAAA,QAAA,sBAkBA,EAAA,QAAA,6BAmBwC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAlBtC,SAAO,EAAC,GACT,OAAA,SAAA,GAAA,OAAA,EAAA,KAAA,IAAA,EAAA,EAAA,KAGC,IAAA,EAA4E,WAAtD,SAAA,EAAA,EAAsD,GACtD,KAAA,SAAA,EACrB,KAAA,OAAA,EAKF,OAFgB,EAAC,UAAU,KAAI,SAAA,EAAoB,GACjD,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,SAAA,KAAA,UACF,EAP6E,GActC,EAAA,SAAqB,GAM3D,SAAA,EAGE,EAAM,EAAY,GAFA,IAAA,EAAA,EAAA,KAAA,KAAsD,IAAA,KAGzE,OAFmB,EAAA,SAAA,EARkB,EAAA,OAAA,EAUrC,EAVqC,OAMtC,EAAA,UAAA,EAAY,GAOA,EAAA,UAAW,MAAA,SAAA,GAEnB,IAAA,KAAI,UAAa,CACb,IAAA,EAAO,KAAY,OACnB,EAAA,KAAA,QAEA,EAAU,KAAA,oBACZ,GAAA,EAUK,KAAA,OAAA,KACN,KAAA,oBAAA,SAXU,CACT,EAAI,IAAA,EAAA,QACM,IAET,GAAA,EADW,KAAS,UACpB,GACC,MAAA,GACD,OAAA,EAAA,UAAA,MAAA,KAAA,KAAA,GAEF,GAAA,EAAA,EAAA,mBAAA,KAAA,GAOI,KAAA,yBACA,KAAA,OAAO,EACP,KAAA,QAAA,EAEL,KAAA,oBAAiB,EAClB,EAAA,KAAA,KAKO,EAAA,UAAA,aAAQ,WACZ,IAAQ,EAAR,KAAQ,OAAA,EAAR,KAAQ,oBACV,IACA,EAAK,cACN,KAAA,OAAA,MAEC,IACA,EAAK,cACN,KAAA,oBAAA,MAEF,KAAA,QAAA,MAKS,EAAA,UAAA,WAAsB,SAAA,EAAA,EAAA,EAAA,EAAA,GAE1B,IAAA,EAAa,KAAO,aACnB,KAAA,aAAA,KACA,KAAA,yBAEA,KAAA,aAAO,EACb,KAAA,OAAA,UAAA,OAnEqC,EAAA,CAAA,EAAA;;ACyBH,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,OAAA,EAnErC,IAAA,EAAA,EAAA,QAAA,UAEA,EAAA,QAAA,sBA4CA,EAAA,QAAA,6BAqBqC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EApBnC,SAAO,EAAC,GACT,OAAA,SAAA,GAAA,OAAA,EAAA,KAAA,IAAA,EAAA,KAGC,IAAA,EAA6C,WAAzB,SAAA,EAAA,GACnB,KAAA,SAAA,EAQF,OALS,EAAA,UAAgB,KAAO,SAAA,EAAiB,GACxC,IAAA,EAAe,IAAO,EAAU,GACtC,EAAiB,EAAA,UAAkB,GAEpC,OADC,EAAO,KAAA,EAAa,EAAA,mBAAA,EAAA,KAAA,WACrB,GACF,EAT8C,GAgBV,EAAA,SAAqB,GAA1D,SAAA,IAEU,IAAA,EAA0B,OAA1B,GAA0B,EAAA,MAAA,KAAA,YAAA,KAuBnC,OAzBoC,EAAA,UAAA,EAyBpC,EAzBoC,OAArC,EAAA,UAAA,EAAA,GAKc,EAAG,UAAM,MAAA,SAAA,GACd,KAAA,MAAQ,EACd,KAAA,UAAA,GAKM,EAAA,UAAY,WAAA,SAAA,EAAA,EAAA,EAAA,EAAA,GAClB,KAAA,aAGM,EAAA,UAAY,eAAA,WAClB,KAAA,aAGU,EAAA,UAAU,UAAA,WACjB,KAAK,WACA,KAAA,UAAW,EACjB,KAAA,YAAA,KAAA,KAAA,SAvBgC,EAAA,CAAA,EAAA;;ACyBpC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,WAAA,EA7FD,IAAA,EAAA,EAAA,QAAA,UACA,EAAA,QAAA,iBA6CA,EAAA,QAAA,sBA+CC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EA/C6C,SAAA,EAAA,EAAA,GAK5C,YAJQ,IAAR,IACD,EAAA,EAAA,OAGC,SAAA,GAAkC,OAAA,EACd,KAAwB,IAAA,EAAA,EAAA,KAAf,IAAA,EAAe,WAC3C,SAAA,EAAA,EAAA,GAED,KAAA,OAAA,EACE,KAAA,UAAc,EASoB,OAPtC,EAAA,UAAC,KAAA,SAAA,EAAA,GAAA,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,OAAA,KAAA,aAOqC,EAbQ,GAoB1C,EAAM,SAAY,GADA,SAAA,EAAA,EAAwB,EAAA,GAJ5C,IAAA,EAAA,EAAoB,KAAM,KAAA,IAAA,KAUnB,OAJL,EAAK,OAAI,EAoBZ,EAAA,UAAA,EAnBE,EAAA,UAAA,EAES,EAAA,IAAA,EAAA,SAAA,EAAc,EAAA,CAAA,WAAA,EAAA,OAAA,KACjB,EAaD,OApBc,EAAA,UAAM,EAAQ,GASlC,EAAC,UAAA,MAAA,SAAA,GAED,KAAA,UAAA,EACM,KAAA,UAAK,GAEF,EAAA,UAAiB,WAAc,WACrC,KAAA,WACF,KAAA,UAAA,EACH,KAAA,YAAA,KAAC,KAAA,aAGO,EAlBE,CAAA,EAAA,YAoBH,SAAA,EAAgB,GACtB,IAAA,EAAA,EAAA,WAAA,EAAA,EAAA,OAAA,EAAA,aAAA,KAAA,SAAA,EAAA;;AC4DoD,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,cAAA,EAAA,QAAA,wBAAA,QAAA,2BAAA,EAzJrD,IAAA,EAAA,EAAA,QAAA,UA8DA,EAAA,QAAA,iBA2FqD,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAzFnD,SAAO,EAAsB,EAAK,GACnC,OAAA,SAAA,GAAA,OAAA,EAAA,KAAA,IAAA,EAAA,EAAA,KAGC,IAAA,EAAoB,WAAA,SAAA,EAAwB,EAAA,GACxB,KAAA,UAAU,EAC7B,KAAA,WAAA,EAKF,OAFiB,EAAA,UAAc,KAAA,SAAA,EAAwB,GACrD,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,UAAA,KAAA,cACF,EAPqB,GAqF+B,QAAA,sBAAA,EAvEF,IAAA,EAAA,SAAa,GAK9D,SAAA,EAGE,EAAkB,EAEnB,GAJmB,IAAA,EAAA,EAAA,KAAA,KAAwB,IAAA,KAI3C,OAHmB,EAAA,UAAU,EANtB,EAAA,WAAa,EACb,EAAA,GAAU,GACV,EAAA,GAAA,GAML,EAAK,cAAgC,EA8DW,EAAA,YAAA,IAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KA7DlD,EAVgD,OAKjD,EAAA,UAAA,EAAY,GAQD,EAAA,UAAqB,MAAG,SAAc,GAC7C,KAAK,cAAY,IAAA,KAAA,GAAA,OAClB,KAAA,MAAA,IAEM,KAAA,GAAA,KAAA,GACN,KAAA,gBAIQ,EAAA,UAAc,UAAA,WACrB,KAAK,aACN,KAAA,KAAA,IAAA,KAAA,GAAA,QAAA,IAAA,KAAA,GAAA,QAEA,KAAA,cAAA,EAEF,KAAA,eAGS,EAAA,UAAI,YAAI,WAEd,IADF,IAAU,EAAD,KAAW,GAAO,EAAlB,KAAwB,GAAM,EAA9B,KAA8B,WACrC,EAAK,OAAM,GAAQ,EAAA,OAAA,GAAA,CACf,IAAA,EAAI,EAAG,QACP,EAAA,EAAA,QACA,GAAA,EACF,IACD,EAAA,EAAA,EAAA,EAAA,GAAA,IAAA,EACC,MAAA,GACD,KAAA,YAAA,MAAA,GAEC,GACD,KAAA,MAAA,KAKK,EAAA,UAAA,KAAqB,SAAA,GAC7B,IAAA,EAAiB,KAAM,YACvB,EAAY,KAAA,GACb,EAAA,YAGU,EAAA,UAAqB,MAAG,SAAc,GAC7C,KAAK,cAAY,IAAA,KAAA,GAAA,OAClB,KAAA,MAAA,IAEM,KAAA,GAAA,KAAA,GACN,KAAA,gBAIQ,EAAA,UAAc,UAAA,WACrB,KAAK,aACN,KAAA,KAAA,IAAA,KAAA,GAAA,QAAA,IAAA,KAAA,GAAA,QAEA,KAAA,cAAA,GAnE8C,EAAA,CAAA,EAAA,YAuEE,QAAA,wBAAA,EAAA,IAAA,EAAA,SAAa,GAChE,SAAA,EACQ,EACP,GAF6C,IAAA,EAAM,EAAN,KAAqC,KAAA,IAAA,KAElF,OAHkD,EAAA,OAAA,EAGlD,EAHkD,OACnD,EAAA,UAAA,EAAY,GAKe,EAAA,UAAA,MAAA,SAAA,GAC1B,KAAA,OAAA,MAAA,IAGwB,EAAA,UAAA,OAAA,SAAA,GAClB,KAAA,OAAA,MAAa,GACnB,KAAA,eAGyB,EAAA,UAAA,UAAA,WACnB,KAAA,OAAA,YACN,KAAA,eAjBkD,EAAA,CAAA,EAAA;;AClIpD,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,MAAA,EAvBD,IAAA,EAAA,QAAA,eACA,EAAA,QAAA,cAIA,EAAA,QAAA,cACE,SAAA,IACD,OAAA,IAAA,EAAA,QAeC,SAAO,IACR,OAAA,SAAA,GAAA,OAAA,EAAA,EAAA,WAAA,EAAA,EAAA,EAAA,WAAA,EAAA,CAAA;;AC+FA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,YAAA,EA5DD,IAAA,EAAA,QAAA,oBAKE,SAA8B,EAAA,EAAA,EAAA,GAC1B,IAAA,EAWL,OATE,EADC,GAAiD,iBAAA,EAClD,EAEG,CACA,WAAU,EACV,WAAU,EACV,UAAS,EACT,UAAA,GAGL,SAAA,GAAA,OAAA,EAAA,KAAA,EAAA,KAGC,SAAA,EAAA,GAKI,IACA,EAEA,EAHA,EAAA,EAAsC,WAAA,OAAA,IAAA,EAAA,OAAA,kBAAA,EAAA,EAAA,EAAA,WAAA,OAAA,IAAA,EAAA,OAAA,kBAAA,EAAA,EAAA,EAAA,SAAA,EAAA,EAAA,UAEtC,EAAA,EAEA,GAAU,EAEd,GAAgB,EACd,OAAA,SAAW,GACX,IACE,IAAW,IACX,GAAU,EACV,EAAA,IAAY,EAAZ,cAAsB,EAAU,EAAA,GAC1B,EAAA,EAAC,UAAS,CACd,KAAK,SAAA,GAAI,EAAA,KAAA,IACP,MAAA,SAAW,GACX,GAAQ,EACT,EAAA,MAAA,IAEC,SAAA,WACA,GAAQ,EACT,EAAA,eAKD,IAAA,EAAK,EAAA,UAAA,MACP,KAAA,IAAA,WACA,IACA,EAAI,cACF,IAAa,GAAc,GAAA,IAAA,IAC3B,EAAY,cACZ,OAAU,EACX,OAAA;;AC7C2B,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,OAAA,EAtElC,IAAA,EAAA,EAAA,QAAA,UACA,EAAA,QAAA,iBAkDA,EAAA,QAAA,sBAmBkC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAlBhC,SAAO,EAAC,GACT,OAAA,SAAA,GAAA,OAAA,EAAA,KAAA,IAAA,EAAA,EAAA,KAGC,IAAA,EAAoB,WAAA,SAAA,EAAA,EAAuE,GACvE,KAAA,UAAA,EACnB,KAAA,OAAA,EAKF,OAFU,EAAA,UAAO,KAAc,SAAA,EAAiB,GAC9C,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,UAAA,KAAA,UACF,EAPqB,GAcY,EAAA,SAAa,GAK7C,SAAA,EAGE,EAAM,EAAY,GAFA,IAAA,EAAA,EAAA,KAAA,KAAuE,IAAA,KAG1F,OAFmB,EAAA,UAAA,EANZ,EAAA,OAAS,EAET,EAAA,WAAkB,EAHM,EAAA,MAAA,EAS/B,EAT+B,OAKhC,EAAA,UAAA,EAAY,GAOD,EAAA,UAAW,iBAAA,SAAA,GAClB,KAAK,UACN,KAAA,YAAA,MAAA,4CAEM,KAAA,WAAW,EACjB,KAAA,YAAA,IAIa,EAAA,UAAU,MAAG,SAAA,GAEvB,IAAA,EAAK,KAAA,QACP,KAAK,UACN,KAAA,QAAA,EAAA,GAEA,KAAA,iBAAA,IAIG,EAAA,UAAA,QAAA,SAAA,EAAA,GACF,IACE,KAAK,UAAA,EAAiB,EAAO,KAAA,SAC9B,KAAA,iBAAA,GAED,MAAA,GACD,KAAA,YAAA,MAAA,KAIK,EAAA,UAAmB,UAAY,WAEjC,IAAA,EAAc,KAAE,YAClB,KAAA,MAAY,GACZ,EAAY,KAAA,KAAU,UAAC,KAAA,iBAAA,GACxB,EAAA,YAEA,EAAA,MAAA,IAAA,EAAA,aAhD6B,EAAA,CAAA,EAAA;;ACtCF,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,KAAA,EAjChC,IAAA,EAAA,EAAA,QAAA,UAeA,EAAA,QAAA,iBAkBgC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAjB9B,SAAO,EAAC,GACT,OAAA,SAAA,GAAA,OAAA,EAAA,KAAA,IAAA,EAAA,KAGC,IAAA,EAAiC,WAAb,SAAA,EAAK,GACxB,KAAA,MAAA,EAKF,OAFU,EAAA,UAAO,KAAU,SAAI,EAAe,GAC5C,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,SACF,EANkC,GAaH,EAAA,SAAa,GAG3C,SAAA,EACE,EAAM,GADwC,IAAA,EAAK,EAAA,KAAQ,KAAA,IAAA,KAE5D,OAJD,EAAA,MAAgB,EADc,EAAA,MAAA,EAK7B,EAL6B,OAG9B,EAAA,UAAA,EAAY,GAKA,EAAC,UAAQ,MAAU,SAAE,KAC7B,KAAK,MAAA,KAAY,OAClB,KAAA,YAAA,KAAA,IAV2B,EAAA,CAAA,EAAA;;ACqCI,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,SAAA,EAtEpC,IAAA,EAAA,EAAA,QAAA,UACA,EAAA,QAAA,iBA0CA,EAAA,QAAA,mCA2BoC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EA1BlC,SAAO,EAAC,GACT,OAAA,SAAA,GAAA,OAAA,EAAA,KAAA,IAAA,EAAA,KAGC,IAAA,EAAoB,WAAA,SAAA,EAAA,GAEhB,GADE,KAAA,WAAK,EACP,KAAA,WAAU,EACX,MAAA,IAAA,EAAA,wBAYJ,OARY,EAAA,UAAU,KAAQ,SAAA,EAAA,GAGzB,OAAc,IAAd,KAAA,WACD,EAAA,UAAA,IAAA,EAAA,WAAA,IAEA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,cAEJ,EAfqB,GAsBc,EAAA,SAAa,GAI/C,SAAA,EACE,EAAM,GADwC,IAAA,EAAA,EAAA,KAAA,KAAkB,IAAA,KAGjE,OALO,EAAA,WAAmB,EAIzB,EAAK,OAAQ,EANmB,EAAA,MAAA,IAAA,MAAA,GAOjC,EAPiC,OAIlC,EAAA,UAAA,EAAY,GAMK,EAAA,UAAQ,MAAW,SAAA,GAC5B,IAAA,EAAY,KAAC,WAEf,EAAQ,KAAA,SACV,GAAA,EAAK,EACN,KAAA,MAAA,GAAA,MACC,CACM,IAAA,EAAY,EAAM,EAClB,EAAA,KAAW,MAEb,EAAC,EAAa,GAClB,EAAK,GAAgB,EACtB,KAAA,YAAA,KAAA,KAtB+B,EAAA,CAAA,EAAA;;ACLI,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EA/DxC,IAAA,EAAA,EAAA,QAAA,UACA,EAAA,QAAA,sBACA,EAAA,QAAA,sBA2CA,EAAA,QAAA,6BAkBwC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAjBtC,SAAO,EAAC,GACT,OAAA,SAAA,GAAA,OAAA,EAAA,KAAA,IAAA,EAAA,KAGC,IAAA,EAA6C,WAAzB,SAAA,EAAA,GACnB,KAAA,SAAA,EAKF,OAFgB,EAAC,UAAU,KAAI,SAAA,EAAoB,GACjD,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,YACF,EAN8C,GAaP,EAAA,SAAqB,GAK3D,SAAA,EACE,EAAM,GAJA,IAAA,EAAA,EAAoB,KAAM,KAAA,IAAA,KAKhC,EAAM,UAAA,EACN,IAAA,EAAS,IAAgB,EAAhB,gBAAiB,OAAA,OAAA,GAG3B,OAFC,EAAK,IAAA,GACL,EAAA,kBAAwB,GAVY,EAAA,EAAA,mBAAA,EAAA,OAAA,OAAA,EAAA,GAWrC,EAXqC,OAKtC,EAAA,UAAA,EAAY,GASD,EAAA,UAAU,MAAA,SAAA,GACjB,KAAA,UACD,EAAA,UAAA,MAAA,KAAA,KAAA,IAMY,EAAG,UAAK,WAAA,SAAA,EAAA,EAAA,EAAA,EAAA,GACjB,KAAA,UAAK,EACP,KAAK,mBACN,KAAA,kBAAA,eAKH,EAAC,UAAA,eAAA,aA9BqC,EAAA,CAAA,EAAA;;AC/BH,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EAjCrC,IAAA,EAAA,EAAA,QAAA,UAeA,EAAA,QAAA,iBAkBqC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAjBnC,SAAO,EAAC,GACT,OAAA,SAAA,GAAA,OAAA,EAAA,KAAA,IAAA,EAAA,KAGC,IAAA,EAAoB,WAAA,SAAA,EAAA,GACnB,KAAA,UAAA,EAKF,OAFgB,EAAC,UAAU,KAAI,SAAA,EAAoB,GACjD,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,aACF,EANqB,GAae,EAAA,SAAa,GAIhD,SAAA,EAEE,EAAM,GADY,IAAA,EAAA,EAAA,KAAA,KAA+C,IAAA,KAElE,OANO,EAAA,UAAoB,EACpB,EAAA,UAAkB,EAFS,EAAA,MAAA,EAOlC,EAPkC,OAInC,EAAA,UAAA,EAAY,GAMO,EAAA,UAAQ,MAAW,SAAC,GACjC,IAAA,EAAa,KAAE,YACjB,KAAK,UACN,KAAA,iBAAA,GAGC,KAAA,UACD,EAAA,KAAA,IAIG,EAAA,UAAA,iBAAA,SAAA,GACF,IACI,IAAA,EAAS,KAAG,UAAQ,EAAQ,KAAA,SACjC,KAAA,SAAA,QAAA,GACC,MAAA,GACD,KAAA,YAAA,MAAA,KA1BgC,EAAA,CAAA,EAAA;;ACyCpC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EA1ED,IAAA,EAAA,QAAA,wBAiEA,EAAA,QAAA,uBAAgC,SAAA,IAAA,IAAA,IAAA,EAAA,GAAA,EAAA,EAAA,EAAA,UAAkC,OAAA,IASjE,EAAA,GAAA,UAAA,GAPK,IAAA,EAAY,EAAA,EAAY,OAAA,GAE1B,OAAA,EAAY,EAAA,aAAA,IACZ,EAAA,MACD,SAAA,GAAA,OAAA,EAAA,EAAA,QAAA,EAAA,EAAA,KAEA,SAAA,GAAA,OAAA,EAAA,EAAA,QAAA,EAAA;;AC1D2C,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,2BAAA,EAd9C,IAAA,EAAA,EAAA,QAAA,UACA,EAAA,QAAA,iBACA,EAAA,QAAA,qBAYA,EAAA,QAAA,qBAA8C,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAAA,IAAA,EAAA,SAAa,GAarC,SAAA,EAAA,EAAA,EAAqB,QACrB,IAAA,IAFpB,EAGE,QAFkB,IAAA,IACA,EAAS,EAAT,MAGhB,IAAA,EAAK,EAAS,KAAK,OAAA,KAdd,OAeN,EAAA,OAAA,EACD,EAAK,UAAa,EAChB,EAAA,UAAK,KACN,EAAA,EAAA,WAAA,IAAA,EAAA,KArByC,EAAA,UAAA,GAErC,GAAiC,mBAA3B,EAAb,WAAwC,EAAA,UAAA,EAAA,MAC/B,EAHmC,OAY5C,EAAA,UAAA,EACoB,GANb,EAAA,OAAQ,SAAf,EAAgE,EAAA,GAqBxD,YApBE,IAAA,IACR,EAAY,QAgBd,IAAA,IACQ,EAAY,EAAZ,MAEA,IAAA,EAA2B,EAAA,EAAA,IAGzB,EAAA,SAAE,SAAU,GACjB,IAAA,EAAA,EAAA,OAAA,EAAA,EAAA,WACJ,OAAA,KAAA,IAAA,EAAA,UAAA,KAjC2C,EAkC7C,UAAA,WAAA,SAAA,GAlC6C,IAAA,EAAA,KAAA,UAAA,EAAA,KAAA,OAAA,OAAA,KAAA,UAAA,SAAA,EAAA,SAAA,EAAA,CAAA,OAAA,EAAA,WAAA,KAAA,EAAA,CAAA,EAAA,YAAA,QAAA,sBAAA;;ACuCX,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,YAAA,EARnC,IAAA,EAAA,QAAA,uCAAyD,SAAA,EAAA,EAAiB,GAIzE,YAHQ,IAAP,IACE,EAAO,GAEV,SAAA,GAED,OAAA,EAAA,KAAA,IAAA,EAAA,EAAA,KAEsB,IAAA,EAAa,WAChC,SAAA,EAAA,EAAA,GACD,KAAA,UAAA,EACE,KAAA,MAAW,EAHoB,OAOnC,EAAA,UAAC,KAAA,SAAA,EAAA,GAAA,OAAA,IAAA,EAAA,sBAAA,EAAA,KAAA,MAAA,KAAA,WAAA,UAAA,IAPkC,EAAA;;ACqDK,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EAzGxC,IAAA,EAAA,EAAA,QAAA,UACA,EAAA,QAAA,sBACA,EAAA,QAAA,sBAEA,EAAA,QAAA,6BACA,EAAA,QAAA,SAwEA,EAAA,QAAA,sBA4BwC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAxBtC,SAAW,EAAA,EAAmB,GAC5B,MAA6B,mBAAtB,EAKR,SAAA,GAAA,OAAA,EAAA,KAAA,EAAA,SAAA,EAAA,GAAA,OAAA,EAAA,EAAA,MAAA,EAAA,EAAA,IAAA,MAAA,EAAA,EAAA,KAAA,SAAA,EAAA,GAAA,OAAA,EAAA,EAAA,EAAA,EAAA,UAEF,SAAA,GAAA,OAAA,EAAA,KAAA,IAAA,EAAA,KAGC,IAAA,EAA4E,WAAxD,SAAA,EAAwD,GAC3E,KAAA,QAAA,EAKF,OAFgB,EAAC,UAAU,KAAI,SAAA,EAAoB,GACjD,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,WACF,EAN6E,GAatC,EAAA,SAAqB,GAI3D,SAAA,EAEE,EAAM,GADY,IAAA,EAAA,EAAA,KAAwD,KAAA,IAAA,KAE3E,OANO,EAAA,QAAkB,EADY,EAAA,MAAA,EAOrC,EAPqC,OAItC,EAAA,UAAA,EAAY,GAMqB,EAAA,UAAA,MAAA,SAAA,GACzB,IAAA,EACF,EAAA,KAAA,QACF,IACD,EAAA,KAAA,QAAA,EAAA,GACC,MAAA,GAED,YADC,KAAA,YAAO,MAAA,GAGV,KAAA,UAAA,EAAA,EAAA,IAGO,EAAA,UAAoB,UAAK,SAAkB,EAAA,EAAA,GAC7C,IAAA,EAAmB,KAAA,kBACrB,GACD,EAAA,cAEK,IAAA,EAAkB,IAAC,EAAD,gBAA6B,UAAA,OAAA,GACrC,KAAA,YACX,IAAA,GACN,KAAA,mBAAA,EAAA,EAAA,mBAAA,KAAA,EAAA,EAAA,EAAA,IAGQ,EAAA,UAAA,UAAA,WACH,IAAA,EAAkB,KAAI,kBACxB,IAAM,EAAY,QACnB,EAAA,UAAA,UAAA,KAAA,MAEF,KAAA,eAGM,EAAA,UAAoB,aAAK,WAC/B,KAAA,kBAAA,MAGkB,EAAA,UAAQ,eAA4B,SAAA,GACnC,KAAC,YACd,OAAA,GACD,KAAA,kBAAgB,KAClB,KAAA,WACD,EAAA,UAAA,UAAA,KAAA,OAMM,EAAW,UAAM,WAAY,SAAA,EAAA,EAAA,EAAA,EAAA,GACrC,KAAA,YAAA,KAAA,IAzDqC,EAAA,CAAA,EAAA;;AC7CvC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EA9DD,IAAA,EAAA,QAAA,eA4DA,EAAA,QAAA,oBACE,SAAO,IACR,OAAA,EAAA,EAAA,WAAA,EAAA;;ACDA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,YAAA,EALD,IAAA,EAAA,QAAA,eAIE,SAAO,EAAiB,EAAU,GACnC,OAAA,GAAA,EAAA,EAAA,WAAA,WAAA,OAAA,GAAA,IAAA,EAAA,EAAA,WAAA,WAAA,OAAA;;ACWuC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EAtExC,IAAA,EAAA,EAAA,QAAA,UAEA,EAAA,QAAA,sBA4CA,EAAA,QAAA,6BAwBwC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAvBtC,SAAO,EAAC,GACT,OAAA,SAAA,GAAA,OAAA,EAAA,KAAA,IAAA,EAAA,KAGC,IAAA,EAA6C,WAAzB,SAAA,EAAA,GACnB,KAAA,SAAA,EAWF,OARS,EAAA,UAAmB,KAAO,SAAA,EAAoB,GAC9C,IAAA,EAAoB,IAAG,EAAkB,GAC3C,GAAoB,EAAK,EAAA,mBAAA,EAA+B,KAAA,UAC1D,OAAA,IAAwB,EAAqB,WAC7C,EAAc,IAAU,GACzB,EAAA,UAAA,IAEF,GACF,EAZ8C,GAmBP,EAAA,SAAqB,GAG3D,SAAA,EACE,GAHF,IAAA,EAAA,EAAY,KAAM,KAAA,IAAA,KAIjB,OALqC,EAAA,WAAA,EAKrC,EALqC,OAGtC,EAAA,UAAA,EAAY,GAOI,EAAA,UAAQ,WAAA,SAAA,EAAA,EAAA,EAAA,EAAA,GACjB,KAAA,WAAW,EACjB,KAAA,YAID,EAAC,UAAA,eAAA,aAhBqC,EAAA,CAAA,EAAA;;ACS9B,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EAjFV,IAAA,EAAA,EAAA,QAAA,UAmDA,EAAA,QAAA,iBA8BU,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EA5BN,SAAA,EAAA,EAAA,GAGH,YAFS,IAAR,IACW,GAAA,GACZ,SAAA,GAED,OAAA,EAAA,KAAA,IAAA,EAAA,EAAA,KAGc,IAAA,EAAkB,WAAI,SAAA,EAAA,EAAA,GAElC,KAAA,UAAA,EACE,KAAA,UAAc,EAUmB,OAPrC,EAAA,UAAC,KAAA,SAAA,EAAA,GAAA,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,UAAA,KAAA,aAOoC,EAbL,GAoB5B,EAAM,SAAY,GADR,SAAA,EAAA,EAAkB,EAAA,GALtB,IAAA,EAAK,EAAa,KAAA,KAAA,IAAA,KAUlB,OAJA,EAAA,UAAA,EACP,EAAA,UAAA,EAES,EAAA,MAAA,EACF,EAJA,OAFI,EAAA,UAAA,EAA+C,GAQrD,EAAA,UAAA,MAAA,SAAA,GACF,IACD,EADC,EAAc,KAAA,YACd,IACA,EAAA,KAAY,UAAW,EAAA,KAAA,SAExB,MAAA,GAEF,YADK,EAAC,MAAe,GAId,KAAA,eAAc,EAAK,IAEZ,EAAC,UAAU,eAAE,SAAA,EAAA,GACzB,IAAA,EAAA,KAAA,YAAM,QAAA,GACL,EAAS,KAAA,IAGT,KAAA,WACD,EAAA,KAAA,GAEL,EAAA,aA1BU,EAAA,CAAA,EAAA;;ACOqB,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,IAAA,EAzF/B,IAAA,EAAA,EAAA,QAAA,UAGA,EAAA,QAAA,iBACA,EAAA,QAAA,gBA6DA,EAAA,QAAA,sBAwB+B,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EArB7B,SAAO,EAAS,EAAA,EAAoB,GAClC,OAAA,SAAuB,GACvB,OAAA,EAAA,KAAA,IAAA,EAAA,EAAA,EAAA,KAIF,IAAA,EAAoB,WAAA,SAAA,EAAA,EAAA,EAAsD,GACtD,KAAA,eAAwB,EACxB,KAAA,MAAQ,EAC3B,KAAA,SAAA,EAIF,OAFG,EAAO,UAAO,KAAU,SAAI,EAAc,GAC3C,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,eAAA,KAAA,MAAA,KAAA,YACF,EAPqB,GAeS,EAAA,SAAa,GAS1C,SAAA,EAII,EAAM,EAAY,EAYnB,GAtBK,IAAA,EAAA,EAAiC,KAAK,KAAA,IAAA,KAsB3C,OApBK,EAAA,SAAS,EAAT,KAEA,EAAA,UAAY,EAAZ,KAOJ,EAAK,aAAY,EAAjB,KACA,EAAK,UAAY,GAAG,EAApB,KACA,EAAI,aAAW,GAAiB,EAAhC,MACE,EAAK,EAAA,YAAA,IACL,EAAK,SAAW,EACjB,EAAA,SAAA,GACK,IACJ,EAAK,SAAW,EAChB,EAAK,SAAS,EAAiB,MAAM,EAArC,KACA,EAAK,UAAY,EAAG,OAAe,EAAnC,KACD,EAAA,aAAA,EAAA,UAAA,EAAA,MACF,EAzB0B,OAS7B,EAAA,UAAA,EAAY,GAmBN,EAAA,UAAA,MAAA,SAAA,GACF,IACD,KAAA,SAAA,KAAA,KAAA,SAAA,GACC,MAAA,GAED,YADC,KAAA,YAAO,MAAA,GAGV,KAAA,YAAA,KAAA,IAGK,EAAA,UAAA,OAAA,SAAA,GACF,IACD,KAAA,UAAA,KAAA,KAAA,SAAA,GACC,MAAA,GAED,YADC,KAAA,YAAO,MAAA,GAGV,KAAA,YAAA,MAAA,IAGK,EAAA,UAAA,UAAA,WACF,IACD,KAAA,aAAA,KAAA,KAAA,UACC,MAAA,GAED,YADC,KAAA,YAAO,MAAA,GAGV,OAAA,KAAA,YAAA,YAvD4B,EAAA,CAAA,EAAA;;ACSrB,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,SAAA,EAAA,QAAA,2BAAA,EA9FV,IAAA,EAAA,EAAA,QAAA,UAEA,EAAA,QAAA,sBASA,EAAA,QAAA,6BAmFU,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAlFR,IAAO,EAAM,CACb,SAAQ,EACR,UAAA,GAiD0B,SAAA,EAAA,EAAA,GAK1B,YAJO,IAAP,IACD,EAAA,GAGC,SAAA,GAAoB,OAAA,EAAA,KACA,IAAA,EACiB,EAAA,EAAA,QAAA,EAAA,YAwB7B,QAAA,sBAAA,EAzBmB,IAAA,EAAS,WAChB,SAAA,EAAA,EAAiB,EAAA,GACpC,KAAA,iBAAA,EAED,KAAA,QAAA,EACE,KAAA,SAAc,EAWqB,OAPvC,EAAA,UAAC,KAAA,SAAA,EAAA,GAAA,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,iBAAA,KAAA,QAAA,KAAA,YAOsC,EAhBD,GAyBlC,EAAM,SAAY,GAHA,SAAA,EAAgB,EAAhB,EAA6D,EAAA,GAC7D,IAAA,EAAA,EAAA,KAAA,KAAiB,IAAA,KAM9B,OALa,EAAA,YAAA,EALZ,EAAA,iBAAkB,EAMlB,EAAA,SAAA,EACP,EAAA,UAAA,EAES,EAAA,WAAA,EACH,EAJC,OAJc,EAAA,UAAA,EAA0B,GAWpC,EAAA,UAAY,MAAA,SAAA,GACpB,KAAA,WAAS,EACE,KAAA,WAAA,EACV,KAAA,aAAM,KAAA,SACA,KAAA,OAGV,KAAA,SAAA,KAKQ,EAAA,UAAgB,KAAC,WACtB,IAAK,EAAA,KAAqB,UAAA,EAArB,KAAqB,WAC3B,IACI,KAAA,YAAY,KAAM,GAClB,KAAA,SAAa,IAGZ,KAAA,WAAA,EACA,KAAA,WAAW,MAEN,EAAA,UAAK,SAAa,SAAA,GAC5B,IAAA,EAAA,KAAA,oBAAA,GACF,GAEO,KAAA,IAAA,KAAA,YAAA,EAAR,EAAA,mBAAA,KAAA,KAGG,EAAA,UAAA,oBAAA,SAAA,GAAC,IACK,OAAA,KAAA,iBAAuB,GAE7B,MAAA,GAGK,OAFP,KAAA,YAAA,MAAA,GAEO,OAGM,EAAC,UAAA,eAAc,WAC1B,IAAA,EAAA,KAAA,WAAA,EAAA,KAAA,UACG,GAEA,EAAW,cAEd,KAAA,WAAA,KACF,GAED,KAAA,QAMA,EAAA,UAAA,WAAA,SAAA,EAAA,EAAA,EAAA,EAAA,GACO,KAAA,kBAET,EAAA,UAAC,eAAA,WAxEsC,KAAA,kBAS7B,EAAA,CAAA,EAAA;;ACoBoC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAtH9C,IAAA,EAAA,EAAA,QAAA,UAEA,EAAA,QAAA,iBAEA,EAAA,QAAA,sBAkFA,EAAA,QAAA,cAgC8C,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EA/Bd,SAAA,EAAA,EAAA,EAAgC,GAO1C,YANU,IAAA,IAC9B,EAAO,EAAP,YAGF,IAAA,IACE,EAAA,EAAA,uBACoB,SAAA,GAAwB,OAAA,EAAA,KAAA,IAAA,EAAA,EAAA,EAAA,EAAA,QAAA,EAAA,YAExB,IAAA,EAAiB,WACpC,SAAA,EAAA,EAAA,EAAA,EAAA,GAED,KAAA,SAAA,EACE,KAAA,UAAc,EAGf,KAAA,QAAA,EACH,KAAA,SAAA,EAYE,OALF,EAAA,UAAA,KAAA,SAAA,EAAA,GAAwC,OAAA,EAAA,UAAA,IAAA,EAAa,EAAA,KAAA,SAAA,KAAA,UAAA,KAAA,QAAA,KAAA,YAKnD,EApBqC,GAsBjB,EAAwB,SAAA,GAExB,SAAA,EAAiB,EAAA,EAAA,EAAA,EAAA,GAP7B,IAAA,EAAA,EAAA,KAAiB,KAAY,IAAM,KAKC,OAJpC,EAAA,SAAA,EAIoC,EAAA,UAAA,EAI3C,EAAA,QAAA,EAES,EAAA,SAAA,EACR,EAAI,mBAAgB,EAClB,EAAA,eAAmB,KARqB,EAsD7C,OArDqB,EAAA,UAAO,EAAS,GAU/B,EAAA,UAAA,MAAA,SAAA,GACF,KAAA,UAAM,KAAA,WACI,KAAA,eAAiB,EACjB,KAAA,mBAAS,IAGhB,KAAA,IAAK,KAAA,UAAiB,KAAK,UAAC,SAAA,EAAA,KAAA,SAAA,CAAA,WAAA,QAC5B,KAAK,QACN,KAAA,YAAA,KAAA,GAEJ,KAAA,WAES,KAAA,eAAA,EACC,KAAA,mBAAmB,KAGrB,EAAA,UAAA,UAAA,WACL,KAAK,mBACN,KAAA,YAAA,KAAA,KAAA,gBACF,KAAA,YAAA,YAIK,KAAA,YAAW,YAGN,EAAA,UAAc,cAAQ,WACtB,IAAA,EAAA,KAAA,UACN,IACD,KAAS,UAAY,KAAG,oBACnB,KAAA,YAAgB,KAAE,KAAA,gBAClB,KAAA,eAAiB,KACvB,KAAA,mBAAA,GAEL,EAAA,cAAC,KAAA,OAAA,GAMQ,KAAA,UAAmC,OAG3C,EAtD6C,CAAA,EAAA,YAAA,SAAA,EAAA,GAAA,EAAA,WAAA;;AC7C7C,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,QAAA,kBAAA,EAtED,IAAA,EAAA,QAAA,sBACA,EAAA,QAAA,UACA,EAAA,QAAA,uBA+CA,EAAA,QAAA,SAAgC,SAAA,EAAA,GAKC,YAJvB,IAAR,IACE,EAAO,EAAP,OAG6B,SAAA,GACvB,OAAA,EAAO,EAAA,OAAA,WAEkB,OAAA,EAAA,MAAA,EAAO,EAAA,MAAA,SAAE,EAAA,GAAkB,IAAA,EAAI,EAAA,QAC5D,MAAA,CAAA,MAAA,EAAA,QAAA,EAAA,MAAA,KAAA,IACD,CAAA,QAAA,EAAA,MAAA,WAAA,EAAA,UAAA,KAAA,EAAA,EAAA,KAAA,SAAA,GACJ,IAAA,EAAA,EAAA,QAAA,EAAA,EAAA,KAAA,EAAA,EAAA,MAQD,OAAA,IAAA,EAAA,EAAA,EAAA,SAEA,IAAA,EAAC,WAAA,OAAA,SAAA,EAAA,GAAA,KAAA,MAAA,EAAA,KAAA,SAAA,GAAA,GAAA,QAAA,aAAA;;AC8BS,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,YAAA,EAtGV,IAAA,EAAA,EAAA,QAAA,UAEA,EAAA,QAAA,sBACA,EAAA,QAAA,kBACA,EAAA,QAAA,sBA4DA,EAAA,QAAA,6BAsCU,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EApCwB,SAAA,EAAA,EAAA,EAAgC,GAI9D,YAHM,IAAR,IACE,EAAI,EAAJ,OAEA,SAAa,GACb,IAAA,GAAA,EAAA,EAAA,QAAA,GACH,EAAA,GAAA,EAAA,EAAA,MAAA,KAAA,IAAA,GAED,OAAA,EAAA,KAAA,IAAA,EAAA,EAAA,EAAA,EAAA,KAEsB,IAAA,EAAA,WACA,SAAA,EAAA,EAAA,EAAoC,EAAA,GACpC,KAAA,QAAS,EAC5B,KAAA,gBAAA,EAED,KAAA,eAAA,EACE,KAAA,UAAc,EAWwB,OAP1C,EAAA,UAAC,KAAA,SAAA,EAAA,GAAA,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,gBAAA,KAAA,QAAA,KAAA,eAAA,KAAA,aAOyC,EAjBpB,GA0BlB,EAAM,SAAY,GAHA,SAAA,EAAe,EAAA,EAAA,EAAA,EAAA,GACf,IAAA,EAAA,EAAA,KAAA,KAAA,IAAoC,KAO9C,OANU,EAAA,gBAAA,EANZ,EAAA,QAAuD,EAQ7D,EAAK,eAAiB,EADhB,EAAA,UAAA,EAEP,EAAA,OAAA,KAEc,EAAA,kBACL,EALF,OAJY,EAAA,UAAA,EAAA,GAWH,EAAA,gBAAkB,SAAY,GAC9C,IAAA,EAAA,EAAA,eAEO,EAAA,yBACE,EAAA,KAAA,EAAgB,EAAA,mBAAA,EAAA,KAOX,EAAmD,UAAO,gBAAoB,WAC1F,IAAA,EAAA,KAAA,OAAM,EACA,KAAA,OAAS,EAAM,SAAwD,KAAA,KAAU,SAMhF,KAAA,IAAA,KAAA,OAAA,KAAA,UAAV,SAAwB,EAAA,gBAAA,KAAA,QAAA,QAGrB,EAAA,UAAA,MAAA,SAAA,GACD,KAAA,iBACD,KAAA,kBAIC,EAAK,UAAS,MAAK,KAAA,KAAA,IAEd,EAAA,UAAsB,aAAA,WAC5B,KAAA,OAAA,KACH,KAAA,UAAA,KAhD0C,KAAA,eAgDzC,MAvCS,EAAA,CAAA,EAAA;;ACbT,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EAtFD,IAAA,EAAA,QAAA,sBAEA,EAAA,QAAA,wBACA,EAAA,QAAA,iBAgFA,EAAA,QAAA,4BAC2B,SAAA,EAAA,EAAA,GAE1B,YADmB,IAAlB,IACD,EAAA,EAAA,QAAA,EAAA,EAAA,aAAA,GAAA,EAAA,EAAA,YAAA,IAAA,EAAA,cAAA;;AC9CqC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EAAA,QAAA,eAAA,EA1CtC,IAAA,EAAA,QAAA,sBAoCA,EAAA,QAAA,SAA6B,SAAA,EAAA,GAM3B,YALW,IAAX,IAED,EAAA,EAAA,QAGC,EAAA,EAAA,KAAA,SAAmB,GAAkC,OAAA,IAAA,EAAA,EAAA,EAAA,SAAjB,IAAA,EAAA,WAAA,OACnC,SAAA,EAAA,GACH,KAAA,MAAC,EAAA,KAAA,UAAA,GAFqC,GAAA,QAAA,UAAA;;ACDrC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EAzCD,IAAA,EAAA,QAAA,YACM,SAAA,EAAa,EAAA,EAAA,GACf,OAAQ,IAAR,EACD,CAAA,IAED,EAAA,KAAO,GACR,GAkCC,SAAO,IACR,OAAA,EAAA,EAAA,QAAA,EAAA;;ACkCiC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,OAAA,EA5ElC,IAAA,EAAA,EAAA,QAAA,UAEA,EAAA,QAAA,cAEA,EAAA,QAAA,sBA8CA,EAAA,QAAA,6BA0BkC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAzBhC,SAAO,EAAS,GACd,OAAA,SAAuB,GACvB,OAAA,EAAA,KAAA,IAAA,EAAA,KAKF,IAAA,EAAoB,WAAA,SAAA,EAAA,GACnB,KAAA,iBAAA,EAUF,OAPS,EAAA,UAAgB,KAAO,SAAA,EAAiB,GACxC,IAAA,EAAkB,IAAG,EAAiB,GACxC,EAAoB,EAAQ,UAAA,GAIjC,OAHG,EAAoB,QACrB,EAAA,KAAA,EAAA,EAAA,mBAAA,EAAA,KAAA,mBAEF,GACF,EAXqB,GAkBY,EAAA,SAAuB,GAIvD,SAAA,EACE,GAHM,IAAA,EAAM,EAAmB,KAAA,KAAa,IAAA,KAK7C,OADC,EAAA,OAAY,IAAK,EAAL,QANkB,EAAA,KAAA,EAAA,QAO/B,EAP+B,OAIhC,EAAA,UAAA,EAAY,GAQL,EAAA,UAAa,WAAA,SAAA,EAAA,EAAA,EAAA,EAAA,GACnB,KAAA,cAGa,EAAA,UAAO,YAAA,SAAA,EAAA,GACpB,KAAA,OAAA,IAGM,EAAA,UAAY,eAAA,SAAA,GAClB,KAAA,aAGa,EAAA,UAAW,MAAC,SAAA,GACzB,KAAA,OAAA,KAAA,IAGa,EAAA,UAAW,OAAA,SAAA,GAClB,KAAA,OAAA,MAAY,GAClB,KAAA,YAAA,MAAA,IAGa,EAAA,UAAW,UAAA,WAClB,KAAA,OAAA,WACN,KAAA,YAAA,YAIY,EAAA,UAAQ,aAAA,WACpB,KAAA,OAAA,MAGO,EAAA,UAAkB,WAAO,WAC3B,IAAA,EAAY,KAAA,OACd,GACD,EAAA,WAEK,IAAA,EAAY,KAAK,YACvB,EAAgB,KAAC,OAAW,IAAA,EAAA,QAC7B,EAAA,KAAA,IAlD+B,EAAA,CAAA,EAAA;;ACqBxB,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,YAAA,EAlGV,IAAA,EAAA,EAAA,QAAA,UAEA,EAAA,QAAA,iBAkEA,EAAA,QAAA,cA8BU,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EA7BqB,SAAA,EAAA,EAAA,GAI9B,YAHiB,IAAhB,IACE,EAAmB,GAEtB,SAAA,GAED,OAAA,EAAA,KAAA,IAAA,EAAA,EAAA,KAGsB,IAAA,EAAA,WACnB,SAAA,EAAA,EAAA,GAED,KAAA,WAAA,EACE,KAAA,iBAAwB,EASW,OAPvC,EAAA,UAAC,KAAA,SAAA,EAAA,GAAA,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,WAAA,KAAA,oBAOsC,EAbjB,GAoBlB,EAAM,SAAY,GAFA,SAAA,EAAA,EAAkB,EAAA,GAClB,IAAA,EAAA,EAAA,KAAgB,KAAhB,IAAwB,KAMpC,OAXA,EAAA,YAA0B,EAC1B,EAAA,WAAkB,EAMxB,EAAA,iBAAsB,EADhB,EAAA,QAAA,CAAA,IAAA,EAAA,SAEP,EAAA,MAAA,EAES,EAAA,KAAA,EAAA,QAAA,IACF,EALA,OAHc,EAAA,UAAA,EAAsC,GAUvC,EAAA,UAAK,MAAW,SAAA,GAO5B,IAND,IAAA,EAAe,KAAQ,iBAAA,EAAA,KAAA,iBAAA,KAAA,WACvB,EAAc,KAAA,YAEpB,EAAiB,KAAG,WAClB,EAAU,KAAK,QAChB,EAAA,EAAA,OACS,EAAK,EAAA,EAAK,IAAG,KAAU,OAAK,IAClC,EAAM,GAAK,KAAG,GAEjB,IAAA,EAAA,KAAA,MAAA,EAAA,EAIC,GAHE,GAAE,GAAK,EAAK,GAAmB,IAAU,KAAK,QAChD,EAAM,QAAS,aAEf,KAAA,MAAY,GAAa,IAAA,KAAA,OAAA,CAC1B,IAAA,EAAA,IAAA,EAAA,QACF,EAAA,KAAA,GAES,EAAA,KAAA,KAGC,EAAO,UAAU,OAAM,SAAa,GACzC,IAAA,EAAA,KAAQ,QACT,GAAA,EACF,KAAA,EAAA,OAAA,IAAA,KAAA,QACI,EAAW,QAAO,MAAK,GAItB,KAAA,YAAU,MAAK,IAEZ,EAAO,UAAU,UAAW,WACjC,IAAA,EAAA,KAAQ,QACT,GAAA,EACF,KAAA,EAAA,OAAA,IAAA,KAAA,QACI,EAAW,QAAC,WAIZ,KAAA,YAAU,YAEjB,EAAC,UAAA,aAAA,WACH,KAAA,MAAA,EAxDiD,KAAA,QAwDhD,MAjDS,EAAA,CAAA,EAAA;;ACsLT,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,WAAA,EAzRD,IAAA,EAAA,EAAA,QAAA,UAEA,EAAA,QAAA,cACA,EAAA,QAAA,sBAGA,EAAA,QAAA,iBACA,EAAA,QAAA,qBA+FA,EAAA,QAAA,uBAmLC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAlLC,SAAI,EAAiC,GACjC,IAAA,EAAA,EAAJ,MACI,EAA+B,KAE/B,EAAY,OAAW,kBAiBzB,OAhBA,EAAY,EAAA,aAAA,UAAU,MACvB,EAAA,UAAA,KAGC,EAAY,EAAA,aAAA,UAAU,IACvB,EAAA,UAAA,IACC,EAAa,EAAA,WAAA,UAAY,MAC1B,EAAA,UAAA,KAGC,EAAY,EAAA,aAAA,UAAU,IACvB,EAAA,UAAA,IACC,EAAA,EAAA,WAAA,UAAyB,MAC1B,EAAA,UAAA,IAGC,SAAuB,GACvB,OAAA,EAAA,KAAA,IAAA,EAAA,EAAA,EAAA,EAAA,KAKF,IAAA,EAAoB,WAAA,SAAA,EAAA,EAAsB,EAAA,EAAA,GACtB,KAAA,eAAA,EACA,KAAA,uBAAA,EACA,KAAA,cAAA,EACnB,KAAA,UAAA,EAOF,OAJiB,EAAA,UAAU,KAAI,SAAA,EAC1B,GAEH,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,eAAA,KAAA,uBAAA,KAAA,cAAA,KAAA,aACF,EAXqB,GAqCU,EAAA,SAAU,GAA1C,SAAA,IACU,IAAA,EAAA,OAAA,GAAiC,EAAC,MAAA,KAAA,YAAA,KAU3C,OAuGA,EAAA,sBAAA,EAvGA,EAXsC,OAAvC,EAAA,UAAA,EAAA,GAIS,EAAA,UAAA,KAAuB,SAAC,GAC7B,KAAA,wBACD,EAAA,UAAA,KAAA,KAAA,KAAA,IAED,OAAA,eAAA,EAAA,UAAA,uBAAA,CACE,IAAA,WACD,OAAA,KAAA,uBAFD,YAAA,EAEC,cAAA,IAVoC,EAAP,CAkBhC,EAlBgC,SAkBM,EAAA,SAAa,GAGjD,SAAA,EAKE,EAAM,EAYP,EAAA,EAAA,GAjBqB,IAAA,EAAA,EAAW,KAAX,KAAA,IAAsC,KACxC,EAAA,YAAc,EACd,EAAA,eAAA,EACA,EAAA,uBAAA,EACA,EAAA,cAAA,EANZ,EAAA,UAAiC,EASvC,EAAM,QAAS,GACX,IAAA,EAAA,EAAA,aACF,GAAoC,OAApC,GAAgD,GAAqB,EAAO,CACtE,IAAA,EAAa,CAAA,WAAuB,EAAc,OAAA,EAAE,QAAA,MAC1D,EAAmB,CAAA,eAAwB,EAAqB,uBAA4B,EAAC,WAAA,EAAA,UAAA,GAC7F,EAAK,IAAI,EAAU,SAA2B,EAAA,EAAwB,IACvE,EAAA,IAAA,EAAA,SAAA,EAAA,EAAA,QACC,CACA,IAAA,EAAmB,CAAA,WAA+B,EAAA,OAAA,EAA4B,eAAgB,GAC/F,EAAA,IAAA,EAAA,SAAA,EAAA,EAAA,IACF,OAAA,EApBmC,OAGpC,EAAA,UAAA,EAAsB,GAoBJ,EAAA,UAAa,MAAA,SAAA,GAG3B,IAFI,IAAA,EAAM,KAAQ,QACpB,EAAU,EAAO,OACT,EAAA,EAAM,EAAG,EAAA,IAAW,CACtB,IAAA,EAAQ,EAAQ,GAClB,EAAO,SACP,EAAI,KAAO,GACT,EAAK,sBAAoB,KAAA,eAC1B,KAAA,YAAA,MAMW,EAAA,UAAa,OAAA,SAAA,GAE3B,IADF,IAAA,EAAc,KAAC,QACb,EAAQ,OAAQ,GACjB,EAAA,QAAA,MAAA,GAEF,KAAA,YAAA,MAAA,IAGiB,EAAA,UAAa,UAAA,WAE3B,IADF,IAAA,EAAc,KAAC,QACb,EAAM,OAAS,GAAQ,CACnB,IAAA,EAAQ,EAAQ,QAClB,EAAO,QACR,EAAA,WAGJ,KAAA,YAAA,YAGgB,EAAI,UAAA,WAAoB,WACnC,IAAA,EAAS,IAAI,EAIlB,OAHO,KAAA,QAAA,KAAc,GACH,KAAM,YAChB,KAAO,GACf,GAGgB,EAAE,UAAC,YAAA,SAAA,GAClB,EAAM,WACN,IAAA,EAAc,KAAC,QAChB,EAAA,OAAA,EAAA,QAAA,GAAA,IAnEmC,EAAA,CAsEtC,EAtEsC,YAuE5B,SAAA,EAAA,GACJ,IAAA,EAAQ,EAAA,WAAA,EAAA,EAAA,eAAA,EAAA,EAAA,OACV,GACD,EAAA,YAAA,GAED,EAAK,OAAS,EAAO,aACtB,KAAA,SAAA,EAAA,GAGS,SAAA,EAAA,GACF,IAAA,EAAS,EAAW,eAAa,EAAA,EAAA,WAAA,EAAA,EAAA,UAAA,EAAA,EAAA,uBACjC,EAAS,EAAK,aAEd,EAAA,CAAA,OADK,KACsC,aAAE,MACnD,EAAoB,CAAA,WAAa,EAAwB,OAAA,EAAmB,QAAE,GAC9E,EAAO,aAAY,EAAc,SAAA,EAAA,EAAA,GAHtB,KAIJ,IAAA,EAAS,cAJL,KAKZ,SAAA,EAAA,GAGS,SAAA,EAAA,GACJ,IAAA,EAAW,EAAQ,WAAU,EAAQ,EAAA,OAAc,EAAA,EAAA,QACrD,GAAQ,EAAO,QAAc,EAAC,cAC/B,EAAA,OAAA,OAAA,EAAA,cAEF,EAAA,YAAA;;ACnM0C,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAnF3C,IAAA,EAAA,EAAA,QAAA,UACA,EAAA,QAAA,cACA,EAAA,QAAA,mBAEA,EAAA,QAAA,sBAmDA,EAAA,QAAA,6BA4B2C,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EA1BzC,SAAO,EAAsB,EAAK,GACnC,OAAA,SAAA,GAAA,OAAA,EAAA,KAAA,IAAA,EAAA,EAAA,KAIC,IAAA,EAA2C,WAAvB,SAAA,EAAuB,EAAA,GACvB,KAAA,SAAA,EACnB,KAAA,gBAAA,EAOF,OAJiB,EAAA,UAAU,KAAI,SAAA,EAC1B,GAEH,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,SAAA,KAAA,mBACF,EAT4C,GAqBF,EAAA,SAAuB,GAIhE,SAAA,EAGE,EAAiB,EAElB,GAJmB,IAAA,EAAA,EAAA,KAAA,KAAuB,IAAA,KAI1C,OAHmB,EAAA,SAAA,EALZ,EAAA,gBAAkC,EAOxC,EAAK,SAAS,GARyB,EAAA,IAAA,EAAA,kBAAA,EAAA,EAAA,mBAAA,EAAA,EAAA,IASxC,EATwC,OAIzC,EAAA,UAAA,EAAY,GAQF,EAAA,UAAkB,MAAA,SAAA,GACtB,IAAA,EAAU,KAAA,SACZ,GAAA,EAEE,IADF,IAAA,EAAU,EAAO,OACf,EAAS,EAAG,EAAA,EAAO,IACpB,EAAA,GAAA,OAAA,KAAA,IAMK,EAAA,UAAkB,OAAA,SAAA,GACtB,IAAA,EAAS,KAAO,SAGlB,GADE,KAAA,SAAU,KACZ,EAIE,IAHE,IAAA,EAAK,EAAM,OAEf,GAAS,IACD,EAAO,GAAG,CAChB,IAAA,EAAc,EAAO,GACrB,EAAQ,OAAA,MAAa,GACtB,EAAA,aAAA,cAIJ,EAAA,UAAA,OAAA,KAAA,KAAA,IAGS,EAAA,UAAkB,UAAA,WACtB,IAAA,EAAS,KAAO,SAElB,GADE,KAAA,SAAU,KACZ,EAGE,IAFE,IAAA,EAAK,EAAM,OACf,GAAS,IACD,EAAO,GAAG,CAChB,IAAA,EAAc,EAAS,GACvB,EAAQ,OAAA,WACT,EAAA,aAAA,cAGJ,EAAA,UAAA,UAAA,KAAA,OAIS,EAAA,UAAkB,aAAA,WACtB,IAAA,EAAS,KAAO,SAElB,GADE,KAAA,SAAU,KACZ,EAGE,IAFE,IAAA,EAAK,EAAM,OACf,GAAS,IACD,EAAO,GAAG,CAChB,IAAA,EAAc,EAAC,GACf,EAAQ,OAAA,cACT,EAAA,aAAA,gBAQW,EAAK,UAAK,WAAU,SAAA,EAAA,EAAA,EAAA,EAAA,GAChC,GAAA,IAAI,KAAe,SAAC,CAChB,IAAA,OAAA,EACM,IAET,GAAA,EADmB,KAAA,iBACnB,GACC,MAAA,GACD,OAAA,KAAA,MAAA,GAGK,IAAA,EAAA,IAAe,EAAf,QACA,EAAY,IAAA,EAAA,aACd,EAAU,CAAI,OAAC,EAAS,aAAA,GACtB,KAAA,SAAA,KAAA,GAEF,IAAA,GAAkB,EAAQ,EAAA,mBAAA,KAAA,EAAA,GAC5B,EAAiB,OAClB,KAAA,YAAA,KAAA,SAAA,OAAA,IAEC,EAAiB,QAAA,EAClB,EAAA,IAAA,IAGF,KAAA,YAAA,KAAA,QAEA,KAAA,YAAA,KAAA,SAAA,QAAA,KAIe,EAAA,UAAA,YAAA,SAAA,GACjB,KAAA,MAAA,IAGmB,EAAC,UAAA,eAAkB,SAAA,GACnC,IAAK,KAAA,kBACN,KAAA,YAAA,KAAA,SAAA,QAAA,EAAA,WAIiB,EAAA,UAAA,YAAA,SAAA,GAChB,IAAO,IAAP,EAAA,CAII,IAAA,EAAU,KAAA,SACR,EAAA,EAAA,GACR,EAAS,EAAY,OAAK,EAAA,EAAA,aAC1B,EAAO,OAAQ,EAAG,GAClB,EAAA,WACD,EAAA,gBA3HwC,EAAA,CAAA,EAAA;;ACXT,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,WAAA,EAxElC,IAAA,EAAA,EAAA,QAAA,UAEA,EAAA,QAAA,cAEA,EAAA,QAAA,sBAgDA,EAAA,QAAA,6BAoBkC,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAnBhC,SAAO,EAAS,GACd,OAAA,SAAyC,GACzC,OAAA,EAAA,KAAA,IAAA,EAAA,KAIF,IAAA,EAAoB,WAAA,SAAA,EAAe,GAClC,KAAA,gBAAA,EAKF,OAFU,EAAA,UAAO,KAAc,SAAA,EAAiB,GAC9C,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,mBACF,EANqB,GAaY,EAAA,SAAuB,GAIvD,SAAA,EAEE,EAAM,GAFc,IAAA,EAAA,EAAW,KAAX,KAAA,IAAsC,KAI3D,OAHmB,EAAA,YAAA,EAElB,EAAK,gBAAa,EAPY,EAAA,aAQ/B,EAR+B,OAIhC,EAAA,UAAA,EAAsB,GASf,EAAA,UAAW,WAAU,SAAA,EAAA,EAAA,EAAA,EAAA,GAC3B,KAAA,WAAA,IAGa,EAAA,UAAO,YAAA,SAAA,EAAA,GACpB,KAAA,OAAA,IAGM,EAAA,UAAW,eAAU,SAAA,GAC3B,KAAA,WAAA,IAGa,EAAA,UAAW,MAAC,SAAA,GACzB,KAAA,OAAA,KAAA,IAGa,EAAA,UAAW,OAAA,SAAA,GAClB,KAAA,OAAA,MAAY,GACZ,KAAA,YAAA,MAAA,GACN,KAAA,kCAGa,EAAA,UAAW,UAAA,WAClB,KAAA,OAAA,WACA,KAAA,YAAA,WACN,KAAA,kCAGU,EAAA,UAAA,+BAAqB,WAC5B,KAAK,qBACN,KAAA,oBAAA,eAGgB,EAAA,UAAA,WAAA,SAAwC,QAC3C,IAAV,IACF,EAAW,MAEZ,IAEK,KAAA,OAAU,GACZ,EAAA,eAEH,IAAA,EAAA,KAAA,OAEK,GACF,EAAC,WAGD,IAEF,EAFE,EAAA,KAAA,OAAA,IAAA,EAAA,QACM,KAAA,YAAA,KAAA,GAET,IACC,GAAiB,EADP,KAAA,mBAGV,MAAA,GAGH,OAFE,KAAA,YAAA,MAAA,QACQ,KAAA,OAAK,MAAA,GArEgB,KAAA,IAAe,KAuEhD,qBAAA,EAAA,EAAA,mBAAA,KAAA,KAvEiC,EAAA,CAAA,EAAA;;ACqBW,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,eAAA,EA7F7C,IAAA,EAAA,EAAA,QAAA,UAEA,EAAA,QAAA,sBAiEA,EAAA,QAAA,6BA0B6C,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EA1BR,SAAA,IAAA,IAAA,IAAA,EAAA,GAAA,EAAA,EAAA,EAAA,UAAqE,OAAA,IA0B7D,EAAA,GAAA,UAAA,GAxBzC,OAAA,SAAiB,GACb,IAAA,EACmB,mBAAd,EAAG,EAAK,OAAM,KACtB,EAAA,EAAA,OAED,IAAA,EAAkB,EAClB,OAAA,EAAA,KAAA,IAAA,EAAA,EAAA,KAIF,IAAA,EAAoB,WAAA,SAAA,EAAA,EAA8B,GAC9B,KAAA,YAAA,EACnB,KAAA,QAAA,EAKF,OAFiB,EAAA,UAAc,KAAA,SAAA,EAAyB,GACtD,OAAA,EAAA,UAAA,IAAA,EAAA,EAAA,KAAA,YAAA,KAAA,WACF,EAPqB,GAcuB,EAAA,SAAqB,GAIhE,SAAA,EAGQ,EAAY,EAYnB,GAdmB,IAAA,EAAA,EAAW,KAAX,KAAA,IAA8B,KAC9B,EAAA,YAAA,EAJZ,EAAA,QAAS,EAMf,EAAM,UAAM,GACZ,IAAA,EAAK,EAAa,OAElB,EAAK,OAAS,IAAG,MAAQ,GACvB,IAAA,IAAI,EAAC,EAAA,EAAU,EAAK,IACrB,EAAA,UAAA,KAAA,GAGC,IAAI,EAAA,EAAA,EAAU,EAAG,IAAA,CACjB,IAAA,EAAS,EAAwB,GAClC,EAAA,KAAA,EAAA,EAAA,mBAAA,EAAA,EAAA,EAAA,IACF,OAAA,EAnB0C,OAI3C,EAAA,UAAA,EAAY,GAoBE,EAAA,UAAc,WAAW,SAAA,EAAA,EAAA,EAAA,EAAA,GAC/B,KAAA,OAAA,GAAiB,EACnB,IAAA,EAAU,KAAM,UAClB,GAAA,EAAW,OAAG,EAAU,CACpB,IAAA,EAAK,EAAS,QAAA,IACN,IAAV,GACD,EAAA,OAAA,EAAA,KAML,EAAC,UAAA,eAAA,aAGoB,EAAA,UAAY,MAAE,SAAA,GAC/B,GAAwB,IAAxB,KAAM,UAAQ,OAAU,CACpB,IAAA,EAAK,CAAA,GAAS,OAAA,KAAA,QAChB,KAAK,QACN,KAAA,YAAA,GAEA,KAAA,YAAA,KAAA,KAKa,EAAA,UAAA,YAAA,SAAA,GACZ,IAAA,EACF,IACD,EAAA,KAAA,QAAA,MAAA,KAAA,GACC,MAAA,GAED,YADC,KAAA,YAAO,MAAA,GAGV,KAAA,YAAA,KAAA,IA1D0C,EAAA,CAAA,EAAA;;ACtD5C,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,IAAA,EAJD,IAAA,EAAA,QAAA,qBAA0B,SAAA,IAAA,IAA4E,IAAA,EAA5E,GAAA,EAAA,EAAA,EAAA,UAAA,OAA4E,IAIrG,EAAA,GAAA,UAAA,GAFG,OAAA,SAAwB,GACxB,OAAA,EAAA,KAAA,KAAA,EAAA,IAAA,WAAA,EAAA,CAAA,GAAA,OAAA;;AC9BH,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,OAAA,EAFD,IAAA,EAAA,QAAA,qBACE,SAAO,EAAC,GACT,OAAA,SAAA,GAAA,OAAA,EAAA,KAAA,IAAA,EAAA,YAAA;;AC8FD,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,OAAA,eAAA,QAAA,QAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,SAAA,OAAA,eAAA,QAAA,YAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,aAAA,OAAA,eAAA,QAAA,SAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,UAAA,OAAA,eAAA,QAAA,cAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,eAAA,OAAA,eAAA,QAAA,aAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,cAAA,OAAA,eAAA,QAAA,eAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,gBAAA,OAAA,eAAA,QAAA,aAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,cAAA,OAAA,eAAA,QAAA,aAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,cAAA,OAAA,eAAA,QAAA,aAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,cAAA,OAAA,eAAA,QAAA,gBAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,iBAAA,OAAA,eAAA,QAAA,SAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,UAAA,OAAA,eAAA,QAAA,YAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,aAAA,OAAA,eAAA,QAAA,YAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,aAAA,OAAA,eAAA,QAAA,cAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,eAAA,OAAA,eAAA,QAAA,QAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,SAAA,OAAA,eAAA,QAAA,WAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,YAAA,OAAA,eAAA,QAAA,eAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,gBAAA,OAAA,eAAA,QAAA,iBAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,kBAAA,OAAA,eAAA,QAAA,QAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,SAAA,OAAA,eAAA,QAAA,YAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,aAAA,OAAA,eAAA,QAAA,gBAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,iBAAA,OAAA,eAAA,QAAA,WAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,YAAA,OAAA,eAAA,QAAA,uBAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,wBAAA,OAAA,eAAA,QAAA,0BAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,2BAAA,OAAA,eAAA,QAAA,YAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,aAAA,OAAA,eAAA,QAAA,UAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,WAAA,OAAA,eAAA,QAAA,QAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,SAAA,OAAA,eAAA,QAAA,UAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,WAAA,OAAA,eAAA,QAAA,aAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,cAAA,OAAA,eAAA,QAAA,SAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,UAAA,OAAA,eAAA,QAAA,SAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,UAAA,OAAA,eAAA,QAAA,WAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,YAAA,OAAA,eAAA,QAAA,OAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,QAAA,OAAA,eAAA,QAAA,YAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,aAAA,OAAA,eAAA,QAAA,QAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,SAAA,OAAA,eAAA,QAAA,UAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,WAAA,OAAA,eAAA,QAAA,iBAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,kBAAA,OAAA,eAAA,QAAA,UAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,WAAA,OAAA,eAAA,QAAA,OAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,QAAA,OAAA,eAAA,QAAA,MAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,OAAA,OAAA,eAAA,QAAA,QAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,SAAA,OAAA,eAAA,QAAA,cAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,eAAA,OAAA,eAAA,QAAA,MAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,OAAA,OAAA,eAAA,QAAA,QAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,SAAA,OAAA,eAAA,QAAA,WAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,YAAA,OAAA,eAAA,QAAA,WAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,YAAA,OAAA,eAAA,QAAA,UAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,YAAA,OAAA,eAAA,QAAA,aAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,cAAA,OAAA,eAAA,QAAA,YAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,aAAA,OAAA,eAAA,QAAA,MAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,OAAA,OAAA,eAAA,QAAA,YAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,aAAA,OAAA,eAAA,QAAA,YAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,aAAA,OAAA,eAAA,QAAA,oBAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,qBAAA,OAAA,eAAA,QAAA,WAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,YAAA,OAAA,eAAA,QAAA,YAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,aAAA,OAAA,eAAA,QAAA,QAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,SAAA,OAAA,eAAA,QAAA,UAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,WAAA,OAAA,eAAA,QAAA,kBAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,mBAAA,OAAA,eAAA,QAAA,cAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,eAAA,OAAA,eAAA,QAAA,gBAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,iBAAA,OAAA,eAAA,QAAA,OAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,QAAA,OAAA,eAAA,QAAA,SAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,UAAA,OAAA,eAAA,QAAA,SAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,UAAA,OAAA,eAAA,QAAA,aAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,cAAA,OAAA,eAAA,QAAA,QAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,SAAA,OAAA,eAAA,QAAA,YAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,aAAA,OAAA,eAAA,QAAA,WAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,YAAA,OAAA,eAAA,QAAA,SAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,UAAA,OAAA,eAAA,QAAA,aAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,cAAA,OAAA,eAAA,QAAA,OAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,QAAA,OAAA,eAAA,QAAA,gBAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,iBAAA,OAAA,eAAA,QAAA,QAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,SAAA,OAAA,eAAA,QAAA,cAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,eAAA,OAAA,eAAA,QAAA,SAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,UAAA,OAAA,eAAA,QAAA,OAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,QAAA,OAAA,eAAA,QAAA,WAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,YAAA,OAAA,eAAA,QAAA,YAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,aAAA,OAAA,eAAA,QAAA,YAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,aAAA,OAAA,eAAA,QAAA,YAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,aAAA,OAAA,eAAA,QAAA,cAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,eAAA,OAAA,eAAA,QAAA,YAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,aAAA,OAAA,eAAA,QAAA,YAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,aAAA,OAAA,eAAA,QAAA,cAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,eAAA,OAAA,eAAA,QAAA,OAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,QAAA,OAAA,eAAA,QAAA,WAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,YAAA,OAAA,eAAA,QAAA,YAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,aAAA,OAAA,eAAA,QAAA,YAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,aAAA,OAAA,eAAA,QAAA,MAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,OAAA,OAAA,eAAA,QAAA,WAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,YAAA,OAAA,eAAA,QAAA,eAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,gBAAA,OAAA,eAAA,QAAA,eAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,gBAAA,OAAA,eAAA,QAAA,eAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,gBAAA,OAAA,eAAA,QAAA,UAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,WAAA,OAAA,eAAA,QAAA,cAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,eAAA,OAAA,eAAA,QAAA,YAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,aAAA,OAAA,eAAA,QAAA,UAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,WAAA,OAAA,eAAA,QAAA,SAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,UAAA,OAAA,eAAA,QAAA,cAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,eAAA,OAAA,eAAA,QAAA,aAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,cAAA,OAAA,eAAA,QAAA,eAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,gBAAA,OAAA,eAAA,QAAA,aAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,cAAA,OAAA,eAAA,QAAA,iBAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,kBAAA,OAAA,eAAA,QAAA,MAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,OAAA,OAAA,eAAA,QAAA,SAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,GAAA,UAtGA,IAAA,EAAA,QAAA,+BACA,EAAA,QAAA,mCACA,EAAA,QAAA,gCACA,EAAA,QAAA,qCACA,EAAA,QAAA,oCACA,EAAA,QAAA,sCACA,EAAA,QAAA,oCACA,EAAA,QAAA,oCACA,EAAA,QAAA,oCACA,EAAA,QAAA,uCACA,EAAA,QAAA,gCACA,EAAA,QAAA,mCACA,EAAA,QAAA,mCACA,EAAA,QAAA,qCACA,EAAA,QAAA,+BACA,EAAA,QAAA,kCACA,EAAA,QAAA,sCACA,EAAA,QAAA,wCACA,EAAA,QAAA,+BACA,EAAA,QAAA,mCACA,EAAA,QAAA,uCACA,EAAA,QAAA,kCACA,EAAA,QAAA,8CACA,EAAA,QAAA,iDACA,EAAA,QAAA,mCACA,EAAA,QAAA,iCACA,EAAA,QAAA,+BACA,EAAA,QAAA,iCACA,EAAA,QAAA,oCACA,EAAA,QAAA,gCACA,EAAA,QAAA,gCACA,EAAA,QAAA,kCACA,EAAA,QAAA,8BACA,EAAA,QAAA,mCACA,EAAA,QAAA,+BACA,EAAA,QAAA,iCACA,EAAA,QAAA,wCACA,EAAA,QAAA,iCACA,EAAA,QAAA,8BACA,EAAA,QAAA,6BACA,EAAA,QAAA,+BACA,EAAA,QAAA,qCACA,EAAA,QAAA,6BACA,EAAA,QAAA,+BACA,EAAA,QAAA,kCACA,EAAA,QAAA,kCAEA,EAAA,QAAA,oCACA,EAAA,QAAA,mCACA,EAAA,QAAA,6BACA,EAAA,QAAA,mCACA,EAAA,QAAA,mCACA,EAAA,QAAA,2CACA,EAAA,QAAA,kCACA,EAAA,QAAA,mCACA,GAAA,QAAA,+BACA,GAAA,QAAA,iCACA,GAAA,QAAA,yCACA,GAAA,QAAA,qCACA,GAAA,QAAA,uCACA,GAAA,QAAA,8BACA,GAAA,QAAA,gCACA,GAAA,QAAA,gCACA,GAAA,QAAA,oCACA,GAAA,QAAA,+BACA,GAAA,QAAA,mCACA,GAAA,QAAA,kCACA,GAAA,QAAA,gCACA,GAAA,QAAA,oCACA,GAAA,QAAA,8BACA,GAAA,QAAA,uCACA,GAAA,QAAA,+BACA,GAAA,QAAA,qCACA,GAAA,QAAA,gCACA,GAAA,QAAA,8BACA,GAAA,QAAA,kCACA,GAAA,QAAA,mCACA,GAAA,QAAA,mCACA,GAAA,QAAA,mCACA,GAAA,QAAA,qCACA,GAAA,QAAA,mCACA,GAAA,QAAA,mCACA,GAAA,QAAA,qCACA,GAAA,QAAA,8BACA,GAAA,QAAA,kCACA,GAAA,QAAA,mCACA,GAAA,QAAA,mCACA,GAAA,QAAA,6BACA,GAAA,QAAA,kCACA,GAAA,QAAA,sCACA,GAAA,QAAA,sCACA,GAAA,QAAA,sCACA,GAAA,QAAA,iCACA,GAAA,QAAA,qCACA,GAAA,QAAA,mCACA,GAAA,QAAA,iCACA,GAAA,QAAA,gCACA,GAAA,QAAA,qCACA,GAAA,QAAA,oCACA,GAAA,QAAA,sCACA,GAAA,QAAA,oCACA,GAAA,QAAA,wCACA,GAAA,QAAA,6BAAA,GAAA,QAAA;;AChBC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,oBAAA,EAAA,QAAA,2BAAA,EAAA,QAAA,kBAAA,EAAA,QAAA,aAAA,EAAA,QAAA,mBAAA,EAzFD,IAAA,EAAA,EAAA,QAAA,uCAMA,EAAA,QAAA,UAmFC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAlFM,IAAIkZ,EAEX,WACWA,SAAAA,EAAcx3B,GAChBy3B,KAAAA,MAAQ,KACRz3B,KAAAA,KAAOA,EAGVshB,IAAAA,EAASkW,EAAc96B,UAqCpB86B,OAnCPlW,EAAO7J,OAAS,WACVlT,IAAAA,EAAM,CACRmzB,IAAK,KACLtlB,IAAK,KACLgQ,EAAG,KACHa,GAAI,KAAKjjB,KAAKijB,GACdiR,EAAG,KAAKl0B,KAAKk0B,EACb/lB,GAAI,KAAKnO,KAAKmO,GACdwpB,GAAI,KAAK33B,KAAK23B,GACdC,QAAS,KAAK53B,KAAK43B,SAKdrzB,OAHH,KAAKvE,KAAK03B,MAAKnzB,EAAImzB,IAAM,KAAK13B,KAAK03B,KACnC,KAAK13B,KAAKoS,MAAK7N,EAAI6N,IAAM,KAAKpS,KAAKoS,KACnC,KAAKpS,KAAKoiB,IAAG7d,EAAI6d,EAAI,KAAKpiB,KAAKoiB,GAC5B7d,GAGT+c,EAAOuW,SAAW,WACZ,SAAA,KAAK73B,KAAK03B,KAAmC,MAA5B,KAAK13B,KAAK03B,IAAI3I,OAAO,KAI5CzN,EAAOwW,SAAW,WACZ,SAAA,KAAK93B,KAAK03B,KAAyB,YAAlB,KAAK13B,KAAK03B,OAIpBF,EAAAA,EAAAA,SAAAA,EAAe,CAAC,CAC3Br8B,IAAK,OACLwB,IAAK,WAEI,OADF,KAAK86B,QAAO,KAAKA,OAAQ,EAAK,EAAA,MAAA,KAAKz3B,OACjC,KAAKy3B,UAITD,EA3CT,GA6CO,SAASO,EAAoB/3B,GAC3B,OAAA,IAAIw3B,EAAcx3B,GAEpB,SAASg4B,EAA2BC,EAAW9W,GAChD8B,IAAAA,EAAKgV,EAAU1iB,KAAK2iB,WAAW,MAAQ,SAAW,SAClDD,EAAUE,WAAUlV,EAAK,UAE7BgV,EAAY9W,EAAWiX,iBAAiBH,GACpCj4B,IAAAA,EAAO,CACTijB,GAAIA,EACJiR,GAAG,IAAIpoB,MAAO0f,UACdrd,GAAI,SACJupB,IAAKvW,EAAWtjB,KAChB85B,GAAIxW,EAAWO,SAAS2W,MACxBjmB,IAAK6lB,EAAU9W,EAAWC,OAAOC,aACjCe,EAAG6V,GAEE,OAAA,IAAIT,EAAcx3B,GAEpB,SAASs4B,EAAkBrV,EAAIvB,EAAUP,EAAY/O,EAAKtV,GAC3D86B,IAAAA,EAAU10B,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,IAAmBA,UAAU,GACzElD,EAAO,CACT03B,IAAKvW,EAAaA,EAAWtjB,KAAO,KACpCuU,IAAKA,EAAMA,EAAImmB,QAAU,KACzBnW,EAAGtlB,GAAgB,KACnBmmB,GAAIA,EACJiR,GAAG,IAAIpoB,MAAO0f,UACdrd,GAAIuT,EAAS7jB,KACb85B,GAAIjW,EAAS2W,MACbT,QAASA,GAEJ,OAAA,IAAIJ,EAAcx3B,GAEpB,SAASw4B,EAAa9qB,GACpBA,OAAAA,aAAe8pB,EACvB,QAAA,cAAA;;AC+Xc,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,4BAAA,EAAA,QAAA,mBAAA,EAAA,QAAA,sBAAA,EAAA,QAAA,WAAA,EAAA,QAAA,aAAA,EAAA,QAAA,QAAA,QAAA,mBAAA,EAxdf,IAAA,EAAA,EAAA,QAAA,gBACA,EAAA,QAAA,QACA,EAAA,QAAA,kBACA,EAAA,QAAA,UACA,EAAA,QAAA,qBACA,EAAA,QAAA,cACA,EAAA,QAAA,WAkde,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAjdR,IAAIiB,EAAgB,CACrBC,YAKE,GAAC,KAAKC,uBACH,OAAA,KAAKC,WAAW/d,YAGrBwG,kBACE,GAAC,KAAKsX,uBACH,OAAA,KAAKxX,WAAWC,OAAOC,aAG5BkX,cACE,GAAC,KAAKI,uBACH,OAAA,KAAKD,MAAM,KAAKrX,cAGrBwX,eACE,GAAC,KAAKF,uBACH,OAAA,KAAKD,MAAMnjB,MAGhBujB,eACE,GAAC,KAAKH,uBACH,OAAA,KAAKI,UAAUC,gBAGpBC,cACE,GAAC,KAAKN,uBACH,OAAA,KAAKI,UAAUle,YAMpBqe,QACK,OAAA,KAAKN,WAAWI,gBAGzBG,mBAAoB,SAA4BnX,GAC1CA,GAAAA,EAAYhiB,KAAKoS,MAAQ,KAAKmmB,QAA9BvW,CAEAoX,IAAAA,GAAW,EAAoBpX,EAAAA,qBAAAA,EAAYhiB,KAAKoiB,EAAE7M,MAElD8jB,MADe,EAAoB,EAAA,qBAAA,KAAKX,MAAMnjB,MAC/B6jB,GAEXpX,OAAAA,EAAYhiB,KAAKijB,IAClB,IAAA,SACH,MAEG,IAAA,SACCqW,IAAAA,GAAU,EAAMtX,EAAAA,OAAAA,EAAYhiB,KAAKoiB,GAEhCwW,KAAAA,WAAWnuB,MAAK,EAAM6uB,EAAAA,OAAAA,IAE3B,MAEG,IAAA,SAEEnY,KAAAA,WAAWoY,UAAhB,OAAoC,KAAKhB,SAEpCQ,KAAAA,UAAUtuB,MAAK,MAS1B+uB,MAAO,SAAexX,GACb,OAAA,KAAKb,WAAWqY,MAAMxX,IAM/ByX,KAAM,SAAc1Z,GACdA,GAAAA,EAAK2Z,SAAS,UACV,MAAA,EAAW,EAAA,YAAA,OAAQ,CACvB3Z,KAAMA,IAINA,GAAAA,IAAS,KAAKsB,YAAa,MAAM,EAAW,EAAA,YAAA,QAE5C,GAAA,KAAKF,WAAWC,OAAOuY,YAAYD,SAAS3Z,GACxC,MAAA,EAAW,EAAA,YAAA,OAAQ,CACvBA,KAAMA,IAMN,IAFY,KAAKoB,WAAWC,OAAOwY,sBAAsB7Z,GAGrD,MAAA,EAAW,EAAA,YAAA,OAAQ,CACvBA,KAAMA,IAIH,OAAA,KAAK6Y,WAAWiB,MAAK,EAAI,EAAA,KAAA,SAAU75B,GACjCqf,OAAAA,EAAW1iB,QAAAA,IAAIqD,EAAM+f,MAC1B,EAFG,EAAA,0BAQT+Z,SAAU,SAAkB/Z,GACtBga,IAAAA,EAAY,KAAK5Y,WAAWC,OAAOwY,sBAAsB7Z,GACzDjjB,EAAQ,KAAKH,IAAIojB,GAEjB,IAACjjB,EACI0P,OAAAA,QAAQ2e,QAAQ,MAGrB,IAAC4O,EACG,MAAA,EAAW,EAAA,YAAA,OAAQ,CACvBha,KAAMA,IAIN,IAACga,EAAUC,IACP,MAAA,EAAW,EAAA,YAAA,OAAQ,CACvBja,KAAMA,EACNga,UAAWA,IAIXE,IAAAA,EAAgB,KAAK9Y,WAAWO,SAASwY,YAAYH,EAAUC,KAE/D,IAACC,EACG,MAAA,EAAW,EAAA,YAAA,OAAQ,CACvBD,IAAKD,EAAUC,IACfja,KAAMA,EACNga,UAAWA,IAIXA,MAAmB,UAAnBA,EAAU/3B,KAAyBwK,QAAQinB,IAAI32B,EAAM+S,IAAI,SAAUpB,GAC9DwrB,OAAAA,EAAcE,QAAQ1rB,GAAI8F,UACnB0lB,EAAcE,QAAQr9B,GAAOyX,QAM/C5X,IAAK,SAAay9B,GACZ,GAAC,KAAK1B,MAAN,CACA2B,IAAAA,EAAWhb,EAAW1iB,QAAAA,IAAI,KAAK+7B,MAAO0B,GAGtC,MAAoB,iBAFxBC,GAAW,EAAMA,EAAAA,OAAAA,KAEmB3+B,MAAMC,QAAQ0+B,GAAkBA,GACpEC,EAAmB,KAAKnZ,WAAWC,OAAQiZ,EAAUD,EAAS,MACvDC,KAET5iB,OAAQ,WACF8iB,IAAAA,IAAwBr3B,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,KAAmBA,UAAU,GACvFlD,GAAO,EAAM,EAAA,OAAA,KAAK04B,OAOf14B,OALFu6B,WACIv6B,EAAKuV,YACLvV,EAAKgT,cAGPhT,GAOTnD,IAAK,SAAau9B,EAASt9B,GAErB,IAAC,KAAK09B,aACF,MAAA,EAAe,EAAA,gBAAA,QAAS,CAC5BJ,QAASA,EACTt9B,MAAOA,IAIP,GAAmB,iBAAZs9B,EACH,MAAA,EAAe,EAAA,gBAAA,QAAS,CAC5BA,QAASA,EACTt9B,MAAOA,IAKPT,IAAAA,OAAOo+B,GAAG,KAAK99B,IAAIy9B,GAAUt9B,GAA7BT,CAEAq+B,IAAAA,EAAUN,EAAQrmB,MAAM,KAC5B2mB,EAAQp2B,MACJq2B,IAAAA,EAAWD,EAAQxmB,KAAK,KAExB,QAAgD,IAAzCmL,EAAW1iB,QAAAA,IAAI,KAAK+7B,MAAOiC,GAC9B,MAAA,EAAW,EAAA,YAAA,QAAS,CACxBC,UAAWR,EACXO,SAAUA,IAKP,OADI99B,EAAAA,QAAAA,IAAI,KAAK67B,MAAO0B,EAASt9B,GAC7B,OAQT+9B,OAAQ,SAAgBC,GAChB,MAAA,EAAc,EAAA,eAAA,WAEtBC,cAAe,WACP,MAAA,EAAc,EAAA,eAAA,gBAEtBC,cAAe,WACP,MAAA,EAAc,EAAA,eAAA,gBAEtBC,eAAgB,WACR,MAAA,EAAc,EAAA,eAAA,gBAGlBC,sBACI,MAAA,EAAc,EAAA,eAAA,gBAOtBC,aAAc,SAAsBlvB,GAC9BiW,IAAAA,EAAS,KAUN,OARFkZ,KAAAA,aAAe,KAAKA,aAAavuB,KAAK,WACrCwuB,IAAAA,GAAU,EAAMnZ,EAAAA,OAAAA,EAAO0W,WAAW/d,YAClCtW,EAAM0H,GAAI,EAAMiW,EAAAA,OAAAA,EAAO0W,WAAW/d,YAAaqH,GAE5CoZ,OADU,EAAU/2B,EAAAA,WAAAA,GACTsI,KAAK,SAAUysB,GACxBpX,OAAAA,EAAOqZ,UAAUjC,EAAS+B,OAG9B,KAAKD,aAAavuB,KAAK,WACrBqV,OAAAA,KAGXsZ,UAAW,SAAmBrgC,EAAK2B,GAC1B,OAAA,KAAKq+B,aAAa,SAAUhZ,GAE1BA,OADItlB,EAAAA,QAAAA,IAAIslB,EAAShnB,EAAK2B,GACtBqlB,KAQXoZ,UAAW,SAAmBjC,EAAS+B,GACjCI,IAAAA,EAAS,KAIT,GAFJnC,GAAU,EAAMA,EAAAA,OAAAA,GAEZ,KAAKP,UAAUle,WACX,MAAA,EAAW,EAAA,YAAA,QAAS,CACxBpM,GAAI,KAAK8pB,QACTmD,SAAU,OAMP,OADFva,KAAAA,WAAWC,OAAOua,eAAeN,EAAS/B,GACxC,KAAKnY,WAAWya,UAAU,MAAO,OAAQtC,EAAS,MAAMzsB,KAAK,WAG3D4uB,OAFPA,EAAOta,WAAWC,OAAOya,SAASvC,GAE3BmC,EAAOta,WAAW2a,WAAU,EAAMxC,EAAAA,OAAAA,MACxCzsB,KAAK,SAAUtI,GACZ,IAACA,EAAI0J,GACD,MAAA,EAAW,EAAA,YAAA,QAAS,CACxBjO,KAAMuE,IAIV+0B,EAAQ/jB,KAAOhR,EAAIuL,IAEfkS,IAAAA,GAAc,EAAkB,EAAA,mBAAA,SAAUyZ,EAAOta,WAAWO,SAAU+Z,EAAOta,WAAYsa,EAAQnC,GAI9FmC,OAFPA,EAAOjC,MAAMxX,GAENyZ,EAAOta,WAAWya,UAAU,OAAQ,OAAQtC,EAASmC,MAShEM,KAAM,WACAC,IAAAA,EAAS,KAGT,IAAC,KAAKxB,aACF,MAAA,EAAW,EAAA,YAAA,QAAS,CACxB/rB,GAAI,KAAK8pB,QACTmD,SAAU,OAIP,OAAA,KAAKva,WAAWf,OAAO,MAAMvT,KAAK,WAQhC,OAPPmvB,EAAOxB,cAAe,EAEtBwB,EAAO7a,WAAWoY,UAAU18B,IAAIm/B,EAAOzD,QAASyD,GAGhDA,EAAOpD,WAAWnuB,MAAK,EAAMuxB,EAAAA,OAAAA,EAAOtD,SAE7B,KASXuD,OAAQ,WACFC,IAAAA,EAAS,KAET,GAAA,KAAKjD,QACAzsB,OAAAA,QAAQE,QAAO,EAAW,EAAA,YAAA,QAAS,CACxCgvB,SAAU,KACVjtB,GAAI,KAAK8pB,WAIT4D,IAAAA,GAAc,EAAM,EAAA,OAAA,KAAKzD,OACtB,OAAA,KAAKvX,WAAWya,UAAU,MAAO,SAAUO,EAAa,MAAMtvB,KAAK,WAOjEqvB,OANPC,EAAYhE,UAAW,EAMhB+D,EAAO/a,WAAW2a,UAAUK,KAClCtvB,KAAK,WAGCqvB,OAFPA,EAAO1C,OAAM,EAAkB,EAAA,mBAAA,SAAU0C,EAAO/a,WAAWO,SAAUwa,EAAO/a,WAAY+a,EAAQA,EAAOxD,QAEhGwD,EAAO/a,WAAWya,UAAU,OAAQ,SAAUO,EAAaD,KACjErvB,KAAK,WACCqvB,OAAAA,KAGXtxB,QAAS,WACD,MAAA,EAAW,EAAA,YAAA,WAGd,SAASwxB,IACV3wB,IAAAA,EAAQvI,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,GAAmBA,UAAU,GAAKu1B,EAE5E9sB,EAAc,SAA+BwV,EAAYkb,GACtDlb,KAAAA,WAAaA,EAEbqZ,KAAAA,cAAe,EAEf5B,KAAAA,WAAa,IAAI0D,EAAJ,iBAAoB,EAAMD,EAAAA,OAAAA,IACvCtD,KAAAA,UAAY,IAAIuD,EAAJ,iBAAoB,GAChClB,KAAAA,aAAe5uB,QAAQ2e,UAMvBwN,KAAAA,wBAAyB,GAIzBhtB,OADPA,EAAYjP,UAAY+O,EACjBE,EAqFM,QAAA,cAAA,EAnFf,IAmEI4wB,EAnEAC,EAAoBJ,EAA4B3D,GAChDgE,EAAmB,IAAID,EACpB,SAASlC,EAAmBlZ,EAAQiZ,GACrCD,IAAAA,EAAUl3B,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,GAAmBA,UAAU,GAAK,GAC9Ew5B,EAAUx5B,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,IAAmBA,UAAU,GACzEm3B,GAAa,OAAbA,EAAAA,CACAsC,IAAAA,EAAiBvb,EAAOwY,sBAAsBQ,QACpB,IAAnBuC,IACPA,EAAer2B,aAAYq2B,EAAiBA,EAAer2B,YAC/DjK,OAAOe,KAAKu/B,GAAgBz/B,QAAQ,SAAU/B,GACxCyhC,IAAAA,GAAW,EAASxC,EAAAA,UAAAA,EAAU,IAAMj/B,GAExCk/B,EAASwC,iBAAiB1hC,EAAK,WACzBsmB,IAAAA,EAAQib,GAAoB,KAE5B,GAACjb,EAAM9kB,KAA4B,mBAAd8kB,EAAM9kB,IAWxB4H,OAFGkd,EAAM9kB,IAAIigC,KAMtBvgC,OAAOgB,eAAeg9B,EAAUl/B,EAAM,IAAK,CACzCwB,IAAK,WAGI8kB,OAFKib,GAAoB,MAEnBjD,KAAKmD,IAEpBp4B,YAAY,EACZukB,cAAc,IAGhB1sB,OAAOgB,eAAeg9B,EAAUl/B,EAAM,IAAK,CACzCwB,IAAK,WAGI8kB,OAFKib,GAAoB,MAEnB5C,SAAS8C,IAExBp4B,YAAY,EACZukB,cAAc,IAGhBsR,EAASyC,iBAAiB3hC,EAAK,SAAUwc,GAGhC8J,OAFKib,GAAoB,MAEnB7/B,IAAI+/B,EAAUjlB,SAI1B,SAASolB,EAAsBpxB,EAAawV,EAAYkb,GACzDA,GAAAA,EAASlb,EAAWC,OAAOC,cAAgBgb,EAASlb,EAAWC,OAAOC,aAAa6W,WAAW,WAAY,OAAO,KACjH9lB,IAAAA,EAAM,IAAIzG,EAAYwV,EAAYkb,GAE/BjqB,OADQ,EAAA,EAAA,gBAAA,mBAAoBA,GAC5BA,EAQF,SAAS9L,IACV,IAACi2B,EAAa,CACZS,IACAC,EAAgB5gC,OAAO2E,oBAAoBy7B,GAC3CS,EAAsB7gC,OAAO2E,oBAAoBy3B,GACrD8D,EAAc,GAAGt7B,OAAOg8B,EAAeC,EAHxB,CAAC,UAAW,WAMtBX,OAAAA,EAEF,SAAS/D,EAAa9qB,GACvB,YAAe,IAARA,KACFA,EAAIirB,uBAEA,IAAA,EAAA,CACboE,sBAAuBA,EACvBz2B,WAAYA,EACZ81B,4BAA6BA,EAC7B3D,cAAeA,EACfD,aAAcA,GALD,QAAA,QAAA;;ACrId,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,kBAAA,EAAA,QAAA,SAAA,EAAA,QAAA,WAAA,EAAA,QAAA,WAAA,EAAA,QAAA,oBAAA,EAAA,QAAA,eAAA,EAAA,QAAA,UAAA,EAAA,QAAA,eAAA,EAAA,QAAA,aAAA,EAAA,QAAA,cAAA,EAnVD,IAAA,EAAA,EAAA,QAAA,uCACA,EAAA,EAAA,QAAA,gBACA,EAAA,EAAA,QAAA,eACA,EAAA,QAAA,UACA,EAAA,QAAA,cACA,EAAA,QAAA,WACA,EAAA,QAAA,iBA6UC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA5UM,IAAI2E,EAEX,WACWA,SAAAA,EAASC,GACXA,KAAAA,OAASA,EACTC,KAAAA,gBAAkB,KAAKD,OAAOC,gBAC9BC,KAAAA,QAAUC,EAAW,KAAKH,QAE1B/b,KAAAA,YAAcmc,EAAW,KAAKJ,QAE/B,KAAK/b,aACF+b,KAAAA,OAAOK,SAAS96B,KAAK,KAAK0e,aAI5BsY,KAAAA,YAAc+D,EAAe,KAAKN,QAClCA,KAAAA,OAAOK,SAAW,KAAKL,OAAOK,SAASx8B,OAAO,KAAK04B,aAAa5pB,OAAO,SAAU4tB,EAAMC,EAAK55B,GACxFA,OAAAA,EAAI0Q,QAAQipB,KAAUC,IAI1B,KAAKR,OAAO92B,WAAW,KAAK+a,eAC1B+b,KAAAA,OAAO92B,WAAW,KAAK+a,aAAe,CACzCrf,KAAM,SACN67B,UAAW,IAKbvc,IAAAA,EAAS6b,EAASzgC,UA4JfygC,OA1JP7b,EAAOsY,sBAAwB,SAA+B7Z,GACxD+d,IAAAA,EAAU/d,EAKPxb,OAHPu5B,EAAU,eADVA,EAAUA,EAAQlpB,QAAQ,MAAO,iBAEjCkpB,GAAU,EAASA,EAAAA,UAAAA,GACTze,EAAW1iB,QAAAA,IAAI,KAAKygC,OAAQU,IAYxCxc,EAAOqa,eAAiB,SAAwBoC,EAAYC,GACrDrE,KAAAA,YAAYz8B,QAAQ,SAAUod,GAC7B,KAAC,EAAUyjB,EAAAA,SAAAA,EAAWzjB,GAAY0jB,EAAU1jB,IACxC,MAAA,EAAW,EAAA,YAAA,OAAQ,CACvByjB,WAAYA,EACZC,UAAWA,EACX1jB,UAAWA,OAcnBgH,EAAOua,SAAW,SAAkBoC,EAAMC,GAClC,MAAA,EAAc,EAAA,eAAA,aAOtB5c,EAAO6c,uBAAyB,SAAgCzwB,GAUvDA,OATPA,GAAM,EAAMA,EAAAA,OAAAA,GACZrR,OAAO+hC,QAAQ,KAAKC,eAAetuB,OAAO,SAAUuuB,GAC9C5mB,IAAAA,EAAI4mB,EAAK,GACN,OAAC5wB,EAAI1B,eAAe0L,SAAwB,IAAXhK,EAAIgK,KAC3Cxa,QAAQ,SAAUqhC,GACf7mB,IAAAA,EAAI6mB,EAAM,GACVnc,EAAImc,EAAM,GACP7wB,OAAAA,EAAIgK,GAAK0K,IAEX1U,GAGT4T,EAAO0C,gBAAkB,SAAyBtW,GAC5C,MAAqB,QAArB,KAAK2T,aAAyB3T,EAAI,KAAK2T,aAAqB3T,GAChEA,EAAI,KAAK2T,aAAe3T,EAAIgI,WACrBhI,EAAIgI,IACJhI,IAGT4T,EAAOwC,gBAAkB,SAAyBpW,GAC5C+T,IAAAA,EAAQ,KAER,GAAqB,QAArB,KAAKJ,YAAuB,OAAO3T,EACnCnJ,IAAAA,EAAM,GAKHA,OAJPlI,OAAO+hC,QAAQ1wB,GAAKxQ,QAAQ,SAAUshC,GAChCC,IAAAA,EAASD,EAAM,KAAO/c,EAAMJ,YAAc,MAAQmd,EAAM,GAC5Dj6B,EAAIk6B,GAAUD,EAAM,KAEfj6B,GAOT+c,EAAOod,iBAAmB,WACjB,OAAA,KAAKtB,OAAOuB,gBAGrBrd,EAAOsd,qBAAuB,WACxB,IAAC,KAAKC,sBAAuB,CAC3BpzB,IAAAA,EAAQ,IACO,EAAA,EAAA,oBAAA,KAAMA,EAAO,IAC3BozB,KAAAA,sBAAwBpzB,EAGxB,OAAA,KAAKozB,wBAGD1B,EAAAA,EAAAA,SAAAA,EAAU,CAAC,CACtBhiC,IAAK,UACLwB,IAAK,WACI,OAAA,KAAKygC,OAAOzP,UAEpB,CACDxyB,IAAK,QACLwB,IAAK,WAEI,OADF,KAAKmiC,SAAQ,KAAKA,OAASC,EAAS,KAAK3B,SACvC,KAAK0B,SAEb,CACD3jC,IAAK,aACLwB,IAAK,WAEI,OADF,KAAKqiC,cAAa,KAAKA,YAAcC,EAAU,KAAK7B,SAClD,KAAK4B,cAEb,CACD7jC,IAAK,iBACLwB,IAAK,WACIN,OAAAA,OAAOe,KAAK,KAAK6W,WAAW3N,cAEpC,CACDnL,IAAK,gBACLwB,IAAK,WACCulB,IAAAA,EAAS,KAcN,OAZF,KAAKgd,iBACHA,KAAAA,eAAiB,GACtB7iC,OAAO+hC,QAAQ,KAAKnqB,WAAW3N,YAAYyJ,OAAO,SAAUovB,GAEnD/c,OADC+c,EAAM,GACLnzB,eAAe,aACvB9O,QAAQ,SAAUkiC,GACf1nB,IAAAA,EAAI0nB,EAAM,GACVhd,EAAIgd,EAAM,GACPld,OAAAA,EAAOgd,eAAexnB,GAAK0K,EAAC,WAIhC,KAAK8c,iBAEb,CACD/jC,IAAK,iBACLwB,IAAK,WAEI,OADF,KAAK0iC,kBAAiB,KAAKA,gBAAkBC,EAAkB,KAAKlC,SAClE,KAAKiC,kBAEb,CACDlkC,IAAK,OACLwB,IAAK,WAEI,OADF,KAAK86B,QAAO,KAAKA,OAAQ,EAAK,EAAA,MAAA,KAAKxjB,aACjC,KAAKwjB,UAQT0F,EAvLT,GA6LO,SAASmC,EAAkBC,GAC5Bh7B,IAAAA,EAAM,GAkBHA,OAhBEi7B,SAAAA,EAASC,EAAYxf,GACF,iBAAfwf,IAEPA,EAAWC,UACbn7B,EAAI0b,EAAY5kB,UAAU,IAAMokC,EAIlCpjC,OAAOe,KAAKqiC,GAAYviC,QAAQ,SAAUyiC,GACpCC,IAAAA,EAAW3f,EACO,eAAlB0f,IAAgCC,EAAWA,EAAW,IAAMD,GAChEH,EAASC,EAAWE,GAAgBC,MAIxCJ,CAASD,EAAWj5B,WAAY,IACzB/B,EAMF,SAASw6B,EAASQ,GACnB5e,IAAAA,EAAQ2e,EAAkBC,GAC1BljC,OAAAA,OAAOe,KAAKujB,GAAO7kB,OAAS,EAE3B,SAASyhC,EAAWH,GACrByC,IAAAA,GAAY,EAAczC,EAAAA,eAAAA,GAE1BE,EADOjhC,OAAOe,KAAKyiC,GAEtBhwB,IAAI,SAAU1U,GACT2kC,IAAAA,EAAW3kC,EAAI4Y,MAAM,KAGlB+rB,OAFPA,EAASx7B,MAEFw7B,EAAS5rB,KAAK,OACpBnE,OAAO,SAAU5U,GACXA,MAAQ,KAARA,IACN4U,OAAO,SAAU4tB,EAAMC,EAAK55B,GACtBA,OAAAA,EAAI0Q,QAAQipB,KAAUC,IAE9B7tB,OAAO,SAAU5U,GAGZ2B,QADQuiB,EAAW1iB,QAAAA,IAAIygC,EAAQjiC,GACzBkJ,QACTwL,IAAI,SAAU1U,GAMR,OAFPA,GAFAA,EAAMA,EAAIyZ,QAAQ,cAAe,KAEvBA,QAAQ,kBAAmB,KAE9B,EAAC,EAASzZ,EAAAA,UAAAA,MAGf4kC,EAAc3C,EAAOC,iBAAmB,GAErCC,OADPA,EAAUA,EAAQr8B,OAAO8+B,GAQpB,SAASvC,EAAWJ,GACrB74B,IAAAA,EAAMlI,OAAOe,KAAKggC,EAAO92B,YAAYyJ,OAAO,SAAU5U,GACjDiiC,OAAAA,EAAO92B,WAAWnL,GAAKo9B,UAC7B7yB,QACC,OAACnB,GAAY,MAMZ,SAASy7B,EAAoB5e,GAC9BuM,IAAAA,EAAUvM,EAAOuM,QAAUvM,EAAOuM,QAAU,EAC5Cpc,EAAI,EACD,OAAA,IAAI7V,MAAMiyB,GAASsS,KAAK,GAAGpwB,IAAI,WAC7B0B,OAAAA,MAQJ,SAASmsB,EAAeN,GACzB74B,IAAAA,EAAMlI,OAAOe,KAAKggC,EAAO92B,YAAYyJ,OAAO,SAAU5U,GACjDiiC,OAAAA,EAAO92B,WAAWnL,GAAlB,QAIFoJ,OADPA,EAAI5B,KAAK66B,EAAWJ,IACb74B,EAOF,SAAS06B,EAAUM,GACjB,OAAA,EAAW,EAAA,aAAA,EAAMA,EAAAA,OAAAA,IAwCzB,QAAA,SAAA,EAjCD,IAAIW,EAA0B,SAAiCnG,GAqBtDA,OApBPA,GAAY,EAAMA,EAAAA,OAAAA,IAERoG,sBAAuB,EAE5BpG,EAAU/tB,eAAe,oBAAmB+tB,EAAU4E,gBAAiB,GAE5E5E,EAAUsD,gBAAkBtD,EAAUsD,iBAAmB,GAEzDtD,EAAU0D,SAAW1D,EAAU0D,UAAY,GAE3C1D,EAAUzzB,WAAWiP,KAAO,CAC1BvT,KAAM,SACN67B,UAAW,GAGb9D,EAAUzzB,WAAW0M,aAAe,CAClChR,KAAM,UAGR+3B,EAAUpM,QAAUoM,EAAUpM,SAAW,EAClCoM,GAGF,SAASjH,EAAesK,MACLl6B,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,KAAmBA,UAAU,MAChE,EAAe,EAAA,gBAAA,oBAAqBk6B,GACvDhc,IAAAA,EAAS,IAAI+b,EAAS+C,EAAwB9C,IAE3Chc,OADQ,EAAA,EAAA,gBAAA,iBAAkBA,GAC1BA,EAEF,SAASoX,EAAa9qB,GACpBA,OAAAA,aAAeyvB;;AC5QT,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,OAAA,EAAA,QAAA,QAAA,QAAA,aAAA,EAnEf,IAAA,EAAA,EAAA,QAAA,gBACA,EAAA,QAAA,UAkEe,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAjER,IAAIiD,EAEX,WACWA,SAAAA,EAAQC,EAAUjf,GACpBif,KAAAA,SAAWA,EACXjf,KAAAA,OAASA,EAQZE,IAAAA,EAAS8e,EAAQ1jC,UA+Cd0jC,OA7CP9e,EAAOgf,cAAgB,SAAuBC,GACtC,MAAA,EAAc,EAAA,eAAA,eAQtBjf,EAAOkf,cAAgB,SAAuBD,GACtC,MAAA,EAAc,EAAA,eAAA,eAGtBjf,EAAOmf,QAAU,SAAiB/yB,GAC5B+T,IAAAA,EAAQ,KAGR,OADJ/T,GAAM,EAAMA,EAAAA,OAAAA,GACP,KAAK2yB,UACVhkC,OAAOe,KAAK,KAAKgkB,OAAOsf,gBAAgBxjC,QAAQ,SAAU6iB,GACpDjjB,IAAAA,EAAQuiB,EAAW1iB,QAAAA,IAAI+Q,EAAKqS,GAC5B,QAAiB,IAAVjjB,EAAP,CAEA4iC,IAAAA,EAAYje,EAAM6e,cAAcxjC,GAEzBD,EAAAA,QAAAA,IAAI6Q,EAAKqS,EAAM2f,MAErBhyB,GAToBA,GAY7B4T,EAAOqf,QAAU,SAAiBjzB,GAC5BwU,IAAAA,EAAS,KAGT,OADJxU,GAAM,EAAMA,EAAAA,OAAAA,GACP,KAAK2yB,UACVhkC,OAAOe,KAAK,KAAKgkB,OAAOsf,gBAAgBxjC,QAAQ,SAAU6iB,GACpDjjB,IAAAA,EAAQuiB,EAAW1iB,QAAAA,IAAI+Q,EAAKqS,GAC5B,QAAiB,IAAVjjB,EAAP,CAEA8jC,IAAAA,EAAY1e,EAAOse,cAAc1jC,GAE1BD,EAAAA,QAAAA,IAAI6Q,EAAKqS,EAAM6gB,MAErBlzB,GAToBA,GAYtB0yB,EA1DT,GA4DO,SAAS79B,EAAO89B,EAAUjf,GACxB,OAAA,IAAIgf,EAAQC,EAAUjf,GAEhB,QAAA,QAAA,EAAA,IAAA,EAAA,CACb7e,OAAQA,EACR69B,QAASA,GAFI,QAAA,QAAA;;AC3Bd,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,MAAA,EAAA,QAAA,WAAA,EAAA,QAAA,SAAA,EAvCD,IAAA,EAAA,QAAA,WAKO,SAASS,EAAM7uB,EAAI8uB,GACxBzkC,OAAOe,KAAK0jC,GAAM5jC,QAAQ,SAAU/B,QACX,IAAZ6W,EAAG7W,GACZ6W,EAAG7W,GAAO2lC,EAAK3lC,GAEXslB,EAASqgB,EAAK3lC,IAAO0lC,EAAM7uB,EAAG7W,GAAM2lC,EAAK3lC,IAAW6W,EAAG7W,GAAO2lC,EAAK3lC,KAQtE,SAAS4lC,EAAW/uB,EAAI8uB,GAC7BzkC,OAAOe,KAAK0jC,GAAM5jC,QAAQ,SAAU/B,QAC9B,IAAuB6W,EAAG7W,GAG5B6W,EAAG7W,IAAO,EAAM2lC,EAAAA,OAAAA,EAAK3lC,IAEjBslB,EAASqgB,EAAK3lC,IAAO4lC,EAAW/uB,EAAG7W,GAAM2lC,EAAK3lC,IAGhD6W,EAAG7W,IAAO,EAAM2lC,EAAAA,OAAAA,EAAK3lC,MAStB,SAASslB,EAAShc,GAChB,MAAA,oBAAsBA,EAAI1G;;AC2blC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,QAAA,SAAA,EAAA,QAAA,gBAAA,EAjeD,IAAA,EAAA,QAAA,kBACA,EAAA,QAAA,eACA,EAAA,QAAA,WACWijC,EAEX,WASWA,SAAAA,EAAWC,GACbxhB,KAAAA,QAAU,GACVyhB,KAAAA,YAAc,GACfD,GAAU,KAAKjjB,KAAKijB,GAOtB3f,IAAAA,EAAS0f,EAAWtkC,UA6VjBskC,OA3VP1f,EAAO1V,MAAQ,WACTu1B,IAAAA,EAAO,IAAIH,EAMRG,OALP9kC,OAAO+hC,QAAQ,MAAMlhC,QAAQ,SAAUohC,GACjC5mB,IAAAA,EAAI4mB,EAAK,GACTlc,EAAIkc,EAAK,GACN6C,OAAAA,EAAKzpB,IAAK,EAAO0K,EAAAA,OAAAA,KAEnB+e,GAOT7f,EAAO8f,MAAQ,SAAeC,EAAOC,GAC/B,IAACp+B,UAAUpH,OAAQ,OAAO,KAC1BkG,IAAAA,SAAckB,UAAU,GAExB,GAAA,WAAalB,EAGR,OAFFq/B,KAAAA,MAAQn+B,UAAU,GACnB,IAAMA,UAAUpH,SAAQ,KAAKolC,YAAY,KAAKG,OAASn+B,UAAU,IAC9D,KAGL,GAAA,WAAalB,IAAStG,MAAMC,QAAQuH,UAAU,IAAK,OAAO,KAAK29B,MAAM39B,UAAU,IAC7E,MAAA,EAAe,EAAA,gBAAA,MAAO,CAC1B6c,KAAM7c,UAAU,MAUpBoe,EAAOigB,OAAS,SAAgB5pB,GACzB6pB,KAAAA,YAAY,UAEbzhB,IAAAA,EAAO,KAAKshB,MAET,OADFH,KAAAA,YAAYnhB,GAAQpI,EAClB,MAQT2J,EAAOmgB,GAAK,SAAY9pB,GACjB6pB,KAAAA,YAAY,MAEbzhB,IAAAA,EAAO,KAAKshB,MAET,OADFH,KAAAA,YAAYnhB,GAAQpI,EAClB,MAST2J,EAAOogB,GAAK,SAAYjmC,GAClBimC,IAAAA,EAAK,KAAKR,YAAYS,MAAQ,KAAKT,YAAYS,IAAM,IAGlD,OAFFjmC,MAAMC,QAAQF,KAAQA,EAAQ,CAACA,IACpCimC,EAAG/+B,KAAKtC,MAAMqhC,EAAIjmC,GACX,MAST6lB,EAAOsgB,IAAM,SAAanmC,GACpBmmC,IAAAA,EAAM,KAAKV,YAAYW,OAAS,KAAKX,YAAYW,KAAO,IAGrD,OAFFnmC,MAAMC,QAAQF,KAAQA,EAAQ,CAACA,IACpCmmC,EAAIj/B,KAAKtC,MAAMuhC,EAAKnmC,GACb,MAUT6lB,EAAOwgB,IAAM,SAAarmC,GACpBqmC,IAAAA,EAAM,KAAKZ,YAAYa,OAAS,KAAKb,YAAYa,KAAO,IAGrD,OAFFrmC,MAAMC,QAAQF,KAAQA,EAAQ,CAACA,IACpCqmC,EAAIn/B,KAAKtC,MAAMyhC,EAAKrmC,GACb,MAOT6lB,EAAOhD,IAAM,SAAa+iB,EAAOC,GAC3B3pB,IAAAA,EACAoI,EAsBG,OApBH,IAAM7c,UAAUpH,QACb0lC,KAAAA,YAAY,OAEjB7pB,EAAMzU,UAAU,GAChB6c,EAAO,KAAKshB,OACH,IAAMn+B,UAAUpH,QAAWJ,MAAMC,QAAQuH,UAAU,IAKnD,IAAMA,UAAUpH,QACzB6b,EAAMzU,UAAUwG,MAAM,GACtBqW,EAAO7c,UAAU,KAEjByU,EAAMzU,UAAU,GAChB6c,EAAO7c,UAAU,KATZs+B,KAAAA,YAAY,OAEjB7pB,EAAMzU,UAAUwG,QAChBqW,EAAO,KAAKshB,QASF,KAAKH,YAAYnhB,KAAU,KAAKmhB,YAAYnhB,GAAQ,KAC1DiiB,KAAOrqB,EACN,MAYT2J,EAAO2gB,OAAS,SAAgBZ,EAAOC,GACjCvhB,IAAAA,EACApI,EAwBG,OAtBH,IAAMzU,UAAUpH,QACb0lC,KAAAA,YAAY,UAEjBzhB,EAAO,KAAKshB,MACZ1pB,GAAM,GACG,IAAMzU,UAAUpH,OACrB,kBAAqBoH,UAAU,IAC5Bs+B,KAAAA,YAAY,UAEjBzhB,EAAO,KAAKshB,MACZ1pB,EAAMzU,UAAU,KAEhB6c,EAAO7c,UAAU,GACjByU,GAAM,GAEC,IAAMzU,UAAUpH,SACzBikB,EAAO7c,UAAU,GACjByU,EAAMzU,UAAU,KAGN,KAAKg+B,YAAYnhB,KAAU,KAAKmhB,YAAYnhB,GAAQ,KAC1DmiB,QAAUvqB,EACT,MAkBT2J,EAAO6gB,UAAY,SAAmBd,EAAOe,GACvC,GAAA,OAASl/B,UAAU,GAAI,MAAM,EAAe,EAAA,gBAAA,OAC5CwlB,IAAAA,EACA3I,EACAkhB,EAEA,GAAA,mBAAsB/9B,UAAU,GAC7Bs+B,KAAAA,YAAY,aAEjBzhB,EAAO,KAAKshB,MACZ3Y,EAAKxlB,UAAU,QACV,IAAI,EAASA,EAAAA,UAAAA,UAAU,IACvBs+B,KAAAA,YAAY,aAEjBzhB,EAAO,KAAKshB,MACZJ,EAAW/9B,UAAU,QAChB,GAAI,mBAAsBA,UAAU,GACzC6c,EAAO7c,UAAU,GACjBwlB,EAAKxlB,UAAU,OACV,CAAA,IAAIA,UAAU,MAAM,EAASA,EAAAA,UAAAA,UAAU,IAGvC,MAAM,EAAe,EAAA,gBAAA,OAF1B6c,EAAO7c,UAAU,GACjB+9B,EAAW/9B,UAAU,GAWhB,OARHwlB,IAEFA,EADAuY,EAAW,IAAID,GAEfC,EAAWA,EAASC,cAGV,KAAKA,YAAYnhB,KAAU,KAAKmhB,YAAYnhB,GAAQ,KAC1DsiB,WAAapB,EACZ,MAcT3f,EAAOlI,KAAO,SAAc3U,GACtBgd,IAGA5lB,EAHA4lB,EAAQ,KAER,IAAChd,EAAK,OAAO,KAEbzC,IAAAA,SAAcyC,EAEd/I,GAAAA,MAAMC,QAAQ8I,GAAM,CACtB5I,EAAM4I,EAAI3I,OAEL,IAAA,IAAIF,EAAI,EAAGA,EAAI6I,EAAI3I,SAAUF,EAChC0mC,EAAS,KAAK7iB,QAAShb,EAAI7I,GAAG,GAAI6I,EAAI7I,GAAG,IAGpC,OAAA,KAIL,GAAA,IAAMsH,UAAUpH,QAAU,WAAakG,EAAM,CAE/CnG,GADA4I,EAAMA,EAAIsP,MAAM,QACNjY,OAEL,IAAA,IAAIymC,EAAK,EAAGA,EAAK1mC,IAAO0mC,EAAI,CAC3B5nB,IAAAA,EAAQlW,EAAI89B,GACZ,GAAC5nB,EAAD,CACA6nB,IAAAA,EAAS,MAAQ7nB,EAAM,IAAM,EAAI,GACrB,IAAZ6nB,IAAe7nB,EAAQA,EAAMtf,UAAU,IAC3CsH,EAAK,KAAK8c,QAAS9E,EAAO6nB,IAGrB,OAAA,KAIL,IAAA,EAAS/9B,EAAAA,UAAAA,GAKJ,OAJIpI,OAAOe,KAAKqH,GAClBvH,QAAQ,SAAUyd,GACdhY,OAAAA,EAAK8e,EAAMhC,QAAS9E,EAAOlW,EAAIkW,MAEjC,KAGH,MAAA,EAAe,EAAA,gBAAA,MAAO,CAC1Bna,KAAM0C,aAWVoe,EAAOuf,MAAQ,SAAe5rB,GACxB,IAACA,EAAQ,OAAO,KAEhB,IAACwtB,EAASxtB,GACN,MAAA,EAAe,EAAA,gBAAA,MAAO,CAC1BA,OAAQA,IAIRA,OAAAA,aAAkB+rB,GAEhB/rB,EAAOisB,cAAa,EAAO,EAAA,OAAA,KAAKA,YAAajsB,EAAOisB,aAEpDjsB,EAAOytB,UACJ,KAAKA,UAAS,KAAKA,QAAU,KAE3B,EAAA,EAAA,OAAA,KAAKA,QAASztB,EAAOytB,UAG1BztB,EAAOwK,UACJ,KAAKA,UAAS,KAAKA,QAAU,KAE3B,EAAA,EAAA,OAAA,KAAKA,QAASxK,EAAOwK,UAG1BxK,EAAO0tB,UACJ,KAAKA,UAAS,KAAKA,QAAU,KACvB,EAAA,EAAA,YAAA,KAAKA,QAAS1tB,EAAO0tB,UAG9B1tB,EAAO2tB,YAAW,KAAKA,UAAY3tB,EAAO2tB,WACvC,QAIF,EAAA,EAAA,OAAA,KAAK1B,YAAajsB,GAElB,OAUTqM,EAAOtD,KAAO,SAAcijB,GAEnB,OADHwB,EAASxB,IAAW,KAAKJ,MAAMI,GAC5B,MAST3f,EAAOkgB,YAAc,SAAqB9wB,GACpC,IAAC,KAAK2wB,MACF,MAAA,EAAW,EAAA,YAAA,MAAO,CACtB3wB,OAAQA,KAKPswB,EAhXT,GAkXO,SAAS6B,EAAa5B,GACpB,OAAA,IAAID,EAAWC,GA8CxB,SAASt+B,EAAKyL,EAAMuM,EAAO7d,GACrBpB,GAAAA,MAAMC,QAAQyS,EAAKgL,MACf,MAAA,EAAe,EAAA,gBAAA,MAAO,CAC1BhL,KAAMA,EACNuM,MAAOA,EACP7d,MAAOA,IAIPA,GAAAA,GAASA,EAAMgmC,MAAfhmC,EACSsR,EAAKgL,OAAShL,EAAKgL,KAAO,KAChCuB,GAAS,CACZmoB,MAAOhmC,EAAMgmC,WAHbhmC,CAQA6a,IAAAA,EAAM7U,OAAOhG,GAAS,GAAGoZ,cAEzB,IAAC,2CAA2CzC,KAAKkE,GAE7C,MADFjc,MAAMC,QAAQmB,KAAQA,EAAQ,IAAMA,EAAQ,MAC1C,EAAe,EAAA,gBAAA,MAAO,CAC1B6d,MAAOA,EACP7d,MAAOA,IAKPgX,IAAAA,EAAI1F,EAAKgL,OAAShL,EAAKgL,KAAO,IAC9B2pB,EAAWjmC,EAAMiB,WAAW6W,QAAQ,MAAO,KAAKA,QAAQ,YAAa,KAAKA,QAAQ,OAAQ,MAAMA,QAAQ,aAAc,MAC1Hd,EAAE6G,GAAS9J,SAASkyB,EAAU,KAGhC,SAAST,EAASl0B,EAAMuM,EAAO7d,GAGzB,GAFJsR,EAAKgL,KAAOhL,EAAKgL,MAAQ,IAEpB1d,MAAMC,QAAQyS,EAAKgL,MAChB,MAAA,EAAe,EAAA,gBAAA,MAAO,CAC1BhL,KAAMA,EACNuM,MAAOA,EACP7d,MAAOA,IAUXsR,EAAKgL,KAAKzW,KAAK,CAACgY,EAAO7d,IAOlB,SAAS2lC,EAASO,GAChBA,OAAAA,aAAiBhC,IAAc,EAASgC,EAAAA,UAAAA,GAChD,QAAA,WAAA,EA/FD,CAAC,QAAS,OAAQ,UAAW,YAAa,WAAW9lC,QAAQ,SAAUwT,GACrEswB,EAAWtkC,UAAUgU,GAAU,SAAU0R,GAEhC,OADF3C,KAAAA,QAAQ/O,GAAU0R,EAChB,QASX,CAAC,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,MAAO,QAAS,QAAQllB,QAAQ,SAAU+lC,GACtFjC,EAAWtkC,UAAUumC,GAAgB,WAC/BljB,IAAAA,EACApI,EAcG,OAZH,IAAMzU,UAAUpH,QACb0lC,KAAAA,YAAYyB,GAEjBtrB,EAAMzU,UAAU,GAChB6c,EAAO,KAAKshB,QAEZ1pB,EAAMzU,UAAU,GAChB6c,EAAO7c,UAAU,KAGoB,OAA3B,KAAKg+B,YAAYnhB,IAAoD,iBAA3B,KAAKmhB,YAAYnhB,GAAqB,KAAKmhB,YAAYnhB,GAAQ,KAAKmhB,YAAYnhB,GAAQ,IACxI,IAAMkjB,GAAgBtrB,EACrB;;AC1TV,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,qBAAA,EAAA,QAAA,yBAAA,EAAA,QAAA,iBAAA,EAAA,QAAA,kBAAA,EAAA,QAAA,wBAAA,EAjGD,IAAA,EAAA,QAAA,iBACA,EAAA,QAAA,WAEIurB,EAAqB,IAAIC,QACzBC,EAA2B,IAAID,QAC5B,SAASvE,EAAqByE,GAC/B,IAACH,EAAmBnmC,IAAIsmC,GAAe,CACrCC,IAAAA,EAAcD,EAAajiB,OAAOwd,uBAClC2E,EAAWC,EAAwBH,GACnCI,EAAYhL,EAAhB,cACIhtB,EAAQ,GACX63B,CAAAA,EAAaC,EAAUE,GAAWvmC,QAAQ,SAAUwQ,GACvCrR,OAAO2E,oBAAoB0M,GACjCxQ,QAAQ,SAAU/B,GAClBm5B,IAAAA,EAAOj4B,OAAOC,yBAAyBoR,EAAKvS,GAM5CqJ,GAAa,GACbrJ,EAAI+8B,WAAW,MAAQ/8B,EAAIuoC,SAAS,MAAQvoC,EAAI+8B,WAAW,MAAQ/8B,EAAIuoC,SAAS,QAAMl/B,GAAa,GAE7E,mBAAf8vB,EAAKx3B,MAEdT,OAAOgB,eAAeoO,EAAOtQ,EAAK,CAChCwB,IAAK,WACI23B,OAAAA,EAAKx3B,MAAM2G,KAAK,OAEzBe,WAAYA,EACZukB,cAAc,KAGhBuL,EAAK9vB,WAAaA,EAClB8vB,EAAKvL,cAAe,EAChBuL,EAAKtL,WAAUsL,EAAKtL,UAAW,GACnC3sB,OAAOgB,eAAeoO,EAAOtQ,EAAKm5B,QAIxC4O,EAAmBrmC,IAAIwmC,EAAc53B,GAGhCy3B,OAAAA,EAAmBvmC,IAAI0mC,GAEzB,SAASM,EAAyBN,GACnC,IAACD,EAAyBrmC,IAAIsmC,GAAe,CAC3C9+B,IAAAA,GAAM,EAA4Bq6B,EAAAA,6BAAAA,EAAqByE,IAC3DD,EAAyBvmC,IAAIwmC,EAAc9+B,GAGtC6+B,OAAAA,EAAyBzmC,IAAI0mC,GAO/B,SAASrQ,EAAiBqQ,EAAclhB,GAEzC1T,IAAAA,EAAK0T,EAAQkhB,EAAajiB,OAAOC,aAEjCuiB,EAAWP,EAAa9J,UAAU58B,IAAI8R,GAEtCm1B,GAAAA,EAAU,OAAOA,EACjBxxB,IAAAA,GAAM,EAAgCuxB,EAAAA,uBAAAA,EAAyBN,GAAeA,EAAclhB,GAOzF/P,OALPixB,EAAa9J,UAAU18B,IAAI4R,EAAI2D,GAE/BixB,EAAaQ,cAAc,OAAQ,SAAU1hB,EAAS/P,IAEvC,EAAA,EAAA,gBAAA,uBAAwBA,GAChCA,EAMF,SAAS0xB,EAAkBT,EAAcU,GACvCA,OAAAA,EAASl0B,IAAI,SAAUm0B,GACrBhR,OAAAA,EAAiBqQ,EAAcW,KASnC,SAASR,EAAwBH,GAClC53B,IAAAA,EAAQ,GAMLA,OALPpP,OAAO+hC,QAAQiF,EAAaY,SAAS/mC,QAAQ,SAAUohC,GACjD5mB,IAAAA,EAAI4mB,EAAK,GACTlc,EAAIkc,EAAK,GACb7yB,EAAMiM,GAAK0K,IAEN3W;;AC6cR,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,cAAA,EAAA,QAAA,aAAA,EAAA,QAAA,iBAAA,EArjBD,IAAA,EAAA,EAAA,QAAA,uCACA,EAAA,EAAA,QAAA,eACA,EAAA,QAAA,QACA,EAAA,QAAA,kBACA,EAAA,QAAA,yBACA,EAAA,QAAA,mBACA,EAAA,QAAA,UACA,EAAA,QAAA,2BACA,EAAA,QAAA,cACA,EAAA,QAAA,WACA,EAAA,QAAA,iCA2iBC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA1iBD,IAAIy4B,EAAc,EAEdC,EAAa,WACR,QAAED,GAGAE,EAEX,WACWA,SAAAA,EAAYnhB,EAAIohB,EAAUljB,GAC5B1S,KAAAA,GAAK01B,IACLG,KAAAA,oBAAsB,EACtBziB,KAAAA,aAAe,KACf0iB,KAAAA,cAAgB,IAAIjI,EAAJ,gBAAoB,MACpCkI,KAAAA,uBAAyB,EACzBC,KAAAA,kBAAoBj4B,QAAQ2e,SAAQ,GACpClI,KAAAA,GAAKA,EACLohB,KAAAA,SAAWA,EACXljB,KAAAA,WAAaA,EACbujB,KAAAA,sBAAuB,EAA0B,EAAA,QAAA,MACjDL,IAAUA,EAAWM,EAAiB,KAAKxjB,aAC3CyjB,KAAAA,QAAS,EAAaP,EAAAA,cAAAA,GAGzB/iB,IAAAA,EAAS8iB,EAAY1nC,UAoUlB0nC,OAlUP9iB,EAAOvjB,SAAW,WACZ,IAAC,KAAK8mC,UAAW,CACfC,IAAAA,GAAY,EAAW,EAAA,YAAA,CACzB7hB,GAAI,KAAKA,GACTxD,QAAS,KAAKmlB,OAAOnlB,QACrByhB,YAAa,KAAK0D,OAAO1D,YACzBG,MAAO,KAAKuD,OAAOvD,MACnBqB,QAAS,KAAKkC,OAAOlC,UACpB,GACEmC,KAAAA,UAAY7mC,KAAKC,UAAU6mC,EAAWhV,EAA1B,iBAGZ,OAAA,KAAK+U,WAIdvjB,EAAO2J,OAAS,WACV8Z,IAAAA,EAAS,IAAIX,EAAY,KAAKnhB,GAAI0hB,EAAiB,KAAKxjB,YAAa,KAAKA,YAEvE4jB,OADPA,EAAOH,OAAS,KAAKA,OAAOh5B,QACrBm5B,GAQTzjB,EAAO0jB,eAAiB,SAAwBC,GACzCpjB,KAAAA,aAAeojB,EAChB32B,IAAAA,GAAO,EAAkB,EAAA,mBAAA,KAAK6S,WAAY,KAAKU,cAI5CvT,OAFFi2B,KAAAA,cAAc95B,KAAK6D,GAEjBA,GAQTgT,EAAO4jB,kBAAoB,WAErBC,IAAAA,EAEI,OAHHX,KAAAA,uBAAyB,KAAKA,uBAAyB,EAGpD,KAAKvhB,IACN,IAAA,OACHkiB,EAAc,KAAKhkB,WAAWikB,WAAW,MACzC,MAEG,IAAA,UACHD,EAAc,KAAKhkB,WAAWikB,WAAW,KAAM,GAC/C,MAEF,QACQ,MAAA,EAAW,EAAA,YAAA,MAAO,CACtBniB,GAAI,KAAKA,KAIRkiB,OAAAA,GAST7jB,EAAO/M,KAAO,WACRkN,IAAAA,EAAQ,KAOL4jB,OAAAA,EAAa,MAAMx4B,KAAK,WACtB4U,OAAAA,EAAMyX,EAAEW,MAAK,EAAb,EAAA,UAAsB1tB,eAIjCmV,EAAO7J,OAAS,WACV,GAAA,KAAK6tB,QAAS,OAAO,KAAKA,QAC1BC,IAAAA,EAAW,KAAKpkB,WAAWC,OAAOC,YAClC2iB,EAAO,CACThpB,SAAU,KAAK4pB,OAAO1D,aAEpBzhB,GAAU,EAAM,EAAA,OAAA,KAAKmlB,OAAOnlB,SAE5BA,GAAAA,EAAQrG,KAAM,CACZosB,IAAAA,EAAY,GAChBnpC,OAAOe,KAAKqiB,EAAQrG,MAAMvJ,IAAI,SAAUyK,GAClCmrB,IACA5iB,EAAM,OACM,IAFHpD,EAAQrG,KAAKkB,KAEPuI,EAAM,QACrB6iB,IAAAA,EAAS,GAETprB,IAAcirB,IAAUjrB,EAAY,OACxCorB,EAAOprB,GAAauI,EACpB2iB,EAAU7iC,KAAK+iC,KAEjB1B,EAAK5qB,KAAOosB,EAGV/lB,GAAAA,EAAQjC,MAAO,CACb,GAAyB,iBAAlBiC,EAAQjC,MACX,MAAA,EAAe,EAAA,gBAAA,MAAO,CAC1BA,MAAOiC,EAAQjC,QAInBwmB,EAAKxmB,MAAQiC,EAAQjC,MAGnBiC,GAAAA,EAAQlC,KAAM,CACZ,GAAwB,iBAAjBkC,EAAQlC,KACX,MAAA,EAAe,EAAA,gBAAA,MAAO,CAC1BA,KAAMkC,EAAQlC,OAIlBymB,EAAKzmB,KAAOkC,EAAQlC,KAmCf,OA/BPlhB,OAAO+hC,QAAQ4F,EAAKhpB,UAAUjL,OAAO,SAAUuuB,GAEtC,MAAa,iBADZA,EAAK,KAEZvuB,OAAO,SAAUwuB,GAEXnc,OAAM,OADLmc,EAAM,KAEbxuB,OAAO,SAAUovB,GACd/c,IAAAA,EAAI+c,EAAM,GACP,OAACzjC,MAAMC,QAAQymB,KACrBrS,OAAO,SAAUqvB,GACdhd,IAAAA,EAAIgd,EAAM,GACP/iC,OAA0B,IAA1BA,OAAOe,KAAKglB,GAAGtmB,SACrBoB,QAAQ,SAAUyoC,GACfjuB,IAAAA,EAAIiuB,EAAM,GACP,cAAO3B,EAAKhpB,SAAStD,KAGb,QAAb6tB,GAAsBvB,EAAKhpB,SAASuqB,KAEtCvB,EAAKhpB,SAAStF,IAAMsuB,EAAKhpB,SAASuqB,UAC3BvB,EAAKhpB,SAASuqB,IAImB,IAAtClpC,OAAOe,KAAK4mC,EAAKhpB,UAAUlf,SAC7BkoC,EAAKhpB,SAAW,CACdtF,IAAK,KAIJ4vB,KAAAA,QAAUtB,EACR,KAAKsB,SAGdhkB,EAAOskB,YAAc,WACf,OAAC,KAAKzkB,WAAWC,OAAOsd,oBAGrB,KAAKmH,eACHA,KAAAA,aAAe,KAAK1kB,WAAW2kB,eAAeC,cAAc,KAAKtuB,WAGjE,KAAKouB,cANL,KAAKpuB,UAehB6J,EAAOkB,sBAAwB,SAA+BL,GAExDA,GAAAA,EAAQgW,SAAU,OAAO,EACzBnd,IAAAA,EAAW,KAAK4pB,OAAO1D,YAC3B/e,EAAU,KAAKhB,WAAWC,OAAO0C,gBAAgB3B,GAC7CjF,IAAAA,EAAiB7gB,OAAOe,KAAK4d,GAE1BgrB,OADO,EAAU7jB,EAAAA,WAAAA,EAAS,KAAKlG,gBAAiBiB,IASzDoE,EAAO2a,OAAS,WACV13B,IAAAA,EACG,OAAA,KAAKgQ,OAAO1H,KAAK,SAAUyB,GAE5B5S,OADJ6I,EAAM+J,EACF5S,MAAMC,QAAQ2S,GAAc9B,QAAQinB,IAAInlB,EAAKuB,IAAI,SAAUuC,GACtDA,OAAAA,EAAI6pB,YACG3tB,EAAK2tB,WACpBpvB,KAAK,WACCtI,OAAAA,KASX+c,EAAOuZ,OAAS,SAAgBC,GACxB,MAAA,EAAc,EAAA,eAAA,WAQtBxZ,EAAOyI,MAAQ,SAAekc,GACxBC,IAAAA,EAAa,KAAKjb,SAElB,GAAA,KAAK2Z,OAAOvD,QAAU,KAAKlgB,WAAWC,OAAOC,YACzC,MAAA,EAAW,EAAA,YAAA,MAAO,CACtBtB,KAAM,KAAK6kB,OAAOvD,QAKf8E,OADPD,EAAWtB,OAAO7a,MAAMkc,GACjBE,EAAkBD,IAQ3B5kB,EAAOlI,KAAO,SAAc6sB,GACtBC,IAAAA,EAAa,KAAKjb,SAGlB,GAAkB,iBAAXgb,EAAqB,CAC1BG,IAAAA,EAAkC,MAArBH,EAAOlX,OAAO,GAAakX,EAAO5qC,UAAU,GAAK4qC,EAC7DC,EAAWtB,OAAO1D,YAAYkF,IAAaC,EAAgBD,EAAYF,QAE5E7pC,OAAOe,KAAK6oC,GAAQl2B,OAAO,SAAU2H,GAC5B,OAACwuB,EAAWtB,OAAO1D,YAAYxpB,KAAOwuB,EAAWtB,OAAO1D,YAAYxpB,GAAGgE,MAC7Exe,QAAQ,SAAUwa,GACZ2uB,OAAAA,EAAgB3uB,EAAGwuB,KAKvBC,OADPD,EAAWtB,OAAOxrB,KAAK6sB,GAChBE,EAAkBD,IAG3B5kB,EAAO9D,MAAQ,SAAe8oB,GACxB,GAAY,YAAZ,KAAKrjB,GAAkB,MAAM,EAAW,EAAA,YAAA,OACtCijB,IAAAA,EAAa,KAAKjb,SAGfkb,OADPD,EAAWtB,OAAOpnB,MAAM8oB,GACjBH,EAAkBD,KAIhB9B,EAAAA,EAAAA,SAAAA,EAAa,CAAC,CACzBjpC,IAAK,IACLwB,IAAK,WACCulB,IAAAA,EAAS,KAET,IAAC,KAAKqkB,GAAI,CAKRC,IAAAA,EAAW,KAAKjC,cAAc1K,MAAK,EAAS,EAAA,UAAA,SAAUvrB,GACjD+2B,OAAAA,EAAanjB,GAAQrV,KAAK,SAAU45B,GACrCA,OAAAA,GACQn4B,OAEZ,EAAO,EAAA,QAAA,SAAUA,GACZ,QAAEA,KAEP,EAAA,EAAA,KAAA,SAAUA,GAER4T,MAAc,YAAdA,EAAOe,GACiB,IAAhB3U,EAAKxS,OAAe,KAAOwS,EAAK,GAE9BA,KAEZ,EAAI,EAAA,KAAA,SAAUA,GAGT/J,OADG7I,MAAMC,QAAQ2S,GAAQA,EAAK5E,QAAU4E,KAjBlC,eAyBXo4B,EAAgB,KAAKvlB,WAAWwlB,YAAY9M,MAAK,EAAI,EAAA,KAAA,WAChDwL,OAAAA,EAAanjB,MAClB,EAAO,EAAA,QAAA,WACF,OAAA,KAEJqkB,KAAAA,IACCC,EAAAA,EAAAA,OAAAA,EAAUE,GAGX,OAAA,KAAKH,KAEb,CACDprC,IAAK,kBACLwB,IAAK,WACC,IAAC,KAAKiqC,iBAAkB,CACtB5rB,IAAAA,EAAW,KAAK4pB,OAAO1D,YACtB0F,KAAAA,kBAAmB,EAAgB5rB,EAAAA,iBAAAA,GAGnC,OAAA,KAAK4rB,qBAITxC,EApVT,GAuVA,SAASO,EAAiBxjB,GACpB0lB,IAAAA,EAEGA,OAAAA,EAAQ,IAAU1lB,EAAWC,OAAOC,aAAe,GAAIwlB,EAOhE,SAASV,EAAkBW,GAClBA,OAAAA,EAAQ3lB,WAAW4lB,YAAYC,WAAWF,GAOnD,SAASG,EAAWC,EAAcC,GAChCA,EAAgBp3B,OAAO,SAAUq3B,GACxB,OAACA,EAASlP,WAAW,OAC3BnoB,OAAO,SAAUq3B,GACX,OAACF,EAAaE,KACpBlqC,QAAQ,SAAUkqC,GACnBF,EAAaE,GAAY,SAAUC,GAC7BnB,IAAAA,EAAa,KAAKjb,SAGfkb,OADPD,EAAWtB,OAAOwC,GAAUC,GACrBlB,EAAkBD,MA+K9B,QAAA,YAAA,EA1KD,IAAIoB,GAAc,EACX,SAASvU,EAAc9P,EAAIohB,EAAUljB,GAEtCkjB,GAAAA,GAAgC,iBAAbA,EACf,MAAA,EAAe,EAAA,gBAAA,MAAO,CAC1BA,SAAUA,IAIV3oC,GAAAA,MAAMC,QAAQ0oC,GACV,MAAA,EAAe,EAAA,gBAAA,MAAO,CAC1BA,SAAUA,IAIV9/B,IAAAA,EAAM,IAAI6/B,EAAYnhB,EAAIohB,EAAUljB,GAUjC5c,OARPA,EAAM4hC,EAAkB5hC,GAEnB+iC,IACHA,GAAc,EACdL,EAAW5qC,OAAOsI,eAAeJ,GAAMlI,OAAO2E,oBAAoB3E,OAAOsI,eAAeJ,EAAIqgC,YAG/E,EAAA,EAAA,gBAAA,gBAAiBrgC,GACzBA,EAMT,SAASgjC,EAAkBpsC,GACnB,MAAA,EAAW,EAAA,YAAA,MAAO,CACtBA,IAAKA,IAST,SAASkrC,EAAgBD,EAAYF,GAC/BnM,IAAAA,EAAYmM,EAAW/kB,WAAWC,OAAOwY,sBAAsBwM,GAG3DrM,OAFHA,GAAWwN,EAAkBnB,GAE1BrM,EAAU/3B,MACX,IAAA,UAGHkkC,EAAWtB,OAAOxD,MAAMgF,GAAYoB,IAAI,MAExC,MAEG,IAAA,SAKHtB,EAAWtB,OAAOxD,MAAMgF,GAAYoB,GAAG,IACvC,MAEF,QACEtB,EAAWtB,OAAOxD,MAAMgF,GAAYoB,GAAG,OAU7C,SAASC,EAAiBX,GACpBA,OAAAA,EAAQxC,oBAAsBwC,EAAQ3lB,WAAWumB,mBAAmBC,QAW1E,SAAStC,EAAayB,GAcbA,OAbPA,EAAQrC,kBAAoBqC,EAAQrC,kBAAkB53B,KAAK,WAClD,OAAA,IAAIL,QAAQ,SAAUvP,GACpBiM,OAAAA,WAAWjM,EAAK,OAExB4P,KAAK,WACC+6B,OAAAA,EAAcd,KACpBj6B,KAAK,SAAUtI,GACT,OAAA,IAAIiI,QAAQ,SAAUvP,GACpBiM,OAAAA,WAAWjM,EAAK,KACtB4P,KAAK,WACCtI,OAAAA,MAGJuiC,EAAQrC,kBAQjB,SAASmD,EAAcd,GACjBA,GAAAA,EAAQ3lB,WAAWO,SAASmmB,UAAW,OAAO,EAE9CJ,GAAAA,EAAiBX,GAAU,OAAO,EAElCviC,IAAAA,GAAM,EACNujC,GAAa,EAQb,IANgC,IAAhChB,EAAQxC,qBAA2BwD,GAAa,IAM/CA,EAAY,CACXC,IAAAA,EAAqBjB,EAAQ3lB,WAAWumB,mBAAmBM,QAAQlB,EAAQxC,mBAAqB,GAEhGyD,GAAuB,OAAvBA,EAEFD,GAAa,MACR,CACLhB,EAAQxC,mBAAqBwC,EAAQ3lB,WAAWumB,mBAAmBC,QAE/DM,IAAAA,EAAkBnB,EAAQ3lB,WAAWumB,mBAAmBQ,kBAAkBH,GAE1EI,EAAerB,EAAQpC,qBAAqBnjB,mBAAmB0mB,IAE9DvsC,MAAMC,QAAQwsC,IAAiBA,IAElCL,GAAa,GAGXpsC,MAAMC,QAAQwsC,MAAkB,EAAUA,EAAAA,SAAAA,EAAcrB,EAAQjlB,gBAElEtd,GAAM,EAENuiC,EAAQ9B,eAAemD,KAMzBL,GAAAA,EAAY,CAEVM,IAAAA,EAActB,EAAQ3lB,WAAWumB,mBAAmBC,QACjDb,OAAAA,EAAQ5B,oBAAoBr4B,KAAK,SAAUo4B,GASzC1gC,OARPuiC,EAAQxC,mBAAqB8D,GAExB,EAAUnD,EAAAA,SAAAA,EAAe6B,EAAQjlB,gBACpCtd,GAAM,EAENuiC,EAAQ9B,eAAeC,IAGlB1gC,IAIJA,OAAAA,EAGF,SAASi0B,EAAa9qB,GACpBA,OAAAA,aAAe02B;;ACnHvB,aA5bD,SAASiE,EAAWtT,GAMVuT,IALJC,IAAAA,EACAC,EACAC,EAEAH,EADAI,EAAU3T,EAAS4T,SAASj/B,QAExB4+B,EAAOI,EAAQpkC,OAAQ,CACzBskC,IAAAA,EAAON,EAAKO,IACZC,EAAWF,EAAK,GAChBhL,EAAM0K,EAAK1K,IACXkL,GAAAA,EAAShtC,OACN,IAAA,IAAIF,EAAI,EAAGC,EAAMitC,EAAShtC,OAAQF,EAAIC,EAAKD,IAC9C8sC,EAAQ/lC,KAAK,CAACi7B,IAAKA,EAAM,EAAGiL,IAAKC,EAASltC,SAF1CktC,CAMA7P,IAAAA,IAAY2P,EAAK,GAAG3P,QACpBxqB,EAAKm6B,EAAK,GAETL,KAAcE,IAAmBxP,EAAUwP,EAC5CD,IAAe5K,EAAM4K,EAAa5K,EAAM2K,EAAY95B,KACtD85B,EAAY95B,EACZ+5B,EAAa5K,EACb6K,EAAiBxP,IAIduP,OAAAA,EAAa,IAAMD,EAO5B,SAASQ,EAAgBC,EAAM7gC,GAIrBmgC,IAHJI,IAEAJ,EAFAI,EAAUM,EAAKt/B,QAGX4+B,EAAOI,EAAQpkC,OAMhB,IALDs5B,IAAAA,EAAM0K,EAAK1K,IACXgL,EAAON,EAAKO,IACZC,EAAWF,EAAK,GAChBK,EACF9gC,EAA6B,IAApB2gC,EAAShtC,OAAc8hC,EAAKgL,EAAK,GAAIN,EAAKY,IAAKN,EAAK,IACtDhtC,EAAI,EAAGC,EAAMitC,EAAShtC,OAAQF,EAAIC,EAAKD,IAC9C8sC,EAAQ/lC,KAAK,CAACi7B,IAAKA,EAAM,EAAGiL,IAAKC,EAASltC,GAAIstC,IAAKD,IAKzD,SAASE,EAAUryB,EAAGC,GACbD,OAAAA,EAAE8mB,IAAM7mB,EAAE6mB,IAGnB,SAASwL,EAAcJ,GACjBK,IAAAA,EAAS,GACbN,EAAgBC,EAAM,SAAUM,EAAQ1L,EAAKnvB,EAAI86B,EAAKn7B,GAChDk7B,GACFD,EAAO1mC,KAAK,CAACmN,IAAK8tB,EAAM,IAAMnvB,EAAImvB,IAAKA,EAAKxvB,KAAMA,MAGtDi7B,EAAOjwB,KAAK+vB,GAAW7rB,UAClB,IAAA,IAAI1hB,EAAI,EAAGC,EAAMwtC,EAAOvtC,OAAQF,EAAIC,EAAKD,WACrCytC,EAAOztC,GAAGgiC,IAEZyL,OAAAA,EAMT,SAASG,EAAiBzU,GAInB,IAHD0U,IAAAA,EAAMpB,EAAWtT,GACjBsU,EAASD,EAAcrU,EAAS4T,UAChCe,EAAY,GACP9tC,EAAI,EAAGC,EAAMwtC,EAAOvtC,OAAQF,EAAIC,EAAKD,IAAK,CAC7C+tC,IAAAA,EAAON,EAAOztC,GACd+tC,EAAK75B,MAAQ25B,GAAQE,EAAKv7B,KAAK6qB,SACjCyQ,EAAU/mC,KAAKgnC,EAAK75B,KAGjB45B,OAAAA,EAKT,SAASE,EAAY7U,GACfiU,IAAAA,EAAO,GAQJA,OAPPD,EAAgBhU,EAAS4T,SAAU,SAAUW,EAAQ1L,EACRiM,EAASX,EAAK96B,GACrC,cAAhBA,EAAK5Q,QAA2B8rC,IAClCN,EAAKrmC,KAAKi7B,EAAM,IAAMiM,GACtBz7B,EAAK5Q,OAAS,aAGXwrC,EAIT,SAASc,EAAWd,GAIVV,IAHJ3nB,IAEA2nB,EAFA3nB,EAAQ,GACR+nB,EAAUM,EAAKt/B,QAEX4+B,EAAOI,EAAQpkC,OAAQ,CACzBs5B,IAAAA,EAAM0K,EAAK1K,IACXgL,EAAON,EAAKO,IACZp6B,EAAKm6B,EAAK,GACVx6B,EAAOw6B,EAAK,GACZE,EAAWF,EAAK,GAChBU,EAA6B,IAApBR,EAAShtC,OAElBiuC,EAAUzB,EAAKyB,QAAUzB,EAAKyB,QAAQrgC,QAAU,GACpDqgC,EAAQpnC,KAAK,CAAC8L,GAAIA,EAAIL,KAAMA,IACxBk7B,GACF3oB,EAAMhe,KAAK,CAACi7B,IAAMA,EAAM,EAAImM,EAAQjuC,OAAS+sC,IAAKkB,IAE/C,IAAA,IAAInuC,EAAI,EAAGC,EAAMitC,EAAShtC,OAAQF,EAAIC,EAAKD,IAC9C8sC,EAAQ/lC,KAAK,CAACi7B,IAAKA,EAAM,EAAGiL,IAAKC,EAASltC,GAAImuC,QAASA,IAGpDppB,OAAAA,EAAMrD,UAKf,SAAS0sB,EAAYlzB,EAAGC,GACfD,OAAAA,EAAE8mB,IAAM7mB,EAAE6mB,IAInB,SAASqM,EAAajmC,EAAKkmC,EAAMC,GAIxBC,IAHHA,IAEAC,EAFAD,EAAM,EACNE,EAAOtmC,EAAIlI,OAERsuC,EAAME,GAEPH,EAAWnmC,EADfqmC,EAAOD,EAAME,IAAU,GACEJ,GAAQ,EAC/BE,EAAMC,EAAM,EAEZC,EAAOD,EAGJD,OAAAA,EAIT,SAASG,EAAavmC,EAAKkmC,EAAMC,GAC3B5wB,IAAAA,EAAM0wB,EAAajmC,EAAKkmC,EAAMC,GAClCnmC,EAAIsc,OAAO/G,EAAK,EAAG2wB,GAMrB,SAASM,EAAWzqB,EAAM0qB,GAGnB,IAFDxrB,IAAAA,EACA0qB,EACK/tC,EAAI6uC,EAAY5uC,EAAMkkB,EAAKjkB,OAAQF,EAAIC,EAAKD,IAAK,CACpD0sC,IAAAA,EAAOvoB,EAAKnkB,GACZ8uC,EAAc,CAACpC,EAAK75B,GAAI65B,EAAKl6B,KAAM,IACnCu7B,GACFA,EAAK,GAAGhnC,KAAK+nC,GACbf,EAAOe,GAEPzrB,EAAO0qB,EAAOe,EAGXzrB,OAAAA,EAIT,SAAS0rB,EAAY7zB,EAAGC,GACfD,OAAAA,EAAE,GAAKC,EAAE,IAAM,EAAI,EAK5B,SAAS6zB,EAAUC,EAAUC,GAGpB/d,IAFHA,IAAAA,EAAQ,CAAC,CAACge,MAAOF,EAAUG,MAAOF,IAClCpB,GAAY,EACT3c,EAAMjxB,OAAS,GAAG,CACnBouC,IAAAA,EAAOnd,EAAMzoB,MACbymC,EAAQb,EAAKa,MACbC,EAAQd,EAAKc,OAEbD,EAAM,GAAGvtC,QAAUwtC,EAAM,GAAGxtC,UAC9ButC,EAAM,GAAGvtC,OACe,cAArButC,EAAM,GAAGvtC,QACU,cAApBwtC,EAAM,GAAGxtC,OAA0B,YAAc,WAGhD,IAAA,IAAI5B,EAAI,EAAGA,EAAIovC,EAAM,GAAGlvC,OAAQF,IAC/B,GAACmvC,EAAM,GAAG,GAAV,CAOC,IADDE,IAAAA,GAAS,EACJz7B,EAAI,EAAGA,EAAIu7B,EAAM,GAAGjvC,OAAQ0T,IAC/Bu7B,EAAM,GAAGv7B,GAAG,KAAOw7B,EAAM,GAAGpvC,GAAG,KACjCmxB,EAAMpqB,KAAK,CAACooC,MAAOA,EAAM,GAAGv7B,GAAIw7B,MAAOA,EAAM,GAAGpvC,KAChDqvC,GAAS,GAGRA,IACHvB,EAAY,aACZa,EAAaQ,EAAM,GAAIC,EAAM,GAAGpvC,GAAI+uC,SAdpCjB,EAAY,WACZqB,EAAM,GAAG,GAAKC,EAAM,GAAGpvC,GAiBtB,MAAA,CAAC8tC,UAAWA,EAAWd,KAAMiC,GAGtC,SAASK,EAAQtC,EAAM7oB,EAAMorB,GACvBC,IAGAnuC,EAHAmuC,EAAU,GACV1B,GAAY,EACZuB,GAAS,EAGT,IAACrC,EAAK9sC,OACD,MAAA,CAAC8sC,KAAM,CAAC7oB,GAAO2pB,UAAW,YAG9B,IAAA,IAAI9tC,EAAI,EAAGC,EAAM+sC,EAAK9sC,OAAQF,EAAIC,EAAKD,IAAK,CAC3CyvC,IAAAA,EAASzC,EAAKhtC,GACdyvC,GAAAA,EAAOzN,MAAQ7d,EAAK6d,KAAOyN,EAAOxC,IAAI,KAAO9oB,EAAK8oB,IAAI,GAGxD5rC,EAAM2tC,EAAUS,EAAOxC,IAAK9oB,EAAK8oB,KACjCuC,EAAQzoC,KAAK,CAACi7B,IAAKyN,EAAOzN,IAAKiL,IAAK5rC,EAAI2rC,OACxCc,EAAYA,GAAazsC,EAAIysC,UAC7BuB,GAAS,OACJ,IAAmB,IAAfE,EAAqB,CAM1BG,IAAAA,EAAKD,EAAOzN,IAAM7d,EAAK6d,IAAMyN,EAAStrB,EACtCwrB,EAAKF,EAAOzN,IAAM7d,EAAK6d,IAAM7d,EAAOsrB,EACpCG,EAAOD,EAAG3N,IAAM0N,EAAG1N,IAEnB6N,EAAmB,GAEnBC,EAAQ,GAELA,IADPA,EAAM/oC,KAAK,CAACkmC,IAAKyC,EAAGzC,IAAK2C,KAAMA,EAAM/gB,OAAQ,KAAMkhB,UAAW,OACvDD,EAAM5vC,OAAS,GAAG,CACnBouC,IAAAA,EAAOwB,EAAMpnC,MACb4lC,GAAc,IAAdA,EAAKsB,KAOJ,IADDI,IAAAA,EAAW1B,EAAKrB,IAAI,GACfr5B,EAAI,EAAGq8B,EAAcD,EAAS9vC,OAAQ0T,EAAIq8B,EAAar8B,IAC9Dk8B,EAAM/oC,KAAK,CACTkmC,IAAK+C,EAASp8B,GACdg8B,KAAMtB,EAAKsB,KAAO,EAClB/gB,OAAQyf,EAAKrB,IACb8C,UAAWn8B,SAXT06B,EAAKrB,IAAI,KAAO0C,EAAG1C,IAAI,IACzB4C,EAAiB9oC,KAAKunC,GAexB4B,IAAAA,EAAKL,EAAiB,GAErBK,GAGH7uC,EAAM2tC,EAAUkB,EAAGjD,IAAK0C,EAAG1C,KAC3BiD,EAAGrhB,OAAO,GAAGqhB,EAAGH,WAAa1uC,EAAI2rC,KACjCwC,EAAQzoC,KAAK,CAACi7B,IAAK0N,EAAG1N,IAAKiL,IAAKyC,EAAGzC,MACnCa,EAAYA,GAAazsC,EAAIysC,UAC7BuB,GAAS,GANTG,EAAQzoC,KAAK0oC,QASfD,EAAQzoC,KAAK0oC,GAWV,OANFJ,GACHG,EAAQzoC,KAAKod,GAGfqrB,EAAQhyB,KAAK4wB,GAEN,CACLpB,KAAMwC,EACN1B,UAAWA,GAAa,iBAK5B,SAASqC,EAAKnD,EAAMje,GAMb,IAJDhK,IACAqrB,EAEAxjC,EAHAmY,EAAQmpB,EAAWlB,GAIdhtC,EAAI,EAAGC,EAAM8kB,EAAM7kB,OAAQF,EAAIC,EAAKD,IAAK,CAG5CmkB,IAEAuoB,EAFAvoB,EAAOY,EAAM/kB,GACbqwC,EAAUlsB,EAAK8oB,IAEfoD,GAAAA,EAAQnwC,OAAS6uB,EAAO,CAErBqhB,IACHA,EAAc,IAEZvB,IAAAA,EAAawB,EAAQnwC,OAAS6uB,EAClC2d,EAAO,CACL1K,IAAK7d,EAAK6d,IAAM6M,EAChB5B,IAAK2B,EAAWyB,EAASxB,IAGtB,IAAA,IAAI32B,EAAI,EAAGA,EAAI22B,EAAY32B,IAAK,CAC/BhE,IAAAA,EAAOiQ,EAAK6d,IAAM9pB,EAAK,IAAMm4B,EAAQn4B,GAAGrF,GAC5Cu9B,EAAYl8B,IAAO,QAGrBw4B,EAAO,CACL1K,IAAK7d,EAAK6d,IACViL,IAAK2B,EAAWyB,EAAS,IAO3BzjC,EADEA,EACO0iC,EAAQ1iC,EAAQ8/B,GAAM,GAAMM,KAE5B,CAACN,GAYP,OAPH0D,GACFjD,EAAgBvgC,EAAQ,SAAU8gC,EAAQ1L,EAAKiM,UAEtCmC,EAAYpO,EAAM,IAAMiM,KAI5B,CACLjB,KAAMpgC,EACNwgC,KAAMgD,EAAc3vC,OAAOe,KAAK4uC,GAAe,IAInD,SAASnL,EAAM+H,EAAM7oB,EAAM4K,GACrBuhB,IAAAA,EAAUhB,EAAQtC,EAAM7oB,GACxBksB,EAAUF,EAAKG,EAAQtD,KAAMje,GAC1B,MAAA,CACLie,KAAMqD,EAAQrD,KACdoD,YAAaC,EAAQjD,KACrBU,UAAWwC,EAAQxC,WAKvB,SAASyC,EAAUnD,EAAMl5B,GAOfw4B,IANJI,IAKAJ,EALAI,EAAUM,EAAKt/B,QACf0iC,EAAWt8B,EAAIiE,MAAM,KACrBs4B,EAAYx7B,SAASu7B,EAAS,GAAI,IAClCE,EAAWF,EAAS,GAGhB9D,EAAOI,EAAQpkC,OAAQ,CACzBgkC,GAAAA,EAAK1K,MAAQyO,GAAa/D,EAAKO,IAAI,KAAOyD,EACrC,OAAA,EAGJ,IADDxD,IAAAA,EAAWR,EAAKO,IAAI,GACfjtC,EAAI,EAAGC,EAAMitC,EAAShtC,OAAQF,EAAIC,EAAKD,IAC9C8sC,EAAQ/lC,KAAK,CAACi7B,IAAK0K,EAAK1K,IAAM,EAAGiL,IAAKC,EAASltC,KAG5C,OAAA,EAGT,SAAS2wC,EAASjE,GACTA,OAAAA,EAAKO,IAMd,SAAS2D,EAAUzX,EAAUjlB,GACtBA,IACHA,EAAMu4B,EAAWtT,IAMX6T,IAJJn6B,IAGAm6B,EAHAn6B,EAAKqB,EAAIzU,UAAUyU,EAAI4E,QAAQ,KAAO,GACtCg0B,EAAU3T,EAAS4T,SAAS94B,IAAI08B,GAG5B3D,EAAOF,EAAQpkC,OAAQ,CACzBskC,GAAAA,EAAK,KAAOn6B,EACP,QAAEm6B,EAAK,GAAG3P,QAEnByP,EAAUA,EAAQznC,OAAO2nC,EAAK,KAIlC,SAAS6D,EAAUh+B,GACT,MAAA,UAAWgF,KAAKhF,GAI1B,SAASi+B,EAAO58B,EAAKilB,GAGXuT,IAFJI,IACAJ,EADAI,EAAU3T,EAAS4T,SAASj/B,QAExB4+B,EAAOI,EAAQpkC,OAAQ,CACzBs5B,IAAAA,EAAM0K,EAAK1K,IACXgL,EAAON,EAAKO,IACZp6B,EAAKm6B,EAAK,GACVx6B,EAAOw6B,EAAK,GACZE,EAAWF,EAAK,GAChBU,EAA6B,IAApBR,EAAShtC,OAElBiuC,EAAUzB,EAAKyB,QAAUzB,EAAKyB,QAAQrgC,QAAU,GAGhD4/B,GAFJS,EAAQpnC,KAAK,CAAC8L,GAAIA,EAAImvB,IAAKA,EAAKxvB,KAAMA,IAElCk7B,EACG,IAAA,IAAI1tC,EAAI,EAAGC,EAAMkuC,EAAQjuC,OAAQF,EAAIC,EAAKD,IAAK,CAC9C+wC,IAAAA,EAAc5C,EAAQnuC,GAGtBgxC,GAFaD,EAAY/O,IAAM,IAAM+O,EAAYl+B,KAElCqB,EAEV8tB,OAAAA,EAAM,IAAMnvB,EAKpB,IAAA,IAAIe,EAAI,EAAGq9B,EAAI/D,EAAShtC,OAAQ0T,EAAIq9B,EAAGr9B,IAC1Ck5B,EAAQ/lC,KAAK,CAACi7B,IAAKA,EAAM,EAAGiL,IAAKC,EAASt5B,GAAIu6B,QAASA,IAKrD,MAAA,IAAIpsC,MAAM,4CAA8Co3B,EAAStmB,GAAK,SAAWqB,GACxF,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,iBAAA,EAAA,QAAA,cAAA,EAAA,QAAA,YAAA,EAAA,QAAA,UAAA,EAAA,QAAA,UAAA,EAAA,QAAA,MAAA,EAAA,QAAA,UAAA,EAAA,QAAA,WAAA,EAAA,QAAA,gBAAA,EAAA,QAAA,WAAA,EAAA,QAAA,OAAA;;AE1bD,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,gBAAA,QAAA,QAAA,QAAA,WAAA,EALA,IAAIgH,EAAgC,oBAApBg2B,gBACVA,gBACA,WAAqB,MAAA,CAACC,MAAO,eAGnC,QAAA,gBAAA,EADA,IAAI35B,EAAI45B,MACR,QAAA,MAAA,EAAA,IAAIrZ,EAAIsZ,QAAR,QAAA,QAAA;;ACyHeC,aAAAA,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EAhIf,IAAA,EAAA,QAAA,kBACA,EAAA,QAAA,yBACA,EAAA,QAAA,iBAEA,SAASC,EAAWjxB,GACX,OAAA,EAAU,EAAA,WAAA,yBAA2BA,EAAQ,IAAK,IAG3D,SAASkxB,EAASlxB,GACZ+V,IAAAA,EAAO,CACT,yBACA,kBACA,yBACA,iCACA,sBACA,OACA,gBAAkB/V,EAAQ,IAC1B,eACA,mBACA,mBACA,MACA,MACAhI,KAAK,MAEA,OAAA,EAAU+d,EAAAA,WAAAA,EAAM,IAGzB,SAAS4J,EAASztB,EAAMjG,GAClBiG,GAAAA,EAAK4M,UACH5M,EAAK2B,QAA0B,cAAhB3B,EAAK2B,OAAwB,CAC1Cs9B,IAAAA,EAAoC,iBAAhBj/B,EAAK2B,OAC3B3B,EAAK2B,OAAS,WACT5H,OAAAA,EAAS,IAAIxK,MAAM,gCAAkC0vC,EAAa,MAG7EllC,IAGF,SAAS82B,EAAU7wB,GACbA,EAAKk/B,OAASl/B,EAAK2B,SACrB3B,EAAK2B,OAAS,SAGZ3B,EAAK4M,WAAa5M,EAAK2B,SACzB3B,EAAK2B,OAAS,aAGZ3B,EAAK2B,QAAiC,iBAAhB3B,EAAK2B,SACT,UAAhB3B,EAAK2B,OACP3B,EAAKk/B,MAAO,EAA0Bl/B,EAAAA,2BAAAA,EAAKk/B,MAE3Cl/B,EAAK2B,QAAS,EAA0B3B,EAAAA,2BAAAA,EAAK2B,SAKnD,SAASw9B,EAAaC,EAAgBp/B,GAC7BA,OAAAA,EAAK2B,QAAiC,iBAAhB3B,EAAK2B,SAC/B3B,EAAKq/B,WAAY,EAASD,EAAAA,UAAAA,EAAer/B,IAG9C,SAAS4B,EAAOy9B,EAAgBp/B,GAC1BjG,IAAAA,EAAWiG,EAAKs/B,SAChBt/B,GAAgB,UAAhBA,EAAK2B,OAAoB,CACvB,IAAC3B,EAAKk/B,MAA6B,iBAAdl/B,EAAKk/B,KAAmB,CAC3CvtC,IAAAA,GAAM,EAAYhB,EAAAA,aAAAA,EAAZ,YACR,iDACKoJ,OAAAA,EAASpI,GAGd4tC,IAAAA,GAAW,EAAsBv/B,EAAAA,uBAAAA,EAAKk/B,MAC1CE,EAAer/B,GAAGxR,IAAI,WAAagxC,EAAS,GAAI,SAAU5tC,EAAK6tC,GAEzDJ,GAAAA,EAAeK,YACV1lC,OAAAA,EAAS,KAAM,CAAC3K,OAAQ,cAG7BuC,GAAAA,EACKoI,OAAAA,GAAS,EAA0BpI,EAAAA,2BAAAA,IAExC+tC,IAAAA,EAASF,GAAQA,EAAKG,OAASH,EAAKG,MAAMJ,EAAS,KACrDC,EAAKG,MAAMJ,EAAS,IAAI99B,IACtB,IAACi+B,EACI3lC,OAAAA,GAAS,EAAY/J,EAAAA,aAAAA,EAAZ,YACbwvC,EAAKG,MAAQ,qBAAuBJ,EAAS,GAC5C,4BAENv/B,EAAK2B,OAASq9B,EAASU,GACvBN,EAAeQ,UAAU5/B,UAEtB,GAAIA,EAAK4M,SACd5M,EAAK2B,OAAS,SAAUqC,GACf,OAAA,EAAgBA,EAAAA,iBAAAA,EAAKhE,EAAK4M,WAEnCwyB,EAAeQ,UAAU5/B,OACpB,CAEDi/B,IAAAA,GAAa,EAAsBj/B,EAAAA,uBAAAA,EAAK2B,QAC5Cy9B,EAAer/B,GAAGxR,IAAI,WAAa0wC,EAAW,GAAI,SAAUttC,EAAK6tC,GAE3DJ,GAAAA,EAAeK,YACV1lC,OAAAA,EAAS,KAAM,CAAC3K,OAAQ,cAG7BuC,GAAAA,EACKoI,OAAAA,GAAS,EAA0BpI,EAAAA,2BAAAA,IAExCkuC,IAAAA,EAAYL,GAAQA,EAAKM,SAAWN,EAAKM,QAAQb,EAAW,IAC5D,IAACY,EACI9lC,OAAAA,GAAS,EAAY/J,EAAAA,aAAAA,EAAZ,YACZwvC,GAAQA,EAAKM,QAAW,qBAAuBb,EAAW,GACxD,8BAERj/B,EAAK2B,OAASo9B,EAAWc,GACzBT,EAAeQ,UAAU5/B,MAK/B,SAAS8+B,EAAyBiB,GAChCA,EAAQC,qBAAuB,CAC7BvS,SAAUA,EACVoD,UAAWA,EACXsO,aAAcA,EACdx9B,OAAQA,GAIGm9B,IAAAA,EAAAA,EAAAA,QAAAA,QAAAA;;AC8xCAiB,aAAAA,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EA95Cf,IAAA,EAAA,QAAA,uBACA,EAAA,EAAA,QAAA,cACA,EAAA,QAAA,iBACA,EAAA,QAAA,kBACA,EAAA,QAAA,iBACA,EAAA,EAAA,QAAA,aACA,EAAA,QAAA,UACA,EAAA,QAAA,iBACA,EAAA,EAAA,QAAA,2BAs5CeA,SAAAA,EAAAA,GAAAA,OAAAA,GAAAA,EAAAA,WAAAA,EAAAA,CAAAA,QAAAA,GAl5Cf,SAASE,EAAyBhiC,EAAMsG,EAAQ27B,EAASC,GAEnD,IACFliC,EAAK5J,KAAK,SAAUkQ,EAAQ27B,EAASC,GACrC,MAAO/nC,IACQ,EAAA,EAAA,gBAAA,QAAS,oCAAqCA,IAIjE,SAASgK,EAAQrC,EAAIC,EAAMjG,GACZvK,EAAAA,aAAAA,KAAK,MACdyO,IAAAA,EAAO,KACN8B,KAAAA,GAAKA,EAENu/B,IAAAA,GADJt/B,EAAOA,GAAO,EAAMA,EAAAA,OAAAA,GAAQ,IACRs/B,UAAW,EAAK,EAAA,MAAA,SAAU3tC,EAAK4M,GAC7C5M,GACE,EAAcsM,EAAAA,eAAAA,EAAM,SAAW,GACjCA,EAAK5J,KAAK,QAAS1C,GAGrBsM,EAAK5J,KAAK,WAAYkK,GAExBN,EAAKzG,qBACLuI,EAAG/K,eAAe,YAAaorC,KAQxBA,SAAAA,IACPniC,EAAKoiC,SAPHtmC,IACFkE,EAAKjH,GAAG,WAAY,SAAUuH,GAC5BxE,EAAS,KAAMwE,KAEjBN,EAAKjH,GAAG,QAAS+C,IAKnBgG,EAAG7I,KAAK,YAAakpC,GAErBpgC,EAAKuD,SAAW,SAAUgB,EAAQ27B,EAASC,GAErCliC,EAAKwhC,aAGTQ,EAAyBhiC,EAAMsG,EAAQ27B,EAASC,IAG9ChiC,IAAAA,EAAU,IAAIC,QAAQ,SAAUC,EAASC,GAC3C0B,EAAKs/B,SAAW,SAAU3tC,EAAK9C,GACzB8C,EACF2M,EAAO3M,GAEP0M,EAAQxP,MAIdoP,EAAK/G,KAAK,SAAU,WAClB6I,EAAG/K,eAAe,YAAaorC,GAC/BpgC,EAAKs/B,SAAS,KAAM,CAAClwC,OAAQ,gBAE1BqP,KAAAA,KAAON,EAAQM,KAAKpJ,KAAK8I,GACzB,KAAL,MAAgBA,EAAO,MAAU9I,KAAK8I,GACjCM,KAAAA,KAAK,SAAUrE,GAClBklC,EAAS,KAAMllC,IACdklC,GAIEv/B,EAAGd,UAAUC,QAWhBjB,EAAKqiC,gBAAgBtgC,GAVrBD,EAAGd,UAAUE,QAAQ,SAAUC,GACzBA,EACFY,EAAKs/B,SAASlgC,GACLnB,EAAKwhC,YACdxhC,EAAK5J,KAAK,UAEV4J,EAAKqiC,gBAAgBtgC,KAa7B,SAASugC,EAAcv8B,EAAK2iB,EAAU3mB,GAChCwgC,IAAAA,EAAa,CAAC,CAAC9+B,IAAKsC,EAAImD,OACT,aAAfnH,EAAKygC,QACPD,GAAa,EAAc7Z,EAAAA,eAAAA,EAAS4T,UACnC94B,IAAI,SAAU9B,GAAY,MAAA,CAAC+B,IAAK/B,EAAE+B,QAEjC6C,IAAAA,EAAS,CACXlE,GAAIsmB,EAAStmB,GACb6C,QAASs9B,EACTx8B,IAAKA,GAYAO,OATH,EAAUoiB,EAAAA,WAAAA,EAAU3iB,EAAImD,QAC1B5C,EAAOsmB,SAAU,GAEf7qB,EAAKs7B,YACP/2B,EAAOP,IAAI08B,YAAa,EAAiB/Z,EAAAA,kBAAAA,GACpCpiB,EAAOP,IAAI08B,WAAWhzC,eAClB6W,EAAOP,IAAI08B,YAGfn8B,EAyFT,SAASuH,EAAQC,EAAMC,GACdD,OAAAA,EAAOC,GAAS,EAAID,EAAOC,EAAQ,EAAI,EAKhD,SAAS20B,EAAU5mC,EAAUoH,GACpB,OAAA,SAAUxP,EAAKgP,GAChBhP,GAAQgP,EAAQ,IAAMA,EAAQ,GAAGtR,QACnCsC,EAAMA,GAAOgP,EAAQ,IACjBQ,MAAQA,EACZpH,EAASpI,IAEToI,EAAS,KAAM4G,EAAQjT,OAASiT,EAAQ,GAAMA,IAMpD,SAASigC,EAAU1gC,GACZ,IAAA,IAAI1S,EAAI,EAAGA,EAAI0S,EAAKxS,OAAQF,IAAK,CAChCwW,IAAAA,EAAM9D,EAAK1S,GACXwW,GAAAA,EAAI+lB,gBACC/lB,EAAIY,kBACN,GAAIZ,EAAIY,aAGR,IADDi8B,IAAAA,EAAO5yC,OAAOe,KAAKgV,EAAIY,cAClBxD,EAAI,EAAGA,EAAIy/B,EAAKnzC,OAAQ0T,IAAK,CAChCuD,IAAAA,EAAMk8B,EAAKz/B,GACf4C,EAAIY,aAAaD,IAAO,EAAKX,EAAAA,MAAAA,EAAIY,aAAaD,GAC5C,CAAC,OAAQ,SAAU,eAAgB,SAAU,SAAU,WAOjE,SAASm8B,EAAmBp4B,EAAGC,GACzBo4B,IAAAA,EAAYj1B,EAAQpD,EAAEpB,IAAKqB,EAAErB,KAC7By5B,OAAc,IAAdA,EACKA,EAIFj1B,EAFMpD,EAAEs4B,WAAat4B,EAAEs4B,WAAW7lC,MAAQ,EACpCwN,EAAEq4B,WAAar4B,EAAEq4B,WAAW7lC,MAAQ,GAMnD,SAAS8lC,EAAcrG,GACjBsG,IAAAA,EAAS,GACTC,EAAQ,GAoBLD,OAnBStG,EAAAA,EAAAA,iBAAAA,EAAM,SAAUM,EAAQ1L,EAAKnvB,EAAI+gC,GAC3CC,IAAAA,EAAS7R,EAAM,IAAMnvB,EAOlBghC,OANHnG,IACFgG,EAAOG,GAAU,QAEN5vC,IAAT2vC,GACFD,EAAM5sC,KAAK,CAACm+B,KAAM0O,EAAMx9B,GAAIy9B,IAEvBA,IAGTF,EAAMjyB,UACNiyB,EAAMryC,QAAQ,SAAUwyC,QACI7vC,IAAtByvC,EAAOI,EAAK5O,MACdwO,EAAOI,EAAK5O,MAAQ,EAAIwO,EAAOI,EAAK19B,IAEpCs9B,EAAOI,EAAK5O,MAAQ32B,KAAKC,IAAIklC,EAAOI,EAAK5O,MAAO,EAAIwO,EAAOI,EAAK19B,OAG7Ds9B,EAGT,SAASK,EAAiBvhC,GACpBhR,IAAAA,EAAS,UAAWgR,EACtBA,EAAKhR,KAAKsM,MAAM0E,EAAKmP,KAAMnP,EAAKoP,MAAQpP,EAAKmP,MAC5CnP,EAAKmP,KAAO,EAAKnP,EAAKhR,KAAKsM,MAAM0E,EAAKmP,MAAQnP,EAAKhR,KACtDgR,EAAKhR,KAAOA,EACZgR,EAAKmP,KAAO,SACLnP,EAAKoP,MACRpP,EAAKwhC,aACPxyC,EAAKkgB,UACLlP,EAAKwhC,YAAa,GAMtB,SAASC,EAAiBxjC,GACpByjC,IAAAA,EAAOzjC,EAAK0jC,iBAAiB,GAC7B3hC,EAAO0hC,EAAK1hC,KACZjG,EAAW2nC,EAAK3nC,SACpBkE,EAAK1P,IAAI,qBAAqBqzC,MAAM,WAC3B,OAAA,IACNnjC,KAAK,SAAUuF,GACZA,GAAOA,EAAI69B,WACb7hC,EAAK6hC,SAAW79B,EAAI69B,UAEtB5jC,EAAK6jC,SAAS9hC,EAAM,SAAUrO,EAAK9C,GAE7B8C,EACFoI,EAASpI,GAEToI,EAAS,KAAMlL,IAER,EAAA,EAAA,UAAA,WACPoP,EAAK0jC,iBAAiBrqC,QAClB2G,EAAK0jC,iBAAiBj0C,QACxB+zC,EAAiBxjC,SAO3B,SAAS8jC,EAAoBtyC,GACvBA,MAAmB,MAAnBA,EAAKkxB,OAAO,IACPlxB,EAAO,0EAQlB,SAASuyC,IAIF,IAAA,IAAIxwC,KAHIhC,EAAAA,aAAAA,KAAK,MAGJwyC,EAAgB1zC,UACL,mBAAZ,KAAKkD,KACTA,KAAAA,GAAK,KAAKA,GAAG6D,KAAK,OA6xB7B,SAAS4sC,IACF/iC,KAAAA,SAAU,EACVE,KAAAA,QAAS,EACTuf,KAAAA,MAAQ,GAkCf,SAASujB,EAAazyC,EAAMuQ,GACtBmF,IAAAA,EAAQ1V,EAAK0V,MAAM,sBACnBA,GAAAA,EAEK,MAAA,CACL1V,KAAM,SAAS4V,KAAKF,EAAM,IAAMA,EAAM,GAAK,MAAQA,EAAM,GAAKA,EAAM,GACpE6c,QAAS7c,EAAM,IAIfg9B,IAAAA,EAAWpC,EAAQoC,SACnBC,EAAoBrC,EAAQqC,kBAC5BC,EAAStC,EAAQsC,OACjBC,EAActiC,EAAKgiB,QAEnB,IAACsgB,EACE,IAAA,IAAI90C,EAAI,EAAGA,EAAI40C,EAAkB10C,SAIhB,SAHpB40C,EAAcF,EAAkB50C,KAGH,WAAY20C,IACrC,EADA,EAAA,oBACqBrgC,aAAa,oBAAsBugC,EAAS5yC,MALvBjC,GAO7B,EAAA,EAAA,gBAAA,MAAO,2BAA6BiC,EAAO,8EAQ5DuyB,IAAAA,EAAUmgB,EAASG,GAMhB,MAAA,CACL7yC,OAJeuyB,GAAW,eAAgBA,IAC1CA,EAAQugB,WAGWF,EAAS5yC,EAAQA,EACpCuyB,QAASsgB,GAcb,SAASE,EAAsBvkC,GAEpBwkC,SAAAA,EAAYC,GACnBzkC,EAAKjJ,eAAe,SAAU2tC,GACzBD,GACHzkC,EAAKV,YAAYlJ,KAAK,YAAa4J,EAAKxO,MAInCkzC,SAAAA,IACP1kC,EAAKjJ,eAAe,YAAaytC,GACjCxkC,EAAKV,YAAYlJ,KAAK,QAAS4J,GAGjCA,EAAK/G,KAAK,YAAaurC,GACvBxkC,EAAK/G,KAAK,SAAUyrC,GACpB1kC,EAAKV,YAAYlJ,KAAK,MAAO4J,GAI/B,SAAS8hC,EAAQtwC,EAAMuQ,GAGjB,KAAE,gBAAgB+/B,GACb,OAAA,IAAIA,EAAQtwC,EAAMuQ,GAGvB/B,IAAAA,EAAO,KAkBP,GAjBJ+B,EAAOA,GAAQ,GAEXvQ,GAAwB,iBAATA,IAEjBA,GADAuQ,EAAOvQ,GACKA,YACLuQ,EAAKvQ,WAGkBgC,IAA5BuO,EAAKyH,qBACPzH,EAAKyH,oBAAqB,GAGvBm7B,KAAAA,OAAS5iC,GAAO,EAAMA,EAAAA,OAAAA,GAE3B/B,EAAK4kC,gBAAkB7iC,EAAK6iC,gBAC5B5kC,EAAKokC,OAAStC,EAAQsC,OAEF,iBAAT5yC,EACH,MAAA,IAAIF,MAAM,2BAGduzC,IACAC,EAAUb,GADMliC,EAAKqiC,QAAU,IAAM5yC,EACAuQ,GASrC,GAPJA,EAAKvQ,KAAOszC,EAAQtzC,KACpBuQ,EAAKgiB,QAAUhiB,EAAKgiB,SAAW+gB,EAAQ/gB,QAEvC/jB,EAAKxO,KAAOA,EACZwO,EAAKmlB,SAAWpjB,EAAKgiB,QACrB+d,EAAQ1rC,KAAK,QAAS,CAAC,UAAW,mBAAoB2L,EAAKgiB,WAEtD+d,EAAQoC,SAASniC,EAAKgiB,WACtB+d,EAAQoC,SAASniC,EAAKgiB,SAASghB,QAC5B,MAAA,IAAIzzC,MAAM,oBAAsByQ,EAAKgiB,SAG7CggB,EAAgBxyC,KAAKyO,GACrBA,EAAKgB,UAAY,IAAIgjC,EAErBhkC,EAAK+jB,QAAUhiB,EAAKgiB,QAEpB+d,EAAQoC,SAASniC,EAAKgiB,SAASxyB,KAAKyO,EAAM+B,EAAM,SAAUrO,GACpDA,GAAAA,EACKsM,OAAAA,EAAKgB,UAAUgkC,KAAKtxC,GAE7B6wC,EAAsBvkC,GAEtBA,EAAK5J,KAAK,UAAW4J,GACrB8hC,EAAQ1rC,KAAK,UAAW4J,EAAKxO,MAC7BwO,EAAKgB,UAAUikC,MAAMjlC,MA7wCzB,EAASmE,EAAAA,SAAAA,EAASnP,EAAlB,cAiFAmP,EAAQ9T,UAAU+xC,OAAS,WACpBZ,KAAAA,aAAc,EACf,KAAK1/B,GAAGd,UAAUC,SACf7K,KAAAA,KAAK,WA2Bd+N,EAAQ9T,UAAUgyC,gBAAkB,SAAUtgC,GACxCjG,IAAAA,EAAWiG,EAAKs/B,SAChBrhC,EAAO,KAGP8hC,EAAQC,qBACVD,EAAQC,qBAAqBvS,SAASztB,EAAM,SAAUrO,GAChDA,GAAAA,EACKoI,OAAAA,EAASpI,GAElBsM,EAAK2hC,UAAU5/B,KAGjB/B,EAAK2hC,UAAU5/B,IAInBoC,EAAQ9T,UAAUsxC,UAAY,SAAU5/B,GAClC/B,IAAAA,EAAO,KACPlE,EAAWiG,EAAKs/B,SAchBt/B,GAXA,SADJA,GAAO,EAAMA,EAAAA,OAAAA,OACW,eAAgBA,KACtCA,EAAKmjC,WAAanjC,EAAKojC,MAEzBpjC,EAAKugC,cAAgBA,EAEF,WAAfvgC,EAAKqD,QACPrD,EAAKqD,MAAQ,OAEVrD,EAAKqD,QACRrD,EAAKqD,MAAQ,GAEI,QAAfrD,EAAKqD,MAALrD,CAcA+/B,GAAAA,EAAQC,sBAEND,GADJA,EAAQC,qBAAqBnP,UAAU7wB,GACnC+/B,EAAQC,qBAAqBb,aAAa,KAAMn/B,GAC3C+/B,OAAAA,EAAQC,qBAAqBr+B,OAAO,KAAM3B,OAGlD,CAAA,UAAW,SAAU,WAAY,QAAQlR,QAAQ,SAAU/B,GACtDA,KAAOiT,IACM,EAAA,EAAA,gBAAA,OACb,QAAUjT,EAAM,wKAQlB,eAAgBiT,IACpBA,EAAKwhC,YAAa,GAIpBxhC,EAAKoP,MAAuB,IAAfpP,EAAKoP,MAAc,EAAIpP,EAAKoP,MACzCpP,EAAKs/B,SAAWvlC,EACZspC,IAAAA,EAAa,KAAKtjC,GAAGujC,SAAStjC,GAE9BqjC,GAAAA,GAA2C,mBAAtBA,EAAWhD,OAAuB,CACrDA,IAAAA,EAASpiC,EAAKoiC,OAClBpiC,EAAKoiC,QAAS,EAAa,EAAA,SAAA,SAAUjuC,GACnCixC,EAAWhD,SACXA,EAAOpuC,MAAM,KAAMG,WA3ChB2N,KAAAA,GAAGa,OAAOnC,KAAK,SAAUmC,GAExB3C,EAAKwhC,YACP1lC,EAAS,KAAM,CAAC3K,OAAQ,eAG1B4Q,EAAKqD,MAAQzC,EAAK2iC,WAClBtlC,EAAK2hC,UAAU5/B,KACdjG,KAwKP,EAASioC,EAAAA,SAAAA,EAAiB/uC,EAA1B,cAaA+uC,EAAgB1zC,UAAUk1C,MACxB,EAAW,EAAA,YAAA,OAAQ,SAAUx/B,EAAKhE,EAAMjG,GAKpC,GAJgB,mBAATiG,IACTjG,EAAWiG,EACXA,EAAO,IAEU,iBAARgE,GAAoB1W,MAAMC,QAAQyW,GACpCjK,OAAAA,GAAS,EAAYnJ,EAAAA,aAAAA,EAAZ,gBAEb6yC,KAAAA,SAAS,CAACvjC,KAAM,CAAC8D,IAAOhE,EAAM2gC,EAAU5mC,EAAUiK,EAAIsD,QAG7D06B,EAAgB1zC,UAAUkZ,KAAM,EAAW,EAAA,YAAA,MAAO,SAAUxD,EAAKhE,EAAMjR,GAKjE,GAJgB,mBAATiR,IACTjR,EAAKiR,EACLA,EAAO,IAEU,iBAARgE,GAAoB1W,MAAMC,QAAQyW,GACpCjV,OAAAA,GAAG,EAAY6B,EAAAA,aAAAA,EAAZ,gBAGR,IADWoT,EAAAA,EAAAA,gBAAAA,EAAIsD,MACf,EAAUtD,EAAAA,WAAAA,EAAIsD,MAAkC,mBAAnB,KAAKo8B,UAChC1/B,OAAAA,EAAI+lB,SACC,KAAK4Z,aAAa3/B,EAAKjV,GAEvB,KAAK20C,UAAU1/B,EAAKjV,GAG3BkP,IAYEhG,EACA2rC,EAGAC,EACAC,EAjBF7lC,EAAO,KA0BF8lC,SAAAA,EAAO1nC,GACW,mBAAd4B,EAAK+lC,OAA0C,IAAnBhkC,EAAKikC,UAC1ChmC,EAAK+lC,KAAKhgC,EAAKhE,EAAM3D,GAErB4B,EAAKwlC,SAAS,CAACvjC,KAAM,CAAC8D,IAAOhE,EAAM2gC,EAAUtkC,EAAM2H,EAAIsD,MA7BvDtH,EAAKkkC,OAASlgC,EAAImD,MAWhBlP,EAAQ+L,EAAImD,KAAKxB,MAAM,KACvBi+B,EAAW3rC,EAAM,GAGjB4rC,EAFYphC,SAASxK,EAAM,GAAI,IAEP,EACxB6rC,GAAW,EAAf,EAAA,OAEA9/B,EAAIg9B,WAAa,CACf7lC,MAAO0oC,EACPpJ,IAAK,CAACqJ,EAAUF,IAElB5/B,EAAImD,KAAO08B,EAAY,IAAMC,EAC7B9jC,EAAKikC,WAAY,EArBjBF,EAAO,SAAUpyC,GACXyI,IAAAA,EAASzI,EAAM,KAAO,CAACkO,IAAI,EAAMQ,GAAI2D,EAAIsD,IAAK5F,IAAKsC,EAAImD,MAC3DpY,EAAG4C,EAAKyI,MAGV2pC,EAAOh1C,KA2BXizC,EAAgB1zC,UAAUq+B,eACxB,EAAW,EAAA,YAAA,gBAAiB,SAAUxrB,EAAOgjC,EAAc9C,EACfvnC,EAAMlG,GAC9CwwC,IAAAA,EAAM,KAiBDC,SAAAA,EAAiBrgC,GACpBsgC,IAAAA,EAAa,SAAUtgC,EAAMvB,SAASuB,EAAImD,KAAM,IAAM,EAOnDi9B,OANPpgC,EAAIY,aAAeZ,EAAIY,cAAgB,GACvCZ,EAAIY,aAAau/B,GAAgB,CAC/BI,aAAc3wC,EACdhC,KAAMkI,EACN0qC,SAAUF,GAELF,EAAI58B,IAAIxD,GAGVogC,MA3Ba,mBAATxwC,IACTA,EAAOkG,EACPA,EAAOunC,EACPA,EAAS,WAIS,IAATztC,IACTA,EAAOkG,EACPA,EAAOunC,EACPA,EAAS,MAENztC,IACY,EAAA,EAAA,gBAAA,OAAQ,aAAcuwC,EAAc,cAAehjC,EAAO,2BAcpEijC,EAAI71C,IAAI4S,GAAO1C,KAAK,SAAUuF,GAC/BA,GAAAA,EAAImD,OAASk6B,EACT,MAAA,EAAYpxC,EAAAA,aAAAA,EAAZ,cAGDo0C,OAAAA,EAAiBrgC,IACvB,SAAUrS,GAGPA,GAAAA,EAAIrC,SAAWU,EAAYN,YAAAA,QACtB20C,OAAAA,EAAiB,CAAC/8B,IAAKnG,IAExBxP,MAAAA,MAKZqwC,EAAgB1zC,UAAUm2C,kBACxB,EAAW,EAAA,YAAA,mBAAoB,SAAUtjC,EAAOgjC,EAAc9C,EACftnC,GAC3CkE,IAAAA,EAAO,KACXA,EAAK1P,IAAI4S,EAAO,SAAUxP,EAAK2N,GAEzB3N,GAAAA,EACFoI,EAASpI,QAGP2N,GAAAA,EAAI6H,OAASk6B,EAAb/hC,CAKA,IAACA,EAAIsF,aACA7K,OAAAA,WAEFuF,EAAIsF,aAAau/B,GACqB,IAAzCl2C,OAAOe,KAAKsQ,EAAIsF,cAAclX,eACzB4R,EAAIsF,aAEb3G,EAAKuJ,IAAIlI,EAAKvF,QAXZA,GAAS,EAAY9J,EAAAA,aAAAA,EAAZ,mBAef+xC,EAAgB1zC,UAAUu/B,QACxB,EAAW,EAAA,YAAA,SAAU,SAAU6W,EAASC,EAAW3kC,EAAMjG,GACrDiK,IAAAA,EACqB,iBAAd2gC,GAET3gC,EAAM,CACJsD,IAAKo9B,EACLv9B,KAAMw9B,GAEY,mBAAT3kC,IACTjG,EAAWiG,EACXA,EAAO,MAITgE,EAAM0gC,EACmB,mBAAdC,GACT5qC,EAAW4qC,EACX3kC,EAAO,KAEPjG,EAAWiG,EACXA,EAAO2kC,KAGX3kC,EAAOA,GAAQ,IACV4kC,YAAa,EACdx9B,IAAAA,EAAS,CAACE,IAAKtD,EAAIsD,IAAKH,KAAOnD,EAAImD,MAAQnH,EAAK0B,IACpD0F,UAAkB,GACd,IAAA,EAAUA,EAAAA,WAAAA,EAAOE,MAAqC,mBAAtB,KAAKq8B,aAChC,OAAA,KAAKA,aAAa3/B,EAAKjK,GAE3B0pC,KAAAA,SAAS,CAACvjC,KAAM,CAACkH,IAAUpH,EAAM2gC,EAAU5mC,EAAUqN,EAAOE,QAGnE06B,EAAgB1zC,UAAUu2C,UACxB,EAAW,EAAA,YAAA,WAAY,SAAU5gC,EAAKjE,EAAMjG,GACxB,mBAATiG,IACTjG,EAAWiG,EACXA,EAAO,IAELy6B,IAAAA,EAAMxsC,OAAOe,KAAKiV,GAElB,IAACw2B,EAAI/sC,OACAqM,OAAAA,EAAS,KAAM,IAGpBnF,IAAAA,EAAQ,EACRkwC,EAAU,IAAIh3C,EAAJ,IAELi3C,SAAAA,EAAa1kC,EAAI2kC,GACnBF,EAAQn2C,IAAI0R,IACfykC,EAAQr2C,IAAI4R,EAAI,CAACykC,QAAS,KAE5BA,EAAQv2C,IAAI8R,GAAIykC,QAAQvwC,KAAKywC,GA4B/BvK,EAAIh5B,IAAI,SAAUpB,GACX4kC,KAAAA,iBAAiB5kC,EAAI,SAAU1O,EAAK4oC,GACnC5oC,GAAAA,GAAsB,MAAfA,EAAIvC,QAAkC,YAAhBuC,EAAIjC,QACnCo1C,EAAQr2C,IAAI4R,EAAI,CAACykC,QAAS7gC,EAAI5D,SACzB,CAAA,GAAI1O,EAEFoI,OAAAA,EAASpI,IA/BbuzC,SAAW7kC,EAAIk6B,GAElB4K,IAAAA,EAAelhC,EAAI5D,GAAI/E,MAAM,IACjBi/B,EAAAA,EAAAA,iBAAAA,EAAU,SAAUW,EAAQ1L,EAAKiM,EAASX,EACxD96B,GACMqhC,IAAAA,EAAS7R,EAAM,IAAMiM,EACrBtwB,EAAMg6B,EAAa7+B,QAAQ+6B,IAClB,IAATl2B,IAIJg6B,EAAajzB,OAAO/G,EAAK,GAEL,cAAhBnL,EAAK5Q,QACP21C,EAAa1kC,EAAIghC,MAMvB8D,EAAar2C,QAAQ,SAAUuyC,GAC7B0D,EAAa1kC,EAAIghC,KAYf6D,CAAW7kC,EAAIk6B,GAGb,KAAE3lC,IAAU6lC,EAAI/sC,OAAQ,CAEtB03C,IAAAA,EAAa,GAIVrrC,OAHP+qC,EAAQh2C,QAAQ,SAAUJ,EAAO3B,GAC/Bq4C,EAAWr4C,GAAO2B,IAEbqL,EAAS,KAAMqrC,OAGzB,QAULpD,EAAgB1zC,UAAUwR,SACxB,EAAW,EAAA,YAAA,UAAW,SAAUE,EAAMjG,IAC1B,EAAA,EAAA,aAAA,KAAMiG,EAAMjG,KAM1BioC,EAAgB1zC,UAAU+2C,iBACxB,EAAW,EAAA,YAAA,kBAAmB,SAAUlkC,EAAOmkC,EAAWvrC,GACtDkE,IAAAA,EAAO,KACNgnC,KAAAA,iBAAiB9jC,EAAO,SAAUxP,EAAK4zC,GAEtC5zC,GAAAA,EACKoI,OAAAA,EAASpI,GAEduvC,IAAAA,EAASD,EAAcsE,GACvBC,EAAa,GACb5K,EAAO,GACX3sC,OAAOe,KAAKkyC,GAAQpyC,QAAQ,SAAUuyC,GAChCH,EAAOG,GAAUiE,GACnBE,EAAWjxC,KAAK8sC,MAIJkE,EAAAA,EAAAA,iBAAAA,EAAS,SAAUrK,EAAQ1L,EAAKiM,EAASX,EAAK96B,GACxDqhC,IAAAA,EAAS7R,EAAM,IAAMiM,EACL,cAAhBz7B,EAAK5Q,SAA0D,IAAhCo2C,EAAWl/B,QAAQ+6B,IACpDzG,EAAKrmC,KAAK8sC,KAGdpjC,EAAKwnC,cAActkC,EAAOy5B,EAAM7gC,OAMpCioC,EAAgB1zC,UAAUo3C,SACxB,EAAW,EAAA,YAAA,UAAW,SAAU1lC,EAAMjG,GAClB,mBAATiG,IACTjG,EAAWiG,EACXA,EAAO,IAITA,EAAOA,GAAQ,GADJ,KAGN2hC,iBAHM,KAGkBA,kBAAoB,GAHtC,KAINA,iBAAiBptC,KAAK,CAACyL,KAAMA,EAAMjG,SAAUA,IACb,IAL1B,KAKF4nC,iBAAiBj0C,QACxB+zC,EANS,QASbO,EAAgB1zC,UAAUwzC,SAAW,SAAU9hC,EAAMjG,GAC/CkE,IAAAA,EAAO,KACPgF,EAAc,CAChB0iC,aAAa,EACb9D,SAAU7hC,EAAK6hC,UAAY,GAEzB+D,EAAW,GAmBf3nC,EAAKiF,QAAQD,GACVjM,GAAG,SAlBGuM,SAASwL,GAChB62B,EAASrxC,KAAK0J,EAAKonC,gBAAgBt2B,EAAI1O,GAAI,MAkB1CrJ,GAAG,WAhBG6uC,SAAWtnC,GACd4hC,IAAAA,EAAU5hC,EAAKsjC,SACnBzjC,QAAQinB,IAAIugB,GAAUnnC,KAAK,WAClB,OAAA,EAAOR,EAAAA,QAAAA,EAAM,oBAAqB,SAAmB+F,GACtD,QAACA,EAAI69B,UAAY79B,EAAI69B,SAAW1B,KAClCn8B,EAAI69B,SAAW1B,EACRn8B,OAIVvF,KAAK,WACN1E,EAAS,KAAM,CAAC8F,IAAI,MACnB+hC,MAAM7nC,KAKR/C,GAAG,QAAS+C,IAKjBioC,EAAgB1zC,UAAUC,KAAM,EAAW,EAAA,YAAA,MAAO,SAAU8R,EAAIL,EAAMjR,GAKhE,GAJgB,mBAATiR,IACTjR,EAAKiR,EACLA,EAAO,IAES,iBAAPK,EACFtR,OAAAA,GAAG,EAAYmB,EAAAA,aAAAA,EAAZ,aAER,IAAA,EAAUmQ,EAAAA,WAAAA,IAAiC,mBAAnB,KAAKylC,UACxB,OAAA,KAAKA,UAAUzlC,EAAItR,GAExBksC,IAAAA,EAAS,GAAIh9B,EAAO,KAEf8nC,SAAAA,IACH3rC,IAAAA,EAAS,GACTxF,EAAQqmC,EAAOvtC,OAEf,IAACkH,EACI7F,OAAAA,EAAG,KAAMqL,GAIlB6gC,EAAOnsC,QAAQ,SAAUysC,GACvBt9B,EAAK1P,IAAI8R,EAAI,CACXqB,IAAK65B,EACLX,KAAM56B,EAAK46B,KACX0D,OAAQt+B,EAAKs+B,OACb55B,YAAa1E,EAAK0E,YAClBjL,OAAQuG,EAAKvG,QACZ,SAAU9H,EAAKqS,GACZ,GAACrS,EAaHyI,EAAO7F,KAAK,CAACuwC,QAASvJ,QAbd,CAGH,IADDtnC,IAAAA,EACKzG,EAAI,EAAGixC,EAAIrkC,EAAO1M,OAAQF,EAAIixC,EAAGjxC,IACpC4M,GAAAA,EAAO5M,GAAGqS,IAAMzF,EAAO5M,GAAGqS,GAAGsH,OAASnD,EAAImD,KAAM,CAClDlT,GAAW,EACX,MAGCA,GACHmG,EAAO7F,KAAK,CAACsL,GAAImE,MAKrBpP,GAEE7F,EAAG,KAAMqL,OAMb4F,IAAAA,EAAKwB,UA8BF,OAAA,KAAKwkC,KAAK3lC,EAAIL,EAAM,SAAUrO,EAAKyI,GACpCzI,GAAAA,EAEK5C,OADP4C,EAAIwP,MAAQd,EACLtR,EAAG4C,GAGRqS,IAAAA,EAAM5J,EAAO4J,IACb2iB,EAAWvsB,EAAOusB,SAClBmU,EAAM1gC,EAAO0gC,IAEb96B,GAAAA,EAAKs7B,UAAW,CACdA,IAAAA,GAAY,EAAiB3U,EAAAA,kBAAAA,GAC7B2U,EAAU5tC,SACZsW,EAAI08B,WAAapF,GAQjBt7B,IAJA,EAAU2mB,EAAAA,WAAAA,EAAU3iB,EAAImD,QAC1BnD,EAAI+lB,UAAW,GAGb/pB,EAAK46B,MAAQ56B,EAAKimC,UAAW,CAQ1B,IAPDC,IAAAA,EAAcliC,EAAImD,KAAKxB,MAAM,KAC7BwgC,EAAc1jC,SAASyjC,EAAY,GAAI,IACvCzK,EAAcyK,EAAY,GAE1B3zB,GAAQ,EAAWoU,EAAAA,YAAAA,EAAS4T,UAC5B5oB,EAAO,KAEFnkB,EAAI,EAAGA,EAAI+kB,EAAM7kB,OAAQF,IAAK,CACjCqkB,IAAAA,EAAcU,EAAM/kB,GACpB44C,EAAYv0B,EAAY4oB,IAAIh5B,IAAI,SAAU9B,GAAYA,OAAAA,EAAEU,KACzDiG,QAAQm1B,IACa2K,IAAeD,EAAQ,IAEpBx0B,IAAuB,IAAfy0B,KACjCz0B,EAAOE,GAKP,IAACF,EAGI5iB,OAFP4C,EAAM,IAAIpC,MAAM,qBACZ4R,MAAQd,EACLtR,EAAG4C,GAGR00C,IAAAA,EAAa10B,EAAK8oB,IAAIh5B,IAAI,SAAU9B,GAAYA,OAAAA,EAAEU,KACnDiG,QAAQtC,EAAImD,KAAKxB,MAAM,KAAK,IAAM,EACjC2gC,EAAU30B,EAAK8oB,IAAI/sC,OAAS24C,EAY5BrmC,GAXJ2R,EAAK8oB,IAAIvoB,OAAOm0B,EAAYC,GAC5B30B,EAAK8oB,IAAIvrB,UAELlP,EAAK46B,OACP52B,EAAIg9B,WAAa,CACf7lC,MAAQwW,EAAK6d,IAAM7d,EAAK8oB,IAAI/sC,OAAU,EACtC+sC,IAAK9oB,EAAK8oB,IAAIh5B,IAAI,SAAU4/B,GACnBA,OAAAA,EAAOhhC,OAIhBL,EAAKimC,UAAW,CACdzW,IAAAA,EAAO7d,EAAK6d,IAAM7d,EAAK8oB,IAAI/sC,OAC/BsW,EAAIuiC,WAAa50B,EAAK8oB,IAAIh5B,IAAI,SAAU4/B,GAE/B,MAAA,CACL3/B,MAFF8tB,EAEa,IAAM6R,EAAOhhC,GACxBjR,OAAQiyC,EAAOrhC,KAAK5Q,WAMxB4Q,GAAAA,EAAK0E,aAAeV,EAAIY,aAAc,CACpCF,IAAAA,EAAcV,EAAIY,aAClBhQ,EAAQ3G,OAAOe,KAAK0V,GAAahX,OACjCkH,GAAU,IAAVA,EACK7F,OAAAA,EAAG,KAAMiV,GAElB/V,OAAOe,KAAK0V,GAAa5V,QAAQ,SAAU/B,GACpCy5C,KAAAA,eAAexiC,EAAIsD,IAAKva,EAAK2X,EAAY3X,GAAM,CAIlD2U,IAAKsC,EAAImD,KACT1N,OAAQuG,EAAKvG,OACbqhC,IAAKA,GACJ,SAAUnpC,EAAKC,GACZ+S,IAAAA,EAAMX,EAAIY,aAAa7X,GAC3B4X,EAAI/S,KAAOA,SACJ+S,EAAIE,YACJF,EAAIjX,SACJkH,GACL7F,EAAG,KAAMiV,MAGZ/F,OACE,CACD+F,GAAAA,EAAIY,aACD,IAAA,IAAI7X,KAAOiX,EAAIY,aAEdZ,EAAIY,aAAahH,eAAe7Q,KAClCiX,EAAIY,aAAa7X,GAAK8X,MAAO,GAInC9V,EAAG,KAAMiV,MAvIPhE,GAAmB,QAAnBA,EAAKwB,UACFyjC,KAAAA,iBAAiB5kC,EAAI,SAAU1O,EAAK4oC,GAEnC5oC,GAAAA,EACK5C,OAAAA,EAAG4C,GAEZspC,GAAS,EAAcV,EAAAA,eAAAA,GAAU94B,IAAI,SAAU85B,GACtCA,OAAAA,EAAK75B,MAEdqkC,UAEG,CACDz4C,IAAAA,MAAMC,QAAQyS,EAAKwB,WAWdzS,OAAAA,GAAG,EAAYuB,EAAAA,aAAAA,EAAZ,cAA2B,oBAVrC2qC,EAASj7B,EAAKwB,UACT,IAAA,IAAIhU,EAAI,EAAGA,EAAIytC,EAAOvtC,OAAQF,IAAK,CAClCixC,IAAAA,EAAIxD,EAAOztC,GAEX,GAAiB,iBAAPixC,IAAmB,QAAQp5B,KAAKo5B,GACrC1vC,OAAAA,GAAG,EAAYmC,EAAAA,aAAAA,EAAZ,cAGd60C,OA0HR/D,EAAgB1zC,UAAUs+B,eACxB,EAAW,EAAA,YAAA,gBAAiB,SAAUzrB,EAAOgjC,EAAcnkC,EAAMjG,GAC7DkE,IAAAA,EAAO,KACP+B,aAAgB3N,WAClB0H,EAAWiG,EACXA,EAAO,IAEJgmC,KAAAA,KAAK7kC,EAAOnB,EAAM,SAAUrO,EAAK9C,GAChC8C,OAAAA,EACKoI,EAASpI,GAEd9C,EAAImV,IAAIY,cAAgB/V,EAAImV,IAAIY,aAAau/B,IAC/CnkC,EAAK86B,IAAMjsC,EAAIisC,IACf96B,EAAKvG,QAAS,OACdwE,EAAKuoC,eAAerlC,EAAOgjC,EACPt1C,EAAImV,IAAIY,aAAau/B,GAAenkC,EAAMjG,IAEvDA,GAAS,EAAY/J,EAAAA,aAAAA,EAAZ,kBAKtBgyC,EAAgB1zC,UAAUm4C,SACxB,EAAW,EAAA,YAAA,UAAW,SAAUzmC,EAAMjG,GAYlC,GAXgB,mBAATiG,IACTjG,EAAWiG,EACXA,EAAO,IAETA,EAAKmP,UAA4B,IAAdnP,EAAKmP,KAAuBnP,EAAKmP,KAAO,EACvDnP,EAAK0mC,YACP1mC,EAAK2mC,SAAW3mC,EAAK0mC,WAEnB1mC,EAAK4mC,UACP5mC,EAAK6mC,OAAS7mC,EAAK4mC,SAEjB,SAAU5mC,EAAM,CACd,IAAC1S,MAAMC,QAAQyS,EAAKhR,MACf+K,OAAAA,EAAS,IAAI7F,UAAU,kCAE5B4yC,IAAAA,EACF,CAAC,WAAY,SAAU,OAAOnlC,OAAO,SAAUmlC,GACxCA,OAAAA,KAAmB9mC,IACzB,GACC8mC,GAAAA,EAKF,YAJA/sC,GAAS,EAAYtJ,EAAAA,aAAAA,EAAZ,kBACP,oBAAsBq2C,EACtB,uCAIA,KAAC,EAAS,EAAA,UAAA,QACZvF,EAAiBvhC,GACQ,IAArBA,EAAKhR,KAAKtB,QACL,OAAA,KAAKq5C,SAAS,CAAC33B,MAAO,GAAIrV,GAKhC,OAAA,KAAKgtC,SAAS/mC,EAAMjG,KAG7BioC,EAAgB1zC,UAAU4U,QAAU,SAAUlD,EAAMjG,GAa3C,MAZa,mBAATiG,IACTjG,EAAWiG,EACXA,EAAO,KAGTA,EAAOA,GAAQ,IAKV2lC,YAAe,gBAAiB3lC,EAAQA,EAAK2lC,aAAe3lC,EAAKojC,KAE/D,IAAIhhC,EAAQ,KAAMpC,EAAMjG,IAGjCioC,EAAgB1zC,UAAU04C,OAAQ,EAAW,EAAA,YAAA,QAAS,SAAUjtC,GAGvD,OAFFgF,KAAAA,SAAU,EACV1K,KAAAA,KAAK,UACH,KAAK4yC,OAAOltC,KAGrBioC,EAAgB1zC,UAAUsS,MAAO,EAAW,EAAA,YAAA,OAAQ,SAAU7G,GACxDkE,IAAAA,EAAO,KACNipC,KAAAA,MAAM,SAAUv1C,EAAKiP,GACpBjP,GAAAA,EACKoI,OAAAA,EAASpI,GAGlBiP,EAAKumC,QAAUvmC,EAAKumC,SAAWlpC,EAAKxO,KACpCmR,EAAKiiC,mBAAqB5kC,EAAK4kC,kBAAoB,EAAS5kC,EAAAA,UAAAA,IAC5D2C,EAAKohB,QAAU/jB,EAAK+jB,QACpBjoB,EAAS,KAAM6G,OAInBohC,EAAgB1zC,UAAU+R,IAAK,EAAW,EAAA,YAAA,KAAM,SAAUtG,GACjD,OAAA,KAAKuN,IAAIvN,KAIlBioC,EAAgB1zC,UAAUsF,KAAO,WACvB,MAAsB,mBAAf,KAAKwzC,MAAwB,KAAKA,QAAU,KAAKplB,SAGlEggB,EAAgB1zC,UAAUm1C,UACxB,EAAW,EAAA,YAAA,WAAY,SAAUx/B,EAAKjE,EAAMjG,GAcxC,GAbgB,mBAATiG,IACTjG,EAAWiG,EACXA,EAAO,IAGTA,EAAOA,GAAQ,GAEX1S,MAAMC,QAAQ0W,KAChBA,EAAM,CACJ/D,KAAM+D,KAILA,IAAQA,EAAI/D,OAAS5S,MAAMC,QAAQ0W,EAAI/D,MACnCnG,OAAAA,GAAS,EAAYhK,EAAAA,aAAAA,EAAZ,oBAGb,IAAA,IAAIvC,EAAI,EAAGA,EAAIyW,EAAI/D,KAAKxS,SAAUF,EACjC,GAAuB,iBAAhByW,EAAI/D,KAAK1S,IAAmBF,MAAMC,QAAQ0W,EAAI/D,KAAK1S,IACrDuM,OAAAA,GAAS,EAAYnJ,EAAAA,aAAAA,EAAZ,gBAIhBy2C,IAAAA,EAYAA,GAXJpjC,EAAI/D,KAAKpR,QAAQ,SAAUkV,GACrBA,EAAIY,cACN3W,OAAOe,KAAKgV,EAAIY,cAAc9V,QAAQ,SAAUW,GAC9C43C,EAAkBA,GAAmBtF,EAAoBtyC,GACpDuU,EAAIY,aAAanV,GAAM80C,eACX,EAAA,EAAA,gBAAA,OAAQ,aAAc90C,EAAM,cAAeuU,EAAIsD,IAAK,+BAMvE+/B,EACKttC,OAAAA,GAAS,EAAYpJ,EAAAA,aAAAA,EAAZ,YAAyB02C,IAGrC,cAAernC,IAEjBA,EAAKikC,YADH,cAAehgC,IACAA,EAAIggC,WAMrBjiB,IAAAA,EAAU,KACThiB,EAAKikC,YAAc,EAASjiB,EAAAA,UAAAA,IAG/B/d,EAAI/D,KAAK8K,KAAK81B,GAGhBF,EAAU38B,EAAI/D,MAKVu6B,IAAAA,EAAMx2B,EAAI/D,KAAKuB,IAAI,SAAUuC,GACxBA,OAAAA,EAAIsD,MAGN,OAAA,KAAKggC,UAAUrjC,EAAKjE,EAAM,SAAUrO,EAAK9C,GAC1C8C,GAAAA,EACKoI,OAAAA,EAASpI,GASd,GAPCqO,EAAKikC,YAERp1C,EAAMA,EAAI8S,OAAO,SAAUhC,GAClBA,OAAAA,EAAEtQ,WAIR,EAAS2yB,EAAAA,UAAAA,GACP,IAAA,IAAIx0B,EAAI,EAAGixC,EAAI5vC,EAAInB,OAAQF,EAAIixC,EAAGjxC,IACrCqB,EAAIrB,GAAG6S,GAAKxR,EAAIrB,GAAG6S,IAAMo6B,EAAIjtC,GAIjCuM,EAAS,KAAMlL,OAInBmzC,EAAgB1zC,UAAUi5C,2BACxB,EAAW,EAAA,YAAA,4BAA6B,SAAUC,EACMztC,GACpD0tC,IAAAA,EAAQ,IAAI,KAAKlqC,YAAYiqC,EAAa,KAAK5E,SAU5C,EAAA,EAAA,QAAA,KAAM,6BARJ37B,SAAQjD,GAEXA,OADJA,EAAI0jC,aAAe1jC,EAAI0jC,cAAgB,IACnC1jC,EAAI0jC,aAAaF,KAGrBxjC,EAAI0jC,aAAaF,IAAe,EACzBxjC,KAGNvF,KAAK,WACJ1E,EAAS,KAAM,CAACgG,GAAI0nC,MACnB7F,MAAM7nC,KAGbioC,EAAgB1zC,UAAUkO,SACxB,EAAW,EAAA,YAAA,UAAW,SAAUwD,EAAMjG,GAElB,mBAATiG,IACTjG,EAAWiG,EACXA,EAAO,IAGL/B,IAAAA,EAAO,KACP0pC,IAAY,eAAgB1pC,IAAOA,EAAKskC,WAEnCqF,SAAAA,IAEP3pC,EAAK4pC,SAAS7nC,EAAM,SAAUrO,EAAK4M,GAC7B5M,GAAAA,EACKoI,OAAAA,EAASpI,GAElBsM,EAAKe,YAAa,EAClBf,EAAK5J,KAAK,aACV0F,EAAS,KAAMwE,GAAQ,CAAQ,IAAA,MAI/B,IAAA,EAASN,EAAAA,UAAAA,GAEJ2pC,OAAAA,IAGT3pC,EAAK1P,IAAI,6BAA8B,SAAUoD,EAAKm2C,GAChDn2C,GAAAA,EAEEA,OAAe,MAAfA,EAAIvC,OACC2K,EAASpI,GAETi2C,IAGPF,IAAAA,EAAeI,EAASJ,aACxB3H,EAAU9hC,EAAKV,YACfwqC,EAAa95C,OAAOe,KAAK04C,GAAcjmC,IAAI,SAAUhS,GAGnDu4C,IAAAA,EAAWL,EACbl4C,EAAK+W,QAAQ,IAAIgK,OAAO,IAAMuvB,EAAQsC,QAAS,IAAM5yC,EAChD,OAAA,IAAIswC,EAAQiI,EAAU/pC,EAAK2kC,QAAQpmC,YAE5C4B,QAAQinB,IAAI0iB,GAAYtpC,KAAKmpC,EAAW7tC,OAU5CkoC,EAAU3zC,UAAU25C,QAAU,WACxBpqC,IAAAA,EACA,GAAA,KAAKuB,OACCvB,KAAAA,EAAM,KAAK8gB,MAAMrnB,SACvBuG,EAAI,KAAKuB,aAGHvB,KAAAA,EAAM,KAAK8gB,MAAMrnB,SACvBuG,KAKNokC,EAAU3zC,UAAU20C,KAAO,SAAUtxC,GAC9ByN,KAAAA,OAASzN,EACTs2C,KAAAA,WAGPhG,EAAU3zC,UAAU40C,MAAQ,SAAUnjC,GAC/Bb,KAAAA,SAAU,EACVa,KAAAA,GAAKA,EACLkoC,KAAAA,WAGPhG,EAAU3zC,UAAU6Q,QAAU,SAAUtB,GACjC8gB,KAAAA,MAAMpqB,KAAKsJ,GACZ,KAAKuB,QACF6oC,KAAAA,YA4ET,EAASlI,EAAAA,SAAAA,EAASiC,GA+DlBjC,EAAQoC,SAAW,GACnBpC,EAAQqC,kBAAoB,GAE5BrC,EAAQsC,OAAS,UAEjB,IAAI6F,EAAe,IAAIj1C,EAAJ,aAEnB,SAASk1C,EAAkBC,GACzBn6C,OAAOe,KAAKiE,EAAa3E,aAAAA,WAAWQ,QAAQ,SAAU/B,GACT,mBAAhCkG,EAAa3E,aAAAA,UAAUvB,KAChCq7C,EAAMr7C,GAAOm7C,EAAan7C,GAAKsI,KAAK6yC,MAMpCG,IAAAA,EAAoBD,EAAME,sBAAwB,IAAIx6C,EAAJ,IAEtDs6C,EAAMpxC,GAAG,MAAO,SAA0B+I,GACnCsoC,EAAkB15C,IAAIoR,EAAGtQ,OAC5B44C,EAAkB55C,IAAIsR,EAAGtQ,KAAM,IAEjC44C,EAAkB95C,IAAIwR,EAAGtQ,MAAM8E,KAAKwL,KAGtCqoC,EAAMpxC,GAAG,QAAS,SAA4B+I,GACxC,GAACsoC,EAAkB15C,IAAIoR,EAAGtQ,MAA1B,CAGA84C,IAAAA,EAASF,EAAkB95C,IAAIwR,EAAGtQ,MAClC+/B,EAAM+Y,EAAOjiC,QAAQvG,GACrByvB,EAAM,IAIV+Y,EAAOr2B,OAAOsd,EAAK,GACf+Y,EAAO76C,OAAS,EAElB26C,EAAkB55C,IAAIsR,EAAGtQ,KAAM84C,GAE/BF,EAAkBz5C,OAAOmR,EAAGtQ,UAIhC24C,EAAMpxC,GAAG,YAAa,SAAgCvH,GAChD,GAAC44C,EAAkB15C,IAAIc,GAAvB,CAGA84C,IAAAA,EAASF,EAAkB95C,IAAIkB,GACnC44C,EAAkBz5C,OAAOa,GACzB84C,EAAOz5C,QAAQ,SAAUiR,GACvBA,EAAG1L,KAAK,aAAY,QAK1B8zC,EAAkBpI,GAElBA,EAAQ/d,QAAU,SAAU3hB,EAAIf,EAAKkpC,GAE/BlpC,EAAI0jC,UACNjD,EAAQoC,SAAS9hC,GAAMf,EACnBkpC,GACFzI,EAAQqC,kBAAkB7tC,KAAK8L,KAKrC0/B,EAAQ0I,OAAS,SAAUnpC,GACrB,GAAe,mBAARA,EACTA,EAAIygC,OACC,CAAA,GAAmB,iBAARzgC,GAAgD,IAA5BrR,OAAOe,KAAKsQ,GAAK5R,OAC/C,MAAA,IAAI6B,MAAM,wBAA0B+P,EAAM,uCAEhDrR,OAAOe,KAAKsQ,GAAKxQ,QAAQ,SAAUuR,GACjC0/B,EAAQzxC,UAAU+R,GAAMf,EAAIe,KAMzB0/B,OAHH,KAAK2I,aACP3I,EAAQ2I,YAAa,EAAO,EAAA,QAAA,GAAI,KAAKA,aAEhC3I,GAGTA,EAAQ4I,SAAW,SAAUC,GAClBC,SAAAA,EAASp5C,EAAMuQ,GAClB,KAAE,gBAAgB6oC,GACb,OAAA,IAAIA,EAASp5C,EAAMuQ,GAG5BA,EAAOA,GAAQ,GAEXvQ,GAAwB,iBAATA,IAEjBA,GADAuQ,EAAOvQ,GACKA,YACLuQ,EAAKvQ,MAGduQ,GAAO,EAAO,EAAA,QAAA,GAAI6oC,EAASH,WAAY1oC,GACvC+/B,EAAQvwC,KAAK,KAAMC,EAAMuQ,GAgBpB6oC,OAbEA,EAAAA,EAAAA,SAAAA,EAAU9I,GAEnB8I,EAASzG,kBAAoBrC,EAAQqC,kBAAkB9mC,QACvDrN,OAAOe,KAAK+wC,GAASjxC,QAAQ,SAAU/B,GAC/BA,KAAO87C,IACXA,EAAS97C,GAAOgzC,EAAQhzC,MAM5B87C,EAASH,YAAa,EAAO,EAAA,QAAA,GAAI,KAAKA,WAAYE,GAE3CC,GAGT9I,EAAQnB,MAAQ,SAAUkK,EAAK9oC,GACtB,OAAA,EAAM8oC,EAAAA,OAAAA,EAAK9oC,IAIpB,IAAIuf,EAAU,QAGdwgB,EAAQ0I,OAAOM,EAAf,SAEAhJ,EAAQxgB,QAAUA,EAEHwgB,IAAAA,EAAAA,EAAAA,QAAAA,QAAAA;;AGn0Cd,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,YAAA,EAAA,QAAA,0BAAA,EAAA,QAAA,YAAA,QAAA,UAAA,QAAA,aAAA,QAAA,YAAA,QAAA,YAAA,QAAA,UAAA,QAAA,UAAA,QAAA,UAAA,QAAA,WAAA,QAAA,cAAA,QAAA,YAAA,QAAA,eAAA,QAAA,kBAAA,QAAA,gBAAA,QAAA,QAAA,QAAA,cAAA,QAAA,SAAA,QAAA,YAAA,QAAA,WAAA,QAAA,WAAA,QAAA,aAAA,QAAA,YAAA,QAAA,kBAAA,QAAA,kBAAA,EA3FD,IAAA,EAAA,EAAA,QAAA,aA2FC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAvFD,SAAS5wC,EAAWC,EAAQC,EAAOC,GACjCC,MAAMC,KAAK,KAAMF,GACZF,KAAAA,OAASA,EACTK,KAAAA,KAAOJ,EACPK,KAAAA,QAAUJ,EACVD,KAAAA,OAAQ,GAPf,EAASF,EAAAA,SAAAA,EAAYI,OAUrBJ,EAAWb,UAAUqB,SAAW,WACvBC,OAAAA,KAAKC,UAAU,CACpBT,OAAQ,KAAKA,OACbK,KAAM,KAAKA,KACXC,QAAS,KAAKA,QACdJ,OAAQ,KAAKA,UAIjB,IAAIQ,EAAe,IAAIX,EAAW,IAAK,eAAgB,kCAsEtD,QAAA,aAAA,EArED,IAAIY,EAAoB,IAAIZ,EAAW,IAAK,cAAe,+BAqE1D,QAAA,kBAAA,EApED,IAAIa,EAAc,IAAIb,EAAW,IAAK,YAAa,WAoElD,QAAA,YAAA,EAnED,IAAIc,EAAe,IAAId,EAAW,IAAK,WAAY,4BAmElD,QAAA,aAAA,EAlED,IAAIe,EAAa,IAAIf,EAAW,IAAK,cAAe,mCAkEnD,QAAA,WAAA,EAjED,IAAIgB,EAAa,IAAIhB,EAAW,IAAK,aAAc,4BAiElD,QAAA,WAAA,EAhED,IAAIiB,EAAc,IAAIjB,EAAW,IAAK,cAAe,yDAgEpD,QAAA,YAAA,EA/DD,IAAIkB,EAAW,IAAIlB,EAAW,IAAK,sBAAuB,qBA+DzD,QAAA,SAAA,EA9DD,IAAImB,EAAgB,IAAInB,EAAW,IAAK,gBAAiB,yCA8DxD,QAAA,cAAA,EA7DD,IAAIoB,EAAU,IAAIpB,EAAW,IAAK,SAAU,kCA6D3C,QAAA,QAAA,EA5DD,IAAIqB,EAAkB,IAAIrB,EAAW,IAAK,kBAAmB,uBA4D5D,QAAA,gBAAA,EA3DD,IAAIsB,EAAoB,IAAItB,EAAW,IAAK,oBAAqB,mCA2DhE,QAAA,kBAAA,EA1DD,IAAIuB,EAAiB,IAAIvB,EAAW,IAAK,iBAAkB,+BA0D1D,QAAA,eAAA,EAzDD,IAAIwB,EAAc,IAAIxB,EAAW,IAAK,cAAe,oCAyDpD,QAAA,YAAA,EAxDD,IAAIyB,EAAgB,IAAIzB,EAAW,IAAK,cAAe,kCAwDtD,QAAA,cAAA,EAvDD,IAAI0B,EAAa,IAAI1B,EAAW,IAAK,YAAa,sBAuDjD,QAAA,WAAA,EAtDD,IAAI2B,EAAY,IAAI3B,EAAW,IAAK,sBAAuB,WAsD1D,QAAA,UAAA,EArDD,IAAI4B,EAAY,IAAI5B,EAAW,IAAK,mBAAoB,WAqDvD,QAAA,UAAA,EApDD,IAAI6B,EAAY,IAAI7B,EAAW,IAAK,wBAAyB,WAoD5D,QAAA,UAAA,EAnDD,IAAI8B,EAAY,IAAI9B,EAAW,IAAK,YAAa,wDAmDhD,QAAA,UAAA,EAlDD,IAAI+B,EAAc,IAAI/B,EAAW,IAAK,cAAe,sBAkDpD,QAAA,YAAA,EAjDD,IAAIgC,EAAc,IAAIhC,EAAW,IAAK,cAAe,+DAiDpD,QAAA,YAAA,EAhDD,IAAIiC,EAAe,IAAIjC,EAAW,IAAK,eAAgB,+CAgDtD,QAAA,aAAA,EA/CD,IAAIkC,EAAc,IAAIlC,EAAW,IAAK,cAAe,2BAErD,SAASmC,EAAYjC,EAAOC,GACjBiC,SAAAA,EAAiBjC,GAInB,IAAA,IAAIkC,KAAKnC,EACY,mBAAbA,EAAMmC,KACVA,KAAAA,GAAKnC,EAAMmC,SAILC,IAAXnC,IACGA,KAAAA,OAASA,GAIX,OADPiC,EAAiBjD,UAAYa,EAAWb,UACjC,IAAIiD,EAAiBjC,GAG9B,SAASoC,EAA0BC,GAE7B,GAAe,iBAARA,EAAkB,CACvBC,IAAAA,EAAOD,GACXA,EAAMrB,GACFsB,KAAOA,EAoBND,MAjBH,UAAWA,GAAqB,aAAdA,EAAItC,QACxBsC,EAAIlC,KAAO,WACXkC,EAAIvC,OAAS,KAGT,SAAUuC,IACdA,EAAIlC,KAAOkC,EAAItC,OAAS,WAGpB,WAAYsC,IAChBA,EAAIvC,OAAS,KAGT,YAAauC,IACjBA,EAAIjC,QAAUiC,EAAIjC,SAAWiC,EAAIrC,QAG5BqC,EACR,QAAA,YAAA;;AG3FD,IAQA,EACA,EATA,EAAA,QAAA,aACA,EAAA,QAAA,qBAWA,EAAA,EACA,EAAA,EAGA,SAAA,EAAA,EAAA,EAAA,GACA,IAAA,EAAA,GAAA,GAAA,EACA,EAAA,GAAA,GAGA,GADA,EAAA,GAAA,IACA,MAAA,EACA,OAAA,IAAA,EAAA,SAAA,EAAA,SAAA,EAKA,GAAA,MAAA,GAAA,MAAA,EAAA,CACA,IAAA,EAAA,IACA,MAAA,IAEA,EAAA,EAAA,CACA,EAAA,EAAA,GACA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,EAAA,KAGA,MAAA,IAEA,EAAA,EAAA,OAAA,EAAA,IAAA,EAAA,EAAA,KAQA,IAAA,OAAA,IAAA,EAAA,MAAA,EAAA,OAAA,IAAA,MAAA,UAIA,OAAA,IAAA,EAAA,MAAA,EAAA,MAAA,EAAA,EAGA,EAAA,EAAA,GAAA,EAAA,GAAA,IAcA,GAXA,EAAA,QAAA,IAAA,EAAA,WACA,EAAA,EAAA,EAAA,QAKA,EAAA,GAAA,EAAA,SAAA,IAAA,EAAA,QACA,EAAA,GAIA,GAAA,IACA,MAAA,IAAA,MAAA,mDAGA,EAAA,EACA,EAAA,EACA,EAAA,EAMA,IAAA,GAAA,KAAA,WAHA,GAAA,cAGA,GAAA,WACA,EAAA,KAAA,IAAA,GAAA,IACA,EAAA,KAAA,IAAA,GAAA,IACA,EAAA,KAAA,IAAA,EAAA,IACA,EAAA,KAAA,IAAA,EAGA,IAAA,EAAA,EAAA,WAAA,IAAA,UACA,EAAA,KAAA,IAAA,EAAA,IACA,EAAA,KAAA,IAAA,EAGA,EAAA,KAAA,IAAA,GAAA,GAAA,GACA,EAAA,KAAA,IAAA,GAAA,IAGA,EAAA,KAAA,IAAA,EAAA,IAGA,EAAA,KAAA,IAAA,EAGA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,EACA,EAAA,EAAA,GAAA,EAAA,GAGA,OAAA,GAAA,EAAA,GAGA,OAAA,QAAA;;AC5GA,IAAA,EAAA,QAAA,aACA,EAAA,QAAA,qBAEA,SAAA,EAAA,EAAA,EAAA,GACA,IAAA,EAAA,GAAA,GAAA,EAEA,iBAAA,IACA,EAAA,WAAA,EAAA,IAAA,MAAA,IAAA,KACA,EAAA,MAIA,IAAA,GAFA,EAAA,GAAA,IAEA,SAAA,EAAA,KAAA,KAOA,GAJA,EAAA,GAAA,GAAA,EAAA,GAAA,GACA,EAAA,GAAA,GAAA,EAAA,GAAA,IAGA,EACA,IAAA,IAAA,EAAA,EAAA,EAAA,KAAA,EACA,EAAA,EAAA,GAAA,EAAA,GAIA,OAAA,GAAA,EAAA,GAGA,OAAA,QAAA;;AC5BA,IAAA,EAAA,QAAA,QACA,EAAA,QAAA,QAEA,EAAA,EACA,EAAA,GAAA,EACA,EAAA,GAAA,EAEA,OAAA,QAAA;;;AEkEC,IAAA,EAAA,UAAA,GAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EAAA,QAAA,UAAA,EAzED,IAAA,EAAA,QAAA,wBACA,EAAA,EAAA,QAAA,cAwEC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAtED,IAAIgJ,EAAmBC,EAAOC,cAAgBD,EAAOE,WACjDC,EAAiB,MAErB,SAASC,EAAYC,GACZ,OAAA,EAAKA,EAAAA,MAAAA,GAGd,SAASC,EAAUpB,EAAMqB,EAAOC,GAC1BtB,OAAAA,EAAKuB,YACAvB,EAAKuB,YAAYF,EAAOC,GAE1BtB,EAAKwB,MAAMH,EAAOC,GAG3B,SAASG,EAAW/B,EAAQM,EAAMqB,EAAOC,EAAKrB,IACxCoB,EAAQ,GAAKC,EAAMtB,EAAK5K,QAE1B4K,EAAOoB,EAAUpB,EAAMqB,EAAOC,KAEdtB,EAAAA,EAAAA,mBAAAA,EAAM,SAAU0B,GAChChC,EAAOb,OAAO6C,GACdzB,MAIJ,SAAS0B,EAAajC,EAAQkC,EAAQP,EAAOC,EAAKrB,IAC5CoB,EAAQ,GAAKC,EAAMM,EAAOhO,UAE5BgO,EAASA,EAAOzO,UAAUkO,EAAOC,IAEnC5B,EAAOmC,aAAaD,GACpB3B,IAGF,SAAS6B,EAAUhK,EAAMmI,GACnB8B,IAAAA,EAAgC,iBAATjK,EACvBnE,EAAMoO,EAAgBjK,EAAKlE,OAASkE,EAAK1C,KACzC4M,EAAYC,KAAKC,IAAIjB,EAAgBtN,GACrCwO,EAASF,KAAKG,KAAKzO,EAAMqO,GACzBK,EAAe,EACf3C,EAASqC,EAAgB,IAAIO,EAAJ,QAAY,IAAIA,EAAIpD,QAAAA,YAE7CL,EAASkD,EAAgBJ,EAAeF,EAEnCc,SAAAA,IACP1B,EAAiB2B,GAGVC,SAAAA,IACHtB,IACAR,EAASO,EADHxB,EAAO4B,KAAI,IAErBrB,EAASU,GACTjB,EAAOgD,UAGAF,SAAAA,IACHnB,IAAAA,EAAQgB,EAAeL,EACvBV,EAAMD,EAAQW,EAGhBnD,EAAOa,EAAQ5H,EAAMuJ,EAAOC,IAF9Be,EACmBF,EACgBI,EAEAE,GAGrCD,IAGF,SAASG,EAAUf,GACVU,OAAAA,EAAIM,QAAAA,KAAKhB;;ACwrBlB,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,WAAA,EAAA,QAAA,YAAA,EAAA,QAAA,eAAA,EAAA,QAAA,MAAA,EAAA,QAAA,eAAA,EAAA,QAAA,aAAA,EAAA,QAAA,aAAA,EAAA,QAAA,QAAA,EAAA,QAAA,eAAA,EAAA,QAAA,gBAAA,EAAA,QAAA,eAAA,EAAA,QAAA,SAAA,EAAA,QAAA,cAAA,EAAA,QAAA,0BAAA,EAAA,QAAA,KAAA,EAAA,QAAA,sBAAA,EAAA,QAAA,SAAA,EAAA,QAAA,KAAA,EAAA,QAAA,IAAA,GAAA,QAAA,UAAA,EAAA,QAAA,UAAA,EAAA,QAAA,OAAA,GAAA,OAAA,eAAA,QAAA,WAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,WAAA,QAAA,KAAA,QAAA,aAAA,QAAA,YAAA,EAhwBA,IAAA,EAAA,EAAA,QAAA,cACA,EAAA,QAAA,uBACA,EAAA,EAAA,QAAA,cACA,EAAA,QAAA,UACA,EAAA,EAAA,QAAA,aACA,EAAA,QAAA,kBACA,EAAA,EAAA,QAAA,SACA,EAAA,QAAA,eACA,EAAA,QAAA,iBAwvBA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAtvBA,SAASiB,EAAeC,GACd,MAAuB,oBAAhB5D,aAA+B4D,aAAkB5D,aAC7C,oBAATb,MAAwByE,aAAkBzE,KAGtD,SAAS0E,EAAiBC,GACpB,GAAsB,mBAAfA,EAAKxB,MACPwB,OAAAA,EAAKxB,MAAM,GAGhBpJ,IAAAA,EAAS,IAAI8G,YAAY8D,EAAKnD,YAC9BoD,EAAc,IAAI9D,WAAW/G,GAC7B8K,EAAc,IAAI/D,WAAW6D,GAE1B5K,OADP6K,EAAYtO,IAAIuO,GACT9K,EAGT,SAAS+K,EAAkBL,GACrBA,GAAAA,aAAkB5D,YACb6D,OAAAA,EAAiBD,GAEtB1N,IAAAA,EAAO0N,EAAO1N,KACd0E,EAAOgJ,EAAOhJ,KAEd,MAAwB,mBAAjBgJ,EAAOtB,MACTsB,EAAOtB,MAAM,EAAGpM,EAAM0E,GAGxBgJ,EAAOvB,YAAY,EAAGnM,EAAM0E,GAOrC,IAAIsJ,EAAe7K,SAAS/D,UAAUqB,SAClCwN,EAAmBD,EAAa1N,KAAKvB,QAEzC,SAASmP,EAAc1O,GACjB2O,IAAAA,EAAQpP,OAAOsI,eAAe7H,GAE9B2O,GAAU,OAAVA,EACK,OAAA,EAELC,IAAAA,EAAOD,EAAME,YACT,MAAe,mBAARD,GACbA,aAAgBA,GAAQJ,EAAa1N,KAAK8N,IAASH,EAGvD,SAAS6rC,EAAQpsC,GACXa,IAAAA,EACAjQ,EACAC,EAEA,IAACmP,GAA4B,iBAAXA,EACbA,OAAAA,EAGLtP,GAAAA,MAAMC,QAAQqP,GAAS,CAEpBpP,IADLiQ,EAAY,GACPjQ,EAAI,EAAGC,EAAMmP,EAAOlP,OAAQF,EAAIC,EAAKD,IACxCiQ,EAAUjQ,GAAKw7C,EAAQpsC,EAAOpP,IAEzBiQ,OAAAA,EAKLb,GAAAA,aAAkBc,KACbd,OAAAA,EAAOe,cAGZhB,GAAAA,EAAeC,GACVK,OAAAA,EAAkBL,GAGvB,IAACQ,EAAcR,GACVA,OAAAA,EAIJpP,IAAAA,KADLiQ,EAAY,GACFb,EAEJ3O,GAAAA,OAAOK,UAAUsP,eAAepO,KAAKoN,EAAQpP,GAAI,CAC/CkB,IAAAA,EAAQs6C,EAAQpsC,EAAOpP,SACN,IAAVkB,IACT+O,EAAUjQ,GAAKkB,GAId+O,OAAAA,EAGT,SAASvG,EAAK2G,GACRC,IAAAA,GAAS,EACN,OAAA,EAAa,EAAA,SAAA,SAAU1L,GAExB0L,GAAAA,EAEI,MAAA,IAAIvO,MAAM,8BAEhBuO,GAAS,EACTD,EAAI5L,MAAM,KAAMG,KAKtB,SAAS2L,EAAUC,GAEV,OAAA,EAAa,EAAA,SAAA,SAAU5L,GAE5BA,EAAO42C,EAAQ52C,GACX6L,IAAAA,EAAO,KAEPC,EAA2C,mBAA1B9L,EAAKA,EAAK1E,OAAS,IAAqB0E,EAAK8D,MAC9DiI,EAAU,IAAIC,QAAQ,SAAUC,EAASC,GACvCC,IAAAA,EACA,IACExE,IAAAA,EAAW7C,EAAK,SAAUvF,EAAK6M,GAC7B7M,EACF2M,EAAO3M,GAEP0M,EAAQG,KAKZpM,EAAKmC,KAAKwF,IACVwE,EAAOP,EAAK/L,MAAMgM,EAAM7L,KACS,mBAAdmM,EAAKE,MACtBJ,EAAQE,GAEV,MAAOnG,GACPkG,EAAOlG,MASJ+F,OALHD,GACFC,EAAQM,KAAK,SAAUrE,GACrB8D,EAAO,KAAM9D,IACZ8D,GAEEC,IAIX,SAASO,EAAWT,EAAMxO,EAAM2C,GAE1B6L,GAAAA,EAAKV,YAAYzG,UAAU,SAASpJ,OAAQ,CAEzC,IADDiR,IAAAA,EAAU,CAAC,MAAOV,EAAKxO,KAAMA,GACxBjC,EAAI,EAAGA,EAAI4E,EAAK1E,OAAS,EAAGF,IACnCmR,EAAQpK,KAAKnC,EAAK5E,IAEpByQ,EAAKV,YAAYlJ,KAAK,QAASsK,GAG3BC,IAAAA,EAAexM,EAAKA,EAAK1E,OAAS,GACtC0E,EAAKA,EAAK1E,OAAS,GAAK,SAAUiE,EAAK9C,GACjCgQ,IAAAA,EAAe,CAAC,MAAOZ,EAAKxO,KAAMA,GACtCoP,EAAeA,EAAahM,OAC1BlB,EAAM,CAAC,QAASA,GAAO,CAAC,UAAW9C,IAErCoP,EAAKV,YAAYlJ,KAAK,QAASwK,GAC/BD,EAAajN,EAAK9C,KAKxB,SAASiQ,EAAWrP,EAAMsK,GACjBgE,OAAAA,GAAU,EAAa,EAAA,SAAA,SAAU3L,GAClC,GAAA,KAAK2M,QACAX,OAAAA,QAAQE,OAAO,IAAI/O,MAAM,uBAE9B,GAAA,KAAKyP,WACAZ,OAAAA,QAAQE,OAAO,IAAI/O,MAAM,0BAE9B0O,IAAAA,EAAO,KAEP,OADJS,EAAWT,EAAMxO,EAAM2C,GAClB,KAAK6M,UAAUC,QAWbnF,EAAS9H,MAAM,KAAMG,GAVnB,IAAIgM,QAAQ,SAAUC,EAASC,GACpCL,EAAKgB,UAAUE,QAAQ,SAAUC,GAC3BA,EACFd,EAAOc,GAEPf,EAAQJ,EAAKxO,GAAMwC,MAAMgM,EAAM7L,WAU3C,SAASiN,EAAKC,EAAK1J,GAEZ,IADD/G,IAAAA,EAAM,GACDrB,EAAI,EAAGC,EAAMmI,EAAIlI,OAAQF,EAAIC,EAAKD,IAAK,CAC1CQ,IAAAA,EAAO4H,EAAIpI,GACXQ,KAAQsR,IACVzQ,EAAIb,GAAQsR,EAAItR,IAGba,OAAAA,EAMT,IAgII0Q,EA8IAC,EA9QAC,EAA8B,EAElC,SAASC,EAAiBC,GACjBA,OAAAA,EAGT,SAASC,EAA2BxF,GAC3B,MAAA,CAAC,CACNyF,GAAIzF,IAKR,SAAS0F,EAAQC,EAAIC,EAAMjG,GACrBkG,IAAAA,EAAWD,EAAKE,KAGhBC,EAAe,IAAIrS,EAAJ,IACnBmS,EAASnR,QAAQ,SAAUsR,GACrBD,EAAaxR,IAAIyR,EAAQC,IAC3BF,EAAa5R,IAAI6R,EAAQC,IAAI9L,KAAK6L,GAElCD,EAAa1R,IAAI2R,EAAQC,GAAI,CAACD,MAI9BE,IAAAA,EAAUH,EAAajR,KACvBqR,EAAU,EACVC,EAAgB,IAAIlT,MAAMgT,GAerBG,SAAAA,IAbAC,IACHC,IAaEJ,IAAYD,IAbdK,EAAU,GACdH,EAAc1R,QAAQ,SAAUD,GAC9BA,EAAIqR,KAAKpR,QAAQ,SAAU8R,GACzBD,EAAQpM,KAAK,CACX8L,GAAIxR,EAAIwR,GACRH,KAAM,CAACU,SAIb7G,EAAS,KAAM,CAAC4G,QAASA,KAcvBE,IAAAA,EAAc,GAClBV,EAAarR,QAAQ,SAAUJ,EAAO3B,GACpC8T,EAAYtM,KAAKxH,KAGfS,IAAAA,EAAI,EAECsT,SAAAA,IAEHtT,KAAAA,GAAKqT,EAAYnT,QAAjBF,CAIAuT,IAAAA,EAAOhF,KAAKC,IAAIxO,EAAIiS,EAA6BoB,EAAYnT,QAC7DsT,EAAQH,EAAYvF,MAAM9N,EAAGuT,IAK1BE,SAAaD,EAAOE,GAC3BF,EAAMlS,QAAQ,SAAUqS,EAAOC,GACzBC,IAAAA,EAASH,EAASE,EAClBE,EAAcnB,EAAa5R,IAAI4S,GAQ/BI,EAAUlC,EAAKiC,EAAY,GAAI,CAAC,aAAc,gBAClDC,EAAQC,UAAYF,EAAYG,IAAI,SAAUrB,GAErCA,OAAAA,EAAQsB,MAIjBH,EAAQC,UAAYD,EAAQC,UAAUG,OAAOjC,GAEzCkC,IAAAA,EAAelC,EAEc,IAA7B6B,EAAQC,UAAU9T,gBACb6T,EAAQC,UAKfI,EAAehC,GAIhB,CAAA,OAAQ,cAAe,SAAU,OAAQ,UAAU9Q,QAAQ,SAAU+S,GAChEA,KAAS7B,IACXuB,EAAQM,GAAS7B,EAAK6B,MAG1B9B,EAAGxR,IAAI4S,EAAOI,EAAS,SAAU5P,EAAK9C,GAChCuL,IAAAA,EA9DmBiG,EAAIH,EAiEzB9F,EADEzI,EACO,CAAC,CAACtC,MAAOsC,IAETiQ,EAAa/S,GAnEDwR,EAqELc,EArESjB,EAqEF9F,EApE7BoG,EAoEca,GApEY,CAAChB,GAAIA,EAAIH,KAAMA,GACzCO,IAoEIK,QAlDJG,CAAaD,EAAOxT,GACpBA,GAAKwT,EAAMtT,QAsDboT,IAMF,IACEgB,aAAaC,QAAQ,4BAA6B,GAClDxC,IAAauC,aAAaE,QAAQ,6BAClC,MAAO5J,IACPmH,GAAW,EAGb,SAAS0C,IACA1C,OAAAA,EAQT,SAAS2C,EAAoBjE,GACvBgE,KACFE,iBAAiB,UAAW,SAAU/J,GACpC6F,EAAK5J,KAAK+D,EAAErL,OAKlB,SAASqV,IACM5S,EAAAA,aAAAA,KAAK,MACb8F,KAAAA,WAAa,GAElB4M,EAAoB,MAsEtB,SAASG,EAAeC,GAElB,GAAmB,oBAAZ9P,SAAsD,mBAApBA,QAAQ8P,GAAwB,CACvElQ,IAAAA,EAAO9E,MAAMgB,UAAUgN,MAAM9L,KAAKsF,UAAW,GACjDtC,QAAQ8P,GAAQrQ,MAAMO,QAASJ,IAInC,SAASmQ,EAAavG,EAAKwG,GAiBlB,OAfPxG,EAAMyG,SAASzG,EAAK,KAAO,GAC3BwG,EAAMC,SAASD,EAAK,MACRA,GAAOA,GAAOxG,EACxBwG,GAAOxG,GAAO,IAAM,EAEpBwG,GAAY,EAGVA,EATa,MAUfxG,EAAM0G,IACNF,EAXe,SAcLA,EAAMxG,GADND,KAAK4G,SAGS3G,GAG5B,SAAS4G,EAAe5G,GAClBwG,IAAAA,EAAM,EAIHD,OAHFvG,IACHwG,EAAM,KAEDD,EAAavG,EAAKwG,GAK3B,SAASK,EAAazT,EAAQwI,GAC5ByK,EAAe,OAAQ,aAAejT,EAAS,uBAAyBwI,IA5H1E,EAASwK,EAAAA,SAAAA,EAASnP,EAAlB,cAiBAmP,EAAQ9T,UAAUyI,YAAc,SAAU+L,EAAQzC,EAAIN,EAAIC,GAEpD,IAAA,KAAK1K,WAAW+K,GAAhB,CAGApC,IAAAA,EAAO,KACP8E,GAAa,EAiCZzN,KAAAA,WAAW+K,GAAM2C,EACjBhM,KAAAA,GAAG8L,EAAQE,GAjCPA,SAAAA,IAEH,GAAC/E,EAAK3I,WAAW+K,GAGjB0C,GAAAA,EACFA,EAAa,cADXA,CAIJA,GAAa,EACTE,IAAAA,EAAc5D,EAAKW,EAAM,CAC3B,QAAS,eAAgB,cAAe,YAAa,SACrD,UAAW,OAAQ,QAAS,eAAgB,SAAU,gBAQxDD,EAAGmD,QAAQD,GAAajM,GAAG,SAAU,SAAUmM,GACzCA,EAAEC,IAAMpD,EAAKqD,QAAUrD,EAAKsD,YAC9BtD,EAAKqD,MAAQF,EAAEC,IACfpD,EAAKuD,SAASJ,MAEfnM,GAAG,WAAY,WACG,YAAf+L,IACQC,EAAAA,EAAAA,SAAAA,GAEZD,GAAa,IACZ/L,GAAG,QAdGwM,WACPT,GAAa,OAmBnBX,EAAQ9T,UAAU0G,eAAiB,SAAU8N,EAAQzC,GAE7CA,KAAM,KAAK/K,aAGJhH,EAAAA,aAAAA,UAAU0G,eAAexF,KAAK,KAAMsT,EAC/C,KAAKxN,WAAW+K,WACX,KAAK/K,WAAW+K,KAKzB+B,EAAQ9T,UAAUmV,mBAAqB,SAAUX,GAG3Cb,MACFH,aAAagB,GAAoC,MAAzBhB,aAAagB,GAAmB,IAAM,MAIlEV,EAAQ9T,UAAUoV,OAAS,SAAUZ,GAC9BzO,KAAAA,KAAKyO,GACLW,KAAAA,mBAAmBX,IAwE1B,IAAIa,EAxBAnE,EAD2B,mBAAlBvR,OAAOuR,OACPvR,OAAOuR,OAIP,SAAUtN,GAGZ,IAFD0R,IAAAA,EAAK3V,OAAOiE,GAEP+D,EAAQ,EAAGA,EAAQnB,UAAUpH,OAAQuI,IAAS,CACjD4N,IAAAA,EAAa/O,UAAUmB,GAEvB4N,GAAc,MAAdA,EACG,IAAA,IAAIC,KAAWD,EAEd5V,OAAOK,UAAUsP,eAAepO,KAAKqU,EAAYC,KACnDF,EAAGE,GAAWD,EAAWC,IAK1BF,OAAAA,GAOb,SAASG,EAAUpC,EAAQqC,EAAKC,GAC1B,IACK,OAACtC,EAAOqC,EAAKC,GACpB,MAAOtS,GACHuS,IAAAA,EAAM,0BAA4BvS,EAAIhC,WACnC,OAAA,EAAYgB,EAAAA,aAAAA,EAAZ,YAAyBuT,IAIpC,SAASC,EAAanE,GAChBiE,IAAAA,EAAM,GACNG,EAAYpE,EAAK2B,QAAiC,mBAAhB3B,EAAK2B,OAGpC,OAFPsC,EAAII,MAAQrE,EAAKsE,aAEV,SAAgBC,GAChBA,EAAOP,MAGVO,EAAOP,IAAM,IAGXQ,IAAAA,EAAeJ,GAAaL,EAAU/D,EAAK2B,OAAQ4C,EAAOP,IAAKC,GAE/D,GAAwB,iBAAjBO,EACFA,OAAAA,EAGLA,GAAAA,EACK,OAAA,EAGL,GAACxE,EAAKyE,cAEH,IAAKzE,EAAK0E,YACV,IAAA,IAAIC,KAAOJ,EAAOP,IAAIY,aAErBL,EAAOP,IAAIY,aAAahH,eAAe+G,KACzCJ,EAAOP,IAAIY,aAAaD,GAAKE,MAAO,eALjCN,EAAOP,IAST,OAAA,GAIX,SAASc,EAAQC,GAEV,IADDlW,IAAAA,EAAM,GACDrB,EAAI,EAAGC,EAAMsX,EAAKrX,OAAQF,EAAIC,EAAKD,IAC1CqB,EAAMA,EAAIgE,OAAOkS,EAAKvX,IAEjBqB,OAAAA,EAOT,SAASmW,KAkMT,QAAA,OAAA,EAhMA,IACInW,EADAoW,EAAUD,EAAEvV,KAqBZyV,EAfFrW,EADEoW,EACI,SAAUpH,GACPA,OAAAA,EAAIpO,MAGP,SAAUoO,GACVsH,IAAAA,EAAQtH,EAAIlO,WAAWwV,MAAM,kCAC7BA,OAAAA,GAASA,EAAM,GACVA,EAAM,GAGN,IAYb,SAASC,EAAe/E,GAClB1O,IAAAA,EAQAA,GAPC0O,EAEoB,iBAAPA,EAChB1O,GAAM,EAAYzB,EAAAA,aAAAA,EAAZ,YACG,KAAKmV,KAAKhF,KAAS,mBAAoBgF,KAAKhF,KACrD1O,GAAM,EAAYvB,EAAAA,aAAAA,EAAZ,cAJNuB,GAAM,EAAYxB,EAAAA,aAAAA,EAAZ,YAMJwB,EACIA,MAAAA,EAMV,SAAS2T,EAASvF,GACZ,MAAsB,kBAAfA,EAAGwF,QACLxF,EAAGwF,QAGW,mBAAZxF,EAAGnM,OACZyO,EAAe,OACb,8EAEmB,SAAdtC,EAAGnM,QAMd,SAAS+B,EAAc6P,EAAI5R,GAClB,MAAA,kBAAmB4R,EAAKA,EAAG7P,cAAc/B,GACjBX,EAAa0C,aAAAA,cAAc6P,EAAI5R,GAGhE,SAAS6R,EAA2BC,GAC9B,IAACA,EACI,OAAA,KAELzN,IAAAA,EAAQyN,EAAEC,MAAM,KAChB1N,OAAiB,IAAjBA,EAAMvK,OACDuK,EAEY,IAAjBA,EAAMvK,OACD,CAACgY,EAAGA,GAEN,KAGT,SAASE,EAA+BF,GAClCG,IAAAA,EAAaJ,EAA2BC,GACrCG,OAAAA,EAAaA,EAAWC,KAAK,KAAO,KAgH7C,QAAA,aAAA,EA1GA,IAAI9W,EAAO,CAAC,SAAU,WAAY,YAAa,WAAY,OAAQ,WAC/D,OAAQ,OAAQ,WAAY,OAAQ,YAAa,OAAQ,QAAS,UAClE+W,EAAO,WACPC,EAAU,4BAIVC,EAAS,mMAEb,SAASC,EAAStO,GAKTpK,IAJHuG,IAAAA,EAAIkS,EAAOE,KAAKvO,GAChBwO,EAAM,GACN5Y,EAAI,GAEDA,KAAK,CACNT,IAAAA,EAAMiC,EAAKxB,GACXkB,EAAQqF,EAAEvG,IAAM,GAChB6Y,GAAiD,IAAvC,CAAC,OAAQ,YAAYC,QAAQvZ,GAC3CqZ,EAAIrZ,GAAOsZ,EAAUE,mBAAmB7X,GAASA,EAU5C0X,OAPPA,EAAIL,GAAS,GACbK,EAAIpX,EAAK,KAAKwX,QAAQR,EAAS,SAAUS,EAAIC,EAAIC,GAC3CD,IACFN,EAAIL,GAAOW,GAAMC,KAIdP,EAOT,SAASQ,EAAUC,EAAQC,GACrB9X,IAAAA,EAAO,GACP+X,EAAS,GACR,IAAA,IAAIha,KAAO+Z,EACVA,EAAMlJ,eAAe7Q,KACvBiC,EAAKuF,KAAKxH,GACVga,EAAOxS,KAAKuS,EAAM/Z,KAIfsF,OADPrD,EAAKuF,KAAKsS,GACHxU,SAASJ,MAAM,KAAMjD,GAAMiD,MAAM,KAAM8U,GAMhD,SAASC,GAAOjH,EAAIoB,EAAO8F,GAClB,OAAA,IAAI7I,QAAQ,SAAUC,EAASC,GACpCyB,EAAGxR,IAAI4S,EAAO,SAAUxP,EAAKqS,GACvBrS,GAAAA,EAAK,CAEHA,GAAe,MAAfA,EAAIvC,OACCkP,OAAAA,EAAO3M,GAEhBqS,EAAM,GAIJkD,IAAAA,EAASlD,EAAImD,KACbC,EAASH,EAAQjD,GAEjB,IAACoD,EAGI/I,OAAAA,EAAQ,CAACgJ,SAAS,EAAO3F,IAAKwF,IAKvCE,EAAOE,IAAMnG,EACbiG,EAAOD,KAAOD,EACd7I,EAAQkJ,GAAUxH,EAAIqH,EAAQH,QAKpC,SAASM,GAAUxH,EAAIiE,EAAKiD,GACnBlH,OAAAA,EAAGyH,IAAIxD,GAAKvF,KAAK,SAAU5P,GACzB,MAAA,CACLwY,SAAS,EACT3F,IAAK7S,EAAI6S,MAEV,SAAU/P,GAEPA,GAAe,MAAfA,EAAIvC,OACAuC,MAAAA,EAEDqV,OAAAA,GAAOjH,EAAIiE,EAAIsD,IAAKL,KAI/B,SAASvF,GAAIsC,EAAKyD,GACZC,IAAAA,GAAY,EAAM1D,EAAAA,OAAAA,GAClB,OAACyD,UAIEC,EAAUC,WACV,EAAU/X,EAAAA,WAAAA,KAAKC,UAAU6X,KAJvBE,EAAOC,QAAAA,KAAKrB,QAAQ,KAAM,IAAIsB,cAOzC,IAAIC,GAAOH,EAAOC,QAAAA,GAAlB,QAAA,KAAA;;AGvNC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,gBAAA,EAAA,QAAA,gBAAA,EAAA,QAAA,qBAAA,EAAA,QAAA,kBAAA,EAAA,QAAA,UAAA,EAAA,QAAA,qBAAA,EAAA,QAAA,OAAA,EAAA,QAAA,SAAA,EAAA,QAAA,gBAAA,EAAA,QAAA,cAAA,EAAA,QAAA,QAAA,EAAA,QAAA,WAAA,EAziBD,IAAA,EAAA,QAAA,iBACA,EAAA,QAAA,mBAIA,SAAS8D,EAAgB3H,EAAK4H,GAEvB,IADDld,IAAAA,EAAQsV,EACHxW,EAAI,EAAGC,EAAMme,EAAYle,OAAQF,EAAIC,EAAKD,IAAK,CAGlD,KADJkB,EAAQA,EADEkd,EAAYpe,KAGpB,MAGGkB,OAAAA,EAGT,SAASmd,EAAc7H,EAAK4H,EAAald,GAClC,IAAA,IAAIlB,EAAI,EAAGC,EAAMme,EAAYle,OAAQF,EAAIC,EAAI,EAAGD,IAAK,CAExDwW,EAAMA,EADK4H,EAAYpe,IACL,GAEpBwW,EAAI4H,EAAYne,EAAI,IAAMiB,EAG5B,SAASod,EAAQC,EAAMC,GACdD,OAAAA,EAAOC,GAAS,EAAID,EAAOC,EAAQ,EAAI,EAIhD,SAASC,EAAWC,GAIb,IAFDC,IAAAA,EAAS,GACTC,EAAU,GACL5e,EAAI,EAAGC,EAAMye,EAAUxe,OAAQF,EAAIC,EAAKD,IAAK,CAChD4c,IAAAA,EAAK8B,EAAU1e,GACR,MAAP4c,EACE5c,EAAI,GAA0B,OAArB0e,EAAU1e,EAAI,GACzB4e,EAAUA,EAAQnf,UAAU,EAAGmf,EAAQ1e,OAAS,GAAK,KAErDye,EAAO5X,KAAK6X,GACZA,EAAU,IAGZA,GAAWhC,EAIR+B,OADPA,EAAO5X,KAAK6X,GACLD,EAGT,IAAIE,EAAoB,CAAC,MAAO,OAAQ,QACxC,SAASC,EAAqBC,GACrBF,OAAAA,EAAkB/F,QAAQiG,IAAU,EAG7C,SAASC,EAAOlN,GACPrR,OAAAA,OAAOe,KAAKsQ,GAAK,GAG1B,SAASmN,EAASnN,GACTA,OAAAA,EAAIkN,EAAOlN,IAKpB,SAASoN,EAAoBC,GAKvB9d,IAAAA,EAAM,GAqCHA,OAnCP8d,EAAU7d,QAAQ,SAAU8d,GAC1B3e,OAAOe,KAAK4d,GAAU9d,QAAQ,SAAUyd,GAClCM,IAAAA,EAAUD,EAASL,GAKnBD,GAJmB,iBAAZO,IACTA,EAAU,CAACC,IAAKD,IAGdP,EAAqBC,GACnBM,aAAmBvf,MACrBuB,EAAI0d,GAASM,EAAQpL,IAAI,SAAU1N,GAC1B2Y,OAAAA,EAAoB,CAAC3Y,MAG9BlF,EAAI0d,GAASG,EAAoB,CAACG,QAE/B,CACDE,IAAAA,EAAgBle,EAAI0d,GAAS1d,EAAI0d,IAAU,GAC/Cte,OAAOe,KAAK6d,GAAS/d,QAAQ,SAAUke,GACjCte,IAAAA,EAAQme,EAAQG,GAEhBA,MAAa,QAAbA,GAAmC,SAAbA,EACjBC,EAAWD,EAAUte,EAAOqe,GACb,QAAbC,GAAmC,SAAbA,EACxBE,EAAWF,EAAUte,EAAOqe,GACb,QAAbC,EACFG,EAAQze,EAAOqe,GACA,QAAbC,EACFI,EAAQ1e,EAAOqe,QAExBA,EAAcC,GAAYte,UAM3BG,EAMT,SAASoe,EAAWD,EAAUte,EAAOqe,QACF,IAAtBA,EAAcD,WAGS,IAAvBC,EAAcM,KACN,SAAbL,EACEte,EAAQqe,EAAcM,OACxBN,EAAcM,KAAO3e,GAGnBA,GAASqe,EAAcM,cAClBN,EAAcM,KACrBN,EAAcO,IAAM5e,QAGc,IAAtBqe,EAAcO,IACb,SAAbN,EACEte,EAAQqe,EAAcO,aACjBP,EAAcO,IACrBP,EAAcM,KAAO3e,GAGnBA,EAAQqe,EAAcO,MACxBP,EAAcO,IAAM5e,GAIxBqe,EAAcC,GAAYte,GAK9B,SAASwe,EAAWF,EAAUte,EAAOqe,QACF,IAAtBA,EAAcD,WAGS,IAAvBC,EAAcQ,KACN,SAAbP,EACEte,EAAQqe,EAAcQ,OACxBR,EAAcQ,KAAO7e,GAGnBA,GAASqe,EAAcQ,cAClBR,EAAcQ,KACrBR,EAAcS,IAAM9e,QAGc,IAAtBqe,EAAcS,IACb,SAAbR,EACEte,EAAQqe,EAAcS,aACjBT,EAAcS,IACrBT,EAAcQ,KAAO7e,GAGnBA,EAAQqe,EAAcS,MACxBT,EAAcS,IAAM9e,GAIxBqe,EAAcC,GAAYte,GAK9B,SAASye,EAAQze,EAAOqe,GAClB,QAASA,EAEXA,EAAcU,IAAIlZ,KAAK7F,GAEvBqe,EAAcU,IAAM,CAAC/e,GAKzB,SAAS0e,EAAQ1e,EAAOqe,UAGfA,EAAcO,WACdP,EAAcM,YACdN,EAAcS,WACdT,EAAcQ,YACdR,EAAcU,IACrBV,EAAcD,IAAMpe,EAOtB,SAASmf,EAAgBC,GACnB1T,IAAAA,GAAS,EAAM0T,EAAAA,OAAAA,GACfC,GAAW,EACX,SAAU3T,IACZA,EAASsS,EAAoBtS,EAAM,MACnC2T,GAAW,GAGZ,CAAA,MAAO,QAAQjf,QAAQ,SAAUkf,GAC5BA,KAAW5T,GAGbA,EAAO4T,GAASlf,QAAQ,SAAUmf,GAE3B,IADD9B,IAAAA,EAASle,OAAOe,KAAKif,GAChBzgB,EAAI,EAAGA,EAAI2e,EAAOze,OAAQF,IAAK,CAClC+e,IAAAA,EAAQJ,EAAO3e,GACfqf,EAAUoB,EAAY1B,GACH,iBAAZM,GAAoC,OAAZA,IACjCoB,EAAY1B,GAAS,CAACO,IAAKD,SAOjC,SAAUzS,IAGZA,EAAM,KAAWsS,EAAoB,CAACtS,EAAM,QAKzC,IAFD+R,IAAAA,EAASle,OAAOe,KAAKoL,GAEhB5M,EAAI,EAAGA,EAAI2e,EAAOze,OAAQF,IAAK,CAClC+e,IAAAA,EAAQJ,EAAO3e,GACfqf,EAAUzS,EAAOmS,GAEE,iBAAZM,GAAoC,OAAZA,EACjCA,EAAU,CAACC,IAAKD,GACP,QAASA,IAAYkB,IAG9BlB,EAAQY,IAAM,CAACZ,EAAQY,MAEzBrT,EAAOmS,GAASM,EAGXzS,OAAAA,EAIT,SAAS8T,EAAkBlD,GAEhBmD,SAAAA,EAAsBnK,GACtBgH,OAAAA,EAAKvJ,IAAI,SAAU2M,GACpBlC,IACAN,EAAcK,EADFO,EAAO4B,IAGhBC,OADa1C,EAAgB3H,EAAK4H,KAKtC,OAAA,SAAU0C,EAAMC,GACjBC,IAAAA,EAAeL,EAAsBG,EAAKtK,KAC1CyK,EAAeN,EAAsBI,EAAKvK,KAC1C0K,GAAY,EAAQF,EAAAA,SAAAA,EAAcC,GAClCC,OAAc,IAAdA,EACKA,EAGF5C,EAAQwC,EAAKtK,IAAIsD,IAAKiH,EAAKvK,IAAIsD,MAI1C,SAASqH,EAAqBC,EAAMC,EAAYC,GAK1CD,GAJJD,EAAOA,EAAKjN,OAAO,SAAUoN,GACpBC,OAAAA,EAAUD,EAAI/K,IAAK6K,EAAWjC,SAAUkC,KAG7CD,EAAW7D,KAAM,CAEfiE,IAAAA,EAAcf,EAAkBW,EAAW7D,MAC/C4D,EAAOA,EAAK5D,KAAKiE,GACiB,iBAAvBJ,EAAW7D,KAAK,IACU,SAAjCyB,EAASoC,EAAW7D,KAAK,MAC3B4D,EAAOA,EAAKM,WAIZ,GAAA,UAAWL,GAAc,SAAUA,EAAY,CAE7CM,IAAAA,EAAON,EAAWM,MAAQ,EAC1BC,GAAS,UAAWP,EAAaA,EAAWO,MAAQR,EAAKlhB,QAAUyhB,EACvEP,EAAOA,EAAKtT,MAAM6T,EAAMC,GAEnBR,OAAAA,EAGT,SAASI,EAAUhL,EAAK4I,EAAUkC,GACzBA,OAAAA,EAAeO,MAAM,SAAU9C,GAChCM,IAAAA,EAAUD,EAASL,GACnBX,EAAcK,EAAWM,GACzB8B,EAAgB1C,EAAgB3H,EAAK4H,GACrCU,OAAAA,EAAqBC,GAChB+C,EAA0B/C,EAAOM,EAAS7I,GAG5CuL,EAAc1C,EAAS7I,EAAK4H,EAAayC,KAIpD,SAASkB,EAAc1C,EAAS7I,EAAK4H,EAAayC,GAC5C,OAACxB,GAKE5e,OAAOe,KAAK6d,GAASwC,MAAM,SAAUG,GACtCC,IAAAA,EAAY5C,EAAQ2C,GACjBrK,OAAAA,EAAMqK,EAAcxL,EAAKyL,EAAW7D,EAAayC,KAI5D,SAASiB,EAA0B/C,EAAOM,EAAS7I,GAE7CuI,MAAU,QAAVA,EACKM,EAAQ6C,KAAK,SAAUC,GACrBX,OAAAA,EAAUhL,EAAK2L,EAAY1hB,OAAOe,KAAK2gB,MAIpC,SAAVpD,GACMyC,EAAUhL,EAAK6I,EAAS5e,OAAOe,KAAK6d,KAItCA,EAAQ+C,KAAK,SAAUD,GACtBX,OAAAA,EAAUhL,EAAK2L,EAAY1hB,OAAOe,KAAK2gB,MAKlD,SAASxK,EAAMqK,EAAcxL,EAAKyL,EAAW7D,EAAayC,GACpD,IAACwB,EAASL,GACN,MAAA,IAAIjgB,MAAM,qBAAuBigB,EACrC,sIAGGK,OAAAA,EAASL,GAAcxL,EAAKyL,EAAW7D,EAAayC,GAG7D,SAASyB,EAAYzB,GACZ,OAAA,MAAOA,EAGhB,SAAS0B,EAAoB1B,GACpB,YAAyB,IAAlBA,EAGhB,SAAS2B,EAAS3B,EAAeoB,GAC3BQ,IAAAA,EAAUR,EAAU,GACpBS,EAAMT,EAAU,GAChBQ,GAAY,IAAZA,EACI,MAAA,IAAI1gB,MAAM,sCAGdkT,GAAAA,SAASwN,EAAS,MAAQA,EACtB,MAAA,IAAI1gB,MAAM,6BAGdkT,GAAAA,SAASyN,EAAK,MAAQA,EAClB,MAAA,IAAI3gB,MAAM,6BAGdkT,OAAAA,SAAS4L,EAAe,MAAQA,GAI7BA,EAAgB4B,IAAYC,EAGrC,SAASC,EAAmB9B,EAAeoB,GAClCA,OAAAA,EAAUC,KAAK,SAAUnG,GAC1B8E,OAAAA,aAAyB/gB,MACpB+gB,EAAc/H,QAAQiD,IAAQ,EAGhC8E,IAAkB9E,IAI7B,SAAS6G,EAAuB/B,EAAeoB,GACtCA,OAAAA,EAAUJ,MAAM,SAAU9F,GACxB8E,OAAAA,EAAc/H,QAAQiD,IAAQ,IAIzC,SAAS8G,EAAUhC,EAAeoB,GACzBpB,OAAAA,EAAc3gB,SAAW+hB,EAGlC,SAASa,EAAWjC,EAAeoB,GAG1Bc,OAFE,IAAIC,OAAOf,GAEVpK,KAAKgJ,GAGjB,SAASoC,EAAUpC,EAAeoB,GAExBA,OAAAA,GACD,IAAA,OACIpB,OAAkB,OAAlBA,EACJ,IAAA,UACI,MAA2B,kBAAnBA,EACZ,IAAA,SACI,MAA2B,iBAAnBA,EACZ,IAAA,SACI,MAA2B,iBAAnBA,EACZ,IAAA,QACIA,OAAAA,aAAyB/gB,MAC7B,IAAA,SACK,MAAqC,oBAArC,GAAIqC,SAASH,KAAK6e,GAGxB,MAAA,IAAI9e,MAAMkgB,EAAY,8FAK9B,IAAII,EAAW,CAEC,WAAA,SAAU7L,EAAKyL,EAAW7D,EAAayC,GAC/C,QAAC/gB,MAAMC,QAAQ8gB,KAIU,IAAzBA,EAAc3gB,SAIc,iBAArB2gB,EAAc,GAChBA,EAAcqB,KAAK,SAAUnG,GAC3ByF,OAAAA,EAAUzF,EAAKkG,EAAWxhB,OAAOe,KAAKygB,MAI1CpB,EAAcqB,KAAK,SAAUnG,GAC3BgG,OAAAA,EAAcE,EAAWzL,EAAK4H,EAAarC,QAIzC,UAAA,SAAUvF,EAAKyL,EAAW7D,EAAayC,GAC9C,QAAC/gB,MAAMC,QAAQ8gB,KAKU,IAAzBA,EAAc3gB,SAIc,iBAArB2gB,EAAc,GAChBA,EAAcgB,MAAM,SAAU9F,GAC5ByF,OAAAA,EAAUzF,EAAKkG,EAAWxhB,OAAOe,KAAKygB,MAI1CpB,EAAcgB,MAAM,SAAU9F,GAC5BgG,OAAAA,EAAcE,EAAWzL,EAAK4H,EAAarC,QAI/C,IAAA,SAAUvF,EAAKyL,EAAW7D,EAAayC,GACrC0B,OAAAA,EAAoB1B,IAAwD,KAAtC,EAAQA,EAAAA,SAAAA,EAAeoB,IAG9D,KAAA,SAAUzL,EAAKyL,EAAW7D,EAAayC,GACtC0B,OAAAA,EAAoB1B,KAAkB,EAAQA,EAAAA,SAAAA,EAAeoB,IAAc,GAG7E,IAAA,SAAUzL,EAAKyL,EAAW7D,EAAayC,GACrC0B,OAAAA,EAAoB1B,KAAkB,EAAQA,EAAAA,SAAAA,EAAeoB,GAAa,GAG3E,KAAA,SAAUzL,EAAKyL,EAAW7D,EAAayC,GACtC0B,OAAAA,EAAoB1B,KAAkB,EAAQA,EAAAA,SAAAA,EAAeoB,IAAc,GAG7E,IAAA,SAAUzL,EAAKyL,EAAW7D,EAAayC,GACrC0B,OAAAA,EAAoB1B,KAAkB,EAAQA,EAAAA,SAAAA,EAAeoB,GAAa,GAGxE,QAAA,SAAUzL,EAAKyL,EAAW7D,EAAayC,GAE5CoB,OAAAA,EACKM,EAAoB1B,IAGrB0B,EAAoB1B,IAGtB,KAAA,SAAUrK,EAAKyL,EAAW7D,EAAayC,GACtCyB,OAAAA,EAAYzB,IAAkB2B,EAAS3B,EAAeoB,IAGxD,IAAA,SAAUzL,EAAKyL,EAAW7D,EAAayC,GACrCoB,OAAAA,EAAUJ,MAAM,SAAUqB,GACxB,OAAoC,KAApC,EAAQrC,EAAAA,SAAAA,EAAeqC,MAG3B,IAAA,SAAU1M,EAAKyL,EAAW7D,EAAayC,GACrCyB,OAAAA,EAAYzB,IAAkB8B,EAAmB9B,EAAeoB,IAGjE,KAAA,SAAUzL,EAAKyL,EAAW7D,EAAayC,GACtCyB,OAAAA,EAAYzB,KAAmB8B,EAAmB9B,EAAeoB,IAGjE,MAAA,SAAUzL,EAAKyL,EAAW7D,EAAayC,GACvCyB,OAAAA,EAAYzB,IAAkBgC,EAAUhC,EAAeoB,IAGxD,KAAA,SAAUzL,EAAKyL,EAAW7D,EAAayC,GACtC/gB,OAAAA,MAAMC,QAAQ8gB,IAAkB+B,EAAuB/B,EAAeoB,IAGrE,OAAA,SAAUzL,EAAKyL,EAAW7D,EAAayC,GACxCyB,OAAAA,EAAYzB,IAAkBiC,EAAWjC,EAAeoB,IAGxD,MAAA,SAAUzL,EAAKyL,EAAW7D,EAAayC,GACvCoC,OAAAA,EAAUpC,EAAeoB,KAKpC,SAASkB,EAAgB3M,EAAK4I,GAExB,GAAoB,iBAAbA,EAEH,MAAA,IAAIrd,MAAM,0CAIdwf,IAIA6B,EAAcjC,EAAqB,CAJ7B,CACD3K,IAAAA,IAGqC,CAAc4I,SAL5DA,EAAWiB,EAAgBjB,IAK6C3e,OAAOe,KAAK4d,IAC7EgE,OAAAA,GAAsC,IAAvBA,EAAYljB;;AG7cnC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,YAAA,EAAA,QAAA,0BAAA,EAAA,QAAA,YAAA,QAAA,UAAA,QAAA,aAAA,QAAA,YAAA,QAAA,YAAA,QAAA,UAAA,QAAA,UAAA,QAAA,UAAA,QAAA,WAAA,QAAA,cAAA,QAAA,YAAA,QAAA,eAAA,QAAA,kBAAA,QAAA,gBAAA,QAAA,QAAA,QAAA,cAAA,QAAA,SAAA,QAAA,YAAA,QAAA,WAAA,QAAA,WAAA,QAAA,aAAA,QAAA,YAAA,QAAA,kBAAA,QAAA,kBAAA,EA3FD,IAAA,EAAA,EAAA,QAAA,aA2FC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAvFD,SAASyB,EAAWC,EAAQC,EAAOC,GACjCC,MAAMC,KAAK,KAAMF,GACZF,KAAAA,OAASA,EACTK,KAAAA,KAAOJ,EACPK,KAAAA,QAAUJ,EACVD,KAAAA,OAAQ,GAPf,EAASF,EAAAA,SAAAA,EAAYI,OAUrBJ,EAAWb,UAAUqB,SAAW,WACvBC,OAAAA,KAAKC,UAAU,CACpBT,OAAQ,KAAKA,OACbK,KAAM,KAAKA,KACXC,QAAS,KAAKA,QACdJ,OAAQ,KAAKA,UAIjB,IAAIQ,EAAe,IAAIX,EAAW,IAAK,eAAgB,kCAsEtD,QAAA,aAAA,EArED,IAAIY,EAAoB,IAAIZ,EAAW,IAAK,cAAe,+BAqE1D,QAAA,kBAAA,EApED,IAAIa,EAAc,IAAIb,EAAW,IAAK,YAAa,WAoElD,QAAA,YAAA,EAnED,IAAIc,EAAe,IAAId,EAAW,IAAK,WAAY,4BAmElD,QAAA,aAAA,EAlED,IAAIe,EAAa,IAAIf,EAAW,IAAK,cAAe,mCAkEnD,QAAA,WAAA,EAjED,IAAIgB,EAAa,IAAIhB,EAAW,IAAK,aAAc,4BAiElD,QAAA,WAAA,EAhED,IAAIiB,EAAc,IAAIjB,EAAW,IAAK,cAAe,yDAgEpD,QAAA,YAAA,EA/DD,IAAIkB,EAAW,IAAIlB,EAAW,IAAK,sBAAuB,qBA+DzD,QAAA,SAAA,EA9DD,IAAImB,EAAgB,IAAInB,EAAW,IAAK,gBAAiB,yCA8DxD,QAAA,cAAA,EA7DD,IAAIoB,EAAU,IAAIpB,EAAW,IAAK,SAAU,kCA6D3C,QAAA,QAAA,EA5DD,IAAIqB,EAAkB,IAAIrB,EAAW,IAAK,kBAAmB,uBA4D5D,QAAA,gBAAA,EA3DD,IAAIsB,EAAoB,IAAItB,EAAW,IAAK,oBAAqB,mCA2DhE,QAAA,kBAAA,EA1DD,IAAIuB,EAAiB,IAAIvB,EAAW,IAAK,iBAAkB,+BA0D1D,QAAA,eAAA,EAzDD,IAAIwB,EAAc,IAAIxB,EAAW,IAAK,cAAe,oCAyDpD,QAAA,YAAA,EAxDD,IAAIyB,EAAgB,IAAIzB,EAAW,IAAK,cAAe,kCAwDtD,QAAA,cAAA,EAvDD,IAAI0B,EAAa,IAAI1B,EAAW,IAAK,YAAa,sBAuDjD,QAAA,WAAA,EAtDD,IAAI2B,EAAY,IAAI3B,EAAW,IAAK,sBAAuB,WAsD1D,QAAA,UAAA,EArDD,IAAI4B,EAAY,IAAI5B,EAAW,IAAK,mBAAoB,WAqDvD,QAAA,UAAA,EApDD,IAAI6B,EAAY,IAAI7B,EAAW,IAAK,wBAAyB,WAoD5D,QAAA,UAAA,EAnDD,IAAI8B,EAAY,IAAI9B,EAAW,IAAK,YAAa,wDAmDhD,QAAA,UAAA,EAlDD,IAAI+B,EAAc,IAAI/B,EAAW,IAAK,cAAe,sBAkDpD,QAAA,YAAA,EAjDD,IAAIgC,EAAc,IAAIhC,EAAW,IAAK,cAAe,+DAiDpD,QAAA,YAAA,EAhDD,IAAIiC,EAAe,IAAIjC,EAAW,IAAK,eAAgB,+CAgDtD,QAAA,aAAA,EA/CD,IAAIkC,EAAc,IAAIlC,EAAW,IAAK,cAAe,2BAErD,SAASmC,EAAYjC,EAAOC,GACjBiC,SAAAA,EAAiBjC,GAInB,IAAA,IAAIkC,KAAKnC,EACY,mBAAbA,EAAMmC,KACVA,KAAAA,GAAKnC,EAAMmC,SAILC,IAAXnC,IACGA,KAAAA,OAASA,GAIX,OADPiC,EAAiBjD,UAAYa,EAAWb,UACjC,IAAIiD,EAAiBjC,GAG9B,SAASoC,EAA0BC,GAE7B,GAAe,iBAARA,EAAkB,CACvBC,IAAAA,EAAOD,GACXA,EAAMrB,GACFsB,KAAOA,EAoBND,MAjBH,UAAWA,GAAqB,aAAdA,EAAItC,QACxBsC,EAAIlC,KAAO,WACXkC,EAAIvC,OAAS,KAGT,SAAUuC,IACdA,EAAIlC,KAAOkC,EAAItC,OAAS,WAGpB,WAAYsC,IAChBA,EAAIvC,OAAS,KAGT,YAAauC,IACjBA,EAAIjC,QAAUiC,EAAIjC,SAAWiC,EAAIrC,QAG5BqC,EACR,QAAA,YAAA;;AG3FD,IAQA,EACA,EATA,EAAA,QAAA,aACA,EAAA,QAAA,qBAWA,EAAA,EACA,EAAA,EAGA,SAAA,EAAA,EAAA,EAAA,GACA,IAAA,EAAA,GAAA,GAAA,EACA,EAAA,GAAA,GAGA,GADA,EAAA,GAAA,IACA,MAAA,EACA,OAAA,IAAA,EAAA,SAAA,EAAA,SAAA,EAKA,GAAA,MAAA,GAAA,MAAA,EAAA,CACA,IAAA,EAAA,IACA,MAAA,IAEA,EAAA,EAAA,CACA,EAAA,EAAA,GACA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,EAAA,KAGA,MAAA,IAEA,EAAA,EAAA,OAAA,EAAA,IAAA,EAAA,EAAA,KAQA,IAAA,OAAA,IAAA,EAAA,MAAA,EAAA,OAAA,IAAA,MAAA,UAIA,OAAA,IAAA,EAAA,MAAA,EAAA,MAAA,EAAA,EAGA,EAAA,EAAA,GAAA,EAAA,GAAA,IAcA,GAXA,EAAA,QAAA,IAAA,EAAA,WACA,EAAA,EAAA,EAAA,QAKA,EAAA,GAAA,EAAA,SAAA,IAAA,EAAA,QACA,EAAA,GAIA,GAAA,IACA,MAAA,IAAA,MAAA,mDAGA,EAAA,EACA,EAAA,EACA,EAAA,EAMA,IAAA,GAAA,KAAA,WAHA,GAAA,cAGA,GAAA,WACA,EAAA,KAAA,IAAA,GAAA,IACA,EAAA,KAAA,IAAA,GAAA,IACA,EAAA,KAAA,IAAA,EAAA,IACA,EAAA,KAAA,IAAA,EAGA,IAAA,EAAA,EAAA,WAAA,IAAA,UACA,EAAA,KAAA,IAAA,EAAA,IACA,EAAA,KAAA,IAAA,EAGA,EAAA,KAAA,IAAA,GAAA,GAAA,GACA,EAAA,KAAA,IAAA,GAAA,IAGA,EAAA,KAAA,IAAA,EAAA,IAGA,EAAA,KAAA,IAAA,EAGA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,EACA,EAAA,EAAA,GAAA,EAAA,GAGA,OAAA,GAAA,EAAA,GAGA,OAAA,QAAA;;AC5GA,IAAA,EAAA,QAAA,aACA,EAAA,QAAA,qBAEA,SAAA,EAAA,EAAA,EAAA,GACA,IAAA,EAAA,GAAA,GAAA,EAEA,iBAAA,IACA,EAAA,WAAA,EAAA,IAAA,MAAA,IAAA,KACA,EAAA,MAIA,IAAA,GAFA,EAAA,GAAA,IAEA,SAAA,EAAA,KAAA,KAOA,GAJA,EAAA,GAAA,GAAA,EAAA,GAAA,GACA,EAAA,GAAA,GAAA,EAAA,GAAA,IAGA,EACA,IAAA,IAAA,EAAA,EAAA,EAAA,KAAA,EACA,EAAA,EAAA,GAAA,EAAA,GAIA,OAAA,GAAA,EAAA,GAGA,OAAA,QAAA;;AC5BA,IAAA,EAAA,QAAA,QACA,EAAA,QAAA,QAEA,EAAA,EACA,EAAA,GAAA,EACA,EAAA,GAAA,EAEA,OAAA,QAAA;;;AEkEC,IAAA,EAAA,UAAA,GAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EAAA,QAAA,UAAA,EAzED,IAAA,EAAA,QAAA,wBACA,EAAA,EAAA,QAAA,cAwEC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAtED,IAAIgJ,EAAmBC,EAAOC,cAAgBD,EAAOE,WACjDC,EAAiB,MAErB,SAASC,EAAYC,GACZ,OAAA,EAAKA,EAAAA,MAAAA,GAGd,SAASC,EAAUpB,EAAMqB,EAAOC,GAC1BtB,OAAAA,EAAKuB,YACAvB,EAAKuB,YAAYF,EAAOC,GAE1BtB,EAAKwB,MAAMH,EAAOC,GAG3B,SAASG,EAAW/B,EAAQM,EAAMqB,EAAOC,EAAKrB,IACxCoB,EAAQ,GAAKC,EAAMtB,EAAK5K,QAE1B4K,EAAOoB,EAAUpB,EAAMqB,EAAOC,KAEdtB,EAAAA,EAAAA,mBAAAA,EAAM,SAAU0B,GAChChC,EAAOb,OAAO6C,GACdzB,MAIJ,SAAS0B,EAAajC,EAAQkC,EAAQP,EAAOC,EAAKrB,IAC5CoB,EAAQ,GAAKC,EAAMM,EAAOhO,UAE5BgO,EAASA,EAAOzO,UAAUkO,EAAOC,IAEnC5B,EAAOmC,aAAaD,GACpB3B,IAGF,SAAS6B,EAAUhK,EAAMmI,GACnB8B,IAAAA,EAAgC,iBAATjK,EACvBnE,EAAMoO,EAAgBjK,EAAKlE,OAASkE,EAAK1C,KACzC4M,EAAYC,KAAKC,IAAIjB,EAAgBtN,GACrCwO,EAASF,KAAKG,KAAKzO,EAAMqO,GACzBK,EAAe,EACf3C,EAASqC,EAAgB,IAAIO,EAAJ,QAAY,IAAIA,EAAIpD,QAAAA,YAE7CL,EAASkD,EAAgBJ,EAAeF,EAEnCc,SAAAA,IACP1B,EAAiB2B,GAGVC,SAAAA,IACHtB,IACAR,EAASO,EADHxB,EAAO4B,KAAI,IAErBrB,EAASU,GACTjB,EAAOgD,UAGAF,SAAAA,IACHnB,IAAAA,EAAQgB,EAAeL,EACvBV,EAAMD,EAAQW,EAGhBnD,EAAOa,EAAQ5H,EAAMuJ,EAAOC,IAF9Be,EACmBF,EACgBI,EAEAE,GAGrCD,IAGF,SAASG,EAAUf,GACVU,OAAAA,EAAIM,QAAAA,KAAKhB;;ACwrBlB,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,WAAA,EAAA,QAAA,YAAA,EAAA,QAAA,eAAA,EAAA,QAAA,MAAA,EAAA,QAAA,eAAA,EAAA,QAAA,aAAA,EAAA,QAAA,aAAA,EAAA,QAAA,QAAA,EAAA,QAAA,eAAA,EAAA,QAAA,gBAAA,EAAA,QAAA,eAAA,EAAA,QAAA,SAAA,EAAA,QAAA,cAAA,EAAA,QAAA,0BAAA,EAAA,QAAA,KAAA,EAAA,QAAA,sBAAA,EAAA,QAAA,SAAA,EAAA,QAAA,KAAA,EAAA,QAAA,IAAA,GAAA,QAAA,UAAA,EAAA,QAAA,UAAA,EAAA,QAAA,OAAA,GAAA,OAAA,eAAA,QAAA,WAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,WAAA,QAAA,KAAA,QAAA,aAAA,QAAA,YAAA,EAhwBA,IAAA,EAAA,EAAA,QAAA,cACA,EAAA,QAAA,uBACA,EAAA,EAAA,QAAA,cACA,EAAA,QAAA,UACA,EAAA,EAAA,QAAA,aACA,EAAA,QAAA,kBACA,EAAA,EAAA,QAAA,SACA,EAAA,QAAA,eACA,EAAA,QAAA,iBAwvBA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAtvBA,SAASiB,EAAeC,GACd,MAAuB,oBAAhB5D,aAA+B4D,aAAkB5D,aAC7C,oBAATb,MAAwByE,aAAkBzE,KAGtD,SAAS0E,EAAiBC,GACpB,GAAsB,mBAAfA,EAAKxB,MACPwB,OAAAA,EAAKxB,MAAM,GAGhBpJ,IAAAA,EAAS,IAAI8G,YAAY8D,EAAKnD,YAC9BoD,EAAc,IAAI9D,WAAW/G,GAC7B8K,EAAc,IAAI/D,WAAW6D,GAE1B5K,OADP6K,EAAYtO,IAAIuO,GACT9K,EAGT,SAAS+K,EAAkBL,GACrBA,GAAAA,aAAkB5D,YACb6D,OAAAA,EAAiBD,GAEtB1N,IAAAA,EAAO0N,EAAO1N,KACd0E,EAAOgJ,EAAOhJ,KAEd,MAAwB,mBAAjBgJ,EAAOtB,MACTsB,EAAOtB,MAAM,EAAGpM,EAAM0E,GAGxBgJ,EAAOvB,YAAY,EAAGnM,EAAM0E,GAOrC,IAAIsJ,EAAe7K,SAAS/D,UAAUqB,SAClCwN,EAAmBD,EAAa1N,KAAKvB,QAEzC,SAASmP,EAAc1O,GACjB2O,IAAAA,EAAQpP,OAAOsI,eAAe7H,GAE9B2O,GAAU,OAAVA,EACK,OAAA,EAELC,IAAAA,EAAOD,EAAME,YACT,MAAe,mBAARD,GACbA,aAAgBA,GAAQJ,EAAa1N,KAAK8N,IAASH,EAGvD,SAAS6rC,EAAQpsC,GACXa,IAAAA,EACAjQ,EACAC,EAEA,IAACmP,GAA4B,iBAAXA,EACbA,OAAAA,EAGLtP,GAAAA,MAAMC,QAAQqP,GAAS,CAEpBpP,IADLiQ,EAAY,GACPjQ,EAAI,EAAGC,EAAMmP,EAAOlP,OAAQF,EAAIC,EAAKD,IACxCiQ,EAAUjQ,GAAKw7C,EAAQpsC,EAAOpP,IAEzBiQ,OAAAA,EAKLb,GAAAA,aAAkBc,KACbd,OAAAA,EAAOe,cAGZhB,GAAAA,EAAeC,GACVK,OAAAA,EAAkBL,GAGvB,IAACQ,EAAcR,GACVA,OAAAA,EAIJpP,IAAAA,KADLiQ,EAAY,GACFb,EAEJ3O,GAAAA,OAAOK,UAAUsP,eAAepO,KAAKoN,EAAQpP,GAAI,CAC/CkB,IAAAA,EAAQs6C,EAAQpsC,EAAOpP,SACN,IAAVkB,IACT+O,EAAUjQ,GAAKkB,GAId+O,OAAAA,EAGT,SAASvG,EAAK2G,GACRC,IAAAA,GAAS,EACN,OAAA,EAAa,EAAA,SAAA,SAAU1L,GAExB0L,GAAAA,EAEI,MAAA,IAAIvO,MAAM,8BAEhBuO,GAAS,EACTD,EAAI5L,MAAM,KAAMG,KAKtB,SAAS2L,EAAUC,GAEV,OAAA,EAAa,EAAA,SAAA,SAAU5L,GAE5BA,EAAO42C,EAAQ52C,GACX6L,IAAAA,EAAO,KAEPC,EAA2C,mBAA1B9L,EAAKA,EAAK1E,OAAS,IAAqB0E,EAAK8D,MAC9DiI,EAAU,IAAIC,QAAQ,SAAUC,EAASC,GACvCC,IAAAA,EACA,IACExE,IAAAA,EAAW7C,EAAK,SAAUvF,EAAK6M,GAC7B7M,EACF2M,EAAO3M,GAEP0M,EAAQG,KAKZpM,EAAKmC,KAAKwF,IACVwE,EAAOP,EAAK/L,MAAMgM,EAAM7L,KACS,mBAAdmM,EAAKE,MACtBJ,EAAQE,GAEV,MAAOnG,GACPkG,EAAOlG,MASJ+F,OALHD,GACFC,EAAQM,KAAK,SAAUrE,GACrB8D,EAAO,KAAM9D,IACZ8D,GAEEC,IAIX,SAASO,EAAWT,EAAMxO,EAAM2C,GAE1B6L,GAAAA,EAAKV,YAAYzG,UAAU,SAASpJ,OAAQ,CAEzC,IADDiR,IAAAA,EAAU,CAAC,MAAOV,EAAKxO,KAAMA,GACxBjC,EAAI,EAAGA,EAAI4E,EAAK1E,OAAS,EAAGF,IACnCmR,EAAQpK,KAAKnC,EAAK5E,IAEpByQ,EAAKV,YAAYlJ,KAAK,QAASsK,GAG3BC,IAAAA,EAAexM,EAAKA,EAAK1E,OAAS,GACtC0E,EAAKA,EAAK1E,OAAS,GAAK,SAAUiE,EAAK9C,GACjCgQ,IAAAA,EAAe,CAAC,MAAOZ,EAAKxO,KAAMA,GACtCoP,EAAeA,EAAahM,OAC1BlB,EAAM,CAAC,QAASA,GAAO,CAAC,UAAW9C,IAErCoP,EAAKV,YAAYlJ,KAAK,QAASwK,GAC/BD,EAAajN,EAAK9C,KAKxB,SAASiQ,EAAWrP,EAAMsK,GACjBgE,OAAAA,GAAU,EAAa,EAAA,SAAA,SAAU3L,GAClC,GAAA,KAAK2M,QACAX,OAAAA,QAAQE,OAAO,IAAI/O,MAAM,uBAE9B,GAAA,KAAKyP,WACAZ,OAAAA,QAAQE,OAAO,IAAI/O,MAAM,0BAE9B0O,IAAAA,EAAO,KAEP,OADJS,EAAWT,EAAMxO,EAAM2C,GAClB,KAAK6M,UAAUC,QAWbnF,EAAS9H,MAAM,KAAMG,GAVnB,IAAIgM,QAAQ,SAAUC,EAASC,GACpCL,EAAKgB,UAAUE,QAAQ,SAAUC,GAC3BA,EACFd,EAAOc,GAEPf,EAAQJ,EAAKxO,GAAMwC,MAAMgM,EAAM7L,WAU3C,SAASiN,EAAKC,EAAK1J,GAEZ,IADD/G,IAAAA,EAAM,GACDrB,EAAI,EAAGC,EAAMmI,EAAIlI,OAAQF,EAAIC,EAAKD,IAAK,CAC1CQ,IAAAA,EAAO4H,EAAIpI,GACXQ,KAAQsR,IACVzQ,EAAIb,GAAQsR,EAAItR,IAGba,OAAAA,EAMT,IAgII0Q,EA8IAC,EA9QAC,EAA8B,EAElC,SAASC,EAAiBC,GACjBA,OAAAA,EAGT,SAASC,EAA2BxF,GAC3B,MAAA,CAAC,CACNyF,GAAIzF,IAKR,SAAS0F,EAAQC,EAAIC,EAAMjG,GACrBkG,IAAAA,EAAWD,EAAKE,KAGhBC,EAAe,IAAIrS,EAAJ,IACnBmS,EAASnR,QAAQ,SAAUsR,GACrBD,EAAaxR,IAAIyR,EAAQC,IAC3BF,EAAa5R,IAAI6R,EAAQC,IAAI9L,KAAK6L,GAElCD,EAAa1R,IAAI2R,EAAQC,GAAI,CAACD,MAI9BE,IAAAA,EAAUH,EAAajR,KACvBqR,EAAU,EACVC,EAAgB,IAAIlT,MAAMgT,GAerBG,SAAAA,IAbAC,IACHC,IAaEJ,IAAYD,IAbdK,EAAU,GACdH,EAAc1R,QAAQ,SAAUD,GAC9BA,EAAIqR,KAAKpR,QAAQ,SAAU8R,GACzBD,EAAQpM,KAAK,CACX8L,GAAIxR,EAAIwR,GACRH,KAAM,CAACU,SAIb7G,EAAS,KAAM,CAAC4G,QAASA,KAcvBE,IAAAA,EAAc,GAClBV,EAAarR,QAAQ,SAAUJ,EAAO3B,GACpC8T,EAAYtM,KAAKxH,KAGfS,IAAAA,EAAI,EAECsT,SAAAA,IAEHtT,KAAAA,GAAKqT,EAAYnT,QAAjBF,CAIAuT,IAAAA,EAAOhF,KAAKC,IAAIxO,EAAIiS,EAA6BoB,EAAYnT,QAC7DsT,EAAQH,EAAYvF,MAAM9N,EAAGuT,IAK1BE,SAAaD,EAAOE,GAC3BF,EAAMlS,QAAQ,SAAUqS,EAAOC,GACzBC,IAAAA,EAASH,EAASE,EAClBE,EAAcnB,EAAa5R,IAAI4S,GAQ/BI,EAAUlC,EAAKiC,EAAY,GAAI,CAAC,aAAc,gBAClDC,EAAQC,UAAYF,EAAYG,IAAI,SAAUrB,GAErCA,OAAAA,EAAQsB,MAIjBH,EAAQC,UAAYD,EAAQC,UAAUG,OAAOjC,GAEzCkC,IAAAA,EAAelC,EAEc,IAA7B6B,EAAQC,UAAU9T,gBACb6T,EAAQC,UAKfI,EAAehC,GAIhB,CAAA,OAAQ,cAAe,SAAU,OAAQ,UAAU9Q,QAAQ,SAAU+S,GAChEA,KAAS7B,IACXuB,EAAQM,GAAS7B,EAAK6B,MAG1B9B,EAAGxR,IAAI4S,EAAOI,EAAS,SAAU5P,EAAK9C,GAChCuL,IAAAA,EA9DmBiG,EAAIH,EAiEzB9F,EADEzI,EACO,CAAC,CAACtC,MAAOsC,IAETiQ,EAAa/S,GAnEDwR,EAqELc,EArESjB,EAqEF9F,EApE7BoG,EAoEca,GApEY,CAAChB,GAAIA,EAAIH,KAAMA,GACzCO,IAoEIK,QAlDJG,CAAaD,EAAOxT,GACpBA,GAAKwT,EAAMtT,QAsDboT,IAMF,IACEgB,aAAaC,QAAQ,4BAA6B,GAClDxC,IAAauC,aAAaE,QAAQ,6BAClC,MAAO5J,IACPmH,GAAW,EAGb,SAAS0C,IACA1C,OAAAA,EAQT,SAAS2C,EAAoBjE,GACvBgE,KACFE,iBAAiB,UAAW,SAAU/J,GACpC6F,EAAK5J,KAAK+D,EAAErL,OAKlB,SAASqV,IACM5S,EAAAA,aAAAA,KAAK,MACb8F,KAAAA,WAAa,GAElB4M,EAAoB,MAsEtB,SAASG,EAAeC,GAElB,GAAmB,oBAAZ9P,SAAsD,mBAApBA,QAAQ8P,GAAwB,CACvElQ,IAAAA,EAAO9E,MAAMgB,UAAUgN,MAAM9L,KAAKsF,UAAW,GACjDtC,QAAQ8P,GAAQrQ,MAAMO,QAASJ,IAInC,SAASmQ,EAAavG,EAAKwG,GAiBlB,OAfPxG,EAAMyG,SAASzG,EAAK,KAAO,GAC3BwG,EAAMC,SAASD,EAAK,MACRA,GAAOA,GAAOxG,EACxBwG,GAAOxG,GAAO,IAAM,EAEpBwG,GAAY,EAGVA,EATa,MAUfxG,EAAM0G,IACNF,EAXe,SAcLA,EAAMxG,GADND,KAAK4G,SAGS3G,GAG5B,SAAS4G,EAAe5G,GAClBwG,IAAAA,EAAM,EAIHD,OAHFvG,IACHwG,EAAM,KAEDD,EAAavG,EAAKwG,GAK3B,SAASK,EAAazT,EAAQwI,GAC5ByK,EAAe,OAAQ,aAAejT,EAAS,uBAAyBwI,IA5H1E,EAASwK,EAAAA,SAAAA,EAASnP,EAAlB,cAiBAmP,EAAQ9T,UAAUyI,YAAc,SAAU+L,EAAQzC,EAAIN,EAAIC,GAEpD,IAAA,KAAK1K,WAAW+K,GAAhB,CAGApC,IAAAA,EAAO,KACP8E,GAAa,EAiCZzN,KAAAA,WAAW+K,GAAM2C,EACjBhM,KAAAA,GAAG8L,EAAQE,GAjCPA,SAAAA,IAEH,GAAC/E,EAAK3I,WAAW+K,GAGjB0C,GAAAA,EACFA,EAAa,cADXA,CAIJA,GAAa,EACTE,IAAAA,EAAc5D,EAAKW,EAAM,CAC3B,QAAS,eAAgB,cAAe,YAAa,SACrD,UAAW,OAAQ,QAAS,eAAgB,SAAU,gBAQxDD,EAAGmD,QAAQD,GAAajM,GAAG,SAAU,SAAUmM,GACzCA,EAAEC,IAAMpD,EAAKqD,QAAUrD,EAAKsD,YAC9BtD,EAAKqD,MAAQF,EAAEC,IACfpD,EAAKuD,SAASJ,MAEfnM,GAAG,WAAY,WACG,YAAf+L,IACQC,EAAAA,EAAAA,SAAAA,GAEZD,GAAa,IACZ/L,GAAG,QAdGwM,WACPT,GAAa,OAmBnBX,EAAQ9T,UAAU0G,eAAiB,SAAU8N,EAAQzC,GAE7CA,KAAM,KAAK/K,aAGJhH,EAAAA,aAAAA,UAAU0G,eAAexF,KAAK,KAAMsT,EAC/C,KAAKxN,WAAW+K,WACX,KAAK/K,WAAW+K,KAKzB+B,EAAQ9T,UAAUmV,mBAAqB,SAAUX,GAG3Cb,MACFH,aAAagB,GAAoC,MAAzBhB,aAAagB,GAAmB,IAAM,MAIlEV,EAAQ9T,UAAUoV,OAAS,SAAUZ,GAC9BzO,KAAAA,KAAKyO,GACLW,KAAAA,mBAAmBX,IAwE1B,IAAIa,EAxBAnE,EAD2B,mBAAlBvR,OAAOuR,OACPvR,OAAOuR,OAIP,SAAUtN,GAGZ,IAFD0R,IAAAA,EAAK3V,OAAOiE,GAEP+D,EAAQ,EAAGA,EAAQnB,UAAUpH,OAAQuI,IAAS,CACjD4N,IAAAA,EAAa/O,UAAUmB,GAEvB4N,GAAc,MAAdA,EACG,IAAA,IAAIC,KAAWD,EAEd5V,OAAOK,UAAUsP,eAAepO,KAAKqU,EAAYC,KACnDF,EAAGE,GAAWD,EAAWC,IAK1BF,OAAAA,GAOb,SAASG,EAAUpC,EAAQqC,EAAKC,GAC1B,IACK,OAACtC,EAAOqC,EAAKC,GACpB,MAAOtS,GACHuS,IAAAA,EAAM,0BAA4BvS,EAAIhC,WACnC,OAAA,EAAYgB,EAAAA,aAAAA,EAAZ,YAAyBuT,IAIpC,SAASC,EAAanE,GAChBiE,IAAAA,EAAM,GACNG,EAAYpE,EAAK2B,QAAiC,mBAAhB3B,EAAK2B,OAGpC,OAFPsC,EAAII,MAAQrE,EAAKsE,aAEV,SAAgBC,GAChBA,EAAOP,MAGVO,EAAOP,IAAM,IAGXQ,IAAAA,EAAeJ,GAAaL,EAAU/D,EAAK2B,OAAQ4C,EAAOP,IAAKC,GAE/D,GAAwB,iBAAjBO,EACFA,OAAAA,EAGLA,GAAAA,EACK,OAAA,EAGL,GAACxE,EAAKyE,cAEH,IAAKzE,EAAK0E,YACV,IAAA,IAAIC,KAAOJ,EAAOP,IAAIY,aAErBL,EAAOP,IAAIY,aAAahH,eAAe+G,KACzCJ,EAAOP,IAAIY,aAAaD,GAAKE,MAAO,eALjCN,EAAOP,IAST,OAAA,GAIX,SAASc,EAAQC,GAEV,IADDlW,IAAAA,EAAM,GACDrB,EAAI,EAAGC,EAAMsX,EAAKrX,OAAQF,EAAIC,EAAKD,IAC1CqB,EAAMA,EAAIgE,OAAOkS,EAAKvX,IAEjBqB,OAAAA,EAOT,SAASmW,KAkMT,QAAA,OAAA,EAhMA,IACInW,EADAoW,EAAUD,EAAEvV,KAqBZyV,EAfFrW,EADEoW,EACI,SAAUpH,GACPA,OAAAA,EAAIpO,MAGP,SAAUoO,GACVsH,IAAAA,EAAQtH,EAAIlO,WAAWwV,MAAM,kCAC7BA,OAAAA,GAASA,EAAM,GACVA,EAAM,GAGN,IAYb,SAASC,EAAe/E,GAClB1O,IAAAA,EAQAA,GAPC0O,EAEoB,iBAAPA,EAChB1O,GAAM,EAAYzB,EAAAA,aAAAA,EAAZ,YACG,KAAKmV,KAAKhF,KAAS,mBAAoBgF,KAAKhF,KACrD1O,GAAM,EAAYvB,EAAAA,aAAAA,EAAZ,cAJNuB,GAAM,EAAYxB,EAAAA,aAAAA,EAAZ,YAMJwB,EACIA,MAAAA,EAMV,SAAS2T,EAASvF,GACZ,MAAsB,kBAAfA,EAAGwF,QACLxF,EAAGwF,QAGW,mBAAZxF,EAAGnM,OACZyO,EAAe,OACb,8EAEmB,SAAdtC,EAAGnM,QAMd,SAAS+B,EAAc6P,EAAI5R,GAClB,MAAA,kBAAmB4R,EAAKA,EAAG7P,cAAc/B,GACjBX,EAAa0C,aAAAA,cAAc6P,EAAI5R,GAGhE,SAAS6R,EAA2BC,GAC9B,IAACA,EACI,OAAA,KAELzN,IAAAA,EAAQyN,EAAEC,MAAM,KAChB1N,OAAiB,IAAjBA,EAAMvK,OACDuK,EAEY,IAAjBA,EAAMvK,OACD,CAACgY,EAAGA,GAEN,KAGT,SAASE,EAA+BF,GAClCG,IAAAA,EAAaJ,EAA2BC,GACrCG,OAAAA,EAAaA,EAAWC,KAAK,KAAO,KAgH7C,QAAA,aAAA,EA1GA,IAAI9W,EAAO,CAAC,SAAU,WAAY,YAAa,WAAY,OAAQ,WAC/D,OAAQ,OAAQ,WAAY,OAAQ,YAAa,OAAQ,QAAS,UAClE+W,EAAO,WACPC,EAAU,4BAIVC,EAAS,mMAEb,SAASC,EAAStO,GAKTpK,IAJHuG,IAAAA,EAAIkS,EAAOE,KAAKvO,GAChBwO,EAAM,GACN5Y,EAAI,GAEDA,KAAK,CACNT,IAAAA,EAAMiC,EAAKxB,GACXkB,EAAQqF,EAAEvG,IAAM,GAChB6Y,GAAiD,IAAvC,CAAC,OAAQ,YAAYC,QAAQvZ,GAC3CqZ,EAAIrZ,GAAOsZ,EAAUE,mBAAmB7X,GAASA,EAU5C0X,OAPPA,EAAIL,GAAS,GACbK,EAAIpX,EAAK,KAAKwX,QAAQR,EAAS,SAAUS,EAAIC,EAAIC,GAC3CD,IACFN,EAAIL,GAAOW,GAAMC,KAIdP,EAOT,SAASQ,EAAUC,EAAQC,GACrB9X,IAAAA,EAAO,GACP+X,EAAS,GACR,IAAA,IAAIha,KAAO+Z,EACVA,EAAMlJ,eAAe7Q,KACvBiC,EAAKuF,KAAKxH,GACVga,EAAOxS,KAAKuS,EAAM/Z,KAIfsF,OADPrD,EAAKuF,KAAKsS,GACHxU,SAASJ,MAAM,KAAMjD,GAAMiD,MAAM,KAAM8U,GAMhD,SAASC,GAAOjH,EAAIoB,EAAO8F,GAClB,OAAA,IAAI7I,QAAQ,SAAUC,EAASC,GACpCyB,EAAGxR,IAAI4S,EAAO,SAAUxP,EAAKqS,GACvBrS,GAAAA,EAAK,CAEHA,GAAe,MAAfA,EAAIvC,OACCkP,OAAAA,EAAO3M,GAEhBqS,EAAM,GAIJkD,IAAAA,EAASlD,EAAImD,KACbC,EAASH,EAAQjD,GAEjB,IAACoD,EAGI/I,OAAAA,EAAQ,CAACgJ,SAAS,EAAO3F,IAAKwF,IAKvCE,EAAOE,IAAMnG,EACbiG,EAAOD,KAAOD,EACd7I,EAAQkJ,GAAUxH,EAAIqH,EAAQH,QAKpC,SAASM,GAAUxH,EAAIiE,EAAKiD,GACnBlH,OAAAA,EAAGyH,IAAIxD,GAAKvF,KAAK,SAAU5P,GACzB,MAAA,CACLwY,SAAS,EACT3F,IAAK7S,EAAI6S,MAEV,SAAU/P,GAEPA,GAAe,MAAfA,EAAIvC,OACAuC,MAAAA,EAEDqV,OAAAA,GAAOjH,EAAIiE,EAAIsD,IAAKL,KAI/B,SAASvF,GAAIsC,EAAKyD,GACZC,IAAAA,GAAY,EAAM1D,EAAAA,OAAAA,GAClB,OAACyD,UAIEC,EAAUC,WACV,EAAU/X,EAAAA,WAAAA,KAAKC,UAAU6X,KAJvBE,EAAOC,QAAAA,KAAKrB,QAAQ,KAAM,IAAIsB,cAOzC,IAAIC,GAAOH,EAAOC,QAAAA,GAAlB,QAAA,KAAA;;AKrqBC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,YAAA,EAAA,QAAA,0BAAA,EAAA,QAAA,YAAA,QAAA,UAAA,QAAA,aAAA,QAAA,YAAA,QAAA,YAAA,QAAA,UAAA,QAAA,UAAA,QAAA,UAAA,QAAA,WAAA,QAAA,cAAA,QAAA,YAAA,QAAA,eAAA,QAAA,kBAAA,QAAA,gBAAA,QAAA,QAAA,QAAA,cAAA,QAAA,SAAA,QAAA,YAAA,QAAA,WAAA,QAAA,WAAA,QAAA,aAAA,QAAA,YAAA,QAAA,kBAAA,QAAA,kBAAA,EA3FD,IAAA,EAAA,EAAA,QAAA,aA2FC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAvFD,SAAS1Y,EAAWC,EAAQC,EAAOC,GACjCC,MAAMC,KAAK,KAAMF,GACZF,KAAAA,OAASA,EACTK,KAAAA,KAAOJ,EACPK,KAAAA,QAAUJ,EACVD,KAAAA,OAAQ,GAPf,EAASF,EAAAA,SAAAA,EAAYI,OAUrBJ,EAAWb,UAAUqB,SAAW,WACvBC,OAAAA,KAAKC,UAAU,CACpBT,OAAQ,KAAKA,OACbK,KAAM,KAAKA,KACXC,QAAS,KAAKA,QACdJ,OAAQ,KAAKA,UAIjB,IAAIQ,EAAe,IAAIX,EAAW,IAAK,eAAgB,kCAsEtD,QAAA,aAAA,EArED,IAAIY,EAAoB,IAAIZ,EAAW,IAAK,cAAe,+BAqE1D,QAAA,kBAAA,EApED,IAAIa,EAAc,IAAIb,EAAW,IAAK,YAAa,WAoElD,QAAA,YAAA,EAnED,IAAIc,EAAe,IAAId,EAAW,IAAK,WAAY,4BAmElD,QAAA,aAAA,EAlED,IAAIe,EAAa,IAAIf,EAAW,IAAK,cAAe,mCAkEnD,QAAA,WAAA,EAjED,IAAIgB,EAAa,IAAIhB,EAAW,IAAK,aAAc,4BAiElD,QAAA,WAAA,EAhED,IAAIiB,EAAc,IAAIjB,EAAW,IAAK,cAAe,yDAgEpD,QAAA,YAAA,EA/DD,IAAIkB,EAAW,IAAIlB,EAAW,IAAK,sBAAuB,qBA+DzD,QAAA,SAAA,EA9DD,IAAImB,EAAgB,IAAInB,EAAW,IAAK,gBAAiB,yCA8DxD,QAAA,cAAA,EA7DD,IAAIoB,EAAU,IAAIpB,EAAW,IAAK,SAAU,kCA6D3C,QAAA,QAAA,EA5DD,IAAIqB,EAAkB,IAAIrB,EAAW,IAAK,kBAAmB,uBA4D5D,QAAA,gBAAA,EA3DD,IAAIsB,EAAoB,IAAItB,EAAW,IAAK,oBAAqB,mCA2DhE,QAAA,kBAAA,EA1DD,IAAIuB,EAAiB,IAAIvB,EAAW,IAAK,iBAAkB,+BA0D1D,QAAA,eAAA,EAzDD,IAAIwB,EAAc,IAAIxB,EAAW,IAAK,cAAe,oCAyDpD,QAAA,YAAA,EAxDD,IAAIyB,EAAgB,IAAIzB,EAAW,IAAK,cAAe,kCAwDtD,QAAA,cAAA,EAvDD,IAAI0B,EAAa,IAAI1B,EAAW,IAAK,YAAa,sBAuDjD,QAAA,WAAA,EAtDD,IAAI2B,EAAY,IAAI3B,EAAW,IAAK,sBAAuB,WAsD1D,QAAA,UAAA,EArDD,IAAI4B,EAAY,IAAI5B,EAAW,IAAK,mBAAoB,WAqDvD,QAAA,UAAA,EApDD,IAAI6B,EAAY,IAAI7B,EAAW,IAAK,wBAAyB,WAoD5D,QAAA,UAAA,EAnDD,IAAI8B,EAAY,IAAI9B,EAAW,IAAK,YAAa,wDAmDhD,QAAA,UAAA,EAlDD,IAAI+B,EAAc,IAAI/B,EAAW,IAAK,cAAe,sBAkDpD,QAAA,YAAA,EAjDD,IAAIgC,EAAc,IAAIhC,EAAW,IAAK,cAAe,+DAiDpD,QAAA,YAAA,EAhDD,IAAIiC,EAAe,IAAIjC,EAAW,IAAK,eAAgB,+CAgDtD,QAAA,aAAA,EA/CD,IAAIkC,EAAc,IAAIlC,EAAW,IAAK,cAAe,2BAErD,SAASmC,EAAYjC,EAAOC,GACjBiC,SAAAA,EAAiBjC,GAInB,IAAA,IAAIkC,KAAKnC,EACY,mBAAbA,EAAMmC,KACVA,KAAAA,GAAKnC,EAAMmC,SAILC,IAAXnC,IACGA,KAAAA,OAASA,GAIX,OADPiC,EAAiBjD,UAAYa,EAAWb,UACjC,IAAIiD,EAAiBjC,GAG9B,SAASoC,EAA0BC,GAE7B,GAAe,iBAARA,EAAkB,CACvBC,IAAAA,EAAOD,GACXA,EAAMrB,GACFsB,KAAOA,EAoBND,MAjBH,UAAWA,GAAqB,aAAdA,EAAItC,QACxBsC,EAAIlC,KAAO,WACXkC,EAAIvC,OAAS,KAGT,SAAUuC,IACdA,EAAIlC,KAAOkC,EAAItC,OAAS,WAGpB,WAAYsC,IAChBA,EAAIvC,OAAS,KAGT,YAAauC,IACjBA,EAAIjC,QAAUiC,EAAIjC,SAAWiC,EAAIrC,QAG5BqC,EACR,QAAA,YAAA;;AG3FD,IAQA,EACA,EATA,EAAA,QAAA,aACA,EAAA,QAAA,qBAWA,EAAA,EACA,EAAA,EAGA,SAAA,EAAA,EAAA,EAAA,GACA,IAAA,EAAA,GAAA,GAAA,EACA,EAAA,GAAA,GAGA,GADA,EAAA,GAAA,IACA,MAAA,EACA,OAAA,IAAA,EAAA,SAAA,EAAA,SAAA,EAKA,GAAA,MAAA,GAAA,MAAA,EAAA,CACA,IAAA,EAAA,IACA,MAAA,IAEA,EAAA,EAAA,CACA,EAAA,EAAA,GACA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,EAAA,KAGA,MAAA,IAEA,EAAA,EAAA,OAAA,EAAA,IAAA,EAAA,EAAA,KAQA,IAAA,OAAA,IAAA,EAAA,MAAA,EAAA,OAAA,IAAA,MAAA,UAIA,OAAA,IAAA,EAAA,MAAA,EAAA,MAAA,EAAA,EAGA,EAAA,EAAA,GAAA,EAAA,GAAA,IAcA,GAXA,EAAA,QAAA,IAAA,EAAA,WACA,EAAA,EAAA,EAAA,QAKA,EAAA,GAAA,EAAA,SAAA,IAAA,EAAA,QACA,EAAA,GAIA,GAAA,IACA,MAAA,IAAA,MAAA,mDAGA,EAAA,EACA,EAAA,EACA,EAAA,EAMA,IAAA,GAAA,KAAA,WAHA,GAAA,cAGA,GAAA,WACA,EAAA,KAAA,IAAA,GAAA,IACA,EAAA,KAAA,IAAA,GAAA,IACA,EAAA,KAAA,IAAA,EAAA,IACA,EAAA,KAAA,IAAA,EAGA,IAAA,EAAA,EAAA,WAAA,IAAA,UACA,EAAA,KAAA,IAAA,EAAA,IACA,EAAA,KAAA,IAAA,EAGA,EAAA,KAAA,IAAA,GAAA,GAAA,GACA,EAAA,KAAA,IAAA,GAAA,IAGA,EAAA,KAAA,IAAA,EAAA,IAGA,EAAA,KAAA,IAAA,EAGA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,EACA,EAAA,EAAA,GAAA,EAAA,GAGA,OAAA,GAAA,EAAA,GAGA,OAAA,QAAA;;AC5GA,IAAA,EAAA,QAAA,aACA,EAAA,QAAA,qBAEA,SAAA,EAAA,EAAA,EAAA,GACA,IAAA,EAAA,GAAA,GAAA,EAEA,iBAAA,IACA,EAAA,WAAA,EAAA,IAAA,MAAA,IAAA,KACA,EAAA,MAIA,IAAA,GAFA,EAAA,GAAA,IAEA,SAAA,EAAA,KAAA,KAOA,GAJA,EAAA,GAAA,GAAA,EAAA,GAAA,GACA,EAAA,GAAA,GAAA,EAAA,GAAA,IAGA,EACA,IAAA,IAAA,EAAA,EAAA,EAAA,KAAA,EACA,EAAA,EAAA,GAAA,EAAA,GAIA,OAAA,GAAA,EAAA,GAGA,OAAA,QAAA;;AC5BA,IAAA,EAAA,QAAA,QACA,EAAA,QAAA,QAEA,EAAA,EACA,EAAA,GAAA,EACA,EAAA,GAAA,EAEA,OAAA,QAAA;;;AEkEC,IAAA,EAAA,UAAA,GAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EAAA,QAAA,UAAA,EAzED,IAAA,EAAA,QAAA,wBACA,EAAA,EAAA,QAAA,cAwEC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAtED,IAAIgJ,EAAmBC,EAAOC,cAAgBD,EAAOE,WACjDC,EAAiB,MAErB,SAASC,EAAYC,GACZ,OAAA,EAAKA,EAAAA,MAAAA,GAGd,SAASC,EAAUpB,EAAMqB,EAAOC,GAC1BtB,OAAAA,EAAKuB,YACAvB,EAAKuB,YAAYF,EAAOC,GAE1BtB,EAAKwB,MAAMH,EAAOC,GAG3B,SAASG,EAAW/B,EAAQM,EAAMqB,EAAOC,EAAKrB,IACxCoB,EAAQ,GAAKC,EAAMtB,EAAK5K,QAE1B4K,EAAOoB,EAAUpB,EAAMqB,EAAOC,KAEdtB,EAAAA,EAAAA,mBAAAA,EAAM,SAAU0B,GAChChC,EAAOb,OAAO6C,GACdzB,MAIJ,SAAS0B,EAAajC,EAAQkC,EAAQP,EAAOC,EAAKrB,IAC5CoB,EAAQ,GAAKC,EAAMM,EAAOhO,UAE5BgO,EAASA,EAAOzO,UAAUkO,EAAOC,IAEnC5B,EAAOmC,aAAaD,GACpB3B,IAGF,SAAS6B,EAAUhK,EAAMmI,GACnB8B,IAAAA,EAAgC,iBAATjK,EACvBnE,EAAMoO,EAAgBjK,EAAKlE,OAASkE,EAAK1C,KACzC4M,EAAYC,KAAKC,IAAIjB,EAAgBtN,GACrCwO,EAASF,KAAKG,KAAKzO,EAAMqO,GACzBK,EAAe,EACf3C,EAASqC,EAAgB,IAAIO,EAAJ,QAAY,IAAIA,EAAIpD,QAAAA,YAE7CL,EAASkD,EAAgBJ,EAAeF,EAEnCc,SAAAA,IACP1B,EAAiB2B,GAGVC,SAAAA,IACHtB,IACAR,EAASO,EADHxB,EAAO4B,KAAI,IAErBrB,EAASU,GACTjB,EAAOgD,UAGAF,SAAAA,IACHnB,IAAAA,EAAQgB,EAAeL,EACvBV,EAAMD,EAAQW,EAGhBnD,EAAOa,EAAQ5H,EAAMuJ,EAAOC,IAF9Be,EACmBF,EACgBI,EAEAE,GAGrCD,IAGF,SAASG,EAAUf,GACVU,OAAAA,EAAIM,QAAAA,KAAKhB;;ACwrBlB,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,WAAA,EAAA,QAAA,YAAA,EAAA,QAAA,eAAA,EAAA,QAAA,MAAA,EAAA,QAAA,eAAA,EAAA,QAAA,aAAA,EAAA,QAAA,aAAA,EAAA,QAAA,QAAA,EAAA,QAAA,eAAA,EAAA,QAAA,gBAAA,EAAA,QAAA,eAAA,EAAA,QAAA,SAAA,EAAA,QAAA,cAAA,EAAA,QAAA,0BAAA,EAAA,QAAA,KAAA,EAAA,QAAA,sBAAA,EAAA,QAAA,SAAA,EAAA,QAAA,KAAA,EAAA,QAAA,IAAA,GAAA,QAAA,UAAA,EAAA,QAAA,UAAA,EAAA,QAAA,OAAA,GAAA,OAAA,eAAA,QAAA,WAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,WAAA,QAAA,KAAA,QAAA,aAAA,QAAA,YAAA,EAhwBA,IAAA,EAAA,EAAA,QAAA,cACA,EAAA,QAAA,uBACA,EAAA,EAAA,QAAA,cACA,EAAA,QAAA,UACA,EAAA,EAAA,QAAA,aACA,EAAA,QAAA,kBACA,EAAA,EAAA,QAAA,SACA,EAAA,QAAA,eACA,EAAA,QAAA,iBAwvBA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAtvBA,SAASiB,EAAeC,GACd,MAAuB,oBAAhB5D,aAA+B4D,aAAkB5D,aAC7C,oBAATb,MAAwByE,aAAkBzE,KAGtD,SAAS0E,EAAiBC,GACpB,GAAsB,mBAAfA,EAAKxB,MACPwB,OAAAA,EAAKxB,MAAM,GAGhBpJ,IAAAA,EAAS,IAAI8G,YAAY8D,EAAKnD,YAC9BoD,EAAc,IAAI9D,WAAW/G,GAC7B8K,EAAc,IAAI/D,WAAW6D,GAE1B5K,OADP6K,EAAYtO,IAAIuO,GACT9K,EAGT,SAAS+K,EAAkBL,GACrBA,GAAAA,aAAkB5D,YACb6D,OAAAA,EAAiBD,GAEtB1N,IAAAA,EAAO0N,EAAO1N,KACd0E,EAAOgJ,EAAOhJ,KAEd,MAAwB,mBAAjBgJ,EAAOtB,MACTsB,EAAOtB,MAAM,EAAGpM,EAAM0E,GAGxBgJ,EAAOvB,YAAY,EAAGnM,EAAM0E,GAOrC,IAAIsJ,EAAe7K,SAAS/D,UAAUqB,SAClCwN,EAAmBD,EAAa1N,KAAKvB,QAEzC,SAASmP,EAAc1O,GACjB2O,IAAAA,EAAQpP,OAAOsI,eAAe7H,GAE9B2O,GAAU,OAAVA,EACK,OAAA,EAELC,IAAAA,EAAOD,EAAME,YACT,MAAe,mBAARD,GACbA,aAAgBA,GAAQJ,EAAa1N,KAAK8N,IAASH,EAGvD,SAAS6rC,EAAQpsC,GACXa,IAAAA,EACAjQ,EACAC,EAEA,IAACmP,GAA4B,iBAAXA,EACbA,OAAAA,EAGLtP,GAAAA,MAAMC,QAAQqP,GAAS,CAEpBpP,IADLiQ,EAAY,GACPjQ,EAAI,EAAGC,EAAMmP,EAAOlP,OAAQF,EAAIC,EAAKD,IACxCiQ,EAAUjQ,GAAKw7C,EAAQpsC,EAAOpP,IAEzBiQ,OAAAA,EAKLb,GAAAA,aAAkBc,KACbd,OAAAA,EAAOe,cAGZhB,GAAAA,EAAeC,GACVK,OAAAA,EAAkBL,GAGvB,IAACQ,EAAcR,GACVA,OAAAA,EAIJpP,IAAAA,KADLiQ,EAAY,GACFb,EAEJ3O,GAAAA,OAAOK,UAAUsP,eAAepO,KAAKoN,EAAQpP,GAAI,CAC/CkB,IAAAA,EAAQs6C,EAAQpsC,EAAOpP,SACN,IAAVkB,IACT+O,EAAUjQ,GAAKkB,GAId+O,OAAAA,EAGT,SAASvG,EAAK2G,GACRC,IAAAA,GAAS,EACN,OAAA,EAAa,EAAA,SAAA,SAAU1L,GAExB0L,GAAAA,EAEI,MAAA,IAAIvO,MAAM,8BAEhBuO,GAAS,EACTD,EAAI5L,MAAM,KAAMG,KAKtB,SAAS2L,EAAUC,GAEV,OAAA,EAAa,EAAA,SAAA,SAAU5L,GAE5BA,EAAO42C,EAAQ52C,GACX6L,IAAAA,EAAO,KAEPC,EAA2C,mBAA1B9L,EAAKA,EAAK1E,OAAS,IAAqB0E,EAAK8D,MAC9DiI,EAAU,IAAIC,QAAQ,SAAUC,EAASC,GACvCC,IAAAA,EACA,IACExE,IAAAA,EAAW7C,EAAK,SAAUvF,EAAK6M,GAC7B7M,EACF2M,EAAO3M,GAEP0M,EAAQG,KAKZpM,EAAKmC,KAAKwF,IACVwE,EAAOP,EAAK/L,MAAMgM,EAAM7L,KACS,mBAAdmM,EAAKE,MACtBJ,EAAQE,GAEV,MAAOnG,GACPkG,EAAOlG,MASJ+F,OALHD,GACFC,EAAQM,KAAK,SAAUrE,GACrB8D,EAAO,KAAM9D,IACZ8D,GAEEC,IAIX,SAASO,EAAWT,EAAMxO,EAAM2C,GAE1B6L,GAAAA,EAAKV,YAAYzG,UAAU,SAASpJ,OAAQ,CAEzC,IADDiR,IAAAA,EAAU,CAAC,MAAOV,EAAKxO,KAAMA,GACxBjC,EAAI,EAAGA,EAAI4E,EAAK1E,OAAS,EAAGF,IACnCmR,EAAQpK,KAAKnC,EAAK5E,IAEpByQ,EAAKV,YAAYlJ,KAAK,QAASsK,GAG3BC,IAAAA,EAAexM,EAAKA,EAAK1E,OAAS,GACtC0E,EAAKA,EAAK1E,OAAS,GAAK,SAAUiE,EAAK9C,GACjCgQ,IAAAA,EAAe,CAAC,MAAOZ,EAAKxO,KAAMA,GACtCoP,EAAeA,EAAahM,OAC1BlB,EAAM,CAAC,QAASA,GAAO,CAAC,UAAW9C,IAErCoP,EAAKV,YAAYlJ,KAAK,QAASwK,GAC/BD,EAAajN,EAAK9C,KAKxB,SAASiQ,EAAWrP,EAAMsK,GACjBgE,OAAAA,GAAU,EAAa,EAAA,SAAA,SAAU3L,GAClC,GAAA,KAAK2M,QACAX,OAAAA,QAAQE,OAAO,IAAI/O,MAAM,uBAE9B,GAAA,KAAKyP,WACAZ,OAAAA,QAAQE,OAAO,IAAI/O,MAAM,0BAE9B0O,IAAAA,EAAO,KAEP,OADJS,EAAWT,EAAMxO,EAAM2C,GAClB,KAAK6M,UAAUC,QAWbnF,EAAS9H,MAAM,KAAMG,GAVnB,IAAIgM,QAAQ,SAAUC,EAASC,GACpCL,EAAKgB,UAAUE,QAAQ,SAAUC,GAC3BA,EACFd,EAAOc,GAEPf,EAAQJ,EAAKxO,GAAMwC,MAAMgM,EAAM7L,WAU3C,SAASiN,EAAKC,EAAK1J,GAEZ,IADD/G,IAAAA,EAAM,GACDrB,EAAI,EAAGC,EAAMmI,EAAIlI,OAAQF,EAAIC,EAAKD,IAAK,CAC1CQ,IAAAA,EAAO4H,EAAIpI,GACXQ,KAAQsR,IACVzQ,EAAIb,GAAQsR,EAAItR,IAGba,OAAAA,EAMT,IAgII0Q,EA8IAC,EA9QAC,EAA8B,EAElC,SAASC,EAAiBC,GACjBA,OAAAA,EAGT,SAASC,EAA2BxF,GAC3B,MAAA,CAAC,CACNyF,GAAIzF,IAKR,SAAS0F,EAAQC,EAAIC,EAAMjG,GACrBkG,IAAAA,EAAWD,EAAKE,KAGhBC,EAAe,IAAIrS,EAAJ,IACnBmS,EAASnR,QAAQ,SAAUsR,GACrBD,EAAaxR,IAAIyR,EAAQC,IAC3BF,EAAa5R,IAAI6R,EAAQC,IAAI9L,KAAK6L,GAElCD,EAAa1R,IAAI2R,EAAQC,GAAI,CAACD,MAI9BE,IAAAA,EAAUH,EAAajR,KACvBqR,EAAU,EACVC,EAAgB,IAAIlT,MAAMgT,GAerBG,SAAAA,IAbAC,IACHC,IAaEJ,IAAYD,IAbdK,EAAU,GACdH,EAAc1R,QAAQ,SAAUD,GAC9BA,EAAIqR,KAAKpR,QAAQ,SAAU8R,GACzBD,EAAQpM,KAAK,CACX8L,GAAIxR,EAAIwR,GACRH,KAAM,CAACU,SAIb7G,EAAS,KAAM,CAAC4G,QAASA,KAcvBE,IAAAA,EAAc,GAClBV,EAAarR,QAAQ,SAAUJ,EAAO3B,GACpC8T,EAAYtM,KAAKxH,KAGfS,IAAAA,EAAI,EAECsT,SAAAA,IAEHtT,KAAAA,GAAKqT,EAAYnT,QAAjBF,CAIAuT,IAAAA,EAAOhF,KAAKC,IAAIxO,EAAIiS,EAA6BoB,EAAYnT,QAC7DsT,EAAQH,EAAYvF,MAAM9N,EAAGuT,IAK1BE,SAAaD,EAAOE,GAC3BF,EAAMlS,QAAQ,SAAUqS,EAAOC,GACzBC,IAAAA,EAASH,EAASE,EAClBE,EAAcnB,EAAa5R,IAAI4S,GAQ/BI,EAAUlC,EAAKiC,EAAY,GAAI,CAAC,aAAc,gBAClDC,EAAQC,UAAYF,EAAYG,IAAI,SAAUrB,GAErCA,OAAAA,EAAQsB,MAIjBH,EAAQC,UAAYD,EAAQC,UAAUG,OAAOjC,GAEzCkC,IAAAA,EAAelC,EAEc,IAA7B6B,EAAQC,UAAU9T,gBACb6T,EAAQC,UAKfI,EAAehC,GAIhB,CAAA,OAAQ,cAAe,SAAU,OAAQ,UAAU9Q,QAAQ,SAAU+S,GAChEA,KAAS7B,IACXuB,EAAQM,GAAS7B,EAAK6B,MAG1B9B,EAAGxR,IAAI4S,EAAOI,EAAS,SAAU5P,EAAK9C,GAChCuL,IAAAA,EA9DmBiG,EAAIH,EAiEzB9F,EADEzI,EACO,CAAC,CAACtC,MAAOsC,IAETiQ,EAAa/S,GAnEDwR,EAqELc,EArESjB,EAqEF9F,EApE7BoG,EAoEca,GApEY,CAAChB,GAAIA,EAAIH,KAAMA,GACzCO,IAoEIK,QAlDJG,CAAaD,EAAOxT,GACpBA,GAAKwT,EAAMtT,QAsDboT,IAMF,IACEgB,aAAaC,QAAQ,4BAA6B,GAClDxC,IAAauC,aAAaE,QAAQ,6BAClC,MAAO5J,IACPmH,GAAW,EAGb,SAAS0C,IACA1C,OAAAA,EAQT,SAAS2C,EAAoBjE,GACvBgE,KACFE,iBAAiB,UAAW,SAAU/J,GACpC6F,EAAK5J,KAAK+D,EAAErL,OAKlB,SAASqV,IACM5S,EAAAA,aAAAA,KAAK,MACb8F,KAAAA,WAAa,GAElB4M,EAAoB,MAsEtB,SAASG,EAAeC,GAElB,GAAmB,oBAAZ9P,SAAsD,mBAApBA,QAAQ8P,GAAwB,CACvElQ,IAAAA,EAAO9E,MAAMgB,UAAUgN,MAAM9L,KAAKsF,UAAW,GACjDtC,QAAQ8P,GAAQrQ,MAAMO,QAASJ,IAInC,SAASmQ,EAAavG,EAAKwG,GAiBlB,OAfPxG,EAAMyG,SAASzG,EAAK,KAAO,GAC3BwG,EAAMC,SAASD,EAAK,MACRA,GAAOA,GAAOxG,EACxBwG,GAAOxG,GAAO,IAAM,EAEpBwG,GAAY,EAGVA,EATa,MAUfxG,EAAM0G,IACNF,EAXe,SAcLA,EAAMxG,GADND,KAAK4G,SAGS3G,GAG5B,SAAS4G,EAAe5G,GAClBwG,IAAAA,EAAM,EAIHD,OAHFvG,IACHwG,EAAM,KAEDD,EAAavG,EAAKwG,GAK3B,SAASK,EAAazT,EAAQwI,GAC5ByK,EAAe,OAAQ,aAAejT,EAAS,uBAAyBwI,IA5H1E,EAASwK,EAAAA,SAAAA,EAASnP,EAAlB,cAiBAmP,EAAQ9T,UAAUyI,YAAc,SAAU+L,EAAQzC,EAAIN,EAAIC,GAEpD,IAAA,KAAK1K,WAAW+K,GAAhB,CAGApC,IAAAA,EAAO,KACP8E,GAAa,EAiCZzN,KAAAA,WAAW+K,GAAM2C,EACjBhM,KAAAA,GAAG8L,EAAQE,GAjCPA,SAAAA,IAEH,GAAC/E,EAAK3I,WAAW+K,GAGjB0C,GAAAA,EACFA,EAAa,cADXA,CAIJA,GAAa,EACTE,IAAAA,EAAc5D,EAAKW,EAAM,CAC3B,QAAS,eAAgB,cAAe,YAAa,SACrD,UAAW,OAAQ,QAAS,eAAgB,SAAU,gBAQxDD,EAAGmD,QAAQD,GAAajM,GAAG,SAAU,SAAUmM,GACzCA,EAAEC,IAAMpD,EAAKqD,QAAUrD,EAAKsD,YAC9BtD,EAAKqD,MAAQF,EAAEC,IACfpD,EAAKuD,SAASJ,MAEfnM,GAAG,WAAY,WACG,YAAf+L,IACQC,EAAAA,EAAAA,SAAAA,GAEZD,GAAa,IACZ/L,GAAG,QAdGwM,WACPT,GAAa,OAmBnBX,EAAQ9T,UAAU0G,eAAiB,SAAU8N,EAAQzC,GAE7CA,KAAM,KAAK/K,aAGJhH,EAAAA,aAAAA,UAAU0G,eAAexF,KAAK,KAAMsT,EAC/C,KAAKxN,WAAW+K,WACX,KAAK/K,WAAW+K,KAKzB+B,EAAQ9T,UAAUmV,mBAAqB,SAAUX,GAG3Cb,MACFH,aAAagB,GAAoC,MAAzBhB,aAAagB,GAAmB,IAAM,MAIlEV,EAAQ9T,UAAUoV,OAAS,SAAUZ,GAC9BzO,KAAAA,KAAKyO,GACLW,KAAAA,mBAAmBX,IAwE1B,IAAIa,EAxBAnE,EAD2B,mBAAlBvR,OAAOuR,OACPvR,OAAOuR,OAIP,SAAUtN,GAGZ,IAFD0R,IAAAA,EAAK3V,OAAOiE,GAEP+D,EAAQ,EAAGA,EAAQnB,UAAUpH,OAAQuI,IAAS,CACjD4N,IAAAA,EAAa/O,UAAUmB,GAEvB4N,GAAc,MAAdA,EACG,IAAA,IAAIC,KAAWD,EAEd5V,OAAOK,UAAUsP,eAAepO,KAAKqU,EAAYC,KACnDF,EAAGE,GAAWD,EAAWC,IAK1BF,OAAAA,GAOb,SAASG,EAAUpC,EAAQqC,EAAKC,GAC1B,IACK,OAACtC,EAAOqC,EAAKC,GACpB,MAAOtS,GACHuS,IAAAA,EAAM,0BAA4BvS,EAAIhC,WACnC,OAAA,EAAYgB,EAAAA,aAAAA,EAAZ,YAAyBuT,IAIpC,SAASC,EAAanE,GAChBiE,IAAAA,EAAM,GACNG,EAAYpE,EAAK2B,QAAiC,mBAAhB3B,EAAK2B,OAGpC,OAFPsC,EAAII,MAAQrE,EAAKsE,aAEV,SAAgBC,GAChBA,EAAOP,MAGVO,EAAOP,IAAM,IAGXQ,IAAAA,EAAeJ,GAAaL,EAAU/D,EAAK2B,OAAQ4C,EAAOP,IAAKC,GAE/D,GAAwB,iBAAjBO,EACFA,OAAAA,EAGLA,GAAAA,EACK,OAAA,EAGL,GAACxE,EAAKyE,cAEH,IAAKzE,EAAK0E,YACV,IAAA,IAAIC,KAAOJ,EAAOP,IAAIY,aAErBL,EAAOP,IAAIY,aAAahH,eAAe+G,KACzCJ,EAAOP,IAAIY,aAAaD,GAAKE,MAAO,eALjCN,EAAOP,IAST,OAAA,GAIX,SAASc,EAAQC,GAEV,IADDlW,IAAAA,EAAM,GACDrB,EAAI,EAAGC,EAAMsX,EAAKrX,OAAQF,EAAIC,EAAKD,IAC1CqB,EAAMA,EAAIgE,OAAOkS,EAAKvX,IAEjBqB,OAAAA,EAOT,SAASmW,KAkMT,QAAA,OAAA,EAhMA,IACInW,EADAoW,EAAUD,EAAEvV,KAqBZyV,EAfFrW,EADEoW,EACI,SAAUpH,GACPA,OAAAA,EAAIpO,MAGP,SAAUoO,GACVsH,IAAAA,EAAQtH,EAAIlO,WAAWwV,MAAM,kCAC7BA,OAAAA,GAASA,EAAM,GACVA,EAAM,GAGN,IAYb,SAASC,EAAe/E,GAClB1O,IAAAA,EAQAA,GAPC0O,EAEoB,iBAAPA,EAChB1O,GAAM,EAAYzB,EAAAA,aAAAA,EAAZ,YACG,KAAKmV,KAAKhF,KAAS,mBAAoBgF,KAAKhF,KACrD1O,GAAM,EAAYvB,EAAAA,aAAAA,EAAZ,cAJNuB,GAAM,EAAYxB,EAAAA,aAAAA,EAAZ,YAMJwB,EACIA,MAAAA,EAMV,SAAS2T,EAASvF,GACZ,MAAsB,kBAAfA,EAAGwF,QACLxF,EAAGwF,QAGW,mBAAZxF,EAAGnM,OACZyO,EAAe,OACb,8EAEmB,SAAdtC,EAAGnM,QAMd,SAAS+B,EAAc6P,EAAI5R,GAClB,MAAA,kBAAmB4R,EAAKA,EAAG7P,cAAc/B,GACjBX,EAAa0C,aAAAA,cAAc6P,EAAI5R,GAGhE,SAAS6R,EAA2BC,GAC9B,IAACA,EACI,OAAA,KAELzN,IAAAA,EAAQyN,EAAEC,MAAM,KAChB1N,OAAiB,IAAjBA,EAAMvK,OACDuK,EAEY,IAAjBA,EAAMvK,OACD,CAACgY,EAAGA,GAEN,KAGT,SAASE,EAA+BF,GAClCG,IAAAA,EAAaJ,EAA2BC,GACrCG,OAAAA,EAAaA,EAAWC,KAAK,KAAO,KAgH7C,QAAA,aAAA,EA1GA,IAAI9W,EAAO,CAAC,SAAU,WAAY,YAAa,WAAY,OAAQ,WAC/D,OAAQ,OAAQ,WAAY,OAAQ,YAAa,OAAQ,QAAS,UAClE+W,EAAO,WACPC,EAAU,4BAIVC,EAAS,mMAEb,SAASC,EAAStO,GAKTpK,IAJHuG,IAAAA,EAAIkS,EAAOE,KAAKvO,GAChBwO,EAAM,GACN5Y,EAAI,GAEDA,KAAK,CACNT,IAAAA,EAAMiC,EAAKxB,GACXkB,EAAQqF,EAAEvG,IAAM,GAChB6Y,GAAiD,IAAvC,CAAC,OAAQ,YAAYC,QAAQvZ,GAC3CqZ,EAAIrZ,GAAOsZ,EAAUE,mBAAmB7X,GAASA,EAU5C0X,OAPPA,EAAIL,GAAS,GACbK,EAAIpX,EAAK,KAAKwX,QAAQR,EAAS,SAAUS,EAAIC,EAAIC,GAC3CD,IACFN,EAAIL,GAAOW,GAAMC,KAIdP,EAOT,SAASQ,EAAUC,EAAQC,GACrB9X,IAAAA,EAAO,GACP+X,EAAS,GACR,IAAA,IAAIha,KAAO+Z,EACVA,EAAMlJ,eAAe7Q,KACvBiC,EAAKuF,KAAKxH,GACVga,EAAOxS,KAAKuS,EAAM/Z,KAIfsF,OADPrD,EAAKuF,KAAKsS,GACHxU,SAASJ,MAAM,KAAMjD,GAAMiD,MAAM,KAAM8U,GAMhD,SAASC,GAAOjH,EAAIoB,EAAO8F,GAClB,OAAA,IAAI7I,QAAQ,SAAUC,EAASC,GACpCyB,EAAGxR,IAAI4S,EAAO,SAAUxP,EAAKqS,GACvBrS,GAAAA,EAAK,CAEHA,GAAe,MAAfA,EAAIvC,OACCkP,OAAAA,EAAO3M,GAEhBqS,EAAM,GAIJkD,IAAAA,EAASlD,EAAImD,KACbC,EAASH,EAAQjD,GAEjB,IAACoD,EAGI/I,OAAAA,EAAQ,CAACgJ,SAAS,EAAO3F,IAAKwF,IAKvCE,EAAOE,IAAMnG,EACbiG,EAAOD,KAAOD,EACd7I,EAAQkJ,GAAUxH,EAAIqH,EAAQH,QAKpC,SAASM,GAAUxH,EAAIiE,EAAKiD,GACnBlH,OAAAA,EAAGyH,IAAIxD,GAAKvF,KAAK,SAAU5P,GACzB,MAAA,CACLwY,SAAS,EACT3F,IAAK7S,EAAI6S,MAEV,SAAU/P,GAEPA,GAAe,MAAfA,EAAIvC,OACAuC,MAAAA,EAEDqV,OAAAA,GAAOjH,EAAIiE,EAAIsD,IAAKL,KAI/B,SAASvF,GAAIsC,EAAKyD,GACZC,IAAAA,GAAY,EAAM1D,EAAAA,OAAAA,GAClB,OAACyD,UAIEC,EAAUC,WACV,EAAU/X,EAAAA,WAAAA,KAAKC,UAAU6X,KAJvBE,EAAOC,QAAAA,KAAKrB,QAAQ,KAAM,IAAIsB,cAOzC,IAAIC,GAAOH,EAAOC,QAAAA,GAAlB,QAAA,KAAA;;ACnpBC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,KAAA,EAAA,QAAA,cAAA,EAAA,QAAA,IAAA,EAAA,QAAA,YAAA,EAAA,QAAA,iBAAA,EAAA,QAAA,eAAA,EAAA,QAAA,gBAAA,EAAA,QAAA,cAAA,EAAA,QAAA,aAAA,EA7GD,IAAA,EAAA,EAAA,QAAA,aACA,EAAA,QAAA,uBACA,EAAA,EAAA,QAAA,cACA,EAAA,QAAA,iBA0GC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAxGD,SAASohC,EAAgBv5C,GAClBN,KAAAA,OAAS,IACTK,KAAAA,KAAO,oBACPC,KAAAA,QAAUA,EACVL,KAAAA,OAAQ,EACT,IACFE,MAAM25C,kBAAkB,KAAMD,GAC9B,MAAO7wC,KAKX,SAAS+wC,EAAcz5C,GAChBN,KAAAA,OAAS,IACTK,KAAAA,KAAO,YACPC,KAAAA,QAAUA,EACVL,KAAAA,OAAQ,EACT,IACFE,MAAM25C,kBAAkB,KAAMC,GAC9B,MAAO/wC,KAKX,SAASgxC,EAAa15C,GACfN,KAAAA,OAAS,IACTK,KAAAA,KAAO,gBACPC,KAAAA,QAAUA,EACVL,KAAAA,OAAQ,EACT,IACFE,MAAM25C,kBAAkB,KAAME,GAC9B,MAAOhxC,KAKX,SAASixC,EAAiBlrC,EAASpE,GAY1BoE,OAXHpE,GACFoE,EAAQM,KAAK,SAAU5P,IACZ,EAAA,EAAA,UAAA,WACPkL,EAAS,KAAMlL,MAEhB,SAAUS,IACF,EAAA,EAAA,UAAA,WACPyK,EAASzK,OAIR6O,EAGT,SAASmrC,EAAYzrC,GACZ,OAAA,EAAU,EAAA,SAAA,SAAUzL,GACrBrD,IAAAA,EAAKqD,EAAK8D,MACViI,EAAUN,EAAI5L,MAAM,KAAMG,GAIvB+L,MAHW,mBAAPpP,GACTs6C,EAAiBlrC,EAASpP,GAErBoP,IAKX,SAASorC,EAAIprC,EAASqrC,GACbrrC,OAAAA,EAAQM,KAAK,SAAU5P,GACrB26C,OAAAA,IAAsB/qC,KAAK,WACzB5P,OAAAA,KAER,SAAUS,GACJk6C,OAAAA,IAAsB/qC,KAAK,WAC1BnP,MAAAA,MAKZ,SAASm6C,EAAc9qB,EAAO+qB,GACrB,OAAA,WACDt3C,IAAAA,EAAO0C,UACPpB,EAAO,KACJirB,OAAAA,EAAMhxB,IAAI,WACR+7C,OAAAA,EAAez3C,MAAMyB,EAAMtB,MAOxC,SAASu3C,EAAK/zC,GACRg0C,IAAAA,EAAS,IAAI77C,EAAJ,IAAQ6H,GACjBwE,EAAS,IAAI9M,MAAMs8C,EAAO16C,MAC1B+G,GAAS,EAINmE,OAHPwvC,EAAO96C,QAAQ,SAAUJ,GACvB0L,IAASnE,GAASvH,IAEb0L,EAGT,SAASyvC,EAAepoC,GAClBrH,IAAAA,EAAS,IAAI9M,MAAMmU,EAAIvS,MACvB+G,GAAS,EAINmE,OAHPqH,EAAI3S,QAAQ,SAAUJ,EAAO3B,GAC3BqN,IAASnE,GAASlJ,IAEbqN,GA7FT,EAAS6uC,EAAAA,SAAAA,EAAiB15C,QAY1B,EAAS45C,EAAAA,SAAAA,EAAe55C,QAYxB,EAAS65C,EAAAA,SAAAA,EAAc75C;;AC6/BRu6C,aAAAA,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EApiCf,IAAA,EAAA,QAAA,iBACA,EAAA,QAAA,eACA,EAAA,QAAA,uBACA,EAAA,QAAA,wBACA,EAAA,QAAA,mBACA,EAAA,QAAA,kBACA,EAAA,QAAA,iBACA,EAAA,QAAA,2BAQA,SAAS7H,IACF9jC,KAAAA,QAAU,IAAIC,QAAQ,SAAUC,GAAUA,MAcjD,SAASxO,EAAUie,GACb,IAACA,EACI,MAAA,YAID,cAAOA,GACR,IAAA,WAGA,IAAA,SAEIA,OAAAA,EAAMne,WACf,QAESC,OAAAA,KAAKC,UAAUie,IAK5B,SAASi8B,EAAoBrK,EAAQsK,GAE5Bn6C,OAAAA,EAAU6vC,GAAU7vC,EAAUm6C,GAAa,YAGpD,SAASC,EAAWC,EAAU3K,EAAUG,EAAQsK,EAAWG,EAAWC,GAChEC,IAEAC,EAFAD,EAAgBN,EAAoBrK,EAAQsK,GAG5C,IAACG,IAEHG,EAAcJ,EAASK,aAAeL,EAASK,cAAgB,IAC/CF,GACPC,OAAAA,EAAYD,GAInBG,IAAAA,EAAiBN,EAAStpC,OAAOnC,KAAK,SAAUmC,GAE9C6pC,IAAAA,EAAY7pC,EAAKumC,QAAU,YAC5BgD,EAAY,QAAS,EAAUE,EAAAA,WAAAA,IAkB3B,OAAA,EAAOH,EAAAA,QAAAA,EAAU,UAAYE,EAd3BM,SAAa1mC,GACpBA,EAAI27B,MAAQ37B,EAAI27B,OAAS,GACrBgL,IAAAA,EAAepL,GACgB,IAA/BoL,EAAarkC,QAAQ,OACvBqkC,EAAepL,EAAW,IAAMA,GAE9BqL,IAAAA,EAAS5mC,EAAI27B,MAAMgL,GAAgB3mC,EAAI27B,MAAMgL,IAAiB,GAE9DC,IAAAA,EAAOH,GAIJzmC,OADP4mC,EAAOH,IAAa,EACbzmC,IAEuDvF,KAAK,WAC5DyrC,OAAAA,EAAS3C,0BAA0BkD,GAAWhsC,KAAK,SAAU5P,GAC9DkR,IAAAA,EAAKlR,EAAIkR,GACbA,EAAG8iC,iBAAkB,EACjB3D,IAAAA,EAAO,CACTzvC,KAAMg7C,EACN1qC,GAAIA,EACJmqC,SAAUA,EACVloB,QAASkoB,EAASloB,QAClB0d,OAAQA,EACRsK,UAAWA,GAEN9K,OAAAA,EAAKn/B,GAAGxR,IAAI,kBAAkBqzC,MAAM,SAAUjwC,GAE/CA,GAAe,MAAfA,EAAIvC,OACAuC,MAAAA,IAEP8M,KAAK,SAAUosC,GAOT3L,OANPA,EAAK97B,IAAMynC,EAAaA,EAAWznC,IAAM,EACrCknC,GACFpL,EAAKn/B,GAAG7I,KAAK,YAAa,kBACjBozC,EAAYD,KAGhBnL,UASRsL,OAHHF,IACFA,EAAYD,GAAiBG,GAExBA,EAvGTvI,EAAU3zC,UAAUX,IAAM,SAAU+7C,GAM3B,OALFvrC,KAAAA,QAAU,KAAKA,QAAQyjC,MAAM,cAE/BnjC,KAAK,WACCirC,OAAAA,MAEF,KAAKvrC,SAEd8jC,EAAU3zC,UAAUw8C,OAAS,WACpB,OAAA,KAAK3sC,SAiGd,IAAI4sC,EAAmB,GACnBC,EAAgB,IAAI/I,EACpBgJ,EAAqB,GAEzB,SAASC,EAAcz7C,GAGdA,OAAuB,IAAvBA,EAAK6W,QAAQ,KAAc,CAAC7W,EAAMA,GAAQA,EAAKkW,MAAM,KAG9D,SAASwlC,EAASjoC,GAGTA,OAAmB,IAAnBA,EAAQxV,QAAgB,MAAM2X,KAAKnC,EAAQ,GAAGxB,KAGvD,SAAS0pC,EAAUrrC,EAAI3H,GACjB,IACF2H,EAAG1L,KAAK,QAAS+D,GACjB,MAAOzG,IACQ,EAAA,EAAA,gBAAA,QACb,sMAIa,EAAA,EAAA,gBAAA,QAASyG,IA8B5B,SAAS0xC,EAAwBM,EAAciB,EAAQC,EAASC,GAErDC,SAAAA,EAAOzrC,EAAIlC,EAAKmG,GAGnB,IACFnG,EAAImG,GACJ,MAAO5L,GACPgzC,EAAUrrC,EAAI3H,IAITqzC,SAAAA,EAAU1rC,EAAIlC,EAAK7O,EAAM+X,EAAQ2kC,GAKpC,IACK,MAAA,CAACC,OAAS9tC,EAAI7O,EAAM+X,EAAQ2kC,IACnC,MAAOtzC,GAEA,OADPgzC,EAAUrrC,EAAI3H,GACP,CAAC/I,MAAO+I,IAIVwzC,SAAAA,EAAmBjsC,EAAG2nB,GACzBukB,IAAAA,GAAa,EAAQlsC,EAAAA,SAAAA,EAAE5S,IAAKu6B,EAAEv6B,KAC3B8+C,OAAe,IAAfA,EAAmBA,GAAa,EAAQlsC,EAAAA,SAAAA,EAAEjR,MAAO44B,EAAE54B,OAGnDo9C,SAAAA,EAAanrC,EAASyO,EAAOD,GAEhC,OADJA,EAAOA,GAAQ,EACM,iBAAVC,EACFzO,EAAQrF,MAAM6T,EAAMC,EAAQD,GAC1BA,EAAO,EACTxO,EAAQrF,MAAM6T,GAEhBxO,EAGAorC,SAAAA,EAAWh9B,GACdxF,IAAAA,EAAMwF,EAAIrgB,MAIPyS,OADMoI,GAAsB,iBAARA,GAAoBA,EAAIjC,KAAQyH,EAAI1O,GAiBxD2rC,SAAAA,EAAuBhsC,GACvB,OAAA,SAAUnR,GAIRA,OAHHmR,EAAKyE,cAAgBzE,EAAK0E,aAAe1E,EAAKvG,QAf7CwyC,SAA8Bp9C,GACrCA,EAAI+f,KAAK9f,QAAQ,SAAUigB,GACrB8xB,IAAAA,EAAO9xB,EAAI/K,KAAO+K,EAAI/K,IAAIY,aACzBi8B,GAGL5yC,OAAOe,KAAK6xC,GAAM/xC,QAAQ,SAAUo9C,GAC9BvnC,IAAAA,EAAMk8B,EAAKqL,GACfrL,EAAKqL,GAAUt6C,MAAO,EAA2B+S,EAAAA,4BAAAA,EAAI/S,KAAM+S,EAAI4/B,kBAQ/D0H,CAA8Bp9C,GAEzBA,GAIFs9C,SAAAA,EAAaC,EAAWpsC,EAAM63B,EAAQwU,GAEzC9iC,IAAAA,EAAMvJ,EAAKosC,QACI,IAAR7iC,IACL8iC,IACF9iC,EAAM+iC,mBAAmB18C,KAAKC,UAAU0Z,KAE1CsuB,EAAOtjC,KAAK63C,EAAY,IAAM7iC,IAIzBgjC,SAAAA,EAAcC,GACjB,QAA4B,IAArBA,EAAkC,CACvCC,IAAAA,EAAW15C,OAAOy5C,GAElB,OAACx5C,MAAMy5C,IAAaA,IAAahqC,SAAS+pC,EAAkB,IAGvDA,EAFAC,GA2BJC,SAAAA,EAAqBr7B,EAASxT,GACjC8uC,IAAAA,EAAet7B,EAAQmwB,WAAa,SAAW,WAC/CoL,EAAav7B,EAAQmwB,WAAa,WAAa,SAE/C,QAAiC,IAA1BnwB,EAAQs7B,SACc,IAAxBt7B,EAAQu7B,KACf,EAAQv7B,EAAAA,SAAAA,EAAQs7B,GAAet7B,EAAQu7B,IAAe,EAChD,MAAA,IAAI3D,EAAJ,gBAAoB,mGAErB,GAAIprC,EAAIyT,SAA6B,IAAnBD,EAAQC,OAAkB,CAC7CD,GAAAA,EAAQ5M,aACJ,MAAA,IAAIwkC,EAAJ,gBAAoB,6CACrB,GAAI53B,EAAQriB,MAAQqiB,EAAQriB,KAAKtB,OAAS,IAC9C2jB,EAAQw7B,QAAUx7B,EAAQy7B,YACrB,MAAA,IAAI7D,EAAJ,gBAAoB,6DAI7B,CAAA,cAAe,QAAS,QAAQn6C,QAAQ,SAAUi+C,GAC7C19C,IAAAA,EAhCC29C,SAAqBC,GACxBA,GAAAA,EAAQ,CACN,GAAkB,iBAAXA,EACD,OAAA,IAAIhE,EAAJ,gBAAoB,+BAC1BgE,EAAS,KAETA,GAAAA,EAAS,EACJ,OAAA,IAAIhE,EAAJ,gBAAoB,wCACnBgE,EAAS,MAwBPD,CAAqB37B,EAAQ07B,IACrC19C,GAAAA,EACIA,MAAAA,IA+IH69C,SAAAA,EAAWx+C,GACX,OAAA,SAAUY,GAEXA,GAAkB,MAAlBA,EAAOF,OACFV,OAAAA,EAEDY,MAAAA,GAQH69C,SAAAA,EAAiBhsC,EAAO+9B,EAAMkO,GACjCC,IAAAA,EAAY,cAAgBlsC,EAC5BmsC,EAAiB,CAAChmC,IAAK+lC,EAAWr+C,KAAM,IACxC+kB,EAAUq5B,EAAwB7+C,IAAI4S,GACtCosC,EAA2Bx5B,EAAQ,GA+DhCy5B,OA3DDrC,EAHQp3B,EAAQ,IAMX3V,QAAQ2e,QAAQuwB,GAElBpO,EAAKn/B,GAAGxR,IAAI8+C,GAAWzL,MAAMsL,EAAWI,KAsD7B7uC,KAAK,SAAUgvC,GAC1BC,OApDAA,SAAgBD,GACnB,OAACA,EAAQz+C,KAAKtB,OAIXwxC,EAAKn/B,GAAG0mC,QAAQ,CACrBz3C,KAAMy+C,EAAQz+C,KACdyV,cAAc,IAJPrG,QAAQ2e,QAAQ,CAACnO,KAAM,KAiDzB8+B,CAAgBD,GAAShvC,KAAK,SAAUkvC,GACtCC,OA1CFA,SAAoBH,EAASE,GAI/B,IAHDE,IAAAA,EAAS,GACTC,EAAU,IAAI//C,EAAJ,IAELP,EAAI,EAAGC,EAAMkgD,EAAU/+B,KAAKlhB,OAAQF,EAAIC,EAAKD,IAAK,CACrDuhB,IACA/K,EADM2pC,EAAU/+B,KAAKphB,GACXwW,IACV,GAACA,IAGL6pC,EAAOt5C,KAAKyP,GACZ8pC,EAAQngD,IAAIqW,EAAIsD,KAChBtD,EAAI+lB,UAAYwjB,EAAyB5+C,IAAIqV,EAAIsD,MAC5CtD,EAAI+lB,UAAU,CACbgkB,IAAAA,EAAWR,EAAyBh/C,IAAIyV,EAAIsD,KAC5C,UAAWymC,IACb/pC,EAAItV,MAAQq/C,EAASr/C,QAIvBs/C,IAAAA,GAAU,EAAeT,EAAAA,gBAAAA,GAiBtBM,OAhBPG,EAAQl/C,QAAQ,SAAU/B,GACpB,IAAC+gD,EAAQn/C,IAAI5B,GAAM,CAEjBkhD,IAAAA,EAAQ,CACV3mC,IAAKva,GAEHghD,EAAWR,EAAyBh/C,IAAIxB,GACxC,UAAWghD,IACbE,EAAMv/C,MAAQq/C,EAASr/C,OAEzBm/C,EAAOt5C,KAAK05C,MAGhBR,EAAQz+C,MAAO,EAAKg/C,EAAAA,MAAAA,EAAQn7C,OAAO46C,EAAQz+C,OAC3C6+C,EAAOt5C,KAAKk5C,GAELI,EAKED,CAAoBH,EAASE,OAyBjCO,SAAAA,EAAShP,GACZK,IAAAA,EAA2B,iBAATL,EAAoBA,EAAOA,EAAKzvC,KAClDkvB,EAAQosB,EAAiBxL,GAItB5gB,OAHFA,IACHA,EAAQosB,EAAiBxL,GAAY,IAAI0C,GAEpCtjB,EAGAwvB,SAAAA,EAAWjP,GACX,OAAA,EAAcgP,EAAAA,eAAAA,EAAShP,GAAO,WAC5BkP,OAIFA,SAAkBlP,GAErBmP,IAAAA,EACArqC,EAYA07B,IAAAA,EAAS2L,EAAOnM,EAAKQ,OAVhBrrC,SAAKtH,EAAK2B,GACbi9C,IAAAA,EAAS,CAACtrC,GAAI2D,EAAIsD,IAAKva,KAAK,EAAaA,EAAAA,cAAAA,IAGzC,MAAO2B,IACTi9C,EAAOj9C,OAAQ,EAAaA,EAAAA,cAAAA,IAE9B2/C,EAAW95C,KAAKo3C,KAKd2C,EAAapP,EAAK97B,KAAO,EAEpBm9B,SAAAA,EAAc6M,EAAyBhqC,GACvC,OAAA,WACEmrC,OAtDJA,SAAcrP,EAAMkO,EAAyBhqC,GAE7C87B,OAAAA,EAAKn/B,GAAGxR,IADA,kBAEZqzC,MAAMsL,EAAW,CAAC5lC,IAFN,iBAEqBlE,IAAK,KACtC3E,KAAK,SAAUosC,GACV2D,IAAAA,GAAS,EAAepB,EAAAA,gBAAAA,GACrBhvC,OAAAA,QAAQinB,IAAImpB,EAAO/sC,IAAI,SAAUN,GAC/BgsC,OAAAA,EAAiBhsC,EAAO+9B,EAAMkO,MACnC3uC,KAAK,SAAUgwC,GACbC,IAAAA,GAAgB,EAAQD,EAAAA,SAAAA,GAIrBvP,OAHP2L,EAAWznC,IAAMA,EACjBsrC,EAAcn6C,KAAKs2C,GAEZ3L,EAAKn/B,GAAG0jC,SAAS,CAACvjC,KAAOwuC,QAyC3BH,CAAcrP,EAAMkO,EAAyBhqC,IAIpDub,IAAAA,EAAQ,IAAIsjB,EAEP0M,SAAAA,IACAzP,OAAAA,EAAKgL,SAAShnC,QAAQ,CAC3ByiC,aAAa,EACbrK,WAAW,EACX72B,cAAc,EACdg8B,MAAO,WACPp9B,MAAOirC,EACPl/B,MAAO67B,IACNxsC,KAAKwC,GAGDA,SAAAA,EAAa2tC,GAChBjuC,IAAAA,EAAUiuC,EAASjuC,QACnB,GAACA,EAAQjT,OAAT,CAGA0/C,IAAAA,EAQGyB,SAA8BluC,GAEhC,IADDysC,IAAAA,EAA0B,IAAIt/C,EAAJ,IACrBN,EAAI,EAAGC,EAAMkT,EAAQjT,OAAQF,EAAIC,EAAKD,IAAK,CAC9C+W,IAAAA,EAAS5D,EAAQnT,GACjB+W,GAAsB,MAAtBA,EAAOP,IAAIsD,IAAI,GAAY,CAC7B+mC,EAAa,IACbrqC,EAAMO,EAAOP,KAEJ+lB,UACPyhB,EAAOtM,EAAKgL,SAAUxK,EAAQ17B,GAEhCqqC,EAAWrjC,KAAK4gC,GAEZ2B,IAAAA,EAA2BuB,EAA+BT,GAC9DjB,EAAwB3+C,IAAI8V,EAAOP,IAAIsD,IAAK,CAC1CimC,EACAhpC,EAAOrB,UAGXorC,EAAa/pC,EAAOnB,IAEfgqC,OAAAA,EA7BuByB,CAA8BluC,GAExDA,GADJge,EAAMhxB,IAAI4yC,EAAc6M,EAAyBkB,MAC7C3tC,EAAQjT,OAASu9C,GAGd0D,OAAAA,KA2BAG,SAAAA,EAA+BT,GAGjC,IAFDd,IACAwB,EADAxB,EAA2B,IAAIz/C,EAAJ,IAEtBN,EAAI,EAAGC,EAAM4gD,EAAW3gD,OAAQF,EAAIC,EAAKD,IAAK,CACjDwhD,IAAAA,EAAkBX,EAAW7gD,GAC7ByhD,EAAa,CAACD,EAAgBjiD,IAAKiiD,EAAgB3uC,IACnD7S,EAAI,GAA+C,KAA1C,EAAQwhD,EAAAA,SAAAA,EAAgBjiD,IAAKgiD,IACxCE,EAAW16C,KAAK/G,GAElB+/C,EAAyB9+C,KAAI,EAAkBwgD,EAAAA,mBAAAA,GAAaD,GAC5DD,EAAUC,EAAgBjiD,IAErBwgD,OAAAA,EAGFoB,OAAAA,IAAmBlwC,KAAK,WACtBkgB,OAAAA,EAAMmsB,WACZrsC,KAAK,WACNygC,EAAK97B,IAAMkrC,IAjGJF,CAAkBlP,IADpB,GAwJAgQ,SAAAA,EAAUhQ,EAAMl/B,GAChB,OAAA,EAAckuC,EAAAA,eAAAA,EAAShP,GAAO,WAC5BiQ,OAIFA,SAAiBjQ,EAAMl/B,GAC1BovC,IAAAA,EACAC,EAAenQ,EAAK8K,YAA6B,IAAhBhqC,EAAKsR,OACtCnC,EAAOnP,EAAKmP,MAAQ,OACC,IAAdnP,EAAKhR,MAAyBgR,EAAKhR,KAAKtB,SAEjDsS,EAAKoP,MAAQ,SACNpP,EAAKhR,MAGLsgD,SAAAA,EAAcC,GAEdrQ,OADPqQ,EAAS9qC,cAAe,EACjBy6B,EAAKn/B,GAAG0mC,QAAQ8I,GAAU9wC,KAAK,SAAU5P,GAEvCA,OADPugD,EAAYvgD,EAAI2gD,WACT3gD,EAAI+f,KAAKnN,IAAI,SAAUrH,GAMxB,GAAA,UAAWA,EAAO4J,KAAmC,iBAArB5J,EAAO4J,IAAItV,OACxB,OAArB0L,EAAO4J,IAAItV,MAAgB,CACvBM,IAAAA,EAAOf,OAAOe,KAAKoL,EAAO4J,IAAItV,OAAOsc,OAGrCykC,EAAe,CAAC,KAAM,MAAO,SAC7B,KAAEzgD,EAAOygD,GAAgBzgD,EAAOygD,GAC3Br1C,OAAAA,EAAO4J,IAAItV,MAIlBghD,IAAAA,GAAoB,EAAqBt1C,EAAAA,sBAAAA,EAAO4J,IAAIsD,KACjD,MAAA,CACLva,IAAK2iD,EAAkB,GACvBrvC,GAAIqvC,EAAkB,GACtBhhD,MAAQ,UAAW0L,EAAO4J,IAAM5J,EAAO4J,IAAItV,MAAQ,UAMlDihD,SAAAA,EAAkB/gC,GACrBghC,IAAAA,EAcA5vC,GAZF4vC,EADEP,EAnGCQ,SAAW3Q,EAAMv+B,EAAS0Q,GACL,IAAxBA,EAAQy7B,oBACHz7B,EAAQy7B,YAGbgD,IAAAA,EAAcz+B,EAAQw7B,OAASx7B,EAAQy7B,YAEvC9C,EAAYsB,EAAQpM,EAAK8K,WAEzB+F,EAAS,GACTC,EAAMh9C,MAAMqe,EAAQy7B,aAAe/5C,OAAOk9C,kBAC5C5+B,EAAQy7B,YACVnsC,EAAQ7R,QAAQ,SAAUsJ,GACpB83C,IAAAA,EAAOH,EAAOA,EAAOriD,OAAS,GAC9ByiD,EAAWL,EAAc13C,EAAErL,IAAM,KAOjCmjD,GAJAJ,GAAexiD,MAAMC,QAAQ4iD,KAC/BA,EAAWA,EAAS70C,MAAM,EAAG00C,IAG3BE,GAA6C,KAArC,EAAQA,EAAAA,SAAAA,EAAKC,SAAUA,GAGjC,OAFAD,EAAKlhD,KAAKuF,KAAK,CAAC6D,EAAErL,IAAKqL,EAAEiI,UACzB6vC,EAAKnpC,OAAOxS,KAAK6D,EAAE1J,OAGrBqhD,EAAOx7C,KAAK,CACVvF,KAAM,CAAC,CAACoJ,EAAErL,IAAKqL,EAAEiI,KACjB0G,OAAQ,CAAC3O,EAAE1J,OACXyhD,SAAUA,MAGdxvC,EAAU,GACL,IAAA,IAAInT,EAAI,EAAGC,EAAMsiD,EAAOriD,OAAQF,EAAIC,EAAKD,IAAK,CAC7C4K,IAAAA,EAAI23C,EAAOviD,GACX4iD,EAAY3E,EAAUvM,EAAKgL,SAAUF,EAAW5xC,EAAEpJ,KAAMoJ,EAAE2O,QAAQ,GAClEqpC,GAAAA,EAAU/gD,OAAS+gD,EAAU/gD,iBAAiB+5C,EAAlD,aAEQgH,MAAAA,EAAU/gD,MAElBsR,EAAQpM,KAAK,CAEX7F,MAAO0hD,EAAU/gD,MAAQ,KAAO+gD,EAAUzE,OAC1C5+C,IAAKqL,EAAE+3C,WAIJ,MAAA,CAACvhC,KAAMk9B,EAAanrC,EAAS0Q,EAAQjC,MAAOiC,EAAQlC,OAqDxC0gC,CAAW3Q,EAAMtwB,EAAM5O,GAEvB,CACbwvC,WAAYJ,EACZluC,OAAQiO,EACRP,KAAMA,GAIN5O,EAAKujC,aACPqM,EAAarM,WAAarE,EAAK97B,KAE7BpD,EAAKyE,aAAc,CACjB+pC,IAAAA,GAAS,EAAK5/B,EAAAA,MAAAA,EAAKnN,IAAIsqC,IAEpB7M,OAAAA,EAAKgL,SAASzD,QAAQ,CAC3Bz3C,KAAMw/C,EACN/pC,cAAc,EACd62B,UAAWt7B,EAAKs7B,UAChB52B,YAAa1E,EAAK0E,YAClBjL,OAAQuG,EAAKvG,SACZgF,KAAK,SAAU4xC,GACZC,IAAAA,EAAe,IAAIxiD,EAAJ,IAWZ8hD,OAVPS,EAAWzhC,KAAK9f,QAAQ,SAAUigB,GAChCuhC,EAAa7hD,IAAIsgB,EAAI1O,GAAI0O,EAAI/K,OAE/B4K,EAAK9f,QAAQ,SAAUigB,GACjB5N,IAAAA,EAAQ4qC,EAAWh9B,GACnB/K,EAAMssC,EAAa/hD,IAAI4S,GACvB6C,IACF+K,EAAI/K,IAAMA,KAGP4rC,IAGFA,OAAAA,EAIP,QAAqB,IAAd5vC,EAAKhR,KAAsB,CAChCA,IAAAA,EAAOgR,EAAKhR,KACZuhD,EAAgBvhD,EAAKyS,IAAI,SAAU1U,GACjCwiD,IAAAA,EAAW,CACb5I,UAAW,EAAkB,EAAA,mBAAA,CAAC55C,IAC9B85C,QAAW,EAAkB,EAAA,mBAAA,CAAC95C,EAAK,MAM9BuiD,OAHHtvC,EAAKujC,aACPgM,EAAShM,YAAa,GAEjB+L,EAAcC,KAEhBnxC,OAAAA,QAAQinB,IAAIkrB,GAAe9xC,KAAKqG,EAAhC,SAAyCrG,KAAKkxC,GAEjDJ,IAOA5I,EACAE,EARA0I,EAAW,CACb/N,WAAaxhC,EAAKwhC,YAyBhB,GAtBAxhC,EAAKujC,aACPgM,EAAShM,YAAa,GAIpB,cAAevjC,IACjB2mC,EAAW3mC,EAAK0mC,WAEd,aAAc1mC,IAChB2mC,EAAW3mC,EAAK2mC,UAEd,YAAa3mC,IACf6mC,EAAS7mC,EAAK4mC,SAEZ,WAAY5mC,IACd6mC,EAAS7mC,EAAK6mC,aAEQ,IAAbF,IACT4I,EAAS5I,SAAW3mC,EAAKwhC,YACvB,EAAkB,EAAA,mBAAA,CAACmF,EAAU,MAC7B,EAAkB,EAAA,mBAAA,CAACA,UAED,IAAXE,EAAwB,CAC7B2J,IAAAA,GAAsC,IAAvBxwC,EAAKywC,cACpBzwC,EAAKwhC,aACPgP,GAAgBA,GAGlBjB,EAAS1I,QAAS,EAChB2J,EAAAA,mBAAAA,EAAe,CAAC3J,EAAQ,IAAM,CAACA,IAE/B,QAAoB,IAAb7mC,EAAKjT,IAAqB,CAC/B2jD,IAAAA,GAAW,EAAkB,EAAA,mBAAA,CAAC1wC,EAAKjT,MACnC4jD,GAAS,EAAkB,EAAA,mBAAA,CAAC3wC,EAAKjT,IAAK,KACtCwiD,EAAS/N,YACX+N,EAAS1I,OAAS6J,EAClBnB,EAAS5I,SAAWgK,IAEpBpB,EAAS5I,SAAW+J,EACpBnB,EAAS1I,OAAS8J,GASfrB,OANFD,IACuB,iBAAfrvC,EAAKoP,QACdmgC,EAASngC,MAAQpP,EAAKoP,OAExBmgC,EAASpgC,KAAOA,GAEXmgC,EAAcC,GAAU9wC,KAAKkxC,GA3J7BR,CAAiBjQ,EAAMl/B,IADzB,GA+NA4wC,SAAAA,EAAc7wC,EAAIlC,EAAKmC,GAE1B,GAAqB,mBAAdD,EAAG8wC,OACLC,OA1gBFA,SAAY/wC,EAAIlC,EAAKmC,GACrB,OAAA,IAAI5B,QAAQ,SAAU2e,EAASze,GACpCyB,EAAG8wC,OAAOhzC,EAAKmC,EAAM,SAAUrO,EAAK9C,GAC9B8C,GAAAA,EACK2M,OAAAA,EAAO3M,GAEhBorB,EAAQluB,OAogBHiiD,CAAY/wC,EAAIlC,EAAKmC,GAE1B,IAAA,EAASD,EAAAA,UAAAA,GACJgxC,OA9nBFA,SAAUhxC,EAAIlC,EAAKmC,GAEtB63B,IACAxQ,EAEAxnB,EAAIzQ,EAHJyoC,EAAS,GAETv1B,EAAS,MA+BT,GAxBJ6pC,EAAa,SAAUnsC,EAAM63B,GAC7BsU,EAAa,eAAgBnsC,EAAM63B,GACnCsU,EAAa,cAAensC,EAAM63B,GAClCsU,EAAa,QAASnsC,EAAM63B,GAC5BsU,EAAa,aAAcnsC,EAAM63B,GACjCsU,EAAa,QAASnsC,EAAM63B,GAC5BsU,EAAa,cAAensC,EAAM63B,GAClCsU,EAAa,OAAQnsC,EAAM63B,GAC3BsU,EAAa,QAASnsC,EAAM63B,GAC5BsU,EAAa,YAAansC,EAAM63B,GAChCsU,EAAa,WAAYnsC,EAAM63B,GAAQ,GACvCsU,EAAa,YAAansC,EAAM63B,GAAQ,GACxCsU,EAAa,SAAUnsC,EAAM63B,GAAQ,GACrCsU,EAAa,UAAWnsC,EAAM63B,GAAQ,GACtCsU,EAAa,gBAAiBnsC,EAAM63B,GACpCsU,EAAa,MAAOnsC,EAAM63B,GAAQ,GAClCsU,EAAa,aAAcnsC,EAAM63B,GAIjCA,EAAoB,MADpBA,EAASA,EAAO/xB,KAAK,MACI,GAAK,IAAM+xB,OAIX,IAAd73B,EAAKhR,KAAsB,CAChCgiD,IAIAC,EACF,QAAU3E,mBAAmB18C,KAAKC,UAAUmQ,EAAKhR,OAC/CiiD,EAAavjD,OAASmqC,EAAOnqC,OAAS,GANrB,IASnBmqC,IAAyB,MAAdA,EAAO,GAAa,IAAM,KAAOoZ,GAE5C3uC,EAAS,OACU,iBAARzE,EACTwpB,EAAO,CAACr4B,KAAMgR,EAAKhR,MAEnB6O,EAAI7O,KAAOgR,EAAKhR,MAMlB,GAAe,iBAAR6O,EAAkB,CACvB5F,IAAAA,EAAQizC,EAAcrtC,GACnBkC,OAAAA,EAAG6+B,MAAM,WAAa3mC,EAAM,GAAK,UAAYA,EAAM,GAAK4/B,EAAQ,CACrEqZ,QAAS,IAAIrS,EAAJ,QAAY,CAAiB,eAAA,qBACtCv8B,OAAQA,EACR+kB,KAAMz3B,KAAKC,UAAUw3B,KACpB5oB,KAAK,SAAUmwC,GAGTA,OAFP/uC,EAAK+uC,EAAS/uC,GACdzQ,EAASw/C,EAASx/C,OACXw/C,EAAShZ,SACfn3B,KAAK,SAAUrE,GACZ,IAACyF,EAEG,MADNzF,EAAOhL,OAASA,GACV,EAA0BgL,EAAAA,2BAAAA,GAS3BA,OANPA,EAAOwU,KAAK9f,QAAQ,SAAUigB,GAExBA,GAAAA,EAAIrgB,OAASqgB,EAAIrgB,MAAMW,OAA6B,yBAApB0f,EAAIrgB,MAAMW,MACtC,MAAA,IAAIE,MAAMwf,EAAIzf,UAGjB8K,IACNqE,KAAKutC,EAAuBhsC,IAa1BD,OATPsnB,EAAOA,GAAQ,GACfp5B,OAAOe,KAAK6O,GAAK/O,QAAQ,SAAU/B,GAC7BO,MAAMC,QAAQsQ,EAAI9Q,IACpBs6B,EAAKt6B,GAAO8Q,EAAI9Q,GAEhBs6B,EAAKt6B,GAAO8Q,EAAI9Q,GAAK4C,aAIlBoQ,EAAG6+B,MAAM,aAAe/G,EAAQ,CACrCqZ,QAAS,IAAIrS,EAAJ,QAAY,CAAiB,eAAA,qBACtCv8B,OAAQ,OACR+kB,KAAMz3B,KAAKC,UAAUw3B,KACpB5oB,KAAK,SAAUmwC,GAGTA,OAFL/uC,EAAK+uC,EAAS/uC,GACdzQ,EAASw/C,EAASx/C,OACbw/C,EAAShZ,SACfn3B,KAAK,SAAUrE,GACZ,IAACyF,EAEG,MADNzF,EAAOhL,OAASA,GACV,EAA0BgL,EAAAA,2BAAAA,GAE3BA,OAAAA,IACNqE,KAAKutC,EAAuBhsC,IAmhBtB+wC,CAAUhxC,EAAIlC,EAAKmC,GAGxB,GAAe,iBAARnC,EAoBFmtC,OAlBP0B,EAAqB1sC,EAAMnC,GAE3BmtC,EAAcr9C,IAAI,WAQTwjD,OAPiBlH,EACPlqC,EADiB,sBAGnBlC,EAAI4D,IACD5D,EAAIyT,QAJY,EAMb84B,GACI3rC,KAAK,SAAUygC,GAC/B,OAAA,EAAIiP,EAAAA,KAAAA,EAAWjP,GAAMzgC,KAAK,WACxBywC,OAAAA,EAAUhQ,EAAMl/B,KACrB,WACKk/B,OAAAA,EAAKn/B,GAAGvD,gBAIdwuC,EAAcF,SAGjBH,IAAAA,EAAe9sC,EACf5F,EAAQizC,EAAcP,GACtByG,EAAgBn5C,EAAM,GACtBsnC,EAAWtnC,EAAM,GACd8H,OAAAA,EAAGxR,IAAI,WAAa6iD,GAAe3yC,KAAK,SAAUuF,GACnDnG,IAAAA,EAAMmG,EAAI27B,OAAS37B,EAAI27B,MAAMJ,GAE7B,IAAC1hC,EAEG,MAAA,IAAIsrC,EAAJ,cAAkB,QAAUnlC,EAAIsD,IAAM,sBAC1Ci4B,GAaG4R,OAVP5F,EAAcvnC,EAAKu7B,GACnBmN,EAAqB1sC,EAAMnC,GAEHosC,EACPlqC,EACA4qC,EACF9sC,EAAI4D,IACD5D,EAAIyT,QAJY,EAMb84B,GACI3rC,KAAK,SAAUygC,GAClCl/B,MAAe,OAAfA,EAAKqxC,OAAiC,iBAAfrxC,EAAKqxC,OACX,iBAAfrxC,EAAKqxC,QACE,EAAA,EAAA,UAAA,WACPlD,EAAWjP,KAGRgQ,EAAUhQ,EAAMl/B,IAEhBmuC,EAAWjP,GAAMzgC,KAAK,WACpBywC,OAAAA,EAAUhQ,EAAMl/B,SAuC5B,MAAA,CACLqE,MAhCOitC,SAAczzC,EAAKmC,EAAMjG,GAC5BgG,IAAAA,EAAK,KACW,mBAATC,IACTjG,EAAWiG,EACXA,EAAO,IAETA,EAAOA,EArvBAuxC,SAAcvxC,GAIdA,OAHPA,EAAK8sC,YAAcP,EAAcvsC,EAAK8sC,aACtC9sC,EAAKoP,MAAQm9B,EAAcvsC,EAAKoP,OAChCpP,EAAKmP,KAAOo9B,EAAcvsC,EAAKmP,MACxBnP,EAivBOuxC,CAAcvxC,GAAQ,GAEjB,mBAARnC,IACTA,EAAM,CAAC4D,IAAM5D,IAGXM,IAAAA,EAAUC,QAAQ2e,UAAUte,KAAK,WAC5BmyC,OAAAA,EAAc7wC,EAAIlC,EAAKmC,KAGzB7B,OADUA,EAAAA,EAAAA,kBAAAA,EAASpE,GACnBoE,GAiBPqzC,aAdwB,EAAY,EAAA,aAAA,WAChCzxC,IAAAA,EAAK,KAEL,MAA2B,mBAApBA,EAAG0xC,aAxlBPC,SAAkB3xC,GAClB,OAAA,IAAI3B,QAAQ,SAAU2e,EAASze,GACpCyB,EAAG0xC,aAAa,SAAU9/C,EAAK9C,GACzB8C,GAAAA,EACK2M,OAAAA,EAAO3M,GAEhBorB,EAAQluB,OAmlBH6iD,CAAkB3xC,IAEvB,EAASA,EAAAA,UAAAA,GAjKN4xC,SAAgB5xC,GAChBA,OAAAA,EAAG6+B,MAAM,gBAAiB,CAC/BsS,QAAS,IAAIrS,EAAJ,QAAY,CAAiB,eAAA,qBACtCv8B,OAAQ,SACP7D,KAAK,SAAUmwC,GACTA,OAAAA,EAAShZ,SA6JT+b,CAAgB5xC,GAzJlB6xC,SAAiB7xC,GACjBA,OAAAA,EAAGxR,IAAI,UAAY67C,GAAc3rC,KAAK,SAAUgvC,GACjDoE,IAAAA,EAAc,IAAI/jD,EAAJ,IAClBG,OAAOe,KAAKy+C,EAAQ9N,OAAO7wC,QAAQ,SAAU67C,GACvC1yC,IAAAA,EAAQizC,EAAcP,GACtByG,EAAgB,WAAan5C,EAAM,GACnCsnC,EAAWtnC,EAAM,GACjB0nC,EAAQkS,EAAYtjD,IAAI6iD,GACvBzR,IACHA,EAAQ,IAAI5xC,EAAJ,IACR8jD,EAAYpjD,IAAI2iD,EAAezR,IAEjCA,EAAMhyC,IAAI4xC,KAERv/B,IAAAA,EAAO,CACThR,MAAO,EAAe6iD,EAAAA,gBAAAA,GACtBptC,cAAe,GAEV1E,OAAAA,EAAG0mC,QAAQzmC,GAAMvB,KAAK,SAAU5P,GACjCijD,IAAAA,EAAgB,GACpBjjD,EAAI+f,KAAK9f,QAAQ,SAAUigB,GACrBgjC,IAAAA,EAAWhjC,EAAIhiB,IAAIE,UAAU,GACjC4kD,EAAYtjD,IAAIwgB,EAAIhiB,KAAK+B,QAAQ,SAAUywC,GACrCoL,IAAAA,EAAeoH,EAAW,IAAMxS,EAE/BkO,EAAQ9N,MAAMgL,KAGjBA,EAAepL,GAEbyS,IAAAA,EAAc/jD,OAAOe,KAAKy+C,EAAQ9N,MAAMgL,IAExCsH,EAAeljC,EAAI/K,KAAO+K,EAAI/K,IAAI27B,OACpC5wB,EAAI/K,IAAI27B,MAAMJ,GAChByS,EAAYljD,QAAQ,SAAUojD,GAC5BJ,EAAcI,GACZJ,EAAcI,IAAeD,QAIjCE,IAEAC,EAFcnkD,OAAOe,KAAK8iD,GAAenwC,OAC3C,SAAUuwC,GAAqB,OAACJ,EAAcI,KACdzwC,IAAI,SAAUywC,GACvC,OAAA,EAAchE,EAAAA,eAAAA,EAASgE,GAAa,WAClC,OAAA,IAAInyC,EAAGxC,YAAY20C,EAAYnyC,EAAG6iC,QAAQpmC,WAD5C,KAIF4B,OAAAA,QAAQinB,IAAI+sB,GAAiB3zC,KAAK,WAChC,MAAA,CAACoB,IAAI,QAGfqtC,EAAW,CAACrtC,IAAI,KAwGZ+xC,CAAiB7xC,MASb+pC,IAAAA,EAAAA,EAAAA,QAAAA,QAAAA;;ACmWArB,aAAAA,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EAv4Cf,IAAA,EAAA,QAAA,iBACA,EAAA,QAAA,kBACA,EAAA,QAAA,iBACA,EAAA,QAAA,yBACA,EAAA,EAAA,QAAA,+BACA,EAAA,QAAA,mBACA,EAAA,QAAA,eAi4CeA,SAAAA,EAAAA,GAAAA,OAAAA,GAAAA,EAAAA,WAAAA,EAAAA,CAAAA,QAAAA,GA33Cf,SAAS4J,EAA0BxjC,GAsB1BA,OArBPA,GAAa,EAAMA,EAAAA,OAAAA,IAEH5Y,QACd4Y,EAAW5Y,MAAQ,IAGpB,CAAA,OAAQ,OAAQ,QAAQnH,QAAQ,SAAU/B,GACrC8hB,EAAW5Y,MAAMlJ,KACnB8hB,EAAW9hB,GAAO8hB,EAAW5Y,MAAMlJ,UAC5B8hB,EAAW5Y,MAAMlJ,MAIxB8hB,EAAW1C,SACb0C,EAAW5Y,MAAMkW,OAAS0C,EAAW1C,cAC9B0C,EAAW1C,QAGf0C,EAAWjb,OACdib,EAAWjb,KAAO,QAEbib,EAGT,SAASyjC,EAAQvyC,EAAI4R,EAAM3R,EAAMjG,GAC3B3K,IAAAA,EAAQyQ,EACZG,EAAKkxC,QAAU,IAAIrS,EAAJ,QAAY,CAAiB,eAAA,qBAC5C9+B,EAAG6+B,MAAMjtB,EAAM3R,GAAMvB,KAAK,SAAUmwC,GAG3BA,OAFPx/C,EAASw/C,EAASx/C,OAClByQ,EAAK+uC,EAAS/uC,GACP+uC,EAAShZ,SACfn3B,KAAK,SAAUm3B,GACZ,GAAC/1B,EAKH9F,EAAS,KAAM67B,OALR,CACPA,EAAKxmC,OAASA,EACVuC,IAAAA,GAAM,EAA0BikC,EAAAA,2BAAAA,GACpC77B,EAASpI,MAIViwC,MAAM7nC,GAGX,SAASw4C,EAAYxyC,EAAI8O,EAAY9U,GACnC8U,EAAawjC,EAA0BxjC,GACvCyjC,EAAQvyC,EAAI,SAAU,CACpBuC,OAAQ,OACR+kB,KAAMz3B,KAAKC,UAAUgf,IACpB9U,GAGL,SAAS6V,EAAK7P,EAAI8O,EAAY9U,GAC5Bu4C,EAAQvyC,EAAI,QAAS,CACnBuC,OAAQ,OACR+kB,KAAMz3B,KAAKC,UAAUgf,IACpB9U,GAGL,SAASy4C,EAAQzyC,EAAI8O,EAAY9U,GAC/Bu4C,EAAQvyC,EAAI,WAAY,CACtBuC,OAAQ,OACR+kB,KAAMz3B,KAAKC,UAAUgf,IACpB9U,GAGL,SAASo1B,EAAWpvB,EAAIhG,GACtBu4C,EAAQvyC,EAAI,SAAU,CACpBuC,OAAQ,OACPvI,GAGL,SAAS04C,EAAY1yC,EAAI2yC,EAAU34C,GAG7BylC,IAAAA,EAAOkT,EAASlT,KAChB5rC,EAAO8+C,EAAS9+C,MAAQ,OACxBnE,EAAOijD,EAASjjD,KAEhB,OAAC+vC,EAIA/vC,OAML6iD,EAAQvyC,EAFE,UAAY,CAACy/B,EAAM5rC,EAAMnE,GAAMgS,IAAI6qC,oBAAoBxmC,KAAK,KAErD,CAACxD,OAAQ,UAAWvI,GAL5BA,EAAS,IAAIxK,MAAM,qCAJnBwK,EAAS,IAAIxK,MAAM,qCAY9B,SAASojD,EAAa90C,GACb,OAAA,WAIE,IAHHpQ,IAAAA,EAAMqH,UAAUpH,OAChB0E,EAAO,IAAI9E,MAAMG,GACjBD,GAAK,IACAA,EAAIC,GACX2E,EAAK5E,GAAKsH,UAAUtH,GAEfqQ,OAAAA,EAAIrO,KAAK,KAAM4C,IAI1B,SAASk3C,EAAYzrC,GACZ80C,OAAAA,EAAa,SAAUvgD,GACxBrD,IAAAA,EAAKqD,EAAK8D,MACViI,EAAUN,EAAI5L,MAAM,KAAMG,GAEvB+L,OADPkrC,EAAiBlrC,EAASpP,GACnBoP,IAIX,SAASkrC,EAAiBlrC,EAASpE,GAU1BoE,OATPA,EAAQM,KAAK,SAAU5P,IACZ,EAAA,EAAA,UAAA,WACPkL,EAAS,KAAMlL,MAEhB,SAAUS,IACF,EAAA,EAAA,UAAA,WACPyK,EAASzK,OAGN6O,EAGT,IAAI2G,EAAU6tC,EAAa,SAAUvgD,GAE9B,IADDvD,IAAAA,EAAM,GACDrB,EAAI,EAAGC,EAAM2E,EAAK1E,OAAQF,EAAIC,EAAKD,IAAK,CAC3ColD,IAAAA,EAASxgD,EAAK5E,GACdF,MAAMC,QAAQqlD,GAChB/jD,EAAMA,EAAIgE,OAAOiS,EAAQ7S,MAAM,KAAM2gD,IAErC/jD,EAAI0F,KAAKq+C,GAGN/jD,OAAAA,IAGT,SAASgkD,EAAaj9C,GAEf,IADD/G,IAAAA,EAAM,GACDrB,EAAI,EAAGC,EAAMmI,EAAIlI,OAAQF,EAAIC,EAAKD,IACzCqB,GAAM,EAAOA,EAAAA,QAAAA,EAAK+G,EAAIpI,IAEjBqB,OAAAA,EAKT,SAASwQ,EAAKC,EAAK1J,GAEZ,IADD/G,IAAAA,EAAM,GACDrB,EAAI,EAAGC,EAAMmI,EAAIlI,OAAQF,EAAIC,EAAKD,IAAK,CAC1Coe,IAAAA,GAAc,EAAWhW,EAAAA,YAAAA,EAAIpI,IAC7BkB,GAAQ,EAAgB4Q,EAAAA,iBAAAA,EAAKsM,QACZ,IAAVld,IACKG,EAAAA,EAAAA,eAAAA,EAAK+c,EAAald,GAG7BG,OAAAA,EAIT,SAASikD,EAA0B/mC,EAAMC,GAElC,IAAA,IAAIxe,EAAI,EAAGC,EAAMsO,KAAKC,IAAI+P,EAAKre,OAAQse,EAAMte,QAASF,EAAIC,EAAKD,IAC9Due,GAAAA,EAAKve,KAAOwe,EAAMxe,GACb,OAAA,EAGJ,OAAA,EAIT,SAASulD,EAAgChnC,EAAMC,GAEzCD,QAAAA,EAAKre,OAASse,EAAMte,SAIjBolD,EAA0B/mC,EAAMC,GAKzC,SAASgnC,EAAwBjnC,EAAMC,GACrCD,EAAOA,EAAKzQ,QACP,IAAA,IAAI9N,EAAI,EAAGC,EAAMue,EAAMte,OAAQF,EAAIC,EAAKD,IAAK,CAC5C+e,IAAAA,EAAQP,EAAMxe,GACd,IAACue,EAAKre,OACR,MAEEulD,IAAAA,EAAUlnC,EAAKzF,QAAQiG,GACvB0mC,IAAa,IAAbA,EACK,OAAA,EAEPlnC,EAAKmG,OAAO+gC,EAAS,GAGlB,OAAA,EAGT,SAASC,EAAct9C,GAEhB,IADD/G,IAAAA,EAAM,GACDrB,EAAI,EAAGC,EAAMmI,EAAIlI,OAAQF,EAAIC,EAAKD,IACzCqB,EAAI+G,EAAIpI,KAAM,EAETqB,OAAAA,EAGT,SAAS2T,EAAI5M,EAAKiI,GAGX,IAFD2E,IAAAA,EAAM,KACN2wC,GAAY,EACP3lD,EAAI,EAAGC,EAAMmI,EAAIlI,OAAQF,EAAIC,EAAKD,IAAK,CAC1Cid,IAAAA,EAAU7U,EAAIpI,GACd4lD,EAAQv1C,EAAI4M,GACZ2oC,EAAQD,IACVA,EAAWC,EACX5wC,EAAMiI,GAGHjI,OAAAA,EAGT,SAAS6wC,EAAYC,EAAMC,GACrBD,GAAAA,EAAK5lD,SAAW6lD,EAAK7lD,OAChB,OAAA,EAEJ,IAAA,IAAIF,EAAI,EAAGC,EAAM6lD,EAAK5lD,OAAQF,EAAIC,EAAKD,IACtC8lD,GAAAA,EAAK9lD,KAAO+lD,EAAK/lD,GACZ,OAAA,EAGJ,OAAA,EAGT,SAASm8C,EAAK/zC,GAEP,IADD0J,IAAAA,EAAM,GACD9R,EAAI,EAAGA,EAAIoI,EAAIlI,OAAQF,IAC9B8R,EAAI,IAAM1J,EAAIpI,KAAM,EAEfS,OAAAA,OAAOe,KAAKsQ,GAAKmC,IAAI,SAAU1U,GAC7BA,OAAAA,EAAIE,UAAU,KAgBzB,SAASumD,EAAsBrnC,EAAQ9X,GAC9B,OAAA,SAAU2P,GAEV,IADDyvC,IAAAA,EAAS,GACJjmD,EAAI,EAAGkmD,EAAOvnC,EAAOze,OAAQF,EAAIkmD,EAAMlmD,IAAK,CAG9C,IAFDoe,IAAAA,GAAc,EAAWO,EAAAA,YAAAA,EAAO3e,IAChCkB,EAAQsV,EACH5C,EAAI,EAAGuyC,EAAO/nC,EAAYle,OAAQ0T,EAAIuyC,EAAMvyC,IAAK,CAGpD,QAAiB,KADrB1S,EAAQA,EADEkd,EAAYxK,KAEY,OAIpCqyC,EAAOl/C,KAAK7F,GAEd2F,EAAKo/C,IAIT,SAASG,EAAuBrnC,EAAOlY,GACjCuX,IAAAA,GAAc,EAAWW,EAAAA,YAAAA,GACtB,OAAA,SAAUvI,GAEV,IADDtV,IAAAA,EAAQsV,EACHxW,EAAI,EAAGC,EAAMme,EAAYle,OAAQF,EAAIC,EAAKD,IAAK,CAGlD,QAAiB,KADrBkB,EAAQA,EADEkd,EAAYpe,KAEY,OAIpC6G,EAAK3F,IAIT,SAASmlD,EAA0BtnC,EAAOlY,GACjC,OAAA,SAAU2P,GACf3P,EAAK2P,EAAIuI,KAIb,SAASunC,EAAyB3nC,EAAQ9X,GACjC,OAAA,SAAU2P,GAEV,IADDyvC,IAAAA,EAAS,GACJjmD,EAAI,EAAGC,EAAM0e,EAAOze,OAAQF,EAAIC,EAAKD,IAC5CimD,EAAOl/C,KAAKyP,EAAImI,EAAO3e,KAEzB6G,EAAKo/C,IAIT,SAASM,EAAa5nC,GACf,IAAA,IAAI3e,EAAI,EAAGC,EAAM0e,EAAOze,OAAQF,EAAIC,EAAKD,IAAK,CAE7C+e,IAAwB,IADhBJ,EAAO3e,GACT8Y,QAAQ,KACT,OAAA,EAGJ,OAAA,EAGT,SAAS0tC,EAAa7nC,EAAQ9X,GACxB4/C,IAAAA,EAAYF,EAAa5nC,GACzB+nC,EAA6B,IAAlB/nC,EAAOze,OAIlBumD,OAAAA,EACEC,EACKL,EAA0B1nC,EAAO,GAAI9X,GAErCy/C,EAAyB3nC,EAAQ9X,GAGtC6/C,EACKN,EAAuBznC,EAAO,GAAI9X,GAElCm/C,EAAsBrnC,EAAQ9X,GAK3C,SAASg3C,EAAO8I,EAAW9/C,GAKlB2/C,OAAAA,EAFM/lD,OAAOe,KAAKmlD,EAAUhoC,QAEP9X,GAI9B,SAASi3C,IACD,MAAA,IAAI/7C,MAAM,wBAGlB,SAASg8C,EAAc/L,EAAMD,GACvBL,IAAAA,EAAOM,EAAKG,MAAMJ,GAIlB,IAACL,EAAKz9B,MAAQy9B,EAAKz9B,IAAI0K,OACnB,MAAA,IAAI5c,MAAM,QAAUiwC,EAAKl4B,IAAK,cAAgBi4B,EAClD,6EAKN,IAAI6U,GAAiB,EAAA,EAAA,SACA,UACnB/I,EACAC,EACAC,GAIF,SAAS8I,EAAYrpC,GACf,IAAC1d,MAAMC,QAAQyd,GACX,MAAA,IAAIzb,MAAM,0CAEXyb,OAAAA,EAAKvJ,IAAI,SAAU2M,GACpB,GAAmB,iBAAZA,EAAsB,CAC3B9O,IAAAA,EAAM,GAEHA,OADPA,EAAI8O,GAAW,MACR9O,EAEA8O,OAAAA,IAKb,SAASkmC,EAAgBC,GACnBC,IAAAA,EAAkB,GAOfA,MANiB,iBAAbD,EACTC,EAAgBjgD,KAAKggD,GAErBC,EAAkBD,EAGbC,EAAgB/yC,IAAI,SAAUhS,GAC5BA,OAAAA,EAAK+W,QAAQ,WAAY,MAIpC,SAASiuC,EAAgB/B,GAShBA,OARPA,EAASvmC,OAASumC,EAASvmC,OAAO1K,IAAI,SAAU8K,GAC1C,GAAiB,iBAAVA,EAAoB,CACzBjN,IAAAA,EAAM,GAEHA,OADPA,EAAIiN,GAAS,MACNjN,EAEFiN,OAAAA,IAEFmmC,EAGT,SAASgC,EAAc1wC,EAAK/N,GAErB,IADDpH,IAAAA,EAAM,GACDrB,EAAI,EAAGA,EAAIyI,EAAM0+C,IAAIxoC,OAAOze,OAAQF,IAAK,CAC5C+e,IAAAA,GAAQ,EAAOtW,EAAAA,QAAAA,EAAM0+C,IAAIxoC,OAAO3e,IACpCqB,EAAI0F,KAAKyP,EAAIuI,IAER1d,OAAAA,EAKT,SAAS+lD,EAAqBhmC,EAAMimC,EAAa5+C,GAE1C,IADD6+C,IAAAA,EAAc7+C,EAAM0+C,IAAIxoC,OACnB3e,EAAI,EAAGC,EAAMmhB,EAAKlhB,OAAQF,EAAIC,EAAKD,IAAK,CAC3CuhB,IAKAgmC,EAASL,EALH9lC,EAAKphB,GAKgBwW,IAAK/N,GAChC6+C,GAAuB,IAAvBA,EAAYpnD,OACdqnD,EAASA,EAAO,QAITA,KAAAA,EAAOrnD,OAASmnD,EAAYnnD,QACjCqnD,EAAO7+C,MAIP6F,GAAAA,KAAKyP,KAAI,EAAQupC,EAAAA,SAAAA,EAAQF,IAAgB,EAE3C,MAGGrnD,OAAAA,EAAI,EAAIohB,EAAKtT,MAAM9N,GAAKohB,EAGjC,SAASomC,EAAeh1C,GAClBi1C,IAAAA,GAAU,EAAMj1C,EAAAA,OAAAA,GAkBbi1C,cAjBAA,EAAQtO,gBACRsO,EAAQpO,cACRoO,EAAQC,uBACRD,EAAQxE,cAEX,WAAYzwC,IACdi1C,EAAQtO,SAAW3mC,EAAK6mC,QAEtB,aAAc7mC,IAChBi1C,EAAQpO,OAAS7mC,EAAK2mC,UAEpB,oBAAqB3mC,IACvBi1C,EAAQxE,cAAgBzwC,EAAKk1C,iBAE3B,kBAAmBl1C,IACrBi1C,EAAQC,gBAAkBl1C,EAAKywC,eAE1BwE,EAGT,SAASE,EAAcl/C,GACjBm/C,IAAAA,EAAYn/C,EAAMkW,OAAOxK,OAAO,SAAU4K,GACrC,MAAoB,SAApB,EAASA,EAAAA,UAAAA,KAEd6oC,GAAqB,IAArBA,EAAU1nD,QAAgB0nD,EAAU1nD,SAAWuI,EAAMkW,OAAOze,OACxD,MAAA,IAAI6B,MAAM,6BAIpB,SAAS8lD,EAAaxmC,EAAY5Y,GAC5BA,GAAAA,EAAMq/C,aAAezmC,EAAW7D,KAAM,CACpCuqC,IAAAA,EAAc1mC,EAAW7D,KAAKrJ,OAAO,SAAU6zC,GAC1CvnD,MAA6B,QAA7BA,OAAOe,KAAKwmD,GAAU,KAC5B/zC,IAAI,SAAU+zC,GACRvnD,OAAAA,OAAOe,KAAKwmD,GAAU,KAG3BD,GAAAA,EAAY7nD,OAAS,EACjB,MAAA,IAAI6B,MAAM,4BAA8BgmD,EAAYzvC,KAAK,KAC/D,kCAIA7P,EAAMq/C,YAKZ,SAASG,EAAoB5mC,GACvB,GAA+B,iBAAxBA,EAAWjC,SACd,MAAA,IAAIrd,MAAM,+CAsBpB,SAASmmD,EAAc9oC,EAAU5B,GAC3B2qC,IAEAC,EAFAD,EAAiB1nD,OAAOe,KAAK4d,GAC7BuJ,EAAanL,EAAMA,EAAKvJ,IAAI+K,EAAT,QAAmB,GAQtC2J,OALFy/B,EADED,EAAejoD,QAAUyoB,EAAWzoB,OACzBioD,EAEAx/B,EAGW,IAAtBA,EAAWzoB,OACN,CACLye,OAAQypC,GAiBL,CACLzpC,OAbFypC,EAAaA,EAAW5qC,KAAK,SAAUe,EAAMC,GACvCinC,IAAAA,EAAU98B,EAAW7P,QAAQyF,IAChB,IAAbknC,IACFA,EAAUlgD,OAAO8iD,WAEfC,IAAAA,EAAW3/B,EAAW7P,QAAQ0F,GAI3BinC,OAHW,IAAd6C,IACFA,EAAW/iD,OAAO8iD,WAEb5C,EAAU6C,GAAY,EAAI7C,EAAU6C,EAAW,EAAI,IAK1DC,UAAW/qC,EAAKvJ,IAAI+K,EAAT,SAIf,SAASwpC,EAAcj2C,EAAI8O,GACzBA,EAAawjC,EAA0BxjC,GACnConC,IAOAC,EAPAD,GAAmB,EAAMpnC,EAAAA,OAAAA,EAAW5Y,OAQ/BkgD,SAAAA,IACAD,OAAAA,IAAQA,GAAM,EAAUtmD,EAAAA,WAAAA,KAAKC,UAAUgf,KARhDA,EAAW5Y,MAAQw+C,EAAgB5lC,EAAW5Y,OAE9Ck/C,EAActmC,EAAW5Y,OASrBspC,IAAAA,EAAW1wB,EAAWpf,MAAS,OAAS0mD,IAExCpE,EAAWljC,EAAW2wB,MAAS,OAAS2W,IACxCC,EAAS,WAAarE,EAEtBsE,GAAqB,EACrBC,GAAa,EA8BV,OAFPv2C,EAAGxC,YAAYlJ,KAAK,QAAS,CAAC,OAAQ,iBAAkB+hD,KAEjD,EAAOr2C,EAAAA,QAAAA,EAAIq2C,EA5BTG,SAAWvyC,GASdsyC,OARAtyC,EAAImD,MAAyB,UAAjBnD,EAAIwyC,WAClBH,GAAqB,GAEvBryC,EAAIwyC,SAAW,QACfxyC,EAAI27B,MAAQ37B,EAAI27B,OAAS,KAEzB2W,IAAetyC,EAAI27B,MAAMJ,MAMzBv7B,EAAI27B,MAAMJ,GAAY,CACpB99B,IAAK,CACH0K,OAAQ0mC,EAAahkC,EAAW5Y,MAAMkW,SAExCmF,OAAQ,SACRD,QAAS,CACPsjC,IAAKsB,IAIFjyC,KAK6BvF,KAAK,WACrC43C,GAAAA,EACI,MAAA,IAAI9mD,MAAM,sCAChB6mD,EACA,2BAED33C,KAAK,WAIFg4C,IAAAA,EAAY1E,EAAW,IAAMxS,EAC1B6U,OAAAA,EAAe/vC,MAAM7U,KAAKuQ,EAAI02C,EAAW,CAC9CrnC,MAAO,EACPkC,QAAQ,IACP7S,KAAK,WACC,MAAA,CACL4B,GAAI+1C,EACJ3mD,KAAM8vC,EACNnlC,OAAQk8C,EAAa,SAAW,eAMxC,SAASI,EAAa32C,GAGbA,OAAAA,EAAG0mC,QAAQ,CAChBE,SAAU,WACVE,OAAQ,YACRpiC,cAAc,IACbhG,KAAK,SAAU4xC,GACZxhD,IAAAA,EAAM,CACRqgC,QAAS,CAAC,CACRsQ,KAAM,KACN/vC,KAAM,YACNmE,KAAM,UACN+gD,IAAK,CACHxoC,OAAQ,CAAC,CAAC7E,IAAK,YA0BdzY,OArBPA,EAAIqgC,QAAUpqB,EAAQjW,EAAIqgC,QAASmhB,EAAWzhC,KAAKjN,OAAO,SAAUoN,GAC3DA,MAAqB,UAArBA,EAAI/K,IAAIwyC,WACd/0C,IAAI,SAAUsN,GAGR4nC,YAF2BllD,IAAlBsd,EAAI/K,IAAI27B,MAAsB1xC,OAAOe,KAAK+f,EAAI/K,IAAI27B,OAAS,IAE1Dl+B,IAAI,SAAU89B,GACzBL,IAAAA,EAAOnwB,EAAI/K,IAAI27B,MAAMJ,GAClB,MAAA,CACLC,KAAMzwB,EAAI1O,GACV5Q,KAAM8vC,EACN3rC,KAAM,OACN+gD,IAAKF,EAAgBvV,EAAK7tB,QAAQsjC,WAMxC9lD,EAAIqgC,QAAQlkB,KAAK,SAAUe,EAAMC,GACxB,OAAA,EAAQD,EAAAA,SAAAA,EAAKtc,KAAMuc,EAAMvc,QAElCZ,EAAI2gD,WAAa3gD,EAAIqgC,QAAQxhC,OACtBmB,IAKX,IAAI+nD,EAAa,KAGbC,EAAa,CAAW,IAAA,IAI5B,SAASC,EAAkB7gD,EAAOsW,GAE3B,IADDuoC,IAAAA,EAAc7+C,EAAM0+C,IAAIxoC,OAAO1K,IAAI+K,EAArB,QACThf,EAAI,EAAGC,EAAMqnD,EAAYpnD,OAAQF,EAAIC,EAAKD,IAAK,CAElD+e,GAAAA,IADauoC,EAAYtnD,GAEpB,OAAA,EAGJ,OAAA,EAQT,SAASupD,EAA2BnqC,EAAUL,GACxCM,IAAAA,EAAUD,EAASL,GAGhBiD,MAAiB,SAFL,EAAO3C,EAAAA,QAAAA,GAO5B,SAASmqC,GAAkBpB,EAAY3/C,GACjC6+C,IAAAA,EAAc7+C,EAAM0+C,IAAIxoC,OAAO1K,IAAI+K,EAArB,QAEXopC,OAAAA,EAAWt6C,QAAQ0P,KAAK,SAAUtC,EAAGC,GACtCsuC,IAAAA,EAAOnC,EAAYxuC,QAAQoC,GAC3BwuC,EAAOpC,EAAYxuC,QAAQqC,GAOxB,OANO,IAAVsuC,IACFA,EAAOlkD,OAAO8iD,YAEF,IAAVqB,IACFA,EAAOnkD,OAAO8iD,YAET,EAAQoB,EAAAA,SAAAA,EAAMC,KAKzB,SAASC,GAAuBlhD,EAAO2W,EAAUgpC,GAM1C,IADDwB,IAAAA,GAAuB,EAClB5pD,EAAI,EAAGC,GAJhBmoD,EAAaoB,GAAkBpB,EAAY3/C,IAIVvI,OAAQF,EAAIC,EAAKD,IAAK,CACjD+e,IAAAA,EAAQqpC,EAAWpoD,GACnB4pD,GAAAA,IAAyBN,EAAkB7gD,EAAOsW,GAC7CqpC,OAAAA,EAAWt6C,MAAM9N,GAEtBA,EAAIC,EAAM,GAAKspD,EAA2BnqC,EAAUL,KACtD6qC,GAAuB,GAGpB,MAAA,GAGT,SAASC,GAAwBzqC,GAC3BT,IAAAA,EAAS,GASNA,OARPle,OAAOe,KAAK4d,GAAU9d,QAAQ,SAAUyd,GAClCM,IAAAA,EAAUD,EAASL,GACvBte,OAAOe,KAAK6d,GAAS/d,QAAQ,SAAUke,GACpB,QAAbA,GACFb,EAAO5X,KAAKgY,OAIXJ,EAGT,SAASmrC,GAAkBC,EAAoBthD,EAAO2W,EAAUgpC,GAUvDoB,OAAAA,GAAkBrN,EATZ7kC,EAEXyyC,EAEAJ,GAAuBlhD,EAAO2W,EAAUgpC,GAExCyB,GAAwBzqC,KAGa3W,GAKzC,SAASuhD,GAAsB1C,EAAaiB,EAAW5pC,GACjD4pC,GAAAA,EAAW,CAGT0B,IAAAA,EAAc1E,EAAgCgD,EAAWjB,GACzD4C,EAAkB5E,EAA0B3mC,EAAQ2oC,GAEjD2C,OAAAA,GAAeC,EAMjB1E,OAAAA,EAAwB7mC,EAAQ2oC,GAGzC,IAAI6C,GAAkB,CAAC,MAAO,MAAO,OAAQ,MAAO,QACpD,SAASC,GAAoB/qC,GACpB8qC,OAAsC,IAAtCA,GAAgBrxC,QAAQuG,GAOjC,SAASgrC,GAA0B/C,EAAaloC,GAC1CkrC,IACAjrC,EAAUD,EADGkoC,EAAY,IAGzB,YAAmB,IAAZjoC,KAKc5e,OAAOe,KAAK6d,GAAS6C,KAAK,SAAUqoC,GACpD,OAAEH,GAAoBG,QAOmB,IAAhC9pD,OAAOe,KAAK6d,GAASnf,QACjB,SAApB,EAAOmf,EAAAA,QAAAA,IAKX,SAASmrC,GAAkB/hD,EAAO8/C,EAAW5pC,EAAQS,GAE/CkoC,IAAAA,EAAc7+C,EAAM0+C,IAAIxoC,OAAO1K,IAAI+K,EAArB,QAId,QAFcgrC,GAAsB1C,EAAaiB,EAAW5pC,IAMzD0rC,GAA0B/C,EAAaloC,GAUhD,SAASqrC,GAAoBrrC,EAAUgpC,EAAYG,EAAW7mB,GAErDA,OAAAA,EAAQ5d,OAAO,SAAUziB,EAAKoH,GAK5BpH,OAJYmpD,GAAkB/hD,EAAO8/C,EAAWH,EAAYhpC,IAEjE/d,EAAI0F,KAAK0B,GAEJpH,GACN,IAKL,SAASqpD,GAAsBtrC,EAAUgpC,EAAYG,EAAW7mB,EAASqlB,GAEnE4D,IAAAA,EAAkBF,GAAoBrrC,EAAUgpC,EAAYG,EAAW7mB,GAEvEipB,GAA2B,IAA3BA,EAAgBzqD,OAAc,CAC5B6mD,GAAAA,EACI,KAAA,CACJllD,MAAO,kBACPK,QAAS,kDAKT0oD,IAAAA,EAAelpB,EAAQ,GAEpBkpB,OADPA,EAAa9C,aAAc,EACpB8C,EAELD,GAA2B,IAA3BA,EAAgBzqD,SAAiB6mD,EAC5B4D,OAAAA,EAAgB,GAGrBE,IAAAA,EAAgBnF,EAAc0C,GAc9BrB,GAAAA,EAAU,CACR+D,IAAAA,EAAe,WAAa/D,EAAS,GACrCgE,EAAmC,IAApBhE,EAAS7mD,QAAe6mD,EAAS,GAChDt+C,EAAQkiD,EAAgBvoC,KAAK,SAAU3Z,GACrCsiD,SAAAA,GAAgBtiD,EAAMupC,OAAS8Y,GAAgBC,IAAiBtiD,EAAMxG,OAItEwG,EAAMupC,OAAS8Y,IAQjB,IAACriD,EACG,KAAA,CACJ5G,MAAO,gBACPK,QAAS,uEAGNuG,OAAAA,EAGFuM,OAAAA,EAAI21C,EArCFK,SAAWviD,GAGb,IAFD6+C,IAAAA,EAAc7+C,EAAM0+C,IAAIxoC,OAAO1K,IAAI+K,EAArB,QACd4mC,EAAQ,EACH5lD,EAAI,EAAGC,EAAMqnD,EAAYpnD,OAAQF,EAAIC,EAAKD,IAAK,CAClDirD,IAAAA,EAAa3D,EAAYtnD,GACzB6qD,EAAcI,IAChBrF,IAGGA,OAAAA,IA+BX,SAASsF,GAA2BlpC,EAAcC,GACxCD,OAAAA,GACD,IAAA,MACI,MAAA,CAACziB,IAAK0iB,GACV,IAAA,OACI,MAAA,CAACo3B,OAAQp3B,GACb,IAAA,OACI,MAAA,CAACk3B,SAAUl3B,GACf,IAAA,MACI,MAAA,CACLo3B,OAAQp3B,EACRghC,eAAe,GAEd,IAAA,MACI,MAAA,CACL9J,SAAUl3B,EACVylC,iBAAiB,IAKzB,SAASyD,GAA4B/rC,EAAU3W,GACzCsW,IAQAqsC,EARArsC,GAAQ,EAAOtW,EAAAA,QAAAA,EAAM0+C,IAAIxoC,OAAO,IAGhCU,EAAUD,EAASL,IAAU,GAC7BuC,EAAiB,GAwBd,OAtBa7gB,OAAOe,KAAK6d,GAIlB/d,QAAQ,SAAU0gB,GAE1BooC,GAAAA,GAAoBpoC,GACtBV,EAAeva,KAAKgY,OADlBqrC,CAKAnoC,IAEAopC,EAAeH,GAA2BlpC,EAF9B3C,EAAQ2C,IAKtBopC,EADEA,EACa/F,EAAa,CAAC+F,EAAcC,IAE5BA,KAIZ,CACLC,UAAWF,EACX9pC,eAAgBA,GAIpB,SAASiqC,GAA2BvpC,EAAcC,GACxCD,OAAAA,GACD,IAAA,MACI,MAAA,CACLm3B,SAAUl3B,EACVo3B,OAAQp3B,GAEP,IAAA,OACI,MAAA,CACLo3B,OAAQp3B,GAEP,IAAA,OACI,MAAA,CACLk3B,SAAUl3B,GAET,IAAA,MACI,MAAA,CACLo3B,OAAQp3B,EACRghC,eAAe,GAEd,IAAA,MACI,MAAA,CACL9J,SAAUl3B,EACVylC,iBAAiB,IAKzB,SAAS8D,GAAuBpsC,EAAU3W,GAEpC6+C,IAKAmE,EACAzI,EANAsE,EAAc7+C,EAAM0+C,IAAIxoC,OAAO1K,IAAI+K,EAArB,QAEdsC,EAAiB,GACjB63B,EAAW,GACXE,EAAS,GAKJiE,SAAAA,EAAOt9C,IAES,IAAnByrD,GACFtS,EAASpyC,KAAKqiD,IAEK,IAAjBpG,GACF3J,EAAOtyC,KAAKsiD,GAId/nC,EAAiBgmC,EAAYx5C,MAAM9N,GAGhC,IAAA,IAAIA,EAAI,EAAGC,EAAMqnD,EAAYpnD,OAAQF,EAAIC,EAAKD,IAAK,CAClDirD,IAEA5rC,EAAUD,EAFGkoC,EAAYtnD,IAIzB,IAACqf,IAAY5e,OAAOe,KAAK6d,GAASnf,OAAQ,CAC5Co9C,EAAOt9C,GACP,MACK,GAAIA,EAAI,EAAG,CACZS,GAAAA,OAAOe,KAAK6d,GAAS6C,KAAKkoC,IAAsB,CAClD9M,EAAOt9C,GACP,MAEE0rD,IAAAA,EACF,QAASrsC,GAAW,SAAUA,GAC9B,QAASA,GAAW,SAAUA,EAC5BssC,EAAelrD,OAAOe,KAAK4d,EAASkoC,EAAYtnD,EAAI,KACpD4rD,EAAgB/F,EAAY8F,EAAc,CAAC,QAC3CE,EAAkBhG,EAAY8F,EAAclrD,OAAOe,KAAK6d,IAExDysC,GADsBJ,IAAcE,IAAkBC,EACjC,CACvBvO,EAAOt9C,GACP,OAQC,IAJD+rD,IAAAA,EAAgBtrD,OAAOe,KAAK6d,GAE5B+rC,EAAe,KAEVx3C,EAAI,EAAGA,EAAIm4C,EAAc7rD,OAAQ0T,IAAK,CACzCoO,IAAAA,EAAe+pC,EAAcn4C,GAG7B6zC,EAAU8D,GAA2BvpC,EAFzB3C,EAAQ2C,IAKtBopC,EADEA,EACa/F,EAAa,CAAC+F,EAAc3D,IAE5BA,EAInBtO,EAASpyC,KAAK,aAAcqkD,EAAeA,EAAajS,SAAWiQ,GACnE/P,EAAOtyC,KAAK,WAAYqkD,EAAeA,EAAa/R,OAASgQ,GACzD,oBAAqB+B,IACvBK,EAAiBL,EAAa1D,iBAE5B,kBAAmB0D,IACrBpI,EAAeoI,EAAanI,eAI5B5hD,IAAAA,EAAM,CACR83C,SAAUA,EACVE,OAAQA,GAUH,YAPuB,IAAnBoS,IACTpqD,EAAIqmD,gBAAkB+D,QAEI,IAAjBzI,IACT3hD,EAAI4hD,cAAgBD,GAGf,CACLsI,UAAWjqD,EACXigB,eAAgBA,GAIpB,SAAS0qC,GAAoB5sC,GAEpB,MAAA,CACLksC,UAAW,CAACnS,SAAU,MACtB73B,eAAgB,CAAC7gB,OAAOe,KAAK4d,KAIjC,SAAS6sC,GAAiB7sC,EAAU3W,GAC9BA,OAAAA,EAAMq/C,YACDkE,GAAoB5sC,EAAU3W,GAGP,IAA5BA,EAAM0+C,IAAIxoC,OAAOze,OAEZirD,GAA4B/rC,EAAU3W,GAGxC+iD,GAAuBpsC,EAAU3W,GAG1C,SAASyjD,GAAUt5C,EAAS8uB,GAEtBtiB,IAAAA,EAAWxM,EAAQwM,SAGnB+sC,EAAgBjE,EAAc9oC,EAFvBxM,EAAQ4K,MAIf4qC,EAAa+D,EAAcxtC,OAE3BlW,EAAQiiD,GAAsBtrC,EAAUgpC,EAD5B+D,EAAc5D,UACqC7mB,EAAS9uB,EAAQw5C,WAEhFC,EAAgBJ,GAAiB7sC,EAAU3W,GAWxCpH,MALG,CACRiqD,UANce,EAAcf,UAO5B7iD,MAAOA,EACP6Y,eALmBwoC,GAFIuC,EAAc/qC,eAEoB7Y,EAAO2W,EAAUgpC,IAU9E,SAASkE,GAAiB7jD,GAEjBA,OAAAA,EAAMupC,KAAKvyC,UAAU,GAAK,IAAMgJ,EAAMxG,KAG/C,SAASsqD,GAAUh6C,EAAIi6C,GACjBh6C,IAAAA,GAAO,EAAMg6C,EAAAA,OAAAA,GAwBVj6C,OAnBHC,EAAKwhC,YACH,WAAYxhC,GAA+B,iBAAhBA,EAAK6mC,SAClC7mC,EAAK6mC,OAAS,IAEZ,aAAc7mC,GAAiC,iBAAlBA,EAAK2mC,WACpC3mC,EAAKoP,MAAQ,KAGX,aAAcpP,GAAiC,iBAAlBA,EAAK2mC,WACpC3mC,EAAK2mC,SAAW,IAEd,WAAY3mC,GAA+B,iBAAhBA,EAAK6mC,SAClC7mC,EAAKoP,MAAQ,IAGb,QAASpP,GAA4B,iBAAbA,EAAKjT,MAC/BiT,EAAKoP,MAAQ,GAGRrP,EAAG0mC,QAAQzmC,GACjBvB,KAAK,SAAU5P,GAKPA,OAHPA,EAAI+f,KAAO/f,EAAI+f,KAAKjN,OAAO,SAAUoN,GAC5B,OAAC,aAAa1J,KAAK0J,EAAI1O,MAEzBxR,IAIX,SAASorD,GAAOl6C,EAAI8O,EAAY2jC,GAevBkE,OAdH7nC,EAAWjC,WACbiC,EAAWjC,UAAW,EAAgBiC,EAAAA,iBAAAA,EAAWjC,WAG/CiC,EAAW7D,OACb6D,EAAW7D,KAAOqpC,EAAYxlC,EAAW7D,OAGvC6D,EAAW+qC,YACb/qC,EAAW+qC,UAAYtF,EAAgBzlC,EAAW+qC,YAGpDnE,EAAoB5mC,GAEb6nC,EAAa32C,GAAItB,KAAK,SAAUy7C,GAErCn6C,EAAGxC,YAAYlJ,KAAK,QAAS,CAAC,OAAQ,iBAAkBwa,IACpDsrC,IAAAA,EAAYT,GAAU7qC,EAAYqrC,EAAchrB,SACpDnvB,EAAGxC,YAAYlJ,KAAK,QAAS,CAAC,OAAQ,aAAc8lD,IAEhDC,IAAAA,EAAaD,EAAUlkD,MAE3Bo/C,EAAaxmC,EAAYurC,GAErBp6C,IAAAA,GAAO,EAAO,EAAA,QAAA,CAChByE,cAAc,EACd6M,QAAQ,GACP6oC,EAAUrB,WAET,MAAA,aAAc94C,GAAQ,WAAYA,IAClC,EAAQA,EAAAA,SAAAA,EAAK2mC,SAAU3mC,EAAK6mC,QAAU,EAGjC,CAAC3mC,KAAM,KAGG2O,EAAW7D,MACE,iBAAvB6D,EAAW7D,KAAK,IACU,UAAjC,EAAS6D,EAAAA,UAAAA,EAAW7D,KAAK,MAIzBhL,EAAKwhC,YAAa,EAClBxhC,EAAOg1C,EAAeh1C,IAGnBm6C,EAAUrrC,eAAephB,SAGxB,UAAWmhB,IACb7O,EAAKoP,MAAQP,EAAWO,OAEtB,SAAUP,IACZ7O,EAAKmP,KAAON,EAAWM,OAIvBqjC,EACKp0C,QAAQ2e,QAAQo9B,EAAWn6C,GAG7B5B,QAAQ2e,UAAUte,KAAK,WACxB27C,GAAoB,cAApBA,EAAW3qD,KACNsqD,OAAAA,GAAUh6C,EAAIC,GAEjBy2C,IAAAA,EAAYqD,GAAiBM,GAC1BhG,OAAAA,EAAe/vC,MAAM7U,KAAKuQ,EAAI02C,EAAWz2C,KAEjDvB,KAAK,SAAU5P,IACa,IAAzBmR,EAAKk1C,kBAGPrmD,EAAI+f,KAAOgmC,EAAqB/lD,EAAI+f,KAAM5O,EAAK2mC,SAAUyT,IAGvDD,EAAUrrC,eAAephB,SAE3BmB,EAAI+f,MAAO,EAAqB/f,EAAAA,sBAAAA,EAAI+f,KAAMC,EAAYsrC,EAAUrrC,iBAG9DvQ,IAAAA,EAAO,CACT2B,KAAMrR,EAAI+f,KAAKnN,IAAI,SAAUsN,GACvB/K,IAAAA,EAAM+K,EAAI/K,IACV6K,OAAAA,EAAW1C,OACN9M,EAAK2E,EAAK6K,EAAW1C,QAEvBnI,KAQJzF,OAJH67C,EAAW9E,cACb/2C,EAAKhM,QAAU,mEAGVgM,OAKb,SAAS87C,GAAUt6C,EAAI8O,GACdorC,OAAAA,GAAOl6C,EAAI8O,GAAY,GAC7BpQ,KAAK,SAAU07C,GACP,MAAA,CACLG,OAAQv6C,EAAGtQ,KACXwG,MAAOkkD,EAAUlkD,MACjB2W,SAAUiC,EAAWjC,SACrB2tC,MAAO,CACL7T,UAAWyT,EAAUrB,UAAUnS,SAC/BC,QAASuT,EAAUrB,UAAUjS,QAE/B7mC,KAAM,CACJ45C,UAAW/qC,EAAW+qC,WAAa,GACnCY,SAAU,MACVprC,MAAOP,EAAWO,MAClBD,KAAMN,EAAWM,KACjBnE,KAAM6D,EAAW7D,MAAQ,GACzBmB,OAAQ0C,EAAW1C,OACnBmvB,WAAW,EACXnV,EAAG,CAAC,KAEN/W,MAAOP,EAAWO,MAClBD,KAAMN,EAAWM,MAAQ,EACzBhD,OAAQ0C,EAAW1C,UAKzB,SAASsuC,GAAc16C,EAAI9J,GAErB,IAACA,EAAMupC,KACH,MAAA,IAAIjwC,MAAM,+CAGd,IAAC0G,EAAMxG,KACH,MAAA,IAAIF,MAAM,+CAGd4R,IAAAA,EAAQlL,EAAMupC,KACdD,EAAWtpC,EAAMxG,KAYd,OAAA,EAAOsQ,EAAAA,QAAAA,EAAIoB,EAVTu5C,SAAS12C,GACZ/V,OAAkC,IAAlCA,OAAOe,KAAKgV,EAAI27B,OAAOjyC,QAAgBsW,EAAI27B,MAAMJ,GAE5C,CAACj4B,IAAKnG,EAAO4oB,UAAU,WAGzB/lB,EAAI27B,MAAMJ,GACVv7B,KAG0BvF,KAAK,WAC/B21C,OAAAA,EAAe5C,YAAYv/C,MAAM8N,KACvCtB,KAAK,WACC,MAAA,CAACoB,IAAI,KAIhB,IAAI86C,GAAwBrR,EAAY0M,GACpC4E,GAAiBtR,EAAY2Q,IAC7BY,GAAoBvR,EAAY+Q,IAChCS,GAAuBxR,EAAYoN,GACnCqE,GAAwBzR,EAAYmR,IAEpChS,GAAS,GACbA,GAAO8J,aAAc,EAAU,EAAA,WAAA,SAAU1jC,EAAY9U,GAE/C,GAAsB,iBAAf8U,EACF9U,OAAAA,EAAS,IAAIxK,MAAM,0CAGP,EAAS,EAAA,UAAA,MAC5BgjD,EAAcoI,IACD,KAAM9rC,EAAY9U,KAGnC0uC,GAAO74B,MAAO,EAAU,EAAA,WAAA,SAAUf,EAAY9U,GAOxC,QALoB,IAAbA,IACTA,EAAW8U,EACXA,OAAapd,GAGW,iBAAfod,EACF9U,OAAAA,EAAS,IAAIxK,MAAM,mDAGd,EAAS,EAAA,UAAA,MAAQqgB,EAAOgrC,IAC9B,KAAM/rC,EAAY9U,KAG5B0uC,GAAO+J,SAAU,EAAU,EAAA,WAAA,SAAU3jC,EAAY9U,GAO3C,QALoB,IAAbA,IACTA,EAAW8U,EACXA,OAAapd,GAGW,iBAAfod,EACF9U,OAAAA,EAAS,IAAIxK,MAAM,sDAGd,EAAS,EAAA,UAAA,MAAQijD,EAAUqI,IACjC,KAAMhsC,EAAY9U,KAG5B0uC,GAAOtZ,YAAa,EAAU,EAAA,WAAA,SAAUp1B,KAElB,EAAS,EAAA,UAAA,MAAQo1B,EAAa2rB,IACpC,KAAM/gD,KAGtB0uC,GAAOgK,aAAc,EAAU,EAAA,WAAA,SAAUC,EAAU34C,GAE7C,GAAoB,iBAAb24C,EACF34C,OAAAA,EAAS,IAAIxK,MAAM,0CAGP,EAAS,EAAA,UAAA,MAC5BkjD,EAAcsI,IACD,KAAMrI,EAAU34C,KAGlB0uC,IAAAA,GAAAA,GAAAA,QAAAA,QAAAA;;AChxCR,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,kBAAA,EAAA,QAAA,SAAA,EAAA,QAAA,YAAA,EAAA,QAAA,sBAAA,EAAA,QAAA,yBAAA,EAAA,QAAA,aAAA,EAAA,QAAA,aAAA,EAjHP,IAAA,EAAA,EAAA,QAAA,iBAEA,EAAA,EAAA,QAAA,iBASA,EAAA,QAAA,cAsGO,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAjGA,SAASuS,EAAkBC,GACzBA,OAAAA,EAAQxU,QAAQ,CACrBhiC,cAAc,EACdC,aAAa,IACZjG,KAAK,SAAUyB,GACTA,OAAAA,EAAK0O,KAAKjN,OAAO,SAAUoN,GACzB,OAACA,EAAI1O,GAAGypB,WAAW,cACzBp8B,SAOA,SAASwtD,EAASD,EAAS7rC,GAC5BA,GAAAA,GAAS,EACL,MAAA,EAAW,EAAA,YAAA,KAAM,CACrBA,MAAOA,IAIJ6rC,OAAAA,EAAQxU,QAAQ,CACrBhiC,cAAc,EACdC,aAAa,EACb0K,MAAOA,IACN3Q,KAAK,SAAUyB,GACTA,OAAAA,EAAK0O,KAAKnN,IAAI,SAAUsN,GACtBA,OAAAA,EAAI/K,MACVrC,OAAO,SAAUqC,GACX,OAACA,EAAIsD,IAAIwiB,WAAW,eAS1B,SAASqxB,EAAYn5B,GACtB,IAACA,GAAqC,mBAAnBA,EAAQo5B,OACvB,MAAA,EAAW,EAAA,YAAA,MAAO,CACtBp5B,QAASA,IAUR,SAASq5B,EAAsB5rD,GAChC,GAAgB,iBAATA,GAAqC,IAAhBA,EAAK/B,OAC7B,MAAA,EAAe,EAAA,gBAAA,MAAO,CAC1B+B,KAAMA,IAKNA,GAAAA,EAAK67B,SAAS,MAClB77B,EAAK67B,SAAS,MACZ,OAAO,EACLgwB,IACAC,EAAM,IAAI/qC,OADD,sBAGT,IAAC/gB,EAAK0V,MAAMo2C,GACR,MAAA,EAAW,EAAA,YAAA,MAAO,CACtB5/B,MALS,qBAMT6/B,UAAW/rD,IAIR,OAAA,EAMF,SAASgsD,EAAyBC,EAAOxrB,GAC1CyrB,IAAAA,EAAYzrB,EAAK0rB,KACjBA,OAAqB,IAAdD,GAA8BA,EACrCE,EAAY3rB,EAAK37B,KACjBA,OAAqB,IAAdsnD,GAA8BA,EACrCD,GAAAA,GAAQrnD,EAAM,OAAOmnD,EAAMI,KAAKzmD,KAAKqmD,GACrC,IAACE,GAAQrnD,EAAM,OAAOmnD,EAAMK,UAAUn4C,GAAGvO,KAAKqmD,GAC9CE,GAAAA,IAASrnD,EAAM,OAAOmnD,EAAMK,UAAUrpB,KAAKr9B,KAAKqmD,GAEhD,IAACE,IAASrnD,EACN,MAAA,EAAW,EAAA,YAAA,MAAO,CACtBqnD,KAAMA,EACNrnD,KAAMA,IAIL,SAAS61B,EAAa9qB,GACpBA,OAAAA,aAAe08C,EAAtB,QA5GFA,EAAYvT,QAAAA,OAAOwT,EAAnB,SA8GO,IAAIlc,EAAUic,EAAd,QAAA,QAAA,QAAA;;AC5EN,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,eAAA,EAAA,QAAA,iBAAA,EAAA,QAAA,2BAAA,EA3CD,IAAA,EAAA,QAAA,UACA,EAAA,QAAA,cAKO,SAASE,EAAe5yB,EAAKvV,GAC9BniB,IAAAA,GAAO,EAAMmiB,EAAAA,OAAAA,GAIVniB,OAHPA,EAAO03B,EAAI6yB,SAAS9pB,QAAQzgC,GAC5BA,EAAO03B,EAAItW,OAAO0C,gBAAgB9jB,GAC9B03B,EAAItW,OAAOsd,qBAAoB1+B,EAAO03B,EAAIoO,eAAe0kB,SAASxqD,IAC/DA,EAEF,SAASo4B,EAAiBV,EAAKvV,GAChCsoC,IAAAA,EAAYvnD,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,IAAmBA,UAAU,GAC3ElD,GAAO,EAAMmiB,EAAAA,OAAAA,GAGbsoC,OAFJzqD,EAAO03B,EAAItW,OAAO4C,gBAAgBhkB,GAC9B03B,EAAItW,OAAOsd,qBAAoB1+B,EAAO03B,EAAIoO,eAAe4kB,WAAW1qD,IACpEyqD,EAAkBzqD,EACtBA,EAAO03B,EAAI6yB,SAAS5pB,QAAQ3gC,GASvB,SAAS2qD,EAA2BxpC,EAAYnhB,GACjD4qD,IAAAA,EAAUzpC,EAAWC,OAAO+c,uBAAuBn+B,GAEnD4qD,GAAAA,EAAQl1C,KAAyC,QAAlCyL,EAAWC,OAAOC,YAC7B,MAAA,EAAW,EAAA,YAAA,OAAQ,CACvBrhB,KAAMA,IASH4qD,MAJ+B,QAAlCzpC,EAAWC,OAAOC,aAA0BupC,EAAQl1C,MACtDk1C,EAAQl1C,KAAM,EAAd,EAAA,eAGKk1C;;ACqTR,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,oBAAA,EAAA,QAAA,mBAAA,EAAA,QAAA,YAAA,EAAA,QAAA,mBAAA,EAAA,QAAA,sBAAA,EAAA,QAAA,wBAAA,EAAA,QAAA,oBAAA,EAAA,QAAA,iBAAA,EAAA,QAAA,oBAAA,EAAA,QAAA,qBAAA,EAAA,QAAA,eAAA,EAAA,QAAA,kBAAA,EApVD,IAAA,EAAA,QAAA,cACA,EAAA,QAAA,UACA,EAAA,QAAA,eACA,EAAA,QAAA,cACA,EAAA,EAAA,QAAA,mBACA,EAAA,QAAA,WACA,EAAA,QAAA,QAEA,EAAA,QAAA,aACA,EAAA,QAAA,0BA2UC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA1UM,IAAIC,EAEX,WACWA,SAAAA,EAAaC,EAAkBC,GACjCC,KAAAA,WAAY,EACZF,KAAAA,iBAAmBA,EACnBC,KAAAA,oBAAsBA,EACtBE,KAAAA,cAAgBH,EAAiB1pC,OACjCM,KAAAA,SAAWopC,EAAiBppC,SAC5B7jB,KAAAA,KAAOitD,EAAiBjtD,KAG3ByjB,IAAAA,EAASupC,EAAanuD,UAmGnBmuD,OAjGPvpC,EAAO4pC,QAAU,WACXzpC,IAAAA,EAAQ,KAER0pC,EAAYjoD,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,GAAmBA,UAAU,GAAK,GAChF,GAAA,KAAK8nD,UAAW,MAAM,EAAW,EAAA,YAAA,OAChCA,KAAAA,WAAY,EACbznD,IAsBE6nD,EAtBF7nD,EAAQ,CACVoH,MAAM,EAEN0gD,MAAO,EAEPC,QAAS,EAETC,QAAS,EAETtyB,QAAS,EAETuyB,QAAS,GAGPC,EAAW,IAAIC,EAAJ,QA0DRD,OAjDEE,EAAmBlqC,GAAO5U,KAAK,SAAUtI,GAKvCqnD,OAJPR,EAAU7mD,EACKiI,QAAQinB,IAAI23B,EAAQv7C,IAAI,SAAUg8C,GACxC,OAAA,EAAkBA,EAAAA,mBAAAA,EAAOxC,cAGjCx8C,KAAK,SAAU++C,GACZE,IAAAA,EAAaF,EAASlsC,OAAO,SAAUqsC,EAAKC,GACvCA,OAAOD,EAAMC,GACnB,GACHzoD,EAAM8nD,MAAQS,EACdL,EAAShhD,MAAK,EAAMlH,EAAAA,OAAAA,IAyBb0oD,IAxBHA,IAAAA,EAAab,EAAQ1lD,QACrBwmD,EAAiB1/C,QAAQ2e,UAEzBghC,EAAQ,WACNC,IAAAA,EAAkBC,EAAqBJ,EAAYd,GACvDe,EAAiBA,EAAer/C,KAAK,WAC5B,OAAA,IAAIL,QAAQ,SAAUvP,GACvBqvD,IAAAA,EAAMF,EAAgBG,UAAU,SAAUC,GAC5CjpD,EAAM+nD,UACN/nD,EAAMipD,EAASxqD,MAAQuB,EAAMipD,EAASxqD,MAAQ,EAC9CuB,EAAMioD,QAAUrhD,KAAKsiD,MAAMlpD,EAAM+nD,QAAU/nD,EAAM8nD,MAAQ,KACzDI,EAAShhD,MAAK,EAAMlH,EAAAA,OAAAA,KACnB,SAAUiD,GACX8lD,EAAII,cACJjB,EAAShuD,MAAM+I,IACd,WACD8lD,EAAII,cACJzvD,UAINgvD,EAAab,EAAQ1lD,SAGhBumD,GACLE,IAGKD,OAAAA,IACNr/C,KAAK,WACNtJ,EAAMoH,MAAO,EACbpH,EAAMioD,QAAU,IAChBC,EAAShhD,MAAK,EAAMlH,EAAAA,OAAAA,IACpBkoD,EAAS/d,aAIN+d,EAASzyB,gBAGlB1X,EAAOqrC,eAAiB,SAAwBxB,GAC1CjpC,IAAAA,EAAS,KAYN,OAVF,KAAK0qC,kBACHA,KAAAA,gBAAkBC,EAAY,MAAMhgD,KAAK,SAAUigD,GAClD,OAACA,EAAgD,IAAItgD,QAAQ,SAAUvP,EAAK8vD,GACjE7qC,EAAOgpC,QAAQC,GAEtB,UAAc,KAAM4B,EAAK9vD,KAHfuP,QAAQ2e,SAAQ,MAQ/B,KAAKyhC,iBAGP/B,EA7GT,GA+GO,SAASmC,EAAoBr/B,EAASoM,EAAWkzB,GAClDvrC,IAAAA,EAAWurC,EAAanC,iBAAiBppC,SACzCN,GAAS,EAAe2Y,EAAAA,gBAAAA,GAAW,GACnCx1B,EAAM,CACRopB,QAASA,EACTs/B,aAAcA,EACdnC,iBAAkBmC,EAAanC,iBAC/BppC,SAAUA,EACVN,QAAQ,EAAe2Y,EAAAA,gBAAAA,GAAW,GAClCsvB,QAAS3nC,EAASwrC,cAAcD,EAAanC,iBAAiBjtD,KAAM8vB,EAASs/B,EAAanC,iBAAiBqC,eAC3G5C,UAAU,EAAc7oC,EAAAA,QAAAA,EAAS2e,SAAUjf,IAOtC7c,OAJH6c,EAAOsd,qBACTn6B,EAAIuhC,eAAiBvT,EAAapB,QAAAA,oBAAoB/P,IAGjD7c,EAMF,SAASonD,EAAmBsB,GAC1BzgD,OAAAA,QAAQinB,KAAI,EAAoBw5B,EAAAA,qBAAAA,EAAahC,cAAc7tB,QAAQvtB,IAAI,SAAUuS,GAC/E6qC,OAAAA,EAAavrC,SAAS0rC,kBAAkBzwD,IAAIswD,EAAapvD,KAAO,IAAMukB,KAC5EvS,IAAI,SAAU5D,GACRA,OAAAA,EAAG,MAAU,WACX,OAAA,UAGTY,KAAK,SAAUwgD,GACRA,OAAAA,EAAWt9C,OAAO,SAAUu9C,GAC1BA,OAAW,OAAXA,IACNz9C,IAAI,SAAUy9C,GACRN,OAAAA,EAAoBM,EAAOlsC,OAAOuM,QAAS2/B,EAAOlsC,OAAQ6rC,OAQhE,SAASJ,EAAYI,GACtBA,OAAuC,IAAvCA,EAAahC,cAAct9B,QAAsBnhB,QAAQ2e,SAAQ,GAC9DwgC,EAAmBsB,GAAcpgD,KAAK,SAAUu+C,GACjDA,OAAmB,IAAnBA,EAAQtvD,SAGT,SAASyxD,EAAmBzC,EAAkBC,GAC5C,OAAA,IAAIF,EAAaC,EAAkBC,GAErC,SAASyC,EAAsBC,EAAe9/B,EAAS+/B,GACxDA,GAAc,OAAdA,EACKlhD,OAAAA,QAAQ2e,QAAQ,MAEnB5mB,IAAAA,EAAMkpD,EAAcR,aAAalC,oBAAoBp9B,GAAS+/B,GAE3DpyB,OADU,EAAU/2B,EAAAA,WAAAA,GAIxB,SAASopD,EAAwBF,EAAetC,GAC9C,OAAA,EAASsC,EAAAA,UAAAA,EAAcpE,QAAS8B,GAAWt+C,KAAK,SAAUyB,GACxDA,OAAAA,EAAKuB,IAAI,SAAUuC,GACjB,OAAA,EAAiBq7C,EAAAA,kBAAAA,EAAer7C,OAWtC,SAASw7C,EAAoBH,EAAetrC,GACjDA,GAAU,EAAMA,EAAAA,OAAAA,GAaT0rC,IAZHA,IAAAA,EAAcJ,EAAc9/B,QAAU,EAEtCu+B,EAAiB1/C,QAAQ2e,QAAQhJ,GAEjC2rC,EAAS,WACPngC,IAAAA,EAAUkgC,EACd3B,EAAiBA,EAAer/C,KAAK,SAAU6gD,GACtCF,OAAAA,EAAsBC,EAAe9/B,EAAS+/B,KAEvDG,KAGKA,GAAeJ,EAAc3C,iBAAiB1pC,OAAOuM,SAC1DmgC,IAGK5B,OAAAA,EAAer/C,KAAK,SAAUuF,GAC/BA,GAAQ,OAARA,EAAc,OAAO5F,QAAQ2e,QAAQ,MAErC,IACFsiC,EAAc3C,iBAAiB1pC,OAAOya,SAASzpB,GAC/C,MAAO5L,GACD,MAAA,EAAW,EAAA,YAAA,MAAO,CACtBunD,YAAaN,EAAc9/B,QAC3BqgC,UAAWP,EAAc3C,iBAAiB1pC,OAAOuM,QACjDsgC,SAAU77C,IAIPA,OAAAA,IAQJ,SAAS87C,EAAiBT,EAAer7C,GAC1C+7C,IAAAA,EAAS,CACXlxD,IAAK,KACL+E,KAAM,GACNosD,SAAU,KACVh8C,IAAKA,EACLq7C,cAAeA,EACf3C,iBAAkB2C,EAAc3C,kBAE3B8C,OAAAA,EAAoBH,EAAer7C,GAAKvF,KAAK,SAAUuhD,GAGxDA,GAFJD,EAAOC,SAAWA,EAEdA,EAIKX,OAHQ,EAAA,EAAA,gBAAA,qBAAsBU,UAE9BC,EAAS74C,KACTk4C,EAAc3C,iBAAiBhvB,UAAUsyB,GAAU,GAAMvhD,KAAK,SAAU5P,GAGtE,OAFPkxD,EAAOlxD,IAAMA,EACbkxD,EAAOnsD,KAAO,WACP,EAAoB,EAAA,qBAAA,sBAAuBmsD,KAE/CA,EAAOnsD,KAAO,YACpB6K,KAAK,WAEC4gD,OAAAA,EAAcpE,QAAQptB,QAAO,EAAewxB,EAAAA,gBAAAA,EAAer7C,IAA3D,MAA0E,gBAChFvF,KAAK,WACCshD,OAAAA,IAOJ,SAASE,EAAoBZ,GAC3BA,OAAAA,EAAcpE,QAAQz+C,UAAUiC,KAAK,WACnC4gD,OAAAA,EAAc/rC,SAAS4sC,oBAAoBb,EAAcR,aAAapvD,KAAM4vD,EAAcrsC,UAO9F,SAASirC,EAAqBoB,GAC/BtC,IAAAA,EAAYjoD,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,GAAmBA,UAAU,GAAK,GAEhFuqD,GAAAA,EAAcc,SAEV,MAAA,EAAW,EAAA,YAAA,OAGnBd,EAAcc,UAAW,EACrB9C,IAOEhuD,EAPFguD,EAAW,IAAIC,EAAJ,QAyCRD,OAzBgB,SAAS+C,IACrBb,OAAAA,EAAwBF,EAAetC,GAAWt+C,KAAK,SAAUuC,GAClEA,OAAiB,IAAjBA,EAAMtT,QAPLuyD,EAAoBZ,GAAe5gD,KAAK,WACtC4+C,OAAAA,EAAS/d,cAQP,GAEAlhC,QAAQinB,IAAIrkB,EAAMS,IAAI,SAAUuC,GAC9B87C,OAAAA,EAAiBT,EAAer7C,GAAKvF,KAAK,SAAUshD,GAClD1C,OAAAA,EAAShhD,KAAK0jD,QAFlB,MAIM,SAAU3nD,GACd/I,OAAAA,EAAQ+I,IACdqG,KAAK,WACC,OAAA,MAGVA,KAAK,SAAUpC,GACXA,IACDhN,EAAOguD,EAAShuD,MAAMA,GAAY+wD,OAI1CA,GAGK/C,EAASzyB,eAEX,SAAS2zB,EAAec,EAAetC,GAQrCsC,OAPFA,EAAcb,kBACjBa,EAAcb,gBAAkB,IAAIpgD,QAAQ,SAAUvP,EAAK8vD,GAC5CV,EAAqBoB,EAAetC,GAC3C,UAAc,KAAM4B,EAAK9vD,MAI5BwwD,EAAcb,gBACtB,QAAA,aAAA;;ACpUA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,eAAA,EAAA,QAAA,cAAA,EA1BM,IAAI6B,EAEX,WACWA,SAAAA,IACFC,KAAAA,KAAO,IAAIxyD,IACXwyD,KAAAA,KAAO,IAAIxyD,IAGdolB,IAAAA,EAASmtC,EAAS/xD,UAcf+xD,OAZPntC,EAAO3kB,IAAM,SAAa8R,GACjB,OAAA,KAAKigD,KAAK/xD,IAAI8R,IAGvB6S,EAAOzkB,IAAM,SAAa4R,EAAIf,GACrB,OAAA,KAAKghD,KAAK7xD,IAAI4R,EAAIf,IAG3B4T,EAAM,OAAa,SAAiB7S,GAC3B,OAAA,KAAKigD,KAAL,OAAoBjgD,IAGtBggD,EApBT,GAsBO,SAASE,IACP,OAAA,IAAIF,EACZ,QAAA,SAAA;;ACUA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,iBAAA,EAAA,QAAA,gBAAA,EAjCM,IAAIG,EAEX,WACWA,SAAAA,IACFC,KAAAA,KAAO,GACPH,KAAAA,KAAO,IAAIxyD,IASdolB,IAAAA,EAASstC,EAAWlyD,UAejBkyD,OAbPttC,EAAO0lB,WAAa,SAAoBv0B,GAClCoyB,IAAAA,EAAYpyB,EAAM1U,WAEf,OADF,KAAK2wD,KAAK3xD,IAAI8nC,IAAY,KAAK6pB,KAAK7xD,IAAIgoC,EAAWpyB,GACjD,KAAKi8C,KAAK/xD,IAAIkoC,IAGvBvjB,EAAO1W,QAAU,WACVikD,KAAAA,KAAK3xD,QAAQ,SAAUovD,GACnBA,OAAAA,EAAII,gBAERgC,KAAAA,KAAO,IAAIxyD,KAGX0yD,EA3BT,GA6BO,SAASE,IACP,OAAA,IAAIF,EACZ,QAAA,WAAA;;ACwFA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,wBAAA,EAAA,QAAA,uBAAA,EAzHM,IAAIG,EAEX,WAKWA,SAAAA,EAAkB5tC,GACrBM,IAAAA,EAAQ,KAEPotC,KAAAA,KAAO,GACPrxC,KAAAA,MAAQ,IACRmqB,KAAAA,QAAU,EACVqnB,KAAAA,gBAAkB,IAAI7rB,QACtBv7B,KAAAA,OAAS,GACTuZ,KAAAA,WAAaA,EACb0tC,KAAAA,KAAKlsD,KAAK,KAAKwe,WAAW+X,EAAEqzB,UAAU,SAAU0C,GAC5CxtC,OAAAA,EAAM0X,mBAAmB81B,MAIhC3tC,IAAAA,EAASytC,EAAkBryD,UAgGxBqyD,OA9FPztC,EAAO6X,mBAAqB,SAA4BnX,GAM/C,IAJF2lB,KAAAA,UACA//B,KAAAA,OAAOjF,KAAKqf,GACZgtC,KAAAA,gBAAgBnyD,IAAImlB,EAAa,KAAK2lB,SAEpC,KAAK//B,OAAO9L,OAAS,KAAK0hB,OAC1B5V,KAAAA,OAAOlC,SAShB4b,EAAO4tC,uBAAyB,SAAgCC,GAC1DC,IAAAA,EAAc,KAAKxnD,OAAO,GAC1BynD,EAAgB,KAAKL,gBAAgBryD,IAAIyyD,GACzCD,OAAAA,EAAUE,EAAsB,KAEzBF,EAAUE,GASvB/tC,EAAO0mB,QAAU,SAAiBmnB,GAC5B5qD,IAAAA,EAAM,GACN+qD,EAAe,KAAKJ,uBAAuBC,GAC3CG,GAAiB,OAAjBA,EACK,OAAA,KAEF,OAAM,CACPC,IAAAA,EAAY,KAAK3nD,OAAO0nD,GAExB,GADJA,KACKC,EAAW,OAAOhrD,EAASA,EAAI5B,KAAK4sD,KAI7CjuC,EAAOkuC,QAAU,SAAiBL,EAASzmC,GACrCnkB,IAAAA,EAAM,KAAKyjC,QAAQmnB,GAEnB5qD,GAAQ,OAARA,EACI,MAAA,IAAI5G,MAAM,iBAEhB4G,EAAIrH,QAAQ,SAAU+xD,GACbvmC,OAAAA,EAAGumC,MAWhB3tC,EAAO4mB,kBAAoB,SAA2B1mB,GAChDiuC,IAAAA,EAAc,GAIXpzD,OAHPmlB,EAAatkB,QAAQ,SAAU8kB,GAC7BytC,EAAYztC,EAAYhiB,KAAKoS,KAAO4P,IAE/B3lB,OAAO8Y,OAAOs6C,IASvBnuC,EAAOouC,sBAAwB,SAA+B72B,GAIrD3E,IAFHA,IAAAA,EAAI,KAAKtsB,OAAO9L,OAEbo4B,EAAI,GAAG,CACZA,IACI+6B,IAAAA,EAAK,KAAKrnD,OAAOssB,GACjB+6B,GAAAA,EAAGjvD,KAAKoiB,GAAK6sC,EAAGjvD,KAAKoiB,EAAE7M,OAASsjB,EAAU,OAAO,EAGhD,OAAA,GAGTvX,EAAO1W,QAAU,WACVikD,KAAAA,KAAK3xD,QAAQ,SAAUovD,GACnBA,OAAAA,EAAII,iBAIRqC,EAnHT,GAqHO,SAASY,EAAwBxuC,GAC/B,OAAA,IAAI4tC,EAAkB5tC,GAC9B,QAAA,kBAAA;;ACupBc,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,WAAA,EAAA,QAAA,OAAA,EAAA,QAAA,aAAA,EAAA,QAAA,QAAA,QAAA,sBAAA,EApxBf,IAAA,EAAA,EAAA,QAAA,uCACA,EAAA,QAAA,kBACA,EAAA,QAAA,UACA,EAAA,QAAA,cACA,EAAA,QAAA,0BACA,EAAA,QAAA,cACA,EAAA,QAAA,eACA,EAAA,QAAA,qBACA,EAAA,QAAA,cACA,EAAA,QAAA,mBACA,EAAA,EAAA,QAAA,cACA,EAAA,QAAA,eACA,EAAA,QAAA,iBACA,EAAA,QAAA,yBACA,EAAA,EAAA,QAAA,mBACA,EAAA,QAAA,WACA,EAAA,QAAA,iBACA,EAAA,QAAA,iCAmwBe,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAlwBf,IAAIyuC,EAAa,CAAC,MAAO,QACrBC,EAAa,CAAC,SAAU,OAAQ,SAAU,UAC1CC,GAAe,EACRC,EAEX,WACWA,SAAAA,EAAiBruC,EAAU7jB,EAAMujB,GACpC+rC,IAAAA,EAAgBjqD,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,GAAmBA,UAAU,GAAK,GACpF6nD,EAAsB7nD,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,GAAmBA,UAAU,GAAK,GAC1F+gC,EAAU/gC,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,GAAmBA,UAAU,GAAK,GAC9E4P,EAAc5P,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,GAAmBA,UAAU,GAAK,GAClFuc,EAAUvc,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,GAAmBA,UAAU,GAAK,GAC9E8sD,EAAU9sD,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,GAAmBA,UAAU,GAAK,GAC7E+sD,KAAAA,aAAc,EACdpoB,KAAAA,WAAY,EACZqoB,KAAAA,oBAAsB,IAAIh0D,IAC1Bi0D,KAAAA,QAAS,EACTC,KAAAA,MAAQ,GACRC,KAAAA,MAAQ,GACRC,KAAAA,WAAa,GACbxG,KAAAA,MAAQ,GACRvwB,KAAAA,WAAY,EAAjB,EAAA,kBACKwN,KAAAA,aAAc,EAAnB,EAAA,oBACKwpB,KAAAA,cAAgB,GAChBhG,KAAAA,SAAW,GACX7iB,KAAAA,mBAAqB,GACrBhmB,KAAAA,SAAWA,EACX7jB,KAAAA,KAAOA,EACPujB,KAAAA,OAASA,EACT+rC,KAAAA,cAAgBA,EAChBpC,KAAAA,oBAAsBA,EACtB9mB,KAAAA,QAAUA,EACVnxB,KAAAA,YAAcA,EACd2M,KAAAA,QAAUA,EACVuwC,KAAAA,QAAUA,EAEfQ,EAAoB,MAOlBlvC,IAAAA,EAASyuC,EAAiBrzD,UAqkBvBqzD,OAnkBPzuC,EAAOmvC,QAAU,WACXhvC,IAAAA,EAAQ,KAEPqoC,KAAAA,MAAQ,KAAKpoC,SAASwrC,cAAc,KAAKrvD,KAAM,KAAKujB,OAAOuM,QAAS,KAAKw/B,eAE1E,KAAK/rC,OAAOsd,qBACToH,KAAAA,eAAiBvT,EAAapB,QAAAA,oBAAoB,KAAK/P,SAI1DsvC,IAAAA,EAAsB,KAAK5G,MAAM96C,OAEjC2hD,EAAuBC,EAAsB,KAAMF,GAkBhDlkD,OAhBF+jD,KAAAA,eAAgB,EAAmB,EAAA,oBAAA,KAAM,KAAKxF,qBAC9CR,KAAAA,SAAWnqB,EAAQ79B,QAAAA,OAAO,KAAKmf,SAAS2e,SAAU,KAAKjf,QACvDyvC,KAAAA,aAAe,KAAKnvC,SAASwX,EAAEW,MAAK,EAAO,EAAA,QAAA,SAAUi3B,GACjDA,OAAAA,EAAM9wD,KAAK03B,MAAQjW,EAAM5jB,QAE7B6pC,KAAAA,oBAAqB,EAAwB,EAAA,yBAAA,MAE7C2oB,KAAAA,MAAM1tD,KAAK,KAAKkuD,aAAah3B,MAAK,EAAO,EAAA,QAAA,SAAUo1B,GAC/C,OAACA,EAAGjvD,KAAK43B,WACd20B,UAAU,SAAU0C,GAElB78C,IAAAA,EAAMqP,EAAM8X,UAAU58B,IAAIsyD,EAAGjvD,KAAKoS,KAElCA,GAAKA,EAAI+mB,mBAAmB81B,MAG3BziD,QAAQinB,IAAI,CAACi9B,EAAqBC,KAO3CrvC,EAAOyvC,gBAAkB,WAChB,OAAA,EAAY,EAAA,aAAA,KAAKR,gBAO1BjvC,EAAO4pC,QAAU,WACXC,IAAAA,EAAYjoD,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,GAAmBA,UAAU,GAAK,GAC7E,OAAA,KAAKqtD,cAAcrF,QAAQC,IAQpC7pC,EAAOqrC,eAAiB,WAClBxB,IAAAA,EAAYjoD,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,GAAmBA,UAAU,GAAK,GAC7E,OAAA,KAAKqtD,cAAc5D,eAAexB,IAO3C7pC,EAAOgpC,eAAiB,SAAwBnoC,GACvC,OAAA,EAAgB,EAAA,gBAAA,KAAMA,IAG/Bb,EAAO8W,iBAAmB,SAA0BjW,GAC9CsoC,IAAAA,EAAYvnD,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,IAAmBA,UAAU,GACxE,OAAA,EAAkB,EAAA,kBAAA,KAAMif,EAASsoC,IAQ1CnpC,EAAOwa,UAAY,SAAmBpuB,GAChCwU,IAAAA,EAAS,KAET8uC,EAAY9tD,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,IAAmBA,UAAU,GAExE,OADPwK,EAAM,KAAK48C,eAAe58C,GACnB,KAAKgU,SAASuvC,UAAU,WACtB/uC,OAAAA,EAAO4nC,MAAMl0C,IAAIlI,KADnB,MAEK,SAAU3N,GAChBixD,GAAAA,GAA4B,MAAfjxD,EAAIvC,OACZ0kB,OAAAA,EAAOR,SAASuvC,UAAU,WACxB/uC,OAAAA,EAAO4nC,MAAMntD,IAAI+Q,EAAIgI,OAC3B7I,KAAK,SAAUqkD,GAEThvC,OADPxU,EAAI6H,KAAO27C,EAAM37C,KACV2M,EAAOR,SAASuvC,UAAU,WACxB/uC,OAAAA,EAAO4nC,MAAMl0C,IAAIlI,OAGvB,MAAmB,MAAf3N,EAAIvC,QACP,EAAW,EAAA,YAAA,QAAS,CACxBiR,GAAIf,EAAIgI,IACRy7C,aAAcpxD,EACdC,KAAM0N,IAEG3N,KAQjBuhB,EAAO8vC,UAAY,SAAmBj2D,GAChCsgC,IAAAA,EAAS,KAEN,OAAA,KAAKquB,MAAMntD,IAAIxB,GAAK0R,KAAK,SAAUuF,GACjCqpB,OAAAA,EAAOrD,iBAAiBhmB,MAQnCkP,EAAO8jB,WAAa,SAAoB0B,EAAStpB,GAC3Cwe,IAAAA,EAAS,KAETyuB,EAAYvnD,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,IAAmBA,UAAU,GAC3EmuD,EAAsBvqB,EAAQlB,cAE3B,OADHpoB,IAAO6zC,EAAmB,MAAY7zC,GACnC,KAAKkE,SAASuvC,UAAU,WACtBj1B,OAAAA,EAAO8tB,MAAM9rC,KAAKqzC,KACxBxkD,KAAK,SAAUykD,GAIThjD,OAHIgjD,EAAehjD,KAAKuB,IAAI,SAAUuC,GACpC4pB,OAAAA,EAAO5D,iBAAiBhmB,EAAKq4C,QAM1CnpC,EAAOkY,MAAQ,SAAexX,GACrB,OAAA,KAAKN,SAAS8X,MAAMxX,IAG7BV,EAAOlB,OAAS,SAAgB4jB,GAC1B9H,IAAAA,EAAS,KAGTq1B,EAAU,KAEV,IAAA,EAAavtB,EAAAA,cAAAA,GAAO,CAGlB,KAFJutB,EAAUvtB,GAEGxJ,aACL,MAAA,EAAW,EAAA,YAAA,OAAQ,CACvBx6B,KAAMgkC,IAIVA,EAAOutB,EAAQ95C,SAGbmzC,IAAAA,GAAU,EAA2B,EAAA,4BAAA,KAAM5mB,GAC3CxuB,EAAS+7C,EACN,OAAA,KAAK31B,UAAU,MAAO,SAAUgvB,GAAS/9C,KAAK,WAG5CqvB,OAFPA,EAAO9a,OAAOya,SAAS+uB,GAEhB1uB,EAAOJ,UAAU8uB,KACvB/9C,KAAK,SAAU2kD,GAQTt1B,OAPP0uB,EAAQ1uB,EAAO9a,OAAOC,aAAemwC,EAAa/iD,GAClDm8C,EAAQr1C,KAAOi8C,EAAa1hD,IAExByhD,EACFA,EAAQ34B,WAAWnuB,KAAKmgD,GACnBp1C,GAAS,EAAiB0mB,EAAAA,kBAAAA,EAAQ0uB,GAElC1uB,EAAON,UAAU,OAAQ,SAAUgvB,EAASp1C,KAClD3I,KAAK,WAEF4kD,IAAAA,GAAY,EAAkB,EAAA,mBAAA,SAAUv1B,EAAOxa,SAAUwa,EAAQ1mB,EAAQo1C,GAItEp1C,OAFP0mB,EAAO1C,MAAMi4B,GAENj8C,KAIX8L,EAAOowC,WAAa,SAAoBC,GAClCC,IAAAA,EAAS,KAETC,EAAUF,EAAS9hD,IAAI,SAAUsS,GAE5B2vC,OADU,EAA2BF,EAAAA,4BAAAA,EAAQzvC,KAG/C3V,OAAAA,QAAQinB,IAAIo+B,EAAQhiD,IAAI,SAAUuC,GAChCw/C,OAAAA,EAAOh2B,UAAU,MAAO,SAAUxpB,GAAKvF,KAAK,WAG1CuF,OAFPw/C,EAAOxwC,OAAOya,SAASzpB,GAEhBA,OAEPvF,KAAK,SAAUyB,GACbyjD,IAAAA,EAAazjD,EAAKuB,IAAI,SAAU2f,GAC3BoiC,OAAAA,EAAOtH,eAAe96B,KAE3BwiC,EAAU,IAAI91D,IAIX01D,OAHPtjD,EAAKpR,QAAQ,SAAUsyB,GACrBwiC,EAAQn1D,IAAI2yB,EAAEoiC,EAAOxwC,OAAOC,aAAcmO,KAErCoiC,EAAOlwC,SAASuvC,UAAU,WACxBW,OAAAA,EAAO9H,MAAMjY,SAASkgB,GAAYllD,KAAK,SAAUkC,GAClDkjD,IAIAC,EAJYnjD,EAAQgB,OAAO,SAAUwkB,GAChCA,OAAAA,EAAEtmB,KAGiB4B,IAAI,SAAU0kB,GACpCpS,IAAAA,EAAU6vC,EAAQr1D,IAAI43B,EAAE9lB,IAGrB2D,OAFP+P,EAAQ5M,KAAOgf,EAAEzkB,KACP,EAAiB8hD,EAAAA,kBAAAA,EAAQzvC,KAS9B,OALP+vC,EAAYh1D,QAAQ,SAAUkV,GACxBq/C,IAAAA,GAAY,EAAkB,EAAA,mBAAA,SAAUG,EAAOlwC,SAAUkwC,EAAQx/C,EAAK4/C,EAAQr1D,IAAIyV,EAAImmB,UAE1Fq5B,EAAOp4B,MAAMi4B,KAER,CACLlG,QAAS2G,EACTz0D,MAAOsR,EAAQgB,OAAO,SAAUwkB,GACvB,OAACA,EAAEtmB,aAYtBqT,EAAOlM,OAAS,SAAgB4uB,GAC1BmuB,IAAAA,EAAS,KAETvH,GAAU,EAAM5mB,EAAAA,OAAAA,GAChBzL,EAAUqyB,EAAQ,KAAKxpC,OAAOC,aAE9B,IAACkX,EACG,MAAA,EAAW,EAAA,YAAA,OAAQ,CACvBlX,YAAa,KAAKD,OAAOC,YACzBrhB,KAAM4qD,IAIH,OAAA,KAAKzwB,QAAQ5B,GAAShkB,OAAO1H,KAAK,SAAUxK,GAC7CA,OAAAA,GACFuoD,EAAQr1C,KAAOlT,EAAQ,KAChBA,EAAS84B,aAAa,WACpByvB,OAAAA,IACN/9C,KAAK,WACCxK,OAAAA,KAGF8vD,EAAO/xC,OAAO4jB,MAS3B1iB,EAAO8wC,aAAe,SAAsBpuB,GACtCquB,IAYAtlC,EAZAslC,EAAS,KAGT95B,GADJyL,GAAO,EAAMA,EAAAA,OAAAA,IACM,KAAK5iB,OAAOC,aAE3B,IAACkX,EACG,MAAA,EAAW,EAAA,YAAA,OAAQ,CACvBv4B,KAAMgkC,IA4BHjX,OAfPA,GAHEA,EAHG,KAAKmjC,oBAAoBnzD,IAAIw7B,GAGxB,KAAK23B,oBAAoBvzD,IAAI47B,GAF7B/rB,QAAQ2e,WAKJte,KAAK,WACVylD,OAAAA,EAAoCD,EAAQ95B,EAASyL,KAC3Dn3B,KAAK,SAAU0lD,GACZ,OAACA,EAAYC,SAOHD,EAAYngD,IANjBqgD,EAAoBF,EAAYngD,IAAK4xB,GAAMn3B,KAAK,WAC9C,OAAA,EAAP,EAAA,cAEDA,KAAK,WACG0lD,OAAAA,EAAYngD,QAKpB89C,KAAAA,oBAAoBrzD,IAAI07B,EAASxL,GAE/BA,GAOTzL,EAAOtD,KAAO,SAAcqmB,GACtB,GAAoB,iBAAbA,EACH,MAAA,EAAW,EAAA,YAAA,OAAQ,CACvBA,SAAUA,IAKP5xB,OADK,EAAc,EAAA,eAAA,OAAQ4xB,EAAU,OAI9C/iB,EAAO6Y,QAAU,SAAiBkK,GAC5B5xB,IAAAA,EAQA,GALFA,EADsB,iBAAb4xB,GACD,EAAc,EAAA,eAAA,UAAW,CAC/B3uB,IAAK2uB,GACJ,OACU,EAAc,EAAA,eAAA,UAAWA,EAAU,MAE1B,iBAAbA,GAAyB3oC,MAAMC,QAAQ0oC,GAC1C,MAAA,EAAe,EAAA,gBAAA,OAAQ,CAC3BA,SAAUA,IAIP5xB,OAAAA,GAQT6O,EAAOoxC,KAAO,WACKxvD,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,IAAmBA,UAAU,GAE1E,MAAA,EAAc,EAAA,eAAA,cAQtBoe,EAAOqxC,WAAa,SAAoBC,GAChC,MAAA,EAAc,EAAA,eAAA,cAStBtxC,EAAOuxC,gBAAkB,WACjB,MAAA,EAAc,EAAA,eAAA,sBAOtBvxC,EAAO4oC,KAAO,SAAc4I,GACpB,MAAA,EAAc,EAAA,eAAA,gBAOtBxxC,EAAOyxC,YAAc,SAAqBtzC,GAClC,MAAA,EAAc,EAAA,eAAA,wBAOtB6B,EAAO0xC,SAAW,WACV,MAAA,EAAc,EAAA,eAAA,cAOtB1xC,EAAO2xC,QAAU,SAAiBC,EAAM/3D,EAAK8Q,GACvCknD,IAAAA,EAAWjwD,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,IAAmBA,UAAU,GAE1E,GAAe,mBAAR+I,EACH,MAAA,EAAe,EAAA,gBAAA,OAAQ,CAC3B9Q,IAAKA,EACL+3D,KAAMA,IAIN,IAACtD,EAAWl2B,SAASw5B,GACjB,MAAA,EAAe,EAAA,gBAAA,OAAQ,CAC3B/3D,IAAKA,EACL+3D,KAAMA,IAIN,IAACrD,EAAWn2B,SAASv+B,GACjB,MAAA,EAAW,EAAA,YAAA,OAAQ,CACvBA,IAAKA,IAIL+3D,GAAS,SAATA,GAA2B,WAAR/3D,IAAiC,IAAbg4D,EACnC,MAAA,EAAW,EAAA,YAAA,QAAS,CACxBD,KAAMA,EACN/3D,IAAKA,EACLg4D,SAAUA,IAKVC,IAAAA,EAAWnnD,EAAIxI,KAAK,MACpB4vD,EAAUF,EAAW,WAAa,SACjC/C,KAAAA,MAAMj1D,GAAO,KAAKi1D,MAAMj1D,IAAQ,GAChCi1D,KAAAA,MAAMj1D,GAAK+3D,GAAQ,KAAK9C,MAAMj1D,GAAK+3D,IAAS,CAC/CI,OAAQ,GACRH,SAAU,IAEP/C,KAAAA,MAAMj1D,GAAK+3D,GAAMG,GAAS1wD,KAAKywD,IAGtC9xC,EAAOiyC,SAAW,SAAkBL,EAAM/3D,GACpC,IACK,OAAA,KAAKi1D,MAAMj1D,GAAK+3D,GACvB,MAAO1sD,GACA,MAAA,CACL8sD,OAAQ,GACRH,SAAU,MAKhB7xC,EAAOsa,UAAY,SAAmBs3B,EAAM/3D,EAAK6E,EAAMwzD,GACjDpD,IAAAA,EAAQ,KAAKmD,SAASL,EAAM/3D,GAC5B,IAACi1D,EAAO,OAAO5jD,QAAQ2e,UAEvByD,IAAAA,EAAQwhC,EAAMkD,OAAOzjD,IAAI,SAAU4jD,GAC9B,OAAA,WACEA,OAAAA,EAAKzzD,EAAMwzD,MAGf,OAAA,EAAc5kC,EAAAA,eAAAA,GACpB/hB,KAAK,WACGL,OAAAA,QAAQinB,IAAI28B,EAAM+C,SAAStjD,IAAI,SAAU4jD,GACvCA,OAAAA,EAAKzzD,EAAMwzD,SASxBlyC,EAAOuiB,cAAgB,SAAuBqvB,EAAM/3D,EAAK6E,EAAMwzD,GACzDpD,IAAAA,EAAQ,KAAKmD,SAASL,EAAM/3D,GAC3Bi1D,GACLA,EAAMkD,OAAOp2D,QAAQ,SAAUu2D,GACtBA,OAAAA,EAAKzzD,EAAMwzD,MAQtBlyC,EAAOoyC,YAAc,WACfvxC,IAAAA,EAAUjf,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,GAAmBA,UAAU,GAAK,GAClFif,EAAU,KAAKf,OAAO+c,uBAAuBhc,GACzC/P,IAAAA,GAAM,EAAgC,EAAA,wBAAA,EAAyB,EAAA,0BAAA,MAAO,KAAM+P,GAKzE/P,OAJPA,EAAIooB,cAAe,EAEdqJ,KAAAA,cAAc,OAAQ,SAAU1hB,EAAS/P,GAEvCA,GAGTkP,EAAO1W,QAAU,WACX,OAAA,KAAKi9B,UAAkBr7B,QAAQ2e,SAAQ,IAEvC,KAAKwoC,gBACFA,KAAAA,iBAGFtD,KAAAA,MAAMnzD,QAAQ,SAAUovD,GACpBA,OAAAA,EAAII,gBAGT,KAAKhlB,oBACFA,KAAAA,mBAAmB98B,UAGrBm8B,KAAAA,YAAYn8B,UAEZ0lD,KAAAA,WAAWpzD,QAAQ,SAAUgtD,GACzBA,OAAAA,EAAKzb,kBAGP,KAAK/sB,SAASwY,YAAY,KAAKr8B,MACjCgqC,KAAAA,WAAY,EACVr7B,QAAQ2e,SAAQ,KAOzB7J,EAAO2a,OAAS,WACP,OAAA,KAAKva,SAASkyC,iBAAiB,KAAK/1D,QAGhCkyD,EAAAA,EAAAA,SAAAA,EAAkB,CAAC,CAC9B50D,IAAK,IACLwB,IAAK,WACI,OAAA,KAAKk0D,eAEb,CACD11D,IAAK,UACLwB,IAAK,WACI,OAAA,KAAKu8B,EAAEW,MAAK,EAAO,EAAA,QAAA,SAAUo1B,GAC3BA,MAAe,WAAfA,EAAGjvD,KAAKijB,QAGlB,CACD9nB,IAAK,UACLwB,IAAK,WACI,OAAA,KAAKu8B,EAAEW,MAAK,EAAO,EAAA,QAAA,SAAUo1B,GAC3BA,MAAe,WAAfA,EAAGjvD,KAAKijB,QAGlB,CACD9nB,IAAK,UACLwB,IAAK,WACI,OAAA,KAAKu8B,EAAEW,MAAK,EAAO,EAAA,QAAA,SAAUo1B,GAC3BA,MAAe,WAAfA,EAAGjvD,KAAKijB,QAGlB,CACD9nB,IAAK,cACLwB,IAAK,WAOI,OANF,KAAKk3D,gBACHA,KAAAA,cAAgB,KAAK36B,EAAEW,MAAK,EAAO,EAAA,QAAA,SAAUi6B,GACzC,MAAA,CAAC,SAAU,SAAU,UAAUp6B,SAASo6B,EAAO9zD,KAAKijB,QAIxD,KAAK4wC,gBAEb,CACD14D,IAAK,YACLwB,IAAK,WACCo3D,IAAAA,EAAS,KAKN,OAHF,KAAKC,aAAY,KAAKA,WAAa,IAAIxnD,QAAQ,SAAUvP,GACrD82D,OAAAA,EAAOJ,eAAiB12D,KAE1B,KAAK+2D,eAITjE,EA3mBT,GAknBA,SAASS,EAAoBrvC,GACvB2uC,IAAAA,EAAAA,CAEJA,GAAe,EACXmE,IAAAA,EAAW53D,OAAOsI,eAAewc,GACrC0uC,EAAW3yD,QAAQ,SAAU/B,GAC3By0D,EAAW//C,IAAI,SAAUqjD,GACnBgB,IAAAA,EAAShB,GAAO,EAAQ/3D,EAAAA,SAAAA,GAE5B84D,EAASC,GAAU,SAAUjoD,EAAKknD,GACzB,OAAA,KAAKF,QAAQC,EAAM/3D,EAAK8Q,EAAKknD,SAiI7B,QAAA,iBAAA,EAvHf,IAAI52B,EAAc,KACX,SAASj2B,IACV,IAACi2B,EAAa,CACZ43B,IAAAA,EAAiB,IAAIpE,EACrB9yB,EAAgB5gC,OAAO2E,oBAAoBmzD,GAC3Cj3B,EAAsB7gC,OAAO2E,oBAAoB3E,OAAOsI,eAAewvD,IAC3E53B,EAAc,GAAGt7B,OAAOg8B,EAAeC,GAGlCX,OAAAA,EAGT,SAASk2B,EAAoBrgD,EAAK4xB,GACzB5xB,OAAAA,EAAI+oB,aAAa,SAAUi5B,GAGzBA,OAFPpwB,EAAKzuB,KAAO6+C,EAAS7+C,KACrB6+C,EAAS17B,MAAQsL,EACVowB,EAAS17B,QACf7rB,KAAK,WACCuF,OAAAA,IASX,SAASkgD,EAAoCjvB,EAAc9K,EAASyL,GAC3DX,OAAAA,EAAalJ,QAAQ5B,GAAShkB,OAAO1H,KAAK,SAAUuF,GACrD,OAACA,EAQI,CACLA,IAAKA,EACLogD,UAAU,GATLnvB,EAAajjB,OAAO4jB,GAAMn3B,KAAK,SAAU2I,GACvC,MAAA,CACLpD,IAAKoD,EACLg9C,UAAU,OAgBpB,SAAS5B,EAAsBvtB,EAAcqtB,GACpClkD,OAAAA,QAAQinB,IAAI4P,EAAajiB,OAAOkc,QAAQztB,IAAI,SAAUwkD,GACvDC,IAAAA,EAAgBD,EAAQxkD,IAAI,SAAU1U,GACpC,OAACkoC,EAAajiB,OAAOsd,mBAA2C2E,EAAayC,eAAeyuB,aAAa,GAAI,GAAIp5D,EAAI4Y,MAAM,MAA3E5Y,IAE/Cu1D,OAAAA,EAAoB7jD,KAAK,WACvBw2B,OAAAA,EAAaymB,MAAMnJ,YAAY,CACpCt8C,MAAO,CACLkW,OAAQ+5C,UAWX,SAAS/xD,EAAO+7B,GACjB5c,IAAAA,EAAW4c,EAAK5c,SAChB7jB,EAAOygC,EAAKzgC,KACZujB,EAASkd,EAAKld,OACdozC,EAAqBl2B,EAAK6uB,cAC1BA,OAAuC,IAAvBqH,EAAgC,GAAKA,EACrDC,EAAwBn2B,EAAKysB,oBAC7BA,OAAgD,IAA1B0J,EAAmC,GAAKA,EAC9DC,EAAmBp2B,EAAKq2B,YACxBA,OAAmC,IAArBD,GAAqCA,EACnDE,EAAet2B,EAAK0xB,QACpBA,OAA2B,IAAjB4E,EAA0B,GAAKA,EACzCC,EAAev2B,EAAK2F,QACpBA,OAA2B,IAAjB4wB,EAA0B,GAAKA,EACzCC,EAAmBx2B,EAAKxrB,YACxBA,OAAmC,IAArBgiD,EAA8B,GAAKA,EACjDC,EAAez2B,EAAK7e,QACpBA,OAA2B,IAAjBs1C,EAA0B,GAAKA,GACvBl3D,EAAAA,EAAAA,uBAAAA,IAEjB,EAAqBujB,EAAAA,cAAAA,KAASA,GAAS,EAAeA,EAAAA,gBAAAA,IAC3D/kB,OAAOe,KAAK6mC,GAASl0B,OAAO,SAAUilD,GAC7B5zC,OAAAA,EAAO6zC,eAAev7B,SAASs7B,KACrC93D,QAAQ,SAAU83D,GACb,MAAA,EAAW,EAAA,YAAA,QAAS,CACxBA,QAASA,MAGT7zC,IAAAA,EAAa,IAAI4uC,EAAiBruC,EAAU7jB,EAAMujB,EAAQ+rC,EAAepC,EAAqB9mB,EAASnxB,EAAa2M,EAASuwC,GAC1H7uC,OAAAA,EAAWsvC,UAAU5jD,KAAK,WAE/BxQ,OAAO+hC,QAAQ4xB,GAAS9yD,QAAQ,SAAUqhC,GACpCy2B,IAAAA,EAAUz2B,EAAM,GAChBtyB,EAAMsyB,EAAM,GAChBliC,OAAOgB,eAAe8jB,EAAY6zC,EAAS,CACzCr4D,IAAK,WACIsP,OAAAA,EAAIxI,KAAK0d,QAIlB5c,IAAAA,EAAMiI,QAAQ2e,UAEX5mB,OADHowD,IAAapwD,EAAM4c,EAAWwrC,kBAC3BpoD,IACNsI,KAAK,WAECsU,OADQ,EAAA,EAAA,gBAAA,qBAAsBA,GAC9BA,IAGJ,SAASqX,EAAa9qB,GACpBA,OAAAA,aAAeqiD,EAET,IAAA,EAAA,CACbxtD,OAAQA,EACR+D,WAAYA,EACZkyB,aAAcA,EACdu3B,iBAAkBA,GAJL,QAAA,QAAA;;AC/wBf,aAiSemF,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EA1Rf,IAAIA,EAAY,WACVC,IAAAA,EAAYjyD,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,GAAmBA,UAAU,GAAK,EAC/EkyD,KAAAA,WAAaD,GAAa,EAS1BE,KAAAA,IAAM,EAQNC,KAAAA,IAAM,IAAIn5D,IAMVo5D,KAAAA,KAAO,EAUPC,KAAAA,KAAO,IAAIt5D,IACXu5D,KAAAA,KAAO,IAAIv5D,KAoKlB,SAASw5D,EAAoBC,GACA,IAAvBA,EAAUL,IAAIh4D,OAEHq4D,EAAUL,IAAIngD,SAEA1K,OAAO3N,MAEtB84D,UAGd1sD,WAAW,WACF2sD,OAAAA,EAAaF,IACnB,IAUL,SAASG,EAAmBH,EAAWppD,GACjC,GAACA,EAAD,CAIAopD,GAFAppD,EAAQwpD,aAAalpC,aAAatgB,EAAQwpD,aAE1CJ,EAAUF,KAAK14D,IAAIwP,GAAU,CAC3BypD,IAAAA,EAASL,EAAUF,KAAK94D,IAAI4P,GAEhCopD,EAAUH,KAAV,OAAyBQ,GAEzBL,EAAUF,KAAV,OAAyBlpD,GAI3BopD,EAAUL,IAAV,OAAwB/oD,IAU1B,SAASspD,EAAaF,GAEhBA,EAAUM,QAAiC,IAAvBN,EAAUL,IAAIh4D,OACtCq4D,EAAUM,QAAS,EAEnB/sD,WAAW,WAEJysD,EAAUO,SAafhtD,WAAW,WAEJysD,EAAUO,UAMfR,EAAoBC,GAEpBA,EAAUM,QAAS,GAPjBN,EAAUM,QAAS,GAQpB,GAvBDN,EAAUM,QAAS,GAwBpB,IA/OLf,EAAUx4D,UAAY,CACpBw5D,OAAQ,WACC,OAAA,KAAKb,IAAM,KAAKD,YAQzBe,KAAM,WACCd,KAAAA,OAEPe,OAAQ,WACDf,KAAAA,MAELQ,EAAa,OAQfQ,SAAU,SAAkBpqD,GACtBwV,IAGAgN,EAHAhN,EAAQ,KAEP00C,KAAAA,OAGD,IACF1nC,EAAexiB,IACf,MAAOlM,GAEDA,MADDq2D,KAAAA,SACCr2D,EAGJ,OAAC0uB,EAAa5hB,MAAqC,mBAAtB4hB,EAAa5hB,KAMrC4hB,EAAa5hB,KAAK,SAAUtI,GAI1BA,OAFPkd,EAAM20C,SAEC7xD,IAJF,MAKK,SAAUxE,GAIdA,MAFN0hB,EAAM20C,SAEAr2D,KAbHq2D,KAAAA,SACE3nC,IAsBXC,mBAAoB,SAA4BjP,GAC1CyC,IAGAiJ,EAHAjJ,EAAS,KAEbzC,EAAUA,GAAW,GAEjB62C,IAAAA,EAAO,IAAI9pD,QAAQ,SAAUvP,GACxBkuB,OAAAA,EAAUluB,IAWfwiB,GAFJ62C,EAAKV,QANoB,WACvBE,EAAmB5zC,EAAQo0C,GAE3BnrC,KAKE1L,EAAQ2N,QAAS,CAEfmpC,IAAAA,EAAartD,WAAW,WAC1BotD,EAAKV,WACJn2C,EAAQ2N,SACXkpC,EAAKP,YAAcQ,EAOdD,OAJFhB,KAAAA,IAAIv5D,IAAIu6D,GAEbT,EAAa,MAENS,GAQTE,kBAAmB,SAA2BjqD,GAC5CupD,EAAmB,KAAMvpD,IAU3BkqD,oBAAqB,SAA6BtuD,EAAUsX,GACtDu2C,IAAAA,EAAS,KAAKT,OACdhpD,EAAU,KAAKmiB,mBAAmBjP,GAS/Bu2C,OAPFR,KAAAA,KAAK34D,IAAIm5D,EAAQzpD,GAEjBkpD,KAAAA,KAAK54D,IAAI0P,EAASypD,GAEvBzpD,EAAQM,KAAK,WACJ1E,OAAAA,MAEF6tD,GASTU,mBAAoB,SAA4BV,GAC1CzpD,IAAAA,EAAU,KAAKipD,KAAK74D,IAAIq5D,GAEvBQ,KAAAA,kBAAkBjqD,IAOzBoqD,MAAO,WACDl7B,IAAAA,EAAS,KAGR65B,KAAAA,IAAIp4D,QAAQ,SAAUqP,GAClBupD,OAAAA,EAAmBr6B,EAAQlvB,KAG/B8oD,KAAAA,IAAM,EAENC,KAAAA,IAAIqB,QAEJnB,KAAAA,KAAO,IAAIt5D,IACXu5D,KAAAA,KAAO,IAAIv5D,MA0FLg5D,IAAAA,EAAAA,EAAAA,QAAAA,QAAAA;;;ACxOR,IAAA,EAAA,QAAA,WA3DA,SAAS0B,EAAUlpD,GACpBA,SAAAA,GAA2B,mBAAbA,EAAIb,MAMjB,SAASgqD,EAAMC,GAEb,OADFA,IAAMA,EAAO,GACX,IAAItqD,QAAQ,SAAUvP,GACpBiM,OAAAA,WAAWjM,EAAK65D,KAGpB,SAASC,EAAU3sD,EAAKwG,GACtBzG,OAAAA,KAAKolB,MAAMplB,KAAK4G,UAAYH,EAAMxG,EAAM,GAAKA,GAM/C,SAAS4sD,EAAYl7D,GACrBA,IAAQA,EAAS,GAIjB,IAHDk0B,IAAAA,EAAO,GACPC,EAAW,uCAENr0B,EAAI,EAAGA,EAAIE,EAAQF,IAC1Bo0B,GAAQC,EAASlB,OAAO5kB,KAAKolB,MAAMplB,KAAK4G,SAAWkf,EAASn0B,SAGvDk0B,OAAAA,EA8BF,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EAAA,QAAA,MAAA,EAAA,QAAA,UAAA,EAAA,QAAA,YAAA,EAAA,QAAA,aAAA,EAAA,QAAA,YAAA,EA5BP,IAAIinC,EAAS,EACTC,EAAa,EASV,SAASC,IACV3oC,IAAAA,GAAK,IAAI1iB,MAAO0f,UAEhBgD,OAAAA,IAAOyoC,EAEG,IAALzoC,KADP0oC,GAGAD,EAASzoC,EACT0oC,EAAa,EACD,IAAL1oC,GASJ,IAAI4oC,EAA0F,qBAAjF/6D,OAAOK,UAAUqB,SAASH,UAAwB,IAAZ2uB,EAA0BA,EAAU,GAAvF,QAAA,OAAA;;ACfQ,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,OAAA,EAAA,QAAA,MAAA,EAAA,QAAA,YAAA,EAAA,QAAA,UAAA,EAAA,QAAA,UAAA,EAAA,QAAA,oBAAA,EAAA,QAAA,QAAA,QAAA,KAAA,QAAA,kBAAA,EA/Cf,IAAA,EAAA,QAAA,WACW4qC,EAAeE,EAAnB,aA8CQ,QAAA,aAAA,EA7CR,IAAIr1D,EAAO,SACX,SAASO,EAAO+0D,GACjB/zD,IAAAA,EAAQ,CACVg0D,iBAAkB,KAClBC,GAAI,IAAIC,iBAAiBH,GACzBI,OAAQ,IAUHn0D,OANPA,EAAMi0D,GAAGG,UAAY,SAAUrlD,GACzB/O,EAAMg0D,kBACRh0D,EAAMg0D,iBAAiBjlD,EAAItS,OAIxBuD,EAEF,SAAS6xC,EAAMwiB,GACpBA,EAAaJ,GAAGpiB,QAChBwiB,EAAaF,OAAS,GAEjB,SAASG,EAAYD,EAAcE,GACxCF,EAAaJ,GAAGK,YAAYC,GAAa,GAEpC,SAASC,EAAUH,EAAclvC,GACtCkvC,EAAaL,iBAAmB7uC,EAE3B,SAASsvC,IAKVZ,GAAAA,EAAU,QAAkB,oBAAXlwC,OAAwB,OAAO,EAEhD,GAA4B,mBAArBuwC,iBAAiC,CACtCA,GAAAA,iBAAiBQ,QACb,MAAA,IAAIt6D,MAAM,uGAGX,OAAA,EACF,OAAO,EAET,SAASu6D,IACP,OAAA,IAEM,QAAA,KAAA,EAAA,IAAA,EAAA,CACb31D,OAAQA,EACR6yC,MAAOA,EACP2iB,UAAWA,EACXF,YAAaA,EACbG,UAAWA,EACXh2D,KAAMA,EACNk2D,oBAAqBA,EACrBf,aAAcA,GARD,QAAA,QAAA;;ACCAgB,aAAAA,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EA1Cf,IAAIA,EAAe,SAAsBC,GACnCv7D,IAAAA,EAAM,IAAIV,IACVk8D,EAAU,IAAIn8D,IACba,KAAAA,IAAMF,EAAIE,IAAI0G,KAAK5G,GAEnBd,KAAAA,IAAM,SAAUe,GACnBu7D,EAAQx7D,IAAIC,EAAOw7D,KACnBz7D,EAAId,IAAIe,GAUDy7D,WACHC,IAAAA,EAAYF,IAAQF,EACpBniC,EAAWp5B,EAAIZ,OAAOg6B,YAEnB,OAAM,CACPn5B,IAAAA,EAAQm5B,EAASxrB,OAAO3N,MACxB,IAACA,EAAO,OAERg6D,IAAAA,EAAOuB,EAAQ17D,IAAIG,GAEnBg6D,KAAAA,EAAO0B,GAKT,OAJAH,EAAO,OAAWv7D,GAClBD,EAAG,OAAWC,IApBlBy7D,IAGG5B,KAAAA,MAAQ,WACX95D,EAAI85D,QACJ0B,EAAQ1B,UAwBZ,SAAS2B,IACA,OAAA,IAAIxsD,MAAO0f,UAGL2sC,IAAAA,EAAAA,EAAAA,QAAAA,QAAAA;;AC7Bd,aAnBM,SAASM,EAAwBh5C,GAkB/BA,OAjBFA,IAASA,EAAU,SAGgB,KAFxCA,EAAUzhB,KAAK06D,MAAM16D,KAAKC,UAAUwhB,KAEjBk5C,mBAAkCl5C,EAAQk5C,kBAAmB,GAE3El5C,EAAQm5C,MAAKn5C,EAAQm5C,IAAM,IAE3Bn5C,EAAQm5C,IAAIR,MAAK34C,EAAQm5C,IAAIR,IAAM,MACnC34C,EAAQm5C,IAAIC,mBAAkBp5C,EAAQm5C,IAAIC,iBAAmB,KAE7Dp5C,EAAQq5C,eAAcr5C,EAAQq5C,aAAe,IAC7Cr5C,EAAQq5C,aAAaC,gBAAet5C,EAAQq5C,aAAaC,cAAgB,KAEzEt5C,EAAQ6oB,OAAM7oB,EAAQ6oB,KAAO,IAC7B7oB,EAAQ6oB,KAAK8vB,MAAK34C,EAAQ6oB,KAAK8vB,IAAM,WAEF,IAA7B34C,EAAQ6oB,KAAK0wB,cAA6Bv5C,EAAQ6oB,KAAK0wB,aAAc,GACzEv5C,EACR,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,wBAAA;;ACwPc,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,OAAA,EAAA,QAAA,eAAA,EAAA,QAAA,aAAA,EAAA,QAAA,eAAA,EAAA,QAAA,sBAAA,EAAA,QAAA,kBAAA,EAAA,QAAA,eAAA,EAAA,QAAA,iBAAA,EAAA,QAAA,OAAA,EAAA,QAAA,MAAA,EAAA,QAAA,YAAA,EAAA,QAAA,UAAA,EAAA,QAAA,UAAA,EAAA,QAAA,oBAAA,EAAA,QAAA,QAAA,QAAA,KAAA,QAAA,kBAAA,EAtQf,IAAA,EAAA,QAAA,cAEA,EAAA,EAAA,QAAA,qBACA,EAAA,QAAA,cAmQe,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GArQR,IAAI03C,EAAeE,EAAnB,aAqQQ,QAAA,aAAA,EAlQf,IAAI4B,EAAY,8BACZC,EAAkB,WACXl3D,EAAO,MACX,SAASm3D,IACV,MAAqB,oBAAdC,UAAkCA,eACV,IAAxBlyC,OAAOmyC,aAAqCnyC,OAAOmyC,kBACxB,IAA3BnyC,OAAOoyC,gBAAwCpyC,OAAOoyC,qBAC/B,IAAvBpyC,OAAOqyC,aAAoCryC,OAAOqyC,YAGxD,SAASC,EAAelC,GACzBmC,IAAAA,EAAYN,IAEZjoD,EAAS+nD,EAAY3B,EACrBoC,EAAcD,EAAUE,KAAKzoD,EAAQ,GAmBlC0oD,OAjBPF,EAAYG,gBAAkB,SAAUC,GAC7BA,EAAGx5D,OAAOkI,OAChBuxD,kBAAkBb,EAAiB,CACpCc,QAAS,KACTC,eAAe,KAIH,IAAIztD,QAAQ,SAAUvP,EAAK8vD,GACzC2M,EAAYQ,QAAU,SAAUJ,GACvB/M,OAAAA,EAAI+M,IAGbJ,EAAYS,UAAY,WACtBl9D,EAAIy8D,EAAYlxD,WAUf,SAAS4xD,EAAajsD,EAAIksD,EAAYvC,GACvChB,IACAwD,EAAc,CAChBnkD,KAAMkkD,EACNvD,MAHS,IAAIhrD,MAAO0f,UAIpBxrB,KAAM83D,GAEJyC,EAAcpsD,EAAGosD,YAAY,CAACrB,GAAkB,aAC7C,OAAA,IAAI1sD,QAAQ,SAAUvP,EAAK8vD,GAChCwN,EAAYC,WAAa,WAChBv9D,OAAAA,KAGTs9D,EAAYL,QAAU,SAAUJ,GACvB/M,OAAAA,EAAI+M,IAGKS,EAAYE,YAAYvB,GAC9Bn9D,IAAIu+D,KAGb,SAASI,EAAevsD,GACzBssD,IAAAA,EAActsD,EAAGosD,YAAYrB,GAAiBuB,YAAYvB,GAC1D30D,EAAM,GACH,OAAA,IAAIiI,QAAQ,SAAUvP,GAC3Bw9D,EAAYE,aAAaR,UAAY,SAAUL,GACzCc,IAAAA,EAASd,EAAGx5D,OAAOkI,OAEnBoyD,GACFr2D,EAAI5B,KAAKi4D,EAAO99D,OAEhB89D,EAAM,YAEN39D,EAAIsH,MAKL,SAASs2D,EAAsB1sD,EAAI2sD,GACpCL,IAAAA,EAActsD,EAAGosD,YAAYrB,GAAiBuB,YAAYvB,GAC1D30D,EAAM,GACNw2D,EAAgBC,YAAYC,MAAMH,EAAe,EAAGvjD,EAAAA,GACjD,OAAA,IAAI/K,QAAQ,SAAUvP,GAC3Bw9D,EAAYE,WAAWI,GAAeZ,UAAY,SAAUL,GACtDc,IAAAA,EAASd,EAAGx5D,OAAOkI,OAEnBoyD,GACFr2D,EAAI5B,KAAKi4D,EAAO99D,OAChB89D,EAAM,YAEN39D,EAAIsH,MAKL,SAAS22D,EAAkB/sD,EAAIM,GAChCD,IAAAA,EAAUL,EAAGosD,YAAY,CAACrB,GAAkB,aAAauB,YAAYvB,GAA3D,OAAsFzqD,GAC7F,OAAA,IAAIjC,QAAQ,SAAUvP,GAC3BuR,EAAQ2rD,UAAY,WACXl9D,OAAAA,OAIN,SAASk+D,EAAehtD,EAAIiqD,GAC7BI,IAAAA,GAAY,IAAI1sD,MAAO0f,UAAY4sC,EACnCqC,EAActsD,EAAGosD,YAAYrB,GAAiBuB,YAAYvB,GAC1D30D,EAAM,GACH,OAAA,IAAIiI,QAAQ,SAAUvP,GAC3Bw9D,EAAYE,aAAaR,UAAY,SAAUL,GACzCc,IAAAA,EAASd,EAAGx5D,OAAOkI,OAEnBoyD,GAAAA,EAAQ,CACNQ,IAAAA,EAASR,EAAO99D,MAEhBs+D,KAAAA,EAAOtE,KAAO0B,GAOhB,YADAv7D,EAAIsH,GALJA,EAAI5B,KAAKy4D,GAETR,EAAM,gBAOR39D,EAAIsH,MAKL,SAAS82D,EAAiBltD,EAAIiqD,GAC5B+C,OAAAA,EAAehtD,EAAIiqD,GAAKvrD,KAAK,SAAUyuD,GACrC9uD,OAAAA,QAAQinB,IAAI6nC,EAAOzrD,IAAI,SAAU0rD,GAC/BL,OAAAA,EAAkB/sD,EAAIotD,EAAO9sD,SAInC,SAASlM,EAAO+0D,EAAa73C,GAE3B+5C,OADP/5C,GAAU,EAAwBA,EAAAA,yBAAAA,GAC3B+5C,EAAelC,GAAazqD,KAAK,SAAUsB,GAC5C5K,IAAAA,EAAQ,CACVi4D,QAAQ,EACRV,aAAc,EACdxD,YAAaA,EACb73C,QAASA,EACTtJ,MAAM,EAAY,EAAA,aAAA,IAOlBslD,KAAM,IAAItD,EAAJ,QAAmC,EAAlB14C,EAAQm5C,IAAIR,KAEnCsD,kBAAmBlvD,QAAQ2e,UAC3BosC,iBAAkB,KAClBoE,kBAAmB,GACnBxtD,GAAIA,GAUC5K,OAFPq4D,EAAUr4D,GAEHA,IAIX,SAASq4D,EAAUr4D,GACbA,IAAAA,EAAMi4D,OACHK,OAAAA,EAAgBt4D,GAAOsJ,KAAK,WAC1B,OAAA,EAAMtJ,EAAAA,OAAAA,EAAMkc,QAAQm5C,IAAIC,oBAC9BhsD,KAAK,WACC+uD,OAAAA,EAAUr4D,KAIrB,SAASu4D,EAAeP,EAAQh4D,GAC1Bg4D,OAAAA,EAAOplD,OAAS5S,EAAM4S,QAEtB5S,EAAMk4D,KAAK1+D,IAAIw+D,EAAO9sD,OAEtB8sD,EAAOv7D,KAAK82D,KAAOvzD,EAAMw4D,uBAS/B,SAASF,EAAgBt4D,GAEnBA,OAAAA,EAAMi4D,OAAehvD,QAAQ2e,UAE5B5nB,EAAMg0D,iBACJsD,EAAsBt3D,EAAM4K,GAAI5K,EAAMu3D,cAAcjuD,KAAK,SAAUmvD,GA2BjExvD,OA1BWwvD,EAMjBjsD,OAAO,SAAUwrD,GACT,QAAEA,IACR1rD,IAAI,SAAU0rD,GAKRA,OAJHA,EAAO9sD,GAAKlL,EAAMu3D,eACpBv3D,EAAMu3D,aAAeS,EAAO9sD,IAGvB8sD,IACNxrD,OAAO,SAAUwrD,GACXO,OAAAA,EAAeP,EAAQh4D,KAC7B6V,KAAK,SAAU6iD,EAASC,GAClBD,OAAAA,EAAQnF,KAAOoF,EAAQpF,OAGpB55D,QAAQ,SAAUq+D,GACxBh4D,EAAMg0D,mBACRh0D,EAAMk4D,KAAK1/D,IAAIw/D,EAAO9sD,IACtBlL,EAAMg0D,iBAAiBgE,EAAOv7D,SAG3BwM,QAAQ2e,YA5BmB3e,QAAQ2e,UAgCvC,SAASiqB,EAAMwiB,GACpBA,EAAa4D,QAAS,EACtB5D,EAAazpD,GAAGinC,QAEX,SAASyiB,EAAYD,EAAcE,GASjCF,OARPA,EAAa8D,kBAAoB9D,EAAa8D,kBAAkB7uD,KAAK,WAC5DutD,OAAAA,EAAaxC,EAAazpD,GAAIypD,EAAazhD,KAAM2hD,KACvDjrD,KAAK,WACmB,KAArB,EAAU,EAAA,WAAA,EAAG,KAEfwuD,EAAiBzD,EAAazpD,GAAIypD,EAAan4C,QAAQm5C,IAAIR,OAGxDR,EAAa8D,kBAEf,SAAS3D,EAAUH,EAAclvC,EAAIouC,GAC1Cc,EAAamE,qBAAuBjF,EACpCc,EAAaL,iBAAmB7uC,EAChCmzC,EAAgBjE,GAEX,SAASI,IACVZ,OAAAA,EAAJ,UACU+B,IAIL,SAASjB,EAAoBz4C,GAC3BA,OAA+B,EAA/BA,EAAQm5C,IAAIC,iBAEN,QAAA,KAAA,EAAA,IAAA,EAAA,CACbt2D,OAAQA,EACR6yC,MAAOA,EACP2iB,UAAWA,EACXF,YAAaA,EACbG,UAAWA,EACXh2D,KAAMA,EACNk2D,oBAAqBA,EACrBf,aAAcA,GARD,QAAA,QAAA;;AC1HA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,gBAAA,EAAA,QAAA,WAAA,EAAA,QAAA,YAAA,EAAA,QAAA,wBAAA,EAAA,QAAA,2BAAA,EAAA,QAAA,OAAA,EAAA,QAAA,MAAA,EAAA,QAAA,UAAA,EAAA,QAAA,UAAA,EAAA,QAAA,oBAAA,EAAA,QAAA,QAAA,QAAA,KAAA,QAAA,kBAAA,EA1If,IAAA,EAAA,EAAA,QAAA,qBACA,EAAA,QAAA,cACA,EAAA,QAAA,WAwIe,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAvIR,IAAIA,EAAeE,EAAnB,aAuIQ,QAAA,aAAA,EAtIf,IAAI8E,EAAa,2BACNn6D,EAAO,eAMX,SAASo6D,IACVlsD,IAAAA,EACA,GAAkB,oBAAXgX,OAAwB,OAAO,KAEtC,IACFhX,EAAegX,OAAOhX,aACtBA,EAAegX,OAAO,8BAAgCA,OAAOhX,aAC7D,MAAO1J,IAKF0J,OAAAA,EAEF,SAASmsD,EAAW/E,GAClB6E,OAAAA,EAAa7E,EAOf,SAASO,EAAYD,EAAcE,GACjC,OAAA,IAAItrD,QAAQ,SAAUvP,IACnB4P,EAAAA,EAAAA,SAAAA,KAAK,WACP1R,IAAAA,EAAMkhE,EAAWzE,EAAaN,aAC9BgF,EAAW,CACbjkC,OAAO,EAAY,EAAA,aAAA,IACnBy+B,MAAM,IAAIhrD,MAAO0f,UACjBxrB,KAAM83D,EACN3hD,KAAMyhD,EAAazhD,MAEjBrZ,EAAQkB,KAAKC,UAAUq+D,GAC3BF,IAAkBjsD,QAAQhV,EAAK2B,GAO3Bg9D,IAAAA,EAAKp+B,SAAS6gC,YAAY,SAC9BzC,EAAG0C,UAAU,WAAW,GAAM,GAC9B1C,EAAG3+D,IAAMA,EACT2+D,EAAG2C,SAAW3/D,EACdoqB,OAAOw1C,cAAc5C,GACrB78D,QAIC,SAAS0/D,EAAwBrF,EAAa5uC,GAC/CvtB,IAAAA,EAAMkhE,EAAW/E,GAEjBr1D,EAAW,SAAkB63D,GAC3BA,EAAG3+D,MAAQA,GACbutB,EAAG1qB,KAAK06D,MAAMoB,EAAG2C,YAKdx6D,OADPilB,OAAO3W,iBAAiB,UAAWtO,GAC5BA,EAEF,SAAS26D,EAA2B36D,GACzCilB,OAAO21C,oBAAoB,UAAW56D,GAEjC,SAASM,EAAO+0D,EAAa73C,GAG9B,GAFJA,GAAU,EAAwBA,EAAAA,yBAAAA,IAE7Bu4C,IACG,MAAA,IAAIr6D,MAAM,iDAGdwY,IAAAA,GAAO,EAAY,EAAA,aAAA,IAOnBslD,EAAO,IAAItD,EAAJ,QAAiB14C,EAAQq5C,aAAaC,eAC7Cx1D,EAAQ,CACV+zD,YAAaA,EACbnhD,KAAMA,EACNslD,KAAMA,GAeDl4D,OAZPA,EAAMtB,SAAW06D,EAAwBrF,EAAa,SAAUiE,GACzDh4D,EAAMg0D,kBAEPgE,EAAOplD,OAASA,GAEfolD,EAAOljC,QAASojC,EAAK1+D,IAAIw+D,EAAOljC,SAEjCkjC,EAAOv7D,KAAK82D,MAAQyE,EAAOv7D,KAAK82D,KAAOvzD,EAAMw4D,uBAEjDN,EAAK1/D,IAAIw/D,EAAOljC,OAChB90B,EAAMg0D,iBAAiBgE,EAAOv7D,UAEzBuD,EAEF,SAAS6xC,EAAMwiB,GACpBgF,EAA2BhF,EAAa31D,UAEnC,SAAS81D,EAAUH,EAAclvC,EAAIouC,GAC1Cc,EAAamE,qBAAuBjF,EACpCc,EAAaL,iBAAmB7uC,EAE3B,SAASsvC,IACVZ,GAAAA,EAAJ,OAAY,OAAO,EACf0F,IAAAA,EAAKV,IACL,IAACU,EAAI,OAAO,EAEZ,IACE3hE,IAAAA,EAAM,2BACV2hE,EAAG3sD,QAAQhV,EAAK,SAChB2hE,EAAGC,WAAW5hE,GACd,MAAOqL,GAIA,OAAA,EAGF,OAAA,EAEF,SAAS0xD,IACP,OAAA,IAEM,QAAA,KAAA,EAAA,IAAA,EAAA,CACb31D,OAAQA,EACR6yC,MAAOA,EACP2iB,UAAWA,EACXF,YAAaA,EACbG,UAAWA,EACXh2D,KAAMA,EACNk2D,oBAAqBA,EACrBf,aAAcA,GARD,QAAA,QAAA;;ACxGA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,OAAA,EAAA,QAAA,MAAA,EAAA,QAAA,YAAA,EAAA,QAAA,UAAA,EAAA,QAAA,UAAA,EAAA,QAAA,oBAAA,EAAA,QAAA,QAAA,QAAA,KAAA,QAAA,kBAAA,EAzCf,IAAA,EAAA,QAAA,WACWA,EAAeE,EAAnB,aAwCQ,QAAA,aAAA,EAvCR,IAAIr1D,EAAO,WAuCH,QAAA,KAAA,EAtCf,IAAIg7D,EAAoB,IAAI7gE,IACrB,SAASoG,EAAO+0D,GACjB/zD,IAAAA,EAAQ,CACV1F,KAAMy5D,EACNC,iBAAkB,MAGbh0D,OADPy5D,EAAkBjhE,IAAIwH,GACfA,EAEF,SAAS6xC,EAAMwiB,GACpBoF,EAAiB,OAAWpF,GAEvB,SAASC,EAAYD,EAAcE,GACjC,OAAA,IAAItrD,QAAQ,SAAUvP,GACpBiM,OAAAA,WAAW,WACGxN,MAAMolC,KAAKk8B,GACjBjtD,OAAO,SAAUktD,GACrBA,OAAAA,EAAQp/D,OAAS+5D,EAAa/5D,OACpCkS,OAAO,SAAUktD,GACXA,OAAAA,IAAYrF,IAClB7nD,OAAO,SAAUktD,GACX,QAAEA,EAAQ1F,mBAChBr6D,QAAQ,SAAU+/D,GACZA,OAAAA,EAAQ1F,iBAAiBO,KAElC76D,KACC,KAGA,SAAS86D,EAAUH,EAAclvC,GACtCkvC,EAAaL,iBAAmB7uC,EAE3B,SAASsvC,IACP,OAAA,EAEF,SAASE,IACP,OAAA,EAEM,IAAA,EAAA,CACb31D,OAAQA,EACR6yC,MAAOA,EACP2iB,UAAWA,EACXF,YAAaA,EACbG,UAAWA,EACXh2D,KAAMA,EACNk2D,oBAAqBA,EACrBf,aAAcA,GARD,QAAA,QAAA;;ACyBd,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAlED,IAAA,EAAA,EAAA,QAAA,wBACA,EAAA,EAAA,QAAA,4BACA,EAAA,EAAA,QAAA,8BACA,EAAA,EAAA,QAAA,0BACA,EAAA,QAAA,UA8DC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA5DD,IAAI+F,EAAU,CAACC,EAAD,QACdC,EADc,QACEC,EADF,SAOd,GAAIjG,EAAJ,OAAY,CAKNkG,IAAAA,EAAat4C,QAAQ,6BAUW,mBAAzBs4C,EAAWtF,WACpBkF,EAAQv6D,KAAK26D,GAIV,SAASC,EAAa99C,GAEvBA,GAAAA,EAAQzd,KAAM,CACZyd,GAAiB,aAAjBA,EAAQzd,KAEHw7D,OAAAA,EAAP,QAGEj5D,IAAAA,EAAM24D,EAAQl/C,KAAK,SAAU7b,GACxBA,OAAAA,EAAEH,OAASyd,EAAQzd,OAExB,GAACuC,EAAwE,OAAOA,EAA1E,MAAM,IAAI5G,MAAM,eAAiB8hB,EAAQzd,KAAO,cAQxDy7D,IAAAA,EAAgBP,EAEfz9C,EAAQk5C,kBAAqBvB,EAAlC,SACEqG,EAAgBP,EAAQntD,OAAO,SAAU5N,GAChCA,MAAW,QAAXA,EAAEH,QAIT07D,IAAAA,EAAYD,EAAcz/C,KAAK,SAAUtN,GACpCA,OAAAA,EAAOsnD,cAEZ,GAAC0F,EAEK,OAAOA,EAFD,MAAM,IAAI//D,MAAM,4BAA8BK,KAAKC,UAAUi/D,EAAQrtD,IAAI,SAAU1N,GAC1FA,OAAAA,EAAEH;;AC8KEy1D,aAAAA,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EA9Of,IA6EIkG,EA7EJ,EAAA,QAAA,aACA,EAAA,QAAA,uBACA,EAAA,QAAA,gBAEIlG,EAAmB,SAA0B55D,EAAM4hB,GAChD5hB,KAAAA,KAAOA,EAER8/D,IACFl+C,EAAUk+C,GAGPl+C,KAAAA,SAAU,EAAwBA,EAAAA,yBAAAA,GAClC/O,KAAAA,QAAS,EAAa,EAAA,cAAA,KAAK+O,SAE3Bm+C,KAAAA,KAAM,EAONC,KAAAA,MAAQ,KAKRC,KAAAA,OAAS,CACZhgE,QAAS,GACTigE,SAAU,IAQPC,KAAAA,MAAQ,GAKRC,KAAAA,OAAS,KAEdC,EAAgB,OA8GlB,SAASC,EAAMC,EAAkBp8D,EAAMsQ,GACjCwkD,IACAyE,EAAS,CACXzE,KAFSsH,EAAiB1tD,OAAOymD,eAGjCn1D,KAAMA,EACNhC,KAAMsS,GAGD+rD,OADYD,EAAiBH,OAASG,EAAiBH,OAASzxD,QAAQ2e,WAC3Dte,KAAK,WAChBuxD,OAAAA,EAAiB1tD,OAAOmnD,YAAYuG,EAAiBE,OAAQ/C,KAIxE,SAAS2C,EAAgBjB,GACnBxuC,IAAAA,EAAewuC,EAAQvsD,OAAOnO,OAAO06D,EAAQp/D,KAAMo/D,EAAQx9C,UAE3D,EAAUgP,EAAAA,WAAAA,IACZwuC,EAAQgB,OAASxvC,EACjBA,EAAa5hB,KAAK,SAAUiH,GAM1BmpD,EAAQqB,OAASxqD,KAGnBmpD,EAAQqB,OAAS7vC,EAIrB,SAAS8vC,EAAqBtB,GACxBA,OAAAA,EAAQa,OAAOhgE,QAAQhC,OAAS,GAChCmhE,EAAQa,OAAOC,SAASjiE,OAAS,EAIvC,SAAS0iE,EAAmBvB,EAASj7D,EAAM0L,GACzCuvD,EAAQa,OAAO97D,GAAMW,KAAK+K,GAE1B+wD,EAAgBxB,GAGlB,SAASyB,EAAsBzB,EAASj7D,EAAM0L,GAC5CuvD,EAAQa,OAAO97D,GAAQi7D,EAAQa,OAAO97D,GAAM+N,OAAO,SAAUwV,GACpDA,OAAAA,IAAM7X,IAGfixD,EAAe1B,GAGjB,SAASwB,EAAgBxB,GACnB,IAACA,EAAQW,KAAOW,EAAqBtB,GAAU,CAE7C2B,IAAAA,EAAa,SAAoBrD,GACnC0B,EAAQa,OAAOvC,EAAOv5D,MAAM9E,QAAQ,SAAUwQ,GACxC6tD,EAAOzE,MAAQppD,EAAIopD,MACrBppD,EAAIgb,GAAG6yC,EAAOv7D,SAKhB82D,EAAOmG,EAAQvsD,OAAOymD,eAEtB8F,EAAQgB,OACVhB,EAAQgB,OAAOpxD,KAAK,WAClBowD,EAAQW,KAAM,EACdX,EAAQvsD,OAAOqnD,UAAUkF,EAAQqB,OAAQM,EAAY9H,MAGvDmG,EAAQW,KAAM,EACdX,EAAQvsD,OAAOqnD,UAAUkF,EAAQqB,OAAQM,EAAY9H,KAK3D,SAAS6H,EAAe1B,GAClBA,GAAAA,EAAQW,MAAQW,EAAqBtB,GAAU,CAEjDA,EAAQW,KAAM,EACV9G,IAAAA,EAAOmG,EAAQvsD,OAAOymD,eAC1B8F,EAAQvsD,OAAOqnD,UAAUkF,EAAQqB,OAAQ,KAAMxH,IArLnDW,EAAiBQ,SAAU,EAM3BR,EAAiBoH,gBAAkB,SAAUp/C,GAC3CA,GAAU,EAAwBA,EAAAA,yBAAAA,GAC9B/O,IAAAA,GAAS,EAAa+O,EAAAA,cAAAA,GAEtB/O,MAAgB,SAAhBA,EAAO1O,KACF0O,EAAOmuD,kBAAkBhyD,KAAK,WAC5B,OAAA,IAGFL,QAAQ2e,SAAQ,IAW3BssC,EAAiBqH,eAAiB,SAAUr/C,GAC1Ck+C,EAAmBl+C,GAIrBg4C,EAAiB/6D,UAAY,CAC3Bm7D,YAAa,SAAqBvlD,GAC5B,GAAA,KAAKkpD,OACD,MAAA,IAAI79D,MAAM,gFAGXwgE,OAAAA,EAAM,KAAM,UAAW7rD,IAEhCysD,aAAc,SAAsBzsD,GAC3B6rD,OAAAA,EAAM,KAAM,WAAY7rD,IAG7BqlD,cAAUjvC,GACRouC,IACAkI,EAAY,CACdlI,KAFS,KAAKpmD,OAAOymD,eAGrBzuC,GAAIA,GAGNg2C,EAAsB,KAAM,UAAW,KAAKb,OAExCn1C,GAAoB,mBAAPA,GACVm1C,KAAAA,MAAQmB,EAEbR,EAAmB,KAAM,UAAWQ,IAE/BnB,KAAAA,MAAQ,MAIjBttD,iBAAkB,SAA0BvO,EAAM0mB,GAOhD81C,EAAmB,KAAMx8D,EALT,CACd80D,KAFS,KAAKpmD,OAAOymD,eAGrBzuC,GAAIA,KAKRm0C,oBAAqB,SAA6B76D,EAAM0mB,GAKtDg2C,EAAsB,KAAM18D,EAJlB,KAAK87D,OAAO97D,GAAMgc,KAAK,SAAUtQ,GAClCA,OAAAA,EAAIgb,KAAOA,MAKtB0sB,MAAO,WACD3zB,IAAAA,EAAQ,KAER,IAAA,KAAK+5C,OAAL,CACCA,KAAAA,QAAS,EACV6C,IAAAA,EAAe,KAAKJ,OAAS,KAAKA,OAASzxD,QAAQ2e,UAGhDkzC,OAFFR,KAAAA,MAAQ,KACRC,KAAAA,OAAOhgE,QAAU,GACfugE,EAAaxxD,KAAK,WAChBL,OAAAA,QAAQinB,IAAIhS,EAAMu8C,MAAMnuD,IAAI,SAAU6Y,GACpCA,OAAAA,SAER7b,KAAK,WACC4U,OAAAA,EAAM/Q,OAAO0kC,MAAM3zB,EAAM68C,YAIhCt8D,WACK,OAAA,KAAK0O,OAAO1O,OA0FRy1D,IAAAA,EAAAA,EAAAA,QAAAA,QAAAA;;ACgeA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,WAAA,EAAA,QAAA,qBAAA,EAAA,QAAA,0BAAA,EAAA,QAAA,cAAA,EAAA,QAAA,uBAAA,EAAA,QAAA,uBAAA,EAAA,QAAA,OAAA,EAAA,QAAA,iBAAA,EAAA,QAAA,eAAA,EAAA,QAAA,aAAA,EAAA,QAAA,aAAA,EAAA,QAAA,QAAA,EAAA,QAAA,QAAA,QAAA,oBAAA,EA9sBf,IAAA,EAAA,EAAA,QAAA,uCACA,EAAA,EAAA,QAAA,iBACA,EAAA,EAAA,QAAA,sBACA,EAAA,EAAA,QAAA,sBACA,EAAA,QAAA,UACA,EAAA,QAAA,cACA,EAAA,QAAA,eACA,EAAA,QAAA,qBACA,EAAA,EAAA,QAAA,mBACA,EAAA,QAAA,WACA,EAAA,QAAA,QACA,EAAA,QAAA,kBACA,EAAA,QAAA,cACA,EAAA,QAAA,mBAisBe,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA1rBf,IAAIwH,EAAoB,GACpBC,EAAW,EACJC,EAEX,WACWA,SAAAA,EAAethE,EAAMuyB,EAASiQ,EAAU++B,GAC3Cz9C,IAAAA,EAAuBze,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,IAAmBA,UAAU,GACtFuc,EAAUvc,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,GAAmBA,UAAU,GAAK,GAC9EiqD,EAAgBjqD,UAAUpH,OAAS,EAAIoH,UAAU,QAAKrD,EACrD81D,KAAAA,UAAY,IAAIT,EAAJ,QACZ78B,KAAAA,OAAQ,EAAY,EAAA,SAAA,IACpBg4B,KAAAA,MAAQ,GACRxoB,KAAAA,WAAY,EACZw3B,KAAAA,QAAU,IAAI3T,EAAJ,QACV4T,KAAAA,YAAc,KAAKD,QAAQrmC,eAAea,MAAK,EAAO,EAAA,QAAA,SAAUi6B,GAC5D,OAAA,EAA0BA,EAAAA,cAAAA,MAE9ByL,KAAAA,YAAc,GACdnS,KAAAA,kBAAoB,GACpBvvD,KAAAA,KAAOA,EACPuyB,KAAAA,QAAUA,EACViQ,KAAAA,SAAWA,EACX++B,KAAAA,cAAgBA,EAChBz9C,KAAAA,qBAAuBA,EACvBlC,KAAAA,QAAUA,EACV0tC,KAAAA,cAAgBA,EAChBjzB,KAAAA,YAAc,QACC,IAATr8B,GAAsBqhE,IAG/B59C,IAAAA,EAAS69C,EAAeziE,UAsUrByiE,OA/TP79C,EAAOk+C,8BAAgC,WACjCC,IAAAA,EAAW,KAAKrS,kBACbqS,OAAAA,EAAS5qB,UAAUhoC,KAAK,SAAU6yD,GAChClzD,OAAAA,QAAQinB,IAAIisC,EAAQ1iD,KAAKnN,IAAI,SAAUsN,GACrC,MAAA,CACLzH,IAAKyH,EAAIhiB,IACToa,KAAM4H,EAAIrgB,MAAMgT,OAEjBD,IAAI,SAAUuC,GACRqtD,OAAAA,EAASxjC,OAAO7pB,EAAIsD,IAAKtD,EAAImD,YAS1C+L,EAAO4rC,cAAgB,SAAuByS,EAAgBC,GACxDzS,IAAAA,EAAgBjqD,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,GAAmBA,UAAU,GAAK,GACjF28D,OAAAA,EAAe,KAAKhiE,KAAM,KAAKuyB,QAASuvC,EAAgBC,EAAezS,EAAe,KAAKA,gBAOpG7rC,EAAOw+C,kBAAoB,WACrB,OAAC,KAAKV,cACH,KAAKW,cAAcD,oBADMtzD,QAAQ2e,SAAQ,IAYlD7J,EAAOkY,MAAQ,SAAexX,GACvBA,IAEAq9C,KAAAA,QAAQ50D,KAAKuX,GAEdA,EAAYhiB,KAAK23B,KAAO,KAAKU,OAC/B2nC,EAAc,KAAMh+C,KAQxBV,EAAOgtC,oBAAsB,SAA6BzwD,EAAMujB,GAC1DK,IAAAA,EAAQ,KAERlS,EAAQ0wD,EAAuBpiE,EAAMujB,GAElC,OAAA,KAAKgsC,kBAAkBzwD,IAAI4S,GAAO1C,KAAK,SAAUuF,GAC/CqP,OAAAA,EAAMwvC,UAAU,WACdxvC,OAAAA,EAAM2rC,kBAAkBnxB,OAAO7pB,QAS5CkP,EAAOH,WAAa,SAAoB3gB,GAClC0hB,IAAAA,EAAS,KAET,GAAgB,iBAAT1hB,EAAmB,OAAOgM,QAAQ2e,QAAQ,KAAK+O,YAAY15B,IAKlEA,IAJJA,EAAOnE,OAAOuR,OAAO,GAAIpN,IACpBkhB,SAAW,MACD,EAAA,EAAA,gBAAA,wBAAyBlhB,GAEZ,MAAxBA,EAAK3C,KAAKkxB,OAAO,GACb,MAAA,EAAW,EAAA,YAAA,MAAO,CACtBlxB,KAAM2C,EAAK3C,OAIX,GAAA,KAAKq8B,YAAY15B,EAAK3C,MAClB,MAAA,EAAW,EAAA,YAAA,MAAO,CACtBA,KAAM2C,EAAK3C,OAIX,IAAC2C,EAAK4gB,OACF,MAAA,EAAW,EAAA,YAAA,MAAO,CACtBvjB,KAAM2C,EAAK3C,KACX2C,KAAMA,IAIN0/D,IAAAA,EAAkBD,EAAuBz/D,EAAK3C,KAAM2C,EAAK4gB,QAGzD9a,GAAAA,IAAaozB,SAASl5B,EAAK3C,MACvB,MAAA,EAAW,EAAA,YAAA,MAAO,CACtBA,KAAM2C,EAAK3C,OAIXujB,IAAAA,GAAS,EAAe5gB,EAAAA,gBAAAA,EAAK4gB,QACjC5gB,EAAK4gB,OAASA,EAEV++C,IACA7S,EACA51B,EAFAyoC,EAAa/+C,EAAOtW,KAGjB,OAAA,KAAKmmD,UAAU,WACb/uC,OAAAA,EAAOkrC,kBAAkBzwD,IAAIujE,KAD/B,MAEK,WACH,OAAA,OACNrzD,KAAK,SAAUuzD,GAGZA,OAFJ9S,EAAS8S,EAELA,GAAiBA,EAAcD,aAAeA,EAEpCj+C,EAAOgrC,cAAc1sD,EAAK3C,KAAM2C,EAAK4gB,OAAOuM,QAASntB,EAAK2sD,eAEzDnvC,KAAK,CAChBhD,SAAU,CACRtF,IAAK,IAEP8H,MAAO,IACN3Q,KAAK,SAAUwzD,GACZA,GAAuB,IAAvBA,EAAO/xD,KAAKxS,OAER,MAAA,EAAW,EAAA,YAAA,MAAO,CACtB+B,KAAM2C,EAAK3C,KACXyiE,mBAAoBF,EAAcD,WAClCA,WAAYA,IAITC,OAAAA,IAEGA,IACbvzD,KAAK,WACC,OAAA,EAAmBrM,EAAAA,QAAAA,KACzBqM,KAAK,SAAUsU,GAGZ9kB,GAFJq7B,EAAMvW,EAEF9kB,OAAOe,KAAK+jB,EAAWC,OAAOsf,gBAAgB5kC,OAAS,IAAMomB,EAAOme,SAChE,MAAA,EAAW,EAAA,YAAA,MAAO,CACtBxiC,KAAM2C,EAAK3C,OAIX,IAACyvD,EACIprC,OAAAA,EAAO+uC,UAAU,WACf/uC,OAAAA,EAAOkrC,kBAAkBx3C,IAAI,CAClCF,IAAKwqD,EACLC,WAAYA,EACZ/+C,OAAQD,EAAWC,OAAOnN,WAC1B0Z,QAASxM,EAAWC,OAAOuM,YALxB,MAOK,gBAEb9gB,KAAK,WACFinD,IAAAA,GAAS,EAAkB,EAAA,mBAAA,wBAAyB5xC,EAAQwV,GAezDA,OAdPo8B,EAAO9zD,KAAKoiB,EAAIsV,EAAI75B,KACpBi2D,EAAO9zD,KAAK03B,IAAM,eAClBxV,EAAOgY,YAAY15B,EAAK3C,MAAQ65B,EAE3BxV,EAAO1hB,EAAK3C,OACfxB,OAAOgB,eAAe6kB,EAAQ1hB,EAAK3C,KAAM,CACvClB,IAAK,WACIulB,OAAAA,EAAOgY,YAAY15B,EAAK3C,SAKrCqkB,EAAOsX,MAAMs6B,GAENp8B,KAQXpW,EAAOsyC,iBAAmB,SAA0B+L,GAC9ClkC,IAAAA,EAAS,KAIN8kC,OAFH,KAAKrmC,YAAYylC,IAAiB,KAAKzlC,YAAYylC,GAAgB/0D,UAEhE21D,EAAuB,KAAMZ,GACnC9yD,KAAK,SAAU2zD,GACPA,OAAAA,EAAc3wD,IAAI,SAAUuS,GAC1BqZ,OAAAA,EAAOyxB,cAAcyS,EAAgBv9C,OAG/CvV,KAAK,SAAU4zD,GACPj0D,OAAAA,QAAQinB,IAAIgtC,EAAQ5wD,IAAI,SAAUi6C,GAChCruB,OAAAA,EAAOw1B,UAAU,WACfnH,OAAAA,EAAMl/C,kBAUrB0W,EAAO2vC,UAAY,SAAmBhlD,GAC7B,OAAA,KAAK0pD,UAAUU,SAASpqD,IAGjCqV,EAAOoN,mBAAqB,WACnB,OAAA,KAAKinC,UAAUjnC,sBAOxBpN,EAAOoxC,KAAO,WACKxvD,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,IAAmBA,UAAU,GAE7DA,UAAUpH,OAAS,GAAIoH,UAAU,GAE9C,MAAA,EAAc,EAAA,eAAA,cAOtBoe,EAAOqxC,WAAa,SAAoB+N,GAChC,MAAA,EAAc,EAAA,eAAA,cAOtBp/C,EAAOq/C,OAAS,SAAgBC,GACxB,MAAA,EAAc,EAAA,eAAA,WAOtBt/C,EAAO1W,QAAU,WACXoxB,IAAAA,EAAS,KAET,OAAA,KAAK6L,UAAkBr7B,QAAQ2e,SAAQ,KAC5B,EAAA,EAAA,gBAAA,uBAAwB,MACvC+zC,IACKr3B,KAAAA,WAAY,EAEb,KAAKu2B,kBAMPl1D,WAAW,WACF8yB,OAAAA,EAAOoiC,iBAAiBhpB,SAC9B,KAGD,KAAKyrB,gBAAgB,KAAKA,eAAej2D,UAExCylD,KAAAA,MAAMxgD,IAAI,SAAUy8C,GAChBA,OAAAA,EAAII,gBAINlgD,QAAQinB,IAAIp3B,OAAOe,KAAK,KAAK88B,aAAarqB,IAAI,SAAU1U,GACtD6gC,OAAAA,EAAO9B,YAAY/+B,KACzB0U,IAAI,SAAU6nB,GACRA,OAAAA,EAAI9sB,aAEZiC,KAAK,WACGi0D,OAAAA,EAAuB9kC,EAAOn+B,KAAMm+B,EAAO5L,WACjDvjB,KAAK,WACC,OAAA,MAQXyU,EAAO2a,OAAS,WACVC,IAAAA,EAAS,KAEN,OAAA,KAAKtxB,UAAUiC,KAAK,WAClBk0D,OAAAA,EAAe7kC,EAAOr+B,KAAMq+B,EAAO9L,aAIjC+uC,EAAAA,EAAAA,SAAAA,EAAgB,CAAC,CAC5BhkE,IAAK,gBACLwB,IAAK,WAEI,OADF,KAAKkkE,iBAAgB,KAAKA,eAAiBtuC,EAAalB,QAAAA,oBAAoB,OAC1E,KAAKwvC,iBAEb,CACD1lE,IAAK,WACLwB,IAAK,WACC,OAAC,KAAKyiE,eACH,KAAKW,cAAciB,WAE3B,CACD7lE,IAAK,IACLwB,IAAK,WACI,OAAA,KAAK2iE,gBAITH,EAhWT,GAsrBe,QAAA,eAAA,EAhVf,IAAI5iC,EAAc,KACX,SAASj2B,IACV,IAACi2B,EAAa,CACZ43B,IAAAA,EAAiB,IAAIgL,EACrBliC,EAAgB5gC,OAAO2E,oBAAoBmzD,GAC3Cj3B,EAAsB7gC,OAAO2E,oBAAoB3E,OAAOsI,eAAewvD,IAC3E53B,EAAc,GAAGt7B,OAAOg8B,EAAeC,GAGlCX,OAAAA,EAOT,SAAS0kC,EAAmBpjE,EAAMuyB,GAC5B,IAAC6uC,EAAkBphE,GAAO,OAAO,EACjCqjE,IAAAA,GAAO,EAKPA,GAJJjC,EAAkBphE,GAAMX,QAAQ,SAAUikE,GACpCA,IAAO/wC,IAAS8wC,GAAO,KAGzBA,EACI,MAAA,EAAW,EAAA,YAAA,MAAO,CACtBrjE,KAAMA,EACNuyB,QAASA,EACTgxC,KAAM,mEAKZ,SAASN,EAAuBjjE,EAAMuyB,GAChC,GAAC6uC,EAAkBphE,GAAnB,CACAwG,IAAAA,EAAQ46D,EAAkBphE,GAAM6W,QAAQ0b,GAC5C6uC,EAAkBphE,GAAMyiB,OAAOjc,EAAO,IAQjC,SAASg9D,EAAqBC,GAC/B,IAACA,EAAWjhC,SAAU,OAAO7zB,QAAQ2e,SAAQ,GAC7Co2C,IAAAA,GAAS,EAAKD,EAAAA,MAAAA,EAAWjhC,UACtBihC,OAAAA,EAAW/B,YAAY5iE,IAAI,iBAA3B,MAAqD,WACnD,OAAA,OACNkQ,KAAK,SAAU20D,GAgBZA,OAVCA,GACHF,EAAW/B,YAAY3pD,IAAI,CACzBF,IAAK,gBACL5Y,MAAOykE,IAFT,MAGY,WACH,OAAA,QAKPC,IAAaF,EAAWjhC,UAAYkhC,IAAWC,EAAU1kE,OACpDwkE,EAAW12D,UAAUiC,KAAK,WACzB,MAAA,EAAW,EAAA,YAAA,MAAO,CACtB40D,cAAc,EAAKH,EAAAA,MAAAA,EAAWjhC,UAC9BqhC,qBAAsBF,EAAU1kE,YAcnC,SAAS6kE,EAA0BL,GACjCA,OAAAA,EAAW/B,YAAY5iE,IAAI,uBAA3B,MAA2D,WAEzD2kE,OAAAA,EAAW/B,YAAY3pD,IAAI,CAChCF,IAAK,sBACL5Y,OAAO,EAAY,EAAA,SAAA,MAFd,MAGK,cAAgB+P,KAAK,WACxB,OAAA,EAAY,EAAA,aAAA,OAEpBA,KAAK,WACCy0D,OAAAA,EAAW/B,YAAY5iE,IAAI,yBACjCkQ,KAAK,SAAU+0D,GACTA,OAAAA,EAAiB9kE,QAOrB,SAASkjE,EAAcsB,EAAYt/C,GACpCs/C,GAAAA,EAAWlC,gBAAkBp9C,EAAY6V,YAAcypC,EAAWlD,iBAAkB,CAClFyD,IAAAA,EAAY7/C,EAAYvK,gBACrBoqD,EAAU1zD,GACb2zD,IAAAA,EAAkB,CACpB3zD,GAAImzD,EAAWjpC,MAEf0pC,GAAIT,EAAWU,aAEfxyC,EAAGqyC,GAEEP,OAAAA,EAAWlD,iBAAiBvG,YAAYiK,GAAiBj1D,KAAK,WAC5D,OAAA,IAEJ,OAAOL,QAAQ2e,SAAQ,GAOzB,SAAS80C,EAAuBpiE,EAAMujB,GACpCvjB,OAAAA,EAAO,IAAMujB,EAAOuM,QAOtB,SAAS4yC,EAAuBe,EAAY3B,GAC1C2B,OAAAA,EAAWrQ,UAAU,WACnBqQ,OAAAA,EAAWlU,kBAAkBvY,QAAQ,CAC1ChiC,cAAc,MAEfhG,KAAK,SAAU7M,GACZiiE,IAAAA,EAAejiE,EAAKgd,KAAKnN,IAAI,SAAUsN,GAClCA,OAAAA,EAAI/K,MACVrC,OAAO,SAAUqC,GAGXvU,OAFIuU,EAAIsD,IAAI3B,MAAM,KAAK,KAEd4rD,IAEXnzD,OAAAA,QAAQinB,IAAIwuC,EAAapyD,IAAI,SAAUuC,GACrCkvD,OAAAA,EAAWrQ,UAAU,WACnBqQ,OAAAA,EAAWlU,kBAAkBnxB,OAAO7pB,QAE3CvF,KAAK,WACAo1D,OAAAA,EAAapyD,IAAI,SAAUuC,GACzBA,OAAAA,EAAIub,cAMnB,SAASu0C,EAAyBZ,GAEhCA,EAAWlD,iBAAmB,IAAI3G,EAAJ,QAAqB,QAAU6J,EAAWzjE,KAAO,WAC/EyjE,EAAWa,kBAAoB,IAAIzW,EAAJ,QAE/B4V,EAAWlD,iBAAiBzG,UAAY,SAAUrlD,GAC5CA,GAAAA,EAAIyvD,KAAOT,EAAWU,cAEtB1vD,EAAInE,KAAOmzD,EAAWjpC,MAAtB/lB,CAEA0P,IAAAA,GAAc,EAAoB1P,EAAAA,qBAAAA,EAAIkd,GAC1C8xC,EAAWa,kBAAkB13D,KAAKuX,KAIpCs/C,EAAWjR,MAAM1tD,KAAK2+D,EAAWa,kBAAkB5V,UAAU,SAAU0C,GACrEqS,EAAW9nC,MAAMy1B,MAQrB,SAASwB,EAAQ6Q,GAIRA,OAHPA,EAAW/B,YAAc6C,EAAoBd,EAAWzjE,KAAMyjE,EAAWlxC,QAASkxC,EAAWnU,eAC7FmU,EAAWlU,kBAAoBiV,EAA0Bf,EAAWzjE,KAAMyjE,EAAWlxC,QAASkxC,EAAWnU,eAElGmU,EAAW/B,YAAYvwD,OAAOnC,KAAK,WAEjCL,OAAAA,QAAQinB,IAAI,CAACkuC,EAA0BL,GAAaD,EAAqBC,OAC/Ez0D,KAAK,SAAUyxB,GACZ0jC,IAAAA,EAAe1jC,EAAK,GACxBgjC,EAAWU,aAAeA,EAEtBV,EAAWlC,eACb8C,EAAyBZ,KAKxB,SAAS/+D,EAAOg8B,GACjB1gC,IAAAA,EAAO0gC,EAAM1gC,KACbuyB,EAAUmO,EAAMnO,QAChBiQ,EAAW9B,EAAM8B,SACjBiiC,EAAsB/jC,EAAM6gC,cAC5BA,OAAwC,IAAxBkD,GAAwCA,EACxDC,EAAwBhkC,EAAM5c,qBAC9BA,OAAiD,IAA1B4gD,GAA2CA,EAClEC,EAAwBjkC,EAAMkkC,gBAC9BA,OAA4C,IAA1BD,GAA2CA,EAC7DE,EAAgBnkC,EAAM9e,QACtBA,OAA4B,IAAlBijD,EAA2B,GAAKA,EAC1CC,EAAsBpkC,EAAM4uB,cAC5BA,OAAwC,IAAxBwV,EAAiC,GAAKA,EAGtD,IAFkB9kE,EAAAA,EAAAA,uBAAAA,GAEC,iBAAZuyB,GAEL,IAAC+d,EAAQoC,QAAAA,WAAapC,EAAQoC,QAAAA,SAASngB,GACnC,MAAA,EAAW,EAAA,YAAA,MAAO,CACtBA,QAASA,SAMT,IAFQA,EAAAA,EAAAA,aAAAA,IAEP+d,EAAQoC,QAAAA,WAAapC,EAAQoC,QAAAA,SAASqyB,QACnC,MAAA,EAAW,EAAA,YAAA,OAAQ,CACvBxyC,QAASA,IAKXiQ,GACWpP,EAAAA,QAAAA,iBAAiBoP,GAI3BoiC,GACHxB,EAAmBpjE,EAAMuyB,GAItB6uC,EAAkBphE,KAAOohE,EAAkBphE,GAAQ,IACxDohE,EAAkBphE,GAAM8E,KAAKytB,GACzBjiB,IAAAA,EAAK,IAAIgxD,EAAethE,EAAMuyB,EAASiQ,EAAU++B,EAAez9C,EAAsBlC,EAAS0tC,GAC5FsD,OAAAA,EAAQtiD,GAAItB,KAAK,WAEfsB,OADQ,EAAA,EAAA,gBAAA,mBAAoBA,GAC5BA,IAGJ,SAAS00D,EAAiB3xD,EAAQyuD,EAAgBC,GACnDnvB,IAAAA,EAASv/B,EAAS,SAAW0uD,EAAgB,IAE7C,GAACD,EAAejmC,SAAS,KAEtB,CAED3lB,IAAAA,EAAQ4rD,EAAe5rD,MAAM,KAC7BuqC,EAAOvqC,EAAMzP,MACbC,EAAMwP,EAAMG,KAAK,KAEd3P,OADPA,GAAO,IAAMksC,EAAS6N,EANf7N,OAAAA,EAASkvB,EAWpB,SAASE,EAAe3uD,EAAQkf,EAASuvC,EAAgBC,GACnDzS,IAAAA,EAAgBjqD,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,GAAmBA,UAAU,GAAK,GACpF4/D,EAAqC5/D,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,GAAmBA,UAAU,GAAK,GAEzG6/D,EAAoB,CACtBC,SAFkBH,EAAiB3xD,EAAQyuD,EAAgBC,GAG3DxvC,SAAS,EAAcA,EAAAA,eAAAA,GACvB6yC,SAAU9V,GAER+V,EAAiB7mE,OAAOuR,OAAO,GAAIm1D,EAAkB3yC,QAAS0yC,EAAoCC,EAAkBE,UAEjH,OADQ,EAAA,EAAA,gBAAA,mBAAoBF,GAC5B,IAAI50B,EAAJ,QAAY40B,EAAkBC,SAAUE,GAGjD,SAASd,EAAoBvkE,EAAMuyB,GAE1ByvC,OAAAA,EAAehiE,EAAMuyB,EAAS,SAAU,EAAG,CAEhD6gB,iBAAiB,EACjBkyB,WAAY,GAJ2BjgE,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,GAAmBA,UAAU,GAAK,IAQ/G,SAASm/D,EAA0BxkE,EAAMuyB,GAEhCyvC,OAAAA,EAAehiE,EAAMuyB,EAAS,eAAgB,EAAG,CAEtD6gB,iBAAiB,EACjBkyB,WAAY,GAJ2BjgE,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,GAAmBA,UAAU,GAAK,IAYxG,SAAS69D,EAAeqC,EAAchzC,GACvCizC,IAAAA,EAAajB,EAAoBgB,EAAchzC,GAE/CkzC,EAAmBjB,EAA0Be,EAAchzC,GAExDkzC,OAAAA,EAAiBzuB,QAAQ,CAC9BhiC,cAAc,IAEfhG,KAAK,SAAU02D,GACP/2D,OAAAA,QAAQinB,IAAI8vC,EAAgBvmD,KAAKnN,IAAI,SAAUy9C,GAC7CA,OAAAA,EAAO7+C,KACboB,IAAI,SAAUpB,GACXsF,IAAAA,EAAQtF,EAAGsF,MAAM,KACjBlW,EAAOkW,EAAM,GACb4Z,EAAU9c,SAASkD,EAAM,GAAI,IAI1B+1C,OAFK+V,EAAeuD,EAAchzC,EAASvyB,EAAM8vB,GAE3C/iB,eAGhBiC,KAAK,WACGL,OAAAA,QAAQinB,IAAI,CAAC6vC,EAAiB14D,UAAWy4D,EAAWz4D,cAOxD,SAAS2mB,EAAanB,GACpBmC,OAAAA,EAAahB,QAAAA,aAAanB,GAE5B,SAASoI,EAAa9qB,GACpBA,OAAAA,aAAeyxD,EAEjB,SAASqE,IACPtE,OAAAA,EAEM,IAAA,EAAA,CACb38D,OAAQA,EACRw+D,eAAgBA,EAChBxvC,aAAcA,EACdiH,aAAcA,EACd2mC,eAAgBA,EAChBqE,QAASA,GANI,QAAA,QAAA;;AC7oBd,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EA5DD,IAAA,EAAA,QAAA,eACA,EAAA,EAAA,QAAA,cACA,EAAA,QAAA,iBACA,EAAA,QAAA,cACA,EAAA,QAAA,mBACA,EAAA,QAAA,iBACA,EAAA,QAAA,cACA,EAAA,EAAA,QAAA,mBACA,EAAA,QAAA,WAoDC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA/CD,IAAIC,EAAa,CACftmC,SAAUA,EAASzgC,SAAAA,UACnB0jC,QAASA,EAAQA,QAAAA,QAAQ1jC,UACzBgnE,WAAYC,EAHG,cAIfC,QAASx/B,EAAY1nC,YAAAA,UACrBmnE,aAAc9T,EAAiBrzD,iBAAAA,UAC/BonE,WAAY3E,EAAeziE,eAAAA,WAEzBqnE,EAAgB,IAAI5nE,IACT,SAAS6nE,EAAUntB,GAE5BktB,IAAAA,EAAchnE,IAAI85C,GAAlBktB,CAEA,GAFuCA,EAAchoE,IAAI86C,IAExDA,EAAO1kB,KAIV,MAFsB,iBAAX0kB,GAAuBA,EAAM,UAAaA,EAASA,EAAM,cAC5DA,EAAAA,QAAAA,OAAOA,GAIbotB,IAAAA,EAAWptB,EAEXotB,EAASC,YACX7nE,OAAO+hC,QAAQyY,EAAOqtB,YAAYhnE,QAAQ,SAAUohC,GAC9CzgC,IAAAA,EAAOygC,EAAK,GAETryB,OAAAA,EADGqyB,EAAK,IACJmlC,EAAW5lE,MAKtBomE,EAAS1xC,cACXl2B,OAAO+hC,QAAQyY,EAAOtkB,cAAcr1B,QAAQ,SAAUqhC,GAChD1gC,IAAAA,EAAO0gC,EAAM,GACbtyB,EAAMsyB,EAAM,GACThM,OAAAA,EAAa10B,QAAAA,GAAQoO,IAK5Bg4D,EAAS7T,OACX/zD,OAAO+hC,QAAQyY,EAAOuZ,OAAOlzD,QAAQ,SAAUiiC,GACzCthC,IAAAA,EAAOshC,EAAM,GACblzB,EAAMkzB,EAAM,GACT1M,OAAAA,EAAM50B,MAAAA,GAAM8E,KAAKsJ;;ACxCf,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,OAAA,eAAA,QAAA,sBAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,uBAAA,OAAA,eAAA,QAAA,UAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,WAAA,OAAA,eAAA,QAAA,SAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,UAAA,OAAA,eAAA,QAAA,iBAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,kBAAA,OAAA,eAAA,QAAA,eAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,gBAAA,OAAA,eAAA,QAAA,eAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,gBAAA,OAAA,eAAA,QAAA,UAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,WAAA,OAAA,eAAA,QAAA,mBAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,UAAA,OAAA,eAAA,QAAA,iBAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,gBAAA,OAAA,eAAA,QAAA,eAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,gBAAA,OAAA,eAAA,QAAA,YAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,gBAAA,OAAA,eAAA,QAAA,aAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,gBAAA,OAAA,eAAA,QAAA,iBAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,kBAAA,OAAA,eAAA,QAAA,WAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,YAAA,OAAA,eAAA,QAAA,gBAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,iBAAA,QAAA,QAAA,QAAA,YAAA,EAlBf,IAAA,EAAA,QAAA,2BAEA,EAAA,EAAA,QAAA,aACA,EAAA,QAAA,cAGA,EAAA,QAAA,iBAGA,EAAA,QAAA,mBAEA,EAAA,QAAA,iBAEA,EAAA,QAAA,cAEA,EAAA,QAAA,eAEA,EAAA,QAAA,qBACe,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAbR,IAAI4qC,EAASmtB,EAAb,QAaQ,QAAA,OAAA,EAAA,IAAA,EAAA,CACbzhE,OAAQA,EADK,OAEbw+D,eAAgBA,EAFH,eAGbxvC,aAAcA,EAHD,aAIbslB,OAAQA,EACR2sB,QAASA,EALI,QAMbW,aAAcA,EAND,aAObC,eAAgBA,EAPH,aAQbC,aAAcA,EARD,aASbC,UAAWA,EATE,aAUbC,WAAYA,EAVC,aAWbp2B,QAASA,EAXI,QAYbltB,oBAAqBA,EAAAA,qBAZR,QAAA,QAAA;;AC6UA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,oBAAA,EAAA,QAAA,mBAAA,EAAA,QAAA,YAAA,EAAA,QAAA,QAAA,QAAA,MAAA,QAAA,UAAA,EA/Vf,IAAA,EAAA,EAAA,QAAA,gBACA,EAAA,EAAA,QAAA,mBACA,EAAA,QAAA,eACA,EAAA,QAAA,gBAEA,EAAA,QAAA,oBA0Ve,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAAA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAjVR,SAASujD,EAAoBlqD,GAC9BA,GAAc,KAAdA,GACc,QAAdA,EAAAA,CAEA,GAAA,CAAC,aAAc,YAAYof,SAASpf,GAChC,MAAA,EAAW,EAAA,YAAA,OAAQ,CACvBA,UAAWA,IAIXmqD,IAAAA,EAAW,6CACX16C,EAAQ,IAAInL,OAAO6lD,GAEnB,IAACnqD,EAAU/G,MAAMwW,GACb,MAAA,EAAW,EAAA,YAAA,MAAO,CACtBA,MAAO06C,EACPnqD,UAAWA,KAQV,SAASoqD,EAAmBnlC,GAgG1B,OAdEC,SAAAA,EAASC,EAAYxf,GACF,iBAAfwf,GACXpjC,OAAOe,KAAKqiC,GAAYviC,QAAQ,SAAUyiC,GACnCF,EAAWn5B,YApFXq+D,SAAWrqD,EAAWyf,EAAWha,GAGpCga,GAFqB,iBAAdzf,GAA+C,iBAAdyf,GAA2Br+B,MAAMC,QAAQo+B,IAAYyqC,EAAoBlqD,GAEjHyf,EAAU/tB,eAAe,SAA8B,UAAnB+tB,EAAU/3B,KAC1C,MAAA,EAAW,EAAA,YAAA,MAAO,CACtBsY,UAAWA,IASXyf,GAAAA,EAAU/tB,eAAe,aAA6C,kBAAvB+tB,EAAU0D,SACrD,MAAA,EAAW,EAAA,YAAA,OAAQ,CACvBnjB,UAAWA,IAKXyf,GAAAA,EAAU/tB,eAAe,OACnB+tB,OAAAA,EAAU/3B,MACX,IAAA,SACH,MAEG,IAAA,QACC,IAAC+3B,EAAU6qC,QAAU7qC,EAAU6qC,MAAM5iE,MAAiC,WAAzB+3B,EAAU6qC,MAAM5iE,KACzD,MAAA,EAAW,EAAA,YAAA,MAAO,CACtBsY,UAAWA,IAIf,MAEF,QACQ,MAAA,EAAW,EAAA,YAAA,MAAO,CACtBA,UAAWA,IAMfyf,GAAAA,EAAU/tB,eAAe,QAAU+tB,EAAUxB,QACzC,MAAA,EAAW,EAAA,YAAA,MAAO,CACtBje,UAAWA,IAIXuqD,IAAAA,EAAW9kD,EAAKhM,MAAM,KAAKjY,QAAU,EAErC+oE,GAAAA,EAAU,CACR9qC,GAAAA,EAAUxB,QACN,MAAA,EAAW,EAAA,YAAA,MAAO,CACtBxY,KAAMA,EACNwY,QAASwB,EAAUxB,UAInBwB,GAAAA,EAAS,QACL,MAAA,EAAW,EAAA,YAAA,MAAO,CACtBha,KAAMA,IAMR,IAAC8kD,GAEyB,MAAxBvqD,EAAUyU,OAAO,GAAY,CAC3BzU,GAAc,QAAdA,GAAuByf,EAAUxB,QACnC,OAGI,MAAA,EAAW,EAAA,YAAA,MAAO,CACtBje,UAAWA,KAUbqqD,CAAWhlC,EAAeF,EAAWE,GAAgB1f,GAGnD2f,IAAAA,EAAW3f,EACO,eAAlB0f,IAAgCC,EAAWA,EAAW,IAAMD,GAChEH,EAASC,EAAWE,GAAgBC,KAIxCJ,CAASD,EAAY,KACd,EAOF,SAASulC,EAAY1nC,GAEtBA,GAAAA,EAAO92B,WAAWiP,KACd,MAAA,EAAW,EAAA,YAAA,OAAQ,CACvB6L,OAAQgc,IAKR,IAACA,EAAOpxB,eAAe,YAAwC,iBAAnBoxB,EAAOzP,SAAwByP,EAAOzP,QAAU,EACxF,MAAA,EAAW,EAAA,YAAA,OAAQ,CACvBA,QAASyP,EAAOzP,UAKhBtM,IAAAA,EA8CA+b,GA/CJsnC,EAAmBtnC,GAEnB/gC,OAAOe,KAAKggC,EAAO92B,YAAYpJ,QAAQ,SAAU/B,GAC3C2B,IAAAA,EAAQsgC,EAAO92B,WAAWnL,GAE1B2B,GAAAA,EAAMy7B,QAAS,CACblX,GAAAA,EACI,MAAA,EAAW,EAAA,YAAA,OAAQ,CACvBvkB,MAAOA,IAMPA,GAFJukB,EAAclmB,EAEV2B,EAAMuH,MACF,MAAA,EAAW,EAAA,YAAA,OAAQ,CACvBvH,MAAOA,IAIPA,GAAAA,EAAMioE,OACF,MAAA,EAAW,EAAA,YAAA,OAAQ,CACvBjoE,MAAOA,IAIPA,GAAAA,EAAM4iC,UACF,MAAA,EAAW,EAAA,YAAA,OAAQ,CACvB5iC,MAAOA,IAIPA,GAAe,WAAfA,EAAMkF,KACF,MAAA,EAAW,EAAA,YAAA,OAAQ,CACvBlF,MAAOA,IAMT4mE,GAAAA,EAAWp9D,QAAAA,aAAaozB,SAASv+B,GAC7B,MAAA,EAAW,EAAA,YAAA,OAAQ,CACvBA,IAAKA,MAKPiiC,EAAOC,gBAAiB,CACtB,IAAC3hC,MAAMC,QAAQyhC,EAAOC,iBAClB,MAAA,EAAW,EAAA,YAAA,OAAQ,CACvBA,gBAAiBD,EAAOC,kBAI5BD,EAAOC,gBAAgBngC,QAAQ,SAAUm5B,GACnC,IAAC36B,MAAMC,QAAQ06B,GACX,MAAA,EAAW,EAAA,YAAA,OAAQ,CACvBgH,gBAAiBD,EAAOC,kBAI5BhH,EAAGn5B,QAAQ,SAAU8I,GACf,GAAe,iBAARA,EACH,MAAA,EAAW,EAAA,YAAA,OAAQ,CACvBq3B,gBAAiBD,EAAOC,uBAQvBD,EAAAA,EAAAA,YAAAA,GAAQ1d,OAAO,SAAU5I,EAAGC,GAC9BD,OAAAA,EAAE7V,OAAO8V,IACf,IAAIhH,OAAO,SAAU4tB,EAAMC,EAAK55B,GAC1BA,OAAAA,EAAI0Q,QAAQipB,KAAUC,IAE9B/tB,IAAI,SAAU1U,GACT4kB,IAAAA,EAAO,cAAgB5kB,EAAIyZ,QAAQ,MAAO,gBAC1CmlB,EAAY1a,EAAW1iB,QAAAA,IAAIygC,EAAQrd,GAEnC,IAACga,GAAkC,iBAAdA,EACjB,MAAA,EAAW,EAAA,YAAA,OAAQ,CACvB5+B,IAAKA,IAIF,MAAA,CACLA,IAAKA,EACL4+B,UAAWA,KAEZhqB,OAAO,SAAU1L,GACXA,MAAyB,WAAzBA,EAAM01B,UAAU/3B,MAA8C,YAAzBqC,EAAM01B,UAAU/3B,MAA+C,WAAzBqC,EAAM01B,UAAU/3B,OACjG9E,QAAQ,SAAUmH,GACb,MAAA,EAAW,EAAA,YAAA,OAAQ,CACvBlJ,IAAKkJ,EAAMlJ,IACX6G,KAAMqC,EAAM01B,UAAU/3B,SAS5B,IAAIgjE,EAAkB,SAAyBhV,GACxCA,GAIL3zD,OAAO+hC,QAAQ4xB,GAAS9yD,QAAQ,SAAUohC,GACpC5mB,IAAAA,EAAI4mB,EAAK,GACTlc,EAAIkc,EAAK,GAET,GAAa,iBAAN5mB,EACH,MAAA,EAAe,EAAA,gBAAA,QAAS,CAC5B7Z,KAAM6Z,IAINA,GAAAA,EAAEwgB,WAAW,KACT,MAAA,EAAe,EAAA,gBAAA,QAAS,CAC5Br6B,KAAM6Z,IAIN,GAAa,mBAAN0K,EACH,MAAA,EAAe,EAAA,gBAAA,QAAS,CAC5BvkB,KAAM6Z,EACN1V,YAAa0V,IAIb,IAAA,EAAyBgiB,EAAAA,cAAAA,SAAShiB,KAAM,EAAuBgiB,EAAAA,cAAAA,SAAShiB,GACpE,MAAA,EAAW,EAAA,YAAA,QAAS,CACxB7Z,KAAM6Z,OAWd,SAASutD,EAAyB7jD,EAAQ2pC,GAEpC,GAA+B,iBAAxBA,GAAoCrvD,MAAMC,QAAQovD,GACrD,MAAA,EAAe,EAAA,gBAAA,QAAS,CAC5B3pC,OAAQA,IAIR8jD,IAAAA,GAAmB,EAAoB9jD,EAAAA,qBAAAA,GAEvC8jD,GAAAA,EAAiBppE,SAAWO,OAAOe,KAAK2tD,GAAqBjvD,OACzD,MAAA,EAAW,EAAA,YAAA,QAAS,CACxBqpE,KAAM9oE,OAAOe,KAAK2tD,GAClBqa,OAAQF,IAmBL,OAdPA,EAAiBr1D,IAAI,SAAUw1D,GACtB,MAAA,CACLjjD,EAAGijD,EACHvxD,EAAGi3C,EAAoBsa,EAAM,MAE9Bt1D,OAAO,SAAUu1D,GACX,MAAmB,mBAAZA,EAAMxxD,IACnB5W,QAAQ,SAAUooE,GACb,MAAA,EAAe,EAAA,gBAAA,QAAS,CAC5B33C,QAAS23C,EAAMljD,EACfpgB,YAAasjE,EACblkD,OAAQA,OAGL,EAGF,IAAI+Q,GAAO,EAcH,QAAA,KAAA,EAbR,IAAIi+B,EAAQ,CACjBv9B,kBAAmBiyC,EACnBlyC,mBAAoB,SAA4BpyB,GAE9CwkE,EAAgBxkE,EAAKwvD,SACrBgV,EAAgBxkE,EAAKyjC,SACrB+gC,EAAgBxkE,EAAKsS,aAEjBtS,EAAK4gB,QAAU5gB,EAAKuqD,qBACtBka,EAAyBzkE,EAAK4gB,OAAQ5gB,EAAKuqD,uBAIlC,QAAA,MAAA,EAAA,IAAA,EAAA,CACb54B,KAAMA,EACNi+B,MAAOA,GAFM,QAAA,QAAA;;AC1MA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,QAAA,aAAA,QAAA,WAAA,QAAA,UAAA,EApJf,IAAImV,EAAQ,CAEVC,IAAK,mCACLC,IAAK,4JACLC,IAAK,0EACLC,IAAK,sCAELC,GAAI,sCAEJC,IAAK,4CACLC,IAAK,4BACLC,IAAK,2BACLC,IAAK,gEACLC,IAAK,yEACLC,IAAK,kDACLC,IAAK,0BACLC,IAAK,2BAELC,IAAK,kCACLC,IAAK,mBACLC,IAAK,8DACLC,IAAK,+DACLC,IAAK,qEACLC,IAAK,4HACLC,IAAK,qBACLC,IAAK,sDAELC,IAAK,kFACLC,IAAK,2EACLC,IAAK,gGACLC,IAAK,6CACLC,IAAK,uDACLC,IAAK,mLACLC,IAAK,kEACLC,IAAK,0LACLC,IAAK,oGACLC,KAAM,2IAENC,KAAM,6DACNC,KAAM,2EACNC,KAAM,sDACNC,KAAM,4DACNC,KAAM,sEACNC,KAAM,uDACNC,KAAM,0BACNC,KAAM,uBACNC,KAAM,6CACNC,MAAO,iDACPC,MAAO,wCACPC,MAAO,6CACPC,MAAO,uCACPC,MAAO,2CACPC,MAAO,qDACPC,MAAO,wCACPC,MAAO,6CACPC,MAAO,mEACPC,MAAO,mCAEPC,KAAM,2FACNC,KAAM,8BACNC,KAAM,kCACNC,KAAM,qDACNC,KAAM,4DACNC,KAAM,gEACNC,KAAM,uDACNC,KAAM,mDACNC,KAAM,kCACNC,MAAO,oEACPC,MAAO,gDACPC,MAAO,2BACPC,MAAO,mDACPC,MAAO,sCACPC,MAAO,2BACPC,MAAO,mFACPC,MAAO,sFAEPC,IAAK,sCACLC,IAAK,0EACLC,IAAK,4BAELC,IAAK,wDAELC,IAAK,wBACLC,IAAK,wDAELC,IAAK,mEACLC,IAAK,4EACLC,IAAK,sEAGLC,IAAK,qEACLC,IAAK,6CACLC,IAAK,2FACLC,IAAK,8BACLC,IAAK,yCACLC,IAAK,4DACLC,IAAK,gCAELC,IAAK,6BACLC,IAAK,+DACLC,IAAK,8FAELC,IAAK,oCACLC,IAAK,qDACLC,IAAK,sEACLC,IAAK,2EACLC,IAAK,gEACLC,IAAK,wDACLC,IAAK,+DACLC,IAAK,iEACLC,KAAM,qEACNC,KAAM,oDACNC,KAAM,gDACNC,KAAM,mEACNC,KAAM,oEACNC,KAAM,2CACNC,KAAM,8CACNC,KAAM,kDACNC,KAAM,gDACNC,KAAM,mDACNC,KAAM,2DACNC,KAAM,oDACNC,KAAM,iDACNC,KAAM,wCACNC,KAAM,oJAENC,IAAK,mEACLC,IAAK,+BAELC,IAAK,8FACLC,IAAK,6GAELC,GAAI,kEAEJC,IAAK,QAEIv6C,GAAO,EAYH,QAAA,KAAA,EAXR,IAAI+xC,EAAa,GAWT,QAAA,WAAA,EAVR,IAAI3xC,EAAe,CACxBd,mBAAoB,SAA4BQ,GAC1C,IAACszC,EAAMtzC,GAEH,MADNrxB,QAAQnD,MAAM,+BAAiCw0B,GACzC,IAAIt0B,MAAM,cAAgBs0B,EAAO,sCAGlCszC,OAAAA,EAAMtzC,KAGF,QAAA,aAAA,EAAA,IAAA,EAAA,CACbE,KAAMA,EACN+xC,WAAYA,EACZ3xC,aAAcA,GAHD,QAAA,QAAA;;ACzJf,aACA,SAAA,EAAA,GACA,MAAA,8qVAAA,KAAA,GAEA,OAAA,QAAA;;ACJA,IAAA,EAAA,QAAA,eAEA,EAAA,SAAA,EAAA,GACA,OAAA,EAAA,GAAA,EAAA,IAAA,EAAA,EAAA,IAAA,KAAA,UAAA,GAAA,KAGA,EAAA,MAAA,EACA,EAAA,SAAA,SAAA,GACA,OAAA,EAAA,GAAA,EAAA,KAAA,UAAA,IAGA,OAAA,QAAA;;ACXA,OAAA,QAAA,SAAA,GACA,OAAA,GAAA,iBAAA,GACA,mBAAA,EAAA,MACA,mBAAA,EAAA,MACA,mBAAA,EAAA;;;AE0rBA,IAAA,EAAA,QAAA,WAzqBIo6C,EAA4BtwE,OAAOswE,2BACrC,SAAmCj/D,GAG5B,IAFDtQ,IAAAA,EAAOf,OAAOe,KAAKsQ,GACnBk/D,EAAc,GACThxE,EAAI,EAAGA,EAAIwB,EAAKtB,OAAQF,IAC/BgxE,EAAYxvE,EAAKxB,IAAMS,OAAOC,yBAAyBoR,EAAKtQ,EAAKxB,IAE5DgxE,OAAAA,GAGPC,EAAe,WACnBrrE,QAAQsrE,OAAS,SAAS15D,GACpB,IAACkU,EAASlU,GAAI,CAEX,IADD25D,IAAAA,EAAU,GACLnxE,EAAI,EAAGA,EAAIsH,UAAUpH,OAAQF,IACpCmxE,EAAQpqE,KAAKqqE,EAAQ9pE,UAAUtH,KAE1BmxE,OAAAA,EAAQ74D,KAAK,KAGlBtY,EAAI,EAmBH,IAnBDA,IACA4E,EAAO0C,UACPrH,EAAM2E,EAAK1E,OACXkK,EAAMlD,OAAOsQ,GAAGwB,QAAQi4D,EAAc,SAAS9+D,GAC7CA,GAAM,OAANA,EAAY,MAAO,IACnBnS,GAAAA,GAAKC,EAAK,OAAOkS,EACbA,OAAAA,GACD,IAAA,KAAajL,OAAAA,OAAOtC,EAAK5E,MACzB,IAAA,KAAauF,OAAAA,OAAOX,EAAK5E,MACzB,IAAA,KACC,IACKoC,OAAAA,KAAKC,UAAUuC,EAAK5E,MAC3B,MAAOgtB,GACA,MAAA,aAEX,QACS7a,OAAAA,KAGJA,EAAIvN,EAAK5E,GAAIA,EAAIC,EAAKkS,EAAIvN,IAAO5E,GACpCqxE,EAAOl/D,KAAO0S,EAAS1S,GACzB/H,GAAO,IAAM+H,EAEb/H,GAAO,IAAMgnE,EAAQj/D,GAGlB/H,OAAAA,GAOTxE,QAAQ0rE,UAAY,SAASxkD,EAAIpW,GAC3B,QAAmB,IAAZia,IAAqD,IAA1BA,EAAQ4gD,cACrCzkD,OAAAA,EAIL,QAAmB,IAAZ6D,EACF,OAAA,WACE/qB,OAAAA,QAAQ0rE,UAAUxkD,EAAIpW,GAAKjS,MAAM,KAAM6C,YAI9CN,IAAAA,GAAS,EAeNwqE,OAdEA,WACH,IAACxqE,EAAQ,CACP2pB,GAAAA,EAAQ8gD,iBACJ,MAAA,IAAI1vE,MAAM2U,GACPia,EAAQ+gD,iBACjB1sE,QAAQ2sE,MAAMj7D,GAEd1R,QAAQnD,MAAM6U,GAEhB1P,GAAS,EAEJ8lB,OAAAA,EAAGroB,MAAM,KAAM6C,aAO1B,IACIsqE,EADAC,EAAS,GA6Bb,SAAST,EAAQt/D,EAAKU,GAEhB86B,IAAAA,EAAM,CACRwkC,KAAM,GACNC,QAASC,GAkBJC,OAfH3qE,UAAUpH,QAAU,IAAGotC,EAAIve,MAAQznB,UAAU,IAC7CA,UAAUpH,QAAU,IAAGotC,EAAI4kC,OAAS5qE,UAAU,IAC9Csd,EAAUpS,GAEZ86B,EAAI6kC,WAAa3/D,EACRA,GAET5M,QAAQwsE,QAAQ9kC,EAAK96B,GAGnB6/D,EAAY/kC,EAAI6kC,cAAa7kC,EAAI6kC,YAAa,GAC9CE,EAAY/kC,EAAIve,SAAQue,EAAIve,MAAQ,GACpCsjD,EAAY/kC,EAAI4kC,UAAS5kC,EAAI4kC,QAAS,GACtCG,EAAY/kC,EAAIglC,iBAAgBhlC,EAAIglC,eAAgB,GACpDhlC,EAAI4kC,SAAQ5kC,EAAIykC,QAAUQ,GACvBN,EAAY3kC,EAAKx7B,EAAKw7B,EAAIve,OAoCnC,SAASwjD,EAAiBnoE,EAAKooE,GACzBv/B,IAAAA,EAAQm+B,EAAQqB,OAAOD,GAEvBv/B,OAAAA,EACK,KAAYm+B,EAAQc,OAAOj/B,GAAO,GAAK,IAAM7oC,EAC7C,KAAYgnE,EAAQc,OAAOj/B,GAAO,GAAK,IAEvC7oC,EAKX,SAAS4nE,EAAe5nE,EAAKooE,GACpBpoE,OAAAA,EAIT,SAASsoE,EAAY7yE,GACfqP,IAAAA,EAAO,GAMJA,OAJPrP,EAAMyB,QAAQ,SAASya,EAAK4B,GAC1BzO,EAAK6M,IAAO,IAGP7M,EAIT,SAAS+iE,EAAY3kC,EAAKpsC,EAAOyxE,GAG3BrlC,GAAAA,EAAIglC,eACJpxE,GACAsqB,EAAWtqB,EAAMkwE,UAEjBlwE,EAAMkwE,UAAYxrE,QAAQwrE,WAExBlwE,EAAM6O,aAAe7O,EAAM6O,YAAYjP,YAAcI,GAAQ,CAC7DyH,IAAAA,EAAMzH,EAAMkwE,QAAQuB,EAAcrlC,GAI/B3kC,OAHF+iB,EAAS/iB,KACZA,EAAMspE,EAAY3kC,EAAK3kC,EAAKgqE,IAEvBhqE,EAILiqE,IAAAA,EAAYC,EAAgBvlC,EAAKpsC,GACjC0xE,GAAAA,EACKA,OAAAA,EAILpxE,IAAAA,EAAOf,OAAOe,KAAKN,GACnB4xE,EAAcJ,EAAYlxE,GAQ1BuxE,GANAzlC,EAAI6kC,aACN3wE,EAAOf,OAAO2E,oBAAoBlE,IAKhC6xE,EAAQ7xE,KACJM,EAAKsX,QAAQ,YAAc,GAAKtX,EAAKsX,QAAQ,gBAAkB,GAC9Dk6D,OAAAA,EAAY9xE,GAIjBM,GAAgB,IAAhBA,EAAKtB,OAAc,CACjBsrB,GAAAA,EAAWtqB,GAAQ,CACjBe,IAAAA,EAAOf,EAAMe,KAAO,KAAOf,EAAMe,KAAO,GACrCqrC,OAAAA,EAAIykC,QAAQ,YAAc9vE,EAAO,IAAK,WAE3CgxE,GAAAA,EAAS/xE,GACJosC,OAAAA,EAAIykC,QAAQ/uD,OAAOliB,UAAUqB,SAASH,KAAKd,GAAQ,UAExDgyE,GAAAA,EAAOhyE,GACFosC,OAAAA,EAAIykC,QAAQ7hE,KAAKpP,UAAUqB,SAASH,KAAKd,GAAQ,QAEtD6xE,GAAAA,EAAQ7xE,GACH8xE,OAAAA,EAAY9xE,GAInBiyE,IA2CAh1B,EA3CAg1B,EAAO,GAAItzE,GAAQ,EAAOuzE,EAAS,CAAC,IAAK,MAGzCrzE,EAAQmB,KACVrB,GAAQ,EACRuzE,EAAS,CAAC,IAAK,MAIb5nD,EAAWtqB,MAEbiyE,EAAO,cADCjyE,EAAMe,KAAO,KAAOf,EAAMe,KAAO,IACf,KAkBxBT,OAdAyxE,EAAS/xE,KACXiyE,EAAO,IAAMnwD,OAAOliB,UAAUqB,SAASH,KAAKd,IAI1CgyE,EAAOhyE,KACTiyE,EAAO,IAAMjjE,KAAKpP,UAAUuyE,YAAYrxE,KAAKd,IAI3C6xE,EAAQ7xE,KACViyE,EAAO,IAAMH,EAAY9xE,IAGP,IAAhBM,EAAKtB,QAAkBL,GAAyB,GAAhBqB,EAAMhB,OAItCyyE,EAAe,EACbM,EAAS/xE,GACJosC,EAAIykC,QAAQ/uD,OAAOliB,UAAUqB,SAASH,KAAKd,GAAQ,UAEnDosC,EAAIykC,QAAQ,WAAY,YAInCzkC,EAAIwkC,KAAK/qE,KAAK7F,GAIZi9C,EADEt+C,EACOyzE,EAAYhmC,EAAKpsC,EAAOyxE,EAAcG,EAAatxE,GAEnDA,EAAKyS,IAAI,SAAS1U,GAClBg0E,OAAAA,EAAejmC,EAAKpsC,EAAOyxE,EAAcG,EAAavzE,EAAKM,KAItEytC,EAAIwkC,KAAKppE,MAEF8qE,EAAqBr1B,EAAQg1B,EAAMC,IAxBjCA,EAAO,GAAKD,EAAOC,EAAO,GA4BrC,SAASP,EAAgBvlC,EAAKpsC,GACxBmxE,GAAAA,EAAYnxE,GACd,OAAOosC,EAAIykC,QAAQ,YAAa,aAC9BrmD,GAAAA,EAASxqB,GAAQ,CACfuyE,IAAAA,EAAS,IAAOrxE,KAAKC,UAAUnB,GAAO8X,QAAQ,SAAU,IAClBA,QAAQ,KAAM,OACdA,QAAQ,OAAQ,KAAO,IAC1Ds0B,OAAAA,EAAIykC,QAAQ0B,EAAQ,UAEzBC,OAAAA,EAASxyE,GACJosC,EAAIykC,QAAQ,GAAK7wE,EAAO,UAC7B0jB,EAAU1jB,GACLosC,EAAIykC,QAAQ,GAAK7wE,EAAO,WAE7BmwE,EAAOnwE,GACFosC,EAAIykC,QAAQ,OAAQ,aADzBV,EAKN,SAAS2B,EAAY9xE,GACZ,MAAA,IAAMa,MAAMjB,UAAUqB,SAASH,KAAKd,GAAS,IAItD,SAASoyE,EAAYhmC,EAAKpsC,EAAOyxE,EAAcG,EAAatxE,GAErD,IADD28C,IAAAA,EAAS,GACJn+C,EAAI,EAAGixC,EAAI/vC,EAAMhB,OAAQF,EAAIixC,IAAKjxC,EACrCoQ,EAAelP,EAAOgG,OAAOlH,IAC/Bm+C,EAAOp3C,KAAKwsE,EAAejmC,EAAKpsC,EAAOyxE,EAAcG,EACjD5rE,OAAOlH,IAAI,IAEfm+C,EAAOp3C,KAAK,IASTo3C,OANP38C,EAAKF,QAAQ,SAAS/B,GACfA,EAAIoY,MAAM,UACbwmC,EAAOp3C,KAAKwsE,EAAejmC,EAAKpsC,EAAOyxE,EAAcG,EACjDvzE,GAAK,MAGN4+C,EAIT,SAASo1B,EAAejmC,EAAKpsC,EAAOyxE,EAAcG,EAAavzE,EAAKM,GAC9DoC,IAAAA,EAAMmI,EAAKsuB,EAsCX25C,IArCJ35C,EAAOj4B,OAAOC,yBAAyBQ,EAAO3B,IAAQ,CAAE2B,MAAOA,EAAM3B,KAC5DwB,IAELqJ,EADEsuB,EAAKz3B,IACDqsC,EAAIykC,QAAQ,kBAAmB,WAE/BzkC,EAAIykC,QAAQ,WAAY,WAG5Br5C,EAAKz3B,MACPmJ,EAAMkjC,EAAIykC,QAAQ,WAAY,YAG7B3hE,EAAe0iE,EAAavzE,KAC/B0C,EAAO,IAAM1C,EAAM,KAEhB6K,IACCkjC,EAAIwkC,KAAKh5D,QAAQ4f,EAAKx3B,OAAS,GAE/BkJ,EADEinE,EAAOsB,GACHV,EAAY3kC,EAAK5U,EAAKx3B,MAAO,MAE7B+wE,EAAY3kC,EAAK5U,EAAKx3B,MAAOyxE,EAAe,IAE5C75D,QAAQ,OAAS,IAErB1O,EADEvK,EACIuK,EAAI+N,MAAM,MAAMlE,IAAI,SAAS0/D,GAC1B,MAAA,KAAOA,IACbr7D,KAAK,MAAM+a,OAAO,GAEf,KAAOjpB,EAAI+N,MAAM,MAAMlE,IAAI,SAAS0/D,GACjC,MAAA,MAAQA,IACdr7D,KAAK,OAIZlO,EAAMkjC,EAAIykC,QAAQ,aAAc,YAGhCM,EAAYpwE,GAAO,CACjBpC,GAAAA,GAASN,EAAIoY,MAAM,SACdvN,OAAAA,GAETnI,EAAOG,KAAKC,UAAU,GAAK9C,IAClBoY,MAAM,iCACb1V,EAAOA,EAAKoxB,OAAO,EAAGpxB,EAAK/B,OAAS,GACpC+B,EAAOqrC,EAAIykC,QAAQ9vE,EAAM,UAEzBA,EAAOA,EAAK+W,QAAQ,KAAM,OACdA,QAAQ,OAAQ,KAChBA,QAAQ,WAAY,KAChC/W,EAAOqrC,EAAIykC,QAAQ9vE,EAAM,WAItBA,OAAAA,EAAO,KAAOmI,EAIvB,SAASopE,EAAqBr1B,EAAQg1B,EAAMC,GAQtClzE,OANSi+C,EAAOr6B,OAAO,SAASssC,EAAMD,GAGjCC,OAFPwjB,EACIzjB,EAAIr3C,QAAQ,OAAS,GAAG86D,EACrBxjB,EAAOD,EAAIn3C,QAAQ,kBAAmB,IAAI9Y,OAAS,GACzD,GAEU,GACJkzE,EAAO,IACG,KAATD,EAAc,GAAKA,EAAO,OAC3B,IACAh1B,EAAO7lC,KAAK,SACZ,IACA86D,EAAO,GAGTA,EAAO,GAAKD,EAAO,IAAMh1B,EAAO7lC,KAAK,MAAQ,IAAM86D,EAAO,GAMnE,SAASrzE,EAAQ06B,GACR36B,OAAAA,MAAMC,QAAQ06B,GAIvB,SAAS7V,EAAU/b,GACV,MAAe,kBAARA,EAIhB,SAASwoE,EAAOxoE,GACPA,OAAQ,OAARA,EAIT,SAASgrE,EAAkBhrE,GAClBA,OAAO,MAAPA,EAIT,SAAS6qE,EAAS7qE,GACT,MAAe,iBAARA,EAIhB,SAAS6iB,EAAS7iB,GACT,MAAe,iBAARA,EAIhB,SAASirE,EAASjrE,GACT,MAAe,iBAARA,EAIhB,SAASwpE,EAAYxpE,GACZA,YAAQ,IAARA,EAIT,SAASoqE,EAASlwD,GACT8B,OAAAA,EAAS9B,IAA8B,oBAAvBgxD,EAAehxD,GAIxC,SAAS8B,EAAShc,GACT,MAAe,iBAARA,GAA4B,OAARA,EAIpC,SAASqqE,EAAOt/C,GACP/O,OAAAA,EAAS+O,IAA4B,kBAAtBmgD,EAAengD,GAIvC,SAASm/C,EAAQnoE,GACRia,OAAAA,EAASja,KACW,mBAAtBmpE,EAAenpE,IAA2BA,aAAa7I,OAI9D,SAASypB,EAAW3iB,GACX,MAAe,mBAARA,EAIhB,SAASmrE,EAAYnrE,GACZA,OAAQ,OAARA,GACe,kBAARA,GACQ,iBAARA,GACQ,iBAARA,GACQ,iBAARA,QACQ,IAARA,EAMhB,SAASkrE,EAAepqD,GACflpB,OAAAA,OAAOK,UAAUqB,SAASH,KAAK2nB,GAIxC,SAASnP,EAAInS,GACJA,OAAAA,EAAI,GAAK,IAAMA,EAAElG,SAAS,IAAMkG,EAAElG,SAAS,IApbpDyD,QAAQquE,SAAW,SAAShzE,GAItB,GAHAoxE,EAAYT,KACdA,EAAyC,IAC3C3wE,EAAMA,EAAImyB,eACLy+C,EAAO5wE,GACN,GAAA,IAAI+hB,OAAO,MAAQ/hB,EAAM,MAAO,KAAK4W,KAAK+5D,GAAe,CACvDsC,IAAAA,EAAMvjD,EAAQujD,IAClBrC,EAAO5wE,GAAO,WACRyV,IAAAA,EAAM9Q,QAAQsrE,OAAOzsE,MAAMmB,QAAS0B,WACxCtC,QAAQnD,MAAM,YAAaZ,EAAKizE,EAAKx9D,SAGvCm7D,EAAO5wE,GAAO,aAGX4wE,OAAAA,EAAO5wE,IAoChB2E,QAAQwrE,QAAUA,EAIlBA,EAAQc,OAAS,CACN,KAAA,CAAC,EAAG,IACF,OAAA,CAAC,EAAG,IACD,UAAA,CAAC,EAAG,IACN,QAAA,CAAC,EAAG,IACN,MAAA,CAAC,GAAI,IACN,KAAA,CAAC,GAAI,IACJ,MAAA,CAAC,GAAI,IACN,KAAA,CAAC,GAAI,IACL,KAAA,CAAC,GAAI,IACJ,MAAA,CAAC,GAAI,IACH,QAAA,CAAC,GAAI,IACT,IAAA,CAAC,GAAI,IACF,OAAA,CAAC,GAAI,KAIlBd,EAAQqB,OAAS,CACJ,QAAA,OACD,OAAA,SACC,QAAA,SACE,UAAA,OACL,KAAA,OACE,OAAA,QACF,KAAA,UAEE,OAAA,OAkRZ7sE,QAAQ7F,QAAUA,EAKlB6F,QAAQgf,UAAYA,EAKpBhf,QAAQyrE,OAASA,EAKjBzrE,QAAQiuE,kBAAoBA,EAK5BjuE,QAAQ8tE,SAAWA,EAKnB9tE,QAAQ8lB,SAAWA,EAKnB9lB,QAAQkuE,SAAWA,EAKnBluE,QAAQysE,YAAcA,EAKtBzsE,QAAQqtE,SAAWA,EAKnBrtE,QAAQif,SAAWA,EAKnBjf,QAAQstE,OAASA,EAMjBttE,QAAQmtE,QAAUA,EAKlBntE,QAAQ4lB,WAAaA,EAUrB5lB,QAAQouE,YAAcA,EAEtBpuE,QAAQiqB,SAAWzG,QAAQ,sBAY3B,IAAI+qD,EAAS,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACxD,MAAO,MAAO,OAG5B,SAASC,IACHxgD,IAAAA,EAAI,IAAI1jB,KACRgrD,EAAO,CAAC1gD,EAAIoZ,EAAEygD,YACN75D,EAAIoZ,EAAE0gD,cACN95D,EAAIoZ,EAAE2gD,eAAej8D,KAAK,KAC/B,MAAA,CAACsb,EAAE4gD,UAAWL,EAAOvgD,EAAE6gD,YAAavZ,GAAM5iD,KAAK,KAqCxD,SAASlI,EAAe0B,EAAKtR,GACpBC,OAAAA,OAAOK,UAAUsP,eAAepO,KAAK8P,EAAKtR,GAjCnDoF,QAAQmhB,IAAM,WACZ/hB,QAAQ+hB,IAAI,UAAWqtD,IAAaxuE,QAAQsrE,OAAOzsE,MAAMmB,QAAS0B,aAiBpE1B,QAAQ8uE,SAAWtrD,QAAQ,YAE3BxjB,QAAQwsE,QAAU,SAASuC,EAAQx0E,GAE7B,IAACA,IAAQ0kB,EAAS1kB,GAAM,OAAOw0E,EAI5B30E,IAFHwB,IAAAA,EAAOf,OAAOe,KAAKrB,GACnBH,EAAIwB,EAAKtB,OACNF,KACL20E,EAAOnzE,EAAKxB,IAAMG,EAAIqB,EAAKxB,IAEtB20E,OAAAA,GAOT,IAAIC,EAA6C,oBAAXv0E,OAAyBA,OAAO,8BAA2B4D,EA0DjG,SAAS4wE,EAAsB/yE,EAAQP,GAKjC,IAACO,EAAQ,CACPgzE,IAAAA,EAAY,IAAI/yE,MAAM,2CAC1B+yE,EAAUhzE,OAASA,EACnBA,EAASgzE,EAEJvzE,OAAAA,EAAGO,GAGZ,SAASg6C,EAAYi5B,GACf,GAAoB,mBAAbA,EACH,MAAA,IAAIruE,UAAU,oDAMbsuE,SAAAA,IAEF,IADDpwE,IAAAA,EAAO,GACF5E,EAAI,EAAGA,EAAIsH,UAAUpH,OAAQF,IACpC4E,EAAKmC,KAAKO,UAAUtH,IAGlBi1E,IAAAA,EAAUrwE,EAAK8D,MACf,GAAmB,mBAAZusE,EACH,MAAA,IAAIvuE,UAAU,8CAElB+J,IAAAA,EAAO,KACPlP,EAAK,WACA0zE,OAAAA,EAAQxwE,MAAMgM,EAAMnJ,YAI7BytE,EAAStwE,MAAM,KAAMG,GAClBqM,KAAK,SAAStI,GAAOgoB,EAAQiB,SAASrwB,EAAI,KAAMoH,IAC3C,SAASwoD,GAAOxgC,EAAQiB,SAASijD,EAAuB1jB,EAAK5vD,KAMhEyzE,OAHPv0E,OAAOw3B,eAAe+8C,EAAev0E,OAAOsI,eAAegsE,IAC3Dt0E,OAAO4sB,iBAAiB2nD,EACAjE,EAA0BgE,IAC3CC,EArGTpvE,QAAQsvE,UAAY,SAAmBH,GACjC,GAAoB,mBAAbA,EACT,MAAM,IAAIruE,UAAU,oDAElBkuE,GAAAA,GAA4BG,EAASH,GAA2B,CAC9D9nD,IAAAA,EACA,GAAc,mBADdA,EAAKioD,EAASH,IAEV,MAAA,IAAIluE,UAAU,iEAKfomB,OAHPrsB,OAAOgB,eAAeqrB,EAAI8nD,EAA0B,CAClD1zE,MAAO4rB,EAAIlkB,YAAY,EAAOwkB,UAAU,EAAOD,cAAc,IAExDL,EAGAA,SAAAA,IAQF,IAPDqoD,IAAAA,EAAgBC,EAChBzkE,EAAU,IAAIC,QAAQ,SAAU2e,EAASze,GAC3CqkE,EAAiB5lD,EACjB6lD,EAAgBtkE,IAGdlM,EAAO,GACF5E,EAAI,EAAGA,EAAIsH,UAAUpH,OAAQF,IACpC4E,EAAKmC,KAAKO,UAAUtH,IAEtB4E,EAAKmC,KAAK,SAAU5C,EAAKjD,GACnBiD,EACFixE,EAAcjxE,GAEdgxE,EAAej0E,KAIf,IACF6zE,EAAStwE,MAAM,KAAMG,GACrB,MAAOT,GACPixE,EAAcjxE,GAGTwM,OAAAA,EAQFlQ,OALPA,OAAOw3B,eAAenL,EAAIrsB,OAAOsI,eAAegsE,IAE5CH,GAA0Bn0E,OAAOgB,eAAeqrB,EAAI8nD,EAA0B,CAChF1zE,MAAO4rB,EAAIlkB,YAAY,EAAOwkB,UAAU,EAAOD,cAAc,IAExD1sB,OAAO4sB,iBACZP,EACAikD,EAA0BgE,KAI9BnvE,QAAQsvE,UAAUG,OAAST,EAiD3BhvE,QAAQk2C,YAAcA;;AChoBtB,IA9DA,IAAA,EAAA,QAAA,QACA,EAAA,QAAA,eAEA,EAAA,SACA,EAAA,SAGA,EAAA,CACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,UACA,UACA,UACA,UACA,UACA,WACA,WACA,WACA,YACA,YACA,YACA,aACA,aACA,MACA,aAGA,EAAA,GAEA,EAAA,EAAA,EAAA,EAAA,OAAA,IACA,EAAA,EAAA,KAAA,EAGA,IAAA,EAAA,SAAA,GACA,OAAA,EAAA,KAAA,EAAA,eAAA,IAGA,EAAA,CACA,EAAA,SAAA,GACA,MAAA,GAAA,GAEA,EAAA,SAAA,GACA,MAAA,GAAA,OAAA,IAEA,EAAA,SAAA,GACA,OAAA,KAAA,UAAA,KAIA,EAAA,WACA,IAAA,EAAA,GACA,EAAA,EACA,EAAA,GAEA,EAAA,SAAA,GAEA,IADA,IAAA,EAAA,GACA,EAAA,OAAA,EAAA,GAAA,GAAA,KACA,EAAA,KAAA,EAAA,IAGA,EAAA,SAAA,GACA,OAAA,EAAA,KAAA,EAAA,OAAA,KAAA,EAAA,KAAA,EAAA,EAAA,OAAA,KACA,IACA,EAAA,QACA,KAGA,EAAA,KAAA,EAAA,EAAA,OAAA,KACA,EAAA,QACA,KAGA,EAAA,KAAA,EAAA,OAAA,KACA,SACA,EAAA,SAIA,EAAA,IAGA,EAAA,SAAA,GACA,IAAA,EAAA,OAAA,EAEA,GAAA,IAAA,UAAA,QAAA,EAAA,QAAA,OAAA,EAEA,IADA,IAAA,EAAA,EAAA,OAAA,MAAA,MACA,EAAA,EAAA,EAAA,EAAA,OAAA,IACA,EAAA,EAAA,GAAA,aAGA,EAAA,EAAA,OAAA,MAAA,EAAA,YAGA,OAAA,GAkDA,OA/CA,EAAA,MAAA,GACA,EAAA,QAAA,EAEA,EAAA,IAAA,SAAA,GAGA,OAFA,GAAA,EAAA,KAAA,EAAA,OACA,EAAA,KAAA,EAAA,GAAA,GACA,GAAA,EAAA,MAAA,KAGA,EAAA,SAAA,SAAA,EAAA,GAQA,OAPA,IAAA,UAAA,SACA,EAAA,EACA,EAAA,IAKA,EAFA,GAAA,IAEA,EAAA,EAAA,IAAA,EAAA,EACA,EAAA,EAAA,IAAA,KAAA,UAAA,GAAA,IAAA,KAAA,UAAA,IAGA,EAAA,SAAA,WACA,OAAA,EAAA,KAAA,OAGA,EAAA,WAAA,SAAA,GACA,IAAA,EAAA,IAEA,IAAA,EAAA,WAAA,EAAA,WAAA,IAEA,OAAA,KAAA,EAAA,OAAA,QAAA,SAAA,GACA,EAAA,KAAA,EAAA,GAAA,EAAA,MAAA,MAGA,IAAA,EAAA,OAAA,KAAA,GAAA,IAAA,SAAA,GACA,OAAA,IAGA,EAAA,EAAA,IAAA,SAAA,GACA,OAAA,EAAA,KAGA,OAAA,SAAA,MAAA,KAAA,EAAA,OAAA,IAAA,MAAA,KAAA,IAGA,UAAA,QAAA,EAAA,MAAA,KAAA,WAEA,GAGA,EAAA,QAAA,EACA,OAAA,QAAA;;ACpLA,IAAIw5B,EAAY,IACZC,EAAgB,SACpB,SAASC,EAAgBjvE,GACfA,OAAAA,GACD,IAAA,KAAa,MAAA,IACb,IAAA,KAAa,MAAA,IAEd,MAAA,IAAIxE,MAAM,yBAA2BwE,GAG7C,SAASkvE,EAASrrE,GACZ,OAACkrE,EAAUz9D,KAAKzN,GACbA,EAAI4O,QAAQu8D,EAAeC,GADDprE,EAInC,SAASsrE,EAAQ5jE,EAAKyhD,EAASryD,GAIxB,IAHDy0E,IAAAA,EACAC,EAEK5xE,EAAI,EAAG/D,EAAMszD,EAAQrzD,OAAQ8D,EAAI/D,IACxC01E,EAAOF,EAAQliB,EAAQvvD,MACvB4xE,EAAc31E,EAAM+D,OAEK,IAAd8N,EAAI6jE,KAET71E,MAAMC,QAAQ+R,IAAiB,MAAT6jE,IACxBA,EAAO7jE,EAAI5R,QAIT01E,IACkB,KAAfriB,EAAQvvD,IAAauvD,EAAQvvD,GAAK2X,EAAAA,GAA4B,MAAf43C,EAAQvvD,GAAY8N,EAAI6jE,GAAQ,GAC/E7jE,EAAI6jE,GAAQ,KAIhBC,IACL9jE,EAAMA,EAAI6jE,GAGRE,IAAAA,EAAW/jE,EAAI6jE,GAGZE,YAFO5xE,IAAV/C,SAA4B4Q,EAAI6jE,GAC/B7jE,EAAI6jE,GAAQz0E,EACV20E,EAGT,SAASC,EAAgBviB,GACnB,GAAmB,iBAAZA,EAAsB,CAE3BA,GAAe,MADnBA,EAAUA,EAAQp7C,MAAM,MACZ,GAAW,OAAOo7C,EACxB,MAAA,IAAIxxD,MAAM,yBACX,GAAIjC,MAAMC,QAAQwzD,GAChBA,OAAAA,EAGH,MAAA,IAAIxxD,MAAM,yBAGlB,SAAShB,EAAK+Q,EAAKyhD,GACb,GAAe,iBAARzhD,EAAkB,MAAM,IAAI/P,MAAM,yBAEzC9B,IAAAA,GADJszD,EAAUuiB,EAAeviB,IACPrzD,OACdD,GAAQ,IAARA,EAAW,OAAO6R,EAEjB,IAAA,IAAI9N,EAAI,EAAGA,EAAI/D,GAAM,CAEpBA,GADJ6R,EAAMA,EAAI2jE,EAAQliB,EAAQvvD,OACtB/D,IAAQ+D,EAAG,OAAO8N,EAClB,GAAe,iBAARA,EAAkB,QAIjC,SAAS7Q,EAAK6Q,EAAKyhD,EAASryD,GACtB,GAAe,iBAAR4Q,EAAkB,MAAM,IAAI/P,MAAM,yBAEzCwxD,GAAmB,KADvBA,EAAUuiB,EAAeviB,IACbrzD,OAAc,MAAM,IAAI6B,MAAM,iCACnC2zE,OAAAA,EAAO5jE,EAAKyhD,EAASryD,GAG9B,SAAS60E,EAASxiB,GACZyiB,IAAAA,EAAWF,EAAeviB,GACvB,MAAA,CACLxyD,IAAK,SAAUqO,GACNrO,OAAAA,EAAIqO,EAAQ4mE,IAErB/0E,IAAK,SAAUmO,EAAQlO,GACdD,OAAAA,EAAImO,EAAQ4mE,EAAU90E,KAKnC0E,QAAQ7E,IAAMA,EACd6E,QAAQ3E,IAAMA,EACd2E,QAAQmwE,QAAUA;;AC5FlBpwE,OAAOC,QAAUqwE,EAEjB,IAAI7lE,EAAiB3P,OAAOK,UAAUsP,eAEtC,SAAS6lE,IAGA,IAFDvxE,IAAAA,EAAS,GAEJ1E,EAAI,EAAGA,EAAIsH,UAAUpH,OAAQF,IAAK,CACnCqZ,IAAAA,EAAS/R,UAAUtH,GAElB,IAAA,IAAIT,KAAO8Z,EACRjJ,EAAepO,KAAKqX,EAAQ9Z,KAC5BmF,EAAOnF,GAAO8Z,EAAO9Z,IAK1BmF,OAAAA;;ACjBX,IAAA,EAAA,uCAEA,EAAA,mBACA,EAAA,KACA,EAAA,OACA,EAAA,mBACA,EAAA,0CAEA,SAAA,EAAA,GACA,IAAA,EAAA,KAAA,GAAA,OAAA,EAEA,IAAA,EAAA,EAAA,MAAA,KAEA,GAAA,IAAA,EAAA,OAAA,OAAA,EAEA,GAAA,MAAA,EAAA,GAAA,IAAA,EAAA,GAAA,OAAA,EAAA,OAAA,EACA,GAAA,MAAA,EAAA,GAAA,IAAA,EAAA,GAAA,OAAA,EAAA,OAAA,EACA,GAAA,MAAA,EAAA,GAAA,IAAA,EAAA,GAAA,OAAA,EAAA,OAAA,EACA,GAAA,MAAA,EAAA,GAAA,IAAA,EAAA,GAAA,OAAA,EAAA,OAAA,EAEA,IAAA,EAAA,OAAA,EAAA,IACA,EAAA,OAAA,EAAA,IACA,EAAA,OAAA,EAAA,IACA,EAAA,OAAA,EAAA,IAEA,OAAA,GAAA,GAAA,EAAA,KAAA,GAAA,GAAA,EAAA,KAAA,GAAA,GAAA,EAAA,KAAA,GAAA,GAAA,EAAA,IAGA,SAAA,EAAA,GACA,IAAA,EAAA,EAAA,QAAA,EAAA,IACA,EAAA,EAAA,SAAA,EAAA,OAGA,GAAA,EAAA,OAAA,EAEA,IAAA,GACA,EAAA,KAAA,GAAA,OAAA,EAGA,IAAA,EAAA,EAAA,QAAA,EAAA,IACA,EAAA,EAAA,YAAA,KAEA,IAAA,IAAA,EAAA,OAAA,EAEA,IAEA,EADA,EADA,EAAA,UAAA,EAAA,IAEA,EAAA,UAAA,EAAA,EAAA,GAAA,YAAA,EAEA,GAAA,EAAA,KAAA,GAAA,OAAA,EACA,GAAA,EAAA,KAAA,GAAA,OAAA,EAEA,IAAA,EAAA,EAAA,MAAA,MAEA,GAAA,EAAA,OAAA,EAAA,OAAA,EAEA,GAAA,IAAA,EAAA,OAAA,CACA,IAAA,EAAA,KAAA,EAAA,GAAA,GAAA,EAAA,GAAA,MAAA,KACA,EAAA,KAAA,EAAA,GAAA,GAAA,EAAA,GAAA,MAAA,KAGA,GAFA,GAAA,EAAA,OAAA,EAAA,SAEA,EAAA,OAAA,OAEA,GAAA,IAAA,EAAA,MAAA,KAAA,OAAA,OAAA,EAGA,OAAA,EAGA,SAAA,EAAA,GACA,OAAA,EAAA,IAAA,EAAA,GAGA,OAAA,QAAA,SAAA,GAGA,GAFA,IAAA,EAAA,IAEA,IAAA,EAAA,QAAA,OAAA,EACA,GAAA,IAAA,EAAA,QAAA,OAAA,EACA,GAAA,MAAA,EAAA,QAAA,OAAA,EAEA,MAAA,IAAA,MAAA,oBAAA,EAAA,UAGA,OAAA,QAAA,gBAAA,CACA,EACA,EACA,EACA,EACA,EACA;;ACxFA,IAAA,EAAA,QAAA,kBAEA,EAAA,KACA,EAAA,mBACA,EAAA,2DACA,EAAA,6BACA,EAAA,OACA,EAAA,KAEA,QAAA,aAAA,iGACA,QAAA,KAAA,2CACA,QAAA,KAAA,sBACA,QAAA,MAAA,SAAA,GAAA,OAAA,IAAA,EAAA,QAAA,OAAA,EAAA,KAAA,IACA,QAAA,cAAA,QAAA,KAAA,EAAA,CAAA,QAAA,IACA,QAAA,KAAA,EAAA,CAAA,QAAA,IACA,QAAA,IAAA,mCACA,QAAA,MAAA,0aACA,QAAA,SAAA,SAAA,GACA,IAAA,EAAA,KAAA,GAAA,OAAA,EAIA,IAFA,IAAA,EAAA,EAAA,MAAA,KAEA,EAAA,EAAA,EAAA,EAAA,OAAA,IACA,IAAA,EAAA,KAAA,EAAA,IAAA,OAAA,EAGA,OAAA,GAEA,QAAA,MAAA,cACA,QAAA,aAAA,iBACA,QAAA,MAAA,yBACA,QAAA,MAAA,SAAA,GACA,IAAA,EAAA,KAAA,GAAA,OAAA,EACA,GAAA,EAAA,KAAA,GAAA,OAAA,EAEA,IAAA,EAAA,EAAA,UAAA,GAAA,QAAA,EAAA,IAAA,OAEA,OAAA,GAAA,GAAA,GAAA,IAEA,QAAA,gBAAA;;ACvCA,IAAA,EAAA,QAAA,4BACA,EAAA,QAAA,qBACA,EAAA,QAAA,eACA,EAAA,QAAA,SACA,EAAA,QAAA,aAEA,EAAA,SAAA,EAAA,EAAA,GAEA,IAAA,EAAA,SAAA,GACA,OAAA,GAAA,EAAA,KAAA,EAAA,EACA,iBAAA,GAAA,EACA,OAAA,KAAA,GAAA,OAAA,SAAA,EAAA,GACA,OAAA,GAAA,EAAA,EAAA,KACA,MAHA,MAMA,EAAA,EAAA,GACA,GAAA,EAAA,OAAA,EAGA,GADA,EAAA,EAAA,QAAA,KAAA,KACA,QAAA,MAAA,IAEA,IACA,OAAA,EAAA,IAAA,EAAA,UAAA,IACA,MAAA,GACA,IACA,EADA,EAAA,EAAA,QAAA,KAGA,GAAA,IAAA,EAEA,IAAA,IAAA,EACA,EAAA,EAAA,OACA,CAEA,EAAA,EADA,EAAA,MAAA,EAAA,IAEA,IAAA,EAAA,EAAA,MAAA,GAAA,QAAA,KAAA,IACA,IACA,OAAA,EAAA,IAAA,EAAA,GACA,MAAA,UAGA,EAAA,EAAA,GAEA,OAAA,GAAA,OAIA,EAAA,SAAA,GACA,EAAA,KAAA,UAAA,GAEA,IADA,IAAA,EAAA,kBACA,EAAA,KAAA,IAAA,EAAA,EAAA,QAAA,EAAA,WACA,OAAA,GAGA,EAAA,CAEA,IAAA,WACA,MAAA,QAGA,KAAA,SAAA,GACA,OAAA,EAAA,aAGA,QAAA,SAAA,GACA,MAAA,UAAA,EAAA,kBAGA,MAAA,SAAA,GACA,MAAA,iBAAA,EAAA,KAGA,OAAA,SAAA,GACA,MAAA,UAAA,EAAA,oBAAA,EAAA,sBAAA,EAAA,KAGA,OAAA,SAAA,GACA,MAAA,UAAA,EAAA,6BAAA,EAAA,KAGA,QAAA,SAAA,GACA,MAAA,UAAA,EAAA,gCAAA,EAAA,SAAA,EAAA,OAAA,EAAA,0BAAA,EAAA,yBAGA,OAAA,SAAA,GACA,MAAA,UAAA,EAAA,kBAGA,EAAA,SAAA,GAEA,IADA,IAAA,EAAA,GACA,EAAA,EAAA,EAAA,EAAA,OAAA,IACA,EAAA,KAAA,iBAAA,EAAA,GAAA,KAAA,UAAA,EAAA,IAAA,EAAA,IAEA,IAAA,EAAA,EAAA,EAAA,EAAA,OAAA,IACA,GAAA,EAAA,QAAA,EAAA,MAAA,EAAA,OAAA,EAEA,OAAA,GAGA,EAAA,SAAA,EAAA,GACA,IAAA,EACA,GAAA,EAAA,KAAA,EAAA,KAAA,IAAA,GAAA,EAAA,WAAA,MAAA,KAAA,MAAA,QAAA,EACA,EAAA,EAEA,IADA,EAAA,KAAA,EAAA,KAAA,IAAA,GAAA,EAAA,WAAA,MAAA,KAAA,MAAA,QAAA,GACA,GACA,KAAA,MAAA,EAAA,IAAA,EAAA,GAEA,EAAA,EAAA,EACA,OAAA,GAGA,EAAA,SAAA,EAAA,EAAA,EAAA,EAAA,GACA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,SAAA,EACA,EAAA,CAAA,OAAA,EAAA,QAAA,EAAA,aAAA,GACA,IAAA,KAAA,EAAA,QACA,KAAA,QAAA,IAAA,EAAA,SACA,EAAA,OAEA,EAAA,GACA,EAAA,SAAA,GACA,OAAA,GAAA,EAAA,IAAA,EAAA,IAAA,GAAA,IAGA,EAAA,GACA,EAAA,SAAA,GACA,GAAA,EAAA,GAAA,OAAA,EAAA,GACA,IAAA,EAAA,EAAA,WAGA,OAFA,EAAA,GAAA,IAAA,OAAA,GACA,EAAA,GAAA,EACA,GAGA,EAAA,CAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,KACA,EAAA,WACA,IAAA,EAAA,EAAA,QAEA,OADA,EAAA,KAAA,EAAA,EAAA,IACA,GAGA,EAAA,SAAA,EAAA,EAAA,EAAA,EAAA,GACA,IAAA,EAAA,EAAA,WACA,EAAA,EAAA,KACA,GAAA,EAEA,MAAA,QAAA,EAAA,SACA,EAAA,GACA,EAAA,MAAA,QAAA,SAAA,EAAA,GACA,EAAA,GAAA,IAEA,EAAA,QACA,GAAA,GAGA,IAAA,EAAA,EACA,EAAA,SAAA,EAAA,EAAA,GACA,EAAA,aACA,IAAA,IACA,EAAA,sDACA,EACA,EACA,6EACA,EAAA,GAAA,GACA,KAAA,UAAA,GACA,GAAA,EACA,KAAA,UAAA,GACA,KAAA,UAAA,IAGA,EAAA,8CAAA,EAAA,GAAA,GAAA,KAAA,UAAA,OAKA,IAAA,EAAA,UACA,IACA,EAAA,0BAAA,GACA,EAAA,eACA,EAAA,cAEA,IACA,EAAA,0BAAA,IAGA,IAAA,EAAA,GAAA,OAAA,GACA,IAAA,SAAA,GACA,GAAA,IAAA,EAAA,eAAA,GACA,MAAA,IAAA,MAAA,iBAAA,GAGA,OAAA,EAAA,GAAA,OAAA,KAEA,KAAA,SAAA,OASA,GAPA,SAAA,IACA,IACA,EAAA,eAAA,GACA,EAAA,qBACA,EAAA,aAGA,EACA,IAAA,IAAA,EAAA,gBACA,EAAA,wBAAA,EAAA,EAAA,MAAA,QACA,EAAA,wBACA,EAAA,UACA,GAAA,EAAA,gBAAA,CACA,IAAA,EAAA,IACA,EAAA,4CAAA,EAAA,EAAA,MAAA,OAAA,EAAA,EAAA,GACA,EAAA,EAAA,IAAA,EAAA,IAAA,EAAA,gBAAA,EAAA,EAAA,EAAA,OAAA,oBACA,EAAA,KAIA,GAAA,EAAA,QAAA,EAAA,EAAA,QAAA,CACA,WAAA,GAAA,EAAA,EAAA,SAAA,EAAA,YAAA,EAAA,OAAA,IACA,IAAA,EAAA,EAAA,UACA,EAAA,GAAA,EAAA,EAAA,QAEA,mBAAA,EAAA,GAAA,EAAA,iBAAA,EAAA,GACA,EAAA,sBAAA,EAAA,GACA,EAAA,WAAA,EAAA,OAAA,WACA,EAAA,KACA,WAAA,GAAA,EAAA,EAAA,SAAA,EAAA,KAGA,GAAA,MAAA,QAAA,EAAA,UAAA,CAQA,EAAA,cAAA,WAAA,EAAA,EAAA,OAAA,GAAA,QACA,EAAA,mBACA,EAAA,SAAA,IATA,SAAA,GACA,IAAA,EAAA,EAAA,EAAA,GACA,EAAA,0BAAA,GACA,EAAA,cAAA,GACA,EAAA,aACA,EAAA,OAKA,EAAA,KACA,IACA,EAAA,wBACA,KAYA,GARA,EAAA,cACA,UAAA,GAAA,EAAA,YAAA,EAAA,MAAA,IACA,EAAA,uBAAA,GACA,EAAA,kBACA,EAAA,KACA,UAAA,GAAA,EAAA,MAGA,EAAA,KAAA,CACA,IAIA,EAJA,EAAA,KAAA,KAAA,SAAA,GACA,MAAA,iBAAA,IAIA,SAAA,GACA,MAAA,kBAAA,EAAA,wBAAA,KAAA,UAAA,GAAA,KAEA,SAAA,GACA,OAAA,EAAA,QAAA,KAAA,UAAA,IAGA,EAAA,YAAA,EAAA,KAAA,IAAA,GAAA,KAAA,SAAA,SACA,EAAA,yBACA,EAAA,KA6BA,GA1BA,EAAA,eACA,WAAA,GAAA,EAAA,YAAA,EAAA,OAAA,IAEA,OAAA,KAAA,EAAA,cAAA,QAAA,SAAA,GACA,IAAA,EAAA,EAAA,aAAA,GACA,iBAAA,IAAA,EAAA,CAAA,IAMA,MAAA,QAAA,KACA,EAAA,mCAAA,EAAA,EAAA,GAAA,EAAA,IALA,SAAA,GACA,OAAA,EAAA,EAAA,GAAA,mBAIA,KAAA,SAAA,QACA,EAAA,wBACA,EAAA,MAEA,iBAAA,IACA,EAAA,0BAAA,EAAA,EAAA,IACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,OAAA,CAAA,eAAA,KACA,EAAA,QAIA,WAAA,GAAA,EAAA,MAGA,EAAA,uBAAA,IAAA,EAAA,qBAAA,CACA,WAAA,GAAA,EAAA,YAAA,EAAA,OAAA,IAEA,EAAA,IAAA,IACA,EAAA,EAAA,QAUA,EAAA,OAAA,KAAA,GAAA,IAAA,IARA,SAAA,GACA,OAAA,EAAA,IAAA,EAAA,SAAA,KAAA,UAAA,KAQA,OAAA,OAAA,KAAA,EAAA,mBAAA,IAAA,IALA,SAAA,GACA,MAAA,IAAA,EAAA,GAAA,SAAA,EAAA,IAAA,EAAA,QAKA,KAAA,SAAA,OAEA,EAAA,2BAAA,EAAA,EAAA,CACA,2CAAA,EAAA,EAAA,EAAA,EADA,CAEA,YAAA,IAEA,IAAA,EAAA,sBACA,GAAA,EAAA,YAAA,EAAA,IAAA,EAAA,IAAA,EAAA,MACA,EAAA,4BAAA,KAAA,KAAA,UAAA,EAAA,KAAA,MAAA,EAAA,IAAA,EAAA,MAEA,EAAA,EAAA,IAAA,EAAA,IAAA,EAAA,KAAA,EAAA,qBAAA,EAAA,EAAA,EAAA,OAAA,CAAA,0BAGA,EACA,IADA,CAEA,KAEA,WAAA,GAAA,EAAA,KAGA,GAAA,EAAA,KAAA,CACA,IAAA,EAAA,EAAA,EAAA,GAAA,EAAA,SAAA,GAAA,EAAA,MACA,GAAA,EAAA,CACA,IAAA,EAAA,EAAA,EAAA,MACA,IACA,EAAA,EAAA,MAAA,SAAA,GACA,OAAA,EAAA,IAEA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,IAEA,EAAA,EAAA,OACA,EAAA,GAAA,EACA,EAAA,mBAAA,EAAA,GACA,EAAA,oCACA,EAAA,MAIA,GAAA,EAAA,IAAA,CACA,IAAA,EAAA,EAAA,QACA,EAAA,kBAAA,GACA,EAAA,EAAA,EAAA,KAAA,EAAA,EAAA,EAAA,OAAA,QACA,EAAA,uBAAA,GACA,EAAA,2BACA,EAAA,WAAA,CACA,cAAA,EADA,CAEA,KAGA,GAAA,EAAA,QAAA,EAAA,CACA,UAAA,GAAA,EAAA,YAAA,EAAA,MAAA,IAEA,EAAA,IACA,EAAA,2CAAA,EAAA,EAAA,EAAA,GACA,EAAA,EAAA,IAAA,EAAA,IAAA,EAAA,MAAA,EAAA,EAAA,EAAA,OAAA,UACA,EAAA,KAEA,UAAA,GAAA,EAAA,KAGA,GAAA,EAAA,kBAAA,CACA,WAAA,GAAA,EAAA,YAAA,EAAA,OAAA,IACA,EAAA,EAAA,QACA,EAAA,IACA,EACA,2BAAA,EAAA,EADA,CAEA,2CAAA,EAAA,EAAA,EAAA,GAEA,OAAA,KAAA,EAAA,mBAAA,QAAA,SAAA,GACA,IAAA,EAAA,EAAA,GACA,EAAA,qBAAA,EAAA,EAAA,IAAA,EAAA,KACA,EAAA,EAAA,IAAA,EAAA,IAAA,EAAA,KAAA,EAAA,kBAAA,GAAA,EAAA,EAAA,EAAA,OAAA,CAAA,oBAAA,KACA,EAAA,OAGA,EAAA,KACA,WAAA,GAAA,EAAA,KAGA,GAAA,EAAA,QAAA,CACA,IAAA,EAAA,EAAA,EAAA,SACA,WAAA,GAAA,EAAA,YAAA,EAAA,OAAA,IACA,EAAA,wBAAA,EAAA,GACA,EAAA,oBACA,EAAA,KACA,WAAA,GAAA,EAAA,KASA,GANA,EAAA,OACA,EAAA,MAAA,QAAA,SAAA,EAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,OAAA,CAAA,QAAA,OAIA,EAAA,OAAA,EAAA,MAAA,OAAA,CACA,EAAA,EAAA,QAEA,EAAA,MAAA,QAAA,SAAA,EAAA,GACA,IAAA,EACA,EAAA,kBAAA,GAEA,EAAA,uBAAA,EAAA,CACA,cAAA,GAEA,EAAA,EAAA,GAAA,GAAA,EAAA,KAEA,EAAA,MAAA,QAAA,SAAA,EAAA,GACA,GAAA,EAAA,OAEA,EAAA,uBAAA,GACA,EAAA,oBACA,EAAA,KAGA,GAAA,EAAA,OAAA,EAAA,MAAA,OAAA,CACA,EAAA,EAAA,QAAA,IACA,EAAA,EAAA,UAEA,EACA,kBAAA,EADA,CAEA,aAAA,GAEA,EAAA,MAAA,QAAA,SAAA,EAAA,GACA,EAAA,EAAA,GAAA,GAAA,EAAA,GACA,EAAA,uBAAA,EAAA,CACA,OAAA,EADA,CAEA,WAFA,CAGA,cAAA,EAHA,CAIA,OAGA,EAAA,kBAAA,GACA,EAAA,uCACA,EAAA,KA8GA,SA3GA,IAAA,EAAA,aACA,WAAA,GAAA,YAAA,GAAA,EAAA,YAAA,EAAA,OAAA,IAEA,EAAA,+BAAA,EAAA,EAAA,YAEA,EAAA,mBACA,EAAA,KAEA,WAAA,GAAA,YAAA,GAAA,EAAA,WAGA,IAAA,EAAA,gBACA,WAAA,GAAA,EAAA,YAAA,EAAA,OAAA,IAEA,EAAA,qCAAA,EAAA,EAAA,eACA,EAAA,oCACA,EAAA,KAEA,WAAA,GAAA,EAAA,WAGA,IAAA,EAAA,gBACA,WAAA,GAAA,EAAA,YAAA,EAAA,OAAA,IAEA,EAAA,qCAAA,EAAA,EAAA,eACA,EAAA,oCACA,EAAA,KAEA,WAAA,GAAA,EAAA,WAGA,IAAA,EAAA,WACA,UAAA,GAAA,EAAA,YAAA,EAAA,MAAA,IAEA,EAAA,wBAAA,EAAA,EAAA,UACA,EAAA,+BACA,EAAA,KAEA,UAAA,GAAA,EAAA,WAGA,IAAA,EAAA,WACA,UAAA,GAAA,EAAA,YAAA,EAAA,MAAA,IAEA,EAAA,wBAAA,EAAA,EAAA,UACA,EAAA,+BACA,EAAA,KAEA,UAAA,GAAA,EAAA,WAGA,IAAA,EAAA,YACA,WAAA,GAAA,EAAA,YAAA,EAAA,OAAA,IAEA,EAAA,wBAAA,EAAA,EAAA,WACA,EAAA,kCACA,EAAA,KAEA,WAAA,GAAA,EAAA,WAGA,IAAA,EAAA,YACA,WAAA,GAAA,EAAA,YAAA,EAAA,OAAA,IAEA,EAAA,wBAAA,EAAA,EAAA,WACA,EAAA,gCACA,EAAA,KAEA,WAAA,GAAA,EAAA,WAGA,IAAA,EAAA,UACA,WAAA,GAAA,YAAA,GAAA,EAAA,YAAA,EAAA,OAAA,IAEA,EAAA,kBAAA,EAAA,EAAA,iBAAA,KAAA,IAAA,EAAA,SACA,EAAA,wBACA,EAAA,KAEA,WAAA,GAAA,YAAA,GAAA,EAAA,WAGA,IAAA,EAAA,UACA,WAAA,GAAA,YAAA,GAAA,EAAA,YAAA,EAAA,OAAA,IAEA,EAAA,kBAAA,EAAA,EAAA,iBAAA,KAAA,IAAA,EAAA,SACA,EAAA,wBACA,EAAA,KAEA,WAAA,GAAA,YAAA,GAAA,EAAA,MAGA,GACA,OAAA,KAAA,GAAA,QAAA,SAAA,GACA,MAAA,QAAA,KAAA,IAAA,EAAA,QAAA,SAAA,EAAA,qBAAA,GAEA,EACA,EAAA,EAAA,GACA,EAAA,GACA,EACA,EACA,EAAA,OAAA,EAAA,EAAA,CAAA,aAAA,KAGA,MAAA,QAAA,KAAA,IAAA,EAAA,QAAA,SAAA,EAAA,OAIA,KAAA,EAAA,MAGA,EAAA,EACA,4BADA,CAGA,sCAHA,CAIA,yBAJA,CAKA,kBA0BA,OAxBA,EAAA,OAAA,EAAA,EAAA,GAAA,EAAA,OAAA,IAEA,EACA,sBADA,CAEA,MAEA,EAAA,EAAA,WAAA,IACA,OAAA,KAEA,OAAA,gBACA,OAAA,eAAA,EAAA,QAAA,CACA,IAAA,WACA,OAAA,EAAA,OACA,EAAA,OAAA,IAAA,SAAA,GACA,OAAA,EAAA,MAAA,IAAA,EAAA,UACA,KAAA,MAHA,MAQA,EAAA,OAAA,WACA,OAAA,GAGA,GAGA,OAAA,QAAA,SAAA,EAAA,GAEA,MADA,iBAAA,IAAA,EAAA,KAAA,MAAA,IACA,EAAA,EAAA,GAAA,GAAA,EAAA,IAGA,OAAA,QAAA,OAAA,SAAA,EAAA,GACA,IAAA,EAAA,OAAA,QAAA,EAAA,EAAA,EAAA,CAAA,QAAA,KACA,OAAA,SAAA,GAEA,OADA,EAAA,GACA;;ACnhBe,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,QAAA,MAAA,QAAA,WAAA,QAAA,UAAA,EAhEf,IAAA,EAAA,EAAA,QAAA,qBACA,EAAA,QAAA,eACA,EAAA,QAAA,WA8De,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAxDf,IAAIwxE,EAAkB,IAAI51E,IAK1B,SAAS61E,EAAcC,GACjBlnE,IAAAA,EAAOknE,EAASlnE,KAEhB,IAACgnE,EAAgB/0E,IAAI+N,GAAO,CAC1BmnE,IAAAA,GAAY,EAAcD,EAAAA,SAAAA,EAAS50C,QACvC00C,EAAgBj1E,IAAIiO,EAAMmnE,GAGrBH,OAAAA,EAAgBn1E,IAAImO,GAS7B,IAAI+wB,EAAW,SAAkBnuB,GAC3BwkE,IAAAA,EAAeH,EAAc,MAG7BI,GADUD,EAAaxkE,GACd,OAAOA,EACZ,MAAA,EAAW,EAAA,YAAA,MAAO,CACtB0kE,OAAQF,EAAaE,OACrB1kE,IAAKA,EACL0T,OAAQ,KAAKgc,UAKfi1C,EAAwB,SAA+BL,IAE1B,EAAA,EAAA,gCAAA,WAC7BD,EAAcC,MAIP7/C,GAAO,EAcH,QAAA,KAAA,EAbR,IAAI+xC,EAAa,CAKtB/mC,SAAU,SAAkB1xB,GAC1BA,EAAMsmE,cAAgBA,EACtBtmE,EAAMowB,SAAWA,IAMN,QAAA,WAAA,EAHR,IAAIu0B,EAAQ,CACjBt9B,eAAgBu/C,GAEH,QAAA,MAAA,EAAA,IAAA,EAAA,CACblgD,KAAMA,EACN+xC,WAAYA,EACZ9T,MAAOA,GAHM,QAAA,QAAA;;ACuIA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,OAAA,EAAA,QAAA,QAAA,QAAA,aAAA,QAAA,WAAA,QAAA,KAAA,QAAA,mBAAA,EA5Mf,IAAA,EAAA,EAAA,QAAA,uCAMA,EAAA,QAAA,WAsMe,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GArMR,IAAIkiB,EAEX,WACWA,SAAAA,EAAclxD,GAChBA,KAAAA,OAASA,EAGZE,IAAAA,EAASgxD,EAAc51E,UA6JpB41E,OAxJPhxD,EAAOkpC,SAAW,SAAkB98C,GAC9B,OAAC,KAAK0T,OAAOsd,mBACV6zC,EAAa,KAAM7kE,IADkB,EAAMA,EAAAA,OAAAA,IAIpD4T,EAAOkxD,eAAiB,SAAwB9kE,GAC1C+T,IAAAA,EAAQ,KAERgxD,EAAe,KAAKA,aAEpB,GAAe,iBAAR/kE,GAA4B,OAARA,EAAc,OAAOA,EAEhDhS,GAAAA,MAAMC,QAAQ+R,GAAM,OAAOA,EAAImC,IAAI,SAAUq6B,GACxCzoB,OAAAA,EAAM+wD,eAAetoC,KAGtB3lC,IAAAA,EAAM,GAMHA,OALPlI,OAAOe,KAAKsQ,GAAKxQ,QAAQ,SAAU/B,GAC7Bu3E,IAAAA,EAAcv3E,GACbA,EAAI+8B,WAAW,MAAQ/8B,EAAI+8B,WAAW,OAASu6C,EAAat3E,KAAMu3E,EAAcD,EAAat3E,IAClGoJ,EAAImuE,GAAejxD,EAAM+wD,eAAe9kE,EAAIvS,MAEvCoJ,GAIb+c,EAAOopC,WAAa,SAAoBh9C,GAClC,OAAC,KAAK0T,OAAOsd,mBAED,KAAK8zC,eAAe9kE,IAFQ,EAAMA,EAAAA,OAAAA,IAWpD4T,EAAOizC,aAAe,SAAsBoe,EAASC,EAAmBC,GAClEC,IAAAA,EAAQ,KAAKA,MACjBH,GAAU,EAASA,EAAAA,UAAAA,GACnBC,GAAoB,EAASA,EAAAA,UAAAA,GACzBhzC,IAAAA,EAAWizC,EAAantE,QACxBqtE,GAAe,EAASJ,EAAAA,UAAAA,EAAU,IAAM/yC,GAExCizC,OADAC,EAAMC,GAAeH,GAAqB,IAAME,EAAMC,GAAmBH,GAAqB,IAAMhzC,EACpGizC,EAAa/2E,OAAS,EAAU,KAAKy4D,aAAawe,EAAcH,EAAmBC,IAA0B,EAASD,EAAAA,UAAAA,IAQ5HtxD,EAAOykB,cAAgB,SAAuBitC,GACxC9wD,IAAAA,EAAS,KAGT,GADJ8wD,GAAY,EAAMA,EAAAA,OAAAA,IACb,KAAK5xD,OAAOsd,mBAAoB,OAAOs0C,EAExCh4D,IAAAA,EAAW,GAkCRg4D,OAjCP32E,OAAOe,KAAK41E,EAAUh4D,UAAU9d,QAAQ,SAAU/B,GAC5C2B,IAAAA,EAAQk2E,EAAUh4D,SAAS7f,GAE3BA,GAAAA,EAAI+8B,WAAW,KAAM,CAEnB+6C,IAAAA,EAASn2E,EAAM+S,IAAI,SAAUnC,GAC3BwlE,IAAAA,EAAS,GAMNA,OALP72E,OAAOe,KAAKsQ,GAAKxQ,QAAQ,SAAUwa,GAC7By7D,IAAAA,EAAWjxD,EAAOqyC,aAAa,GAAI,GAAI78C,EAAE3D,MAAM,MAEnDm/D,EAAOC,GAAYzlE,EAAIgK,KAElBw7D,IAETl4D,EAAS7f,GAAO83E,MACX,CACDE,IAAAA,EAAWjxD,EAAOqyC,aAAa,GAAI,GAAIp5D,EAAI4Y,MAAM,MAErDiH,EAASm4D,GAAYr2E,KAGzBk2E,EAAUh4D,SAAWA,EAEjBg4D,EAAU55D,OACZ45D,EAAU55D,KAAO45D,EAAU55D,KAAKvJ,IAAI,SAAU2U,GACxCrpB,IAAAA,EAAMkB,OAAOe,KAAKonB,GAAS,GAC3B1nB,EAAQ0nB,EAAQrpB,GAChBoJ,EAAM,GAEHA,OADPA,EAAI2d,EAAOqyC,aAAa,GAAI,GAAIp5D,EAAI4Y,MAAM,OAASjX,EAC5CyH,KAIJyuE,IAGIV,EAAAA,EAAAA,SAAAA,EAAe,CAAC,CAC3Bn3E,IAAK,QACLwB,IAAK,WACC8+B,IAAAA,EAAS,KAET,IAAC,KAAK23C,OAAQ,CAEZC,IAAAA,EAAgB,EAOfD,KAAAA,OAAS,IAGU,SAASE,EAAkBvzD,EAAMrS,GACvDrR,OAAOe,KAAKsQ,GAAKmC,IAAI,SAAU1U,GACzBo4E,IAAAA,EAAc7lE,EAAIvS,GAClByhC,EAAmB,eAARzhC,EAAuB4kB,GAAO,EAASA,EAAAA,UAAAA,EAAO,IAAM5kB,GACxC,iBAAhBo4E,IACV73E,MAAMC,QAAQ43E,KACd93C,EAAO23C,OAAOx2C,IAA0B,KAAbA,GAAmBzhC,EAAIW,OAAS,IAC3D8gC,EAAS1E,WAAW,OACnBuD,EAAO23C,OAAOx2C,GAAY,KAf9By2C,KACO,EAAeA,EAAAA,gBAAAA,EAAgB,MAgBR,IAAxBE,EAAYh7C,UAAkBkD,EAAO23C,OAAOx2C,GAAY,OACjC,iBAAhB22C,GAA6B73E,MAAMC,QAAQ43E,IAAcD,EAAkB12C,EAAU22C,KAIpGD,CAAkB,GAjBD,KAAKlyD,OAAOnN,YAoBxB,OAAA,KAAKm/D,SAEb,CACDj4E,IAAK,eACLwB,IAAK,WACCq/B,IAAAA,EAAS,KAET,IAAC,KAAKw3C,cAAe,CACnBV,IAAAA,EAAQ,KAAKA,MACZU,KAAAA,cAAgB,GACrBn3E,OAAOe,KAAK01E,GAAO51E,QAAQ,SAAU/B,GAC/B2B,IAAAA,EAAQg2E,EAAM33E,GACdmf,EAAYnf,EAAI4Y,MAAM,KAAKzP,MAC/B03B,EAAOw3C,cAAc12E,GAASwd,IAI3B,OAAA,KAAKk5D,kBAITlB,EAlKT,GAqKA,SAASC,EAAakB,EAAe/lE,GAC/BqS,IAAAA,EAAO7c,UAAUpH,OAAS,QAAsB+D,IAAjBqD,UAAU,GAAmBA,UAAU,GAAK,GAC3EqB,EAAM,GACN,MAAe,iBAARmJ,GAA4B,OAARA,EAAqBA,EAEhDhS,MAAMC,QAAQ+R,GACTA,EAAImC,IAAI,SAAU0V,GAChBgtD,OAAAA,EAAakB,EAAeluD,GAAG,EAASxF,EAAAA,UAAAA,EAAO,aAI1D1jB,OAAOe,KAAKsQ,GAAKxQ,QAAQ,SAAU/B,GAC7Bo4E,IAGA1yD,EAHA0yD,EAAc7lE,EAAIvS,GAClByhC,GAAW,EAAS7c,EAAAA,UAAAA,EAAO,IAAM5kB,GACjCu3E,EAAce,EAAcX,MAAMl2C,GAAY62C,EAAcX,MAAMl2C,GAAYzhC,EAElF0lB,EAAU0xD,EAAakB,EAAeF,EAAa32C,GACnDr4B,EAAImuE,GAAe7xD,IAEdtc,GAGF,SAAShC,EAAO6e,GACd,OAAA,IAAIkxD,EAAclxD,GAOZ,QAAA,cAAA,EALR,IAAI+Q,GAAO,EAKH,QAAA,KAAA,EAJR,IAAI+xC,EAAa,GAIT,QAAA,WAAA,EAHR,IAAI3xC,EAAe,CACxBpB,oBAAqB5uB,GAER,QAAA,aAAA,EAAA,IAAA,EAAA,CACb4vB,KAAMA,EACN+xC,WAAYA,EACZ3xC,aAAcA,GAHD,QAAA,QAAA;;AC5Mf,OAAA,SAAA;;ACgCe,aA/Bf,SAASx2B,EAAI2sB,GACP,GAA6B,mBAAtBgrD,mBAAoCrnE,gBAAgBqnE,uBACxD,CAKD,GAAmC,mBAA5BxsD,OAAO3W,iBAAiC,OAKnD2W,OAAO3W,iBAAiB,eAAgB,WACtCmY,MACC,GAMHxB,OAAO3W,iBAAiB,SAAU,WAChCmY,MACC,IASQ,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,IAAA,EAAA,CACb3sB,IAAKA,GADQ,QAAA,QAAA;;;;ACUA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,IAAA,EAAA,QAAA,OAAA,EAAA,QAAA,UAAA,EAAA,QAAA,QAAA,EAAA,QAAA,aAAA,EA1Cf,IAAA,EAAA,EAAA,QAAA,gBACA,EAAA,EAAA,QAAA,iBACA,EAAA,EAAA,QAAA,cAwCe,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAvCf,IAAI43E,EAAavc,EAASkG,QAAAA,EAAT,QAAsBsW,EAAvC,QACIC,EAAY,IAAI13E,IAChB23E,GAAmB,EAEvB,SAASC,IACHD,IACJA,GAAmB,EACnBH,EAAW53E,IAAIi4E,IAGV,SAASj4E,EAAI2sB,GAEd,GADJqrD,IACkB,mBAAPrrD,EAAmB,MAAM,IAAI/qB,MAAM,2BAWvCs2E,OAVPJ,EAAU93E,IAAI2sB,GACE,CACduT,OAAQ,WACC43C,OAAAA,EAAS,OAAWnrD,IAE7B2E,IAAK,WAEI3E,OADPmrD,EAAS,OAAWnrD,GACbA,MAKN,SAASsrD,IACVhgC,IAAAA,EAAW,GAKRxnC,OAJPqnE,EAAU32E,QAAQ,SAAUwrB,GAC1BsrB,EAASrxC,KAAK+lB,KACdmrD,EAAS,OAAWnrD,KAEflc,QAAQinB,IAAIugB,GAEd,SAASkgC,IACdL,EAAUld,QAEL,SAASwd,IACPN,OAAAA,EAAUv2E,KAEJ,IAAA,EAAA,CACbvB,IAAKA,EACLi4E,OAAQA,EACRE,UAAWA,EACXC,QAASA,GAJI,QAAA,QAAA;;ACyLA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,OAAA,EAAA,QAAA,aAAA,EAnOf,IAAA,EAAA,QAAA,cACA,EAAA,EAAA,QAAA,WAkOe,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAhOf,IAAIC,EAAiB,SAAwBnX,EAASx9C,GAC/C40D,KAAAA,SAAWpX,EACX2D,KAAAA,SAAWnhD,EACXuhD,KAAAA,UAAW,EACXsT,KAAAA,QAAS,EACTj8C,KAAAA,OAAQ,EAAY,EAAA,aAAA,IACpBk8C,KAAAA,QAAS,EAETC,KAAAA,UAAW,EAEXC,KAAAA,KAAO,GAEPC,KAAAA,OAAS,GAETC,KAAAA,MAAQ,IAuGf,SAASC,EAAqB7U,GACxBA,OAAAA,EAAciB,SAAiBx0D,QAAQ2e,UACpC,IAAI3e,QAAQ,SAAUvP,GACvB43E,IAAAA,GAAW,EAEX37B,EAAS,WACP27B,IACJA,GAAW,EACXC,cAAcC,GAEdhV,EAAcsU,SAASxX,oBAAoB,WAAYmY,GAEvD/3E,GAAI,KAIN8iE,EAAckV,YAAYpoE,KAAK,WACzBkzD,EAAciB,UAAU9nB,MAG1B67B,IAAAA,EAAWG,YAAY,WACzBnV,EAAckV,YAAYpoE,KAAK,WACzBkzD,EAAciB,UAAU9nB,OAE7B6mB,EAAca,SAAS/H,kBAE1BkH,EAAc4U,MAAMhyE,KAAKoyE,GAGrBC,IAAAA,EAAoB,SAA2B1iE,GAC7B,WAAhBA,EAAItN,SAAuC,UAAfsN,EAAI67C,QAClC4R,EAAckV,YAAYpoE,KAAK,WACzBkzD,EAAciB,UAAU9nB,OAKlC6mB,EAAcsU,SAAS9jE,iBAAiB,WAAYykE,GAEpDjV,EAAc2U,OAAO/xE,KAAKqyE,KAQ9B,SAASG,EAAapV,EAAe5R,GAC/BinB,IAAAA,EAAU,CACZpwE,QAAS,SACTmpD,OAAQA,EACR91B,MAAO0nC,EAAc1nC,OAEhB0nC,OAAAA,EAAcsU,SAAStV,aAAaqW,GAG7C,SAASC,EAAUtV,GACjBA,EAAciB,UAAW,EACrBsU,IAAAA,EAAWC,EAAOx5E,QAAAA,IAAI,WACjBgkE,OAAAA,EAAcyV,QAGvBzV,EAAc0U,KAAK9xE,KAAK2yE,GAEpBG,IAAAA,EAAmB,SAA0BnjE,GAC3B,WAAhBA,EAAItN,SAAuC,UAAfsN,EAAI67C,QAClCgnB,EAAapV,EAAe,SAQzBoV,OAJPpV,EAAcsU,SAAS9jE,iBAAiB,WAAYklE,GAEpD1V,EAAc2U,OAAO/xE,KAAK8yE,GAEnBN,EAAapV,EAAe,QAGrC,SAAStH,EAAwBh5C,EAASw9C,GAYjCx9C,OAXFA,IAASA,EAAU,KACxBA,EAAUzhB,KAAK06D,MAAM16D,KAAKC,UAAUwhB,KAEvBo5C,mBACXp5C,EAAQo5C,iBAAmB,KAGxBp5C,EAAQi2D,eACXj2D,EAAQi2D,aAAezY,EAAQvsD,OAAOwnD,oBAAoB+E,EAAQx9C,UAG7DA,EAGF,SAASld,EAAO06D,EAASx9C,GAC1Bw9C,GAAAA,EAAQ4D,eACJ,MAAA,IAAIljE,MAAM,iDAGlB8hB,EAAUg5C,EAAwBh5C,EAASw9C,GACvC0Y,IAAAA,EAAU,IAAIvB,EAAenX,EAASx9C,GAOnCk2D,OALP1Y,EAAQe,MAAMr7D,KAAK,WACVgzE,OAAAA,EAAQH,QAGjBvY,EAAQ4D,eAAiB8U,EAClBA,EA7MTvB,EAAe13E,UAAY,CACzBu4E,UAAW,WACLxzD,IAAAA,EAAQ,KAER,GAAA,KAAKu/C,SAAU,OAAOx0D,QAAQ2e,SAAQ,GACtC,GAAA,KAAKmpD,OAAQ,OAAO9nE,QAAQ2e,SAAQ,GAEpC,GAAA,KAAKopD,OAEA/nE,OADFgoE,KAAAA,UAAW,EACThoE,QAAQ2e,SAAQ,GAGpBopD,KAAAA,QAAS,EACVqB,IAAAA,GAAe,EACfC,EAAW,GAEXC,EAAgB,SAAuBxjE,GACrB,WAAhBA,EAAItN,SAAwBsN,EAAI+lB,OAAS5W,EAAM4W,QACjDw9C,EAASlzE,KAAK2P,GAEK,UAAfA,EAAI67C,QAEF77C,EAAI+lB,MAAQ5W,EAAM4W,QAEpBu9C,GAAe,GAIA,SAAftjE,EAAI67C,SAENynB,GAAe,KAqCdrxE,OAhCF8vE,KAAAA,SAAS9jE,iBAAiB,WAAYulE,GAEjCX,EAAa,KAAM,SAC5BtoE,KAAK,WACG,OAAA,EAAM4U,EAAAA,OAAAA,EAAMm/C,SAAS8U,gBAE7B7oE,KAAK,WACA+oE,OAAAA,EAAqBppE,QAAQE,OAAO,IAAI/O,OAAqBw3E,EAAa1zD,EAAO,WACpF5U,KAAK,WACC,OAAA,EAAM4U,EAAAA,OAAAA,EAAMm/C,SAAS8U,gBAE7B7oE,KAAK,WACA+oE,OAAAA,EAAqBppE,QAAQE,OAAO,IAAI/O,OAAqBw3E,EAAa1zD,KAC7E5U,KAAK,WACCwoE,OAAAA,EAAU5zD,KAElB5U,KAAK,WACG,OAAA,IAfC,MAgBE,WACH,OAAA,IAERA,KAAK,SAAU0+C,GAKV,OAJJ9pC,EAAM4yD,SAASxX,oBAAoB,WAAYiZ,GAE/Cr0D,EAAM8yD,QAAS,GAEVhpB,GAAW9pC,EAAM+yD,UACpB/yD,EAAM+yD,UAAW,EACV/yD,EAAMwzD,aACD1pB,KAKlBwqB,gBAAiB,WAOR,OAJN,KAAKC,OACCA,KAAAA,KAAOpB,EAAqB,OAG5B,KAAKoB,MAEdR,IAAK,WACCtzD,IAAAA,EAAS,KAET,IAAA,KAAKoyD,OAeFa,OAdFb,KAAAA,QAAS,EAETI,KAAAA,OAAOx3E,QAAQ,SAAU+E,GACrBigB,OAAAA,EAAOmyD,SAASxX,oBAAoB,WAAY56D,KAGpD0yE,KAAAA,MAAMz3E,QAAQ,SAAU63E,GACpBD,OAAAA,cAAcC,KAGlBN,KAAAA,KAAKv3E,QAAQ,SAAU+4E,GAC1BA,EAAIh6C,WAGCk5C,EAAa,KAAM,WA+Gf,IAAA,EAAA,CACb5yE,OAAQA,GADK,QAAA,QAAA;;AC9KAs0C,aAAAA,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,OAAAA,EAAAA,QAAAA,QAAAA,QAAAA,aAAAA,QAAAA,WAAAA,QAAAA,KAAAA,QAAAA,mBAAAA,EAlDf,IAAA,EAAA,QAAA,qCACWq/B,EAEX,WACWA,SAAAA,EAAcx0D,GAChBmmB,KAAAA,WAAY,EACZm5B,KAAAA,UAAW,EACXsT,KAAAA,QAAS,EACT5yD,KAAAA,SAAWA,EACXi0D,KAAAA,SAAU,EAAqBj0D,EAAAA,QAAAA,EAAS08C,kBAG3C98C,IAAAA,EAAS40D,EAAcx5E,UAsBpBw5E,OApBP50D,EAAOk0D,IAAM,WACJ,OAAA,KAAKG,QAAQH,OAGtBl0D,EAAOw+C,kBAAoB,WACrBr+C,IAAAA,EAAQ,KAEL,OAAA,KAAKk0D,QAAQI,kBAAkBlpE,KAAK,WAElC,OADP4U,EAAMu/C,UAAW,GACV,KAIX1/C,EAAO1W,QAAU,WACX,IAAA,KAAKi9B,UAGF,OAFFA,KAAAA,WAAY,EACZysC,KAAAA,QAAS,EACP,KAAKkB,OAGPU,EA/BT,GAiCO,SAAS3zE,EAAOmf,GAEdi0D,OADO,IAAIO,EAAcx0D,GAanBm1B,QAAAA,cAAAA,EAVR,IAAI1kB,GAAO,EAUH0kB,QAAAA,KAAAA,EATR,IAAIqtB,EAAa,GASTrtB,QAAAA,WAAAA,EARR,IAAItkB,EAAe,CACxBlB,oBAAqB9uB,GAORs0C,QAAAA,aAAAA,EALf,IAAIA,EAAS,CACX1kB,KAAMA,EACN+xC,WAAYA,EACZ3xC,aAAcA,GAEDskB,EAAAA,EAAAA,QAAAA,QAAAA;;;ACksBf,IAAA,GAvvBA,SAAA,EAAA,GACA,iBAAA,QAEA,OAAA,QAAA,QAAA,IAEA,mBAAA,GAAA,EAAA,IAEA,EAAA,GAAA,GAIA,EAAA,SAAA,IAXA,CAaA,KAAA,WAKA,IAAA,EAAA,GAAA,SAAA,EAAA,GAIA,IAAA,EAAA,OAAA,QAAA,WACA,SAAA,KAEA,OAAA,SAAA,GACA,IAAA,EAQA,OANA,EAAA,UAAA,EAEA,EAAA,IAAA,EAEA,EAAA,UAAA,KAEA,GAZA,GAmBA,EAAA,GAKA,EAAA,EAAA,IAAA,GAKA,EAAA,EAAA,KAGA,CAmBA,OAAA,SAAA,GAEA,IAAA,EAAA,EAAA,MAoBA,OAjBA,GACA,EAAA,MAAA,GAIA,EAAA,eAAA,SAAA,KAAA,OAAA,EAAA,OACA,EAAA,KAAA,WACA,EAAA,OAAA,KAAA,MAAA,KAAA,aAKA,EAAA,KAAA,UAAA,EAGA,EAAA,OAAA,KAEA,GAeA,OAAA,WACA,IAAA,EAAA,KAAA,SAGA,OAFA,EAAA,KAAA,MAAA,EAAA,WAEA,GAeA,KAAA,aAcA,MAAA,SAAA,GACA,IAAA,IAAA,KAAA,EACA,EAAA,eAAA,KACA,KAAA,GAAA,EAAA,IAKA,EAAA,eAAA,cACA,KAAA,SAAA,EAAA,WAaA,MAAA,WACA,OAAA,KAAA,KAAA,UAAA,OAAA,QAWA,EAAA,EAAA,UAAA,EAAA,OAAA,CAaA,KAAA,SAAA,EAAA,GACA,EAAA,KAAA,MAAA,GAAA,GAGA,KAAA,SAhLA,MA+KA,EACA,EAEA,EAAA,EAAA,QAiBA,SAAA,SAAA,GACA,OAAA,GAAA,GAAA,UAAA,OAcA,OAAA,SAAA,GAEA,IAAA,EAAA,KAAA,MACA,EAAA,EAAA,MACA,EAAA,KAAA,SACA,EAAA,EAAA,SAMA,GAHA,KAAA,QAGA,EAAA,EAEA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,IAAA,CACA,IAAA,EAAA,EAAA,IAAA,KAAA,GAAA,EAAA,EAAA,EAAA,IACA,EAAA,EAAA,IAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAIA,IAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EACA,EAAA,EAAA,IAAA,GAAA,EAAA,IAAA,GAMA,OAHA,KAAA,UAAA,EAGA,MAUA,MAAA,WAEA,IAAA,EAAA,KAAA,MACA,EAAA,KAAA,SAGA,EAAA,IAAA,IAAA,YAAA,GAAA,EAAA,EAAA,EACA,EAAA,OAAA,EAAA,KAAA,EAAA,IAYA,MAAA,WACA,IAAA,EAAA,EAAA,MAAA,KAAA,MAGA,OAFA,EAAA,MAAA,KAAA,MAAA,MAAA,GAEA,GAgBA,OAAA,SAAA,GAkBA,IAjBA,IAiBA,EAjBA,EAAA,GAEA,EAAA,SAAA,GACA,EAAA,EAAA,IACA,EAAA,UACA,EAAA,WAEA,OAAA,WAGA,IAAA,IAFA,EAAA,OAAA,MAAA,IAAA,GAAA,IAAA,IAEA,KADA,EAAA,MAAA,MAAA,IAAA,GAAA,IAAA,GACA,EAGA,OAFA,GAAA,YACA,GAAA,KACA,EAAA,SAAA,GAAA,GAAA,KAIA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,CACA,IAAA,EAAA,EAAA,YAAA,GAAA,EAAA,WAEA,EAAA,UAAA,IACA,EAAA,KAAA,WAAA,IAAA,GAGA,OAAA,IAAA,EAAA,KAAA,EAAA,MAOA,EAAA,EAAA,IAAA,GAKA,EAAA,EAAA,IAAA,CAcA,UAAA,SAAA,GAOA,IALA,IAAA,EAAA,EAAA,MACA,EAAA,EAAA,SAGA,EAAA,GACA,EAAA,EAAA,EAAA,EAAA,IAAA,CACA,IAAA,EAAA,EAAA,IAAA,KAAA,GAAA,EAAA,EAAA,EAAA,IACA,EAAA,MAAA,IAAA,GAAA,SAAA,KACA,EAAA,MAAA,GAAA,GAAA,SAAA,KAGA,OAAA,EAAA,KAAA,KAgBA,MAAA,SAAA,GAMA,IAJA,IAAA,EAAA,EAAA,OAGA,EAAA,GACA,EAAA,EAAA,EAAA,EAAA,GAAA,EACA,EAAA,IAAA,IAAA,SAAA,EAAA,OAAA,EAAA,GAAA,KAAA,GAAA,EAAA,EAAA,EAGA,OAAA,IAAA,EAAA,KAAA,EAAA,EAAA,KAOA,EAAA,EAAA,OAAA,CAcA,UAAA,SAAA,GAOA,IALA,IAAA,EAAA,EAAA,MACA,EAAA,EAAA,SAGA,EAAA,GACA,EAAA,EAAA,EAAA,EAAA,IAAA,CACA,IAAA,EAAA,EAAA,IAAA,KAAA,GAAA,EAAA,EAAA,EAAA,IACA,EAAA,KAAA,OAAA,aAAA,IAGA,OAAA,EAAA,KAAA,KAgBA,MAAA,SAAA,GAMA,IAJA,IAAA,EAAA,EAAA,OAGA,EAAA,GACA,EAAA,EAAA,EAAA,EAAA,IACA,EAAA,IAAA,KAAA,IAAA,EAAA,WAAA,KAAA,GAAA,EAAA,EAAA,EAGA,OAAA,IAAA,EAAA,KAAA,EAAA,KAOA,EAAA,EAAA,KAAA,CAcA,UAAA,SAAA,GACA,IACA,OAAA,mBAAA,OAAA,EAAA,UAAA,KACA,MAAA,GACA,MAAA,IAAA,MAAA,0BAiBA,MAAA,SAAA,GACA,OAAA,EAAA,MAAA,SAAA,mBAAA,OAWA,EAAA,EAAA,uBAAA,EAAA,OAAA,CAQA,MAAA,WAEA,KAAA,MAAA,IAAA,EAAA,KACA,KAAA,YAAA,GAaA,QAAA,SAAA,GAEA,iBAAA,IACA,EAAA,EAAA,MAAA,IAIA,KAAA,MAAA,OAAA,GACA,KAAA,aAAA,EAAA,UAiBA,SAAA,SAAA,GAEA,IAAA,EAAA,KAAA,MACA,EAAA,EAAA,MACA,EAAA,EAAA,SACA,EAAA,KAAA,UAIA,EAAA,GAHA,EAAA,GAcA,GARA,EAFA,EAEA,EAAA,KAAA,GAIA,EAAA,KAAA,EAAA,GAAA,KAAA,eAAA,IAIA,EAGA,EAAA,EAAA,IAAA,EAAA,EAAA,GAGA,GAAA,EAAA,CACA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAEA,KAAA,gBAAA,EAAA,GAIA,IAAA,EAAA,EAAA,OAAA,EAAA,GACA,EAAA,UAAA,EAIA,OAAA,IAAA,EAAA,KAAA,EAAA,IAYA,MAAA,WACA,IAAA,EAAA,EAAA,MAAA,KAAA,MAGA,OAFA,EAAA,MAAA,KAAA,MAAA,QAEA,GAGA,eAAA,IA2IA,GAnIA,EAAA,OAAA,EAAA,OAAA,CAIA,IAAA,EAAA,SAWA,KAAA,SAAA,GAEA,KAAA,IAAA,KAAA,IAAA,OAAA,GAGA,KAAA,SAUA,MAAA,WAEA,EAAA,MAAA,KAAA,MAGA,KAAA,YAeA,OAAA,SAAA,GAQA,OANA,KAAA,QAAA,GAGA,KAAA,WAGA,MAiBA,SAAA,SAAA,GASA,OAPA,GACA,KAAA,QAAA,GAIA,KAAA,eAKA,UAAA,GAeA,cAAA,SAAA,GACA,OAAA,SAAA,EAAA,GACA,OAAA,IAAA,EAAA,KAAA,GAAA,SAAA,KAiBA,kBAAA,SAAA,GACA,OAAA,SAAA,EAAA,GACA,OAAA,IAAA,EAAA,KAAA,KAAA,EAAA,GAAA,SAAA,OAQA,EAAA,KAAA,IAEA,OAAA,EA/tBA,CAguBA,MAGA,OAAA;;;AC/mBA,IAAA,GAtIA,SAAA,EAAA,GACA,iBAAA,QAEA,OAAA,QAAA,QAAA,EAAA,QAAA,WAEA,mBAAA,GAAA,EAAA,IAEA,EAAA,CAAA,UAAA,GAIA,EAAA,EAAA,UAXA,CAaA,KAAA,SAAA,GAuHA,OArHA,WAEA,IAAA,EAAA,EAEA,EADA,EAAA,IACA,UACA,EAAA,IAKA,OAAA,CAcA,UAAA,SAAA,GAEA,IAAA,EAAA,EAAA,MACA,EAAA,EAAA,SACA,EAAA,KAAA,KAGA,EAAA,QAIA,IADA,IAAA,EAAA,GACA,EAAA,EAAA,EAAA,EAAA,GAAA,EAOA,IANA,IAIA,GAJA,EAAA,IAAA,KAAA,GAAA,EAAA,EAAA,EAAA,MAIA,IAHA,EAAA,EAAA,IAAA,KAAA,IAAA,EAAA,GAAA,EAAA,EAAA,MAGA,EAFA,EAAA,EAAA,IAAA,KAAA,IAAA,EAAA,GAAA,EAAA,EAAA,IAIA,EAAA,EAAA,EAAA,GAAA,EAAA,IAAA,EAAA,EAAA,IACA,EAAA,KAAA,EAAA,OAAA,IAAA,GAAA,EAAA,GAAA,KAKA,IAAA,EAAA,EAAA,OAAA,IACA,GAAA,EACA,KAAA,EAAA,OAAA,GACA,EAAA,KAAA,GAIA,OAAA,EAAA,KAAA,KAgBA,MAAA,SAAA,GAEA,IAAA,EAAA,EAAA,OACA,EAAA,KAAA,KACA,EAAA,KAAA,YAEA,IAAA,EAAA,CACA,EAAA,KAAA,YAAA,GACA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,OAAA,IACA,EAAA,EAAA,WAAA,IAAA,EAKA,IAAA,EAAA,EAAA,OAAA,IACA,GAAA,EAAA,CACA,IAAA,EAAA,EAAA,QAAA,IACA,IAAA,IACA,EAAA,GAKA,OAOA,SAAA,EAAA,EAAA,GAGA,IAFA,IAAA,EAAA,GACA,EAAA,EACA,EAAA,EAAA,EAAA,EAAA,IACA,GAAA,EAAA,EAAA,CACA,IAAA,EAAA,EAAA,EAAA,WAAA,EAAA,KAAA,EAAA,EAAA,EACA,EAAA,EAAA,EAAA,WAAA,MAAA,EAAA,EAAA,EAAA,EACA,EAAA,IAAA,KAAA,EAAA,IAAA,GAAA,EAAA,EAAA,EACA,IAGA,OAAA,EAAA,OAAA,EAAA,GAlBA,CAAA,EAAA,EAAA,IAIA,KAAA,qEAlGA,GAqHA,EAAA,IAAA;;;ACuIA,IAAA,GA3QA,SAAA,EAAA,GACA,iBAAA,QAEA,OAAA,QAAA,QAAA,EAAA,QAAA,WAEA,mBAAA,GAAA,EAAA,IAEA,EAAA,CAAA,UAAA,GAIA,EAAA,EAAA,UAXA,CAaA,KAAA,SAAA,GA4PA,OA1PA,SAAA,GAEA,IAAA,EAAA,EACA,EAAA,EAAA,IACA,EAAA,EAAA,UACA,EAAA,EAAA,OACA,EAAA,EAAA,KAGA,EAAA,IAGA,WACA,IAAA,IAAA,EAAA,EAAA,EAAA,GAAA,IACA,EAAA,GAAA,WAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,EAFA,GASA,IAAA,EAAA,EAAA,IAAA,EAAA,OAAA,CACA,SAAA,WACA,KAAA,MAAA,IAAA,EAAA,KAAA,CACA,WAAA,WACA,WAAA,aAIA,gBAAA,SAAA,EAAA,GAEA,IAAA,IAAA,EAAA,EAAA,EAAA,GAAA,IAAA,CAEA,IAAA,EAAA,EAAA,EACA,EAAA,EAAA,GAEA,EAAA,GACA,UAAA,GAAA,EAAA,IAAA,IACA,YAAA,GAAA,GAAA,IAAA,GAKA,IAAA,EAAA,KAAA,MAAA,MAEA,EAAA,EAAA,EAAA,GACA,EAAA,EAAA,EAAA,GACA,EAAA,EAAA,EAAA,GACA,EAAA,EAAA,EAAA,GACA,EAAA,EAAA,EAAA,GACA,EAAA,EAAA,EAAA,GACA,EAAA,EAAA,EAAA,GACA,EAAA,EAAA,EAAA,GACA,EAAA,EAAA,EAAA,GACA,EAAA,EAAA,EAAA,GACA,EAAA,EAAA,EAAA,IACA,EAAA,EAAA,EAAA,IACA,EAAA,EAAA,EAAA,IACA,EAAA,EAAA,EAAA,IACA,EAAA,EAAA,EAAA,IACA,EAAA,EAAA,EAAA,IAGA,EAAA,EAAA,GACA,EAAA,EAAA,GACA,EAAA,EAAA,GACA,EAAA,EAAA,GAGA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,IACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,IACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,IACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,IACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,IACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,IACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,IACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,IACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,IACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,IACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,KAGA,EAAA,EAAA,EAFA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,KAEA,EAAA,EAAA,EAAA,EAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,KAGA,EAAA,EAAA,EAFA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,KAEA,EAAA,EAAA,EAAA,EAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,KAGA,EAAA,EAAA,EAFA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,KAEA,EAAA,EAAA,EAAA,EAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA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","file":"visicraft-lib.umd.js","sourceRoot":"../src","sourcesContent":["import {RxCollection, RxDocument, RxJsonSchema} from \"rxdb\";\nimport {VisicraftDatastore} from \".\";\n\nexport type RaceDocumentType = {\n    identifier: string;\n\n    description: string;\n\n    summary: string;\n\n    title: string;\n};\n\nexport type RaceDocumentMethods = {};\n\nexport type RaceCollectionMethods = {};\n\nexport type RaceDocument = RxDocument<RaceDocumentType, RaceDocumentMethods>;\n\nexport type RaceCollection = RxCollection<\n    RaceDocumentType,\n    RaceDocumentMethods,\n    RaceCollectionMethods\n>;\n\nexport const RACE_COLLECTION_METHODS: RaceCollectionMethods = {};\n\nexport const RACE_DOCUMENT_METHODS: RaceDocumentMethods = {};\n\nexport const RACE_DOCUMENT_SCHEMA: RxJsonSchema<RaceDocumentType> = {\n    title: \"races\",\n    description: \"Schema for validating internally stored WCS Races\",\n    version: 0,\n\n    keyCompression: true,\n\n    required: [\"description\", \"summary\", \"title\"],\n    type: \"object\",\n\n    properties: {\n        identifier: {\n            type: \"string\",\n            primary: true\n        },\n\n        description: {type: \"string\"},\n        summary: {type: \"string\"},\n        title: {type: \"string\"}\n    }\n};\n\n/**\n * Creates the Race collection on the datastore, if not previously existed\n */\nexport function create_collection(datastore: VisicraftDatastore): Promise<void> {\n    return datastore.collection({\n        name: \"races\",\n\n        methods: RACE_DOCUMENT_METHODS,\n        schema: RACE_DOCUMENT_SCHEMA,\n        statics: RACE_COLLECTION_METHODS\n    });\n}\n","import {RxDatabase} from \"rxdb\";\n\nimport {RaceCollection, create_collection as create_races_collection} from \"./races\";\n\nexport type VisicraftCollections = {\n    races: RaceCollection;\n};\n\nexport type VisicraftDatastore = RxDatabase<VisicraftCollections>;\n\n/**\n * Creates the various collections on the datastores, if they don't already exist\n */\nexport function create_collections(datastore: VisicraftDatastore): Promise<void[]> {\n    const promise = Promise.all([create_races_collection(datastore)]);\n\n    return promise;\n}\n","'use strict';\n\nmodule.exports = argsArray;\n\nfunction argsArray(fun) {\n  return function () {\n    var len = arguments.length;\n    if (len) {\n      var args = [];\n      var i = -1;\n      while (++i < len) {\n        args[i] = arguments[i];\n      }\n      return fun.call(this, args);\n    } else {\n      return fun.call(this, []);\n    }\n  };\n}","function mangle(key) {\n  return '$' + key;\n}\nfunction unmangle(key) {\n  return key.substring(1);\n}\nfunction Map$1() {\n  this._store = {};\n}\nMap$1.prototype.get = function (key) {\n  var mangled = mangle(key);\n  return this._store[mangled];\n};\nMap$1.prototype.set = function (key, value) {\n  var mangled = mangle(key);\n  this._store[mangled] = value;\n  return true;\n};\nMap$1.prototype.has = function (key) {\n  var mangled = mangle(key);\n  return mangled in this._store;\n};\nMap$1.prototype.delete = function (key) {\n  var mangled = mangle(key);\n  var res = mangled in this._store;\n  delete this._store[mangled];\n  return res;\n};\nMap$1.prototype.forEach = function (cb) {\n  var keys = Object.keys(this._store);\n  for (var i = 0, len = keys.length; i < len; i++) {\n    var key = keys[i];\n    var value = this._store[key];\n    key = unmangle(key);\n    cb(value, key);\n  }\n};\nObject.defineProperty(Map$1.prototype, 'size', {\n  get: function () {\n    return Object.keys(this._store).length;\n  }\n});\n\nfunction Set$1(array) {\n  this._store = new Map$1();\n\n  // init with an array\n  if (array && Array.isArray(array)) {\n    for (var i = 0, len = array.length; i < len; i++) {\n      this.add(array[i]);\n    }\n  }\n}\nSet$1.prototype.add = function (key) {\n  return this._store.set(key, true);\n};\nSet$1.prototype.has = function (key) {\n  return this._store.has(key);\n};\nSet$1.prototype.forEach = function (cb) {\n  this._store.forEach(function (value, key) {\n    cb(key);\n  });\n};\nObject.defineProperty(Set$1.prototype, 'size', {\n  get: function () {\n    return this._store.size;\n  }\n});\n\n/* global Map,Set,Symbol */\n// Based on https://kangax.github.io/compat-table/es6/ we can sniff out\n// incomplete Map/Set implementations which would otherwise cause our tests to fail.\n// Notably they fail in IE11 and iOS 8.4, which this prevents.\nfunction supportsMapAndSet() {\n  if (typeof Symbol === 'undefined' || typeof Map === 'undefined' || typeof Set === 'undefined') {\n    return false;\n  }\n  var prop = Object.getOwnPropertyDescriptor(Map, Symbol.species);\n  return prop && 'get' in prop && Map[Symbol.species] === Map;\n}\n\n// based on https://github.com/montagejs/collections\n\nvar ExportedSet;\nvar ExportedMap;\n\n{\n  if (supportsMapAndSet()) { // prefer built-in Map/Set\n    ExportedSet = Set;\n    ExportedMap = Map;\n  } else { // fall back to our polyfill\n    ExportedSet = Set$1;\n    ExportedMap = Map$1;\n  }\n}\n\nexport { ExportedSet as Set, ExportedMap as Map };\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","'use strict';\nvar Mutation = global.MutationObserver || global.WebKitMutationObserver;\n\nvar scheduleDrain;\n\n{\n  if (Mutation) {\n    var called = 0;\n    var observer = new Mutation(nextTick);\n    var element = global.document.createTextNode('');\n    observer.observe(element, {\n      characterData: true\n    });\n    scheduleDrain = function () {\n      element.data = (called = ++called % 2);\n    };\n  } else if (!global.setImmediate && typeof global.MessageChannel !== 'undefined') {\n    var channel = new global.MessageChannel();\n    channel.port1.onmessage = nextTick;\n    scheduleDrain = function () {\n      channel.port2.postMessage(0);\n    };\n  } else if ('document' in global && 'onreadystatechange' in global.document.createElement('script')) {\n    scheduleDrain = function () {\n\n      // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n      // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n      var scriptEl = global.document.createElement('script');\n      scriptEl.onreadystatechange = function () {\n        nextTick();\n\n        scriptEl.onreadystatechange = null;\n        scriptEl.parentNode.removeChild(scriptEl);\n        scriptEl = null;\n      };\n      global.document.documentElement.appendChild(scriptEl);\n    };\n  } else {\n    scheduleDrain = function () {\n      setTimeout(nextTick, 0);\n    };\n  }\n}\n\nvar draining;\nvar queue = [];\n//named nextTick for less confusing stack traces\nfunction nextTick() {\n  draining = true;\n  var i, oldQueue;\n  var len = queue.length;\n  while (len) {\n    oldQueue = queue;\n    queue = [];\n    i = -1;\n    while (++i < len) {\n      oldQueue[i]();\n    }\n    len = queue.length;\n  }\n  draining = false;\n}\n\nmodule.exports = immediate;\nfunction immediate(task) {\n  if (queue.push(task) === 1 && !draining) {\n    scheduleDrain();\n  }\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","import inherits from 'inherits';\n\ninherits(PouchError, Error);\n\nfunction PouchError(status, error, reason) {\n  Error.call(this, reason);\n  this.status = status;\n  this.name = error;\n  this.message = reason;\n  this.error = true;\n}\n\nPouchError.prototype.toString = function () {\n  return JSON.stringify({\n    status: this.status,\n    name: this.name,\n    message: this.message,\n    reason: this.reason\n  });\n};\n\nvar UNAUTHORIZED = new PouchError(401, 'unauthorized', \"Name or password is incorrect.\");\nvar MISSING_BULK_DOCS = new PouchError(400, 'bad_request', \"Missing JSON list of 'docs'\");\nvar MISSING_DOC = new PouchError(404, 'not_found', 'missing');\nvar REV_CONFLICT = new PouchError(409, 'conflict', 'Document update conflict');\nvar INVALID_ID = new PouchError(400, 'bad_request', '_id field must contain a string');\nvar MISSING_ID = new PouchError(412, 'missing_id', '_id is required for puts');\nvar RESERVED_ID = new PouchError(400, 'bad_request', 'Only reserved document ids may start with underscore.');\nvar NOT_OPEN = new PouchError(412, 'precondition_failed', 'Database not open');\nvar UNKNOWN_ERROR = new PouchError(500, 'unknown_error', 'Database encountered an unknown error');\nvar BAD_ARG = new PouchError(500, 'badarg', 'Some query argument is invalid');\nvar INVALID_REQUEST = new PouchError(400, 'invalid_request', 'Request was invalid');\nvar QUERY_PARSE_ERROR = new PouchError(400, 'query_parse_error', 'Some query parameter is invalid');\nvar DOC_VALIDATION = new PouchError(500, 'doc_validation', 'Bad special document member');\nvar BAD_REQUEST = new PouchError(400, 'bad_request', 'Something wrong with the request');\nvar NOT_AN_OBJECT = new PouchError(400, 'bad_request', 'Document must be a JSON object');\nvar DB_MISSING = new PouchError(404, 'not_found', 'Database not found');\nvar IDB_ERROR = new PouchError(500, 'indexed_db_went_bad', 'unknown');\nvar WSQ_ERROR = new PouchError(500, 'web_sql_went_bad', 'unknown');\nvar LDB_ERROR = new PouchError(500, 'levelDB_went_went_bad', 'unknown');\nvar FORBIDDEN = new PouchError(403, 'forbidden', 'Forbidden by design doc validate_doc_update function');\nvar INVALID_REV = new PouchError(400, 'bad_request', 'Invalid rev format');\nvar FILE_EXISTS = new PouchError(412, 'file_exists', 'The database could not be created, the file already exists.');\nvar MISSING_STUB = new PouchError(412, 'missing_stub', 'A pre-existing attachment stub wasn\\'t found');\nvar INVALID_URL = new PouchError(413, 'invalid_url', 'Provided URL is invalid');\n\nfunction createError(error, reason) {\n  function CustomPouchError(reason) {\n    // inherit error properties from our parent error manually\n    // so as to allow proper JSON parsing.\n    /* jshint ignore:start */\n    for (var p in error) {\n      if (typeof error[p] !== 'function') {\n        this[p] = error[p];\n      }\n    }\n    /* jshint ignore:end */\n    if (reason !== undefined) {\n      this.reason = reason;\n    }\n  }\n  CustomPouchError.prototype = PouchError.prototype;\n  return new CustomPouchError(reason);\n}\n\nfunction generateErrorFromResponse(err) {\n\n  if (typeof err !== 'object') {\n    var data = err;\n    err = UNKNOWN_ERROR;\n    err.data = data;\n  }\n\n  if ('error' in err && err.error === 'conflict') {\n    err.name = 'conflict';\n    err.status = 409;\n  }\n\n  if (!('name' in err)) {\n    err.name = err.error || 'unknown';\n  }\n\n  if (!('status' in err)) {\n    err.status = 500;\n  }\n\n  if (!('message' in err)) {\n    err.message = err.message || err.reason;\n  }\n\n  return err;\n}\n\nexport { UNAUTHORIZED, MISSING_BULK_DOCS, MISSING_DOC, REV_CONFLICT, INVALID_ID, MISSING_ID, RESERVED_ID, NOT_OPEN, UNKNOWN_ERROR, BAD_ARG, INVALID_REQUEST, QUERY_PARSE_ERROR, DOC_VALIDATION, BAD_REQUEST, NOT_AN_OBJECT, DB_MISSING, WSQ_ERROR, LDB_ERROR, FORBIDDEN, INVALID_REV, FILE_EXISTS, MISSING_STUB, IDB_ERROR, INVALID_URL, createError, generateErrorFromResponse };\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = $getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  var args = [];\n  for (var i = 0; i < arguments.length; i++) args.push(arguments[i]);\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    ReflectApply(this.listener, this.target, args);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && msCrypto.getRandomValues.bind(msCrypto));\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  return bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]];\n}\n\nmodule.exports = bytesToUuid;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n","var thisAtob = function (str) {\n  return atob(str);\n};\n\nvar thisBtoa = function (str) {\n  return btoa(str);\n};\n\n// Abstracts constructing a Blob object, so it also works in older\n// browsers that don't support the native Blob constructor (e.g.\n// old QtWebKit versions, Android < 4.4).\nfunction createBlob(parts, properties) {\n  /* global BlobBuilder,MSBlobBuilder,MozBlobBuilder,WebKitBlobBuilder */\n  parts = parts || [];\n  properties = properties || {};\n  try {\n    return new Blob(parts, properties);\n  } catch (e) {\n    if (e.name !== \"TypeError\") {\n      throw e;\n    }\n    var Builder = typeof BlobBuilder !== 'undefined' ? BlobBuilder :\n                  typeof MSBlobBuilder !== 'undefined' ? MSBlobBuilder :\n                  typeof MozBlobBuilder !== 'undefined' ? MozBlobBuilder :\n                  WebKitBlobBuilder;\n    var builder = new Builder();\n    for (var i = 0; i < parts.length; i += 1) {\n      builder.append(parts[i]);\n    }\n    return builder.getBlob(properties.type);\n  }\n}\n\n// From http://stackoverflow.com/questions/14967647/ (continues on next line)\n// encode-decode-image-with-base64-breaks-image (2013-04-21)\nfunction binaryStringToArrayBuffer(bin) {\n  var length = bin.length;\n  var buf = new ArrayBuffer(length);\n  var arr = new Uint8Array(buf);\n  for (var i = 0; i < length; i++) {\n    arr[i] = bin.charCodeAt(i);\n  }\n  return buf;\n}\n\nfunction binStringToBluffer(binString, type) {\n  return createBlob([binaryStringToArrayBuffer(binString)], {type: type});\n}\n\nfunction b64ToBluffer(b64, type) {\n  return binStringToBluffer(thisAtob(b64), type);\n}\n\n//Can't find original post, but this is close\n//http://stackoverflow.com/questions/6965107/ (continues on next line)\n//converting-between-strings-and-arraybuffers\nfunction arrayBufferToBinaryString(buffer) {\n  var binary = '';\n  var bytes = new Uint8Array(buffer);\n  var length = bytes.byteLength;\n  for (var i = 0; i < length; i++) {\n    binary += String.fromCharCode(bytes[i]);\n  }\n  return binary;\n}\n\n// shim for browsers that don't support it\nfunction readAsBinaryString(blob, callback) {\n  var reader = new FileReader();\n  var hasBinaryString = typeof reader.readAsBinaryString === 'function';\n  reader.onloadend = function (e) {\n    var result = e.target.result || '';\n    if (hasBinaryString) {\n      return callback(result);\n    }\n    callback(arrayBufferToBinaryString(result));\n  };\n  if (hasBinaryString) {\n    reader.readAsBinaryString(blob);\n  } else {\n    reader.readAsArrayBuffer(blob);\n  }\n}\n\nfunction blobToBinaryString(blobOrBuffer, callback) {\n  readAsBinaryString(blobOrBuffer, function (bin) {\n    callback(bin);\n  });\n}\n\nfunction blobToBase64(blobOrBuffer, callback) {\n  blobToBinaryString(blobOrBuffer, function (base64) {\n    callback(thisBtoa(base64));\n  });\n}\n\n// simplified API. universal browser support is assumed\nfunction readAsArrayBuffer(blob, callback) {\n  var reader = new FileReader();\n  reader.onloadend = function (e) {\n    var result = e.target.result || new ArrayBuffer(0);\n    callback(result);\n  };\n  reader.readAsArrayBuffer(blob);\n}\n\n// this is not used in the browser\nfunction typedBuffer() {\n}\n\nexport { thisAtob as atob, thisBtoa as btoa, b64ToBluffer as base64StringToBlobOrBuffer, binaryStringToArrayBuffer, binStringToBluffer as binaryStringToBlobOrBuffer, createBlob as blob, blobToBase64 as blobOrBufferToBase64, blobToBinaryString as blobOrBufferToBinaryString, readAsArrayBuffer, readAsBinaryString, typedBuffer };\n","(function (factory) {\n    if (typeof exports === 'object') {\n        // Node/CommonJS\n        module.exports = factory();\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD\n        define(factory);\n    } else {\n        // Browser globals (with support for web workers)\n        var glob;\n\n        try {\n            glob = window;\n        } catch (e) {\n            glob = self;\n        }\n\n        glob.SparkMD5 = factory();\n    }\n}(function (undefined) {\n\n    'use strict';\n\n    /*\n     * Fastest md5 implementation around (JKM md5).\n     * Credits: Joseph Myers\n     *\n     * @see http://www.myersdaily.org/joseph/javascript/md5-text.html\n     * @see http://jsperf.com/md5-shootout/7\n     */\n\n    /* this function is much faster,\n      so if possible we use it. Some IEs\n      are the only ones I know of that\n      need the idiotic second function,\n      generated by an if clause.  */\n    var add32 = function (a, b) {\n        return (a + b) & 0xFFFFFFFF;\n    },\n        hex_chr = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\n\n\n    function cmn(q, a, b, x, s, t) {\n        a = add32(add32(a, q), add32(x, t));\n        return add32((a << s) | (a >>> (32 - s)), b);\n    }\n\n    function md5cycle(x, k) {\n        var a = x[0],\n            b = x[1],\n            c = x[2],\n            d = x[3];\n\n        a += (b & c | ~b & d) + k[0] - 680876936 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[1] - 389564586 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[2] + 606105819 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[3] - 1044525330 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[4] - 176418897 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[5] + 1200080426 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[6] - 1473231341 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[7] - 45705983 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[8] + 1770035416 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[9] - 1958414417 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[10] - 42063 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[11] - 1990404162 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[12] + 1804603682 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[13] - 40341101 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[14] - 1502002290 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[15] + 1236535329 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n\n        a += (b & d | c & ~d) + k[1] - 165796510 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[6] - 1069501632 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[11] + 643717713 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[0] - 373897302 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[5] - 701558691 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[10] + 38016083 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[15] - 660478335 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[4] - 405537848 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[9] + 568446438 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[14] - 1019803690 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[3] - 187363961 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[8] + 1163531501 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[13] - 1444681467 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[2] - 51403784 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[7] + 1735328473 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[12] - 1926607734 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n\n        a += (b ^ c ^ d) + k[5] - 378558 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[8] - 2022574463 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[11] + 1839030562 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[14] - 35309556 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[1] - 1530992060 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[4] + 1272893353 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[7] - 155497632 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[10] - 1094730640 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[13] + 681279174 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[0] - 358537222 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[3] - 722521979 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[6] + 76029189 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[9] - 640364487 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[12] - 421815835 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[15] + 530742520 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[2] - 995338651 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n\n        a += (c ^ (b | ~d)) + k[0] - 198630844 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[7] + 1126891415 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[14] - 1416354905 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[5] - 57434055 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[12] + 1700485571 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[3] - 1894986606 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[10] - 1051523 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[1] - 2054922799 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[8] + 1873313359 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[15] - 30611744 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[6] - 1560198380 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[13] + 1309151649 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[4] - 145523070 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[11] - 1120210379 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[2] + 718787259 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[9] - 343485551 | 0;\n        b  = (b << 21 | b >>> 11) + c | 0;\n\n        x[0] = a + x[0] | 0;\n        x[1] = b + x[1] | 0;\n        x[2] = c + x[2] | 0;\n        x[3] = d + x[3] | 0;\n    }\n\n    function md5blk(s) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = s.charCodeAt(i) + (s.charCodeAt(i + 1) << 8) + (s.charCodeAt(i + 2) << 16) + (s.charCodeAt(i + 3) << 24);\n        }\n        return md5blks;\n    }\n\n    function md5blk_array(a) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = a[i] + (a[i + 1] << 8) + (a[i + 2] << 16) + (a[i + 3] << 24);\n        }\n        return md5blks;\n    }\n\n    function md51(s) {\n        var n = s.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk(s.substring(i - 64, i)));\n        }\n        s = s.substring(i - 64);\n        length = s.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= s.charCodeAt(i) << ((i % 4) << 3);\n        }\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n        return state;\n    }\n\n    function md51_array(a) {\n        var n = a.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk_array(a.subarray(i - 64, i)));\n        }\n\n        // Not sure if it is a bug, however IE10 will always produce a sub array of length 1\n        // containing the last element of the parent array if the sub array specified starts\n        // beyond the length of the parent array - weird.\n        // https://connect.microsoft.com/IE/feedback/details/771452/typed-array-subarray-issue\n        a = (i - 64) < n ? a.subarray(i - 64) : new Uint8Array(0);\n\n        length = a.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= a[i] << ((i % 4) << 3);\n        }\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n\n        return state;\n    }\n\n    function rhex(n) {\n        var s = '',\n            j;\n        for (j = 0; j < 4; j += 1) {\n            s += hex_chr[(n >> (j * 8 + 4)) & 0x0F] + hex_chr[(n >> (j * 8)) & 0x0F];\n        }\n        return s;\n    }\n\n    function hex(x) {\n        var i;\n        for (i = 0; i < x.length; i += 1) {\n            x[i] = rhex(x[i]);\n        }\n        return x.join('');\n    }\n\n    // In some cases the fast add32 function cannot be used..\n    if (hex(md51('hello')) !== '5d41402abc4b2a76b9719d911017c592') {\n        add32 = function (x, y) {\n            var lsw = (x & 0xFFFF) + (y & 0xFFFF),\n                msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n            return (msw << 16) | (lsw & 0xFFFF);\n        };\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * ArrayBuffer slice polyfill.\n     *\n     * @see https://github.com/ttaubert/node-arraybuffer-slice\n     */\n\n    if (typeof ArrayBuffer !== 'undefined' && !ArrayBuffer.prototype.slice) {\n        (function () {\n            function clamp(val, length) {\n                val = (val | 0) || 0;\n\n                if (val < 0) {\n                    return Math.max(val + length, 0);\n                }\n\n                return Math.min(val, length);\n            }\n\n            ArrayBuffer.prototype.slice = function (from, to) {\n                var length = this.byteLength,\n                    begin = clamp(from, length),\n                    end = length,\n                    num,\n                    target,\n                    targetArray,\n                    sourceArray;\n\n                if (to !== undefined) {\n                    end = clamp(to, length);\n                }\n\n                if (begin > end) {\n                    return new ArrayBuffer(0);\n                }\n\n                num = end - begin;\n                target = new ArrayBuffer(num);\n                targetArray = new Uint8Array(target);\n\n                sourceArray = new Uint8Array(this, begin, num);\n                targetArray.set(sourceArray);\n\n                return target;\n            };\n        })();\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * Helpers.\n     */\n\n    function toUtf8(str) {\n        if (/[\\u0080-\\uFFFF]/.test(str)) {\n            str = unescape(encodeURIComponent(str));\n        }\n\n        return str;\n    }\n\n    function utf8Str2ArrayBuffer(str, returnUInt8Array) {\n        var length = str.length,\n           buff = new ArrayBuffer(length),\n           arr = new Uint8Array(buff),\n           i;\n\n        for (i = 0; i < length; i += 1) {\n            arr[i] = str.charCodeAt(i);\n        }\n\n        return returnUInt8Array ? arr : buff;\n    }\n\n    function arrayBuffer2Utf8Str(buff) {\n        return String.fromCharCode.apply(null, new Uint8Array(buff));\n    }\n\n    function concatenateArrayBuffers(first, second, returnUInt8Array) {\n        var result = new Uint8Array(first.byteLength + second.byteLength);\n\n        result.set(new Uint8Array(first));\n        result.set(new Uint8Array(second), first.byteLength);\n\n        return returnUInt8Array ? result : result.buffer;\n    }\n\n    function hexToBinaryString(hex) {\n        var bytes = [],\n            length = hex.length,\n            x;\n\n        for (x = 0; x < length - 1; x += 2) {\n            bytes.push(parseInt(hex.substr(x, 2), 16));\n        }\n\n        return String.fromCharCode.apply(String, bytes);\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation.\n     *\n     * Use this class to perform an incremental md5, otherwise use the\n     * static methods instead.\n     */\n\n    function SparkMD5() {\n        // call reset to init the instance\n        this.reset();\n    }\n\n    /**\n     * Appends a string.\n     * A conversion will be applied if an utf8 string is detected.\n     *\n     * @param {String} str The string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.append = function (str) {\n        // Converts the string to utf8 bytes if necessary\n        // Then append as binary\n        this.appendBinary(toUtf8(str));\n\n        return this;\n    };\n\n    /**\n     * Appends a binary string.\n     *\n     * @param {String} contents The binary string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.appendBinary = function (contents) {\n        this._buff += contents;\n        this._length += contents.length;\n\n        var length = this._buff.length,\n            i;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk(this._buff.substring(i - 64, i)));\n        }\n\n        this._buff = this._buff.substring(i - 64);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            i,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff.charCodeAt(i) << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.reset = function () {\n        this._buff = '';\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.prototype.getState = function () {\n        return {\n            buff: this._buff,\n            length: this._length,\n            hash: this._hash\n        };\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.setState = function (state) {\n        this._buff = state.buff;\n        this._length = state.length;\n        this._hash = state.hash;\n\n        return this;\n    };\n\n    /**\n     * Releases memory used by the incremental buffer and other additional\n     * resources. If you plan to use the instance again, use reset instead.\n     */\n    SparkMD5.prototype.destroy = function () {\n        delete this._hash;\n        delete this._buff;\n        delete this._length;\n    };\n\n    /**\n     * Finish the final calculation based on the tail.\n     *\n     * @param {Array}  tail   The tail (will be modified)\n     * @param {Number} length The length of the remaining buffer\n     */\n    SparkMD5.prototype._finish = function (tail, length) {\n        var i = length,\n            tmp,\n            lo,\n            hi;\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(this._hash, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Do the final computation based on the tail and length\n        // Beware that the final length may not fit in 32 bits so we take care of that\n        tmp = this._length * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n        md5cycle(this._hash, tail);\n    };\n\n    /**\n     * Performs the md5 hash on a string.\n     * A conversion will be applied if utf8 string is detected.\n     *\n     * @param {String}  str The string\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hash = function (str, raw) {\n        // Converts the string to utf8 bytes if necessary\n        // Then compute it using the binary function\n        return SparkMD5.hashBinary(toUtf8(str), raw);\n    };\n\n    /**\n     * Performs the md5 hash on a binary string.\n     *\n     * @param {String}  content The binary string\n     * @param {Boolean} raw     True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hashBinary = function (content, raw) {\n        var hash = md51(content),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation for array buffers.\n     *\n     * Use this class to perform an incremental md5 ONLY for array buffers.\n     */\n    SparkMD5.ArrayBuffer = function () {\n        // call reset to init the instance\n        this.reset();\n    };\n\n    /**\n     * Appends an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array to be appended\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.append = function (arr) {\n        var buff = concatenateArrayBuffers(this._buff.buffer, arr, true),\n            length = buff.length,\n            i;\n\n        this._length += arr.byteLength;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk_array(buff.subarray(i - 64, i)));\n        }\n\n        this._buff = (i - 64) < length ? new Uint8Array(buff.buffer.slice(i - 64)) : new Uint8Array(0);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            i,\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff[i] << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.reset = function () {\n        this._buff = new Uint8Array(0);\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.ArrayBuffer.prototype.getState = function () {\n        var state = SparkMD5.prototype.getState.call(this);\n\n        // Convert buffer to a string\n        state.buff = arrayBuffer2Utf8Str(state.buff);\n\n        return state;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.setState = function (state) {\n        // Convert string to buffer\n        state.buff = utf8Str2ArrayBuffer(state.buff, true);\n\n        return SparkMD5.prototype.setState.call(this, state);\n    };\n\n    SparkMD5.ArrayBuffer.prototype.destroy = SparkMD5.prototype.destroy;\n\n    SparkMD5.ArrayBuffer.prototype._finish = SparkMD5.prototype._finish;\n\n    /**\n     * Performs the md5 hash on an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array buffer\n     * @param {Boolean}     raw True to get the raw string, false to get the hex one\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.hash = function (arr, raw) {\n        var hash = md51_array(new Uint8Array(arr)),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    return SparkMD5;\n}));\n","import { btoa, readAsArrayBuffer } from 'pouchdb-binary-utils';\nimport Md5 from 'spark-md5';\n\nvar setImmediateShim = global.setImmediate || global.setTimeout;\nvar MD5_CHUNK_SIZE = 32768;\n\nfunction rawToBase64(raw) {\n  return btoa(raw);\n}\n\nfunction sliceBlob(blob, start, end) {\n  if (blob.webkitSlice) {\n    return blob.webkitSlice(start, end);\n  }\n  return blob.slice(start, end);\n}\n\nfunction appendBlob(buffer, blob, start, end, callback) {\n  if (start > 0 || end < blob.size) {\n    // only slice blob if we really need to\n    blob = sliceBlob(blob, start, end);\n  }\n  readAsArrayBuffer(blob, function (arrayBuffer) {\n    buffer.append(arrayBuffer);\n    callback();\n  });\n}\n\nfunction appendString(buffer, string, start, end, callback) {\n  if (start > 0 || end < string.length) {\n    // only create a substring if we really need to\n    string = string.substring(start, end);\n  }\n  buffer.appendBinary(string);\n  callback();\n}\n\nfunction binaryMd5(data, callback) {\n  var inputIsString = typeof data === 'string';\n  var len = inputIsString ? data.length : data.size;\n  var chunkSize = Math.min(MD5_CHUNK_SIZE, len);\n  var chunks = Math.ceil(len / chunkSize);\n  var currentChunk = 0;\n  var buffer = inputIsString ? new Md5() : new Md5.ArrayBuffer();\n\n  var append = inputIsString ? appendString : appendBlob;\n\n  function next() {\n    setImmediateShim(loadNextChunk);\n  }\n\n  function done() {\n    var raw = buffer.end(true);\n    var base64 = rawToBase64(raw);\n    callback(base64);\n    buffer.destroy();\n  }\n\n  function loadNextChunk() {\n    var start = currentChunk * chunkSize;\n    var end = start + chunkSize;\n    currentChunk++;\n    if (currentChunk < chunks) {\n      append(buffer, data, start, end, next);\n    } else {\n      append(buffer, data, start, end, done);\n    }\n  }\n  loadNextChunk();\n}\n\nfunction stringMd5(string) {\n  return Md5.hash(string);\n}\n\nexport { binaryMd5, stringMd5 };\n","import getArguments from 'argsarray';\nimport { Map } from 'pouchdb-collections';\nimport inherits from 'inherits';\nimport immediate from 'immediate';\nimport { createError, BAD_REQUEST, INVALID_ID, MISSING_ID, RESERVED_ID } from 'pouchdb-errors';\nimport { EventEmitter } from 'events';\nimport uuidV4 from 'uuid';\nimport { stringMd5 } from 'pouchdb-md5';\n\nfunction isBinaryObject(object) {\n  return (typeof ArrayBuffer !== 'undefined' && object instanceof ArrayBuffer) ||\n    (typeof Blob !== 'undefined' && object instanceof Blob);\n}\n\nfunction cloneArrayBuffer(buff) {\n  if (typeof buff.slice === 'function') {\n    return buff.slice(0);\n  }\n  // IE10-11 slice() polyfill\n  var target = new ArrayBuffer(buff.byteLength);\n  var targetArray = new Uint8Array(target);\n  var sourceArray = new Uint8Array(buff);\n  targetArray.set(sourceArray);\n  return target;\n}\n\nfunction cloneBinaryObject(object) {\n  if (object instanceof ArrayBuffer) {\n    return cloneArrayBuffer(object);\n  }\n  var size = object.size;\n  var type = object.type;\n  // Blob\n  if (typeof object.slice === 'function') {\n    return object.slice(0, size, type);\n  }\n  // PhantomJS slice() replacement\n  return object.webkitSlice(0, size, type);\n}\n\n// most of this is borrowed from lodash.isPlainObject:\n// https://github.com/fis-components/lodash.isplainobject/\n// blob/29c358140a74f252aeb08c9eb28bef86f2217d4a/index.js\n\nvar funcToString = Function.prototype.toString;\nvar objectCtorString = funcToString.call(Object);\n\nfunction isPlainObject(value) {\n  var proto = Object.getPrototypeOf(value);\n  /* istanbul ignore if */\n  if (proto === null) { // not sure when this happens, but I guess it can\n    return true;\n  }\n  var Ctor = proto.constructor;\n  return (typeof Ctor == 'function' &&\n    Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString);\n}\n\nfunction clone(object) {\n  var newObject;\n  var i;\n  var len;\n\n  if (!object || typeof object !== 'object') {\n    return object;\n  }\n\n  if (Array.isArray(object)) {\n    newObject = [];\n    for (i = 0, len = object.length; i < len; i++) {\n      newObject[i] = clone(object[i]);\n    }\n    return newObject;\n  }\n\n  // special case: to avoid inconsistencies between IndexedDB\n  // and other backends, we automatically stringify Dates\n  if (object instanceof Date) {\n    return object.toISOString();\n  }\n\n  if (isBinaryObject(object)) {\n    return cloneBinaryObject(object);\n  }\n\n  if (!isPlainObject(object)) {\n    return object; // don't clone objects like Workers\n  }\n\n  newObject = {};\n  for (i in object) {\n    /* istanbul ignore else */\n    if (Object.prototype.hasOwnProperty.call(object, i)) {\n      var value = clone(object[i]);\n      if (typeof value !== 'undefined') {\n        newObject[i] = value;\n      }\n    }\n  }\n  return newObject;\n}\n\nfunction once(fun) {\n  var called = false;\n  return getArguments(function (args) {\n    /* istanbul ignore if */\n    if (called) {\n      // this is a smoke test and should never actually happen\n      throw new Error('once called more than once');\n    } else {\n      called = true;\n      fun.apply(this, args);\n    }\n  });\n}\n\nfunction toPromise(func) {\n  //create the function we will be returning\n  return getArguments(function (args) {\n    // Clone arguments\n    args = clone(args);\n    var self = this;\n    // if the last argument is a function, assume its a callback\n    var usedCB = (typeof args[args.length - 1] === 'function') ? args.pop() : false;\n    var promise = new Promise(function (fulfill, reject) {\n      var resp;\n      try {\n        var callback = once(function (err, mesg) {\n          if (err) {\n            reject(err);\n          } else {\n            fulfill(mesg);\n          }\n        });\n        // create a callback for this invocation\n        // apply the function in the orig context\n        args.push(callback);\n        resp = func.apply(self, args);\n        if (resp && typeof resp.then === 'function') {\n          fulfill(resp);\n        }\n      } catch (e) {\n        reject(e);\n      }\n    });\n    // if there is a callback, call it back\n    if (usedCB) {\n      promise.then(function (result) {\n        usedCB(null, result);\n      }, usedCB);\n    }\n    return promise;\n  });\n}\n\nfunction logApiCall(self, name, args) {\n  /* istanbul ignore if */\n  if (self.constructor.listeners('debug').length) {\n    var logArgs = ['api', self.name, name];\n    for (var i = 0; i < args.length - 1; i++) {\n      logArgs.push(args[i]);\n    }\n    self.constructor.emit('debug', logArgs);\n\n    // override the callback itself to log the response\n    var origCallback = args[args.length - 1];\n    args[args.length - 1] = function (err, res) {\n      var responseArgs = ['api', self.name, name];\n      responseArgs = responseArgs.concat(\n        err ? ['error', err] : ['success', res]\n      );\n      self.constructor.emit('debug', responseArgs);\n      origCallback(err, res);\n    };\n  }\n}\n\nfunction adapterFun(name, callback) {\n  return toPromise(getArguments(function (args) {\n    if (this._closed) {\n      return Promise.reject(new Error('database is closed'));\n    }\n    if (this._destroyed) {\n      return Promise.reject(new Error('database is destroyed'));\n    }\n    var self = this;\n    logApiCall(self, name, args);\n    if (!this.taskqueue.isReady) {\n      return new Promise(function (fulfill, reject) {\n        self.taskqueue.addTask(function (failed) {\n          if (failed) {\n            reject(failed);\n          } else {\n            fulfill(self[name].apply(self, args));\n          }\n        });\n      });\n    }\n    return callback.apply(this, args);\n  }));\n}\n\n// like underscore/lodash _.pick()\nfunction pick(obj, arr) {\n  var res = {};\n  for (var i = 0, len = arr.length; i < len; i++) {\n    var prop = arr[i];\n    if (prop in obj) {\n      res[prop] = obj[prop];\n    }\n  }\n  return res;\n}\n\n// Most browsers throttle concurrent requests at 6, so it's silly\n// to shim _bulk_get by trying to launch potentially hundreds of requests\n// and then letting the majority time out. We can handle this ourselves.\nvar MAX_NUM_CONCURRENT_REQUESTS = 6;\n\nfunction identityFunction(x) {\n  return x;\n}\n\nfunction formatResultForOpenRevsGet(result) {\n  return [{\n    ok: result\n  }];\n}\n\n// shim for P/CouchDB adapters that don't directly implement _bulk_get\nfunction bulkGet(db, opts, callback) {\n  var requests = opts.docs;\n\n  // consolidate into one request per doc if possible\n  var requestsById = new Map();\n  requests.forEach(function (request) {\n    if (requestsById.has(request.id)) {\n      requestsById.get(request.id).push(request);\n    } else {\n      requestsById.set(request.id, [request]);\n    }\n  });\n\n  var numDocs = requestsById.size;\n  var numDone = 0;\n  var perDocResults = new Array(numDocs);\n\n  function collapseResultsAndFinish() {\n    var results = [];\n    perDocResults.forEach(function (res) {\n      res.docs.forEach(function (info) {\n        results.push({\n          id: res.id,\n          docs: [info]\n        });\n      });\n    });\n    callback(null, {results: results});\n  }\n\n  function checkDone() {\n    if (++numDone === numDocs) {\n      collapseResultsAndFinish();\n    }\n  }\n\n  function gotResult(docIndex, id, docs) {\n    perDocResults[docIndex] = {id: id, docs: docs};\n    checkDone();\n  }\n\n  var allRequests = [];\n  requestsById.forEach(function (value, key) {\n    allRequests.push(key);\n  });\n\n  var i = 0;\n\n  function nextBatch() {\n\n    if (i >= allRequests.length) {\n      return;\n    }\n\n    var upTo = Math.min(i + MAX_NUM_CONCURRENT_REQUESTS, allRequests.length);\n    var batch = allRequests.slice(i, upTo);\n    processBatch(batch, i);\n    i += batch.length;\n  }\n\n  function processBatch(batch, offset) {\n    batch.forEach(function (docId, j) {\n      var docIdx = offset + j;\n      var docRequests = requestsById.get(docId);\n\n      // just use the first request as the \"template\"\n      // TODO: The _bulk_get API allows for more subtle use cases than this,\n      // but for now it is unlikely that there will be a mix of different\n      // \"atts_since\" or \"attachments\" in the same request, since it's just\n      // replicate.js that is using this for the moment.\n      // Also, atts_since is aspirational, since we don't support it yet.\n      var docOpts = pick(docRequests[0], ['atts_since', 'attachments']);\n      docOpts.open_revs = docRequests.map(function (request) {\n        // rev is optional, open_revs disallowed\n        return request.rev;\n      });\n\n      // remove falsey / undefined revisions\n      docOpts.open_revs = docOpts.open_revs.filter(identityFunction);\n\n      var formatResult = identityFunction;\n\n      if (docOpts.open_revs.length === 0) {\n        delete docOpts.open_revs;\n\n        // when fetching only the \"winning\" leaf,\n        // transform the result so it looks like an open_revs\n        // request\n        formatResult = formatResultForOpenRevsGet;\n      }\n\n      // globally-supplied options\n      ['revs', 'attachments', 'binary', 'ajax', 'latest'].forEach(function (param) {\n        if (param in opts) {\n          docOpts[param] = opts[param];\n        }\n      });\n      db.get(docId, docOpts, function (err, res) {\n        var result;\n        /* istanbul ignore if */\n        if (err) {\n          result = [{error: err}];\n        } else {\n          result = formatResult(res);\n        }\n        gotResult(docIdx, docId, result);\n        nextBatch();\n      });\n    });\n  }\n\n  nextBatch();\n\n}\n\nvar hasLocal;\n\ntry {\n  localStorage.setItem('_pouch_check_localstorage', 1);\n  hasLocal = !!localStorage.getItem('_pouch_check_localstorage');\n} catch (e) {\n  hasLocal = false;\n}\n\nfunction hasLocalStorage() {\n  return hasLocal;\n}\n\n// Custom nextTick() shim for browsers. In node, this will just be process.nextTick(). We\n\ninherits(Changes, EventEmitter);\n\n/* istanbul ignore next */\nfunction attachBrowserEvents(self) {\n  if (hasLocalStorage()) {\n    addEventListener(\"storage\", function (e) {\n      self.emit(e.key);\n    });\n  }\n}\n\nfunction Changes() {\n  EventEmitter.call(this);\n  this._listeners = {};\n\n  attachBrowserEvents(this);\n}\nChanges.prototype.addListener = function (dbName, id, db, opts) {\n  /* istanbul ignore if */\n  if (this._listeners[id]) {\n    return;\n  }\n  var self = this;\n  var inprogress = false;\n  function eventFunction() {\n    /* istanbul ignore if */\n    if (!self._listeners[id]) {\n      return;\n    }\n    if (inprogress) {\n      inprogress = 'waiting';\n      return;\n    }\n    inprogress = true;\n    var changesOpts = pick(opts, [\n      'style', 'include_docs', 'attachments', 'conflicts', 'filter',\n      'doc_ids', 'view', 'since', 'query_params', 'binary', 'return_docs'\n    ]);\n\n    /* istanbul ignore next */\n    function onError() {\n      inprogress = false;\n    }\n\n    db.changes(changesOpts).on('change', function (c) {\n      if (c.seq > opts.since && !opts.cancelled) {\n        opts.since = c.seq;\n        opts.onChange(c);\n      }\n    }).on('complete', function () {\n      if (inprogress === 'waiting') {\n        immediate(eventFunction);\n      }\n      inprogress = false;\n    }).on('error', onError);\n  }\n  this._listeners[id] = eventFunction;\n  this.on(dbName, eventFunction);\n};\n\nChanges.prototype.removeListener = function (dbName, id) {\n  /* istanbul ignore if */\n  if (!(id in this._listeners)) {\n    return;\n  }\n  EventEmitter.prototype.removeListener.call(this, dbName,\n    this._listeners[id]);\n  delete this._listeners[id];\n};\n\n\n/* istanbul ignore next */\nChanges.prototype.notifyLocalWindows = function (dbName) {\n  //do a useless change on a storage thing\n  //in order to get other windows's listeners to activate\n  if (hasLocalStorage()) {\n    localStorage[dbName] = (localStorage[dbName] === \"a\") ? \"b\" : \"a\";\n  }\n};\n\nChanges.prototype.notify = function (dbName) {\n  this.emit(dbName);\n  this.notifyLocalWindows(dbName);\n};\n\nfunction guardedConsole(method) {\n  /* istanbul ignore else */\n  if (typeof console !== 'undefined' && typeof console[method] === 'function') {\n    var args = Array.prototype.slice.call(arguments, 1);\n    console[method].apply(console, args);\n  }\n}\n\nfunction randomNumber(min, max) {\n  var maxTimeout = 600000; // Hard-coded default of 10 minutes\n  min = parseInt(min, 10) || 0;\n  max = parseInt(max, 10);\n  if (max !== max || max <= min) {\n    max = (min || 1) << 1; //doubling\n  } else {\n    max = max + 1;\n  }\n  // In order to not exceed maxTimeout, pick a random value between half of maxTimeout and maxTimeout\n  if (max > maxTimeout) {\n    min = maxTimeout >> 1; // divide by two\n    max = maxTimeout;\n  }\n  var ratio = Math.random();\n  var range = max - min;\n\n  return ~~(range * ratio + min); // ~~ coerces to an int, but fast.\n}\n\nfunction defaultBackOff(min) {\n  var max = 0;\n  if (!min) {\n    max = 2000;\n  }\n  return randomNumber(min, max);\n}\n\n// designed to give info to browser users, who are disturbed\n// when they see http errors in the console\nfunction explainError(status, str) {\n  guardedConsole('info', 'The above ' + status + ' is totally normal. ' + str);\n}\n\nvar assign;\n{\n  if (typeof Object.assign === 'function') {\n    assign = Object.assign;\n  } else {\n    // lite Object.assign polyfill based on\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n    assign = function (target) {\n      var to = Object(target);\n\n      for (var index = 1; index < arguments.length; index++) {\n        var nextSource = arguments[index];\n\n        if (nextSource != null) { // Skip over if undefined or null\n          for (var nextKey in nextSource) {\n            // Avoid bugs when hasOwnProperty is shadowed\n            if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n              to[nextKey] = nextSource[nextKey];\n            }\n          }\n        }\n      }\n      return to;\n    };\n  }\n}\n\nvar assign$1 = assign;\n\nfunction tryFilter(filter, doc, req) {\n  try {\n    return !filter(doc, req);\n  } catch (err) {\n    var msg = 'Filter function threw: ' + err.toString();\n    return createError(BAD_REQUEST, msg);\n  }\n}\n\nfunction filterChange(opts) {\n  var req = {};\n  var hasFilter = opts.filter && typeof opts.filter === 'function';\n  req.query = opts.query_params;\n\n  return function filter(change) {\n    if (!change.doc) {\n      // CSG sends events on the changes feed that don't have documents,\n      // this hack makes a whole lot of existing code robust.\n      change.doc = {};\n    }\n\n    var filterReturn = hasFilter && tryFilter(opts.filter, change.doc, req);\n\n    if (typeof filterReturn === 'object') {\n      return filterReturn;\n    }\n\n    if (filterReturn) {\n      return false;\n    }\n\n    if (!opts.include_docs) {\n      delete change.doc;\n    } else if (!opts.attachments) {\n      for (var att in change.doc._attachments) {\n        /* istanbul ignore else */\n        if (change.doc._attachments.hasOwnProperty(att)) {\n          change.doc._attachments[att].stub = true;\n        }\n      }\n    }\n    return true;\n  };\n}\n\nfunction flatten(arrs) {\n  var res = [];\n  for (var i = 0, len = arrs.length; i < len; i++) {\n    res = res.concat(arrs[i]);\n  }\n  return res;\n}\n\n// shim for Function.prototype.name,\n// for browsers that don't support it like IE\n\n/* istanbul ignore next */\nfunction f() {}\n\nvar hasName = f.name;\nvar res;\n\n// We dont run coverage in IE\n/* istanbul ignore else */\nif (hasName) {\n  res = function (fun) {\n    return fun.name;\n  };\n} else {\n  res = function (fun) {\n    var match = fun.toString().match(/^\\s*function\\s*(?:(\\S+)\\s*)?\\(/);\n    if (match && match[1]) {\n      return match[1];\n    }\n    else {\n      return '';\n    }\n  };\n}\n\nvar res$1 = res;\n\n// Determine id an ID is valid\n//   - invalid IDs begin with an underescore that does not begin '_design' or\n//     '_local'\n//   - any other string value is a valid id\n// Returns the specific error object for each case\nfunction invalidIdError(id) {\n  var err;\n  if (!id) {\n    err = createError(MISSING_ID);\n  } else if (typeof id !== 'string') {\n    err = createError(INVALID_ID);\n  } else if (/^_/.test(id) && !(/^_(design|local)/).test(id)) {\n    err = createError(RESERVED_ID);\n  }\n  if (err) {\n    throw err;\n  }\n}\n\n// Checks if a PouchDB object is \"remote\" or not. This is\n\nfunction isRemote(db) {\n  if (typeof db._remote === 'boolean') {\n    return db._remote;\n  }\n  /* istanbul ignore next */\n  if (typeof db.type === 'function') {\n    guardedConsole('warn',\n      'db.type() is deprecated and will be removed in ' +\n      'a future version of PouchDB');\n    return db.type() === 'http';\n  }\n  /* istanbul ignore next */\n  return false;\n}\n\nfunction listenerCount(ee, type) {\n  return 'listenerCount' in ee ? ee.listenerCount(type) :\n                                 EventEmitter.listenerCount(ee, type);\n}\n\nfunction parseDesignDocFunctionName(s) {\n  if (!s) {\n    return null;\n  }\n  var parts = s.split('/');\n  if (parts.length === 2) {\n    return parts;\n  }\n  if (parts.length === 1) {\n    return [s, s];\n  }\n  return null;\n}\n\nfunction normalizeDesignDocFunctionName(s) {\n  var normalized = parseDesignDocFunctionName(s);\n  return normalized ? normalized.join('/') : null;\n}\n\n// originally parseUri 1.2.2, now patched by us\n// (c) Steven Levithan <stevenlevithan.com>\n// MIT License\nvar keys = [\"source\", \"protocol\", \"authority\", \"userInfo\", \"user\", \"password\",\n    \"host\", \"port\", \"relative\", \"path\", \"directory\", \"file\", \"query\", \"anchor\"];\nvar qName =\"queryKey\";\nvar qParser = /(?:^|&)([^&=]*)=?([^&]*)/g;\n\n// use the \"loose\" parser\n/* eslint maxlen: 0, no-useless-escape: 0 */\nvar parser = /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\nfunction parseUri(str) {\n  var m = parser.exec(str);\n  var uri = {};\n  var i = 14;\n\n  while (i--) {\n    var key = keys[i];\n    var value = m[i] || \"\";\n    var encoded = ['user', 'password'].indexOf(key) !== -1;\n    uri[key] = encoded ? decodeURIComponent(value) : value;\n  }\n\n  uri[qName] = {};\n  uri[keys[12]].replace(qParser, function ($0, $1, $2) {\n    if ($1) {\n      uri[qName][$1] = $2;\n    }\n  });\n\n  return uri;\n}\n\n// Based on https://github.com/alexdavid/scope-eval v0.0.3\n// (source: https://unpkg.com/scope-eval@0.0.3/scope_eval.js)\n// This is basically just a wrapper around new Function()\n\nfunction scopeEval(source, scope) {\n  var keys = [];\n  var values = [];\n  for (var key in scope) {\n    if (scope.hasOwnProperty(key)) {\n      keys.push(key);\n      values.push(scope[key]);\n    }\n  }\n  keys.push(source);\n  return Function.apply(null, keys).apply(null, values);\n}\n\n// this is essentially the \"update sugar\" function from daleharvey/pouchdb#1388\n// the diffFun tells us what delta to apply to the doc.  it either returns\n// the doc, or false if it doesn't need to do an update after all\nfunction upsert(db, docId, diffFun) {\n  return new Promise(function (fulfill, reject) {\n    db.get(docId, function (err, doc) {\n      if (err) {\n        /* istanbul ignore next */\n        if (err.status !== 404) {\n          return reject(err);\n        }\n        doc = {};\n      }\n\n      // the user might change the _rev, so save it for posterity\n      var docRev = doc._rev;\n      var newDoc = diffFun(doc);\n\n      if (!newDoc) {\n        // if the diffFun returns falsy, we short-circuit as\n        // an optimization\n        return fulfill({updated: false, rev: docRev});\n      }\n\n      // users aren't allowed to modify these values,\n      // so reset them here\n      newDoc._id = docId;\n      newDoc._rev = docRev;\n      fulfill(tryAndPut(db, newDoc, diffFun));\n    });\n  });\n}\n\nfunction tryAndPut(db, doc, diffFun) {\n  return db.put(doc).then(function (res) {\n    return {\n      updated: true,\n      rev: res.rev\n    };\n  }, function (err) {\n    /* istanbul ignore next */\n    if (err.status !== 409) {\n      throw err;\n    }\n    return upsert(db, doc._id, diffFun);\n  });\n}\n\nfunction rev(doc, deterministic_revs) {\n  var clonedDoc = clone(doc);\n  if (!deterministic_revs) {\n    return uuidV4.v4().replace(/-/g, '').toLowerCase();\n  }\n\n  delete clonedDoc._rev_tree;\n  return stringMd5(JSON.stringify(clonedDoc));\n}\n\nvar uuid = uuidV4.v4;\n\nexport { adapterFun, assign$1 as assign, bulkGet as bulkGetShim, Changes as changesHandler, clone, defaultBackOff, explainError, filterChange, flatten, res$1 as functionName, guardedConsole, hasLocalStorage, invalidIdError, isRemote, listenerCount, immediate as nextTick, normalizeDesignDocFunctionName as normalizeDdocFunctionName, once, parseDesignDocFunctionName as parseDdocFunctionName, parseUri, pick, rev, scopeEval, toPromise, upsert, uuid };\n","function pad(str, padWith, upToLength) {\n  var padding = '';\n  var targetLength = upToLength - str.length;\n  /* istanbul ignore next */\n  while (padding.length < targetLength) {\n    padding += padWith;\n  }\n  return padding;\n}\n\nfunction padLeft(str, padWith, upToLength) {\n  var padding = pad(str, padWith, upToLength);\n  return padding + str;\n}\n\nvar MIN_MAGNITUDE = -324; // verified by -Number.MIN_VALUE\nvar MAGNITUDE_DIGITS = 3; // ditto\nvar SEP = ''; // set to '_' for easier debugging \n\nfunction collate(a, b) {\n\n  if (a === b) {\n    return 0;\n  }\n\n  a = normalizeKey(a);\n  b = normalizeKey(b);\n\n  var ai = collationIndex(a);\n  var bi = collationIndex(b);\n  if ((ai - bi) !== 0) {\n    return ai - bi;\n  }\n  switch (typeof a) {\n    case 'number':\n      return a - b;\n    case 'boolean':\n      return a < b ? -1 : 1;\n    case 'string':\n      return stringCollate(a, b);\n  }\n  return Array.isArray(a) ? arrayCollate(a, b) : objectCollate(a, b);\n}\n\n// couch considers null/NaN/Infinity/-Infinity === undefined,\n// for the purposes of mapreduce indexes. also, dates get stringified.\nfunction normalizeKey(key) {\n  switch (typeof key) {\n    case 'undefined':\n      return null;\n    case 'number':\n      if (key === Infinity || key === -Infinity || isNaN(key)) {\n        return null;\n      }\n      return key;\n    case 'object':\n      var origKey = key;\n      if (Array.isArray(key)) {\n        var len = key.length;\n        key = new Array(len);\n        for (var i = 0; i < len; i++) {\n          key[i] = normalizeKey(origKey[i]);\n        }\n      /* istanbul ignore next */\n      } else if (key instanceof Date) {\n        return key.toJSON();\n      } else if (key !== null) { // generic object\n        key = {};\n        for (var k in origKey) {\n          if (origKey.hasOwnProperty(k)) {\n            var val = origKey[k];\n            if (typeof val !== 'undefined') {\n              key[k] = normalizeKey(val);\n            }\n          }\n        }\n      }\n  }\n  return key;\n}\n\nfunction indexify(key) {\n  if (key !== null) {\n    switch (typeof key) {\n      case 'boolean':\n        return key ? 1 : 0;\n      case 'number':\n        return numToIndexableString(key);\n      case 'string':\n        // We've to be sure that key does not contain \\u0000\n        // Do order-preserving replacements:\n        // 0 -> 1, 1\n        // 1 -> 1, 2\n        // 2 -> 2, 2\n        /* eslint-disable no-control-regex */\n        return key\n          .replace(/\\u0002/g, '\\u0002\\u0002')\n          .replace(/\\u0001/g, '\\u0001\\u0002')\n          .replace(/\\u0000/g, '\\u0001\\u0001');\n        /* eslint-enable no-control-regex */\n      case 'object':\n        var isArray = Array.isArray(key);\n        var arr = isArray ? key : Object.keys(key);\n        var i = -1;\n        var len = arr.length;\n        var result = '';\n        if (isArray) {\n          while (++i < len) {\n            result += toIndexableString(arr[i]);\n          }\n        } else {\n          while (++i < len) {\n            var objKey = arr[i];\n            result += toIndexableString(objKey) +\n                toIndexableString(key[objKey]);\n          }\n        }\n        return result;\n    }\n  }\n  return '';\n}\n\n// convert the given key to a string that would be appropriate\n// for lexical sorting, e.g. within a database, where the\n// sorting is the same given by the collate() function.\nfunction toIndexableString(key) {\n  var zero = '\\u0000';\n  key = normalizeKey(key);\n  return collationIndex(key) + SEP + indexify(key) + zero;\n}\n\nfunction parseNumber(str, i) {\n  var originalIdx = i;\n  var num;\n  var zero = str[i] === '1';\n  if (zero) {\n    num = 0;\n    i++;\n  } else {\n    var neg = str[i] === '0';\n    i++;\n    var numAsString = '';\n    var magAsString = str.substring(i, i + MAGNITUDE_DIGITS);\n    var magnitude = parseInt(magAsString, 10) + MIN_MAGNITUDE;\n    /* istanbul ignore next */\n    if (neg) {\n      magnitude = -magnitude;\n    }\n    i += MAGNITUDE_DIGITS;\n    while (true) {\n      var ch = str[i];\n      if (ch === '\\u0000') {\n        break;\n      } else {\n        numAsString += ch;\n      }\n      i++;\n    }\n    numAsString = numAsString.split('.');\n    if (numAsString.length === 1) {\n      num = parseInt(numAsString, 10);\n    } else {\n      /* istanbul ignore next */\n      num = parseFloat(numAsString[0] + '.' + numAsString[1]);\n    }\n    /* istanbul ignore next */\n    if (neg) {\n      num = num - 10;\n    }\n    /* istanbul ignore next */\n    if (magnitude !== 0) {\n      // parseFloat is more reliable than pow due to rounding errors\n      // e.g. Number.MAX_VALUE would return Infinity if we did\n      // num * Math.pow(10, magnitude);\n      num = parseFloat(num + 'e' + magnitude);\n    }\n  }\n  return {num: num, length : i - originalIdx};\n}\n\n// move up the stack while parsing\n// this function moved outside of parseIndexableString for performance\nfunction pop(stack, metaStack) {\n  var obj = stack.pop();\n\n  if (metaStack.length) {\n    var lastMetaElement = metaStack[metaStack.length - 1];\n    if (obj === lastMetaElement.element) {\n      // popping a meta-element, e.g. an object whose value is another object\n      metaStack.pop();\n      lastMetaElement = metaStack[metaStack.length - 1];\n    }\n    var element = lastMetaElement.element;\n    var lastElementIndex = lastMetaElement.index;\n    if (Array.isArray(element)) {\n      element.push(obj);\n    } else if (lastElementIndex === stack.length - 2) { // obj with key+value\n      var key = stack.pop();\n      element[key] = obj;\n    } else {\n      stack.push(obj); // obj with key only\n    }\n  }\n}\n\nfunction parseIndexableString(str) {\n  var stack = [];\n  var metaStack = []; // stack for arrays and objects\n  var i = 0;\n\n  /*eslint no-constant-condition: [\"error\", { \"checkLoops\": false }]*/\n  while (true) {\n    var collationIndex = str[i++];\n    if (collationIndex === '\\u0000') {\n      if (stack.length === 1) {\n        return stack.pop();\n      } else {\n        pop(stack, metaStack);\n        continue;\n      }\n    }\n    switch (collationIndex) {\n      case '1':\n        stack.push(null);\n        break;\n      case '2':\n        stack.push(str[i] === '1');\n        i++;\n        break;\n      case '3':\n        var parsedNum = parseNumber(str, i);\n        stack.push(parsedNum.num);\n        i += parsedNum.length;\n        break;\n      case '4':\n        var parsedStr = '';\n        /*eslint no-constant-condition: [\"error\", { \"checkLoops\": false }]*/\n        while (true) {\n          var ch = str[i];\n          if (ch === '\\u0000') {\n            break;\n          }\n          parsedStr += ch;\n          i++;\n        }\n        // perform the reverse of the order-preserving replacement\n        // algorithm (see above)\n        /* eslint-disable no-control-regex */\n        parsedStr = parsedStr.replace(/\\u0001\\u0001/g, '\\u0000')\n          .replace(/\\u0001\\u0002/g, '\\u0001')\n          .replace(/\\u0002\\u0002/g, '\\u0002');\n        /* eslint-enable no-control-regex */\n        stack.push(parsedStr);\n        break;\n      case '5':\n        var arrayElement = { element: [], index: stack.length };\n        stack.push(arrayElement.element);\n        metaStack.push(arrayElement);\n        break;\n      case '6':\n        var objElement = { element: {}, index: stack.length };\n        stack.push(objElement.element);\n        metaStack.push(objElement);\n        break;\n      /* istanbul ignore next */\n      default:\n        throw new Error(\n          'bad collationIndex or unexpectedly reached end of input: ' +\n            collationIndex);\n    }\n  }\n}\n\nfunction arrayCollate(a, b) {\n  var len = Math.min(a.length, b.length);\n  for (var i = 0; i < len; i++) {\n    var sort = collate(a[i], b[i]);\n    if (sort !== 0) {\n      return sort;\n    }\n  }\n  return (a.length === b.length) ? 0 :\n    (a.length > b.length) ? 1 : -1;\n}\nfunction stringCollate(a, b) {\n  // See: https://github.com/daleharvey/pouchdb/issues/40\n  // This is incompatible with the CouchDB implementation, but its the\n  // best we can do for now\n  return (a === b) ? 0 : ((a > b) ? 1 : -1);\n}\nfunction objectCollate(a, b) {\n  var ak = Object.keys(a), bk = Object.keys(b);\n  var len = Math.min(ak.length, bk.length);\n  for (var i = 0; i < len; i++) {\n    // First sort the keys\n    var sort = collate(ak[i], bk[i]);\n    if (sort !== 0) {\n      return sort;\n    }\n    // if the keys are equal sort the values\n    sort = collate(a[ak[i]], b[bk[i]]);\n    if (sort !== 0) {\n      return sort;\n    }\n\n  }\n  return (ak.length === bk.length) ? 0 :\n    (ak.length > bk.length) ? 1 : -1;\n}\n// The collation is defined by erlangs ordered terms\n// the atoms null, true, false come first, then numbers, strings,\n// arrays, then objects\n// null/undefined/NaN/Infinity/-Infinity are all considered null\nfunction collationIndex(x) {\n  var id = ['boolean', 'number', 'string', 'object'];\n  var idx = id.indexOf(typeof x);\n  //false if -1 otherwise true, but fast!!!!1\n  if (~idx) {\n    if (x === null) {\n      return 1;\n    }\n    if (Array.isArray(x)) {\n      return 5;\n    }\n    return idx < 3 ? (idx + 2) : (idx + 3);\n  }\n  /* istanbul ignore next */\n  if (Array.isArray(x)) {\n    return 5;\n  }\n}\n\n// conversion:\n// x yyy zz...zz\n// x = 0 for negative, 1 for 0, 2 for positive\n// y = exponent (for negative numbers negated) moved so that it's >= 0\n// z = mantisse\nfunction numToIndexableString(num) {\n\n  if (num === 0) {\n    return '1';\n  }\n\n  // convert number to exponential format for easier and\n  // more succinct string sorting\n  var expFormat = num.toExponential().split(/e\\+?/);\n  var magnitude = parseInt(expFormat[1], 10);\n\n  var neg = num < 0;\n\n  var result = neg ? '0' : '2';\n\n  // first sort by magnitude\n  // it's easier if all magnitudes are positive\n  var magForComparison = ((neg ? -magnitude : magnitude) - MIN_MAGNITUDE);\n  var magString = padLeft((magForComparison).toString(), '0', MAGNITUDE_DIGITS);\n\n  result += SEP + magString;\n\n  // then sort by the factor\n  var factor = Math.abs(parseFloat(expFormat[0])); // [1..10)\n  /* istanbul ignore next */\n  if (neg) { // for negative reverse ordering\n    factor = 10 - factor;\n  }\n\n  var factorStr = factor.toFixed(20);\n\n  // strip zeros from the end\n  factorStr = factorStr.replace(/\\.?0+$/, '');\n\n  result += SEP + factorStr;\n\n  return result;\n}\n\nexport { collate, normalizeKey, toIndexableString, parseIndexableString };\n","import { clone } from 'pouchdb-utils';\nimport { collate } from 'pouchdb-collate';\n\n// this would just be \"return doc[field]\", but fields\n// can be \"deep\" due to dot notation\nfunction getFieldFromDoc(doc, parsedField) {\n  var value = doc;\n  for (var i = 0, len = parsedField.length; i < len; i++) {\n    var key = parsedField[i];\n    value = value[key];\n    if (!value) {\n      break;\n    }\n  }\n  return value;\n}\n\nfunction setFieldInDoc(doc, parsedField, value) {\n  for (var i = 0, len = parsedField.length; i < len-1; i++) {\n    var elem = parsedField[i];\n    doc = doc[elem] = {};\n  }\n  doc[parsedField[len-1]] = value;\n}\n\nfunction compare(left, right) {\n  return left < right ? -1 : left > right ? 1 : 0;\n}\n\n// Converts a string in dot notation to an array of its components, with backslash escaping\nfunction parseField(fieldName) {\n  // fields may be deep (e.g. \"foo.bar.baz\"), so parse\n  var fields = [];\n  var current = '';\n  for (var i = 0, len = fieldName.length; i < len; i++) {\n    var ch = fieldName[i];\n    if (ch === '.') {\n      if (i > 0 && fieldName[i - 1] === '\\\\') { // escaped delimiter\n        current = current.substring(0, current.length - 1) + '.';\n      } else { // not escaped, so delimiter\n        fields.push(current);\n        current = '';\n      }\n    } else { // normal character\n      current += ch;\n    }\n  }\n  fields.push(current);\n  return fields;\n}\n\nvar combinationFields = ['$or', '$nor', '$not'];\nfunction isCombinationalField(field) {\n  return combinationFields.indexOf(field) > -1;\n}\n\nfunction getKey(obj) {\n  return Object.keys(obj)[0];\n}\n\nfunction getValue(obj) {\n  return obj[getKey(obj)];\n}\n\n\n// flatten an array of selectors joined by an $and operator\nfunction mergeAndedSelectors(selectors) {\n\n  // sort to ensure that e.g. if the user specified\n  // $and: [{$gt: 'a'}, {$gt: 'b'}], then it's collapsed into\n  // just {$gt: 'b'}\n  var res = {};\n\n  selectors.forEach(function (selector) {\n    Object.keys(selector).forEach(function (field) {\n      var matcher = selector[field];\n      if (typeof matcher !== 'object') {\n        matcher = {$eq: matcher};\n      }\n\n      if (isCombinationalField(field)) {\n        if (matcher instanceof Array) {\n          res[field] = matcher.map(function (m) {\n            return mergeAndedSelectors([m]);\n          });\n        } else {\n          res[field] = mergeAndedSelectors([matcher]);\n        }\n      } else {\n        var fieldMatchers = res[field] = res[field] || {};\n        Object.keys(matcher).forEach(function (operator) {\n          var value = matcher[operator];\n\n          if (operator === '$gt' || operator === '$gte') {\n            return mergeGtGte(operator, value, fieldMatchers);\n          } else if (operator === '$lt' || operator === '$lte') {\n            return mergeLtLte(operator, value, fieldMatchers);\n          } else if (operator === '$ne') {\n            return mergeNe(value, fieldMatchers);\n          } else if (operator === '$eq') {\n            return mergeEq(value, fieldMatchers);\n          }\n          fieldMatchers[operator] = value;\n        });\n      }\n    });\n  });\n\n  return res;\n}\n\n\n\n// collapse logically equivalent gt/gte values\nfunction mergeGtGte(operator, value, fieldMatchers) {\n  if (typeof fieldMatchers.$eq !== 'undefined') {\n    return; // do nothing\n  }\n  if (typeof fieldMatchers.$gte !== 'undefined') {\n    if (operator === '$gte') {\n      if (value > fieldMatchers.$gte) { // more specificity\n        fieldMatchers.$gte = value;\n      }\n    } else { // operator === '$gt'\n      if (value >= fieldMatchers.$gte) { // more specificity\n        delete fieldMatchers.$gte;\n        fieldMatchers.$gt = value;\n      }\n    }\n  } else if (typeof fieldMatchers.$gt !== 'undefined') {\n    if (operator === '$gte') {\n      if (value > fieldMatchers.$gt) { // more specificity\n        delete fieldMatchers.$gt;\n        fieldMatchers.$gte = value;\n      }\n    } else { // operator === '$gt'\n      if (value > fieldMatchers.$gt) { // more specificity\n        fieldMatchers.$gt = value;\n      }\n    }\n  } else {\n    fieldMatchers[operator] = value;\n  }\n}\n\n// collapse logically equivalent lt/lte values\nfunction mergeLtLte(operator, value, fieldMatchers) {\n  if (typeof fieldMatchers.$eq !== 'undefined') {\n    return; // do nothing\n  }\n  if (typeof fieldMatchers.$lte !== 'undefined') {\n    if (operator === '$lte') {\n      if (value < fieldMatchers.$lte) { // more specificity\n        fieldMatchers.$lte = value;\n      }\n    } else { // operator === '$gt'\n      if (value <= fieldMatchers.$lte) { // more specificity\n        delete fieldMatchers.$lte;\n        fieldMatchers.$lt = value;\n      }\n    }\n  } else if (typeof fieldMatchers.$lt !== 'undefined') {\n    if (operator === '$lte') {\n      if (value < fieldMatchers.$lt) { // more specificity\n        delete fieldMatchers.$lt;\n        fieldMatchers.$lte = value;\n      }\n    } else { // operator === '$gt'\n      if (value < fieldMatchers.$lt) { // more specificity\n        fieldMatchers.$lt = value;\n      }\n    }\n  } else {\n    fieldMatchers[operator] = value;\n  }\n}\n\n// combine $ne values into one array\nfunction mergeNe(value, fieldMatchers) {\n  if ('$ne' in fieldMatchers) {\n    // there are many things this could \"not\" be\n    fieldMatchers.$ne.push(value);\n  } else { // doesn't exist yet\n    fieldMatchers.$ne = [value];\n  }\n}\n\n// add $eq into the mix\nfunction mergeEq(value, fieldMatchers) {\n  // these all have less specificity than the $eq\n  // TODO: check for user errors here\n  delete fieldMatchers.$gt;\n  delete fieldMatchers.$gte;\n  delete fieldMatchers.$lt;\n  delete fieldMatchers.$lte;\n  delete fieldMatchers.$ne;\n  fieldMatchers.$eq = value;\n}\n\n//#7458: execute function mergeAndedSelectors on nested $and\nfunction mergeAndedSelectorsNested(obj) {\n    for (var prop in obj) {\n        if (Array.isArray(obj)) {\n            for (var i in obj) {\n                if (obj[i]['$and']) {\n                    obj[i] = mergeAndedSelectors(obj[i]['$and']);\n                }\n            }\n        }\n        var value = obj[prop];\n        if (typeof value === 'object') {\n            mergeAndedSelectorsNested(value); // <- recursive call\n        }\n    }\n    return obj;\n}\n\n//#7458: determine id $and is present in selector (at any level)\nfunction isAndInSelector(obj, isAnd) {\n    for (var prop in obj) {\n        if (prop === '$and') {\n            isAnd = true;\n        }\n        var value = obj[prop];\n        if (typeof value === 'object') {\n            isAnd = isAndInSelector(value, isAnd); // <- recursive call\n        }\n    }\n    return isAnd;\n}\n\n//\n// normalize the selector\n//\nfunction massageSelector(input) {\n  var result = clone(input);\n  var wasAnded = false;\n    //#7458: if $and is present in selector (at any level) merge nested $and\n    if (isAndInSelector(result, false)) {\n        result = mergeAndedSelectorsNested(result);\n        if ('$and' in result) {\n            result = mergeAndedSelectors(result['$and']);\n        }\n        wasAnded = true;\n    }\n\n  ['$or', '$nor'].forEach(function (orOrNor) {\n    if (orOrNor in result) {\n      // message each individual selector\n      // e.g. {foo: 'bar'} becomes {foo: {$eq: 'bar'}}\n      result[orOrNor].forEach(function (subSelector) {\n        var fields = Object.keys(subSelector);\n        for (var i = 0; i < fields.length; i++) {\n          var field = fields[i];\n          var matcher = subSelector[field];\n          if (typeof matcher !== 'object' || matcher === null) {\n            subSelector[field] = {$eq: matcher};\n          }\n        }\n      });\n    }\n  });\n\n  if ('$not' in result) {\n    //This feels a little like forcing, but it will work for now,\n    //I would like to come back to this and make the merging of selectors a little more generic\n    result['$not'] = mergeAndedSelectors([result['$not']]);\n  }\n\n  var fields = Object.keys(result);\n\n  for (var i = 0; i < fields.length; i++) {\n    var field = fields[i];\n    var matcher = result[field];\n\n    if (typeof matcher !== 'object' || matcher === null) {\n      matcher = {$eq: matcher};\n    } else if ('$ne' in matcher && !wasAnded) {\n      // I put these in an array, since there may be more than one\n      // but in the \"mergeAnded\" operation, I already take care of that\n      matcher.$ne = [matcher.$ne];\n    }\n    result[field] = matcher;\n  }\n\n  return result;\n}\n\n// create a comparator based on the sort object\nfunction createFieldSorter(sort) {\n\n  function getFieldValuesAsArray(doc) {\n    return sort.map(function (sorting) {\n      var fieldName = getKey(sorting);\n      var parsedField = parseField(fieldName);\n      var docFieldValue = getFieldFromDoc(doc, parsedField);\n      return docFieldValue;\n    });\n  }\n\n  return function (aRow, bRow) {\n    var aFieldValues = getFieldValuesAsArray(aRow.doc);\n    var bFieldValues = getFieldValuesAsArray(bRow.doc);\n    var collation = collate(aFieldValues, bFieldValues);\n    if (collation !== 0) {\n      return collation;\n    }\n    // this is what mango seems to do\n    return compare(aRow.doc._id, bRow.doc._id);\n  };\n}\n\nfunction filterInMemoryFields(rows, requestDef, inMemoryFields) {\n  rows = rows.filter(function (row) {\n    return rowFilter(row.doc, requestDef.selector, inMemoryFields);\n  });\n\n  if (requestDef.sort) {\n    // in-memory sort\n    var fieldSorter = createFieldSorter(requestDef.sort);\n    rows = rows.sort(fieldSorter);\n    if (typeof requestDef.sort[0] !== 'string' &&\n        getValue(requestDef.sort[0]) === 'desc') {\n      rows = rows.reverse();\n    }\n  }\n\n  if ('limit' in requestDef || 'skip' in requestDef) {\n    // have to do the limit in-memory\n    var skip = requestDef.skip || 0;\n    var limit = ('limit' in requestDef ? requestDef.limit : rows.length) + skip;\n    rows = rows.slice(skip, limit);\n  }\n  return rows;\n}\n\nfunction rowFilter(doc, selector, inMemoryFields) {\n  return inMemoryFields.every(function (field) {\n    var matcher = selector[field];\n    var parsedField = parseField(field);\n    var docFieldValue = getFieldFromDoc(doc, parsedField);\n    if (isCombinationalField(field)) {\n      return matchCominationalSelector(field, matcher, doc);\n    }\n\n    return matchSelector(matcher, doc, parsedField, docFieldValue);\n  });\n}\n\nfunction matchSelector(matcher, doc, parsedField, docFieldValue) {\n  if (!matcher) {\n    // no filtering necessary; this field is just needed for sorting\n    return true;\n  }\n\n  // is matcher an object, if so continue recursion\n  if (typeof matcher === 'object') {\n    return Object.keys(matcher).every(function (userOperator) {\n      var userValue = matcher[userOperator];\n      return match(userOperator, doc, userValue, parsedField, docFieldValue);\n    });\n  }\n\n  // no more depth, No need to recurse further\n  return matcher === docFieldValue;\n}\n\nfunction matchCominationalSelector(field, matcher, doc) {\n\n  if (field === '$or') {\n    return matcher.some(function (orMatchers) {\n      return rowFilter(doc, orMatchers, Object.keys(orMatchers));\n    });\n  }\n\n  if (field === '$not') {\n    return !rowFilter(doc, matcher, Object.keys(matcher));\n  }\n\n  //`$nor`\n  return !matcher.find(function (orMatchers) {\n    return rowFilter(doc, orMatchers, Object.keys(orMatchers));\n  });\n\n}\n\nfunction match(userOperator, doc, userValue, parsedField, docFieldValue) {\n  if (!matchers[userOperator]) {\n    throw new Error('unknown operator \"' + userOperator +\n      '\" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, ' +\n      '$nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');\n  }\n  return matchers[userOperator](doc, userValue, parsedField, docFieldValue);\n}\n\nfunction fieldExists(docFieldValue) {\n  return typeof docFieldValue !== 'undefined' && docFieldValue !== null;\n}\n\nfunction fieldIsNotUndefined(docFieldValue) {\n  return typeof docFieldValue !== 'undefined';\n}\n\nfunction modField(docFieldValue, userValue) {\n  var divisor = userValue[0];\n  var mod = userValue[1];\n  if (divisor === 0) {\n    throw new Error('Bad divisor, cannot divide by zero');\n  }\n\n  if (parseInt(divisor, 10) !== divisor ) {\n    throw new Error('Divisor is not an integer');\n  }\n\n  if (parseInt(mod, 10) !== mod ) {\n    throw new Error('Modulus is not an integer');\n  }\n\n  if (parseInt(docFieldValue, 10) !== docFieldValue) {\n    return false;\n  }\n\n  return docFieldValue % divisor === mod;\n}\n\nfunction arrayContainsValue(docFieldValue, userValue) {\n  return userValue.some(function (val) {\n    if (docFieldValue instanceof Array) {\n      return docFieldValue.indexOf(val) > -1;\n    }\n\n    return docFieldValue === val;\n  });\n}\n\nfunction arrayContainsAllValues(docFieldValue, userValue) {\n  return userValue.every(function (val) {\n    return docFieldValue.indexOf(val) > -1;\n  });\n}\n\nfunction arraySize(docFieldValue, userValue) {\n  return docFieldValue.length === userValue;\n}\n\nfunction regexMatch(docFieldValue, userValue) {\n  var re = new RegExp(userValue);\n\n  return re.test(docFieldValue);\n}\n\nfunction typeMatch(docFieldValue, userValue) {\n\n  switch (userValue) {\n    case 'null':\n      return docFieldValue === null;\n    case 'boolean':\n      return typeof (docFieldValue) === 'boolean';\n    case 'number':\n      return typeof (docFieldValue) === 'number';\n    case 'string':\n      return typeof (docFieldValue) === 'string';\n    case 'array':\n      return docFieldValue instanceof Array;\n    case 'object':\n      return ({}).toString.call(docFieldValue) === '[object Object]';\n  }\n\n  throw new Error(userValue + ' not supported as a type.' +\n                  'Please use one of object, string, array, number, boolean or null.');\n\n}\n\nvar matchers = {\n\n  '$elemMatch': function (doc, userValue, parsedField, docFieldValue) {\n    if (!Array.isArray(docFieldValue)) {\n      return false;\n    }\n\n    if (docFieldValue.length === 0) {\n      return false;\n    }\n\n    if (typeof docFieldValue[0] === 'object') {\n      return docFieldValue.some(function (val) {\n        return rowFilter(val, userValue, Object.keys(userValue));\n      });\n    }\n\n    return docFieldValue.some(function (val) {\n      return matchSelector(userValue, doc, parsedField, val);\n    });\n  },\n\n  '$allMatch': function (doc, userValue, parsedField, docFieldValue) {\n    if (!Array.isArray(docFieldValue)) {\n      return false;\n    }\n\n    /* istanbul ignore next */\n    if (docFieldValue.length === 0) {\n      return false;\n    }\n\n    if (typeof docFieldValue[0] === 'object') {\n      return docFieldValue.every(function (val) {\n        return rowFilter(val, userValue, Object.keys(userValue));\n      });\n    }\n\n    return docFieldValue.every(function (val) {\n      return matchSelector(userValue, doc, parsedField, val);\n    });\n  },\n\n  '$eq': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) === 0;\n  },\n\n  '$gte': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) >= 0;\n  },\n\n  '$gt': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) > 0;\n  },\n\n  '$lte': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) <= 0;\n  },\n\n  '$lt': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) < 0;\n  },\n\n  '$exists': function (doc, userValue, parsedField, docFieldValue) {\n    //a field that is null is still considered to exist\n    if (userValue) {\n      return fieldIsNotUndefined(docFieldValue);\n    }\n\n    return !fieldIsNotUndefined(docFieldValue);\n  },\n\n  '$mod': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && modField(docFieldValue, userValue);\n  },\n\n  '$ne': function (doc, userValue, parsedField, docFieldValue) {\n    return userValue.every(function (neValue) {\n      return collate(docFieldValue, neValue) !== 0;\n    });\n  },\n  '$in': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && arrayContainsValue(docFieldValue, userValue);\n  },\n\n  '$nin': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && !arrayContainsValue(docFieldValue, userValue);\n  },\n\n  '$size': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && arraySize(docFieldValue, userValue);\n  },\n\n  '$all': function (doc, userValue, parsedField, docFieldValue) {\n    return Array.isArray(docFieldValue) && arrayContainsAllValues(docFieldValue, userValue);\n  },\n\n  '$regex': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && regexMatch(docFieldValue, userValue);\n  },\n\n  '$type': function (doc, userValue, parsedField, docFieldValue) {\n    return typeMatch(docFieldValue, userValue);\n  }\n};\n\n// return true if the given doc matches the supplied selector\nfunction matchesSelector(doc, selector) {\n  /* istanbul ignore if */\n  if (typeof selector !== 'object') {\n    // match the CouchDB error message\n    throw new Error('Selector error: expected a JSON object');\n  }\n\n  selector = massageSelector(selector);\n  var row = {\n    'doc': doc\n  };\n\n  var rowsMatched = filterInMemoryFields([row], { 'selector': selector }, Object.keys(selector));\n  return rowsMatched && rowsMatched.length === 1;\n}\n\nexport { massageSelector, matchesSelector, filterInMemoryFields, createFieldSorter, rowFilter, isCombinationalField, getKey, getValue, getFieldFromDoc, setFieldInDoc, compare, parseField };\n","(function (root, factory){\n  'use strict';\n\n  /*istanbul ignore next:cant test*/\n  if (typeof module === 'object' && typeof module.exports === 'object') {\n    module.exports = factory();\n  } else if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define([], factory);\n  } else {\n    // Browser globals\n    root.objectPath = factory();\n  }\n})(this, function(){\n  'use strict';\n\n  var toStr = Object.prototype.toString;\n  function hasOwnProperty(obj, prop) {\n    if(obj == null) {\n      return false\n    }\n    //to handle objects with null prototypes (too edge case?)\n    return Object.prototype.hasOwnProperty.call(obj, prop)\n  }\n\n  function isEmpty(value){\n    if (!value) {\n      return true;\n    }\n    if (isArray(value) && value.length === 0) {\n        return true;\n    } else if (typeof value !== 'string') {\n        for (var i in value) {\n            if (hasOwnProperty(value, i)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    return false;\n  }\n\n  function toString(type){\n    return toStr.call(type);\n  }\n\n  function isObject(obj){\n    return typeof obj === 'object' && toString(obj) === \"[object Object]\";\n  }\n\n  var isArray = Array.isArray || function(obj){\n    /*istanbul ignore next:cant test*/\n    return toStr.call(obj) === '[object Array]';\n  }\n\n  function isBoolean(obj){\n    return typeof obj === 'boolean' || toString(obj) === '[object Boolean]';\n  }\n\n  function getKey(key){\n    var intKey = parseInt(key);\n    if (intKey.toString() === key) {\n      return intKey;\n    }\n    return key;\n  }\n\n  function factory(options) {\n    options = options || {}\n\n    var objectPath = function(obj) {\n      return Object.keys(objectPath).reduce(function(proxy, prop) {\n        if(prop === 'create') {\n          return proxy;\n        }\n\n        /*istanbul ignore else*/\n        if (typeof objectPath[prop] === 'function') {\n          proxy[prop] = objectPath[prop].bind(objectPath, obj);\n        }\n\n        return proxy;\n      }, {});\n    };\n\n    function hasShallowProperty(obj, prop) {\n      return (options.includeInheritedProps || (typeof prop === 'number' && Array.isArray(obj)) || hasOwnProperty(obj, prop))\n    }\n\n    function getShallowProperty(obj, prop) {\n      if (hasShallowProperty(obj, prop)) {\n        return obj[prop];\n      }\n    }\n\n    function set(obj, path, value, doNotReplace){\n      if (typeof path === 'number') {\n        path = [path];\n      }\n      if (!path || path.length === 0) {\n        return obj;\n      }\n      if (typeof path === 'string') {\n        return set(obj, path.split('.').map(getKey), value, doNotReplace);\n      }\n      var currentPath = path[0];\n      var currentValue = getShallowProperty(obj, currentPath);\n      if (path.length === 1) {\n        if (currentValue === void 0 || !doNotReplace) {\n          obj[currentPath] = value;\n        }\n        return currentValue;\n      }\n\n      if (currentValue === void 0) {\n        //check if we assume an array\n        if(typeof path[1] === 'number') {\n          obj[currentPath] = [];\n        } else {\n          obj[currentPath] = {};\n        }\n      }\n\n      return set(obj[currentPath], path.slice(1), value, doNotReplace);\n    }\n\n    objectPath.has = function (obj, path) {\n      if (typeof path === 'number') {\n        path = [path];\n      } else if (typeof path === 'string') {\n        path = path.split('.');\n      }\n\n      if (!path || path.length === 0) {\n        return !!obj;\n      }\n\n      for (var i = 0; i < path.length; i++) {\n        var j = getKey(path[i]);\n\n        if((typeof j === 'number' && isArray(obj) && j < obj.length) ||\n          (options.includeInheritedProps ? (j in Object(obj)) : hasOwnProperty(obj, j))) {\n          obj = obj[j];\n        } else {\n          return false;\n        }\n      }\n\n      return true;\n    };\n\n    objectPath.ensureExists = function (obj, path, value){\n      return set(obj, path, value, true);\n    };\n\n    objectPath.set = function (obj, path, value, doNotReplace){\n      return set(obj, path, value, doNotReplace);\n    };\n\n    objectPath.insert = function (obj, path, value, at){\n      var arr = objectPath.get(obj, path);\n      at = ~~at;\n      if (!isArray(arr)) {\n        arr = [];\n        objectPath.set(obj, path, arr);\n      }\n      arr.splice(at, 0, value);\n    };\n\n    objectPath.empty = function(obj, path) {\n      if (isEmpty(path)) {\n        return void 0;\n      }\n      if (obj == null) {\n        return void 0;\n      }\n\n      var value, i;\n      if (!(value = objectPath.get(obj, path))) {\n        return void 0;\n      }\n\n      if (typeof value === 'string') {\n        return objectPath.set(obj, path, '');\n      } else if (isBoolean(value)) {\n        return objectPath.set(obj, path, false);\n      } else if (typeof value === 'number') {\n        return objectPath.set(obj, path, 0);\n      } else if (isArray(value)) {\n        value.length = 0;\n      } else if (isObject(value)) {\n        for (i in value) {\n          if (hasShallowProperty(value, i)) {\n            delete value[i];\n          }\n        }\n      } else {\n        return objectPath.set(obj, path, null);\n      }\n    };\n\n    objectPath.push = function (obj, path /*, values */){\n      var arr = objectPath.get(obj, path);\n      if (!isArray(arr)) {\n        arr = [];\n        objectPath.set(obj, path, arr);\n      }\n\n      arr.push.apply(arr, Array.prototype.slice.call(arguments, 2));\n    };\n\n    objectPath.coalesce = function (obj, paths, defaultValue) {\n      var value;\n\n      for (var i = 0, len = paths.length; i < len; i++) {\n        if ((value = objectPath.get(obj, paths[i])) !== void 0) {\n          return value;\n        }\n      }\n\n      return defaultValue;\n    };\n\n    objectPath.get = function (obj, path, defaultValue){\n      if (typeof path === 'number') {\n        path = [path];\n      }\n      if (!path || path.length === 0) {\n        return obj;\n      }\n      if (obj == null) {\n        return defaultValue;\n      }\n      if (typeof path === 'string') {\n        return objectPath.get(obj, path.split('.'), defaultValue);\n      }\n\n      var currentPath = getKey(path[0]);\n      var nextObj = getShallowProperty(obj, currentPath)\n      if (nextObj === void 0) {\n        return defaultValue;\n      }\n\n      if (path.length === 1) {\n        return nextObj;\n      }\n\n      return objectPath.get(obj[currentPath], path.slice(1), defaultValue);\n    };\n\n    objectPath.del = function del(obj, path) {\n      if (typeof path === 'number') {\n        path = [path];\n      }\n\n      if (obj == null) {\n        return obj;\n      }\n\n      if (isEmpty(path)) {\n        return obj;\n      }\n      if(typeof path === 'string') {\n        return objectPath.del(obj, path.split('.'));\n      }\n\n      var currentPath = getKey(path[0]);\n      if (!hasShallowProperty(obj, currentPath)) {\n        return obj;\n      }\n\n      if(path.length === 1) {\n        if (isArray(obj)) {\n          obj.splice(currentPath, 1);\n        } else {\n          delete obj[currentPath];\n        }\n      } else {\n        return objectPath.del(obj[currentPath], path.slice(1));\n      }\n\n      return obj;\n    }\n\n    return objectPath;\n  }\n\n  var mod = factory();\n  mod.create = factory;\n  mod.withInheritedProps = factory({includeInheritedProps: true})\n  return mod;\n});\n","/**\n * if a query is observed and a changeEvent comes in,\n * the QueryChangeDetector tries to execute the changeEvent-delta on the exisiting query-results\n * or tells the query it should re-exec on the database if previous not possible.\n *\n * This works equal to meteors oplog-observe-driver\n * @link https://github.com/meteor/docs/blob/version-NEXT/long-form/oplog-observe-driver.md\n */\nimport { filterInMemoryFields } from 'pouchdb-selector-core';\nimport objectPath from 'object-path';\nvar DEBUG = false;\nexport var QueryChangeDetector =\n/*#__PURE__*/\nfunction () {\n  function QueryChangeDetector(query) {\n    this.query = query;\n    this.primaryKey = query.collection.schema.primaryPath;\n  }\n  /**\n   * @return true if mustReExec, false if no change, array if calculated new results\n   */\n\n\n  var _proto = QueryChangeDetector.prototype;\n\n  _proto.runChangeDetection = function runChangeDetection(changeEvents) {\n    var _this = this;\n\n    if (changeEvents.length === 0) return false; // check if enabled\n\n    if (!this.query.collection.database.queryChangeDetection) {\n      return true;\n    }\n\n    var resultsData = this.query._resultsData;\n    var changed = false;\n    var found = changeEvents.find(function (changeEvent) {\n      var res = _this.handleSingleChange(resultsData, changeEvent);\n\n      if (Array.isArray(res)) {\n        changed = true;\n        resultsData = res;\n        return false;\n      } else if (res) return true;\n    });\n    if (found) return true;\n    if (!changed) return false;else return resultsData;\n  }\n  /**\n   * handle a single ChangeEvent and try to calculate the new results\n   * @return true if mustReExec, false if no change, array if calculated new results\n   */\n  ;\n\n  _proto.handleSingleChange = function handleSingleChange(resultsData, changeEvent) {\n    var _this2 = this;\n\n    var results = resultsData.slice(0); // copy to stay immutable\n\n    var options = this.query.toJSON();\n    var docData = changeEvent.data.v;\n\n    var wasDocInResults = _isDocInResultData(this, docData, resultsData);\n\n    var doesMatchNow = this.query.doesDocumentDataMatch(docData);\n    var isFilled = !options.limit || options.limit && resultsData.length >= options.limit;\n    var limitAndFilled = options.limit && resultsData.length >= options.limit;\n\n    if (DEBUG) {\n      console.log('QueryChangeDetector.handleSingleChange()'); // TODO this should not be an error\n\n      _debugMessage(this, 'start', changeEvent.data.v, 'handleSingleChange()');\n\n      console.log('changeEvent.data:');\n      console.dir(changeEvent.data);\n      console.log('wasDocInResults: ' + wasDocInResults);\n      console.log('doesMatchNow: ' + doesMatchNow);\n      console.log('isFilled: ' + isFilled);\n      console.log('options:' + JSON.stringify(options));\n    }\n\n    var _sortAfter = null;\n\n    var sortAfter = function sortAfter() {\n      if (_sortAfter === null) _sortAfter = _isSortedBefore(_this2, results[results.length - 1], docData);\n      return _sortAfter;\n    };\n\n    var _sortBefore = null;\n\n    var sortBefore = function sortBefore() {\n      if (_sortBefore === null) _sortBefore = _isSortedBefore(_this2, docData, results[0]);\n      return _sortBefore;\n    };\n\n    var __sortFieldChanged = null;\n\n    var sortFieldChanged = function sortFieldChanged() {\n      if (__sortFieldChanged === null) {\n        var docBefore = resultsData.find(function (doc) {\n          return doc[_this2.primaryKey] === docData[_this2.primaryKey];\n        });\n        __sortFieldChanged = _sortFieldChanged(_this2, docBefore, docData);\n      }\n\n      return _sortFieldChanged;\n    };\n\n    if (changeEvent.data.op === 'REMOVE') {\n      // R1 (never matched)\n      if (!wasDocInResults && !doesMatchNow) {\n        _debugMessage(this, 'R1', docData);\n\n        return false;\n      } // R2 sorted before got removed but results not filled\n\n\n      if (options.skip && doesMatchNow && sortBefore() && !isFilled) {\n        _debugMessage(this, 'R2', docData);\n\n        results.shift();\n        return results;\n      } // R3 (was in results and got removed)\n\n\n      if (doesMatchNow && wasDocInResults && !isFilled) {\n        _debugMessage(this, 'R3', docData);\n\n        results = results.filter(function (doc) {\n          return doc[_this2.primaryKey] !== docData[_this2.primaryKey];\n        });\n        return results;\n      } // R3.05 was in findOne-result and got removed\n\n\n      if (options.limit === 1 && !doesMatchNow && wasDocInResults) {\n        _debugMessage(this, 'R3.05', docData);\n\n        return true;\n      } // R3.1 was in results and got removed, no limit, no skip\n\n\n      if (doesMatchNow && wasDocInResults && !options.limit && !options.skip) {\n        _debugMessage(this, 'R3.1', docData);\n\n        results = results.filter(function (doc) {\n          return doc[_this2.primaryKey] !== docData[_this2.primaryKey];\n        });\n        return results;\n      } // R4 matching but after results got removed\n\n\n      if (doesMatchNow && options.limit && sortAfter()) {\n        _debugMessage(this, 'R4', docData);\n\n        return false;\n      }\n    } else {\n      // U1 doc not matched and also not matches now\n      if (!options.skip && !wasDocInResults && !doesMatchNow) {\n        _debugMessage(this, 'U1', docData);\n\n        return false;\n      } // U2 still matching -> only resort\n\n\n      if (!options.skip && !options.limit && wasDocInResults && doesMatchNow) {\n        // DEBUG && this._debugMessage('U2', docData);\n        // replace but make sure its the same position\n        var wasDoc = results.find(function (doc) {\n          return doc[_this2.primaryKey] === docData[_this2.primaryKey];\n        });\n        var i = results.indexOf(wasDoc);\n        results[i] = docData;\n\n        if (sortFieldChanged()) {\n          _debugMessage(this, 'U2 - resort', docData);\n\n          return _resortDocData(this, results);\n        } else {\n          _debugMessage(this, 'U2 - no-resort', docData);\n\n          return results;\n        }\n      } // U3 not matched, but matches now, no.skip, limit < length\n\n\n      if (!options.skip && !limitAndFilled && !wasDocInResults && doesMatchNow) {\n        _debugMessage(this, 'U3', docData);\n\n        results.push(docData); //    console.log('U3: preSort:');\n        //    console.dir(results);\n\n        var sorted = _resortDocData(this, results); //        console.log('U3: postSort:');\n        //            console.dir(sorted);\n\n\n        return sorted;\n      }\n    } // if no optimisation-algo matches, return mustReExec:true\n\n\n    _debugMessage(this, 'NO_MATCH', docData);\n\n    return true;\n  };\n\n  return QueryChangeDetector;\n}();\n\nfunction _debugMessage(queryChangeDetector, key) {\n  var changeEventData = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var title = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'optimized';\n\n  if (!DEBUG) {\n    return;\n  }\n\n  console.dir({\n    name: 'QueryChangeDetector',\n    title: title,\n    query: queryChangeDetector.query.toString(),\n    key: key,\n    changeEventData: changeEventData\n  });\n}\n/**\n * reruns the sort on the given resultsData\n */\n\n\nexport function _resortDocData(queryChangeDetector, resultsData) {\n  var sortOptions = _getSortOptions(queryChangeDetector);\n\n  var rows = resultsData.map(function (doc) {\n    return {\n      doc: queryChangeDetector.query.collection.schema.swapPrimaryToId(doc)\n    };\n  });\n  var inMemoryFields = Object.keys(queryChangeDetector.query.toJSON().selector); // TODO use createFieldSorter\n\n  var sortedRows = filterInMemoryFields(rows, {\n    selector: queryChangeDetector.query.massageSelector,\n    sort: sortOptions\n  }, inMemoryFields);\n  var sortedDocs = sortedRows.map(function (row) {\n    return row.doc;\n  }).map(function (doc) {\n    return queryChangeDetector.query.collection.schema.swapIdToPrimary(doc);\n  });\n  return sortedDocs;\n}\n/**\n * checks if the newDocLeft would be placed before docDataRight\n * when the query would be reExecuted\n * @return true if before, false if after\n */\n\nexport function _isSortedBefore(queryChangeDetector, docDataLeft, docDataRight) {\n  var sortOptions = _getSortOptions(queryChangeDetector);\n\n  var inMemoryFields = Object.keys(queryChangeDetector.query.toJSON().selector);\n  var swappedLeft = queryChangeDetector.query.collection.schema.swapPrimaryToId(docDataLeft);\n  var swappedRight = queryChangeDetector.query.collection.schema.swapPrimaryToId(docDataRight);\n  var rows = [swappedLeft, swappedRight].map(function (doc) {\n    return {\n      id: doc._id,\n      doc: doc\n    };\n  }); // TODO use createFieldSorter\n\n  var sortedRows = filterInMemoryFields(rows, {\n    selector: queryChangeDetector.query.massageSelector,\n    sort: sortOptions\n  }, inMemoryFields);\n  return sortedRows[0].id === swappedLeft._id;\n}\n/**\n * checks if the sort-relevant fields have changed\n */\n\nexport function _sortFieldChanged(queryChangeDetector, docDataBefore, docDataAfter) {\n  var sortOptions = _getSortOptions(queryChangeDetector);\n\n  var sortFields = sortOptions.map(function (sortObj) {\n    return Object.keys(sortObj).pop();\n  });\n  var changed = false;\n  sortFields.find(function (field) {\n    var beforeData = objectPath.get(docDataBefore, field);\n    var afterData = objectPath.get(docDataAfter, field);\n\n    if (beforeData !== afterData) {\n      changed = true;\n      return true;\n    } else return false;\n  });\n  return changed;\n}\n/**\n * if no sort-order is specified,\n * pouchdb will use the primary\n */\n\nexport function _getSortOptions(queryChangeDetector) {\n  if (!queryChangeDetector._sortOptions) {\n    var options = queryChangeDetector.query.toJSON();\n    var sortOptions = options.sort;\n\n    if (!sortOptions) {\n      sortOptions = [{\n        _id: 'asc'\n      }];\n    }\n\n    queryChangeDetector._sortOptions = sortOptions;\n  }\n\n  return queryChangeDetector._sortOptions;\n}\n/**\n * check if the document exists in the results data\n */\n\nexport function _isDocInResultData(queryChangeDetector, docData, resultData) {\n  var primaryPath = queryChangeDetector.query.collection.schema.primaryPath;\n  var first = resultData.find(function (doc) {\n    return doc[primaryPath] === docData[primaryPath];\n  });\n  return !!first;\n}\nexport function enableDebugging() {\n  console.log('QueryChangeDetector.enableDebugging()');\n  DEBUG = true;\n}\nexport function create(query) {\n  var ret = new QueryChangeDetector(query);\n  return ret;\n}\nexport default {\n  create: create,\n  enableDebugging: enableDebugging\n};\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n","'use strict';\n\nvar keysShim;\nif (!Object.keys) {\n\t// modified from https://github.com/es-shims/es5-shim\n\tvar has = Object.prototype.hasOwnProperty;\n\tvar toStr = Object.prototype.toString;\n\tvar isArgs = require('./isArguments'); // eslint-disable-line global-require\n\tvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\tvar hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');\n\tvar hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\n\tvar dontEnums = [\n\t\t'toString',\n\t\t'toLocaleString',\n\t\t'valueOf',\n\t\t'hasOwnProperty',\n\t\t'isPrototypeOf',\n\t\t'propertyIsEnumerable',\n\t\t'constructor'\n\t];\n\tvar equalsConstructorPrototype = function (o) {\n\t\tvar ctor = o.constructor;\n\t\treturn ctor && ctor.prototype === o;\n\t};\n\tvar excludedKeys = {\n\t\t$applicationCache: true,\n\t\t$console: true,\n\t\t$external: true,\n\t\t$frame: true,\n\t\t$frameElement: true,\n\t\t$frames: true,\n\t\t$innerHeight: true,\n\t\t$innerWidth: true,\n\t\t$onmozfullscreenchange: true,\n\t\t$onmozfullscreenerror: true,\n\t\t$outerHeight: true,\n\t\t$outerWidth: true,\n\t\t$pageXOffset: true,\n\t\t$pageYOffset: true,\n\t\t$parent: true,\n\t\t$scrollLeft: true,\n\t\t$scrollTop: true,\n\t\t$scrollX: true,\n\t\t$scrollY: true,\n\t\t$self: true,\n\t\t$webkitIndexedDB: true,\n\t\t$webkitStorageInfo: true,\n\t\t$window: true\n\t};\n\tvar hasAutomationEqualityBug = (function () {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined') { return false; }\n\t\tfor (var k in window) {\n\t\t\ttry {\n\t\t\t\tif (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}());\n\tvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t}\n\t\ttry {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tkeysShim = function keys(object) {\n\t\tvar isObject = object !== null && typeof object === 'object';\n\t\tvar isFunction = toStr.call(object) === '[object Function]';\n\t\tvar isArguments = isArgs(object);\n\t\tvar isString = isObject && toStr.call(object) === '[object String]';\n\t\tvar theKeys = [];\n\n\t\tif (!isObject && !isFunction && !isArguments) {\n\t\t\tthrow new TypeError('Object.keys called on a non-object');\n\t\t}\n\n\t\tvar skipProto = hasProtoEnumBug && isFunction;\n\t\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\t\ttheKeys.push(String(i));\n\t\t\t}\n\t\t}\n\n\t\tif (isArguments && object.length > 0) {\n\t\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\t\ttheKeys.push(String(j));\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var name in object) {\n\t\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\t\ttheKeys.push(String(name));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (hasDontEnumBug) {\n\t\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn theKeys;\n\t};\n}\nmodule.exports = keysShim;\n","'use strict';\n\nvar slice = Array.prototype.slice;\nvar isArgs = require('./isArguments');\n\nvar origKeys = Object.keys;\nvar keysShim = origKeys ? function keys(o) { return origKeys(o); } : require('./implementation');\n\nvar originalKeys = Object.keys;\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\tvar args = Object.keys(arguments);\n\t\t\treturn args && args.length === arguments.length;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tObject.keys = function keys(object) { // eslint-disable-line func-name-matching\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t}\n\t\t\t\treturn originalKeys(object);\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n","'use strict';\n\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\nvar toStr = Object.prototype.toString;\n\nvar isStandardArguments = function isArguments(value) {\n\tif (hasToStringTag && value && typeof value === 'object' && Symbol.toStringTag in value) {\n\t\treturn false;\n\t}\n\treturn toStr.call(value) === '[object Arguments]';\n};\n\nvar isLegacyArguments = function isArguments(value) {\n\tif (isStandardArguments(value)) {\n\t\treturn true;\n\t}\n\treturn value !== null &&\n\t\ttypeof value === 'object' &&\n\t\ttypeof value.length === 'number' &&\n\t\tvalue.length >= 0 &&\n\t\ttoStr.call(value) !== '[object Array]' &&\n\t\ttoStr.call(value.callee) === '[object Function]';\n};\n\nvar supportsStandardArguments = (function () {\n\treturn isStandardArguments(arguments);\n}());\n\nisStandardArguments.isLegacyArguments = isLegacyArguments; // for tests\n\nmodule.exports = supportsStandardArguments ? isStandardArguments : isLegacyArguments;\n","\"use strict\";\n\n/* https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.is */\n\nvar NumberIsNaN = function (value) {\n\treturn value !== value;\n};\n\nmodule.exports = function is(a, b) {\n\tif (a === 0 && b === 0) {\n\t\treturn 1 / a === 1 / b;\n\t} else if (a === b) {\n\t\treturn true;\n\t} else if (NumberIsNaN(a) && NumberIsNaN(b)) {\n\t\treturn true;\n\t}\n\treturn false;\n};\n\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar slice = Array.prototype.slice;\nvar toStr = Object.prototype.toString;\nvar funcType = '[object Function]';\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.call(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slice.call(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                args.concat(slice.call(arguments))\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        } else {\n            return target.apply(\n                that,\n                args.concat(slice.call(arguments))\n            );\n        }\n    };\n\n    var boundLength = Math.max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs.push('$' + i);\n    }\n\n    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","'use strict';\n\nvar bind = require('function-bind');\n\nmodule.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);\n","'use strict';\n\nvar has = require('has');\nvar regexExec = RegExp.prototype.exec;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar tryRegexExecCall = function tryRegexExec(value) {\n\ttry {\n\t\tvar lastIndex = value.lastIndex;\n\t\tvalue.lastIndex = 0;\n\n\t\tregexExec.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t} finally {\n\t\tvalue.lastIndex = lastIndex;\n\t}\n};\nvar toStr = Object.prototype.toString;\nvar regexClass = '[object RegExp]';\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n\nmodule.exports = function isRegex(value) {\n\tif (!value || typeof value !== 'object') {\n\t\treturn false;\n\t}\n\tif (!hasToStringTag) {\n\t\treturn toStr.call(value) === regexClass;\n\t}\n\n\tvar descriptor = gOPD(value, 'lastIndex');\n\tvar hasLastIndexDataProperty = descriptor && has(descriptor, 'value');\n\tif (!hasLastIndexDataProperty) {\n\t\treturn false;\n\t}\n\n\treturn tryRegexExecCall(value);\n};\n","'use strict';\n\nvar keys = require('object-keys');\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol('foo') === 'symbol';\n\nvar toStr = Object.prototype.toString;\nvar concat = Array.prototype.concat;\nvar origDefineProperty = Object.defineProperty;\n\nvar isFunction = function (fn) {\n\treturn typeof fn === 'function' && toStr.call(fn) === '[object Function]';\n};\n\nvar arePropertyDescriptorsSupported = function () {\n\tvar obj = {};\n\ttry {\n\t\torigDefineProperty(obj, 'x', { enumerable: false, value: obj });\n\t\t// eslint-disable-next-line no-unused-vars, no-restricted-syntax\n\t\tfor (var _ in obj) { // jscs:ignore disallowUnusedVariables\n\t\t\treturn false;\n\t\t}\n\t\treturn obj.x === obj;\n\t} catch (e) { /* this is IE 8. */\n\t\treturn false;\n\t}\n};\nvar supportsDescriptors = origDefineProperty && arePropertyDescriptorsSupported();\n\nvar defineProperty = function (object, name, value, predicate) {\n\tif (name in object && (!isFunction(predicate) || !predicate())) {\n\t\treturn;\n\t}\n\tif (supportsDescriptors) {\n\t\torigDefineProperty(object, name, {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: false,\n\t\t\tvalue: value,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\tobject[name] = value;\n\t}\n};\n\nvar defineProperties = function (object, map) {\n\tvar predicates = arguments.length > 2 ? arguments[2] : {};\n\tvar props = keys(map);\n\tif (hasSymbols) {\n\t\tprops = concat.call(props, Object.getOwnPropertySymbols(map));\n\t}\n\tfor (var i = 0; i < props.length; i += 1) {\n\t\tdefineProperty(object, props[i], map[props[i]], predicates[props[i]]);\n\t}\n};\n\ndefineProperties.supportsDescriptors = !!supportsDescriptors;\n\nmodule.exports = defineProperties;\n","'use strict';\n\nvar toObject = Object;\nvar TypeErr = TypeError;\n\nmodule.exports = function flags() {\n\tif (this != null && this !== toObject(this)) {\n\t\tthrow new TypeErr('RegExp.prototype.flags getter called on non-object');\n\t}\n\tvar result = '';\n\tif (this.global) {\n\t\tresult += 'g';\n\t}\n\tif (this.ignoreCase) {\n\t\tresult += 'i';\n\t}\n\tif (this.multiline) {\n\t\tresult += 'm';\n\t}\n\tif (this.dotAll) {\n\t\tresult += 's';\n\t}\n\tif (this.unicode) {\n\t\tresult += 'u';\n\t}\n\tif (this.sticky) {\n\t\tresult += 'y';\n\t}\n\treturn result;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nvar supportsDescriptors = require('define-properties').supportsDescriptors;\nvar gOPD = Object.getOwnPropertyDescriptor;\nvar TypeErr = TypeError;\n\nmodule.exports = function getPolyfill() {\n\tif (!supportsDescriptors) {\n\t\tthrow new TypeErr('RegExp.prototype.flags requires a true ES5 environment that supports property descriptors');\n\t}\n\tif (/a/mig.flags === 'gim') {\n\t\tvar descriptor = gOPD(RegExp.prototype, 'flags');\n\t\tif (descriptor && typeof descriptor.get === 'function' && typeof (/a/).dotAll === 'boolean') {\n\t\t\treturn descriptor.get;\n\t\t}\n\t}\n\treturn implementation;\n};\n","'use strict';\n\nvar supportsDescriptors = require('define-properties').supportsDescriptors;\nvar getPolyfill = require('./polyfill');\nvar gOPD = Object.getOwnPropertyDescriptor;\nvar defineProperty = Object.defineProperty;\nvar TypeErr = TypeError;\nvar getProto = Object.getPrototypeOf;\nvar regex = /a/;\n\nmodule.exports = function shimFlags() {\n\tif (!supportsDescriptors || !getProto) {\n\t\tthrow new TypeErr('RegExp.prototype.flags requires a true ES5 environment that supports property descriptors');\n\t}\n\tvar polyfill = getPolyfill();\n\tvar proto = getProto(regex);\n\tvar descriptor = gOPD(proto, 'flags');\n\tif (!descriptor || descriptor.get !== polyfill) {\n\t\tdefineProperty(proto, 'flags', {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: false,\n\t\t\tget: polyfill\n\t\t});\n\t}\n\treturn polyfill;\n};\n","'use strict';\n\nvar define = require('define-properties');\n\nvar implementation = require('./implementation');\nvar getPolyfill = require('./polyfill');\nvar shim = require('./shim');\n\nvar flagsBound = Function.call.bind(implementation);\n\ndefine(flagsBound, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = flagsBound;\n","'use strict';\n\nvar getDay = Date.prototype.getDay;\nvar tryDateObject = function tryDateObject(value) {\n\ttry {\n\t\tgetDay.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n\nvar toStr = Object.prototype.toString;\nvar dateClass = '[object Date]';\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n\nmodule.exports = function isDateObject(value) {\n\tif (typeof value !== 'object' || value === null) { return false; }\n\treturn hasToStringTag ? tryDateObject(value) : toStr.call(value) === dateClass;\n};\n","var objectKeys = require('object-keys');\nvar isArguments = require('is-arguments');\nvar is = require('object-is');\nvar isRegex = require('is-regex');\nvar flags = require('regexp.prototype.flags');\nvar isDate = require('is-date-object');\n\nvar getTime = Date.prototype.getTime;\n\nfunction deepEqual(actual, expected, options) {\n  var opts = options || {};\n\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (opts.strict ? is(actual, expected) : actual === expected) {\n    return true;\n  }\n\n  // 7.3. Other pairs that do not both pass typeof value == 'object', equivalence is determined by ==.\n  if (!actual || !expected || (typeof actual !== 'object' && typeof expected !== 'object')) {\n    return opts.strict ? is(actual, expected) : actual == expected;\n  }\n\n  /*\n   * 7.4. For all other Object pairs, including Array objects, equivalence is\n   * determined by having the same number of owned properties (as verified\n   * with Object.prototype.hasOwnProperty.call), the same set of keys\n   * (although not necessarily the same order), equivalent values for every\n   * corresponding key, and an identical 'prototype' property. Note: this\n   * accounts for both named and indexed properties on Arrays.\n   */\n  // eslint-disable-next-line no-use-before-define\n  return objEquiv(actual, expected, opts);\n}\n\nfunction isUndefinedOrNull(value) {\n  return value === null || value === undefined;\n}\n\nfunction isBuffer(x) {\n  if (!x || typeof x !== 'object' || typeof x.length !== 'number') {\n    return false;\n  }\n  if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {\n    return false;\n  }\n  if (x.length > 0 && typeof x[0] !== 'number') {\n    return false;\n  }\n  return true;\n}\n\nfunction objEquiv(a, b, opts) {\n  /* eslint max-statements: [2, 50] */\n  var i, key;\n  if (typeof a !== typeof b) { return false; }\n  if (isUndefinedOrNull(a) || isUndefinedOrNull(b)) { return false; }\n\n  // an identical 'prototype' property.\n  if (a.prototype !== b.prototype) { return false; }\n\n  if (isArguments(a) !== isArguments(b)) { return false; }\n\n  var aIsRegex = isRegex(a);\n  var bIsRegex = isRegex(b);\n  if (aIsRegex !== bIsRegex) { return false; }\n  if (aIsRegex || bIsRegex) {\n    return a.source === b.source && flags(a) === flags(b);\n  }\n\n  if (isDate(a) && isDate(b)) {\n    return getTime.call(a) === getTime.call(b);\n  }\n\n  var aIsBuffer = isBuffer(a);\n  var bIsBuffer = isBuffer(b);\n  if (aIsBuffer !== bIsBuffer) { return false; }\n  if (aIsBuffer || bIsBuffer) { // && would work too, because both are true or both false here\n    if (a.length !== b.length) { return false; }\n    for (i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) { return false; }\n    }\n    return true;\n  }\n\n  if (typeof a !== typeof b) { return false; }\n\n  try {\n    var ka = objectKeys(a);\n    var kb = objectKeys(b);\n  } catch (e) { // happens when one is a string literal and the other isn't\n    return false;\n  }\n  // having the same number of owned properties (keys incorporates hasOwnProperty)\n  if (ka.length !== kb.length) { return false; }\n\n  // the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  // ~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] != kb[i]) { return false; }\n  }\n  // equivalent values for every corresponding key, and ~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!deepEqual(a[key], b[key], opts)) { return false; }\n  }\n\n  return true;\n}\n\nmodule.exports = deepEqual;\n","void function(root){\n\n    // return a number between 0 and max-1\n    function r(max){ return Math.floor(Math.random()*max) }\n\n    function generate(salt, size){\n        var key = ''\n        var sl = salt.length\n        while ( size -- ) {\n            var rnd = r(sl)\n            key += salt[rnd]\n        }\n        return key\n    }\n\n    var rndtok = function(salt, size){\n        return isNaN(size) ? undefined :\n               size < 1    ? undefined : generate(salt, size)\n\n    }\n\n    rndtok.gen = createGenerator\n\n    function createGenerator(salt){\n        salt = typeof salt  == 'string' && salt.length > 0 ? salt :  'abcdefghijklmnopqrstuvwxzy0123456789'\n        var temp = rndtok.bind(rndtok, salt)\n        temp.salt = function(){ return salt }\n        temp.create = createGenerator\n        temp.gen = createGenerator\n        return temp\n    }\n\n    module.exports = createGenerator()\n\n}(this)\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","var clone = (function() {\n'use strict';\n\nfunction _instanceof(obj, type) {\n  return type != null && obj instanceof type;\n}\n\nvar nativeMap;\ntry {\n  nativeMap = Map;\n} catch(_) {\n  // maybe a reference error because no `Map`. Give it a dummy value that no\n  // value will ever be an instanceof.\n  nativeMap = function() {};\n}\n\nvar nativeSet;\ntry {\n  nativeSet = Set;\n} catch(_) {\n  nativeSet = function() {};\n}\n\nvar nativePromise;\ntry {\n  nativePromise = Promise;\n} catch(_) {\n  nativePromise = function() {};\n}\n\n/**\n * Clones (copies) an Object using deep copying.\n *\n * This function supports circular references by default, but if you are certain\n * there are no circular references in your object, you can save some CPU time\n * by calling clone(obj, false).\n *\n * Caution: if `circular` is false and `parent` contains circular references,\n * your program may enter an infinite loop and crash.\n *\n * @param `parent` - the object to be cloned\n * @param `circular` - set to true if the object to be cloned may contain\n *    circular references. (optional - true by default)\n * @param `depth` - set to a number if the object is only to be cloned to\n *    a particular depth. (optional - defaults to Infinity)\n * @param `prototype` - sets the prototype to be used when cloning an object.\n *    (optional - defaults to parent prototype).\n * @param `includeNonEnumerable` - set to true if the non-enumerable properties\n *    should be cloned as well. Non-enumerable properties on the prototype\n *    chain will be ignored. (optional - false by default)\n*/\nfunction clone(parent, circular, depth, prototype, includeNonEnumerable) {\n  if (typeof circular === 'object') {\n    depth = circular.depth;\n    prototype = circular.prototype;\n    includeNonEnumerable = circular.includeNonEnumerable;\n    circular = circular.circular;\n  }\n  // maintain two arrays for circular references, where corresponding parents\n  // and children have the same index\n  var allParents = [];\n  var allChildren = [];\n\n  var useBuffer = typeof Buffer != 'undefined';\n\n  if (typeof circular == 'undefined')\n    circular = true;\n\n  if (typeof depth == 'undefined')\n    depth = Infinity;\n\n  // recurse this function so we don't reset allParents and allChildren\n  function _clone(parent, depth) {\n    // cloning null always returns null\n    if (parent === null)\n      return null;\n\n    if (depth === 0)\n      return parent;\n\n    var child;\n    var proto;\n    if (typeof parent != 'object') {\n      return parent;\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      child = new nativeMap();\n    } else if (_instanceof(parent, nativeSet)) {\n      child = new nativeSet();\n    } else if (_instanceof(parent, nativePromise)) {\n      child = new nativePromise(function (resolve, reject) {\n        parent.then(function(value) {\n          resolve(_clone(value, depth - 1));\n        }, function(err) {\n          reject(_clone(err, depth - 1));\n        });\n      });\n    } else if (clone.__isArray(parent)) {\n      child = [];\n    } else if (clone.__isRegExp(parent)) {\n      child = new RegExp(parent.source, __getRegExpFlags(parent));\n      if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n    } else if (clone.__isDate(parent)) {\n      child = new Date(parent.getTime());\n    } else if (useBuffer && Buffer.isBuffer(parent)) {\n      if (Buffer.allocUnsafe) {\n        // Node.js >= 4.5.0\n        child = Buffer.allocUnsafe(parent.length);\n      } else {\n        // Older Node.js versions\n        child = new Buffer(parent.length);\n      }\n      parent.copy(child);\n      return child;\n    } else if (_instanceof(parent, Error)) {\n      child = Object.create(parent);\n    } else {\n      if (typeof prototype == 'undefined') {\n        proto = Object.getPrototypeOf(parent);\n        child = Object.create(proto);\n      }\n      else {\n        child = Object.create(prototype);\n        proto = prototype;\n      }\n    }\n\n    if (circular) {\n      var index = allParents.indexOf(parent);\n\n      if (index != -1) {\n        return allChildren[index];\n      }\n      allParents.push(parent);\n      allChildren.push(child);\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      parent.forEach(function(value, key) {\n        var keyChild = _clone(key, depth - 1);\n        var valueChild = _clone(value, depth - 1);\n        child.set(keyChild, valueChild);\n      });\n    }\n    if (_instanceof(parent, nativeSet)) {\n      parent.forEach(function(value) {\n        var entryChild = _clone(value, depth - 1);\n        child.add(entryChild);\n      });\n    }\n\n    for (var i in parent) {\n      var attrs;\n      if (proto) {\n        attrs = Object.getOwnPropertyDescriptor(proto, i);\n      }\n\n      if (attrs && attrs.set == null) {\n        continue;\n      }\n      child[i] = _clone(parent[i], depth - 1);\n    }\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(parent);\n      for (var i = 0; i < symbols.length; i++) {\n        // Don't need to worry about cloning a symbol because it is a primitive,\n        // like a number or string.\n        var symbol = symbols[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, symbol);\n        if (descriptor && !descriptor.enumerable && !includeNonEnumerable) {\n          continue;\n        }\n        child[symbol] = _clone(parent[symbol], depth - 1);\n        if (!descriptor.enumerable) {\n          Object.defineProperty(child, symbol, {\n            enumerable: false\n          });\n        }\n      }\n    }\n\n    if (includeNonEnumerable) {\n      var allPropertyNames = Object.getOwnPropertyNames(parent);\n      for (var i = 0; i < allPropertyNames.length; i++) {\n        var propertyName = allPropertyNames[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, propertyName);\n        if (descriptor && descriptor.enumerable) {\n          continue;\n        }\n        child[propertyName] = _clone(parent[propertyName], depth - 1);\n        Object.defineProperty(child, propertyName, {\n          enumerable: false\n        });\n      }\n    }\n\n    return child;\n  }\n\n  return _clone(parent, depth);\n}\n\n/**\n * Simple flat clone using prototype, accepts only objects, usefull for property\n * override on FLAT configuration object (no nested props).\n *\n * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n * works.\n */\nclone.clonePrototype = function clonePrototype(parent) {\n  if (parent === null)\n    return null;\n\n  var c = function () {};\n  c.prototype = parent;\n  return new c();\n};\n\n// private utility functions\n\nfunction __objToStr(o) {\n  return Object.prototype.toString.call(o);\n}\nclone.__objToStr = __objToStr;\n\nfunction __isDate(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Date]';\n}\nclone.__isDate = __isDate;\n\nfunction __isArray(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Array]';\n}\nclone.__isArray = __isArray;\n\nfunction __isRegExp(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\n}\nclone.__isRegExp = __isRegExp;\n\nfunction __getRegExpFlags(re) {\n  var flags = '';\n  if (re.global) flags += 'g';\n  if (re.ignoreCase) flags += 'i';\n  if (re.multiline) flags += 'm';\n  return flags;\n}\nclone.__getRegExpFlags = __getRegExpFlags;\n\nreturn clone;\n})();\n\nif (typeof module === 'object' && module.exports) {\n  module.exports = clone;\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","// https://github.com/electron/electron/issues/2288\nfunction isElectron() {\n    // Renderer process\n    if (typeof window !== 'undefined' && typeof window.process === 'object' && window.process.type === 'renderer') {\n        return true;\n    }\n\n    // Main process\n    if (typeof process !== 'undefined' && typeof process.versions === 'object' && !!process.versions.electron) {\n        return true;\n    }\n\n    // Detect the user agent when the `nodeIntegration` option is set to true\n    if (typeof navigator === 'object' && typeof navigator.userAgent === 'string' && navigator.userAgent.indexOf('Electron') >= 0) {\n        return true;\n    }\n\n    return false;\n}\n\nmodule.exports = isElectron;\n","/**\n * this contains a mapping to basic dependencies\n * which should be easy to change\n */\nimport randomToken from 'random-token';\nimport { default as deepClone } from 'clone';\n\n/**\n * Returns an error that indicates that a plugin is missing\n * We do not throw a RxError because this should not be handled\n * programmatically but by using the correct import\n */\nexport function pluginMissing(pluginKey) {\n  return new Error(\"You are using a function which must be overwritten by a plugin.\\n        You should either prevent the usage of this function or add the plugin via:\\n          - es5-require:\\n            RxDB.plugin(require('rxdb/plugins/\" + pluginKey + \"'))\\n          - es6-import:\\n            import \" + ucfirst(pluginKey) + \"Plugin from 'rxdb/plugins/\" + pluginKey + \"';\\n            RxDB.plugin(\" + ucfirst(pluginKey) + \"Plugin);\\n        \");\n}\n/**\n * this is a very fast hashing but its unsecure\n * @link http://stackoverflow.com/questions/7616461/generate-a-hash-from-string-in-javascript-jquery\n * @return a number as hash-result\n */\n\nexport function fastUnsecureHash(obj) {\n  if (typeof obj !== 'string') obj = JSON.stringify(obj);\n  var hashValue = 0,\n      i,\n      chr,\n      len;\n  if (obj.length === 0) return hashValue;\n\n  for (i = 0, len = obj.length; i < len; i++) {\n    chr = obj.charCodeAt(i); // tslint:disable-next-line\n\n    hashValue = (hashValue << 5) - hashValue + chr; // tslint:disable-next-line\n\n    hashValue |= 0; // Convert to 32bit integer\n  }\n\n  if (hashValue < 0) hashValue = hashValue * -1;\n  return hashValue;\n}\n/**\n *  spark-md5 is used here\n *  because pouchdb uses the same\n *  and build-size could be reduced by 9kb\n */\n\nimport Md5 from 'spark-md5';\nexport function hash(obj) {\n  var msg = obj;\n  if (typeof obj !== 'string') msg = JSON.stringify(obj);\n  return Md5.hash(msg);\n}\n/**\n * generate a new _id as db-primary-key\n */\n\nexport function generateId() {\n  return randomToken(10) + ':' + new Date().getTime();\n}\n/**\n * returns a promise that resolves on the next tick\n */\n\nexport function nextTick() {\n  return new Promise(function (res) {\n    return setTimeout(res, 0);\n  });\n}\nexport function promiseWait() {\n  var ms = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  return new Promise(function (res) {\n    return setTimeout(res, ms);\n  });\n}\nexport function toPromise(maybePromise) {\n  if (maybePromise && typeof maybePromise.then === 'function') {\n    // is promise\n    return maybePromise;\n  } else {\n    return Promise.resolve(maybePromise);\n  }\n}\nexport function requestIdlePromise() {\n  var timeout = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n  if (typeof window === 'object' && window['requestIdleCallback']) {\n    return new Promise(function (res) {\n      return window['requestIdleCallback'](res, {\n        timeout: timeout\n      });\n    });\n  } else return Promise.resolve();\n}\n/**\n * like Promise.all() but runs in series instead of parallel\n * @link https://github.com/egoist/promise.series/blob/master/index.js\n * @param tasks array with functions that return a promise\n */\n\nexport function promiseSeries(tasks, initial) {\n  return tasks.reduce(function (current, next) {\n    return current.then(next);\n  }, Promise.resolve(initial));\n}\n/**\n * run the callback if requestIdleCallback available\n * do nothing if not\n * @link https://developer.mozilla.org/de/docs/Web/API/Window/requestIdleCallback\n */\n\nexport function requestIdleCallbackIfAvailable(fun) {\n  if (typeof window === 'object' && window['requestIdleCallback']) window['requestIdleCallback'](fun);\n}\n/**\n * uppercase first char\n */\n\nexport function ucfirst(str) {\n  str += '';\n  var f = str.charAt(0).toUpperCase();\n  return f + str.substr(1);\n}\n/**\n * @link https://de.wikipedia.org/wiki/Base58\n * this does not start with the numbers to generate valid variable-names\n */\n\nvar base58Chars = 'abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ123456789';\nvar base58Length = base58Chars.length;\n/**\n * transform a number to a string by using only base58 chars\n * @link https://github.com/matthewmueller/number-to-letter/blob/master/index.js\n * @param nr                                       | 10000000\n * @return the string-representation of the number | '2oMX'\n */\n\nexport function numberToLetter(nr) {\n  var digits = [];\n\n  do {\n    var v = nr % base58Length;\n    digits.push(v);\n    nr = Math.floor(nr / base58Length);\n  } while (nr-- > 0);\n\n  return digits.reverse().map(function (d) {\n    return base58Chars[d];\n  }).join('');\n}\n/**\n * removes trailing and ending dots from the string\n */\n\nexport function trimDots(str) {\n  // start\n  while (str.charAt(0) === '.') {\n    str = str.substr(1);\n  } // end\n\n\n  while (str.slice(-1) === '.') {\n    str = str.slice(0, -1);\n  }\n\n  return str;\n}\n/**\n * deep-sort an object so its attributes are in lexical order.\n * Also sorts the arrays inside of the object if no-array-sort not set\n */\n\nexport function sortObject(obj) {\n  var noArraySort = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  if (!obj) return obj; // do not sort null, false or undefined\n  // array\n\n  if (!noArraySort && Array.isArray(obj)) {\n    return obj.sort(function (a, b) {\n      if (typeof a === 'string' && typeof b === 'string') return a.localeCompare(b);\n      if (typeof a === 'object') return 1;else return -1;\n    }).map(function (i) {\n      return sortObject(i);\n    });\n  } // object\n\n\n  if (typeof obj === 'object') {\n    if (obj instanceof RegExp) return obj;\n    var out = {};\n    Object.keys(obj).sort(function (a, b) {\n      return a.localeCompare(b);\n    }).forEach(function (key) {\n      out[key] = sortObject(obj[key]);\n    });\n    return out;\n  } // everything else\n\n\n  return obj;\n}\n/**\n * used to JSON.stringify() objects that contain a regex\n * @link https://stackoverflow.com/a/33416684 thank you Fabian Jakobs!\n */\n\nexport function stringifyFilter(key, value) {\n  if (value instanceof RegExp) return value.toString();\n  return value;\n}\n/**\n * get a random string which can be used with couchdb\n * @link http://stackoverflow.com/a/1349426/3443137\n */\n\nexport function randomCouchString() {\n  var length = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 10;\n  var text = '';\n  var possible = 'abcdefghijklmnopqrstuvwxyz';\n\n  for (var i = 0; i < length; i++) {\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\n  }\n\n  return text;\n}\n/**\n * shuffle the given array\n */\n\nexport function shuffleArray(arr) {\n  return arr.sort(function () {\n    return Math.random() - 0.5;\n  });\n}\n/**\n * transforms the given adapter into a pouch-compatible object\n */\n\nexport function adapterObject(adapter) {\n  var adapterObj = {\n    db: adapter\n  };\n\n  if (typeof adapter === 'string') {\n    adapterObj = {\n      adapter: adapter\n    };\n  }\n\n  return adapterObj;\n}\n\nfunction recursiveDeepCopy(o) {\n  if (!o) return o;\n  return deepClone(o, false);\n}\n\nexport var clone = recursiveDeepCopy;\nimport isElectron from 'is-electron';\nexport var isElectronRenderer = isElectron();\n/**\n * returns a flattened object\n * @link https://gist.github.com/penguinboy/762197\n */\n\nexport function flattenObject(ob) {\n  var toReturn = {};\n\n  for (var i in ob) {\n    if (!ob.hasOwnProperty(i)) continue;\n\n    if (typeof ob[i] === 'object') {\n      var flatObject = flattenObject(ob[i]);\n\n      for (var x in flatObject) {\n        if (!flatObject.hasOwnProperty(x)) continue;\n        toReturn[i + '.' + x] = flatObject[x];\n      }\n    } else {\n      toReturn[i] = ob[i];\n    }\n  }\n\n  return toReturn;\n}\nexport function getHeightOfRevision(revString) {\n  var first = revString.split('-')[0];\n  return parseInt(first, 10);\n}\n/**\n * prefix of local documents\n * TODO check if this variable exists somewhere else\n */\n\nexport var LOCAL_PREFIX = '_local/';\n","function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nmodule.exports = _inheritsLoose;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nmodule.exports = _isNativeFunction;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nvar setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeFunction = require(\"./isNativeFunction\");\n\nvar construct = require(\"./construct\");\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nmodule.exports = _wrapNativeSuper;","/**\n * functions that can or should be overwritten by plugins\n */\nimport { pluginMissing } from './util';\nvar funs = {\n  /**\n   * validates if a password can be used\n   * @overwritten by plugin (optional)\n   * @throws if password not valid\n   */\n  validatePassword: function validatePassword(_password) {\n    throw pluginMissing('encryption');\n  },\n\n  /**\n   * creates a key-compressor for the given schema\n   */\n  createKeyCompressor: function createKeyCompressor(_rxSchema) {\n    throw pluginMissing('key-compression');\n  },\n\n  /**\n   * creates a leader-elector for the given database\n   */\n  createLeaderElector: function createLeaderElector(_database) {\n    throw pluginMissing('leader-election');\n  },\n\n  /**\n   * checks if the given adapter can be used\n   */\n  checkAdapter: function checkAdapter(_adapter) {\n    throw pluginMissing('adapter-check');\n  },\n\n  /**\n   * overwritte to map error-codes to text-messages\n   */\n  tunnelErrorMessage: function tunnelErrorMessage(message) {\n    // TODO better text with link\n    return \"RxDB Error-Code \" + message + \".\\n        - To find out what this means, use the error-messages-plugin https://pubkey.github.io/rxdb/custom-build.html#error-messages\\n        - Or search for this code https://github.com/pubkey/rxdb/search?q=\" + message + \"\\n        \";\n  }\n};\nexport default funs;\n","import _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport _wrapNativeSuper from \"@babel/runtime/helpers/wrapNativeSuper\";\n\n/**\n * here we use custom errors with the additional field 'parameters'\n */\nimport overwritable from './overwritable';\n\n/**\n * transform an object of parameters to a presentable string\n */\nfunction parametersToString(parameters) {\n  var ret = '';\n  if (Object.keys(parameters).length === 0) return ret;\n  ret += 'Given parameters: {\\n';\n  ret += Object.keys(parameters).map(function (k) {\n    var paramStr = '[object Object]';\n\n    try {\n      paramStr = JSON.stringify(parameters[k], function (_k, v) {\n        return v === undefined ? null : v;\n      }, 2);\n    } catch (e) {}\n\n    return k + ':' + paramStr;\n  }).join('\\n');\n  ret += '}';\n  return ret;\n}\n\nfunction messageForError(message, parameters) {\n  return 'RxError:' + '\\n' + message + '\\n' + parametersToString(parameters);\n}\n\nexport var RxError =\n/*#__PURE__*/\nfunction (_Error) {\n  _inheritsLoose(RxError, _Error);\n\n  function RxError(code, message) {\n    var _this;\n\n    var parameters = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var mes = messageForError(message, parameters);\n    _this = _Error.call(this, mes) || this;\n    _this.code = code;\n    _this.message = mes;\n    _this.parameters = parameters;\n    _this.rxdb = true; // tag them as internal\n\n    return _this;\n  }\n\n  var _proto = RxError.prototype;\n\n  _proto.toString = function toString() {\n    return this.message;\n  };\n\n  _createClass(RxError, [{\n    key: \"name\",\n    get: function get() {\n      return 'RxError';\n    }\n  }, {\n    key: \"typeError\",\n    get: function get() {\n      return false;\n    }\n  }]);\n\n  return RxError;\n}(_wrapNativeSuper(Error));\nexport var RxTypeError =\n/*#__PURE__*/\nfunction (_TypeError) {\n  _inheritsLoose(RxTypeError, _TypeError);\n\n  function RxTypeError(code, message) {\n    var _this2;\n\n    var parameters = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var mes = messageForError(message, parameters);\n    _this2 = _TypeError.call(this, mes) || this;\n    _this2.code = code;\n    _this2.message = mes;\n    _this2.parameters = parameters;\n    _this2.rxdb = true; // tag them as internal\n\n    return _this2;\n  }\n\n  var _proto2 = RxTypeError.prototype;\n\n  _proto2.toString = function toString() {\n    return this.message;\n  };\n\n  _createClass(RxTypeError, [{\n    key: \"name\",\n    get: function get() {\n      return 'RxError';\n    }\n  }, {\n    key: \"typeError\",\n    get: function get() {\n      return true;\n    }\n  }]);\n\n  return RxTypeError;\n}(_wrapNativeSuper(TypeError)); // const errorKeySearchLink = key => 'https://github.com/pubkey/rxdb/search?q=' + key + '+path%3Asrc%2Fmodules';\n// const verboseErrorModuleLink = 'https://pubkey.github.io/rxdb/custom-builds.html#verbose-error';\n\nexport function newRxError(code, parameters) {\n  return new RxError(code, overwritable.tunnelErrorMessage(code), parameters);\n}\nexport function newRxTypeError(code, parameters) {\n  return new RxTypeError(code, overwritable.tunnelErrorMessage(code), parameters);\n}\n","/**\n * stores the hooks that where added by the plugins\n */\n\n/**\n * hook-functions that can be extended by the plugin\n */\nexport var HOOKS = {\n  createRxDatabase: [],\n  preCreateRxCollection: [],\n  createRxCollection: [],\n\n  /**\n   * functions that get the json-schema as input\n   * to do additionally checks/manipulation\n   */\n  preCreateRxSchema: [],\n\n  /**\n   * functions that run after the RxSchema is created\n   * gets RxSchema as attribute\n   */\n  createRxSchema: [],\n  createRxQuery: [],\n  createRxDocument: [],\n\n  /**\n   * runs after a RxDocument is created,\n   * cannot be async\n   */\n  postCreateRxDocument: [],\n\n  /**\n   * runs before a pouchdb-instance is created\n   * gets pouchParameters as attribute so you can manipulate them\n   * {\n   *   location: string,\n   *   adapter: any,\n   *   settings: object\n   * }\n   */\n  preCreatePouchDb: [],\n\n  /**\n   * runs on the document-data before the document is migrated\n   * {\n   *   doc: Object, // originam doc-data\n   *   migrated: // migrated doc-data after run throught migration-strategies\n   * }\n   */\n  preMigrateDocument: [],\n\n  /**\n   * runs after the migration of a document has been done\n   */\n  postMigrateDocument: [],\n\n  /**\n   * runs at the beginning of the destroy-process of a database\n   */\n  preDestroyRxDatabase: []\n};\nexport function runPluginHooks(hookKey, obj) {\n  HOOKS[hookKey].forEach(function (fun) {\n    return fun(obj);\n  });\n}\nexport function runAsyncPluginHooks(hookKey, obj) {\n  return Promise.all(HOOKS[hookKey].map(function (fun) {\n    return fun(obj);\n  }));\n}\n/**\n * used in tests to remove hooks\n */\n\nexport function clearHook(type, fun) {\n  HOOKS[type] = HOOKS[type].filter(function (h) {\n    return h !== fun;\n  });\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","export function isFunction(x: any): x is Function {\n  return typeof x === 'function';\n}\n","let _enable_super_gross_mode_that_will_cause_bad_things = false;\n\n/**\n * The global configuration object for RxJS, used to configure things\n * like what Promise contructor should used to create Promises\n */\nexport const config = {\n  /**\n   * The promise constructor used by default for methods such as\n   * {@link toPromise} and {@link forEach}\n   */\n  Promise: undefined as PromiseConstructorLike,\n\n  /**\n   * If true, turns on synchronous error rethrowing, which is a deprecated behavior\n   * in v6 and higher. This behavior enables bad patterns like wrapping a subscribe\n   * call in a try/catch block. It also enables producer interference, a nasty bug\n   * where a multicast can be broken for all observers by a downstream consumer with\n   * an unhandled error. DO NOT USE THIS FLAG UNLESS IT'S NEEDED TO BY TIME\n   * FOR MIGRATION REASONS.\n   */\n  set useDeprecatedSynchronousErrorHandling(value: boolean) {\n    if (value) {\n      const error = new Error();\n      console.warn('DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \\n' + error.stack);\n    } else if (_enable_super_gross_mode_that_will_cause_bad_things) {\n      console.log('RxJS: Back to a better error behavior. Thank you. <3');\n    }\n    _enable_super_gross_mode_that_will_cause_bad_things = value;\n  },\n\n  get useDeprecatedSynchronousErrorHandling() {\n    return _enable_super_gross_mode_that_will_cause_bad_things;\n  },\n};\n","/**\n * Throws an error on another job so that it's picked up by the runtime's\n * uncaught error handling mechanism.\n * @param err the error to throw\n */\nexport function hostReportError(err: any) {\n  setTimeout(() => { throw err; }, 0);\n}","import { Observer } from './types';\nimport { config } from './config';\nimport { hostReportError } from './util/hostReportError';\n\nexport const empty: Observer<any> = {\n  closed: true,\n  next(value: any): void { /* noop */},\n  error(err: any): void {\n    if (config.useDeprecatedSynchronousErrorHandling) {\n      throw err;\n    } else {\n      hostReportError(err);\n    }\n  },\n  complete(): void { /*noop*/ }\n};\n","export const isArray = (() => Array.isArray || (<T>(x: any): x is T[] => x && typeof x.length === 'number'))();\n","export function isObject(x: any): x is Object {\n  return x !== null && typeof x === 'object';\n}\n","export interface UnsubscriptionError extends Error {\n  readonly errors: any[];\n}\n\nexport interface UnsubscriptionErrorCtor {\n  new(errors: any[]): UnsubscriptionError;\n}\n\nconst UnsubscriptionErrorImpl = (() => {\n  function UnsubscriptionErrorImpl(this: any, errors: any[]) {\n    Error.call(this);\n    this.message = errors ?\n      `${errors.length} errors occurred during unsubscription:\n${errors.map((err, i) => `${i + 1}) ${err.toString()}`).join('\\n  ')}` : '';\n    this.name = 'UnsubscriptionError';\n    this.errors = errors;\n    return this;\n  }\n\n  UnsubscriptionErrorImpl.prototype = Object.create(Error.prototype);\n\n  return UnsubscriptionErrorImpl;\n})();\n\n/**\n * An error thrown when one or more errors have occurred during the\n * `unsubscribe` of a {@link Subscription}.\n */\nexport const UnsubscriptionError: UnsubscriptionErrorCtor = UnsubscriptionErrorImpl as any;","import { isArray } from './util/isArray';\nimport { isObject } from './util/isObject';\nimport { isFunction } from './util/isFunction';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\nimport { SubscriptionLike, TeardownLogic } from './types';\n\n/**\n * Represents a disposable resource, such as the execution of an Observable. A\n * Subscription has one important method, `unsubscribe`, that takes no argument\n * and just disposes the resource held by the subscription.\n *\n * Additionally, subscriptions may be grouped together through the `add()`\n * method, which will attach a child Subscription to the current Subscription.\n * When a Subscription is unsubscribed, all its children (and its grandchildren)\n * will be unsubscribed as well.\n *\n * @class Subscription\n */\nexport class Subscription implements SubscriptionLike {\n  /** @nocollapse */\n  public static EMPTY: Subscription = (function(empty: any) {\n    empty.closed = true;\n    return empty;\n  }(new Subscription()));\n\n  /**\n   * A flag to indicate whether this Subscription has already been unsubscribed.\n   * @type {boolean}\n   */\n  public closed: boolean = false;\n\n  /** @internal */\n  protected _parentOrParents: Subscription | Subscription[] = null;\n  /** @internal */\n  private _subscriptions: SubscriptionLike[] = null;\n\n  /**\n   * @param {function(): void} [unsubscribe] A function describing how to\n   * perform the disposal of resources when the `unsubscribe` method is called.\n   */\n  constructor(unsubscribe?: () => void) {\n    if (unsubscribe) {\n      (<any> this)._unsubscribe = unsubscribe;\n    }\n  }\n\n  /**\n   * Disposes the resources held by the subscription. May, for instance, cancel\n   * an ongoing Observable execution or cancel any other type of work that\n   * started when the Subscription was created.\n   * @return {void}\n   */\n  unsubscribe(): void {\n    let errors: any[];\n\n    if (this.closed) {\n      return;\n    }\n\n    let { _parentOrParents, _unsubscribe, _subscriptions } = (<any> this);\n\n    this.closed = true;\n    this._parentOrParents = null;\n    // null out _subscriptions first so any child subscriptions that attempt\n    // to remove themselves from this subscription will noop\n    this._subscriptions = null;\n\n    if (_parentOrParents instanceof Subscription) {\n      _parentOrParents.remove(this);\n    } else if (_parentOrParents !== null) {\n      for (let index = 0; index < _parentOrParents.length; ++index) {\n        const parent = _parentOrParents[index];\n        parent.remove(this);\n      }\n    }\n\n    if (isFunction(_unsubscribe)) {\n      try {\n        _unsubscribe.call(this);\n      } catch (e) {\n        errors = e instanceof UnsubscriptionError ? flattenUnsubscriptionErrors(e.errors) : [e];\n      }\n    }\n\n    if (isArray(_subscriptions)) {\n      let index = -1;\n      let len = _subscriptions.length;\n\n      while (++index < len) {\n        const sub = _subscriptions[index];\n        if (isObject(sub)) {\n          try {\n            sub.unsubscribe();\n          } catch (e) {\n            errors = errors || [];\n            if (e instanceof UnsubscriptionError) {\n              errors = errors.concat(flattenUnsubscriptionErrors(e.errors));\n            } else {\n              errors.push(e);\n            }\n          }\n        }\n      }\n    }\n\n    if (errors) {\n      throw new UnsubscriptionError(errors);\n    }\n  }\n\n  /**\n   * Adds a tear down to be called during the unsubscribe() of this\n   * Subscription. Can also be used to add a child subscription.\n   *\n   * If the tear down being added is a subscription that is already\n   * unsubscribed, is the same reference `add` is being called on, or is\n   * `Subscription.EMPTY`, it will not be added.\n   *\n   * If this subscription is already in an `closed` state, the passed\n   * tear down logic will be executed immediately.\n   *\n   * When a parent subscription is unsubscribed, any child subscriptions that were added to it are also unsubscribed.\n   *\n   * @param {TeardownLogic} teardown The additional logic to execute on\n   * teardown.\n   * @return {Subscription} Returns the Subscription used or created to be\n   * added to the inner subscriptions list. This Subscription can be used with\n   * `remove()` to remove the passed teardown logic from the inner subscriptions\n   * list.\n   */\n  add(teardown: TeardownLogic): Subscription {\n    let subscription = (<Subscription>teardown);\n\n    if (!(<any>teardown)) {\n      return Subscription.EMPTY;\n    }\n\n    switch (typeof teardown) {\n      case 'function':\n        subscription = new Subscription(<(() => void)>teardown);\n      case 'object':\n        if (subscription === this || subscription.closed || typeof subscription.unsubscribe !== 'function') {\n          // This also covers the case where `subscription` is `Subscription.EMPTY`, which is always in `closed` state.\n          return subscription;\n        } else if (this.closed) {\n          subscription.unsubscribe();\n          return subscription;\n        } else if (!(subscription instanceof Subscription)) {\n          const tmp = subscription;\n          subscription = new Subscription();\n          subscription._subscriptions = [tmp];\n        }\n        break;\n      default: {\n        throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n      }\n    }\n\n    // Add `this` as parent of `subscription` if that's not already the case.\n    let { _parentOrParents } = subscription;\n    if (_parentOrParents === null) {\n      // If we don't have a parent, then set `subscription._parents` to\n      // the `this`, which is the common case that we optimize for.\n      subscription._parentOrParents = this;\n    } else if (_parentOrParents instanceof Subscription) {\n      if (_parentOrParents === this) {\n        // The `subscription` already has `this` as a parent.\n        return subscription;\n      }\n      // If there's already one parent, but not multiple, allocate an\n      // Array to store the rest of the parent Subscriptions.\n      subscription._parentOrParents = [_parentOrParents, this];\n    } else if (_parentOrParents.indexOf(this) === -1) {\n      // Only add `this` to the _parentOrParents list if it's not already there.\n      _parentOrParents.push(this);\n    } else {\n      // The `subscription` already has `this` as a parent.\n      return subscription;\n    }\n\n    // Optimize for the common case when adding the first subscription.\n    const subscriptions = this._subscriptions;\n    if (subscriptions === null) {\n      this._subscriptions = [subscription];\n    } else {\n      subscriptions.push(subscription);\n    }\n\n    return subscription;\n  }\n\n  /**\n   * Removes a Subscription from the internal list of subscriptions that will\n   * unsubscribe during the unsubscribe process of this Subscription.\n   * @param {Subscription} subscription The subscription to remove.\n   * @return {void}\n   */\n  remove(subscription: Subscription): void {\n    const subscriptions = this._subscriptions;\n    if (subscriptions) {\n      const subscriptionIndex = subscriptions.indexOf(subscription);\n      if (subscriptionIndex !== -1) {\n        subscriptions.splice(subscriptionIndex, 1);\n      }\n    }\n  }\n}\n\nfunction flattenUnsubscriptionErrors(errors: any[]) {\n return errors.reduce((errs, err) => errs.concat((err instanceof UnsubscriptionError) ? err.errors : err), []);\n}\n","/** @deprecated do not use, this is no longer checked by RxJS internals */\nexport const rxSubscriber = (() =>\n  typeof Symbol === 'function'\n    ? Symbol('rxSubscriber')\n    : '@@rxSubscriber_' + Math.random())();\n\n/**\n * @deprecated use rxSubscriber instead\n */\nexport const $$rxSubscriber = rxSubscriber;\n","import { isFunction } from './util/isFunction';\nimport { empty as emptyObserver } from './Observer';\nimport { Observer, PartialObserver, TeardownLogic } from './types';\nimport { Subscription } from './Subscription';\nimport { rxSubscriber as rxSubscriberSymbol } from '../internal/symbol/rxSubscriber';\nimport { config } from './config';\nimport { hostReportError } from './util/hostReportError';\n\n/**\n * Implements the {@link Observer} interface and extends the\n * {@link Subscription} class. While the {@link Observer} is the public API for\n * consuming the values of an {@link Observable}, all Observers get converted to\n * a Subscriber, in order to provide Subscription-like capabilities such as\n * `unsubscribe`. Subscriber is a common type in RxJS, and crucial for\n * implementing operators, but it is rarely used as a public API.\n *\n * @class Subscriber<T>\n */\nexport class Subscriber<T> extends Subscription implements Observer<T> {\n\n  [rxSubscriberSymbol]() { return this; }\n\n  /**\n   * A static factory for a Subscriber, given a (potentially partial) definition\n   * of an Observer.\n   * @param {function(x: ?T): void} [next] The `next` callback of an Observer.\n   * @param {function(e: ?any): void} [error] The `error` callback of an\n   * Observer.\n   * @param {function(): void} [complete] The `complete` callback of an\n   * Observer.\n   * @return {Subscriber<T>} A Subscriber wrapping the (partially defined)\n   * Observer represented by the given arguments.\n   * @nocollapse\n   */\n  static create<T>(next?: (x?: T) => void,\n                   error?: (e?: any) => void,\n                   complete?: () => void): Subscriber<T> {\n    const subscriber = new Subscriber(next, error, complete);\n    subscriber.syncErrorThrowable = false;\n    return subscriber;\n  }\n\n  /** @internal */ syncErrorValue: any = null;\n  /** @internal */ syncErrorThrown: boolean = false;\n  /** @internal */ syncErrorThrowable: boolean = false;\n\n  protected isStopped: boolean = false;\n  protected destination: PartialObserver<any> | Subscriber<any>; // this `any` is the escape hatch to erase extra type param (e.g. R)\n\n  /**\n   * @param {Observer|function(value: T): void} [destinationOrNext] A partially\n   * defined Observer or a `next` callback function.\n   * @param {function(e: ?any): void} [error] The `error` callback of an\n   * Observer.\n   * @param {function(): void} [complete] The `complete` callback of an\n   * Observer.\n   */\n  constructor(destinationOrNext?: PartialObserver<any> | ((value: T) => void),\n              error?: (e?: any) => void,\n              complete?: () => void) {\n    super();\n\n    switch (arguments.length) {\n      case 0:\n        this.destination = emptyObserver;\n        break;\n      case 1:\n        if (!destinationOrNext) {\n          this.destination = emptyObserver;\n          break;\n        }\n        if (typeof destinationOrNext === 'object') {\n          if (destinationOrNext instanceof Subscriber) {\n            this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;\n            this.destination = destinationOrNext;\n            destinationOrNext.add(this);\n          } else {\n            this.syncErrorThrowable = true;\n            this.destination = new SafeSubscriber<T>(this, <PartialObserver<any>> destinationOrNext);\n          }\n          break;\n        }\n      default:\n        this.syncErrorThrowable = true;\n        this.destination = new SafeSubscriber<T>(this, <((value: T) => void)> destinationOrNext, error, complete);\n        break;\n    }\n  }\n\n  /**\n   * The {@link Observer} callback to receive notifications of type `next` from\n   * the Observable, with a value. The Observable may call this method 0 or more\n   * times.\n   * @param {T} [value] The `next` value.\n   * @return {void}\n   */\n  next(value?: T): void {\n    if (!this.isStopped) {\n      this._next(value);\n    }\n  }\n\n  /**\n   * The {@link Observer} callback to receive notifications of type `error` from\n   * the Observable, with an attached `Error`. Notifies the Observer that\n   * the Observable has experienced an error condition.\n   * @param {any} [err] The `error` exception.\n   * @return {void}\n   */\n  error(err?: any): void {\n    if (!this.isStopped) {\n      this.isStopped = true;\n      this._error(err);\n    }\n  }\n\n  /**\n   * The {@link Observer} callback to receive a valueless notification of type\n   * `complete` from the Observable. Notifies the Observer that the Observable\n   * has finished sending push-based notifications.\n   * @return {void}\n   */\n  complete(): void {\n    if (!this.isStopped) {\n      this.isStopped = true;\n      this._complete();\n    }\n  }\n\n  unsubscribe(): void {\n    if (this.closed) {\n      return;\n    }\n    this.isStopped = true;\n    super.unsubscribe();\n  }\n\n  protected _next(value: T): void {\n    this.destination.next(value);\n  }\n\n  protected _error(err: any): void {\n    this.destination.error(err);\n    this.unsubscribe();\n  }\n\n  protected _complete(): void {\n    this.destination.complete();\n    this.unsubscribe();\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _unsubscribeAndRecycle(): Subscriber<T> {\n    const {  _parentOrParents } = this;\n    this._parentOrParents = null;\n    this.unsubscribe();\n    this.closed = false;\n    this.isStopped = false;\n    this._parentOrParents = _parentOrParents;\n    return this;\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class SafeSubscriber<T> extends Subscriber<T> {\n\n  private _context: any;\n\n  constructor(private _parentSubscriber: Subscriber<T>,\n              observerOrNext?: PartialObserver<T> | ((value: T) => void),\n              error?: (e?: any) => void,\n              complete?: () => void) {\n    super();\n\n    let next: ((value: T) => void);\n    let context: any = this;\n\n    if (isFunction(observerOrNext)) {\n      next = (<((value: T) => void)> observerOrNext);\n    } else if (observerOrNext) {\n      next = (<PartialObserver<T>> observerOrNext).next;\n      error = (<PartialObserver<T>> observerOrNext).error;\n      complete = (<PartialObserver<T>> observerOrNext).complete;\n      if (observerOrNext !== emptyObserver) {\n        context = Object.create(observerOrNext);\n        if (isFunction(context.unsubscribe)) {\n          this.add(<() => void> context.unsubscribe.bind(context));\n        }\n        context.unsubscribe = this.unsubscribe.bind(this);\n      }\n    }\n\n    this._context = context;\n    this._next = next;\n    this._error = error;\n    this._complete = complete;\n  }\n\n  next(value?: T): void {\n    if (!this.isStopped && this._next) {\n      const { _parentSubscriber } = this;\n      if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n        this.__tryOrUnsub(this._next, value);\n      } else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n        this.unsubscribe();\n      }\n    }\n  }\n\n  error(err?: any): void {\n    if (!this.isStopped) {\n      const { _parentSubscriber } = this;\n      const { useDeprecatedSynchronousErrorHandling } = config;\n      if (this._error) {\n        if (!useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n          this.__tryOrUnsub(this._error, err);\n          this.unsubscribe();\n        } else {\n          this.__tryOrSetError(_parentSubscriber, this._error, err);\n          this.unsubscribe();\n        }\n      } else if (!_parentSubscriber.syncErrorThrowable) {\n        this.unsubscribe();\n        if (useDeprecatedSynchronousErrorHandling) {\n          throw err;\n        }\n        hostReportError(err);\n      } else {\n        if (useDeprecatedSynchronousErrorHandling) {\n          _parentSubscriber.syncErrorValue = err;\n          _parentSubscriber.syncErrorThrown = true;\n        } else {\n          hostReportError(err);\n        }\n        this.unsubscribe();\n      }\n    }\n  }\n\n  complete(): void {\n    if (!this.isStopped) {\n      const { _parentSubscriber } = this;\n      if (this._complete) {\n        const wrappedComplete = () => this._complete.call(this._context);\n\n        if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n          this.__tryOrUnsub(wrappedComplete);\n          this.unsubscribe();\n        } else {\n          this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n          this.unsubscribe();\n        }\n      } else {\n        this.unsubscribe();\n      }\n    }\n  }\n\n  private __tryOrUnsub(fn: Function, value?: any): void {\n    try {\n      fn.call(this._context, value);\n    } catch (err) {\n      this.unsubscribe();\n      if (config.useDeprecatedSynchronousErrorHandling) {\n        throw err;\n      } else {\n        hostReportError(err);\n      }\n    }\n  }\n\n  private __tryOrSetError(parent: Subscriber<T>, fn: Function, value?: any): boolean {\n    if (!config.useDeprecatedSynchronousErrorHandling) {\n      throw new Error('bad call');\n    }\n    try {\n      fn.call(this._context, value);\n    } catch (err) {\n      if (config.useDeprecatedSynchronousErrorHandling) {\n        parent.syncErrorValue = err;\n        parent.syncErrorThrown = true;\n        return true;\n      } else {\n        hostReportError(err);\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /** @internal This is an internal implementation detail, do not use. */\n  _unsubscribe(): void {\n    const { _parentSubscriber } = this;\n    this._context = null;\n    this._parentSubscriber = null;\n    _parentSubscriber.unsubscribe();\n  }\n}\n","import { Subscriber } from '../Subscriber';\nimport { Subject } from '../Subject';\n\n/**\n * Determines whether the ErrorObserver is closed or stopped or has a\n * destination that is closed or stopped - in which case errors will\n * need to be reported via a different mechanism.\n * @param observer the observer\n */\nexport function canReportError(observer: Subscriber<any> | Subject<any>): boolean {\n  while (observer) {\n    const { closed, destination, isStopped } = observer as any;\n    if (closed || isStopped) {\n      return false;\n    } else if (destination && destination instanceof Subscriber) {\n      observer = destination;\n    } else {\n      observer = null;\n    }\n  }\n  return true;\n}\n","import { Subscriber } from '../Subscriber';\nimport { rxSubscriber as rxSubscriberSymbol } from '../symbol/rxSubscriber';\nimport { empty as emptyObserver } from '../Observer';\nimport { PartialObserver } from '../types';\n\nexport function toSubscriber<T>(\n  nextOrObserver?: PartialObserver<T> | ((value: T) => void),\n  error?: (error: any) => void,\n  complete?: () => void): Subscriber<T> {\n\n  if (nextOrObserver) {\n    if (nextOrObserver instanceof Subscriber) {\n      return (<Subscriber<T>> nextOrObserver);\n    }\n\n    if (nextOrObserver[rxSubscriberSymbol]) {\n      return nextOrObserver[rxSubscriberSymbol]();\n    }\n  }\n\n  if (!nextOrObserver && !error && !complete) {\n    return new Subscriber(emptyObserver);\n  }\n\n  return new Subscriber(nextOrObserver, error, complete);\n}\n","/** Symbol.observable addition */\n/* Note: This will add Symbol.observable globally for all TypeScript users,\n  however, we are no longer polyfilling Symbol.observable */\ndeclare global {\n  interface SymbolConstructor {\n    readonly observable: symbol;\n  }\n}\n\n/** Symbol.observable or a string \"@@observable\". Used for interop */\nexport const observable = (() => typeof Symbol === 'function' && Symbol.observable || '@@observable')();\n","/* tslint:disable:no-empty */\nexport function noop() { }\n","import { noop } from './noop';\nimport { UnaryFunction } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function pipe<T>(): UnaryFunction<T, T>;\nexport function pipe<T, A>(fn1: UnaryFunction<T, A>): UnaryFunction<T, A>;\nexport function pipe<T, A, B>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>): UnaryFunction<T, B>;\nexport function pipe<T, A, B, C>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>): UnaryFunction<T, C>;\nexport function pipe<T, A, B, C, D>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>): UnaryFunction<T, D>;\nexport function pipe<T, A, B, C, D, E>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>): UnaryFunction<T, E>;\nexport function pipe<T, A, B, C, D, E, F>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>, fn6: UnaryFunction<E, F>): UnaryFunction<T, F>;\nexport function pipe<T, A, B, C, D, E, F, G>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>, fn6: UnaryFunction<E, F>, fn7: UnaryFunction<F, G>): UnaryFunction<T, G>;\nexport function pipe<T, A, B, C, D, E, F, G, H>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>, fn6: UnaryFunction<E, F>, fn7: UnaryFunction<F, G>, fn8: UnaryFunction<G, H>): UnaryFunction<T, H>;\nexport function pipe<T, A, B, C, D, E, F, G, H, I>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>, fn6: UnaryFunction<E, F>, fn7: UnaryFunction<F, G>, fn8: UnaryFunction<G, H>, fn9: UnaryFunction<H, I>): UnaryFunction<T, I>;\nexport function pipe<T, A, B, C, D, E, F, G, H, I>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>, fn6: UnaryFunction<E, F>, fn7: UnaryFunction<F, G>, fn8: UnaryFunction<G, H>, fn9: UnaryFunction<H, I>, ...fns: UnaryFunction<any, any>[]): UnaryFunction<T, {}>;\n/* tslint:enable:max-line-length */\n\nexport function pipe(...fns: Array<UnaryFunction<any, any>>): UnaryFunction<any, any> {\n  return pipeFromArray(fns);\n}\n\n/** @internal */\nexport function pipeFromArray<T, R>(fns: Array<UnaryFunction<T, R>>): UnaryFunction<T, R> {\n  if (!fns) {\n    return noop as UnaryFunction<any, any>;\n  }\n\n  if (fns.length === 1) {\n    return fns[0];\n  }\n\n  return function piped(input: T): R {\n    return fns.reduce((prev: any, fn: UnaryFunction<T, R>) => fn(prev), input as any);\n  };\n}\n","import { Operator } from './Operator';\nimport { Subscriber } from './Subscriber';\nimport { Subscription } from './Subscription';\nimport { TeardownLogic, OperatorFunction, PartialObserver, Subscribable } from './types';\nimport { canReportError } from './util/canReportError';\nimport { toSubscriber } from './util/toSubscriber';\nimport { iif } from './observable/iif';\nimport { throwError } from './observable/throwError';\nimport { observable as Symbol_observable } from './symbol/observable';\nimport { pipeFromArray } from './util/pipe';\nimport { config } from './config';\n\n/**\n * A representation of any set of values over any amount of time. This is the most basic building block\n * of RxJS.\n *\n * @class Observable<T>\n */\nexport class Observable<T> implements Subscribable<T> {\n\n  /** Internal implementation detail, do not use directly. */\n  public _isScalar: boolean = false;\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  source: Observable<any>;\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  operator: Operator<any, T>;\n\n  /**\n   * @constructor\n   * @param {Function} subscribe the function that is called when the Observable is\n   * initially subscribed to. This function is given a Subscriber, to which new values\n   * can be `next`ed, or an `error` method can be called to raise an error, or\n   * `complete` can be called to notify of a successful completion.\n   */\n  constructor(subscribe?: (this: Observable<T>, subscriber: Subscriber<T>) => TeardownLogic) {\n    if (subscribe) {\n      this._subscribe = subscribe;\n    }\n  }\n\n  // HACK: Since TypeScript inherits static properties too, we have to\n  // fight against TypeScript here so Subject can have a different static create signature\n  /**\n   * Creates a new cold Observable by calling the Observable constructor\n   * @static true\n   * @owner Observable\n   * @method create\n   * @param {Function} subscribe? the subscriber function to be passed to the Observable constructor\n   * @return {Observable} a new cold observable\n   * @nocollapse\n   * @deprecated use new Observable() instead\n   */\n  static create: Function = <T>(subscribe?: (subscriber: Subscriber<T>) => TeardownLogic) => {\n    return new Observable<T>(subscribe);\n  }\n\n  /**\n   * Creates a new Observable, with this Observable as the source, and the passed\n   * operator defined as the new observable's operator.\n   * @method lift\n   * @param {Operator} operator the operator defining the operation to take on the observable\n   * @return {Observable} a new observable with the Operator applied\n   */\n  lift<R>(operator: Operator<T, R>): Observable<R> {\n    const observable = new Observable<R>();\n    observable.source = this;\n    observable.operator = operator;\n    return observable;\n  }\n\n  subscribe(observer?: PartialObserver<T>): Subscription;\n  /** @deprecated Use an observer instead of a complete callback */\n  subscribe(next: null | undefined, error: null | undefined, complete: () => void): Subscription;\n  /** @deprecated Use an observer instead of an error callback */\n  subscribe(next: null | undefined, error: (error: any) => void, complete?: () => void): Subscription;\n  /** @deprecated Use an observer instead of a complete callback */\n  subscribe(next: (value: T) => void, error: null | undefined, complete: () => void): Subscription;\n  subscribe(next?: (value: T) => void, error?: (error: any) => void, complete?: () => void): Subscription;\n  /**\n   * Invokes an execution of an Observable and registers Observer handlers for notifications it will emit.\n   *\n   * <span class=\"informal\">Use it when you have all these Observables, but still nothing is happening.</span>\n   *\n   * `subscribe` is not a regular operator, but a method that calls Observable's internal `subscribe` function. It\n   * might be for example a function that you passed to Observable's constructor, but most of the time it is\n   * a library implementation, which defines what will be emitted by an Observable, and when it be will emitted. This means\n   * that calling `subscribe` is actually the moment when Observable starts its work, not when it is created, as it is often\n   * the thought.\n   *\n   * Apart from starting the execution of an Observable, this method allows you to listen for values\n   * that an Observable emits, as well as for when it completes or errors. You can achieve this in two\n   * of the following ways.\n   *\n   * The first way is creating an object that implements {@link Observer} interface. It should have methods\n   * defined by that interface, but note that it should be just a regular JavaScript object, which you can create\n   * yourself in any way you want (ES6 class, classic function constructor, object literal etc.). In particular do\n   * not attempt to use any RxJS implementation details to create Observers - you don't need them. Remember also\n   * that your object does not have to implement all methods. If you find yourself creating a method that doesn't\n   * do anything, you can simply omit it. Note however, if the `error` method is not provided, all errors will\n   * be left uncaught.\n   *\n   * The second way is to give up on Observer object altogether and simply provide callback functions in place of its methods.\n   * This means you can provide three functions as arguments to `subscribe`, where the first function is equivalent\n   * of a `next` method, the second of an `error` method and the third of a `complete` method. Just as in case of Observer,\n   * if you do not need to listen for something, you can omit a function, preferably by passing `undefined` or `null`,\n   * since `subscribe` recognizes these functions by where they were placed in function call. When it comes\n   * to `error` function, just as before, if not provided, errors emitted by an Observable will be thrown.\n   *\n   * Whichever style of calling `subscribe` you use, in both cases it returns a Subscription object.\n   * This object allows you to call `unsubscribe` on it, which in turn will stop the work that an Observable does and will clean\n   * up all resources that an Observable used. Note that cancelling a subscription will not call `complete` callback\n   * provided to `subscribe` function, which is reserved for a regular completion signal that comes from an Observable.\n   *\n   * Remember that callbacks provided to `subscribe` are not guaranteed to be called asynchronously.\n   * It is an Observable itself that decides when these functions will be called. For example {@link of}\n   * by default emits all its values synchronously. Always check documentation for how given Observable\n   * will behave when subscribed and if its default behavior can be modified with a `scheduler`.\n   *\n   * ## Example\n   * ### Subscribe with an Observer\n   * ```ts\n   * import { of } from 'rxjs';\n   *\n   * const sumObserver = {\n   *   sum: 0,\n   *   next(value) {\n   *     console.log('Adding: ' + value);\n   *     this.sum = this.sum + value;\n   *   },\n   *   error() {\n   *     // We actually could just remove this method,\n   *     // since we do not really care about errors right now.\n   *   },\n   *   complete() {\n   *     console.log('Sum equals: ' + this.sum);\n   *   }\n   * };\n   *\n   * of(1, 2, 3) // Synchronously emits 1, 2, 3 and then completes.\n   *   .subscribe(sumObserver);\n   *\n   * // Logs:\n   * // \"Adding: 1\"\n   * // \"Adding: 2\"\n   * // \"Adding: 3\"\n   * // \"Sum equals: 6\"\n   * ```\n   *\n   * ### Subscribe with functions\n   * ```ts\n   * import { of } from 'rxjs'\n   *\n   * let sum = 0;\n   *\n   * of(1, 2, 3).subscribe(\n   *   value => {\n   *     console.log('Adding: ' + value);\n   *     sum = sum + value;\n   *   },\n   *   undefined,\n   *   () => console.log('Sum equals: ' + sum)\n   * );\n   *\n   * // Logs:\n   * // \"Adding: 1\"\n   * // \"Adding: 2\"\n   * // \"Adding: 3\"\n   * // \"Sum equals: 6\"\n   * ```\n   *\n   * ### Cancel a subscription\n   * ```ts\n   * import { interval } from 'rxjs';\n   *\n   * const subscription = interval(1000).subscribe(\n   *   num => console.log(num),\n   *   undefined,\n   *   () => {\n   *     // Will not be called, even when cancelling subscription.\n   *     console.log('completed!');\n   *   }\n   * );\n   *\n   * setTimeout(() => {\n   *   subscription.unsubscribe();\n   *   console.log('unsubscribed!');\n   * }, 2500);\n   *\n   * // Logs:\n   * // 0 after 1s\n   * // 1 after 2s\n   * // \"unsubscribed!\" after 2.5s\n   * ```\n   *\n   * @param {Observer|Function} observerOrNext (optional) Either an observer with methods to be called,\n   *  or the first of three possible handlers, which is the handler for each value emitted from the subscribed\n   *  Observable.\n   * @param {Function} error (optional) A handler for a terminal event resulting from an error. If no error handler is provided,\n   *  the error will be thrown as unhandled.\n   * @param {Function} complete (optional) A handler for a terminal event resulting from successful completion.\n   * @return {ISubscription} a subscription reference to the registered handlers\n   * @method subscribe\n   */\n  subscribe(observerOrNext?: PartialObserver<T> | ((value: T) => void),\n            error?: (error: any) => void,\n            complete?: () => void): Subscription {\n\n    const { operator } = this;\n    const sink = toSubscriber(observerOrNext, error, complete);\n\n    if (operator) {\n      sink.add(operator.call(sink, this.source));\n    } else {\n      sink.add(\n        this.source || (config.useDeprecatedSynchronousErrorHandling && !sink.syncErrorThrowable) ?\n        this._subscribe(sink) :\n        this._trySubscribe(sink)\n      );\n    }\n\n    if (config.useDeprecatedSynchronousErrorHandling) {\n      if (sink.syncErrorThrowable) {\n        sink.syncErrorThrowable = false;\n        if (sink.syncErrorThrown) {\n          throw sink.syncErrorValue;\n        }\n      }\n    }\n\n    return sink;\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _trySubscribe(sink: Subscriber<T>): TeardownLogic {\n    try {\n      return this._subscribe(sink);\n    } catch (err) {\n      if (config.useDeprecatedSynchronousErrorHandling) {\n        sink.syncErrorThrown = true;\n        sink.syncErrorValue = err;\n      }\n      if (canReportError(sink)) {\n        sink.error(err);\n      } else {\n        console.warn(err);\n      }\n    }\n  }\n\n  /**\n   * @method forEach\n   * @param {Function} next a handler for each value emitted by the observable\n   * @param {PromiseConstructor} [promiseCtor] a constructor function used to instantiate the Promise\n   * @return {Promise} a promise that either resolves on observable completion or\n   *  rejects with the handled error\n   */\n  forEach(next: (value: T) => void, promiseCtor?: PromiseConstructorLike): Promise<void> {\n    promiseCtor = getPromiseCtor(promiseCtor);\n\n    return new promiseCtor<void>((resolve, reject) => {\n      // Must be declared in a separate statement to avoid a ReferenceError when\n      // accessing subscription below in the closure due to Temporal Dead Zone.\n      let subscription: Subscription;\n      subscription = this.subscribe((value) => {\n        try {\n          next(value);\n        } catch (err) {\n          reject(err);\n          if (subscription) {\n            subscription.unsubscribe();\n          }\n        }\n      }, reject, resolve);\n    }) as Promise<void>;\n  }\n\n  /** @internal This is an internal implementation detail, do not use. */\n  _subscribe(subscriber: Subscriber<any>): TeardownLogic {\n    const { source } = this;\n    return source && source.subscribe(subscriber);\n  }\n\n  // `if` and `throw` are special snow flakes, the compiler sees them as reserved words. Deprecated in\n  // favor of iif and throwError functions.\n  /**\n   * @nocollapse\n   * @deprecated In favor of iif creation function: import { iif } from 'rxjs';\n   */\n  static if: typeof iif;\n  /**\n   * @nocollapse\n   * @deprecated In favor of throwError creation function: import { throwError } from 'rxjs';\n   */\n  static throw: typeof throwError;\n\n  /**\n   * An interop point defined by the es7-observable spec https://github.com/zenparsing/es-observable\n   * @method Symbol.observable\n   * @return {Observable} this instance of the observable\n   */\n  [Symbol_observable]() {\n    return this;\n  }\n\n  /* tslint:disable:max-line-length */\n  pipe(): Observable<T>;\n  pipe<A>(op1: OperatorFunction<T, A>): Observable<A>;\n  pipe<A, B>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>): Observable<B>;\n  pipe<A, B, C>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>): Observable<C>;\n  pipe<A, B, C, D>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>): Observable<D>;\n  pipe<A, B, C, D, E>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>): Observable<E>;\n  pipe<A, B, C, D, E, F>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>): Observable<F>;\n  pipe<A, B, C, D, E, F, G>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>, op7: OperatorFunction<F, G>): Observable<G>;\n  pipe<A, B, C, D, E, F, G, H>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>, op7: OperatorFunction<F, G>, op8: OperatorFunction<G, H>): Observable<H>;\n  pipe<A, B, C, D, E, F, G, H, I>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>, op7: OperatorFunction<F, G>, op8: OperatorFunction<G, H>, op9: OperatorFunction<H, I>): Observable<I>;\n  pipe<A, B, C, D, E, F, G, H, I>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>, op7: OperatorFunction<F, G>, op8: OperatorFunction<G, H>, op9: OperatorFunction<H, I>, ...operations: OperatorFunction<any, any>[]): Observable<{}>;\n  /* tslint:enable:max-line-length */\n\n  /**\n   * Used to stitch together functional operators into a chain.\n   * @method pipe\n   * @return {Observable} the Observable result of all of the operators having\n   * been called in the order they were passed in.\n   *\n   * ### Example\n   * ```ts\n   * import { interval } from 'rxjs';\n   * import { map, filter, scan } from 'rxjs/operators';\n   *\n   * interval(1000)\n   *   .pipe(\n   *     filter(x => x % 2 === 0),\n   *     map(x => x + x),\n   *     scan((acc, x) => acc + x)\n   *   )\n   *   .subscribe(x => console.log(x))\n   * ```\n   */\n  pipe(...operations: OperatorFunction<any, any>[]): Observable<any> {\n    if (operations.length === 0) {\n      return this as any;\n    }\n\n    return pipeFromArray(operations)(this);\n  }\n\n  /* tslint:disable:max-line-length */\n  toPromise<T>(this: Observable<T>): Promise<T>;\n  toPromise<T>(this: Observable<T>, PromiseCtor: typeof Promise): Promise<T>;\n  toPromise<T>(this: Observable<T>, PromiseCtor: PromiseConstructorLike): Promise<T>;\n  /* tslint:enable:max-line-length */\n\n  toPromise(promiseCtor?: PromiseConstructorLike): Promise<T> {\n    promiseCtor = getPromiseCtor(promiseCtor);\n\n    return new promiseCtor((resolve, reject) => {\n      let value: any;\n      this.subscribe((x: T) => value = x, (err: any) => reject(err), () => resolve(value));\n    }) as Promise<T>;\n  }\n}\n\n/**\n * Decides between a passed promise constructor from consuming code,\n * A default configured promise constructor, and the native promise\n * constructor and returns it. If nothing can be found, it will throw\n * an error.\n * @param promiseCtor The optional promise constructor to passed by consuming code\n */\nfunction getPromiseCtor(promiseCtor: PromiseConstructorLike | undefined) {\n  if (!promiseCtor) {\n    promiseCtor = config.Promise || Promise;\n  }\n\n  if (!promiseCtor) {\n    throw new Error('no Promise impl found');\n  }\n\n  return promiseCtor;\n}\n","export interface ObjectUnsubscribedError extends Error {\n}\n\nexport interface ObjectUnsubscribedErrorCtor {\n  new(): ObjectUnsubscribedError;\n}\n\nconst ObjectUnsubscribedErrorImpl = (() => {\n  function ObjectUnsubscribedErrorImpl(this: any) {\n    Error.call(this);\n    this.message = 'object unsubscribed';\n    this.name = 'ObjectUnsubscribedError';\n    return this;\n  }\n\n  ObjectUnsubscribedErrorImpl.prototype = Object.create(Error.prototype);\n\n  return ObjectUnsubscribedErrorImpl;\n})();\n\n/**\n * An error thrown when an action is invalid because the object has been\n * unsubscribed.\n *\n * @see {@link Subject}\n * @see {@link BehaviorSubject}\n *\n * @class ObjectUnsubscribedError\n */\nexport const ObjectUnsubscribedError: ObjectUnsubscribedErrorCtor = ObjectUnsubscribedErrorImpl as any;","import { Subject } from './Subject';\nimport { Observer } from './types';\nimport { Subscription } from './Subscription';\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class SubjectSubscription<T> extends Subscription {\n  closed: boolean = false;\n\n  constructor(public subject: Subject<T>, public subscriber: Observer<T>) {\n    super();\n  }\n\n  unsubscribe() {\n    if (this.closed) {\n      return;\n    }\n\n    this.closed = true;\n\n    const subject = this.subject;\n    const observers = subject.observers;\n\n    this.subject = null;\n\n    if (!observers || observers.length === 0 || subject.isStopped || subject.closed) {\n      return;\n    }\n\n    const subscriberIndex = observers.indexOf(this.subscriber);\n\n    if (subscriberIndex !== -1) {\n      observers.splice(subscriberIndex, 1);\n    }\n  }\n}\n","import { Operator } from './Operator';\nimport { Observable } from './Observable';\nimport { Subscriber } from './Subscriber';\nimport { Subscription } from './Subscription';\nimport { Observer, SubscriptionLike, TeardownLogic } from './types';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { SubjectSubscription } from './SubjectSubscription';\nimport { rxSubscriber as rxSubscriberSymbol } from '../internal/symbol/rxSubscriber';\n\n/**\n * @class SubjectSubscriber<T>\n */\nexport class SubjectSubscriber<T> extends Subscriber<T> {\n  constructor(protected destination: Subject<T>) {\n    super(destination);\n  }\n}\n\n/**\n * A Subject is a special type of Observable that allows values to be\n * multicasted to many Observers. Subjects are like EventEmitters.\n *\n * Every Subject is an Observable and an Observer. You can subscribe to a\n * Subject, and you can call next to feed values as well as error and complete.\n *\n * @class Subject<T>\n */\nexport class Subject<T> extends Observable<T> implements SubscriptionLike {\n\n  [rxSubscriberSymbol]() {\n    return new SubjectSubscriber(this);\n  }\n\n  observers: Observer<T>[] = [];\n\n  closed = false;\n\n  isStopped = false;\n\n  hasError = false;\n\n  thrownError: any = null;\n\n  constructor() {\n    super();\n  }\n\n  /**@nocollapse\n   * @deprecated use new Subject() instead\n  */\n  static create: Function = <T>(destination: Observer<T>, source: Observable<T>): AnonymousSubject<T> => {\n    return new AnonymousSubject<T>(destination, source);\n  }\n\n  lift<R>(operator: Operator<T, R>): Observable<R> {\n    const subject = new AnonymousSubject(this, this);\n    subject.operator = <any>operator;\n    return <any>subject;\n  }\n\n  next(value?: T) {\n    if (this.closed) {\n      throw new ObjectUnsubscribedError();\n    }\n    if (!this.isStopped) {\n      const { observers } = this;\n      const len = observers.length;\n      const copy = observers.slice();\n      for (let i = 0; i < len; i++) {\n        copy[i].next(value);\n      }\n    }\n  }\n\n  error(err: any) {\n    if (this.closed) {\n      throw new ObjectUnsubscribedError();\n    }\n    this.hasError = true;\n    this.thrownError = err;\n    this.isStopped = true;\n    const { observers } = this;\n    const len = observers.length;\n    const copy = observers.slice();\n    for (let i = 0; i < len; i++) {\n      copy[i].error(err);\n    }\n    this.observers.length = 0;\n  }\n\n  complete() {\n    if (this.closed) {\n      throw new ObjectUnsubscribedError();\n    }\n    this.isStopped = true;\n    const { observers } = this;\n    const len = observers.length;\n    const copy = observers.slice();\n    for (let i = 0; i < len; i++) {\n      copy[i].complete();\n    }\n    this.observers.length = 0;\n  }\n\n  unsubscribe() {\n    this.isStopped = true;\n    this.closed = true;\n    this.observers = null;\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _trySubscribe(subscriber: Subscriber<T>): TeardownLogic {\n    if (this.closed) {\n      throw new ObjectUnsubscribedError();\n    } else {\n      return super._trySubscribe(subscriber);\n    }\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _subscribe(subscriber: Subscriber<T>): Subscription {\n    if (this.closed) {\n      throw new ObjectUnsubscribedError();\n    } else if (this.hasError) {\n      subscriber.error(this.thrownError);\n      return Subscription.EMPTY;\n    } else if (this.isStopped) {\n      subscriber.complete();\n      return Subscription.EMPTY;\n    } else {\n      this.observers.push(subscriber);\n      return new SubjectSubscription(this, subscriber);\n    }\n  }\n\n  /**\n   * Creates a new Observable with this Subject as the source. You can do this\n   * to create customize Observer-side logic of the Subject and conceal it from\n   * code that uses the Observable.\n   * @return {Observable} Observable that the Subject casts to\n   */\n  asObservable(): Observable<T> {\n    const observable = new Observable<T>();\n    (<any>observable).source = this;\n    return observable;\n  }\n}\n\n/**\n * @class AnonymousSubject<T>\n */\nexport class AnonymousSubject<T> extends Subject<T> {\n  constructor(protected destination?: Observer<T>, source?: Observable<T>) {\n    super();\n    this.source = source;\n  }\n\n  next(value: T) {\n    const { destination } = this;\n    if (destination && destination.next) {\n      destination.next(value);\n    }\n  }\n\n  error(err: any) {\n    const { destination } = this;\n    if (destination && destination.error) {\n      this.destination.error(err);\n    }\n  }\n\n  complete() {\n    const { destination } = this;\n    if (destination && destination.complete) {\n      this.destination.complete();\n    }\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _subscribe(subscriber: Subscriber<T>): Subscription {\n    const { source } = this;\n    if (source) {\n      return this.source.subscribe(subscriber);\n    } else {\n      return Subscription.EMPTY;\n    }\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { MonoTypeOperatorFunction, TeardownLogic } from '../types';\nimport { ConnectableObservable } from '../observable/ConnectableObservable';\nimport { Observable } from '../Observable';\n\n/**\n * Make a {@link ConnectableObservable} behave like a ordinary observable and automates the way\n * you can connect to it.\n *\n * Internally it counts the subscriptions to the observable and subscribes (only once) to the source if\n * the number of subscriptions is larger than 0. If the number of subscriptions is smaller than 1, it\n * unsubscribes from the source. This way you can make sure that everything before the *published*\n * refCount has only a single subscription independently of the number of subscribers to the target\n * observable.\n *\n * Note that using the {@link share} operator is exactly the same as using the *publish* operator\n * (making the observable hot) and the *refCount* operator in a sequence.\n *\n * ![](refCount.png)\n *\n * ## Example\n *\n * In the following example there are two intervals turned into connectable observables\n * by using the *publish* operator. The first one uses the *refCount* operator, the\n * second one does not use it. You will notice that a connectable observable does nothing\n * until you call its connect function.\n *\n * ```ts\n * import { interval } from 'rxjs';\n * import { tap, publish, refCount } from 'rxjs/operators';\n *\n * // Turn the interval observable into a ConnectableObservable (hot)\n * const refCountInterval = interval(400).pipe(\n *   tap((num) => console.log(`refCount ${num}`)),\n *   publish(),\n *   refCount()\n * );\n *\n * const publishedInterval = interval(400).pipe(\n *   tap((num) => console.log(`publish ${num}`)),\n *   publish()\n * );\n *\n * refCountInterval.subscribe();\n * refCountInterval.subscribe();\n * // 'refCount 0' -----> 'refCount 1' -----> etc\n * // All subscriptions will receive the same value and the tap (and\n * // every other operator) before the publish operator will be executed\n * // only once per event independently of the number of subscriptions.\n *\n * publishedInterval.subscribe();\n * // Nothing happens until you call .connect() on the observable.\n * ```\n *\n * @see {@link ConnectableObservable}\n * @see {@link share}\n * @see {@link publish}\n */\nexport function refCount<T>(): MonoTypeOperatorFunction<T> {\n  return function refCountOperatorFunction(source: ConnectableObservable<T>): Observable<T> {\n    return source.lift(new RefCountOperator(source));\n  } as MonoTypeOperatorFunction<T>;\n}\n\nclass RefCountOperator<T> implements Operator<T, T> {\n  constructor(private connectable: ConnectableObservable<T>) {\n  }\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n\n    const { connectable } = this;\n    (<any> connectable)._refCount++;\n\n    const refCounter = new RefCountSubscriber(subscriber, connectable);\n    const subscription = source.subscribe(refCounter);\n\n    if (!refCounter.closed) {\n      (<any> refCounter).connection = connectable.connect();\n    }\n\n    return subscription;\n  }\n}\n\nclass RefCountSubscriber<T> extends Subscriber<T> {\n\n  private connection: Subscription;\n\n  constructor(destination: Subscriber<T>,\n              private connectable: ConnectableObservable<T>) {\n    super(destination);\n  }\n\n  protected _unsubscribe() {\n\n    const { connectable } = this;\n    if (!connectable) {\n      this.connection = null;\n      return;\n    }\n\n    this.connectable = null;\n    const refCount = (<any> connectable)._refCount;\n    if (refCount <= 0) {\n      this.connection = null;\n      return;\n    }\n\n    (<any> connectable)._refCount = refCount - 1;\n    if (refCount > 1) {\n      this.connection = null;\n      return;\n    }\n\n    ///\n    // Compare the local RefCountSubscriber's connection Subscription to the\n    // connection Subscription on the shared ConnectableObservable. In cases\n    // where the ConnectableObservable source synchronously emits values, and\n    // the RefCountSubscriber's downstream Observers synchronously unsubscribe,\n    // execution continues to here before the RefCountOperator has a chance to\n    // supply the RefCountSubscriber with the shared connection Subscription.\n    // For example:\n    // ```\n    // range(0, 10).pipe(\n    //   publish(),\n    //   refCount(),\n    //   take(5),\n    // )\n    // .subscribe();\n    // ```\n    // In order to account for this case, RefCountSubscriber should only dispose\n    // the ConnectableObservable's shared connection Subscription if the\n    // connection Subscription exists, *and* either:\n    //   a. RefCountSubscriber doesn't have a reference to the shared connection\n    //      Subscription yet, or,\n    //   b. RefCountSubscriber's connection Subscription reference is identical\n    //      to the shared connection Subscription\n    ///\n    const { connection } = this;\n    const sharedConnection = (<any> connectable)._connection;\n    this.connection = null;\n\n    if (sharedConnection && (!connection || sharedConnection === connection)) {\n      sharedConnection.unsubscribe();\n    }\n  }\n}\n","import { Subject, SubjectSubscriber } from '../Subject';\nimport { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { TeardownLogic } from '../types';\nimport { refCount as higherOrderRefCount } from '../operators/refCount';\n\n/**\n * @class ConnectableObservable<T>\n */\nexport class ConnectableObservable<T> extends Observable<T> {\n\n  protected _subject: Subject<T>;\n  protected _refCount: number = 0;\n  protected _connection: Subscription;\n  /** @internal */\n  _isComplete = false;\n\n  constructor(public source: Observable<T>,\n              protected subjectFactory: () => Subject<T>) {\n    super();\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _subscribe(subscriber: Subscriber<T>) {\n    return this.getSubject().subscribe(subscriber);\n  }\n\n  protected getSubject(): Subject<T> {\n    const subject = this._subject;\n    if (!subject || subject.isStopped) {\n      this._subject = this.subjectFactory();\n    }\n    return this._subject;\n  }\n\n  connect(): Subscription {\n    let connection = this._connection;\n    if (!connection) {\n      this._isComplete = false;\n      connection = this._connection = new Subscription();\n      connection.add(this.source\n        .subscribe(new ConnectableSubscriber(this.getSubject(), this)));\n      if (connection.closed) {\n        this._connection = null;\n        connection = Subscription.EMPTY;\n      }\n    }\n    return connection;\n  }\n\n  refCount(): Observable<T> {\n    return higherOrderRefCount()(this) as Observable<T>;\n  }\n}\n\nexport const connectableObservableDescriptor: PropertyDescriptorMap = (() => {\n  const connectableProto = <any>ConnectableObservable.prototype;\n  return {\n    operator: { value: null as null },\n    _refCount: { value: 0, writable: true },\n    _subject: { value: null as null, writable: true },\n    _connection: { value: null as null, writable: true },\n    _subscribe: { value: connectableProto._subscribe },\n    _isComplete: { value: connectableProto._isComplete, writable: true },\n    getSubject: { value: connectableProto.getSubject },\n    connect: { value: connectableProto.connect },\n    refCount: { value: connectableProto.refCount }\n  };\n})();\n\nclass ConnectableSubscriber<T> extends SubjectSubscriber<T> {\n  constructor(destination: Subject<T>,\n              private connectable: ConnectableObservable<T>) {\n    super(destination);\n  }\n  protected _error(err: any): void {\n    this._unsubscribe();\n    super._error(err);\n  }\n  protected _complete(): void {\n    this.connectable._isComplete = true;\n    this._unsubscribe();\n    super._complete();\n  }\n  protected _unsubscribe() {\n    const connectable = <any>this.connectable;\n    if (connectable) {\n      this.connectable = null;\n      const connection = connectable._connection;\n      connectable._refCount = 0;\n      connectable._subject = null;\n      connectable._connection = null;\n      if (connection) {\n        connection.unsubscribe();\n      }\n    }\n  }\n}\n\nclass RefCountOperator<T> implements Operator<T, T> {\n  constructor(private connectable: ConnectableObservable<T>) {\n  }\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n\n    const { connectable } = this;\n    (<any> connectable)._refCount++;\n\n    const refCounter = new RefCountSubscriber(subscriber, connectable);\n    const subscription = source.subscribe(refCounter);\n\n    if (!refCounter.closed) {\n      (<any> refCounter).connection = connectable.connect();\n    }\n\n    return subscription;\n  }\n}\n\nclass RefCountSubscriber<T> extends Subscriber<T> {\n\n  private connection: Subscription;\n\n  constructor(destination: Subscriber<T>,\n              private connectable: ConnectableObservable<T>) {\n    super(destination);\n  }\n\n  protected _unsubscribe() {\n\n    const { connectable } = this;\n    if (!connectable) {\n      this.connection = null;\n      return;\n    }\n\n    this.connectable = null;\n    const refCount = (<any> connectable)._refCount;\n    if (refCount <= 0) {\n      this.connection = null;\n      return;\n    }\n\n    (<any> connectable)._refCount = refCount - 1;\n    if (refCount > 1) {\n      this.connection = null;\n      return;\n    }\n\n    ///\n    // Compare the local RefCountSubscriber's connection Subscription to the\n    // connection Subscription on the shared ConnectableObservable. In cases\n    // where the ConnectableObservable source synchronously emits values, and\n    // the RefCountSubscriber's downstream Observers synchronously unsubscribe,\n    // execution continues to here before the RefCountOperator has a chance to\n    // supply the RefCountSubscriber with the shared connection Subscription.\n    // For example:\n    // ```\n    // range(0, 10).pipe(\n    //   publish(),\n    //   refCount(),\n    //   take(5),\n    // ).subscribe();\n    // ```\n    // In order to account for this case, RefCountSubscriber should only dispose\n    // the ConnectableObservable's shared connection Subscription if the\n    // connection Subscription exists, *and* either:\n    //   a. RefCountSubscriber doesn't have a reference to the shared connection\n    //      Subscription yet, or,\n    //   b. RefCountSubscriber's connection Subscription reference is identical\n    //      to the shared connection Subscription\n    ///\n    const { connection } = this;\n    const sharedConnection = (<any> connectable)._connection;\n    this.connection = null;\n\n    if (sharedConnection && (!connection || sharedConnection === connection)) {\n      sharedConnection.unsubscribe();\n    }\n  }\n}\n","import { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { Observable } from '../Observable';\nimport { Operator } from '../Operator';\nimport { Subject } from '../Subject';\nimport { OperatorFunction } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function groupBy<T, K>(keySelector: (value: T) => K): OperatorFunction<T, GroupedObservable<K, T>>;\nexport function groupBy<T, K>(keySelector: (value: T) => K, elementSelector: void, durationSelector: (grouped: GroupedObservable<K, T>) => Observable<any>): OperatorFunction<T, GroupedObservable<K, T>>;\nexport function groupBy<T, K, R>(keySelector: (value: T) => K, elementSelector?: (value: T) => R, durationSelector?: (grouped: GroupedObservable<K, R>) => Observable<any>): OperatorFunction<T, GroupedObservable<K, R>>;\nexport function groupBy<T, K, R>(keySelector: (value: T) => K, elementSelector?: (value: T) => R, durationSelector?: (grouped: GroupedObservable<K, R>) => Observable<any>, subjectSelector?: () => Subject<R>): OperatorFunction<T, GroupedObservable<K, R>>;\n/* tslint:enable:max-line-length */\n\n/**\n * Groups the items emitted by an Observable according to a specified criterion,\n * and emits these grouped items as `GroupedObservables`, one\n * {@link GroupedObservable} per group.\n *\n * ![](groupBy.png)\n *\n * When the Observable emits an item, a key is computed for this item with the keySelector function.\n *\n * If a {@link GroupedObservable} for this key exists, this {@link GroupedObservable} emits. Elsewhere, a new\n * {@link GroupedObservable} for this key is created and emits.\n *\n * A {@link GroupedObservable} represents values belonging to the same group represented by a common key. The common\n * key is available as the key field of a {@link GroupedObservable} instance.\n *\n * The elements emitted by {@link GroupedObservable}s are by default the items emitted by the Observable, or elements\n * returned by the elementSelector function.\n *\n * ## Examples\n *\n * ### Group objects by id and return as array\n *\n * ```ts\n * import { of } from 'rxjs';\n * import { mergeMap, groupBy, reduce } from 'rxjs/operators';\n *\n * of(\n *   {id: 1, name: 'JavaScript'},\n *   {id: 2, name: 'Parcel'},\n *   {id: 2, name: 'webpack'},\n *   {id: 1, name: 'TypeScript'},\n *   {id: 3, name: 'TSLint'}\n * ).pipe(\n *   groupBy(p => p.id),\n *   mergeMap((group$) => group$.pipe(reduce((acc, cur) => [...acc, cur], []))),\n * )\n * .subscribe(p => console.log(p));\n *\n * // displays:\n * // [ { id: 1, name: 'JavaScript'},\n * //   { id: 1, name: 'TypeScript'} ]\n * //\n * // [ { id: 2, name: 'Parcel'},\n * //   { id: 2, name: 'webpack'} ]\n * //\n * // [ { id: 3, name: 'TSLint'} ]\n * ```\n *\n * ### Pivot data on the id field\n *\n * ```ts\n * import { of } from 'rxjs';\n * import { groupBy, map, mergeMap, reduce } from 'rxjs/operators';\n *\n * of(\n *   { id: 1, name: 'JavaScript' },\n *   { id: 2, name: 'Parcel' },\n *   { id: 2, name: 'webpack' },\n *   { id: 1, name: 'TypeScript' },\n *   { id: 3, name: 'TSLint' }\n * )\n *   .pipe(\n *     groupBy(p => p.id, p => p.name),\n *     mergeMap(group$ =>\n *       group$.pipe(reduce((acc, cur) => [...acc, cur], [`${group$.key}`]))\n *     ),\n *     map(arr => ({ id: parseInt(arr[0], 10), values: arr.slice(1) }))\n *  )\n *  .subscribe(p => console.log(p));\n *\n * // displays:\n * // { id: 1, values: [ 'JavaScript', 'TypeScript' ] }\n * // { id: 2, values: [ 'Parcel', 'webpack' ] }\n * // { id: 3, values: [ 'TSLint' ] }\n * ```\n *\n * @param {function(value: T): K} keySelector A function that extracts the key\n * for each item.\n * @param {function(value: T): R} [elementSelector] A function that extracts the\n * return element for each item.\n * @param {function(grouped: GroupedObservable<K,R>): Observable<any>} [durationSelector]\n * A function that returns an Observable to determine how long each group should\n * exist.\n * @return {Observable<GroupedObservable<K,R>>} An Observable that emits\n * GroupedObservables, each of which corresponds to a unique key value and each\n * of which emits those items from the source Observable that share that key\n * value.\n * @method groupBy\n * @owner Observable\n */\nexport function groupBy<T, K, R>(keySelector: (value: T) => K,\n                                 elementSelector?: ((value: T) => R) | void,\n                                 durationSelector?: (grouped: GroupedObservable<K, R>) => Observable<any>,\n                                 subjectSelector?: () => Subject<R>): OperatorFunction<T, GroupedObservable<K, R>> {\n  return (source: Observable<T>) =>\n    source.lift(new GroupByOperator(keySelector, elementSelector, durationSelector, subjectSelector));\n}\n\nexport interface RefCountSubscription {\n  count: number;\n  unsubscribe: () => void;\n  closed: boolean;\n  attemptedToUnsubscribe: boolean;\n}\n\nclass GroupByOperator<T, K, R> implements Operator<T, GroupedObservable<K, R>> {\n  constructor(private keySelector: (value: T) => K,\n              private elementSelector?: ((value: T) => R) | void,\n              private durationSelector?: (grouped: GroupedObservable<K, R>) => Observable<any>,\n              private subjectSelector?: () => Subject<R>) {\n  }\n\n  call(subscriber: Subscriber<GroupedObservable<K, R>>, source: any): any {\n    return source.subscribe(new GroupBySubscriber(\n      subscriber, this.keySelector, this.elementSelector, this.durationSelector, this.subjectSelector\n    ));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass GroupBySubscriber<T, K, R> extends Subscriber<T> implements RefCountSubscription {\n  private groups: Map<K, Subject<T | R>> = null;\n  public attemptedToUnsubscribe: boolean = false;\n  public count: number = 0;\n\n  constructor(destination: Subscriber<GroupedObservable<K, R>>,\n              private keySelector: (value: T) => K,\n              private elementSelector?: ((value: T) => R) | void,\n              private durationSelector?: (grouped: GroupedObservable<K, R>) => Observable<any>,\n              private subjectSelector?: () => Subject<R>) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    let key: K;\n    try {\n      key = this.keySelector(value);\n    } catch (err) {\n      this.error(err);\n      return;\n    }\n\n    this._group(value, key);\n  }\n\n  private _group(value: T, key: K) {\n    let groups = this.groups;\n\n    if (!groups) {\n      groups = this.groups = new Map<K, Subject<T | R>>();\n    }\n\n    let group = groups.get(key);\n\n    let element: R;\n    if (this.elementSelector) {\n      try {\n        element = this.elementSelector(value);\n      } catch (err) {\n        this.error(err);\n      }\n    } else {\n      element = <any>value;\n    }\n\n    if (!group) {\n      group = (this.subjectSelector ? this.subjectSelector() : new Subject<R>()) as Subject<T | R>;\n      groups.set(key, group);\n      const groupedObservable = new GroupedObservable(key, group, this);\n      this.destination.next(groupedObservable);\n      if (this.durationSelector) {\n        let duration: any;\n        try {\n          duration = this.durationSelector(new GroupedObservable<K, R>(key, <Subject<R>>group));\n        } catch (err) {\n          this.error(err);\n          return;\n        }\n        this.add(duration.subscribe(new GroupDurationSubscriber(key, group, this)));\n      }\n    }\n\n    if (!group.closed) {\n      group.next(element);\n    }\n  }\n\n  protected _error(err: any): void {\n    const groups = this.groups;\n    if (groups) {\n      groups.forEach((group, key) => {\n        group.error(err);\n      });\n\n      groups.clear();\n    }\n    this.destination.error(err);\n  }\n\n  protected _complete(): void {\n    const groups = this.groups;\n    if (groups) {\n      groups.forEach((group, key) => {\n        group.complete();\n      });\n\n      groups.clear();\n    }\n    this.destination.complete();\n  }\n\n  removeGroup(key: K): void {\n    this.groups.delete(key);\n  }\n\n  unsubscribe() {\n    if (!this.closed) {\n      this.attemptedToUnsubscribe = true;\n      if (this.count === 0) {\n        super.unsubscribe();\n      }\n    }\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass GroupDurationSubscriber<K, T> extends Subscriber<T> {\n  constructor(private key: K,\n              private group: Subject<T>,\n              private parent: GroupBySubscriber<any, K, T | any>) {\n    super(group);\n  }\n\n  protected _next(value: T): void {\n    this.complete();\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _unsubscribe() {\n    const { parent, key } = this;\n    this.key = this.parent = null;\n    if (parent) {\n      parent.removeGroup(key);\n    }\n  }\n}\n\n/**\n * An Observable representing values belonging to the same group represented by\n * a common key. The values emitted by a GroupedObservable come from the source\n * Observable. The common key is available as the field `key` on a\n * GroupedObservable instance.\n *\n * @class GroupedObservable<K, T>\n */\nexport class GroupedObservable<K, T> extends Observable<T> {\n  /** @deprecated Do not construct this type. Internal use only */\n  constructor(public key: K,\n              private groupSubject: Subject<T>,\n              private refCountSubscription?: RefCountSubscription) {\n    super();\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _subscribe(subscriber: Subscriber<T>) {\n    const subscription = new Subscription();\n    const { refCountSubscription, groupSubject } = this;\n    if (refCountSubscription && !refCountSubscription.closed) {\n      subscription.add(new InnerRefCountSubscription(refCountSubscription));\n    }\n    subscription.add(groupSubject.subscribe(subscriber));\n    return subscription;\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass InnerRefCountSubscription extends Subscription {\n  constructor(private parent: RefCountSubscription) {\n    super();\n    parent.count++;\n  }\n\n  unsubscribe() {\n    const parent = this.parent;\n    if (!parent.closed && !this.closed) {\n      super.unsubscribe();\n      parent.count -= 1;\n      if (parent.count === 0 && parent.attemptedToUnsubscribe) {\n        parent.unsubscribe();\n      }\n    }\n  }\n}\n","import { Subject } from './Subject';\nimport { Subscriber } from './Subscriber';\nimport { Subscription } from './Subscription';\nimport { SubscriptionLike } from './types';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\n\n/**\n * A variant of Subject that requires an initial value and emits its current\n * value whenever it is subscribed to.\n *\n * @class BehaviorSubject<T>\n */\nexport class BehaviorSubject<T> extends Subject<T> {\n\n  constructor(private _value: T) {\n    super();\n  }\n\n  get value(): T {\n    return this.getValue();\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _subscribe(subscriber: Subscriber<T>): Subscription {\n    const subscription = super._subscribe(subscriber);\n    if (subscription && !(<SubscriptionLike>subscription).closed) {\n      subscriber.next(this._value);\n    }\n    return subscription;\n  }\n\n  getValue(): T {\n    if (this.hasError) {\n      throw this.thrownError;\n    } else if (this.closed) {\n      throw new ObjectUnsubscribedError();\n    } else {\n      return this._value;\n    }\n  }\n\n  next(value: T): void {\n    super.next(this._value = value);\n  }\n}\n","import { Scheduler } from '../Scheduler';\nimport { Subscription } from '../Subscription';\nimport { SchedulerAction } from '../types';\n\n/**\n * A unit of work to be executed in a `scheduler`. An action is typically\n * created from within a {@link SchedulerLike} and an RxJS user does not need to concern\n * themselves about creating and manipulating an Action.\n *\n * ```ts\n * class Action<T> extends Subscription {\n *   new (scheduler: Scheduler, work: (state?: T) => void);\n *   schedule(state?: T, delay: number = 0): Subscription;\n * }\n * ```\n *\n * @class Action<T>\n */\nexport class Action<T> extends Subscription {\n  constructor(scheduler: Scheduler, work: (this: SchedulerAction<T>, state?: T) => void) {\n    super();\n  }\n  /**\n   * Schedules this action on its parent {@link SchedulerLike} for execution. May be passed\n   * some context object, `state`. May happen at some point in the future,\n   * according to the `delay` parameter, if specified.\n   * @param {T} [state] Some contextual data that the `work` function uses when\n   * called by the Scheduler.\n   * @param {number} [delay] Time to wait before executing the work, where the\n   * time unit is implicit and defined by the Scheduler.\n   * @return {void}\n   */\n  public schedule(state?: T, delay: number = 0): Subscription {\n    return this;\n  }\n}\n","import { Action } from './Action';\nimport { SchedulerAction } from '../types';\nimport { Subscription } from '../Subscription';\nimport { AsyncScheduler } from './AsyncScheduler';\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class AsyncAction<T> extends Action<T> {\n\n  public id: any;\n  public state: T;\n  public delay: number;\n  protected pending: boolean = false;\n\n  constructor(protected scheduler: AsyncScheduler,\n              protected work: (this: SchedulerAction<T>, state?: T) => void) {\n    super(scheduler, work);\n  }\n\n  public schedule(state?: T, delay: number = 0): Subscription {\n\n    if (this.closed) {\n      return this;\n    }\n\n    // Always replace the current state with the new state.\n    this.state = state;\n\n    const id = this.id;\n    const scheduler = this.scheduler;\n\n    //\n    // Important implementation note:\n    //\n    // Actions only execute once by default, unless rescheduled from within the\n    // scheduled callback. This allows us to implement single and repeat\n    // actions via the same code path, without adding API surface area, as well\n    // as mimic traditional recursion but across asynchronous boundaries.\n    //\n    // However, JS runtimes and timers distinguish between intervals achieved by\n    // serial `setTimeout` calls vs. a single `setInterval` call. An interval of\n    // serial `setTimeout` calls can be individually delayed, which delays\n    // scheduling the next `setTimeout`, and so on. `setInterval` attempts to\n    // guarantee the interval callback will be invoked more precisely to the\n    // interval period, regardless of load.\n    //\n    // Therefore, we use `setInterval` to schedule single and repeat actions.\n    // If the action reschedules itself with the same delay, the interval is not\n    // canceled. If the action doesn't reschedule, or reschedules with a\n    // different delay, the interval will be canceled after scheduled callback\n    // execution.\n    //\n    if (id != null) {\n      this.id = this.recycleAsyncId(scheduler, id, delay);\n    }\n\n    // Set the pending flag indicating that this action has been scheduled, or\n    // has recursively rescheduled itself.\n    this.pending = true;\n\n    this.delay = delay;\n    // If this action has already an async Id, don't request a new one.\n    this.id = this.id || this.requestAsyncId(scheduler, this.id, delay);\n\n    return this;\n  }\n\n  protected requestAsyncId(scheduler: AsyncScheduler, id?: any, delay: number = 0): any {\n    return setInterval(scheduler.flush.bind(scheduler, this), delay);\n  }\n\n  protected recycleAsyncId(scheduler: AsyncScheduler, id: any, delay: number = 0): any {\n    // If this action is rescheduled with the same delay time, don't clear the interval id.\n    if (delay !== null && this.delay === delay && this.pending === false) {\n      return id;\n    }\n    // Otherwise, if the action's delay time is different from the current delay,\n    // or the action has been rescheduled before it's executed, clear the interval id\n    clearInterval(id);\n    return undefined;\n  }\n\n  /**\n   * Immediately executes this action and the `work` it contains.\n   * @return {any}\n   */\n  public execute(state: T, delay: number): any {\n\n    if (this.closed) {\n      return new Error('executing a cancelled action');\n    }\n\n    this.pending = false;\n    const error = this._execute(state, delay);\n    if (error) {\n      return error;\n    } else if (this.pending === false && this.id != null) {\n      // Dequeue if the action didn't reschedule itself. Don't call\n      // unsubscribe(), because the action could reschedule later.\n      // For example:\n      // ```\n      // scheduler.schedule(function doWork(counter) {\n      //   /* ... I'm a busy worker bee ... */\n      //   var originalAction = this;\n      //   /* wait 100ms before rescheduling the action */\n      //   setTimeout(function () {\n      //     originalAction.schedule(counter + 1);\n      //   }, 100);\n      // }, 1000);\n      // ```\n      this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n    }\n  }\n\n  protected _execute(state: T, delay: number): any {\n    let errored: boolean = false;\n    let errorValue: any = undefined;\n    try {\n      this.work(state);\n    } catch (e) {\n      errored = true;\n      errorValue = !!e && e || new Error(e);\n    }\n    if (errored) {\n      this.unsubscribe();\n      return errorValue;\n    }\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _unsubscribe() {\n\n    const id = this.id;\n    const scheduler = this.scheduler;\n    const actions = scheduler.actions;\n    const index = actions.indexOf(this);\n\n    this.work  = null;\n    this.state = null;\n    this.pending = false;\n    this.scheduler = null;\n\n    if (index !== -1) {\n      actions.splice(index, 1);\n    }\n\n    if (id != null) {\n      this.id = this.recycleAsyncId(scheduler, id, null);\n    }\n\n    this.delay = null;\n  }\n}\n","import { AsyncAction } from './AsyncAction';\nimport { Subscription } from '../Subscription';\nimport { QueueScheduler } from './QueueScheduler';\nimport { SchedulerAction } from '../types';\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class QueueAction<T> extends AsyncAction<T> {\n\n  constructor(protected scheduler: QueueScheduler,\n              protected work: (this: SchedulerAction<T>, state?: T) => void) {\n    super(scheduler, work);\n  }\n\n  public schedule(state?: T, delay: number = 0): Subscription {\n    if (delay > 0) {\n      return super.schedule(state, delay);\n    }\n    this.delay = delay;\n    this.state = state;\n    this.scheduler.flush(this);\n    return this;\n  }\n\n  public execute(state: T, delay: number): any {\n    return (delay > 0 || this.closed) ?\n      super.execute(state, delay) :\n      this._execute(state, delay) ;\n  }\n\n  protected requestAsyncId(scheduler: QueueScheduler, id?: any, delay: number = 0): any {\n    // If delay exists and is greater than 0, or if the delay is null (the\n    // action wasn't rescheduled) but was originally scheduled as an async\n    // action, then recycle as an async action.\n    if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\n      return super.requestAsyncId(scheduler, id, delay);\n    }\n    // Otherwise flush the scheduler starting with this action.\n    return scheduler.flush(this);\n  }\n}\n","import { Action } from './scheduler/Action';\nimport { Subscription } from './Subscription';\nimport { SchedulerLike, SchedulerAction } from './types';\n\n/**\n * An execution context and a data structure to order tasks and schedule their\n * execution. Provides a notion of (potentially virtual) time, through the\n * `now()` getter method.\n *\n * Each unit of work in a Scheduler is called an `Action`.\n *\n * ```ts\n * class Scheduler {\n *   now(): number;\n *   schedule(work, delay?, state?): Subscription;\n * }\n * ```\n *\n * @class Scheduler\n * @deprecated Scheduler is an internal implementation detail of RxJS, and\n * should not be used directly. Rather, create your own class and implement\n * {@link SchedulerLike}\n */\nexport class Scheduler implements SchedulerLike {\n\n  /**\n   * Note: the extra arrow function wrapper is to make testing by overriding\n   * Date.now easier.\n   * @nocollapse\n   */\n  public static now: () => number = () => Date.now();\n\n  constructor(private SchedulerAction: typeof Action,\n              now: () => number = Scheduler.now) {\n    this.now = now;\n  }\n\n  /**\n   * A getter method that returns a number representing the current time\n   * (at the time this function was called) according to the scheduler's own\n   * internal clock.\n   * @return {number} A number that represents the current time. May or may not\n   * have a relation to wall-clock time. May or may not refer to a time unit\n   * (e.g. milliseconds).\n   */\n  public now: () => number;\n\n  /**\n   * Schedules a function, `work`, for execution. May happen at some point in\n   * the future, according to the `delay` parameter, if specified. May be passed\n   * some context object, `state`, which will be passed to the `work` function.\n   *\n   * The given arguments will be processed an stored as an Action object in a\n   * queue of actions.\n   *\n   * @param {function(state: ?T): ?Subscription} work A function representing a\n   * task, or some unit of work to be executed by the Scheduler.\n   * @param {number} [delay] Time to wait before executing the work, where the\n   * time unit is implicit and defined by the Scheduler itself.\n   * @param {T} [state] Some contextual data that the `work` function uses when\n   * called by the Scheduler.\n   * @return {Subscription} A subscription in order to be able to unsubscribe\n   * the scheduled work.\n   */\n  public schedule<T>(work: (this: SchedulerAction<T>, state?: T) => void, delay: number = 0, state?: T): Subscription {\n    return new this.SchedulerAction<T>(this, work).schedule(state, delay);\n  }\n}\n","import { Scheduler } from '../Scheduler';\nimport { Action } from './Action';\nimport { AsyncAction } from './AsyncAction';\nimport { SchedulerAction } from '../types';\nimport { Subscription } from '../Subscription';\n\nexport class AsyncScheduler extends Scheduler {\n  public static delegate?: Scheduler;\n  public actions: Array<AsyncAction<any>> = [];\n  /**\n   * A flag to indicate whether the Scheduler is currently executing a batch of\n   * queued actions.\n   * @type {boolean}\n   * @deprecated internal use only\n   */\n  public active: boolean = false;\n  /**\n   * An internal ID used to track the latest asynchronous task such as those\n   * coming from `setTimeout`, `setInterval`, `requestAnimationFrame`, and\n   * others.\n   * @type {any}\n   * @deprecated internal use only\n   */\n  public scheduled: any = undefined;\n\n  constructor(SchedulerAction: typeof Action,\n              now: () => number = Scheduler.now) {\n    super(SchedulerAction, () => {\n      if (AsyncScheduler.delegate && AsyncScheduler.delegate !== this) {\n        return AsyncScheduler.delegate.now();\n      } else {\n        return now();\n      }\n    });\n  }\n\n  public schedule<T>(work: (this: SchedulerAction<T>, state?: T) => void, delay: number = 0, state?: T): Subscription {\n    if (AsyncScheduler.delegate && AsyncScheduler.delegate !== this) {\n      return AsyncScheduler.delegate.schedule(work, delay, state);\n    } else {\n      return super.schedule(work, delay, state);\n    }\n  }\n\n  public flush(action: AsyncAction<any>): void {\n\n    const {actions} = this;\n\n    if (this.active) {\n      actions.push(action);\n      return;\n    }\n\n    let error: any;\n    this.active = true;\n\n    do {\n      if (error = action.execute(action.state, action.delay)) {\n        break;\n      }\n    } while (action = actions.shift()); // exhaust the scheduler queue\n\n    this.active = false;\n\n    if (error) {\n      while (action = actions.shift()) {\n        action.unsubscribe();\n      }\n      throw error;\n    }\n  }\n}\n","import { AsyncScheduler } from './AsyncScheduler';\n\nexport class QueueScheduler extends AsyncScheduler {\n}\n","import { QueueAction } from './QueueAction';\nimport { QueueScheduler } from './QueueScheduler';\n\n/**\n *\n * Queue Scheduler\n *\n * <span class=\"informal\">Put every next task on a queue, instead of executing it immediately</span>\n *\n * `queue` scheduler, when used with delay, behaves the same as {@link asyncScheduler} scheduler.\n *\n * When used without delay, it schedules given task synchronously - executes it right when\n * it is scheduled. However when called recursively, that is when inside the scheduled task,\n * another task is scheduled with queue scheduler, instead of executing immediately as well,\n * that task will be put on a queue and wait for current one to finish.\n *\n * This means that when you execute task with `queue` scheduler, you are sure it will end\n * before any other task scheduled with that scheduler will start.\n *\n * ## Examples\n * Schedule recursively first, then do something\n * ```ts\n * import { queueScheduler } from 'rxjs';\n *\n * queueScheduler.schedule(() => {\n *   queueScheduler.schedule(() => console.log('second')); // will not happen now, but will be put on a queue\n *\n *   console.log('first');\n * });\n *\n * // Logs:\n * // \"first\"\n * // \"second\"\n * ```\n *\n * Reschedule itself recursively\n * ```ts\n * import { queueScheduler } from 'rxjs';\n *\n * queueScheduler.schedule(function(state) {\n *   if (state !== 0) {\n *     console.log('before', state);\n *     this.schedule(state - 1); // `this` references currently executing Action,\n *                               // which we reschedule with new state\n *     console.log('after', state);\n *   }\n * }, 0, 3);\n *\n * // In scheduler that runs recursively, you would expect:\n * // \"before\", 3\n * // \"before\", 2\n * // \"before\", 1\n * // \"after\", 1\n * // \"after\", 2\n * // \"after\", 3\n *\n * // But with queue it logs:\n * // \"before\", 3\n * // \"after\", 3\n * // \"before\", 2\n * // \"after\", 2\n * // \"before\", 1\n * // \"after\", 1\n * ```\n *\n * @static true\n * @name queue\n * @owner Scheduler\n */\n\nexport const queue = new QueueScheduler(QueueAction);\n","import { Observable } from '../Observable';\nimport { SchedulerLike } from '../types';\n\n/**\n * The same Observable instance returned by any call to {@link empty} without a\n * `scheduler`. It is preferrable to use this over `empty()`.\n */\nexport const EMPTY = new Observable<never>(subscriber => subscriber.complete());\n\n/**\n * Creates an Observable that emits no items to the Observer and immediately\n * emits a complete notification.\n *\n * <span class=\"informal\">Just emits 'complete', and nothing else.\n * </span>\n *\n * ![](empty.png)\n *\n * This static operator is useful for creating a simple Observable that only\n * emits the complete notification. It can be used for composing with other\n * Observables, such as in a {@link mergeMap}.\n *\n * ## Examples\n * ### Emit the number 7, then complete\n * ```ts\n * import { empty } from 'rxjs';\n * import { startWith } from 'rxjs/operators';\n *\n * const result = empty().pipe(startWith(7));\n * result.subscribe(x => console.log(x));\n * ```\n *\n * ### Map and flatten only odd numbers to the sequence 'a', 'b', 'c'\n * ```ts\n * import { empty, interval, of } from 'rxjs';\n * import { mergeMap } from 'rxjs/operators';\n *\n * const interval$ = interval(1000);\n * const result = interval$.pipe(\n *   mergeMap(x => x % 2 === 1 ? of('a', 'b', 'c') : empty()),\n * );\n * result.subscribe(x => console.log(x));\n *\n * // Results in the following to the console:\n * // x is equal to the count on the interval eg(0,1,2,3,...)\n * // x will occur every 1000ms\n * // if x % 2 is equal to 1 print abc\n * // if x % 2 is not equal to 1 nothing will be output\n * ```\n *\n * @see {@link Observable}\n * @see {@link never}\n * @see {@link of}\n * @see {@link throwError}\n *\n * @param scheduler A {@link SchedulerLike} to use for scheduling\n * the emission of the complete notification.\n * @return An \"empty\" Observable: emits only the complete\n * notification.\n * @deprecated Deprecated in favor of using {@link EMPTY} constant, or {@link scheduled} (e.g. `scheduled([], scheduler)`)\n */\nexport function empty(scheduler?: SchedulerLike) {\n  return scheduler ? emptyScheduled(scheduler) : EMPTY;\n}\n\nfunction emptyScheduled(scheduler: SchedulerLike) {\n  return new Observable<never>(subscriber => scheduler.schedule(() => subscriber.complete()));\n}\n","import { SchedulerLike } from '../types';\n\nexport function isScheduler(value: any): value is SchedulerLike {\n  return value && typeof (<any>value).schedule === 'function';\n}\n","import { Subscriber } from '../Subscriber';\n\n/**\n * Subscribes to an ArrayLike with a subscriber\n * @param array The array or array-like to subscribe to\n */\nexport const subscribeToArray = <T>(array: ArrayLike<T>) => (subscriber: Subscriber<T>) => {\n  for (let i = 0, len = array.length; i < len && !subscriber.closed; i++) {\n    subscriber.next(array[i]);\n  }\n  subscriber.complete();\n};\n","import { Observable } from '../Observable';\nimport { SchedulerLike } from '../types';\nimport { Subscription } from '../Subscription';\n\nexport function scheduleArray<T>(input: ArrayLike<T>, scheduler: SchedulerLike) {\n  return new Observable<T>(subscriber => {\n    const sub = new Subscription();\n    let i = 0;\n    sub.add(scheduler.schedule(function () {\n      if (i === input.length) {\n        subscriber.complete();\n        return;\n      }\n      subscriber.next(input[i++]);\n      if (!subscriber.closed) {\n        sub.add(this.schedule());\n      }\n    }));\n    return sub;\n  });\n}\n","import { Observable } from '../Observable';\nimport { SchedulerLike } from '../types';\nimport { subscribeToArray } from '../util/subscribeToArray';\nimport { scheduleArray } from '../scheduled/scheduleArray';\n\nexport function fromArray<T>(input: ArrayLike<T>, scheduler?: SchedulerLike) {\n  if (!scheduler) {\n    return new Observable<T>(subscribeToArray(input));\n  } else {\n    return scheduleArray(input, scheduler);\n  }\n}\n","import { SchedulerLike } from '../types';\nimport { isScheduler } from '../util/isScheduler';\nimport { fromArray } from './fromArray';\nimport { Observable } from '../Observable';\nimport { scheduleArray } from '../scheduled/scheduleArray';\n\n/* tslint:disable:max-line-length */\n/** @deprecated use {@link scheduled} instead `scheduled([a, b, c], scheduler)` */\nexport function of<T>(a: T, scheduler: SchedulerLike): Observable<T>;\n/** @deprecated use {@link scheduled} instead `scheduled([a, b, c], scheduler)` */\nexport function of<T, T2>(a: T, b: T2, scheduler: SchedulerLike): Observable<T | T2>;\n/** @deprecated use {@link scheduled} instead `scheduled([a, b, c], scheduler)` */\nexport function of<T, T2, T3>(a: T, b: T2, c: T3, scheduler: SchedulerLike): Observable<T | T2 | T3>;\n/** @deprecated use {@link scheduled} instead `scheduled([a, b, c], scheduler)` */\nexport function of<T, T2, T3, T4>(a: T, b: T2, c: T3, d: T4, scheduler: SchedulerLike): Observable<T | T2 | T3 | T4>;\n/** @deprecated use {@link scheduled} instead `scheduled([a, b, c], scheduler)` */\nexport function of<T, T2, T3, T4, T5>(a: T, b: T2, c: T3, d: T4, e: T5, scheduler: SchedulerLike): Observable<T | T2 | T3 | T4 | T5>;\n/** @deprecated use {@link scheduled} instead `scheduled([a, b, c], scheduler)` */\nexport function of<T, T2, T3, T4, T5, T6>(a: T, b: T2, c: T3, d: T4, e: T5, f: T6, scheduler: SchedulerLike): Observable<T | T2 | T3 | T4 | T5 | T6>;\n/** @deprecated use {@link scheduled} instead `scheduled([a, b, c], scheduler)` */\nexport function of<T, T2, T3, T4, T5, T6, T7>(a: T, b: T2, c: T3, d: T4, e: T5, f: T6, g: T7, scheduler: SchedulerLike):\n  Observable<T | T2 | T3 | T4 | T5 | T6 | T7>;\n/** @deprecated use {@link scheduled} instead `scheduled([a, b, c], scheduler)` */\nexport function of<T, T2, T3, T4, T5, T6, T7, T8>(a: T, b: T2, c: T3, d: T4, e: T5, f: T6, g: T7, h: T8, scheduler: SchedulerLike):\n  Observable<T | T2 | T3 | T4 | T5 | T6 | T7 | T8>;\n/** @deprecated use {@link scheduled} instead `scheduled([a, b, c], scheduler)` */\nexport function of<T, T2, T3, T4, T5, T6, T7, T8, T9>(a: T, b: T2, c: T3, d: T4, e: T5, f: T6, g: T7, h: T8, i: T9, scheduler: SchedulerLike):\n  Observable<T | T2 | T3 | T4 | T5 | T6 | T7 | T8 | T9>;\nexport function of<T>(...args: (T | SchedulerLike)[]): Observable<T>;\n\n// TODO(benlesh): Update the typings for this when we can switch to TS 3.x\nexport function of<T>(a: T): Observable<T>;\nexport function of<T, T2>(a: T, b: T2): Observable<T | T2>;\nexport function of<T, T2, T3>(a: T, b: T2, c: T3): Observable<T | T2 | T3>;\nexport function of<T, T2, T3, T4>(a: T, b: T2, c: T3, d: T4): Observable<T | T2 | T3 | T4>;\nexport function of<T, T2, T3, T4, T5>(a: T, b: T2, c: T3, d: T4, e: T5): Observable<T | T2 | T3 | T4 | T5>;\nexport function of<T, T2, T3, T4, T5, T6>(a: T, b: T2, c: T3, d: T4, e: T5, f: T6): Observable<T | T2 | T3 | T4 | T5 | T6>;\nexport function of<T, T2, T3, T4, T5, T6, T7>(a: T, b: T2, c: T3, d: T4, e: T5, f: T6, g: T7):\n  Observable<T | T2 | T3 | T4 | T5 | T6 | T7>;\nexport function of<T, T2, T3, T4, T5, T6, T7, T8>(a: T, b: T2, c: T3, d: T4, e: T5, f: T6, g: T7, h: T8):\n  Observable<T | T2 | T3 | T4 | T5 | T6 | T7 | T8>;\nexport function of<T, T2, T3, T4, T5, T6, T7, T8, T9>(a: T, b: T2, c: T3, d: T4, e: T5, f: T6, g: T7, h: T8, i: T9):\n  Observable<T | T2 | T3 | T4 | T5 | T6 | T7 | T8 | T9>;\nexport function of<T>(...args: T[]): Observable<T>;\n/* tslint:enable:max-line-length */\n\n/**\n * Converts the arguments to an observable sequence.\n *\n * <span class=\"informal\">Each argument becomes a `next` notification.</span>\n *\n * ![](of.png)\n *\n * Unlike {@link from}, it does not do any flattening and emits each argument in whole\n * as a separate `next` notification.\n *\n * ## Examples\n *\n * Emit the values `10, 20, 30`\n *\n * ```ts\n * import { of } from 'rxjs';\n *\n * of(10, 20, 30)\n * .subscribe(\n *   next => console.log('next:', next),\n *   err => console.log('error:', err),\n *   () => console.log('the end'),\n * );\n * // result:\n * // 'next: 10'\n * // 'next: 20'\n * // 'next: 30'\n *\n * ```\n *\n * Emit the array `[1,2,3]`\n *\n * ```ts\n * import { of } from 'rxjs';\n *\n * of([1,2,3])\n * .subscribe(\n *   next => console.log('next:', next),\n *   err => console.log('error:', err),\n *   () => console.log('the end'),\n * );\n * // result:\n * // 'next: [1,2,3]'\n * ```\n *\n * @see {@link from}\n * @see {@link range}\n *\n * @param {...T} values A comma separated list of arguments you want to be emitted\n * @return {Observable} An Observable that emits the arguments\n * described above and then completes.\n * @method of\n * @owner Observable\n */\n\nexport function of<T>(...args: Array<T | SchedulerLike>): Observable<T> {\n  let scheduler = args[args.length - 1] as SchedulerLike;\n  if (isScheduler(scheduler)) {\n    args.pop();\n    return scheduleArray(args as T[], scheduler);\n  } else {\n    return fromArray(args as T[]);\n  }\n}\n","import { Observable } from '../Observable';\nimport { SchedulerLike } from '../types';\nimport { Subscriber } from '../Subscriber';\n\n/**\n * Creates an Observable that emits no items to the Observer and immediately\n * emits an error notification.\n *\n * <span class=\"informal\">Just emits 'error', and nothing else.\n * </span>\n *\n * ![](throw.png)\n *\n * This static operator is useful for creating a simple Observable that only\n * emits the error notification. It can be used for composing with other\n * Observables, such as in a {@link mergeMap}.\n *\n * ## Examples\n * ### Emit the number 7, then emit an error\n * ```ts\n * import { throwError, concat, of } from 'rxjs';\n *\n * const result = concat(of(7), throwError(new Error('oops!')));\n * result.subscribe(x => console.log(x), e => console.error(e));\n *\n * // Logs:\n * // 7\n * // Error: oops!\n * ```\n *\n * ---\n *\n * ### Map and flatten numbers to the sequence 'a', 'b', 'c', but throw an error for 2\n * ```ts\n * import { throwError, interval, of } from 'rxjs';\n * import { mergeMap } from 'rxjs/operators';\n *\n * interval(1000).pipe(\n *   mergeMap(x => x === 2\n *     ? throwError('Twos are bad')\n *     : of('a', 'b', 'c')\n *   ),\n * ).subscribe(x => console.log(x), e => console.error(e));\n *\n * // Logs:\n * // a\n * // b\n * // c\n * // a\n * // b\n * // c\n * // Twos are bad\n * ```\n *\n * @see {@link Observable}\n * @see {@link empty}\n * @see {@link never}\n * @see {@link of}\n *\n * @param {any} error The particular Error to pass to the error notification.\n * @param {SchedulerLike} [scheduler] A {@link SchedulerLike} to use for scheduling\n * the emission of the error notification.\n * @return {Observable} An error Observable: emits only the error notification\n * using the given error argument.\n * @static true\n * @name throwError\n * @owner Observable\n */\nexport function throwError(error: any, scheduler?: SchedulerLike): Observable<never> {\n  if (!scheduler) {\n    return new Observable(subscriber => subscriber.error(error));\n  } else {\n    return new Observable(subscriber => scheduler.schedule(dispatch, 0, { error, subscriber }));\n  }\n}\n\ninterface DispatchArg {\n  error: any;\n  subscriber: Subscriber<any>;\n}\n\nfunction dispatch({ error, subscriber }: DispatchArg) {\n  subscriber.error(error);\n}\n","import { PartialObserver } from './types';\nimport { Observable } from './Observable';\nimport { empty } from './observable/empty';\nimport { of } from './observable/of';\nimport { throwError } from './observable/throwError';\nimport { deprecate } from 'util';\n\n// TODO: When this enum is removed, replace it with a type alias. See #4556.\n/**\n * @deprecated NotificationKind is deprecated as const enums are not compatible with isolated modules. Use a string literal instead.\n */\nexport enum NotificationKind {\n  NEXT = 'N',\n  ERROR = 'E',\n  COMPLETE = 'C',\n}\n\n/**\n * Represents a push-based event or value that an {@link Observable} can emit.\n * This class is particularly useful for operators that manage notifications,\n * like {@link materialize}, {@link dematerialize}, {@link observeOn}, and\n * others. Besides wrapping the actual delivered value, it also annotates it\n * with metadata of, for instance, what type of push message it is (`next`,\n * `error`, or `complete`).\n *\n * @see {@link materialize}\n * @see {@link dematerialize}\n * @see {@link observeOn}\n *\n * @class Notification<T>\n */\nexport class Notification<T> {\n  hasValue: boolean;\n\n  constructor(public kind: 'N' | 'E' | 'C', public value?: T, public error?: any) {\n    this.hasValue = kind === 'N';\n  }\n\n  /**\n   * Delivers to the given `observer` the value wrapped by this Notification.\n   * @param {Observer} observer\n   * @return\n   */\n  observe(observer: PartialObserver<T>): any {\n    switch (this.kind) {\n      case 'N':\n        return observer.next && observer.next(this.value);\n      case 'E':\n        return observer.error && observer.error(this.error);\n      case 'C':\n        return observer.complete && observer.complete();\n    }\n  }\n\n  /**\n   * Given some {@link Observer} callbacks, deliver the value represented by the\n   * current Notification to the correctly corresponding callback.\n   * @param {function(value: T): void} next An Observer `next` callback.\n   * @param {function(err: any): void} [error] An Observer `error` callback.\n   * @param {function(): void} [complete] An Observer `complete` callback.\n   * @return {any}\n   */\n  do(next: (value: T) => void, error?: (err: any) => void, complete?: () => void): any {\n    const kind = this.kind;\n    switch (kind) {\n      case 'N':\n        return next && next(this.value);\n      case 'E':\n        return error && error(this.error);\n      case 'C':\n        return complete && complete();\n    }\n  }\n\n  /**\n   * Takes an Observer or its individual callback functions, and calls `observe`\n   * or `do` methods accordingly.\n   * @param {Observer|function(value: T): void} nextOrObserver An Observer or\n   * the `next` callback.\n   * @param {function(err: any): void} [error] An Observer `error` callback.\n   * @param {function(): void} [complete] An Observer `complete` callback.\n   * @return {any}\n   */\n  accept(nextOrObserver: PartialObserver<T> | ((value: T) => void), error?: (err: any) => void, complete?: () => void) {\n    if (nextOrObserver && typeof (<PartialObserver<T>>nextOrObserver).next === 'function') {\n      return this.observe(<PartialObserver<T>>nextOrObserver);\n    } else {\n      return this.do(<(value: T) => void>nextOrObserver, error, complete);\n    }\n  }\n\n  /**\n   * Returns a simple Observable that just delivers the notification represented\n   * by this Notification instance.\n   * @return {any}\n   */\n  toObservable(): Observable<T> {\n    const kind = this.kind;\n    switch (kind) {\n      case 'N':\n        return of(this.value);\n      case 'E':\n        return throwError(this.error);\n      case 'C':\n        return empty();\n    }\n    throw new Error('unexpected notification kind value');\n  }\n\n  private static completeNotification: Notification<any> = new Notification('C');\n  private static undefinedValueNotification: Notification<any> = new Notification('N', undefined);\n\n  /**\n   * A shortcut to create a Notification instance of the type `next` from a\n   * given value.\n   * @param {T} value The `next` value.\n   * @return {Notification<T>} The \"next\" Notification representing the\n   * argument.\n   * @nocollapse\n   */\n  static createNext<T>(value: T): Notification<T> {\n    if (typeof value !== 'undefined') {\n      return new Notification('N', value);\n    }\n    return Notification.undefinedValueNotification;\n  }\n\n  /**\n   * A shortcut to create a Notification instance of the type `error` from a\n   * given error.\n   * @param {any} [err] The `error` error.\n   * @return {Notification<T>} The \"error\" Notification representing the\n   * argument.\n   * @nocollapse\n   */\n  static createError<T>(err?: any): Notification<T> {\n    return new Notification('E', undefined, err);\n  }\n\n  /**\n   * A shortcut to create a Notification instance of the type `complete`.\n   * @return {Notification<any>} The valueless \"complete\" Notification.\n   * @nocollapse\n   */\n  static createComplete(): Notification<any> {\n    return Notification.completeNotification;\n  }\n}\n","import { Observable } from '../Observable';\nimport { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { Notification } from '../Notification';\nimport { MonoTypeOperatorFunction, PartialObserver, SchedulerAction, SchedulerLike, TeardownLogic } from '../types';\n\n/**\n *\n * Re-emits all notifications from source Observable with specified scheduler.\n *\n * <span class=\"informal\">Ensure a specific scheduler is used, from outside of an Observable.</span>\n *\n * `observeOn` is an operator that accepts a scheduler as a first parameter, which will be used to reschedule\n * notifications emitted by the source Observable. It might be useful, if you do not have control over\n * internal scheduler of a given Observable, but want to control when its values are emitted nevertheless.\n *\n * Returned Observable emits the same notifications (nexted values, complete and error events) as the source Observable,\n * but rescheduled with provided scheduler. Note that this doesn't mean that source Observables internal\n * scheduler will be replaced in any way. Original scheduler still will be used, but when the source Observable emits\n * notification, it will be immediately scheduled again - this time with scheduler passed to `observeOn`.\n * An anti-pattern would be calling `observeOn` on Observable that emits lots of values synchronously, to split\n * that emissions into asynchronous chunks. For this to happen, scheduler would have to be passed into the source\n * Observable directly (usually into the operator that creates it). `observeOn` simply delays notifications a\n * little bit more, to ensure that they are emitted at expected moments.\n *\n * As a matter of fact, `observeOn` accepts second parameter, which specifies in milliseconds with what delay notifications\n * will be emitted. The main difference between {@link delay} operator and `observeOn` is that `observeOn`\n * will delay all notifications - including error notifications - while `delay` will pass through error\n * from source Observable immediately when it is emitted. In general it is highly recommended to use `delay` operator\n * for any kind of delaying of values in the stream, while using `observeOn` to specify which scheduler should be used\n * for notification emissions in general.\n *\n * ## Example\n * Ensure values in subscribe are called just before browser repaint.\n * ```ts\n * import { interval } from 'rxjs';\n * import { observeOn } from 'rxjs/operators';\n *\n * const intervals = interval(10);                // Intervals are scheduled\n *                                                // with async scheduler by default...\n * intervals.pipe(\n *   observeOn(animationFrameScheduler),          // ...but we will observe on animationFrame\n * )                                              // scheduler to ensure smooth animation.\n * .subscribe(val => {\n *   someDiv.style.height = val + 'px';\n * });\n * ```\n *\n * @see {@link delay}\n *\n * @param {SchedulerLike} scheduler Scheduler that will be used to reschedule notifications from source Observable.\n * @param {number} [delay] Number of milliseconds that states with what delay every notification should be rescheduled.\n * @return {Observable<T>} Observable that emits the same notifications as the source Observable,\n * but with provided scheduler.\n *\n * @method observeOn\n * @owner Observable\n */\nexport function observeOn<T>(scheduler: SchedulerLike, delay: number = 0): MonoTypeOperatorFunction<T> {\n  return function observeOnOperatorFunction(source: Observable<T>): Observable<T> {\n    return source.lift(new ObserveOnOperator(scheduler, delay));\n  };\n}\n\nexport class ObserveOnOperator<T> implements Operator<T, T> {\n  constructor(private scheduler: SchedulerLike, private delay: number = 0) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new ObserveOnSubscriber(subscriber, this.scheduler, this.delay));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class ObserveOnSubscriber<T> extends Subscriber<T> {\n  /** @nocollapse */\n  static dispatch(this: SchedulerAction<ObserveOnMessage>, arg: ObserveOnMessage) {\n    const { notification, destination } = arg;\n    notification.observe(destination);\n    this.unsubscribe();\n  }\n\n  constructor(destination: Subscriber<T>,\n              private scheduler: SchedulerLike,\n              private delay: number = 0) {\n    super(destination);\n  }\n\n  private scheduleMessage(notification: Notification<any>): void {\n    const destination = this.destination as Subscription;\n    destination.add(this.scheduler.schedule(\n      ObserveOnSubscriber.dispatch,\n      this.delay,\n      new ObserveOnMessage(notification, this.destination)\n    ));\n  }\n\n  protected _next(value: T): void {\n    this.scheduleMessage(Notification.createNext(value));\n  }\n\n  protected _error(err: any): void {\n    this.scheduleMessage(Notification.createError(err));\n    this.unsubscribe();\n  }\n\n  protected _complete(): void {\n    this.scheduleMessage(Notification.createComplete());\n    this.unsubscribe();\n  }\n}\n\nexport class ObserveOnMessage {\n  constructor(public notification: Notification<any>,\n              public destination: PartialObserver<any>) {\n  }\n}\n","import { Subject } from './Subject';\nimport { SchedulerLike } from './types';\nimport { queue } from './scheduler/queue';\nimport { Subscriber } from './Subscriber';\nimport { Subscription } from './Subscription';\nimport { ObserveOnSubscriber } from './operators/observeOn';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { SubjectSubscription } from './SubjectSubscription';\n/**\n * A variant of Subject that \"replays\" or emits old values to new subscribers.\n * It buffers a set number of values and will emit those values immediately to\n * any new subscribers in addition to emitting new values to existing subscribers.\n *\n * @class ReplaySubject<T>\n */\nexport class ReplaySubject<T> extends Subject<T> {\n  private _events: (ReplayEvent<T> | T)[] = [];\n  private _bufferSize: number;\n  private _windowTime: number;\n  private _infiniteTimeWindow: boolean = false;\n\n  constructor(bufferSize: number = Number.POSITIVE_INFINITY,\n              windowTime: number = Number.POSITIVE_INFINITY,\n              private scheduler?: SchedulerLike) {\n    super();\n    this._bufferSize = bufferSize < 1 ? 1 : bufferSize;\n    this._windowTime = windowTime < 1 ? 1 : windowTime;\n\n    if (windowTime === Number.POSITIVE_INFINITY) {\n      this._infiniteTimeWindow = true;\n      this.next = this.nextInfiniteTimeWindow;\n    } else {\n      this.next = this.nextTimeWindow;\n    }\n  }\n\n  private nextInfiniteTimeWindow(value: T): void {\n    const _events = this._events;\n    _events.push(value);\n    // Since this method is invoked in every next() call than the buffer\n    // can overgrow the max size only by one item\n    if (_events.length > this._bufferSize) {\n      _events.shift();\n    }\n\n    super.next(value);\n  }\n\n  private nextTimeWindow(value: T): void {\n    this._events.push(new ReplayEvent(this._getNow(), value));\n    this._trimBufferThenGetEvents();\n\n    super.next(value);\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _subscribe(subscriber: Subscriber<T>): Subscription {\n    // When `_infiniteTimeWindow === true` then the buffer is already trimmed\n    const _infiniteTimeWindow = this._infiniteTimeWindow;\n    const _events = _infiniteTimeWindow ? this._events : this._trimBufferThenGetEvents();\n    const scheduler = this.scheduler;\n    const len = _events.length;\n    let subscription: Subscription;\n\n    if (this.closed) {\n      throw new ObjectUnsubscribedError();\n    } else if (this.isStopped || this.hasError) {\n      subscription = Subscription.EMPTY;\n    } else {\n      this.observers.push(subscriber);\n      subscription = new SubjectSubscription(this, subscriber);\n    }\n\n    if (scheduler) {\n      subscriber.add(subscriber = new ObserveOnSubscriber<T>(subscriber, scheduler));\n    }\n\n    if (_infiniteTimeWindow) {\n      for (let i = 0; i < len && !subscriber.closed; i++) {\n        subscriber.next(<T>_events[i]);\n      }\n    } else {\n      for (let i = 0; i < len && !subscriber.closed; i++) {\n        subscriber.next((<ReplayEvent<T>>_events[i]).value);\n      }\n    }\n\n    if (this.hasError) {\n      subscriber.error(this.thrownError);\n    } else if (this.isStopped) {\n      subscriber.complete();\n    }\n\n    return subscription;\n  }\n\n  _getNow(): number {\n    return (this.scheduler || queue).now();\n  }\n\n  private _trimBufferThenGetEvents(): ReplayEvent<T>[] {\n    const now = this._getNow();\n    const _bufferSize = this._bufferSize;\n    const _windowTime = this._windowTime;\n    const _events = <ReplayEvent<T>[]>this._events;\n\n    const eventsCount = _events.length;\n    let spliceCount = 0;\n\n    // Trim events that fall out of the time window.\n    // Start at the front of the list. Break early once\n    // we encounter an event that falls within the window.\n    while (spliceCount < eventsCount) {\n      if ((now - _events[spliceCount].time) < _windowTime) {\n        break;\n      }\n      spliceCount++;\n    }\n\n    if (eventsCount > _bufferSize) {\n      spliceCount = Math.max(spliceCount, eventsCount - _bufferSize);\n    }\n\n    if (spliceCount > 0) {\n      _events.splice(0, spliceCount);\n    }\n\n    return _events;\n  }\n\n}\n\nclass ReplayEvent<T> {\n  constructor(public time: number, public value: T) {\n  }\n}\n","import { Subject } from './Subject';\nimport { Subscriber } from './Subscriber';\nimport { Subscription } from './Subscription';\n\n/**\n * A variant of Subject that only emits a value when it completes. It will emit\n * its latest value to all its observers on completion.\n *\n * @class AsyncSubject<T>\n */\nexport class AsyncSubject<T> extends Subject<T> {\n  private value: T = null;\n  private hasNext: boolean = false;\n  private hasCompleted: boolean = false;\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _subscribe(subscriber: Subscriber<any>): Subscription {\n    if (this.hasError) {\n      subscriber.error(this.thrownError);\n      return Subscription.EMPTY;\n    } else if (this.hasCompleted && this.hasNext) {\n      subscriber.next(this.value);\n      subscriber.complete();\n      return Subscription.EMPTY;\n    }\n    return super._subscribe(subscriber);\n  }\n\n  next(value: T): void {\n    if (!this.hasCompleted) {\n      this.value = value;\n      this.hasNext = true;\n    }\n  }\n\n  error(error: any): void {\n    if (!this.hasCompleted) {\n      super.error(error);\n    }\n  }\n\n  complete(): void {\n    this.hasCompleted = true;\n    if (this.hasNext) {\n      super.next(this.value);\n    }\n    super.complete();\n  }\n}\n","let nextHandle = 1;\n\nconst tasksByHandle: { [handle: string]: () => void } = {};\n\nfunction runIfPresent(handle: number) {\n  const cb = tasksByHandle[handle];\n  if (cb) {\n    cb();\n  }\n}\n\nexport const Immediate = {\n  setImmediate(cb: () => void): number {\n    const handle = nextHandle++;\n    tasksByHandle[handle] = cb;\n    Promise.resolve().then(() => runIfPresent(handle));\n    return handle;\n  },\n\n  clearImmediate(handle: number): void {\n    delete tasksByHandle[handle];\n  },\n};\n","import { Immediate } from '../util/Immediate';\nimport { AsyncAction } from './AsyncAction';\nimport { AsapScheduler } from './AsapScheduler';\nimport { SchedulerAction } from '../types';\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class AsapAction<T> extends AsyncAction<T> {\n\n  constructor(protected scheduler: AsapScheduler,\n              protected work: (this: SchedulerAction<T>, state?: T) => void) {\n    super(scheduler, work);\n  }\n\n  protected requestAsyncId(scheduler: AsapScheduler, id?: any, delay: number = 0): any {\n    // If delay is greater than 0, request as an async action.\n    if (delay !== null && delay > 0) {\n      return super.requestAsyncId(scheduler, id, delay);\n    }\n    // Push the action to the end of the scheduler queue.\n    scheduler.actions.push(this);\n    // If a microtask has already been scheduled, don't schedule another\n    // one. If a microtask hasn't been scheduled yet, schedule one now. Return\n    // the current scheduled microtask id.\n    return scheduler.scheduled || (scheduler.scheduled = Immediate.setImmediate(\n      scheduler.flush.bind(scheduler, null)\n    ));\n  }\n  protected recycleAsyncId(scheduler: AsapScheduler, id?: any, delay: number = 0): any {\n    // If delay exists and is greater than 0, or if the delay is null (the\n    // action wasn't rescheduled) but was originally scheduled as an async\n    // action, then recycle as an async action.\n    if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\n      return super.recycleAsyncId(scheduler, id, delay);\n    }\n    // If the scheduler queue is empty, cancel the requested microtask and\n    // set the scheduled flag to undefined so the next AsapAction will schedule\n    // its own.\n    if (scheduler.actions.length === 0) {\n      Immediate.clearImmediate(id);\n      scheduler.scheduled = undefined;\n    }\n    // Return undefined so the action knows to request a new async id if it's rescheduled.\n    return undefined;\n  }\n}\n","import { AsyncAction } from './AsyncAction';\nimport { AsyncScheduler } from './AsyncScheduler';\n\nexport class AsapScheduler extends AsyncScheduler {\n  public flush(action?: AsyncAction<any>): void {\n\n    this.active = true;\n    this.scheduled = undefined;\n\n    const {actions} = this;\n    let error: any;\n    let index: number = -1;\n    let count: number = actions.length;\n    action = action || actions.shift();\n\n    do {\n      if (error = action.execute(action.state, action.delay)) {\n        break;\n      }\n    } while (++index < count && (action = actions.shift()));\n\n    this.active = false;\n\n    if (error) {\n      while (++index < count && (action = actions.shift())) {\n        action.unsubscribe();\n      }\n      throw error;\n    }\n  }\n}\n","import { AsapAction } from './AsapAction';\nimport { AsapScheduler } from './AsapScheduler';\n\n/**\n *\n * Asap Scheduler\n *\n * <span class=\"informal\">Perform task as fast as it can be performed asynchronously</span>\n *\n * `asap` scheduler behaves the same as {@link asyncScheduler} scheduler when you use it to delay task\n * in time. If however you set delay to `0`, `asap` will wait for current synchronously executing\n * code to end and then it will try to execute given task as fast as possible.\n *\n * `asap` scheduler will do its best to minimize time between end of currently executing code\n * and start of scheduled task. This makes it best candidate for performing so called \"deferring\".\n * Traditionally this was achieved by calling `setTimeout(deferredTask, 0)`, but that technique involves\n * some (although minimal) unwanted delay.\n *\n * Note that using `asap` scheduler does not necessarily mean that your task will be first to process\n * after currently executing code. In particular, if some task was also scheduled with `asap` before,\n * that task will execute first. That being said, if you need to schedule task asynchronously, but\n * as soon as possible, `asap` scheduler is your best bet.\n *\n * ## Example\n * Compare async and asap scheduler<\n * ```ts\n * import { asapScheduler, asyncScheduler } from 'rxjs';\n *\n * asyncScheduler.schedule(() => console.log('async')); // scheduling 'async' first...\n * asapScheduler.schedule(() => console.log('asap'));\n *\n * // Logs:\n * // \"asap\"\n * // \"async\"\n * // ... but 'asap' goes first!\n * ```\n * @static true\n * @name asap\n * @owner Scheduler\n */\n\nexport const asap = new AsapScheduler(AsapAction);\n","import { AsyncAction } from './AsyncAction';\nimport { AsyncScheduler } from './AsyncScheduler';\n\n/**\n *\n * Async Scheduler\n *\n * <span class=\"informal\">Schedule task as if you used setTimeout(task, duration)</span>\n *\n * `async` scheduler schedules tasks asynchronously, by putting them on the JavaScript\n * event loop queue. It is best used to delay tasks in time or to schedule tasks repeating\n * in intervals.\n *\n * If you just want to \"defer\" task, that is to perform it right after currently\n * executing synchronous code ends (commonly achieved by `setTimeout(deferredTask, 0)`),\n * better choice will be the {@link asapScheduler} scheduler.\n *\n * ## Examples\n * Use async scheduler to delay task\n * ```ts\n * import { asyncScheduler } from 'rxjs';\n *\n * const task = () => console.log('it works!');\n *\n * asyncScheduler.schedule(task, 2000);\n *\n * // After 2 seconds logs:\n * // \"it works!\"\n * ```\n *\n * Use async scheduler to repeat task in intervals\n * ```ts\n * import { asyncScheduler } from 'rxjs';\n *\n * function task(state) {\n *   console.log(state);\n *   this.schedule(state + 1, 1000); // `this` references currently executing Action,\n *                                   // which we reschedule with new state and delay\n * }\n *\n * asyncScheduler.schedule(task, 3000, 0);\n *\n * // Logs:\n * // 0 after 3s\n * // 1 after 4s\n * // 2 after 5s\n * // 3 after 6s\n * ```\n *\n * @static true\n * @name async\n * @owner Scheduler\n */\n\nexport const async = new AsyncScheduler(AsyncAction);\n","import { AsyncAction } from './AsyncAction';\nimport { AnimationFrameScheduler } from './AnimationFrameScheduler';\nimport { SchedulerAction } from '../types';\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class AnimationFrameAction<T> extends AsyncAction<T> {\n\n  constructor(protected scheduler: AnimationFrameScheduler,\n              protected work: (this: SchedulerAction<T>, state?: T) => void) {\n    super(scheduler, work);\n  }\n\n  protected requestAsyncId(scheduler: AnimationFrameScheduler, id?: any, delay: number = 0): any {\n    // If delay is greater than 0, request as an async action.\n    if (delay !== null && delay > 0) {\n      return super.requestAsyncId(scheduler, id, delay);\n    }\n    // Push the action to the end of the scheduler queue.\n    scheduler.actions.push(this);\n    // If an animation frame has already been requested, don't request another\n    // one. If an animation frame hasn't been requested yet, request one. Return\n    // the current animation frame request id.\n    return scheduler.scheduled || (scheduler.scheduled = requestAnimationFrame(\n      () => scheduler.flush(null)));\n  }\n  protected recycleAsyncId(scheduler: AnimationFrameScheduler, id?: any, delay: number = 0): any {\n    // If delay exists and is greater than 0, or if the delay is null (the\n    // action wasn't rescheduled) but was originally scheduled as an async\n    // action, then recycle as an async action.\n    if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\n      return super.recycleAsyncId(scheduler, id, delay);\n    }\n    // If the scheduler queue is empty, cancel the requested animation frame and\n    // set the scheduled flag to undefined so the next AnimationFrameAction will\n    // request its own.\n    if (scheduler.actions.length === 0) {\n      cancelAnimationFrame(id);\n      scheduler.scheduled = undefined;\n    }\n    // Return undefined so the action knows to request a new async id if it's rescheduled.\n    return undefined;\n  }\n}\n","import { AsyncAction } from './AsyncAction';\nimport { AsyncScheduler } from './AsyncScheduler';\n\nexport class AnimationFrameScheduler extends AsyncScheduler {\n  public flush(action?: AsyncAction<any>): void {\n\n    this.active = true;\n    this.scheduled = undefined;\n\n    const {actions} = this;\n    let error: any;\n    let index: number = -1;\n    let count: number = actions.length;\n    action = action || actions.shift();\n\n    do {\n      if (error = action.execute(action.state, action.delay)) {\n        break;\n      }\n    } while (++index < count && (action = actions.shift()));\n\n    this.active = false;\n\n    if (error) {\n      while (++index < count && (action = actions.shift())) {\n        action.unsubscribe();\n      }\n      throw error;\n    }\n  }\n}\n","import { AnimationFrameAction } from './AnimationFrameAction';\nimport { AnimationFrameScheduler } from './AnimationFrameScheduler';\n\n/**\n *\n * Animation Frame Scheduler\n *\n * <span class=\"informal\">Perform task when `window.requestAnimationFrame` would fire</span>\n *\n * When `animationFrame` scheduler is used with delay, it will fall back to {@link asyncScheduler} scheduler\n * behaviour.\n *\n * Without delay, `animationFrame` scheduler can be used to create smooth browser animations.\n * It makes sure scheduled task will happen just before next browser content repaint,\n * thus performing animations as efficiently as possible.\n *\n * ## Example\n * Schedule div height animation\n * ```ts\n * // html: <div style=\"background: #0ff;\"></div>\n * import { animationFrameScheduler } from 'rxjs';\n *\n * const div = document.querySelector('div');\n *\n * animationFrameScheduler.schedule(function(height) {\n *   div.style.height = height + \"px\";\n *\n *   this.schedule(height + 1);  // `this` references currently executing Action,\n *                               // which we reschedule with new state\n * }, 0, 0);\n *\n * // You will see a div element growing in height\n * ```\n *\n * @static true\n * @name animationFrame\n * @owner Scheduler\n */\n\nexport const animationFrame = new AnimationFrameScheduler(AnimationFrameAction);\n","import { AsyncAction } from './AsyncAction';\nimport { Subscription } from '../Subscription';\nimport { AsyncScheduler } from './AsyncScheduler';\nimport { SchedulerAction } from '../types';\n\nexport class VirtualTimeScheduler extends AsyncScheduler {\n\n  protected static frameTimeFactor: number = 10;\n\n  public frame: number = 0;\n  public index: number = -1;\n\n  constructor(SchedulerAction: typeof AsyncAction = VirtualAction as any,\n              public maxFrames: number = Number.POSITIVE_INFINITY) {\n    super(SchedulerAction, () => this.frame);\n  }\n\n  /**\n   * Prompt the Scheduler to execute all of its queued actions, therefore\n   * clearing its queue.\n   * @return {void}\n   */\n  public flush(): void {\n\n    const {actions, maxFrames} = this;\n    let error: any, action: AsyncAction<any>;\n\n    while ((action = actions[0]) && action.delay <= maxFrames) {\n      actions.shift();\n      this.frame = action.delay;\n\n      if (error = action.execute(action.state, action.delay)) {\n        break;\n      }\n    }\n\n    if (error) {\n      while (action = actions.shift()) {\n        action.unsubscribe();\n      }\n      throw error;\n    }\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @nodoc\n */\nexport class VirtualAction<T> extends AsyncAction<T> {\n\n  protected active: boolean = true;\n\n  constructor(protected scheduler: VirtualTimeScheduler,\n              protected work: (this: SchedulerAction<T>, state?: T) => void,\n              protected index: number = scheduler.index += 1) {\n    super(scheduler, work);\n    this.index = scheduler.index = index;\n  }\n\n  public schedule(state?: T, delay: number = 0): Subscription {\n    if (!this.id) {\n      return super.schedule(state, delay);\n    }\n    this.active = false;\n    // If an action is rescheduled, we save allocations by mutating its state,\n    // pushing it to the end of the scheduler queue, and recycling the action.\n    // But since the VirtualTimeScheduler is used for testing, VirtualActions\n    // must be immutable so they can be inspected later.\n    const action = new VirtualAction(this.scheduler, this.work);\n    this.add(action);\n    return action.schedule(state, delay);\n  }\n\n  protected requestAsyncId(scheduler: VirtualTimeScheduler, id?: any, delay: number = 0): any {\n    this.delay = scheduler.frame + delay;\n    const {actions} = scheduler;\n    actions.push(this);\n    (actions as Array<VirtualAction<T>>).sort(VirtualAction.sortActions);\n    return true;\n  }\n\n  protected recycleAsyncId(scheduler: VirtualTimeScheduler, id?: any, delay: number = 0): any {\n    return undefined;\n  }\n\n  protected _execute(state: T, delay: number): any {\n    if (this.active === true) {\n      return super._execute(state, delay);\n    }\n  }\n\n  public static sortActions<T>(a: VirtualAction<T>, b: VirtualAction<T>) {\n    if (a.delay === b.delay) {\n      if (a.index === b.index) {\n        return 0;\n      } else if (a.index > b.index) {\n        return 1;\n      } else {\n        return -1;\n      }\n    } else if (a.delay > b.delay) {\n      return 1;\n    } else {\n      return -1;\n    }\n  }\n}\n","export function identity<T>(x: T): T {\n  return x;\n}\n","import { Observable } from '../Observable';\nimport { ObservableInput } from '../types';\n\n/**\n * Tests to see if the object is an RxJS {@link Observable}\n * @param obj the object to test\n */\nexport function isObservable<T>(obj: any): obj is Observable<T> {\n  return !!obj && (obj instanceof Observable || (typeof obj.lift === 'function' && typeof obj.subscribe === 'function'));\n}\n","export interface ArgumentOutOfRangeError extends Error {\n}\n\nexport interface ArgumentOutOfRangeErrorCtor {\n  new(): ArgumentOutOfRangeError;\n}\n\nconst ArgumentOutOfRangeErrorImpl = (() => {\n  function ArgumentOutOfRangeErrorImpl(this: any) {\n    Error.call(this);\n    this.message = 'argument out of range';\n    this.name = 'ArgumentOutOfRangeError';\n    return this;\n  }\n\n  ArgumentOutOfRangeErrorImpl.prototype = Object.create(Error.prototype);\n\n  return ArgumentOutOfRangeErrorImpl;\n})();\n\n/**\n * An error thrown when an element was queried at a certain index of an\n * Observable, but no such index or position exists in that sequence.\n *\n * @see {@link elementAt}\n * @see {@link take}\n * @see {@link takeLast}\n *\n * @class ArgumentOutOfRangeError\n */\nexport const ArgumentOutOfRangeError: ArgumentOutOfRangeErrorCtor = ArgumentOutOfRangeErrorImpl as any;","export interface EmptyError extends Error {\n}\n\nexport interface EmptyErrorCtor {\n  new(): EmptyError;\n}\n\nconst EmptyErrorImpl = (() => {\n  function EmptyErrorImpl(this: any) {\n    Error.call(this);\n    this.message = 'no elements in sequence';\n    this.name = 'EmptyError';\n    return this;\n  }\n\n  EmptyErrorImpl.prototype = Object.create(Error.prototype);\n\n  return EmptyErrorImpl;\n})();\n\n/**\n * An error thrown when an Observable or a sequence was queried but has no\n * elements.\n *\n * @see {@link first}\n * @see {@link last}\n * @see {@link single}\n *\n * @class EmptyError\n */\nexport const EmptyError: EmptyErrorCtor = EmptyErrorImpl as any;","export interface TimeoutError extends Error {\n}\n\nexport interface TimeoutErrorCtor {\n  new(): TimeoutError;\n}\n\nconst TimeoutErrorImpl = (() => {\n  function TimeoutErrorImpl(this: any) {\n    Error.call(this);\n    this.message = 'Timeout has occurred';\n    this.name = 'TimeoutError';\n    return this;\n  }\n\n  TimeoutErrorImpl.prototype = Object.create(Error.prototype);\n\n  return TimeoutErrorImpl;\n})();\n\n/**\n * An error thrown when duetime elapses.\n *\n * @see {@link operators/timeout}\n *\n * @class TimeoutError\n */\nexport const TimeoutError: TimeoutErrorCtor = TimeoutErrorImpl as any;\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { OperatorFunction } from '../types';\n\n/**\n * Applies a given `project` function to each value emitted by the source\n * Observable, and emits the resulting values as an Observable.\n *\n * <span class=\"informal\">Like [Array.prototype.map()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map),\n * it passes each source value through a transformation function to get\n * corresponding output values.</span>\n *\n * ![](map.png)\n *\n * Similar to the well known `Array.prototype.map` function, this operator\n * applies a projection to each value and emits that projection in the output\n * Observable.\n *\n * ## Example\n * Map every click to the clientX position of that click\n * ```ts\n * import { fromEvent } from 'rxjs';\n * import { map } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const positions = clicks.pipe(map(ev => ev.clientX));\n * positions.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link mapTo}\n * @see {@link pluck}\n *\n * @param {function(value: T, index: number): R} project The function to apply\n * to each `value` emitted by the source Observable. The `index` parameter is\n * the number `i` for the i-th emission that has happened since the\n * subscription, starting from the number `0`.\n * @param {any} [thisArg] An optional argument to define what `this` is in the\n * `project` function.\n * @return {Observable<R>} An Observable that emits the values from the source\n * Observable transformed by the given `project` function.\n * @method map\n * @owner Observable\n */\nexport function map<T, R>(project: (value: T, index: number) => R, thisArg?: any): OperatorFunction<T, R> {\n  return function mapOperation(source: Observable<T>): Observable<R> {\n    if (typeof project !== 'function') {\n      throw new TypeError('argument is not a function. Are you looking for `mapTo()`?');\n    }\n    return source.lift(new MapOperator(project, thisArg));\n  };\n}\n\nexport class MapOperator<T, R> implements Operator<T, R> {\n  constructor(private project: (value: T, index: number) => R, private thisArg: any) {\n  }\n\n  call(subscriber: Subscriber<R>, source: any): any {\n    return source.subscribe(new MapSubscriber(subscriber, this.project, this.thisArg));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass MapSubscriber<T, R> extends Subscriber<T> {\n  count: number = 0;\n  private thisArg: any;\n\n  constructor(destination: Subscriber<R>,\n              private project: (value: T, index: number) => R,\n              thisArg: any) {\n    super(destination);\n    this.thisArg = thisArg || this;\n  }\n\n  // NOTE: This looks unoptimized, but it's actually purposefully NOT\n  // using try/catch optimizations.\n  protected _next(value: T) {\n    let result: any;\n    try {\n      result = this.project.call(this.thisArg, value, this.count++);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n    this.destination.next(result);\n  }\n}\n","import { SchedulerLike, SchedulerAction } from '../types';\nimport { Observable } from '../Observable';\nimport { AsyncSubject } from '../AsyncSubject';\nimport { Subscriber } from '../Subscriber';\nimport { map } from '../operators/map';\nimport { canReportError } from '../util/canReportError';\nimport { isArray } from '../util/isArray';\nimport { isScheduler } from '../util/isScheduler';\n\n// tslint:disable:max-line-length\n/** @deprecated resultSelector is no longer supported, use a mapping function. */\nexport function bindCallback(callbackFunc: Function, resultSelector: Function, scheduler?: SchedulerLike): (...args: any[]) => Observable<any>;\n\nexport function bindCallback<R1, R2, R3, R4>(callbackFunc: (callback: (res1: R1, res2: R2, res3: R3, res4: R4, ...args: any[]) => any) => any, scheduler?: SchedulerLike): () => Observable<any[]>;\nexport function bindCallback<R1, R2, R3>(callbackFunc: (callback: (res1: R1, res2: R2, res3: R3) => any) => any, scheduler?: SchedulerLike): () => Observable<[R1, R2, R3]>;\nexport function bindCallback<R1, R2>(callbackFunc: (callback: (res1: R1, res2: R2) => any) => any, scheduler?: SchedulerLike): () => Observable<[R1, R2]>;\nexport function bindCallback<R1>(callbackFunc: (callback: (res1: R1) => any) => any, scheduler?: SchedulerLike): () => Observable<R1>;\nexport function bindCallback(callbackFunc: (callback: () => any) => any, scheduler?: SchedulerLike): () => Observable<void>;\n\nexport function bindCallback<A1, R1, R2, R3, R4>(callbackFunc: (arg1: A1, callback: (res1: R1, res2: R2, res3: R3, res4: R4, ...args: any[]) => any) => any, scheduler?: SchedulerLike): (arg1: A1) => Observable<any[]>;\nexport function bindCallback<A1, R1, R2, R3>(callbackFunc: (arg1: A1, callback: (res1: R1, res2: R2, res3: R3) => any) => any, scheduler?: SchedulerLike): (arg1: A1) => Observable<[R1, R2, R3]>;\nexport function bindCallback<A1, R1, R2>(callbackFunc: (arg1: A1, callback: (res1: R1, res2: R2) => any) => any, scheduler?: SchedulerLike): (arg1: A1) => Observable<[R1, R2]>;\nexport function bindCallback<A1, R1>(callbackFunc: (arg1: A1, callback: (res1: R1) => any) => any, scheduler?: SchedulerLike): (arg1: A1) => Observable<R1>;\nexport function bindCallback<A1>(callbackFunc: (arg1: A1, callback: () => any) => any, scheduler?: SchedulerLike): (arg1: A1) => Observable<void>;\n\nexport function bindCallback<A1, A2, R1, R2, R3, R4>(callbackFunc: (arg1: A1, arg2: A2, callback: (res1: R1, res2: R2, res3: R3, res4: R4, ...args: any[]) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2) => Observable<any[]>;\nexport function bindCallback<A1, A2, R1, R2, R3>(callbackFunc: (arg1: A1, arg2: A2, callback: (res1: R1, res2: R2, res3: R3) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2) => Observable<[R1, R2, R3]>;\nexport function bindCallback<A1, A2, R1, R2>(callbackFunc: (arg1: A1, arg2: A2, callback: (res1: R1, res2: R2) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2) => Observable<[R1, R2]>;\nexport function bindCallback<A1, A2, R1>(callbackFunc: (arg1: A1, arg2: A2, callback: (res1: R1) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2) => Observable<R1>;\nexport function bindCallback<A1, A2>(callbackFunc: (arg1: A1, arg2: A2, callback: () => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2) => Observable<void>;\n\nexport function bindCallback<A1, A2, A3, R1, R2, R3, R4>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, callback: (res1: R1, res2: R2, res3: R3, res4: R4, ...args: any[]) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3) => Observable<any[]>;\nexport function bindCallback<A1, A2, A3, R1, R2, R3>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, callback: (res1: R1, res2: R2, res3: R3) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3) => Observable<[R1, R2, R3]>;\nexport function bindCallback<A1, A2, A3, R1, R2>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, callback: (res1: R1, res2: R2) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3) => Observable<[R1, R2]>;\nexport function bindCallback<A1, A2, A3, R1>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, callback: (res1: R1) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3) => Observable<R1>;\nexport function bindCallback<A1, A2, A3>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, callback: () => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3) => Observable<void>;\n\nexport function bindCallback<A1, A2, A3, A4, R1, R2, R3, R4>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, callback: (res1: R1, res2: R2, res3: R3, res4: R4, ...args: any[]) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4) => Observable<any[]>;\nexport function bindCallback<A1, A2, A3, A4, R1, R2, R3>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, callback: (res1: R1, res2: R2, res3: R3) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4) => Observable<[R1, R2, R3]>;\nexport function bindCallback<A1, A2, A3, A4, R1, R2>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, callback: (res1: R1, res2: R2) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4) => Observable<[R1, R2]>;\nexport function bindCallback<A1, A2, A3, A4, R1>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, callback: (res1: R1) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4) => Observable<R1>;\nexport function bindCallback<A1, A2, A3, A4>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, callback: () => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4) => Observable<void>;\n\nexport function bindCallback<A1, A2, A3, A4, A5, R1, R2, R3, R4>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5, callback: (res1: R1, res2: R2, res3: R3, res4: R4, ...args: any[]) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5) => Observable<any[]>;\nexport function bindCallback<A1, A2, A3, A4, A5, R1, R2, R3>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5, callback: (res1: R1, res2: R2, res3: R3) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5) => Observable<[R1, R2, R3]>;\nexport function bindCallback<A1, A2, A3, A4, A5, R1, R2>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5, callback: (res1: R1, res2: R2) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5) => Observable<[R1, R2]>;\nexport function bindCallback<A1, A2, A3, A4, A5, R1>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5, callback: (res1: R1) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5) => Observable<R1>;\nexport function bindCallback<A1, A2, A3, A4, A5>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5, callback: () => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5) => Observable<void>;\n\nexport function bindCallback<A, R>(callbackFunc: (...args: Array<A | ((result: R) => any)>) => any, scheduler?: SchedulerLike): (...args: A[]) => Observable<R>;\nexport function bindCallback<A, R>(callbackFunc: (...args: Array<A | ((...results: R[]) => any)>) => any, scheduler?: SchedulerLike): (...args: A[]) => Observable<R[]>;\n\nexport function bindCallback(callbackFunc: Function, scheduler?: SchedulerLike): (...args: any[]) => Observable<any>;\n\n// tslint:enable:max-line-length\n\n/**\n * Converts a callback API to a function that returns an Observable.\n *\n * <span class=\"informal\">Give it a function `f` of type `f(x, callback)` and\n * it will return a function `g` that when called as `g(x)` will output an\n * Observable.</span>\n *\n * `bindCallback` is not an operator because its input and output are not\n * Observables. The input is a function `func` with some parameters. The\n * last parameter must be a callback function that `func` calls when it is\n * done.\n *\n * The output of `bindCallback` is a function that takes the same parameters\n * as `func`, except the last one (the callback). When the output function\n * is called with arguments it will return an Observable. If function `func`\n * calls its callback with one argument, the Observable will emit that value.\n * If on the other hand the callback is called with multiple values the resulting\n * Observable will emit an array with said values as arguments.\n *\n * It is **very important** to remember that input function `func` is not called\n * when the output function is, but rather when the Observable returned by the output\n * function is subscribed. This means if `func` makes an AJAX request, that request\n * will be made every time someone subscribes to the resulting Observable, but not before.\n *\n * The last optional parameter - `scheduler` - can be used to control when the call\n * to `func` happens after someone subscribes to Observable, as well as when results\n * passed to callback will be emitted. By default, the subscription to an Observable calls `func`\n * synchronously, but using {@link asyncScheduler} as the last parameter will defer the call to `func`,\n * just like wrapping the call in `setTimeout` with a timeout of `0` would. If you were to use the async Scheduler\n * and call `subscribe` on the output Observable, all function calls that are currently executing\n * will end before `func` is invoked.\n *\n * By default, results passed to the callback are emitted immediately after `func` invokes the callback.\n * In particular, if the callback is called synchronously, then the subscription of the resulting Observable\n * will call the `next` function synchronously as well.  If you want to defer that call,\n * you may use {@link asyncScheduler} just as before.  This means that by using `Scheduler.async` you can\n * ensure that `func` always calls its callback asynchronously, thus avoiding terrifying Zalgo.\n *\n * Note that the Observable created by the output function will always emit a single value\n * and then complete immediately. If `func` calls the callback multiple times, values from subsequent\n * calls will not appear in the stream. If you need to listen for multiple calls,\n *  you probably want to use {@link fromEvent} or {@link fromEventPattern} instead.\n *\n * If `func` depends on some context (`this` property) and is not already bound, the context of `func`\n * will be the context that the output function has at call time. In particular, if `func`\n * is called as a method of some objec and if `func` is not already bound, in order to preserve the context\n * it is recommended that the context of the output function is set to that object as well.\n *\n * If the input function calls its callback in the \"node style\" (i.e. first argument to callback is\n * optional error parameter signaling whether the call failed or not), {@link bindNodeCallback}\n * provides convenient error handling and probably is a better choice.\n * `bindCallback` will treat such functions the same as any other and error parameters\n * (whether passed or not) will always be interpreted as regular callback argument.\n *\n * ## Examples\n *\n * ### Convert jQuery's getJSON to an Observable API\n * ```ts\n * import { bindCallback } from 'rxjs';\n * import * as jQuery from 'jquery';\n *\n * // Suppose we have jQuery.getJSON('/my/url', callback)\n * const getJSONAsObservable = bindCallback(jQuery.getJSON);\n * const result = getJSONAsObservable('/my/url');\n * result.subscribe(x => console.log(x), e => console.error(e));\n * ```\n *\n * ### Receive an array of arguments passed to a callback\n * ```ts\n * import { bindCallback } from 'rxjs';\n *\n * const someFunction = (a, b, c) => {\n *   console.log(a); // 5\n *   console.log(b); // 'some string'\n *   console.log(c); // {someProperty: 'someValue'}\n * };\n *\n * const boundSomeFunction = bindCallback(someFunction);\n * boundSomeFunction().subscribe(values => {\n *   console.log(values) // [5, 'some string', {someProperty: 'someValue'}]\n * });\n * ```\n *\n * ### Compare behaviour with and without async Scheduler\n * ```ts\n * import { bindCallback } from 'rxjs';\n *\n * function iCallMyCallbackSynchronously(cb) {\n *   cb();\n * }\n *\n * const boundSyncFn = bindCallback(iCallMyCallbackSynchronously);\n * const boundAsyncFn = bindCallback(iCallMyCallbackSynchronously, null, Rx.Scheduler.async);\n *\n * boundSyncFn().subscribe(() => console.log('I was sync!'));\n * boundAsyncFn().subscribe(() => console.log('I was async!'));\n * console.log('This happened...');\n *\n * // Logs:\n * // I was sync!\n * // This happened...\n * // I was async!\n * ```\n *\n * ### Use bindCallback on an object method\n * ```ts\n * import { bindCallback } from 'rxjs';\n *\n * const boundMethod = bindCallback(someObject.methodWithCallback);\n * boundMethod.call(someObject) // make sure methodWithCallback has access to someObject\n * .subscribe(subscriber);\n * ```\n *\n * @see {@link bindNodeCallback}\n * @see {@link from}\n *\n * @param {function} func A function with a callback as the last parameter.\n * @param {SchedulerLike} [scheduler] The scheduler on which to schedule the\n * callbacks.\n * @return {function(...params: *): Observable} A function which returns the\n * Observable that delivers the same values the callback would deliver.\n * @name bindCallback\n */\nexport function bindCallback<T>(\n  callbackFunc: Function,\n  resultSelector?: Function|SchedulerLike,\n  scheduler?: SchedulerLike\n): (...args: any[]) => Observable<T> {\n  if (resultSelector) {\n    if (isScheduler(resultSelector)) {\n      scheduler = resultSelector;\n    } else {\n      // DEPRECATED PATH\n      return (...args: any[]) => bindCallback(callbackFunc, scheduler)(...args).pipe(\n        map((args) => isArray(args) ? resultSelector(...args) : resultSelector(args)),\n      );\n    }\n  }\n\n  return function (this: any, ...args: any[]): Observable<T> {\n    const context = this;\n    let subject: AsyncSubject<T>;\n    const params = {\n      context,\n      subject,\n      callbackFunc,\n      scheduler,\n    };\n    return new Observable<T>(subscriber => {\n      if (!scheduler) {\n        if (!subject) {\n          subject = new AsyncSubject<T>();\n          const handler = (...innerArgs: any[]) => {\n            subject.next(innerArgs.length <= 1 ? innerArgs[0] : innerArgs);\n            subject.complete();\n          };\n\n          try {\n            callbackFunc.apply(context, [...args, handler]);\n          } catch (err) {\n            if (canReportError(subject)) {\n              subject.error(err);\n            } else {\n              console.warn(err);\n            }\n          }\n        }\n        return subject.subscribe(subscriber);\n      } else {\n        const state: DispatchState<T> = {\n          args, subscriber, params,\n        };\n        return scheduler.schedule<DispatchState<T>>(dispatch, 0, state);\n      }\n    });\n  };\n}\n\ninterface DispatchState<T> {\n  args: any[];\n  subscriber: Subscriber<T>;\n  params: ParamsContext<T>;\n}\n\ninterface ParamsContext<T> {\n  callbackFunc: Function;\n  scheduler: SchedulerLike;\n  context: any;\n  subject: AsyncSubject<T>;\n}\n\nfunction dispatch<T>(this: SchedulerAction<DispatchState<T>>, state: DispatchState<T>) {\n  const self = this;\n  const { args, subscriber, params } = state;\n  const { callbackFunc, context, scheduler } = params;\n  let { subject } = params;\n  if (!subject) {\n    subject = params.subject = new AsyncSubject<T>();\n\n    const handler = (...innerArgs: any[]) => {\n      const value = innerArgs.length <= 1 ? innerArgs[0] : innerArgs;\n      this.add(scheduler.schedule<NextState<T>>(dispatchNext, 0, { value, subject }));\n    };\n\n    try {\n      callbackFunc.apply(context, [...args, handler]);\n    } catch (err) {\n      subject.error(err);\n    }\n  }\n\n  this.add(subject.subscribe(subscriber));\n}\n\ninterface NextState<T> {\n  subject: AsyncSubject<T>;\n  value: T;\n}\n\nfunction dispatchNext<T>(this: SchedulerAction<NextState<T>>, state: NextState<T>) {\n  const { value, subject } = state;\n  subject.next(value);\n  subject.complete();\n}\n\ninterface ErrorState<T> {\n  subject: AsyncSubject<T>;\n  err: any;\n}\n\nfunction dispatchError<T>(this: SchedulerAction<ErrorState<T>>, state: ErrorState<T>) {\n  const { err, subject } = state;\n  subject.error(err);\n}\n","import { Observable } from '../Observable';\nimport { AsyncSubject } from '../AsyncSubject';\nimport { Subscriber } from '../Subscriber';\nimport { SchedulerAction, SchedulerLike } from '../types';\nimport { map } from '../operators/map';\nimport { canReportError } from '../util/canReportError';\nimport { isScheduler } from '../util/isScheduler';\nimport { isArray } from '../util/isArray';\n\n/* tslint:disable:max-line-length */\n/** @deprecated resultSelector is deprecated, pipe to map instead */\nexport function bindNodeCallback(callbackFunc: Function, resultSelector: Function, scheduler?: SchedulerLike): (...args: any[]) => Observable<any>;\n\nexport function bindNodeCallback<R1, R2, R3, R4>(callbackFunc: (callback: (err: any, res1: R1, res2: R2, res3: R3, res4: R4, ...args: any[]) => any) => any, scheduler?: SchedulerLike): (...args: any[]) => Observable<any[]>;\nexport function bindNodeCallback<R1, R2, R3>(callbackFunc: (callback: (err: any, res1: R1, res2: R2, res3: R3) => any) => any, scheduler?: SchedulerLike): () => Observable<[R1, R2, R3]>;\nexport function bindNodeCallback<R1, R2>(callbackFunc: (callback: (err: any, res1: R1, res2: R2) => any) => any, scheduler?: SchedulerLike): () => Observable<[R1, R2]>;\nexport function bindNodeCallback<R1>(callbackFunc: (callback: (err: any, res1: R1) => any) => any, scheduler?: SchedulerLike): () => Observable<R1>;\nexport function bindNodeCallback(callbackFunc: (callback: (err: any) => any) => any, scheduler?: SchedulerLike): () => Observable<void>;\n\nexport function bindNodeCallback<A1, R1, R2, R3, R4>(callbackFunc: (arg1: A1, callback: (err: any, res1: R1, res2: R2, res3: R3, res4: R4, ...args: any[]) => any) => any, scheduler?: SchedulerLike): (...args: any[]) => Observable<any[]>;\nexport function bindNodeCallback<A1, R1, R2, R3>(callbackFunc: (arg1: A1, callback: (err: any, res1: R1, res2: R2, res3: R3) => any) => any, scheduler?: SchedulerLike): (arg1: A1) => Observable<[R1, R2, R3]>;\nexport function bindNodeCallback<A1, R1, R2>(callbackFunc: (arg1: A1, callback: (err: any, res1: R1, res2: R2) => any) => any, scheduler?: SchedulerLike): (arg1: A1) => Observable<[R1, R2]>;\nexport function bindNodeCallback<A1, R1>(callbackFunc: (arg1: A1, callback: (err: any, res1: R1) => any) => any, scheduler?: SchedulerLike): (arg1: A1) => Observable<R1>;\nexport function bindNodeCallback<A1>(callbackFunc: (arg1: A1, callback: (err: any) => any) => any, scheduler?: SchedulerLike): (arg1: A1) => Observable<void>;\n\nexport function bindNodeCallback<A1, A2, R1, R2, R3, R4>(callbackFunc: (arg1: A1, arg2: A2, callback: (err: any, res1: R1, res2: R2, res3: R3, res4: R4, ...args: any[]) => any) => any, scheduler?: SchedulerLike): (...args: any[]) => Observable<any[]>;\nexport function bindNodeCallback<A1, A2, R1, R2, R3>(callbackFunc: (arg1: A1, arg2: A2, callback: (err: any, res1: R1, res2: R2, res3: R3) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2) => Observable<[R1, R2, R3]>;\nexport function bindNodeCallback<A1, A2, R1, R2>(callbackFunc: (arg1: A1, arg2: A2, callback: (err: any, res1: R1, res2: R2) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2) => Observable<[R1, R2]>;\nexport function bindNodeCallback<A1, A2, R1>(callbackFunc: (arg1: A1, arg2: A2, callback: (err: any, res1: R1) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2) => Observable<R1>;\nexport function bindNodeCallback<A1, A2>(callbackFunc: (arg1: A1, arg2: A2, callback: (err: any) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2) => Observable<void>;\n\nexport function bindNodeCallback<A1, A2, A3, R1, R2, R3, R4>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, callback: (err: any, res1: R1, res2: R2, res3: R3, res4: R4, ...args: any[]) => any) => any, scheduler?: SchedulerLike): (...args: any[]) => Observable<any[]>;\nexport function bindNodeCallback<A1, A2, A3, R1, R2, R3>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, callback: (err: any, res1: R1, res2: R2, res3: R3) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3) => Observable<[R1, R2, R3]>;\nexport function bindNodeCallback<A1, A2, A3, R1, R2>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, callback: (err: any, res1: R1, res2: R2) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3) => Observable<[R1, R2]>;\nexport function bindNodeCallback<A1, A2, A3, R1>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, callback: (err: any, res1: R1) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3) => Observable<R1>;\nexport function bindNodeCallback<A1, A2, A3>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, callback: (err: any) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3) => Observable<void>;\n\nexport function bindNodeCallback<A1, A2, A3, A4, R1, R2, R3, R4>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, callback: (err: any, res1: R1, res2: R2, res3: R3, res4: R4, ...args: any[]) => any) => any, scheduler?: SchedulerLike): (...args: any[]) => Observable<any[]>;\nexport function bindNodeCallback<A1, A2, A3, A4, R1, R2, R3>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, callback: (err: any, res1: R1, res2: R2, res3: R3) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4) => Observable<[R1, R2, R3]>;\nexport function bindNodeCallback<A1, A2, A3, A4, R1, R2>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, callback: (err: any, res1: R1, res2: R2) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4) => Observable<[R1, R2]>;\nexport function bindNodeCallback<A1, A2, A3, A4, R1>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, callback: (err: any, res1: R1) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4) => Observable<R1>;\nexport function bindNodeCallback<A1, A2, A3, A4>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, callback: (err: any) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4) => Observable<void>;\n\nexport function bindNodeCallback<A1, A2, A3, A4, A5, R1, R2, R3, R4>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5, callback: (err: any, res1: R1, res2: R2, res3: R3, res4: R4, ...args: any[]) => any) => any, scheduler?: SchedulerLike): (...args: any[]) => Observable<any[]>;\nexport function bindNodeCallback<A1, A2, A3, A4, A5, R1, R2, R3>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5, callback: (err: any, res1: R1, res2: R2, res3: R3) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5) => Observable<[R1, R2, R3]>;\nexport function bindNodeCallback<A1, A2, A3, A4, A5, R1, R2>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5, callback: (err: any, res1: R1, res2: R2) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5) => Observable<[R1, R2]>;\nexport function bindNodeCallback<A1, A2, A3, A4, A5, R1>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5, callback: (err: any, res1: R1) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5) => Observable<R1>;\nexport function bindNodeCallback<A1, A2, A3, A4, A5>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5, callback: (err: any) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5) => Observable<void>; /* tslint:enable:max-line-length */\n\nexport function bindNodeCallback(callbackFunc: Function, scheduler?: SchedulerLike): (...args: any[]) => Observable<any[]>;\n/**\n * Converts a Node.js-style callback API to a function that returns an\n * Observable.\n *\n * <span class=\"informal\">It's just like {@link bindCallback}, but the\n * callback is expected to be of type `callback(error, result)`.</span>\n *\n * `bindNodeCallback` is not an operator because its input and output are not\n * Observables. The input is a function `func` with some parameters, but the\n * last parameter must be a callback function that `func` calls when it is\n * done. The callback function is expected to follow Node.js conventions,\n * where the first argument to the callback is an error object, signaling\n * whether call was successful. If that object is passed to callback, it means\n * something went wrong.\n *\n * The output of `bindNodeCallback` is a function that takes the same\n * parameters as `func`, except the last one (the callback). When the output\n * function is called with arguments, it will return an Observable.\n * If `func` calls its callback with error parameter present, Observable will\n * error with that value as well. If error parameter is not passed, Observable will emit\n * second parameter. If there are more parameters (third and so on),\n * Observable will emit an array with all arguments, except first error argument.\n *\n * Note that `func` will not be called at the same time output function is,\n * but rather whenever resulting Observable is subscribed. By default call to\n * `func` will happen synchronously after subscription, but that can be changed\n * with proper `scheduler` provided as optional third parameter. {@link SchedulerLike}\n * can also control when values from callback will be emitted by Observable.\n * To find out more, check out documentation for {@link bindCallback}, where\n * {@link SchedulerLike} works exactly the same.\n *\n * As in {@link bindCallback}, context (`this` property) of input function will be set to context\n * of returned function, when it is called.\n *\n * After Observable emits value, it will complete immediately. This means\n * even if `func` calls callback again, values from second and consecutive\n * calls will never appear on the stream. If you need to handle functions\n * that call callbacks multiple times, check out {@link fromEvent} or\n * {@link fromEventPattern} instead.\n *\n * Note that `bindNodeCallback` can be used in non-Node.js environments as well.\n * \"Node.js-style\" callbacks are just a convention, so if you write for\n * browsers or any other environment and API you use implements that callback style,\n * `bindNodeCallback` can be safely used on that API functions as well.\n *\n * Remember that Error object passed to callback does not have to be an instance\n * of JavaScript built-in `Error` object. In fact, it does not even have to an object.\n * Error parameter of callback function is interpreted as \"present\", when value\n * of that parameter is truthy. It could be, for example, non-zero number, non-empty\n * string or boolean `true`. In all of these cases resulting Observable would error\n * with that value. This means usually regular style callbacks will fail very often when\n * `bindNodeCallback` is used. If your Observable errors much more often then you\n * would expect, check if callback really is called in Node.js-style and, if not,\n * switch to {@link bindCallback} instead.\n *\n * Note that even if error parameter is technically present in callback, but its value\n * is falsy, it still won't appear in array emitted by Observable.\n *\n * ## Examples\n * ###  Read a file from the filesystem and get the data as an Observable\n * ```ts\n * import * as fs from 'fs';\n * const readFileAsObservable = bindNodeCallback(fs.readFile);\n * const result = readFileAsObservable('./roadNames.txt', 'utf8');\n * result.subscribe(x => console.log(x), e => console.error(e));\n * ```\n *\n * ### Use on function calling callback with multiple arguments\n * ```ts\n * someFunction((err, a, b) => {\n *   console.log(err); // null\n *   console.log(a); // 5\n *   console.log(b); // \"some string\"\n * });\n * const boundSomeFunction = bindNodeCallback(someFunction);\n * boundSomeFunction()\n * .subscribe(value => {\n *   console.log(value); // [5, \"some string\"]\n * });\n * ```\n *\n * ### Use on function calling callback in regular style\n * ```ts\n * someFunction(a => {\n *   console.log(a); // 5\n * });\n * const boundSomeFunction = bindNodeCallback(someFunction);\n * boundSomeFunction()\n * .subscribe(\n *   value => {}             // never gets called\n *   err => console.log(err) // 5\n * );\n * ```\n *\n * @see {@link bindCallback}\n * @see {@link from}\n *\n * @param {function} func Function with a Node.js-style callback as the last parameter.\n * @param {SchedulerLike} [scheduler] The scheduler on which to schedule the\n * callbacks.\n * @return {function(...params: *): Observable} A function which returns the\n * Observable that delivers the same values the Node.js callback would\n * deliver.\n * @name bindNodeCallback\n */\nexport function bindNodeCallback<T>(\n  callbackFunc: Function,\n  resultSelector: Function|SchedulerLike,\n  scheduler?: SchedulerLike\n): (...args: any[]) => Observable<T> {\n\n  if (resultSelector) {\n    if (isScheduler(resultSelector)) {\n      scheduler = resultSelector;\n    } else {\n      // DEPRECATED PATH\n      return (...args: any[]) => bindNodeCallback(callbackFunc, scheduler)(...args).pipe(\n        map(args => isArray(args) ? resultSelector(...args) : resultSelector(args))\n      );\n    }\n  }\n\n  return function(this: any, ...args: any[]): Observable<T> {\n    const params: ParamsState<T> = {\n      subject: undefined,\n      args,\n      callbackFunc,\n      scheduler,\n      context: this,\n    };\n    return new Observable<T>(subscriber => {\n      const { context } = params;\n      let { subject } = params;\n      if (!scheduler) {\n        if (!subject) {\n          subject = params.subject = new AsyncSubject<T>();\n          const handler = (...innerArgs: any[]) => {\n            const err = innerArgs.shift();\n\n            if (err) {\n              subject.error(err);\n              return;\n            }\n\n            subject.next(innerArgs.length <= 1 ? innerArgs[0] : innerArgs);\n            subject.complete();\n          };\n\n          try {\n            callbackFunc.apply(context, [...args, handler]);\n          } catch (err) {\n            if (canReportError(subject)) {\n              subject.error(err);\n            } else {\n              console.warn(err);\n            }\n          }\n        }\n        return subject.subscribe(subscriber);\n      } else {\n        return scheduler.schedule<DispatchState<T>>(dispatch, 0, { params, subscriber, context });\n      }\n    });\n  };\n}\n\ninterface DispatchState<T> {\n  subscriber: Subscriber<T>;\n  context: any;\n  params: ParamsState<T>;\n}\n\ninterface ParamsState<T> {\n  callbackFunc: Function;\n  args: any[];\n  scheduler: SchedulerLike;\n  subject: AsyncSubject<T>;\n  context: any;\n}\n\nfunction dispatch<T>(this: SchedulerAction<DispatchState<T>>, state: DispatchState<T>) {\n  const { params, subscriber, context } = state;\n  const { callbackFunc, args, scheduler } = params;\n  let subject = params.subject;\n\n  if (!subject) {\n    subject = params.subject = new AsyncSubject<T>();\n\n    const handler = (...innerArgs: any[]) => {\n      const err = innerArgs.shift();\n      if (err) {\n        this.add(scheduler.schedule<DispatchErrorArg<T>>(dispatchError, 0, { err, subject }));\n      } else {\n        const value = innerArgs.length <= 1 ? innerArgs[0] : innerArgs;\n        this.add(scheduler.schedule<DispatchNextArg<T>>(dispatchNext, 0, { value, subject }));\n      }\n    };\n\n    try {\n      callbackFunc.apply(context, [...args, handler]);\n    } catch (err) {\n      this.add(scheduler.schedule<DispatchErrorArg<T>>(dispatchError, 0, { err, subject }));\n    }\n  }\n\n  this.add(subject.subscribe(subscriber));\n}\n\ninterface DispatchNextArg<T> {\n  subject: AsyncSubject<T>;\n  value: T;\n}\n\nfunction dispatchNext<T>(arg: DispatchNextArg<T>) {\n  const { value, subject } = arg;\n  subject.next(value);\n  subject.complete();\n}\n\ninterface DispatchErrorArg<T> {\n  subject: AsyncSubject<T>;\n  err: any;\n}\n\nfunction dispatchError<T>(arg: DispatchErrorArg<T>) {\n  const { err, subject } = arg;\n  subject.error(err);\n}\n","import { Subscriber } from './Subscriber';\nimport { InnerSubscriber } from './InnerSubscriber';\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class OuterSubscriber<T, R> extends Subscriber<T> {\n  notifyNext(outerValue: T, innerValue: R,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n    this.destination.next(innerValue);\n  }\n\n  notifyError(error: any, innerSub: InnerSubscriber<T, R>): void {\n    this.destination.error(error);\n  }\n\n  notifyComplete(innerSub: InnerSubscriber<T, R>): void {\n    this.destination.complete();\n  }\n}\n","import { Subscriber } from './Subscriber';\nimport { OuterSubscriber } from './OuterSubscriber';\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class InnerSubscriber<T, R> extends Subscriber<R> {\n  private index = 0;\n\n  constructor(private parent: OuterSubscriber<T, R>, public outerValue: T, public outerIndex: number) {\n    super();\n  }\n\n  protected _next(value: R): void {\n    this.parent.notifyNext(this.outerValue, value, this.outerIndex, this.index++, this);\n  }\n\n  protected _error(error: any): void {\n    this.parent.notifyError(error, this);\n    this.unsubscribe();\n  }\n\n  protected _complete(): void {\n    this.parent.notifyComplete(this);\n    this.unsubscribe();\n  }\n}\n","import { Subscriber } from '../Subscriber';\nimport { hostReportError } from './hostReportError';\n\nexport const subscribeToPromise = <T>(promise: PromiseLike<T>) => (subscriber: Subscriber<T>) => {\n  promise.then(\n    (value) => {\n      if (!subscriber.closed) {\n        subscriber.next(value);\n        subscriber.complete();\n      }\n    },\n    (err: any) => subscriber.error(err)\n  )\n  .then(null, hostReportError);\n  return subscriber;\n};\n","export function getSymbolIterator(): symbol {\n  if (typeof Symbol !== 'function' || !Symbol.iterator) {\n    return '@@iterator' as any;\n  }\n\n  return Symbol.iterator;\n}\n\nexport const iterator = getSymbolIterator();\n\n/**\n * @deprecated use {@link iterator} instead\n */\nexport const $$iterator = iterator;\n","import { Subscriber } from '../Subscriber';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\n\nexport const subscribeToIterable = <T>(iterable: Iterable<T>) => (subscriber: Subscriber<T>) => {\n  const iterator = iterable[Symbol_iterator]();\n  do {\n    const item = iterator.next();\n    if (item.done) {\n      subscriber.complete();\n      break;\n    }\n    subscriber.next(item.value);\n    if (subscriber.closed) {\n      break;\n    }\n  } while (true);\n\n  // Finalize the iterator if it happens to be a Generator\n  if (typeof iterator.return === 'function') {\n    subscriber.add(() => {\n      if (iterator.return) {\n        iterator.return();\n      }\n    });\n  }\n\n  return subscriber;\n};\n","import { Subscriber } from '../Subscriber';\nimport { observable as Symbol_observable } from '../symbol/observable';\n\n/**\n * Subscribes to an object that implements Symbol.observable with the given\n * Subscriber.\n * @param obj An object that implements Symbol.observable\n */\nexport const subscribeToObservable = <T>(obj: any) => (subscriber: Subscriber<T>) => {\n  const obs = obj[Symbol_observable]();\n  if (typeof obs.subscribe !== 'function') {\n    // Should be caught by observable subscribe function error handling.\n    throw new TypeError('Provided object does not correctly implement Symbol.observable');\n  } else {\n    return obs.subscribe(subscriber);\n  }\n};\n","export const isArrayLike = (<T>(x: any): x is ArrayLike<T> => x && typeof x.length === 'number' && typeof x !== 'function');","/**\n * Tests to see if the object is an ES2015 (ES6) Promise\n * @see {@link https://www.ecma-international.org/ecma-262/6.0/#sec-promise-objects}\n * @param value the object to test\n */\nexport function isPromise(value: any): value is PromiseLike<any> {\n  return !!value && typeof (<any>value).subscribe !== 'function' && typeof (value as any).then === 'function';\n}\n","import { ObservableInput } from '../types';\nimport { subscribeToArray } from './subscribeToArray';\nimport { subscribeToPromise } from './subscribeToPromise';\nimport { subscribeToIterable } from './subscribeToIterable';\nimport { subscribeToObservable } from './subscribeToObservable';\nimport { isArrayLike } from './isArrayLike';\nimport { isPromise } from './isPromise';\nimport { isObject } from './isObject';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { observable as Symbol_observable } from '../symbol/observable';\nimport { Subscription } from '../Subscription';\nimport { Subscriber } from '../Subscriber';\n\nexport const subscribeTo = <T>(result: ObservableInput<T>): (subscriber: Subscriber<T>) => Subscription | void => {\n  if (!!result && typeof result[Symbol_observable] === 'function') {\n    return subscribeToObservable(result as any);\n  } else if (isArrayLike(result)) {\n    return subscribeToArray(result);\n  } else if (isPromise(result)) {\n    return subscribeToPromise(result as Promise<any>);\n  } else if (!!result && typeof result[Symbol_iterator] === 'function') {\n    return subscribeToIterable(result as any);\n  } else {\n    const value = isObject(result) ? 'an invalid object' : `'${result}'`;\n    const msg = `You provided ${value} where a stream was expected.`\n      + ' You can provide an Observable, Promise, Array, or Iterable.';\n    throw new TypeError(msg);\n  }\n};\n","import { Subscription } from '../Subscription';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { Subscriber } from '../Subscriber';\nimport { subscribeTo } from './subscribeTo';\nimport { Observable } from '../Observable';\n\nexport function subscribeToResult<T, R>(\n  outerSubscriber: OuterSubscriber<T, R>,\n  result: any,\n  outerValue?: T,\n  outerIndex?: number,\n  destination?: Subscriber<any>\n): Subscription;\nexport function subscribeToResult<T, R>(\n  outerSubscriber: OuterSubscriber<T, R>,\n  result: any,\n  outerValue?: T,\n  outerIndex?: number,\n  destination: Subscriber<any> = new InnerSubscriber(outerSubscriber, outerValue, outerIndex)\n): Subscription | void {\n  if (destination.closed) {\n    return undefined;\n  }\n  if (result instanceof Observable) {\n    return result.subscribe(destination);\n  }\n  return subscribeTo(result)(destination);\n}\n","import { Observable } from '../Observable';\nimport { ObservableInput, SchedulerLike, ObservedValueOf } from '../types';\nimport { isScheduler  } from '../util/isScheduler';\nimport { isArray  } from '../util/isArray';\nimport { Subscriber } from '../Subscriber';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { Operator } from '../Operator';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { fromArray } from './fromArray';\n\nconst NONE = {};\n\n/* tslint:disable:max-line-length */\n\n// If called with a single array, it \"auto-spreads\" the array, with result selector\n/** @deprecated resultSelector no longer supported, pipe to map instead */\nexport function combineLatest<O1 extends ObservableInput<any>, R>(sources: [O1], resultSelector: (v1: ObservedValueOf<O1>) => R, scheduler?: SchedulerLike): Observable<R>;\n/** @deprecated resultSelector no longer supported, pipe to map instead */\nexport function combineLatest<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>, R>(sources: [O1, O2], resultSelector: (v1: ObservedValueOf<O1>, v2: ObservedValueOf<O2>) => R, scheduler?: SchedulerLike): Observable<R>;\n/** @deprecated resultSelector no longer supported, pipe to map instead */\nexport function combineLatest<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>, R>(sources: [O1, O2, O3], resultSelector: (v1: ObservedValueOf<O1>, v2: ObservedValueOf<O2>, v3: ObservedValueOf<O3>) => R, scheduler?: SchedulerLike): Observable<R>;\n/** @deprecated resultSelector no longer supported, pipe to map instead */\nexport function combineLatest<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>, O4 extends ObservableInput<any>, R>(sources: [O1, O2, O3, O4], resultSelector: (v1: ObservedValueOf<O1>, v2: ObservedValueOf<O2>, v3: ObservedValueOf<O3>, v4: ObservedValueOf<O4>) => R, scheduler?: SchedulerLike): Observable<R>;\n/** @deprecated resultSelector no longer supported, pipe to map instead */\nexport function combineLatest<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>, O4 extends ObservableInput<any>, O5 extends ObservableInput<any>, R>(sources: [O1, O2, O3, O4, O5], resultSelector: (v1: ObservedValueOf<O1>, v2: ObservedValueOf<O2>, v3: ObservedValueOf<O3>, v4: ObservedValueOf<O4>, v5: ObservedValueOf<O5>) => R, scheduler?: SchedulerLike): Observable<R>;\n/** @deprecated resultSelector no longer supported, pipe to map instead */\nexport function combineLatest<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>, O4 extends ObservableInput<any>, O5 extends ObservableInput<any>, O6 extends ObservableInput<any>, R>(sources: [O1, O2, O3, O4, O5, O6], resultSelector: (v1: ObservedValueOf<O1>, v2: ObservedValueOf<O2>, v3: ObservedValueOf<O3>, v4: ObservedValueOf<O4>, v5: ObservedValueOf<O5>, v6: ObservedValueOf<O6>) => R, scheduler?: SchedulerLike): Observable<R>;\n/** @deprecated resultSelector no longer supported, pipe to map instead */\nexport function combineLatest<O extends ObservableInput<any>, R>(sources: O[], resultSelector: (...args: ObservedValueOf<O>[]) => R, scheduler?: SchedulerLike): Observable<R>;\n\n// standard call, but with a result selector\n/** @deprecated resultSelector no longer supported, pipe to map instead */\nexport function combineLatest<O1 extends ObservableInput<any>, R>(v1: O1, resultSelector: (v1: ObservedValueOf<O1>) => R, scheduler?: SchedulerLike): Observable<R>;\n/** @deprecated resultSelector no longer supported, pipe to map instead */\nexport function combineLatest<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>, R>(v1: O1, v2: O2, resultSelector: (v1: ObservedValueOf<O1>, v2: ObservedValueOf<O2>) => R, scheduler?: SchedulerLike): Observable<R>;\n/** @deprecated resultSelector no longer supported, pipe to map instead */\nexport function combineLatest<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>, R>(v1: O1, v2: O2, v3: O3, resultSelector: (v1: ObservedValueOf<O1>, v2: ObservedValueOf<O2>, v3: ObservedValueOf<O3>) => R, scheduler?: SchedulerLike): Observable<R>;\n/** @deprecated resultSelector no longer supported, pipe to map instead */\nexport function combineLatest<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>, O4 extends ObservableInput<any>, R>(v1: O1, v2: O2, v3: O3, v4: O4, resultSelector: (v1: ObservedValueOf<O1>, v2: ObservedValueOf<O2>, v3: ObservedValueOf<O3>, v4: ObservedValueOf<O4>) => R, scheduler?: SchedulerLike): Observable<R>;\n/** @deprecated resultSelector no longer supported, pipe to map instead */\nexport function combineLatest<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>, O4 extends ObservableInput<any>, O5 extends ObservableInput<any>, R>(v1: O1, v2: O2, v3: O3, v4: O4, v5: O5, resultSelector: (v1: ObservedValueOf<O1>, v2: ObservedValueOf<O2>, v3: ObservedValueOf<O3>, v4: ObservedValueOf<O4>, v5: ObservedValueOf<O5>) => R, scheduler?: SchedulerLike): Observable<R>;\n/** @deprecated resultSelector no longer supported, pipe to map instead */\nexport function combineLatest<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>, O4 extends ObservableInput<any>, O5 extends ObservableInput<any>, O6 extends ObservableInput<any>, R>(v1: O1, v2: O2, v3: O3, v4: O4, v5: O5, v6: O6, resultSelector: (v1: ObservedValueOf<O1>, v2: ObservedValueOf<O2>, v3: ObservedValueOf<O3>, v4: ObservedValueOf<O4>, v5: ObservedValueOf<O5>, v6: ObservedValueOf<O6>) => R, scheduler?: SchedulerLike): Observable<R>;\n\n// With a scheduler (deprecated)\n/** @deprecated Passing a scheduler here is deprecated, use {@link subscribeOn} and/or {@link observeOn} instead */\nexport function combineLatest<O1 extends ObservableInput<any>>(sources: [O1], scheduler: SchedulerLike): Observable<[ObservedValueOf<O1>]>;\n/** @deprecated Passing a scheduler here is deprecated, use {@link subscribeOn} and/or {@link observeOn} instead */\nexport function combineLatest<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>>(sources: [O1, O2], scheduler: SchedulerLike): Observable<[ObservedValueOf<O1>, ObservedValueOf<O2>]>;\n/** @deprecated Passing a scheduler here is deprecated, use {@link subscribeOn} and/or {@link observeOn} instead */\nexport function combineLatest<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>>(sources: [O1, O2, O3], scheduler: SchedulerLike): Observable<[ObservedValueOf<O1>, ObservedValueOf<O2>, ObservedValueOf<O3>]>;\n/** @deprecated Passing a scheduler here is deprecated, use {@link subscribeOn} and/or {@link observeOn} instead */\nexport function combineLatest<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>, O4 extends ObservableInput<any>>(sources: [O1, O2, O3, O4], scheduler: SchedulerLike): Observable<[ObservedValueOf<O1>, ObservedValueOf<O2>, ObservedValueOf<O3>, ObservedValueOf<O4>]>;\n/** @deprecated Passing a scheduler here is deprecated, use {@link subscribeOn} and/or {@link observeOn} instead */\nexport function combineLatest<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>, O4 extends ObservableInput<any>, O5 extends ObservableInput<any>>(sources: [O1, O2, O3, O4, O5], scheduler: SchedulerLike): Observable<[ObservedValueOf<O1>, ObservedValueOf<O2>, ObservedValueOf<O3>, ObservedValueOf<O4>, ObservedValueOf<O5>]>;\n/** @deprecated Passing a scheduler here is deprecated, use {@link subscribeOn} and/or {@link observeOn} instead */\nexport function combineLatest<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>, O4 extends ObservableInput<any>, O5 extends ObservableInput<any>, O6 extends ObservableInput<any>>(sources: [O1, O2, O3, O4, O5, O6], scheduler: SchedulerLike): Observable<[ObservedValueOf<O1>, ObservedValueOf<O2>, ObservedValueOf<O3>, ObservedValueOf<O4>, ObservedValueOf<O5>, ObservedValueOf<O6>]>;\n/** @deprecated Passing a scheduler here is deprecated, use {@link subscribeOn} and/or {@link observeOn} instead */\nexport function combineLatest<O extends ObservableInput<any>>(sources: O[], scheduler: SchedulerLike): Observable<ObservedValueOf<O>[]>;\n\n// Best case\nexport function combineLatest<O1 extends ObservableInput<any>>(sources: [O1]): Observable<[ObservedValueOf<O1>]>;\nexport function combineLatest<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>>(sources: [O1, O2]): Observable<[ObservedValueOf<O1>, ObservedValueOf<O2>]>;\nexport function combineLatest<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>>(sources: [O1, O2, O3]): Observable<[ObservedValueOf<O1>, ObservedValueOf<O2>, ObservedValueOf<O3>]>;\nexport function combineLatest<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>, O4 extends ObservableInput<any>>(sources: [O1, O2, O3, O4]): Observable<[ObservedValueOf<O1>, ObservedValueOf<O2>, ObservedValueOf<O3>, ObservedValueOf<O4>]>;\nexport function combineLatest<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>, O4 extends ObservableInput<any>, O5 extends ObservableInput<any>>(sources: [O1, O2, O3, O4, O5]): Observable<[ObservedValueOf<O1>, ObservedValueOf<O2>, ObservedValueOf<O3>, ObservedValueOf<O4>, ObservedValueOf<O5>]>;\nexport function combineLatest<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>, O4 extends ObservableInput<any>, O5 extends ObservableInput<any>, O6 extends ObservableInput<any>>(sources: [O1, O2, O3, O4, O5, O6]): Observable<[ObservedValueOf<O1>, ObservedValueOf<O2>, ObservedValueOf<O3>, ObservedValueOf<O4>, ObservedValueOf<O5>, ObservedValueOf<O6>]>;\nexport function combineLatest<O extends ObservableInput<any>>(sources: O[]): Observable<ObservedValueOf<O>[]>;\n\n// Standard calls\n/** @deprecated Pass arguments in a single array instead `combineLatest([a, b, c])` */\nexport function combineLatest<O1 extends ObservableInput<any>>(v1: O1, scheduler?: SchedulerLike): Observable<[ObservedValueOf<O1>]>;\n/** @deprecated Pass arguments in a single array instead `combineLatest([a, b, c])` */\nexport function combineLatest<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>>(v1: O1, v2: O2, scheduler?: SchedulerLike): Observable<[ObservedValueOf<O1>, ObservedValueOf<O2>]>;\n/** @deprecated Pass arguments in a single array instead `combineLatest([a, b, c])` */\nexport function combineLatest<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>>(v1: O1, v2: O2, v3: O3, scheduler?: SchedulerLike): Observable<[ObservedValueOf<O1>, ObservedValueOf<O2>, ObservedValueOf<O3>]>;\n/** @deprecated Pass arguments in a single array instead `combineLatest([a, b, c])` */\nexport function combineLatest<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>, O4 extends ObservableInput<any>>(v1: O1, v2: O2, v3: O3, v4: O4, scheduler?: SchedulerLike): Observable<[ObservedValueOf<O1>, ObservedValueOf<O2>, ObservedValueOf<O3>, ObservedValueOf<O4>]>;\n/** @deprecated Pass arguments in a single array instead `combineLatest([a, b, c])` */\nexport function combineLatest<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>, O4 extends ObservableInput<any>, O5 extends ObservableInput<any>>(v1: O1, v2: O2, v3: O3, v4: O4, v5: O5, scheduler?: SchedulerLike): Observable<[ObservedValueOf<O1>, ObservedValueOf<O2>, ObservedValueOf<O3>, ObservedValueOf<O4>, ObservedValueOf<O5>]>;\n/** @deprecated Pass arguments in a single array instead `combineLatest([a, b, c])` */\nexport function combineLatest<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>, O4 extends ObservableInput<any>, O5 extends ObservableInput<any>, O6 extends ObservableInput<any>>(v1: O1, v2: O2, v3: O3, v4: O4, v5: O5, v6: O6, scheduler?: SchedulerLike): Observable<[ObservedValueOf<O1>, ObservedValueOf<O2>, ObservedValueOf<O3>, ObservedValueOf<O4>, ObservedValueOf<O5>, ObservedValueOf<O6>]>;\n\n/** @deprecated Pass arguments in a single array instead `combineLatest([a, b, c])` */\nexport function combineLatest<O extends ObservableInput<any>>(...observables: O[]): Observable<any[]>;\n\n/** @deprecated Pass arguments in a single array instead `combineLatest([a, b, c])` */\nexport function combineLatest<O extends ObservableInput<any>, R>(...observables: Array<ObservableInput<any> | ((...values: Array<any>) => R)>): Observable<R>;\n\n/** @deprecated resultSelector no longer supported, pipe to map instead */\nexport function combineLatest<O extends ObservableInput<any>, R>(array: O[], resultSelector: (...values: ObservedValueOf<O>[]) => R, scheduler?: SchedulerLike): Observable<R>;\n\n/** @deprecated Passing a scheduler here is deprecated, use {@link subscribeOn} and/or {@link observeOn} instead */\nexport function combineLatest<O extends ObservableInput<any>>(...observables: Array<O | SchedulerLike>): Observable<any[]>;\n\n/** @deprecated Passing a scheduler here is deprecated, use {@link subscribeOn} and/or {@link observeOn} instead */\nexport function combineLatest<O extends ObservableInput<any>, R>(...observables: Array<O | ((...values: ObservedValueOf<O>[]) => R) | SchedulerLike>): Observable<R>;\n\n/** @deprecated Passing a scheduler here is deprecated, use {@link subscribeOn} and/or {@link observeOn} instead */\nexport function combineLatest<R>(...observables: Array<ObservableInput<any> | ((...values: Array<any>) => R) | SchedulerLike>): Observable<R>;\n/* tslint:enable:max-line-length */\n\n/**\n * Combines multiple Observables to create an Observable whose values are\n * calculated from the latest values of each of its input Observables.\n *\n * <span class=\"informal\">Whenever any input Observable emits a value, it\n * computes a formula using the latest values from all the inputs, then emits\n * the output of that formula.</span>\n *\n * ![](combineLatest.png)\n *\n * `combineLatest` combines the values from all the Observables passed as\n * arguments. This is done by subscribing to each Observable in order and,\n * whenever any Observable emits, collecting an array of the most recent\n * values from each Observable. So if you pass `n` Observables to operator,\n * returned Observable will always emit an array of `n` values, in order\n * corresponding to order of passed Observables (value from the first Observable\n * on the first place and so on).\n *\n * Static version of `combineLatest` accepts either an array of Observables\n * or each Observable can be put directly as an argument. Note that array of\n * Observables is good choice, if you don't know beforehand how many Observables\n * you will combine. Passing empty array will result in Observable that\n * completes immediately.\n *\n * To ensure output array has always the same length, `combineLatest` will\n * actually wait for all input Observables to emit at least once,\n * before it starts emitting results. This means if some Observable emits\n * values before other Observables started emitting, all these values but the last\n * will be lost. On the other hand, if some Observable does not emit a value but\n * completes, resulting Observable will complete at the same moment without\n * emitting anything, since it will be now impossible to include value from\n * completed Observable in resulting array. Also, if some input Observable does\n * not emit any value and never completes, `combineLatest` will also never emit\n * and never complete, since, again, it will wait for all streams to emit some\n * value.\n *\n * If at least one Observable was passed to `combineLatest` and all passed Observables\n * emitted something, resulting Observable will complete when all combined\n * streams complete. So even if some Observable completes, result of\n * `combineLatest` will still emit values when other Observables do. In case\n * of completed Observable, its value from now on will always be the last\n * emitted value. On the other hand, if any Observable errors, `combineLatest`\n * will error immediately as well, and all other Observables will be unsubscribed.\n *\n * `combineLatest` accepts as optional parameter `project` function, which takes\n * as arguments all values that would normally be emitted by resulting Observable.\n * `project` can return any kind of value, which will be then emitted by Observable\n * instead of default array. Note that `project` does not take as argument that array\n * of values, but values themselves. That means default `project` can be imagined\n * as function that takes all its arguments and puts them into an array.\n *\n * ## Examples\n * ### Combine two timer Observables\n * ```ts\n * import { combineLatest, timer } from 'rxjs';\n *\n * const firstTimer = timer(0, 1000); // emit 0, 1, 2... after every second, starting from now\n * const secondTimer = timer(500, 1000); // emit 0, 1, 2... after every second, starting 0,5s from now\n * const combinedTimers = combineLatest(firstTimer, secondTimer);\n * combinedTimers.subscribe(value => console.log(value));\n * // Logs\n * // [0, 0] after 0.5s\n * // [1, 0] after 1s\n * // [1, 1] after 1.5s\n * // [2, 1] after 2s\n * ```\n *\n * ### Combine an array of Observables\n * ```ts\n * import { combineLatest, of } from 'rxjs';\n * import { delay, starWith } from 'rxjs/operators';\n *\n * const observables = [1, 5, 10].map(\n *   n => of(n).pipe(\n *     delay(n * 1000),   // emit 0 and then emit n after n seconds\n *     startWith(0),\n *   )\n * );\n * const combined = combineLatest(observables);\n * combined.subscribe(value => console.log(value));\n * // Logs\n * // [0, 0, 0] immediately\n * // [1, 0, 0] after 1s\n * // [1, 5, 0] after 5s\n * // [1, 5, 10] after 10s\n * ```\n *\n *\n * ### Use project function to dynamically calculate the Body-Mass Index\n * ```ts\n * import { combineLatest, of } from 'rxjs';\n * import { map } from 'rxjs/operators';\n *\n * const weight = of(70, 72, 76, 79, 75);\n * const height = of(1.76, 1.77, 1.78);\n * const bmi = combineLatest(weight, height).pipe(\n *   map(([w, h]) => w / (h * h)),\n * );\n * bmi.subscribe(x => console.log('BMI is ' + x));\n *\n * // With output to console:\n * // BMI is 24.212293388429753\n * // BMI is 23.93948099205209\n * // BMI is 23.671253629592222\n * ```\n *\n * @see {@link combineAll}\n * @see {@link merge}\n * @see {@link withLatestFrom}\n *\n * @param {ObservableInput} observable1 An input Observable to combine with other Observables.\n * @param {ObservableInput} observable2 An input Observable to combine with other Observables.\n * More than one input Observables may be given as arguments\n * or an array of Observables may be given as the first argument.\n * @param {function} [project] An optional function to project the values from\n * the combined latest values into a new value on the output Observable.\n * @param {SchedulerLike} [scheduler=null] The {@link SchedulerLike} to use for subscribing to\n * each input Observable.\n * @return {Observable} An Observable of projected values from the most recent\n * values from each input Observable, or an array of the most recent values from\n * each input Observable.\n */\nexport function combineLatest<O extends ObservableInput<any>, R>(\n  ...observables: (O | ((...values: ObservedValueOf<O>[]) => R) | SchedulerLike)[]\n): Observable<R> {\n  let resultSelector: (...values: Array<any>) => R =  null;\n  let scheduler: SchedulerLike = null;\n\n  if (isScheduler(observables[observables.length - 1])) {\n    scheduler = observables.pop() as SchedulerLike;\n  }\n\n  if (typeof observables[observables.length - 1] === 'function') {\n    resultSelector = observables.pop() as (...values: Array<any>) => R;\n  }\n\n  // if the first and only other argument besides the resultSelector is an array\n  // assume it's been called with `combineLatest([obs1, obs2, obs3], resultSelector)`\n  if (observables.length === 1 && isArray(observables[0])) {\n    observables = observables[0] as any;\n  }\n\n  return fromArray(observables, scheduler).lift(new CombineLatestOperator<ObservedValueOf<O>, R>(resultSelector));\n}\n\nexport class CombineLatestOperator<T, R> implements Operator<T, R> {\n  constructor(private resultSelector?: (...values: Array<any>) => R) {\n  }\n\n  call(subscriber: Subscriber<R>, source: any): any {\n    return source.subscribe(new CombineLatestSubscriber(subscriber, this.resultSelector));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class CombineLatestSubscriber<T, R> extends OuterSubscriber<T, R> {\n  private active: number = 0;\n  private values: any[] = [];\n  private observables: any[] = [];\n  private toRespond: number;\n\n  constructor(destination: Subscriber<R>, private resultSelector?: (...values: Array<any>) => R) {\n    super(destination);\n  }\n\n  protected _next(observable: any) {\n    this.values.push(NONE);\n    this.observables.push(observable);\n  }\n\n  protected _complete() {\n    const observables = this.observables;\n    const len = observables.length;\n    if (len === 0) {\n      this.destination.complete();\n    } else {\n      this.active = len;\n      this.toRespond = len;\n      for (let i = 0; i < len; i++) {\n        const observable = observables[i];\n        this.add(subscribeToResult(this, observable, observable, i));\n      }\n    }\n  }\n\n  notifyComplete(unused: Subscriber<R>): void {\n    if ((this.active -= 1) === 0) {\n      this.destination.complete();\n    }\n  }\n\n  notifyNext(outerValue: T, innerValue: R,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n    const values = this.values;\n    const oldVal = values[outerIndex];\n    const toRespond = !this.toRespond\n      ? 0\n      : oldVal === NONE ? --this.toRespond : this.toRespond;\n    values[outerIndex] = innerValue;\n\n    if (toRespond === 0) {\n      if (this.resultSelector) {\n        this._tryResultSelector(values);\n      } else {\n        this.destination.next(values.slice());\n      }\n    }\n  }\n\n  private _tryResultSelector(values: any[]) {\n    let result: any;\n    try {\n      result = this.resultSelector.apply(this, values);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n    this.destination.next(result);\n  }\n}\n","import { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nimport { observable as Symbol_observable } from '../symbol/observable';\nimport { InteropObservable, SchedulerLike, Subscribable } from '../types';\n\nexport function scheduleObservable<T>(input: InteropObservable<T>, scheduler: SchedulerLike) {\n  return new Observable<T>(subscriber => {\n    const sub = new Subscription();\n    sub.add(scheduler.schedule(() => {\n      const observable: Subscribable<T> = input[Symbol_observable]();\n      sub.add(observable.subscribe({\n        next(value) { sub.add(scheduler.schedule(() => subscriber.next(value))); },\n        error(err) { sub.add(scheduler.schedule(() => subscriber.error(err))); },\n        complete() { sub.add(scheduler.schedule(() => subscriber.complete())); },\n      }));\n    }));\n    return sub;\n  });\n}\n","import { Observable } from '../Observable';\nimport { SchedulerLike } from '../types';\nimport { Subscription } from '../Subscription';\n\nexport function schedulePromise<T>(input: PromiseLike<T>, scheduler: SchedulerLike) {\n  return new Observable<T>(subscriber => {\n    const sub = new Subscription();\n    sub.add(scheduler.schedule(() => input.then(\n      value => {\n        sub.add(scheduler.schedule(() => {\n          subscriber.next(value);\n          sub.add(scheduler.schedule(() => subscriber.complete()));\n        }));\n      },\n      err => {\n        sub.add(scheduler.schedule(() => subscriber.error(err)));\n      }\n    )));\n    return sub;\n  });\n}\n","import { Observable } from '../Observable';\nimport { SchedulerLike } from '../types';\nimport { Subscription } from '../Subscription';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\n\nexport function scheduleIterable<T>(input: Iterable<T>, scheduler: SchedulerLike) {\n  if (!input) {\n    throw new Error('Iterable cannot be null');\n  }\n  return new Observable<T>(subscriber => {\n    const sub = new Subscription();\n    let iterator: Iterator<T>;\n    sub.add(() => {\n      // Finalize generators\n      if (iterator && typeof iterator.return === 'function') {\n        iterator.return();\n      }\n    });\n    sub.add(scheduler.schedule(() => {\n      iterator = input[Symbol_iterator]();\n      sub.add(scheduler.schedule(function () {\n        if (subscriber.closed) {\n          return;\n        }\n        let value: T;\n        let done: boolean;\n        try {\n          const result = iterator.next();\n          value = result.value;\n          done = result.done;\n        } catch (err) {\n          subscriber.error(err);\n          return;\n        }\n        if (done) {\n          subscriber.complete();\n        } else {\n          subscriber.next(value);\n          this.schedule();\n        }\n      }));\n    }));\n    return sub;\n  });\n}\n","import { InteropObservable } from '../types';\nimport { observable as Symbol_observable } from '../symbol/observable';\n\n/** Identifies an input as being Observable (but not necessary an Rx Observable) */\nexport function isInteropObservable(input: any): input is InteropObservable<any> {\n  return input && typeof input[Symbol_observable] === 'function';\n}\n","import { iterator as Symbol_iterator } from '../symbol/iterator';\n\n/** Identifies an input as being an Iterable */\nexport function isIterable(input: any): input is Iterable<any> {\n  return input && typeof input[Symbol_iterator] === 'function';\n}\n","import { scheduleObservable } from './scheduleObservable';\nimport { schedulePromise } from './schedulePromise';\nimport { scheduleArray } from './scheduleArray';\nimport { scheduleIterable } from './scheduleIterable';\nimport { ObservableInput, SchedulerLike, Observable } from 'rxjs';\nimport { isInteropObservable } from '../util/isInteropObservable';\nimport { isPromise } from '../util/isPromise';\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isIterable } from '../util/isIterable';\n\n/**\n * Converts from a common {@link ObservableInput} type to an observable where subscription and emissions\n * are scheduled on the provided scheduler.\n *\n * @see from\n * @see of\n *\n * @param input The observable, array, promise, iterable, etc you would like to schedule\n * @param scheduler The scheduler to use to schedule the subscription and emissions from\n * the returned observable.\n */\nexport function scheduled<T>(input: ObservableInput<T>, scheduler: SchedulerLike): Observable<T> {\n  if (input != null) {\n    if (isInteropObservable(input)) {\n      return scheduleObservable(input, scheduler);\n    } else if (isPromise(input)) {\n      return schedulePromise(input, scheduler);\n    } else if (isArrayLike(input)) {\n      return scheduleArray(input, scheduler);\n    }  else if (isIterable(input) || typeof input === 'string') {\n      return scheduleIterable(input, scheduler);\n    }\n  }\n\n  throw new TypeError((input !== null && typeof input || input) + ' is not observable');\n}\n","import { Observable } from '../Observable';\nimport { subscribeTo } from '../util/subscribeTo';\nimport { ObservableInput, SchedulerLike, ObservedValueOf } from '../types';\nimport { scheduled } from '../scheduled/scheduled';\n\nexport function from<O extends ObservableInput<any>>(input: O): Observable<ObservedValueOf<O>>;\n/** @deprecated use {@link scheduled} instead. */\nexport function from<O extends ObservableInput<any>>(input: O, scheduler: SchedulerLike): Observable<ObservedValueOf<O>>;\n\n/**\n * Creates an Observable from an Array, an array-like object, a Promise, an iterable object, or an Observable-like object.\n *\n * <span class=\"informal\">Converts almost anything to an Observable.</span>\n *\n * ![](from.png)\n *\n * `from` converts various other objects and data types into Observables. It also converts a Promise, an array-like, or an\n * <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#iterable\" target=\"_blank\">iterable</a>\n * object into an Observable that emits the items in that promise, array, or iterable. A String, in this context, is treated\n * as an array of characters. Observable-like objects (contains a function named with the ES2015 Symbol for Observable) can also be\n * converted through this operator.\n *\n * ## Examples\n *\n * ### Converts an array to an Observable\n *\n * ```ts\n * import { from } from 'rxjs';\n *\n * const array = [10, 20, 30];\n * const result = from(array);\n *\n * result.subscribe(x => console.log(x));\n *\n * // Logs:\n * // 10\n * // 20\n * // 30\n * ```\n *\n * ---\n *\n * ### Convert an infinite iterable (from a generator) to an Observable\n *\n * ```ts\n * import { from } from 'rxjs';\n * import { take } from 'rxjs/operators';\n *\n * function* generateDoubles(seed) {\n *    let i = seed;\n *    while (true) {\n *      yield i;\n *      i = 2 * i; // double it\n *    }\n * }\n *\n * const iterator = generateDoubles(3);\n * const result = from(iterator).pipe(take(10));\n *\n * result.subscribe(x => console.log(x));\n *\n * // Logs:\n * // 3\n * // 6\n * // 12\n * // 24\n * // 48\n * // 96\n * // 192\n * // 384\n * // 768\n * // 1536\n * ```\n *\n * ---\n *\n * ### With async scheduler\n *\n * ```ts\n * import { from, asyncScheduler } from 'rxjs';\n *\n * console.log('start');\n *\n * const array = [10, 20, 30];\n * const result = from(array, asyncScheduler);\n *\n * result.subscribe(x => console.log(x));\n *\n * console.log('end');\n *\n * // Logs:\n * // start\n * // end\n * // 10\n * // 20\n * // 30\n * ```\n *\n * @see {@link fromEvent}\n * @see {@link fromEventPattern}\n *\n * @param {ObservableInput<T>} A subscription object, a Promise, an Observable-like,\n * an Array, an iterable, or an array-like object to be converted.\n * @param {SchedulerLike} An optional {@link SchedulerLike} on which to schedule the emission of values.\n * @return {Observable<T>}\n * @name from\n * @owner Observable\n */\nexport function from<T>(input: ObservableInput<T>, scheduler?: SchedulerLike): Observable<T> {\n  if (!scheduler) {\n    if (input instanceof Observable) {\n      return input;\n    }\n    return new Observable<T>(subscribeTo(input));\n  } else {\n    return scheduled(input, scheduler);\n  }\n}\n","import { Observable } from '../Observable';\nimport { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { ObservableInput, OperatorFunction, ObservedValueOf } from '../types';\nimport { map } from './map';\nimport { from } from '../observable/from';\n\n/* tslint:disable:max-line-length */\nexport function mergeMap<T, O extends ObservableInput<any>>(project: (value: T, index: number) => O, concurrent?: number): OperatorFunction<T, ObservedValueOf<O>>;\n/** @deprecated resultSelector no longer supported, use inner map instead */\nexport function mergeMap<T, O extends ObservableInput<any>>(project: (value: T, index: number) => O, resultSelector: undefined, concurrent?: number): OperatorFunction<T, ObservedValueOf<O>>;\n/** @deprecated resultSelector no longer supported, use inner map instead */\nexport function mergeMap<T, R, O extends ObservableInput<any>>(project: (value: T, index: number) => O, resultSelector: (outerValue: T, innerValue: ObservedValueOf<O>, outerIndex: number, innerIndex: number) => R, concurrent?: number): OperatorFunction<T, R>;\n/* tslint:enable:max-line-length */\n\n/**\n * Projects each source value to an Observable which is merged in the output\n * Observable.\n *\n * <span class=\"informal\">Maps each value to an Observable, then flattens all of\n * these inner Observables using {@link mergeAll}.</span>\n *\n * ![](mergeMap.png)\n *\n * Returns an Observable that emits items based on applying a function that you\n * supply to each item emitted by the source Observable, where that function\n * returns an Observable, and then merging those resulting Observables and\n * emitting the results of this merger.\n *\n * ## Example\n * Map and flatten each letter to an Observable ticking every 1 second\n * ```ts\n * import { of, interval } from 'rxjs';\n * import { mergeMap, map } from 'rxjs/operators';\n *\n * const letters = of('a', 'b', 'c');\n * const result = letters.pipe(\n *   mergeMap(x => interval(1000).pipe(map(i => x+i))),\n * );\n * result.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // a0\n * // b0\n * // c0\n * // a1\n * // b1\n * // c1\n * // continues to list a,b,c with respective ascending integers\n * ```\n *\n * @see {@link concatMap}\n * @see {@link exhaustMap}\n * @see {@link merge}\n * @see {@link mergeAll}\n * @see {@link mergeMapTo}\n * @see {@link mergeScan}\n * @see {@link switchMap}\n *\n * @param {function(value: T, ?index: number): ObservableInput} project A function\n * that, when applied to an item emitted by the source Observable, returns an\n * Observable.\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input\n * Observables being subscribed to concurrently.\n * @return {Observable} An Observable that emits the result of applying the\n * projection function (and the optional deprecated `resultSelector`) to each item\n * emitted by the source Observable and merging the results of the Observables\n * obtained from this transformation.\n * @method mergeMap\n * @owner Observable\n */\nexport function mergeMap<T, R, O extends ObservableInput<any>>(\n  project: (value: T, index: number) => O,\n  resultSelector?: ((outerValue: T, innerValue: ObservedValueOf<O>, outerIndex: number, innerIndex: number) => R) | number,\n  concurrent: number = Number.POSITIVE_INFINITY\n): OperatorFunction<T, ObservedValueOf<O>|R> {\n  if (typeof resultSelector === 'function') {\n    // DEPRECATED PATH\n    return (source: Observable<T>) => source.pipe(\n      mergeMap((a, i) => from(project(a, i)).pipe(\n        map((b: any, ii: number) => resultSelector(a, b, i, ii)),\n      ), concurrent)\n    );\n  } else if (typeof resultSelector === 'number') {\n    concurrent = resultSelector;\n  }\n  return (source: Observable<T>) => source.lift(new MergeMapOperator(project, concurrent));\n}\n\nexport class MergeMapOperator<T, R> implements Operator<T, R> {\n  constructor(private project: (value: T, index: number) => ObservableInput<R>,\n              private concurrent: number = Number.POSITIVE_INFINITY) {\n  }\n\n  call(observer: Subscriber<R>, source: any): any {\n    return source.subscribe(new MergeMapSubscriber(\n      observer, this.project, this.concurrent\n    ));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class MergeMapSubscriber<T, R> extends OuterSubscriber<T, R> {\n  private hasCompleted: boolean = false;\n  private buffer: T[] = [];\n  private active: number = 0;\n  protected index: number = 0;\n\n  constructor(destination: Subscriber<R>,\n              private project: (value: T, index: number) => ObservableInput<R>,\n              private concurrent: number = Number.POSITIVE_INFINITY) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    if (this.active < this.concurrent) {\n      this._tryNext(value);\n    } else {\n      this.buffer.push(value);\n    }\n  }\n\n  protected _tryNext(value: T) {\n    let result: ObservableInput<R>;\n    const index = this.index++;\n    try {\n      result = this.project(value, index);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n    this.active++;\n    this._innerSub(result, value, index);\n  }\n\n  private _innerSub(ish: ObservableInput<R>, value: T, index: number): void {\n    const innerSubscriber = new InnerSubscriber(this, undefined, undefined);\n    const destination = this.destination as Subscription;\n    destination.add(innerSubscriber);\n    subscribeToResult<T, R>(this, ish, value, index, innerSubscriber);\n  }\n\n  protected _complete(): void {\n    this.hasCompleted = true;\n    if (this.active === 0 && this.buffer.length === 0) {\n      this.destination.complete();\n    }\n    this.unsubscribe();\n  }\n\n  notifyNext(outerValue: T, innerValue: R,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n    this.destination.next(innerValue);\n  }\n\n  notifyComplete(innerSub: Subscription): void {\n    const buffer = this.buffer;\n    this.remove(innerSub);\n    this.active--;\n    if (buffer.length > 0) {\n      this._next(buffer.shift());\n    } else if (this.active === 0 && this.hasCompleted) {\n      this.destination.complete();\n    }\n  }\n}\n","\nimport { mergeMap } from './mergeMap';\nimport { identity } from '../util/identity';\nimport { OperatorFunction, ObservableInput } from '../types';\n\n/**\n * Converts a higher-order Observable into a first-order Observable which\n * concurrently delivers all values that are emitted on the inner Observables.\n *\n * <span class=\"informal\">Flattens an Observable-of-Observables.</span>\n *\n * ![](mergeAll.png)\n *\n * `mergeAll` subscribes to an Observable that emits Observables, also known as\n * a higher-order Observable. Each time it observes one of these emitted inner\n * Observables, it subscribes to that and delivers all the values from the\n * inner Observable on the output Observable. The output Observable only\n * completes once all inner Observables have completed. Any error delivered by\n * a inner Observable will be immediately emitted on the output Observable.\n *\n * ## Examples\n * Spawn a new interval Observable for each click event, and blend their outputs as one Observable\n * ```ts\n * import { fromEvent, interval } from 'rxjs';\n * import { map, mergeAll } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const higherOrder = clicks.pipe(map((ev) => interval(1000)));\n * const firstOrder = higherOrder.pipe(mergeAll());\n * firstOrder.subscribe(x => console.log(x));\n * ```\n *\n * Count from 0 to 9 every second for each click, but only allow 2 concurrent timers\n * ```ts\n * import { fromEvent, interval } from 'rxjs';\n * import { take, map, mergeAll } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const higherOrder = clicks.pipe(\n *   map((ev) => interval(1000).pipe(take(10))),\n * );\n * const firstOrder = higherOrder.pipe(mergeAll(2));\n * firstOrder.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link combineAll}\n * @see {@link concatAll}\n * @see {@link exhaust}\n * @see {@link merge}\n * @see {@link mergeMap}\n * @see {@link mergeMapTo}\n * @see {@link mergeScan}\n * @see {@link switchAll}\n * @see {@link switchMap}\n * @see {@link zipAll}\n *\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of inner\n * Observables being subscribed to concurrently.\n * @return {Observable} An Observable that emits values coming from all the\n * inner Observables emitted by the source Observable.\n * @method mergeAll\n * @owner Observable\n */\nexport function mergeAll<T>(concurrent: number = Number.POSITIVE_INFINITY): OperatorFunction<ObservableInput<T>, T> {\n  return mergeMap(identity, concurrent);\n}\n","\nimport { mergeAll } from './mergeAll';\nimport { OperatorFunction, ObservableInput } from '../types';\n\nexport function concatAll<T>(): OperatorFunction<ObservableInput<T>, T>;\nexport function concatAll<R>(): OperatorFunction<any, R>;\n\n/**\n * Converts a higher-order Observable into a first-order Observable by\n * concatenating the inner Observables in order.\n *\n * <span class=\"informal\">Flattens an Observable-of-Observables by putting one\n * inner Observable after the other.</span>\n *\n * ![](concatAll.png)\n *\n * Joins every Observable emitted by the source (a higher-order Observable), in\n * a serial fashion. It subscribes to each inner Observable only after the\n * previous inner Observable has completed, and merges all of their values into\n * the returned observable.\n *\n * __Warning:__ If the source Observable emits Observables quickly and\n * endlessly, and the inner Observables it emits generally complete slower than\n * the source emits, you can run into memory issues as the incoming Observables\n * collect in an unbounded buffer.\n *\n * Note: `concatAll` is equivalent to `mergeAll` with concurrency parameter set\n * to `1`.\n *\n * ## Example\n *\n * For each click event, tick every second from 0 to 3, with no concurrency\n * ```ts\n * import { fromEvent, interval } from 'rxjs';\n * import { map, take, concatAll } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const higherOrder = clicks.pipe(\n *   map(ev => interval(1000).pipe(take(4))),\n * );\n * const firstOrder = higherOrder.pipe(concatAll());\n * firstOrder.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // (results are not concurrent)\n * // For every click on the \"document\" it will emit values 0 to 3 spaced\n * // on a 1000ms interval\n * // one click = 1000ms-> 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3\n * ```\n *\n * @see {@link combineAll}\n * @see {@link concat}\n * @see {@link concatMap}\n * @see {@link concatMapTo}\n * @see {@link exhaust}\n * @see {@link mergeAll}\n * @see {@link switchAll}\n * @see {@link switchMap}\n * @see {@link zipAll}\n *\n * @return {Observable} An Observable emitting values from all the inner\n * Observables concatenated.\n * @method concatAll\n * @owner Observable\n */\nexport function concatAll<T>(): OperatorFunction<ObservableInput<T>, T> {\n  return mergeAll<T>(1);\n}\n","import { Observable } from '../Observable';\nimport { ObservableInput, SchedulerLike, ObservedValueOf } from '../types';\nimport { isScheduler } from '../util/isScheduler';\nimport { of } from './of';\nimport { from } from './from';\nimport { concatAll } from '../operators/concatAll';\n\n/* tslint:disable:max-line-length */\n/** @deprecated Use {@link scheduled} and {@link concatAll} (e.g. `scheduled([o1, o2, o3], scheduler).pipe(concatAll())`) */\nexport function concat<O1 extends ObservableInput<any>>(v1: O1, scheduler: SchedulerLike): Observable<ObservedValueOf<O1>>;\n/** @deprecated Use {@link scheduled} and {@link concatAll} (e.g. `scheduled([o1, o2, o3], scheduler).pipe(concatAll())`) */\nexport function concat<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>>(v1: O1, v2: O2, scheduler: SchedulerLike): Observable<ObservedValueOf<O1> | ObservedValueOf<O2>>;\n/** @deprecated Use {@link scheduled} and {@link concatAll} (e.g. `scheduled([o1, o2, o3], scheduler).pipe(concatAll())`) */\nexport function concat<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>>(v1: O1, v2: O2, v3: O3, scheduler: SchedulerLike): Observable<ObservedValueOf<O1> | ObservedValueOf<O2> | ObservedValueOf<O3>>;\n/** @deprecated Use {@link scheduled} and {@link concatAll} (e.g. `scheduled([o1, o2, o3], scheduler).pipe(concatAll())`) */\nexport function concat<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>, O4 extends ObservableInput<any>>(v1: O1, v2: O2, v3: O3, v4: O4, scheduler: SchedulerLike): Observable<ObservedValueOf<O1> | ObservedValueOf<O2> | ObservedValueOf<O3> | ObservedValueOf<O4>>;\n/** @deprecated Use {@link scheduled} and {@link concatAll} (e.g. `scheduled([o1, o2, o3], scheduler).pipe(concatAll())`) */\nexport function concat<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>, O4 extends ObservableInput<any>, O5 extends ObservableInput<any>>(v1: O1, v2: O2, v3: O3, v4: O4, v5: O5, scheduler: SchedulerLike): Observable<ObservedValueOf<O1> | ObservedValueOf<O2> | ObservedValueOf<O3> | ObservedValueOf<O4> | ObservedValueOf<O5>>;\n/** @deprecated Use {@link scheduled} and {@link concatAll} (e.g. `scheduled([o1, o2, o3], scheduler).pipe(concatAll())`) */\nexport function concat<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>, O4 extends ObservableInput<any>, O5 extends ObservableInput<any>, O6 extends ObservableInput<any>>(v1: O1, v2: O2, v3: O3, v4: O4, v5: O5, v6: O6, scheduler: SchedulerLike): Observable<ObservedValueOf<O1> | ObservedValueOf<O2> | ObservedValueOf<O3> | ObservedValueOf<O4> | ObservedValueOf<O5> | ObservedValueOf<O6>>;\n\nexport function concat<O1 extends ObservableInput<any>>(v1: O1): Observable<ObservedValueOf<O1>>;\nexport function concat<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>>(v1: O1, v2: O2): Observable<ObservedValueOf<O1> | ObservedValueOf<O2>>;\nexport function concat<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>>(v1: O1, v2: O2, v3: O3): Observable<ObservedValueOf<O1> | ObservedValueOf<O2> | ObservedValueOf<O3>>;\nexport function concat<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>, O4 extends ObservableInput<any>>(v1: O1, v2: O2, v3: O3, v4: O4): Observable<ObservedValueOf<O1> | ObservedValueOf<O2> | ObservedValueOf<O3> | ObservedValueOf<O4>>;\nexport function concat<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>, O4 extends ObservableInput<any>, O5 extends ObservableInput<any>>(v1: O1, v2: O2, v3: O3, v4: O4, v5: O5): Observable<ObservedValueOf<O1> | ObservedValueOf<O2> | ObservedValueOf<O3> | ObservedValueOf<O4> | ObservedValueOf<O5>>;\nexport function concat<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>, O4 extends ObservableInput<any>, O5 extends ObservableInput<any>, O6 extends ObservableInput<any>>(v1: O1, v2: O2, v3: O3, v4: O4, v5: O5, v6: O6): Observable<ObservedValueOf<O1> | ObservedValueOf<O2> | ObservedValueOf<O3> | ObservedValueOf<O4> | ObservedValueOf<O5> | ObservedValueOf<O6>>;\nexport function concat<O extends ObservableInput<any>>(...observables: O[]): Observable<ObservedValueOf<O>>;\n/** @deprecated Use {@link scheduled} and {@link concatAll} (e.g. `scheduled([o1, o2, o3], scheduler).pipe(concatAll())`) */\nexport function concat<O extends ObservableInput<any>>(...observables: (O | SchedulerLike)[]): Observable<ObservedValueOf<O>>;\nexport function concat<R>(...observables: ObservableInput<any>[]): Observable<R>;\n/** @deprecated Use {@link scheduled} and {@link concatAll} (e.g. `scheduled([o1, o2, o3], scheduler).pipe(concatAll())`) */\nexport function concat<R>(...observables: (ObservableInput<any> | SchedulerLike)[]): Observable<R>;\n/* tslint:enable:max-line-length */\n/**\n * Creates an output Observable which sequentially emits all values from given\n * Observable and then moves on to the next.\n *\n * <span class=\"informal\">Concatenates multiple Observables together by\n * sequentially emitting their values, one Observable after the other.</span>\n *\n * ![](concat.png)\n *\n * `concat` joins multiple Observables together, by subscribing to them one at a time and\n * merging their results into the output Observable. You can pass either an array of\n * Observables, or put them directly as arguments. Passing an empty array will result\n * in Observable that completes immediately.\n *\n * `concat` will subscribe to first input Observable and emit all its values, without\n * changing or affecting them in any way. When that Observable completes, it will\n * subscribe to then next Observable passed and, again, emit its values. This will be\n * repeated, until the operator runs out of Observables. When last input Observable completes,\n * `concat` will complete as well. At any given moment only one Observable passed to operator\n * emits values. If you would like to emit values from passed Observables concurrently, check out\n * {@link merge} instead, especially with optional `concurrent` parameter. As a matter of fact,\n * `concat` is an equivalent of `merge` operator with `concurrent` parameter set to `1`.\n *\n * Note that if some input Observable never completes, `concat` will also never complete\n * and Observables following the one that did not complete will never be subscribed. On the other\n * hand, if some Observable simply completes immediately after it is subscribed, it will be\n * invisible for `concat`, which will just move on to the next Observable.\n *\n * If any Observable in chain errors, instead of passing control to the next Observable,\n * `concat` will error immediately as well. Observables that would be subscribed after\n * the one that emitted error, never will.\n *\n * If you pass to `concat` the same Observable many times, its stream of values\n * will be \"replayed\" on every subscription, which means you can repeat given Observable\n * as many times as you like. If passing the same Observable to `concat` 1000 times becomes tedious,\n * you can always use {@link repeat}.\n *\n * ## Examples\n * ### Concatenate a timer counting from 0 to 3 with a synchronous sequence from 1 to 10\n * ```ts\n * import { concat, interval, range } from 'rxjs';\n * import { take } from 'rxjs/operators';\n *\n * const timer = interval(1000).pipe(take(4));\n * const sequence = range(1, 10);\n * const result = concat(timer, sequence);\n * result.subscribe(x => console.log(x));\n *\n * // results in:\n * // 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3 -immediate-> 1 ... 10\n * ```\n *\n * ### Concatenate 3 Observables\n * ```ts\n * import { concat, interval } from 'rxjs';\n * import { take } from 'rxjs/operators';\n *\n * const timer1 = interval(1000).pipe(take(10));\n * const timer2 = interval(2000).pipe(take(6));\n * const timer3 = interval(500).pipe(take(10));\n *\n * const result = concat(timer1, timer2, timer3);\n * result.subscribe(x => console.log(x));\n *\n * // results in the following:\n * // (Prints to console sequentially)\n * // -1000ms-> 0 -1000ms-> 1 -1000ms-> ... 9\n * // -2000ms-> 0 -2000ms-> 1 -2000ms-> ... 5\n * // -500ms-> 0 -500ms-> 1 -500ms-> ... 9\n * ```\n *\n * ### Concatenate the same Observable to repeat it\n * ```ts\n * import { concat, interval } from 'rxjs';\n * import { take } from 'rxjs/operators';\n *\n * const timer = interval(1000).pipe(take(2));\n *\n * concat(timer, timer) // concatenating the same Observable!\n * .subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('...and it is done!')\n * );\n *\n * // Logs:\n * // 0 after 1s\n * // 1 after 2s\n * // 0 after 3s\n * // 1 after 4s\n * // \"...and it is done!\" also after 4s\n * ```\n *\n * @see {@link concatAll}\n * @see {@link concatMap}\n * @see {@link concatMapTo}\n *\n * @param {ObservableInput} input1 An input Observable to concatenate with others.\n * @param {ObservableInput} input2 An input Observable to concatenate with others.\n * More than one input Observables may be given as argument.\n * @param {SchedulerLike} [scheduler=null] An optional {@link SchedulerLike} to schedule each\n * Observable subscription on.\n * @return {Observable} All values of each passed Observable merged into a\n * single Observable, in order, in serial fashion.\n * @static true\n * @name concat\n * @owner Observable\n */\nexport function concat<O extends ObservableInput<any>, R>(...observables: Array<O | SchedulerLike>): Observable<ObservedValueOf<O> | R> {\n  return concatAll<R>()(of(...observables));\n}\n","import { Observable } from '../Observable';\nimport { SubscribableOrPromise, ObservedValueOf, ObservableInput } from '../types';\nimport { from } from './from'; // lol\nimport { empty } from './empty';\n\n/**\n * Creates an Observable that, on subscribe, calls an Observable factory to\n * make an Observable for each new Observer.\n *\n * <span class=\"informal\">Creates the Observable lazily, that is, only when it\n * is subscribed.\n * </span>\n *\n * ![](defer.png)\n *\n * `defer` allows you to create the Observable only when the Observer\n * subscribes, and create a fresh Observable for each Observer. It waits until\n * an Observer subscribes to it, and then it generates an Observable,\n * typically with an Observable factory function. It does this afresh for each\n * subscriber, so although each subscriber may think it is subscribing to the\n * same Observable, in fact each subscriber gets its own individual\n * Observable.\n *\n * ## Example\n * ### Subscribe to either an Observable of clicks or an Observable of interval, at random\n * ```ts\n * import { defer, fromEvent, interval } from 'rxjs';\n *\n * const clicksOrInterval = defer(function () {\n *   return Math.random() > 0.5\n *     ? fromEvent(document, 'click')\n *     : interval(1000);\n * });\n * clicksOrInterval.subscribe(x => console.log(x));\n *\n * // Results in the following behavior:\n * // If the result of Math.random() is greater than 0.5 it will listen\n * // for clicks anywhere on the \"document\"; when document is clicked it\n * // will log a MouseEvent object to the console. If the result is less\n * // than 0.5 it will emit ascending numbers, one every second(1000ms).\n * ```\n *\n * @see {@link Observable}\n *\n * @param {function(): SubscribableOrPromise} observableFactory The Observable\n * factory function to invoke for each Observer that subscribes to the output\n * Observable. May also return a Promise, which will be converted on the fly\n * to an Observable.\n * @return {Observable} An Observable whose Observers' subscriptions trigger\n * an invocation of the given Observable factory function.\n * @static true\n * @name defer\n * @owner Observable\n */\nexport function defer<R extends ObservableInput<any> | void>(observableFactory: () => R): Observable<ObservedValueOf<R>> {\n  return new Observable<ObservedValueOf<R>>(subscriber => {\n    let input: R | void;\n    try {\n      input = observableFactory();\n    } catch (err) {\n      subscriber.error(err);\n      return undefined;\n    }\n    const source = input ? from(input as ObservableInput<ObservedValueOf<R>>) : empty();\n    return source.subscribe(subscriber);\n  });\n}\n","import { Observable } from '../Observable';\nimport { ObservableInput, ObservedValuesFromArray, ObservedValueOf, SubscribableOrPromise } from '../types';\nimport { isArray } from '../util/isArray';\nimport { map } from '../operators/map';\nimport { isObject } from '../util/isObject';\nimport { isObservable } from '../util/isObservable';\nimport { from } from './from';\n\n/* tslint:disable:max-line-length */\n\n// forkJoin(a$, b$, c$)\n/** @deprecated Use the version that takes an array of Observables instead */\nexport function forkJoin<T>(v1: SubscribableOrPromise<T>): Observable<[T]>;\n/** @deprecated Use the version that takes an array of Observables instead */\nexport function forkJoin<T, T2>(v1: ObservableInput<T>, v2: ObservableInput<T2>): Observable<[T, T2]>;\n/** @deprecated Use the version that takes an array of Observables instead */\nexport function forkJoin<T, T2, T3>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>): Observable<[T, T2, T3]>;\n/** @deprecated Use the version that takes an array of Observables instead */\nexport function forkJoin<T, T2, T3, T4>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>): Observable<[T, T2, T3, T4]>;\n/** @deprecated Use the version that takes an array of Observables instead */\nexport function forkJoin<T, T2, T3, T4, T5>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>): Observable<[T, T2, T3, T4, T5]>;\n/** @deprecated Use the version that takes an array of Observables instead */\nexport function forkJoin<T, T2, T3, T4, T5, T6>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>): Observable<[T, T2, T3, T4, T5, T6]>;\n\n// forkJoin([a$, b$, c$]);\n// TODO(benlesh): Uncomment for TS 3.0\n// export function forkJoin(sources: []): Observable<never>;\nexport function forkJoin<A>(sources: [ObservableInput<A>]): Observable<[A]>;\nexport function forkJoin<A, B>(sources: [ObservableInput<A>, ObservableInput<B>]): Observable<[A, B]>;\nexport function forkJoin<A, B, C>(sources: [ObservableInput<A>, ObservableInput<B>, ObservableInput<C>]): Observable<[A, B, C]>;\nexport function forkJoin<A, B, C, D>(sources: [ObservableInput<A>, ObservableInput<B>, ObservableInput<C>, ObservableInput<D>]): Observable<[A, B, C, D]>;\nexport function forkJoin<A, B, C, D, E>(sources: [ObservableInput<A>, ObservableInput<B>, ObservableInput<C>, ObservableInput<D>, ObservableInput<E>]): Observable<[A, B, C, D, E]>;\nexport function forkJoin<A, B, C, D, E, F>(sources: [ObservableInput<A>, ObservableInput<B>, ObservableInput<C>, ObservableInput<D>, ObservableInput<E>, ObservableInput<F>]): Observable<[A, B, C, D, E, F]>;\nexport function forkJoin<A extends ObservableInput<any>[]>(sources: A): Observable<ObservedValuesFromArray<A>[]>;\n\n// forkJoin({})\nexport function forkJoin(sourcesObject: {}): Observable<never>;\nexport function forkJoin<T, K extends keyof T>(sourcesObject: T): Observable<{ [K in keyof T]: ObservedValueOf<T[K]> }>;\n\n/** @deprecated resultSelector is deprecated, pipe to map instead */\nexport function forkJoin(...args: Array<ObservableInput<any>|Function>): Observable<any>;\n/** @deprecated Use the version that takes an array of Observables instead */\nexport function forkJoin<T>(...sources: ObservableInput<T>[]): Observable<T[]>;\n/* tslint:enable:max-line-length */\n\n/**\n * Accepts an `Array` of {@link ObservableInput} or a dictionary `Object` of {@link ObservableInput} and returns\n * an {@link Observable} that emits either an array of values in the exact same order as the passed array,\n * or a dictionary of values in the same shape as the passed dictionary.\n *\n * <span class=\"informal\">Wait for Observables to complete and then combine last values they emitted.</span>\n *\n * ![](forkJoin.png)\n *\n * `forkJoin` is an operator that takes any number of input observables which can be passed either as an array\n * or a dictionary of input observables. If no input observables are provided, resulting stream will complete\n * immediately.\n *\n * `forkJoin` will wait for all passed observables to complete and then it will emit an array or an object with last\n * values from corresponding observables.\n *\n * If you pass an array of `n` observables to the operator, resulting\n * array will have `n` values, where first value is the last thing emitted by the first observable,\n * second value is the last thing emitted by the second observable and so on.\n *\n * If you pass a dictionary of observables to the operator, resulting\n * objects will have the same keys as the dictionary passed, with their last values they've emitted\n * located at the corresponding key.\n *\n * That means `forkJoin` will not emit more than once and it will complete after that. If you need to emit combined\n * values not only at the end of lifecycle of passed observables, but also throughout it, try out {@link combineLatest}\n * or {@link zip} instead.\n *\n * In order for resulting array to have the same length as the number of input observables, whenever any of\n * that observables completes without emitting any value, `forkJoin` will complete at that moment as well\n * and it will not emit anything either, even if it already has some last values from other observables.\n * Conversely, if there is an observable that never completes, `forkJoin` will never complete as well,\n * unless at any point some other observable completes without emitting value, which brings us back to\n * the previous case. Overall, in order for `forkJoin` to emit a value, all observables passed as arguments\n * have to emit something at least once and complete.\n *\n * If any input observable errors at some point, `forkJoin` will error as well and all other observables\n * will be immediately unsubscribed.\n *\n * Optionally `forkJoin` accepts project function, that will be called with values which normally\n * would land in emitted array. Whatever is returned by project function, will appear in output\n * observable instead. This means that default project can be thought of as a function that takes\n * all its arguments and puts them into an array. Note that project function will be called only\n * when output observable is supposed to emit a result.\n *\n * ## Examples\n *\n * ### Use forkJoin with a dictionary of observable inputs\n * ```ts\n * import { forkJoin, of, timer } from 'rxjs';\n *\n * const observable = forkJoin({\n *   foo: of(1, 2, 3, 4),\n *   bar: Promise.resolve(8),\n *   baz: timer(4000),\n * });\n * observable.subscribe({\n *  next: value => console.log(value),\n *  complete: () => console.log('This is how it ends!'),\n * });\n *\n * // Logs:\n * // { foo: 4, bar: 8, baz: 0 } after 4 seconds\n * // \"This is how it ends!\" immediately after\n * ```\n *\n * ### Use forkJoin with an array of observable inputs\n * ```ts\n * import { forkJoin, of } from 'rxjs';\n *\n * const observable = forkJoin([\n *   of(1, 2, 3, 4),\n *   Promise.resolve(8),\n *   timer(4000),\n * ]);\n * observable.subscribe({\n *  next: value => console.log(value),\n *  complete: () => console.log('This is how it ends!'),\n * });\n *\n * // Logs:\n * // [4, 8, 0] after 4 seconds\n * // \"This is how it ends!\" immediately after\n * ```\n *\n * @see {@link combineLatest}\n * @see {@link zip}\n *\n * @param {...ObservableInput} sources Any number of Observables provided either as an array or as an arguments\n * passed directly to the operator.\n * @param {function} [project] Function that takes values emitted by input Observables and returns value\n * that will appear in resulting Observable instead of default array.\n * @return {Observable} Observable emitting either an array of last values emitted by passed Observables\n * or value from project function.\n */\nexport function forkJoin(\n  ...sources: any[]\n): Observable<any> {\n  if (sources.length === 1) {\n    const first = sources[0];\n    if (isArray(first)) {\n      return forkJoinInternal(first, null);\n    }\n    // TODO(benlesh): isObservable check will not be necessary when deprecated path is removed.\n    if (isObject(first) && Object.getPrototypeOf(first) === Object.prototype) {\n      const keys = Object.keys(first);\n      return forkJoinInternal(keys.map(key => first[key]), keys);\n    }\n  }\n\n  // DEPRECATED PATHS BELOW HERE\n  if (typeof sources[sources.length - 1] === 'function') {\n    const resultSelector = sources.pop() as Function;\n    sources = (sources.length === 1 && isArray(sources[0])) ? sources[0] : sources;\n    return forkJoinInternal(sources, null).pipe(\n      map((args: any[]) => resultSelector(...args))\n    );\n  }\n\n  return forkJoinInternal(sources, null);\n}\n\nfunction forkJoinInternal(sources: ObservableInput<any>[], keys: string[] | null): Observable<any> {\n  return new Observable(subscriber => {\n    const len = sources.length;\n    if (len === 0) {\n      subscriber.complete();\n      return;\n    }\n    const values = new Array(len);\n    let completed = 0;\n    let emitted = 0;\n    for (let i = 0; i < len; i++) {\n      const source = from(sources[i]);\n      let hasValue = false;\n      subscriber.add(source.subscribe({\n        next: value => {\n          if (!hasValue) {\n            hasValue = true;\n            emitted++;\n          }\n          values[i] = value;\n        },\n        error: err => subscriber.error(err),\n        complete: () => {\n          completed++;\n          if (completed === len || !hasValue) {\n            if (emitted === len) {\n              subscriber.next(keys ?\n                keys.reduce((result, key, i) => (result[key] = values[i], result), {}) :\n                values);\n            }\n            subscriber.complete();\n          }\n        }\n      }));\n    }\n  });\n}\n","import { Observable } from '../Observable';\nimport { isArray } from '../util/isArray';\nimport { isFunction } from '../util/isFunction';\nimport { Subscriber } from '../Subscriber';\nimport { map } from '../operators/map';\n\nconst toString: Function = (() => Object.prototype.toString)();\n\nexport interface NodeStyleEventEmitter {\n  addListener: (eventName: string | symbol, handler: NodeEventHandler) => this;\n  removeListener: (eventName: string | symbol, handler: NodeEventHandler) => this;\n}\n\nexport type NodeEventHandler = (...args: any[]) => void;\n\n// For APIs that implement `addListener` and `removeListener` methods that may\n// not use the same arguments or return EventEmitter values\n// such as React Native\nexport interface NodeCompatibleEventEmitter {\n  addListener: (eventName: string, handler: NodeEventHandler) => void | {};\n  removeListener: (eventName: string, handler: NodeEventHandler) => void | {};\n}\n\nexport interface JQueryStyleEventEmitter {\n  on: (eventName: string, handler: Function) => void;\n  off: (eventName: string, handler: Function) => void;\n}\n\nexport interface HasEventTargetAddRemove<E> {\n  addEventListener(type: string, listener: ((evt: E) => void) | null, options?: boolean | AddEventListenerOptions): void;\n  removeEventListener(type: string, listener?: ((evt: E) => void) | null, options?: EventListenerOptions | boolean): void;\n}\n\nexport type EventTargetLike<T> = HasEventTargetAddRemove<T> | NodeStyleEventEmitter | NodeCompatibleEventEmitter | JQueryStyleEventEmitter;\n\nexport type FromEventTarget<T> = EventTargetLike<T> | ArrayLike<EventTargetLike<T>>;\n\nexport interface EventListenerOptions {\n  capture?: boolean;\n  passive?: boolean;\n  once?: boolean;\n}\n\nexport interface AddEventListenerOptions extends EventListenerOptions {\n  once?: boolean;\n  passive?: boolean;\n}\n\n/* tslint:disable:max-line-length */\nexport function fromEvent<T>(target: FromEventTarget<T>, eventName: string): Observable<T>;\n/** @deprecated resultSelector no longer supported, pipe to map instead */\nexport function fromEvent<T>(target: FromEventTarget<T>, eventName: string, resultSelector: (...args: any[]) => T): Observable<T>;\nexport function fromEvent<T>(target: FromEventTarget<T>, eventName: string, options: EventListenerOptions): Observable<T>;\n/** @deprecated resultSelector no longer supported, pipe to map instead */\nexport function fromEvent<T>(target: FromEventTarget<T>, eventName: string, options: EventListenerOptions, resultSelector: (...args: any[]) => T): Observable<T>;\n/* tslint:enable:max-line-length */\n\n/**\n * Creates an Observable that emits events of a specific type coming from the\n * given event target.\n *\n * <span class=\"informal\">Creates an Observable from DOM events, or Node.js\n * EventEmitter events or others.</span>\n *\n * ![](fromEvent.png)\n *\n * `fromEvent` accepts as a first argument event target, which is an object with methods\n * for registering event handler functions. As a second argument it takes string that indicates\n * type of event we want to listen for. `fromEvent` supports selected types of event targets,\n * which are described in detail below. If your event target does not match any of the ones listed,\n * you should use {@link fromEventPattern}, which can be used on arbitrary APIs.\n * When it comes to APIs supported by `fromEvent`, their methods for adding and removing event\n * handler functions have different names, but they all accept a string describing event type\n * and function itself, which will be called whenever said event happens.\n *\n * Every time resulting Observable is subscribed, event handler function will be registered\n * to event target on given event type. When that event fires, value\n * passed as a first argument to registered function will be emitted by output Observable.\n * When Observable is unsubscribed, function will be unregistered from event target.\n *\n * Note that if event target calls registered function with more than one argument, second\n * and following arguments will not appear in resulting stream. In order to get access to them,\n * you can pass to `fromEvent` optional project function, which will be called with all arguments\n * passed to event handler. Output Observable will then emit value returned by project function,\n * instead of the usual value.\n *\n * Remember that event targets listed below are checked via duck typing. It means that\n * no matter what kind of object you have and no matter what environment you work in,\n * you can safely use `fromEvent` on that object if it exposes described methods (provided\n * of course they behave as was described above). So for example if Node.js library exposes\n * event target which has the same method names as DOM EventTarget, `fromEvent` is still\n * a good choice.\n *\n * If the API you use is more callback then event handler oriented (subscribed\n * callback function fires only once and thus there is no need to manually\n * unregister it), you should use {@link bindCallback} or {@link bindNodeCallback}\n * instead.\n *\n * `fromEvent` supports following types of event targets:\n *\n * **DOM EventTarget**\n *\n * This is an object with `addEventListener` and `removeEventListener` methods.\n *\n * In the browser, `addEventListener` accepts - apart from event type string and event\n * handler function arguments - optional third parameter, which is either an object or boolean,\n * both used for additional configuration how and when passed function will be called. When\n * `fromEvent` is used with event target of that type, you can provide this values\n * as third parameter as well.\n *\n * **Node.js EventEmitter**\n *\n * An object with `addListener` and `removeListener` methods.\n *\n * **JQuery-style event target**\n *\n * An object with `on` and `off` methods\n *\n * **DOM NodeList**\n *\n * List of DOM Nodes, returned for example by `document.querySelectorAll` or `Node.childNodes`.\n *\n * Although this collection is not event target in itself, `fromEvent` will iterate over all Nodes\n * it contains and install event handler function in every of them. When returned Observable\n * is unsubscribed, function will be removed from all Nodes.\n *\n * **DOM HtmlCollection**\n *\n * Just as in case of NodeList it is a collection of DOM nodes. Here as well event handler function is\n * installed and removed in each of elements.\n *\n *\n * ## Examples\n * ### Emits clicks happening on the DOM document\n * ```ts\n * import { fromEvent } from 'rxjs';\n *\n * const clicks = fromEvent(document, 'click');\n * clicks.subscribe(x => console.log(x));\n *\n * // Results in:\n * // MouseEvent object logged to console every time a click\n * // occurs on the document.\n * ```\n *\n * ### Use addEventListener with capture option\n * ```ts\n * import { fromEvent } from 'rxjs';\n *\n * const clicksInDocument = fromEvent(document, 'click', true); // note optional configuration parameter\n *                                                              // which will be passed to addEventListener\n * const clicksInDiv = fromEvent(someDivInDocument, 'click');\n *\n * clicksInDocument.subscribe(() => console.log('document'));\n * clicksInDiv.subscribe(() => console.log('div'));\n *\n * // By default events bubble UP in DOM tree, so normally\n * // when we would click on div in document\n * // \"div\" would be logged first and then \"document\".\n * // Since we specified optional `capture` option, document\n * // will catch event when it goes DOWN DOM tree, so console\n * // will log \"document\" and then \"div\".\n * ```\n *\n * @see {@link bindCallback}\n * @see {@link bindNodeCallback}\n * @see {@link fromEventPattern}\n *\n * @param {FromEventTarget<T>} target The DOM EventTarget, Node.js\n * EventEmitter, JQuery-like event target, NodeList or HTMLCollection to attach the event handler to.\n * @param {string} eventName The event name of interest, being emitted by the\n * `target`.\n * @param {EventListenerOptions} [options] Options to pass through to addEventListener\n * @return {Observable<T>}\n * @name fromEvent\n */\nexport function fromEvent<T>(\n  target: FromEventTarget<T>,\n  eventName: string,\n  options?: EventListenerOptions | ((...args: any[]) => T),\n  resultSelector?: ((...args: any[]) => T)\n): Observable<T> {\n\n  if (isFunction(options)) {\n    // DEPRECATED PATH\n    resultSelector = options;\n    options = undefined;\n  }\n  if (resultSelector) {\n    // DEPRECATED PATH\n    return fromEvent<T>(target, eventName, <EventListenerOptions | undefined>options).pipe(\n      map(args => isArray(args) ? resultSelector(...args) : resultSelector(args))\n    );\n  }\n\n  return new Observable<T>(subscriber => {\n    function handler(e: T) {\n      if (arguments.length > 1) {\n        subscriber.next(Array.prototype.slice.call(arguments));\n      } else {\n        subscriber.next(e);\n      }\n    }\n    setupSubscription(target, eventName, handler, subscriber, options as EventListenerOptions);\n  });\n}\n\nfunction setupSubscription<T>(sourceObj: FromEventTarget<T>, eventName: string,\n                              handler: (...args: any[]) => void, subscriber: Subscriber<T>,\n                              options?: EventListenerOptions) {\n  let unsubscribe: () => void;\n  if (isEventTarget(sourceObj)) {\n    const source = sourceObj;\n    sourceObj.addEventListener(eventName, handler, options);\n    unsubscribe = () => source.removeEventListener(eventName, handler, options);\n  } else if (isJQueryStyleEventEmitter(sourceObj)) {\n    const source = sourceObj;\n    sourceObj.on(eventName, handler);\n    unsubscribe = () => source.off(eventName, handler);\n  } else if (isNodeStyleEventEmitter(sourceObj)) {\n    const source = sourceObj;\n    sourceObj.addListener(eventName, handler as NodeEventHandler);\n    unsubscribe = () => source.removeListener(eventName, handler as NodeEventHandler);\n  } else if (sourceObj && (sourceObj as any).length) {\n    for (let i = 0, len = (sourceObj as any).length; i < len; i++) {\n      setupSubscription(sourceObj[i], eventName, handler, subscriber, options);\n    }\n  } else {\n    throw new TypeError('Invalid event target');\n  }\n\n  subscriber.add(unsubscribe);\n}\n\nfunction isNodeStyleEventEmitter(sourceObj: any): sourceObj is NodeStyleEventEmitter {\n  return sourceObj && typeof sourceObj.addListener === 'function' && typeof sourceObj.removeListener === 'function';\n}\n\nfunction isJQueryStyleEventEmitter(sourceObj: any): sourceObj is JQueryStyleEventEmitter {\n  return sourceObj && typeof sourceObj.on === 'function' && typeof sourceObj.off === 'function';\n}\n\nfunction isEventTarget(sourceObj: any): sourceObj is HasEventTargetAddRemove<any> {\n  return sourceObj && typeof sourceObj.addEventListener === 'function' && typeof sourceObj.removeEventListener === 'function';\n}\n","import { Observable } from '../Observable';\nimport { isArray } from '../util/isArray';\nimport { isFunction } from '../util/isFunction';\nimport { NodeEventHandler } from './fromEvent';\nimport { map } from '../operators/map';\n\n/* tslint:disable:max-line-length */\nexport function fromEventPattern<T>(addHandler: (handler: NodeEventHandler) => any, removeHandler?: (handler: NodeEventHandler, signal?: any) => void): Observable<T>;\n/** @deprecated resultSelector no longer supported, pipe to map instead */\nexport function fromEventPattern<T>(addHandler: (handler: NodeEventHandler) => any, removeHandler?: (handler: NodeEventHandler, signal?: any) => void, resultSelector?: (...args: any[]) => T): Observable<T>;\n/* tslint:enable:max-line-length */\n\n/**\n * Creates an Observable from an arbitrary API for registering event handlers.\n *\n * <span class=\"informal\">When that method for adding event handler was something {@link fromEvent}\n * was not prepared for.</span>\n *\n * ![](fromEventPattern.png)\n *\n * `fromEventPattern` allows you to convert into an Observable any API that supports registering handler functions\n * for events. It is similar to {@link fromEvent}, but far\n * more flexible. In fact, all use cases of {@link fromEvent} could be easily handled by\n * `fromEventPattern` (although in slightly more verbose way).\n *\n * This operator accepts as a first argument an `addHandler` function, which will be injected with\n * handler parameter. That handler is actually an event handler function that you now can pass\n * to API expecting it. `addHandler` will be called whenever Observable\n * returned by the operator is subscribed, so registering handler in API will not\n * necessarily happen when `fromEventPattern` is called.\n *\n * After registration, every time an event that we listen to happens,\n * Observable returned by `fromEventPattern` will emit value that event handler\n * function was called with. Note that if event handler was called with more\n * then one argument, second and following arguments will not appear in the Observable.\n *\n * If API you are using allows to unregister event handlers as well, you can pass to `fromEventPattern`\n * another function - `removeHandler` - as a second parameter. It will be injected\n * with the same handler function as before, which now you can use to unregister\n * it from the API. `removeHandler` will be called when consumer of resulting Observable\n * unsubscribes from it.\n *\n * In some APIs unregistering is actually handled differently. Method registering an event handler\n * returns some kind of token, which is later used to identify which function should\n * be unregistered or it itself has method that unregisters event handler.\n * If that is the case with your API, make sure token returned\n * by registering method is returned by `addHandler`. Then it will be passed\n * as a second argument to `removeHandler`, where you will be able to use it.\n *\n * If you need access to all event handler parameters (not only the first one),\n * or you need to transform them in any way, you can call `fromEventPattern` with optional\n * third parameter - project function which will accept all arguments passed to\n * event handler when it is called. Whatever is returned from project function will appear on\n * resulting stream instead of usual event handlers first argument. This means\n * that default project can be thought of as function that takes its first parameter\n * and ignores the rest.\n *\n * ## Example\n * ### Emits clicks happening on the DOM document\n *\n * ```ts\n * import { fromEventPattern } from 'rxjs';\n *\n * function addClickHandler(handler) {\n *   document.addEventListener('click', handler);\n * }\n *\n * function removeClickHandler(handler) {\n *   document.removeEventListener('click', handler);\n * }\n *\n * const clicks = fromEventPattern(\n *   addClickHandler,\n *   removeClickHandler\n * );\n * clicks.subscribe(x => console.log(x));\n *\n * // Whenever you click anywhere in the browser, DOM MouseEvent\n * // object will be logged.\n * ```\n *\n * ## Example\n * ### Use with API that returns cancellation token\n *\n * ```ts\n * import { fromEventPattern } from 'rxjs';\n *\n * const token = someAPI.registerEventHandler(function() {});\n * someAPI.unregisterEventHandler(token); // this APIs cancellation method accepts\n *                                        // not handler itself, but special token.\n *\n * const someAPIObservable = fromEventPattern(\n *   function(handler) { return someAPI.registerEventHandler(handler); }, // Note that we return the token here...\n *   function(handler, token) { someAPI.unregisterEventHandler(token); }  // ...to then use it here.\n * );\n * ```\n *\n * ## Example\n * ### Use with project function\n *\n * ```ts\n * import { fromEventPattern } from 'rxjs';\n *\n * someAPI.registerEventHandler((eventType, eventMessage) => {\n *   console.log(eventType, eventMessage); // Logs \"EVENT_TYPE\" \"EVENT_MESSAGE\" to console.\n * });\n *\n * const someAPIObservable = fromEventPattern(\n *   handler => someAPI.registerEventHandler(handler),\n *   handler => someAPI.unregisterEventHandler(handler)\n *   (eventType, eventMessage) => eventType + \" --- \" + eventMessage // without that function only \"EVENT_TYPE\"\n * );                                                                // would be emitted by the Observable\n *\n * someAPIObservable.subscribe(value => console.log(value));\n *\n * // Logs:\n * // \"EVENT_TYPE --- EVENT_MESSAGE\"\n * ```\n *\n * @see {@link fromEvent}\n * @see {@link bindCallback}\n * @see {@link bindNodeCallback}\n *\n * @param {function(handler: Function): any} addHandler A function that takes\n * a `handler` function as argument and attaches it somehow to the actual\n * source of events.\n * @param {function(handler: Function, token?: any): void} [removeHandler] A function that\n * takes a `handler` function as an argument and removes it from the event source. If `addHandler`\n * returns some kind of token, `removeHandler` function will have it as a second parameter.\n * @param {function(...args: any): T} [project] A function to\n * transform results. It takes the arguments from the event handler and\n * should return a single value.\n * @return {Observable<T>} Observable which, when an event happens, emits first parameter\n * passed to registered event handler. Alternatively it emits whatever project function returns\n * at that moment.\n * @static true\n * @name fromEventPattern\n * @owner Observable\n */\n\nexport function fromEventPattern<T>(addHandler: (handler: NodeEventHandler) => any,\n                                    removeHandler?: (handler: NodeEventHandler, signal?: any) => void,\n                                    resultSelector?: (...args: any[]) => T): Observable<T | T[]> {\n\n  if (resultSelector) {\n    // DEPRECATED PATH\n    return fromEventPattern<T>(addHandler, removeHandler).pipe(\n      map(args => isArray(args) ? resultSelector(...args) : resultSelector(args))\n    );\n  }\n\n  return new Observable<T | T[]>(subscriber => {\n    const handler = (...e: T[]) => subscriber.next(e.length === 1 ? e[0] : e);\n\n    let retValue: any;\n    try {\n      retValue = addHandler(handler);\n    } catch (err) {\n      subscriber.error(err);\n      return undefined;\n    }\n\n    if (!isFunction(removeHandler)) {\n      return undefined;\n    }\n\n    return () => removeHandler(handler, retValue) ;\n  });\n}\n","import { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { identity } from '../util/identity';\nimport { SchedulerAction, SchedulerLike } from '../types';\nimport { isScheduler } from '../util/isScheduler';\n\nexport type ConditionFunc<S> = (state: S) => boolean;\nexport type IterateFunc<S> = (state: S) => S;\nexport type ResultFunc<S, T> = (state: S) => T;\n\ninterface SchedulerState<T, S> {\n  needIterate?: boolean;\n  state: S;\n  subscriber: Subscriber<T>;\n  condition?: ConditionFunc<S>;\n  iterate: IterateFunc<S>;\n  resultSelector: ResultFunc<S, T>;\n}\n\nexport interface GenerateBaseOptions<S> {\n  /**\n   * Initial state.\n   */\n  initialState: S;\n  /**\n   * Condition function that accepts state and returns boolean.\n   * When it returns false, the generator stops.\n   * If not specified, a generator never stops.\n   */\n  condition?: ConditionFunc<S>;\n  /**\n   * Iterate function that accepts state and returns new state.\n   */\n  iterate: IterateFunc<S>;\n  /**\n   * SchedulerLike to use for generation process.\n   * By default, a generator starts immediately.\n   */\n  scheduler?: SchedulerLike;\n}\n\nexport interface GenerateOptions<T, S> extends GenerateBaseOptions<S> {\n  /**\n   * Result selection function that accepts state and returns a value to emit.\n   */\n  resultSelector: ResultFunc<S, T>;\n}\n\n/**\n * Generates an observable sequence by running a state-driven loop\n * producing the sequence's elements, using the specified scheduler\n * to send out observer messages.\n *\n * ![](generate.png)\n *\n * @example <caption>Produces sequence of 0, 1, 2, ... 9, then completes.</caption>\n * const res = generate(0, x => x < 10, x => x + 1, x => x);\n *\n * @example <caption>Using asap scheduler, produces sequence of 2, 3, 5, then completes.</caption>\n * const res = generate(1, x => x < 5, x => x * 2, x => x + 1, asap);\n *\n * @see {@link from}\n * @see {@link Observable}\n *\n * @param {S} initialState Initial state.\n * @param {function (state: S): boolean} condition Condition to terminate generation (upon returning false).\n * @param {function (state: S): S} iterate Iteration step function.\n * @param {function (state: S): T} resultSelector Selector function for results produced in the sequence. (deprecated)\n * @param {SchedulerLike} [scheduler] A {@link SchedulerLike} on which to run the generator loop. If not provided, defaults to emit immediately.\n * @returns {Observable<T>} The generated sequence.\n */\n  export function generate<T, S>(initialState: S,\n                                 condition: ConditionFunc<S>,\n                                 iterate: IterateFunc<S>,\n                                 resultSelector: ResultFunc<S, T>,\n                                 scheduler?: SchedulerLike): Observable<T>;\n\n/**\n * Generates an Observable by running a state-driven loop\n * that emits an element on each iteration.\n *\n * <span class=\"informal\">Use it instead of nexting values in a for loop.</span>\n *\n * <img src=\"./img/generate.png\" width=\"100%\">\n *\n * `generate` allows you to create stream of values generated with a loop very similar to\n * traditional for loop. First argument of `generate` is a beginning value. Second argument\n * is a function that accepts this value and tests if some condition still holds. If it does,\n * loop continues, if not, it stops. Third value is a function which takes previously defined\n * value and modifies it in some way on each iteration. Note how these three parameters\n * are direct equivalents of three expressions in regular for loop: first expression\n * initializes some state (for example numeric index), second tests if loop can make next\n * iteration (for example if index is lower than 10) and third states how defined value\n * will be modified on every step (index will be incremented by one).\n *\n * Return value of a `generate` operator is an Observable that on each loop iteration\n * emits a value. First, condition function is ran. If it returned true, Observable\n * emits currently stored value (initial value at the first iteration) and then updates\n * that value with iterate function. If at some point condition returned false, Observable\n * completes at that moment.\n *\n * Optionally you can pass fourth parameter to `generate` - a result selector function which allows you\n * to immediately map value that would normally be emitted by an Observable.\n *\n * If you find three anonymous functions in `generate` call hard to read, you can provide\n * single object to the operator instead. That object has properties: `initialState`,\n * `condition`, `iterate` and `resultSelector`, which should have respective values that you\n * would normally pass to `generate`. `resultSelector` is still optional, but that form\n * of calling `generate` allows you to omit `condition` as well. If you omit it, that means\n * condition always holds, so output Observable will never complete.\n *\n * Both forms of `generate` can optionally accept a scheduler. In case of multi-parameter call,\n * scheduler simply comes as a last argument (no matter if there is resultSelector\n * function or not). In case of single-parameter call, you can provide it as a\n * `scheduler` property on object passed to the operator. In both cases scheduler decides when\n * next iteration of the loop will happen and therefore when next value will be emitted\n * by the Observable. For example to ensure that each value is pushed to the observer\n * on separate task in event loop, you could use `async` scheduler. Note that\n * by default (when no scheduler is passed) values are simply emitted synchronously.\n *\n *\n * @example <caption>Use with condition and iterate functions.</caption>\n * const generated = generate(0, x => x < 3, x => x + 1);\n *\n * generated.subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('Yo!')\n * );\n *\n * // Logs:\n * // 0\n * // 1\n * // 2\n * // \"Yo!\"\n *\n *\n * @example <caption>Use with condition, iterate and resultSelector functions.</caption>\n * const generated = generate(0, x => x < 3, x => x + 1, x => x * 1000);\n *\n * generated.subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('Yo!')\n * );\n *\n * // Logs:\n * // 0\n * // 1000\n * // 2000\n * // \"Yo!\"\n *\n *\n * @example <caption>Use with options object.</caption>\n * const generated = generate({\n *   initialState: 0,\n *   condition(value) { return value < 3; },\n *   iterate(value) { return value + 1; },\n *   resultSelector(value) { return value * 1000; }\n * });\n *\n * generated.subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('Yo!')\n * );\n *\n * // Logs:\n * // 0\n * // 1000\n * // 2000\n * // \"Yo!\"\n *\n * @example <caption>Use options object without condition function.</caption>\n * const generated = generate({\n *   initialState: 0,\n *   iterate(value) { return value + 1; },\n *   resultSelector(value) { return value * 1000; }\n * });\n *\n * generated.subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('Yo!') // This will never run.\n * );\n *\n * // Logs:\n * // 0\n * // 1000\n * // 2000\n * // 3000\n * // ...and never stops.\n *\n *\n * @see {@link from}\n * @see {@link index/Observable.create}\n *\n * @param {S} initialState Initial state.\n * @param {function (state: S): boolean} condition Condition to terminate generation (upon returning false).\n * @param {function (state: S): S} iterate Iteration step function.\n * @param {function (state: S): T} [resultSelector] Selector function for results produced in the sequence.\n * @param {Scheduler} [scheduler] A {@link Scheduler} on which to run the generator loop. If not provided, defaults to emitting immediately.\n * @return {Observable<T>} The generated sequence.\n */\nexport function generate<S>(initialState: S,\n                            condition: ConditionFunc<S>,\n                            iterate: IterateFunc<S>,\n                            scheduler?: SchedulerLike): Observable<S>;\n\n/**\n * Generates an observable sequence by running a state-driven loop\n * producing the sequence's elements, using the specified scheduler\n * to send out observer messages.\n * The overload accepts options object that might contain initial state, iterate,\n * condition and scheduler.\n *\n * ![](generate.png)\n *\n * @example <caption>Produces sequence of 0, 1, 2, ... 9, then completes.</caption>\n * const res = generate({\n *   initialState: 0,\n *   condition: x => x < 10,\n *   iterate: x => x + 1,\n * });\n *\n * @see {@link from}\n * @see {@link Observable}\n *\n * @param {GenerateBaseOptions<S>} options Object that must contain initialState, iterate and might contain condition and scheduler.\n * @returns {Observable<S>} The generated sequence.\n */\nexport function generate<S>(options: GenerateBaseOptions<S>): Observable<S>;\n\n/**\n * Generates an observable sequence by running a state-driven loop\n * producing the sequence's elements, using the specified scheduler\n * to send out observer messages.\n * The overload accepts options object that might contain initial state, iterate,\n * condition, result selector and scheduler.\n *\n * ![](generate.png)\n *\n * @example <caption>Produces sequence of 0, 1, 2, ... 9, then completes.</caption>\n * const res = generate({\n *   initialState: 0,\n *   condition: x => x < 10,\n *   iterate: x => x + 1,\n *   resultSelector: x => x,\n * });\n *\n * @see {@link from}\n * @see {@link Observable}\n *\n * @param {GenerateOptions<T, S>} options Object that must contain initialState, iterate, resultSelector and might contain condition and scheduler.\n * @returns {Observable<T>} The generated sequence.\n */\nexport function generate<T, S>(options: GenerateOptions<T, S>): Observable<T>;\n\nexport function generate<T, S>(initialStateOrOptions: S | GenerateOptions<T, S>,\n                               condition?: ConditionFunc<S>,\n                               iterate?: IterateFunc<S>,\n                               resultSelectorOrObservable?: (ResultFunc<S, T>) | SchedulerLike,\n                               scheduler?: SchedulerLike): Observable<T> {\n\n  let resultSelector: ResultFunc<S, T>;\n  let initialState: S;\n\n  if (arguments.length == 1) {\n    const options = initialStateOrOptions as GenerateOptions<T, S>;\n    initialState = options.initialState;\n    condition = options.condition;\n    iterate = options.iterate;\n    resultSelector = options.resultSelector || identity as ResultFunc<S, T>;\n    scheduler = options.scheduler;\n  } else if (resultSelectorOrObservable === undefined || isScheduler(resultSelectorOrObservable)) {\n    initialState = initialStateOrOptions as S;\n    resultSelector = identity as ResultFunc<S, T>;\n    scheduler = resultSelectorOrObservable as SchedulerLike;\n  } else {\n    initialState = initialStateOrOptions as S;\n    resultSelector = resultSelectorOrObservable as ResultFunc<S, T>;\n  }\n\n  return new Observable<T>(subscriber => {\n    let state = initialState;\n    if (scheduler) {\n      return scheduler.schedule<SchedulerState<T, S>>(dispatch, 0, {\n        subscriber,\n        iterate,\n        condition,\n        resultSelector,\n        state\n      });\n    }\n\n    do {\n      if (condition) {\n        let conditionResult: boolean;\n        try {\n          conditionResult = condition(state);\n        } catch (err) {\n          subscriber.error(err);\n          return undefined;\n        }\n        if (!conditionResult) {\n          subscriber.complete();\n          break;\n        }\n      }\n      let value: T;\n      try {\n        value = resultSelector(state);\n      } catch (err) {\n        subscriber.error(err);\n        return undefined;\n      }\n      subscriber.next(value);\n      if (subscriber.closed) {\n        break;\n      }\n      try {\n        state = iterate(state);\n      } catch (err) {\n        subscriber.error(err);\n        return undefined;\n      }\n    } while (true);\n\n    return undefined;\n  });\n}\n\nfunction dispatch<T, S>(this: SchedulerAction<SchedulerState<T, S>>, state: SchedulerState<T, S>) {\n  const { subscriber, condition } = state;\n  if (subscriber.closed) {\n    return undefined;\n  }\n  if (state.needIterate) {\n    try {\n      state.state = state.iterate(state.state);\n    } catch (err) {\n      subscriber.error(err);\n      return undefined;\n    }\n  } else {\n    state.needIterate = true;\n  }\n  if (condition) {\n    let conditionResult: boolean;\n    try {\n      conditionResult = condition(state.state);\n    } catch (err) {\n      subscriber.error(err);\n      return undefined;\n    }\n    if (!conditionResult) {\n      subscriber.complete();\n      return undefined;\n    }\n    if (subscriber.closed) {\n      return undefined;\n    }\n  }\n  let value: T;\n  try {\n    value = state.resultSelector(state.state);\n  } catch (err) {\n    subscriber.error(err);\n    return undefined;\n  }\n  if (subscriber.closed) {\n    return undefined;\n  }\n  subscriber.next(value);\n  if (subscriber.closed) {\n    return undefined;\n  }\n  return this.schedule(state);\n}\n","import { Observable } from '../Observable';\nimport { defer } from './defer';\nimport { EMPTY } from './empty';\nimport { SubscribableOrPromise } from '../types';\n\n/**\n * Decides at subscription time which Observable will actually be subscribed.\n *\n * <span class=\"informal\">`If` statement for Observables.</span>\n *\n * `iif` accepts a condition function and two Observables. When\n * an Observable returned by the operator is subscribed, condition function will be called.\n * Based on what boolean it returns at that moment, consumer will subscribe either to\n * the first Observable (if condition was true) or to the second (if condition was false). Condition\n * function may also not return anything - in that case condition will be evaluated as false and\n * second Observable will be subscribed.\n *\n * Note that Observables for both cases (true and false) are optional. If condition points to an Observable that\n * was left undefined, resulting stream will simply complete immediately. That allows you to, rather\n * than controlling which Observable will be subscribed, decide at runtime if consumer should have access\n * to given Observable or not.\n *\n * If you have more complex logic that requires decision between more than two Observables, {@link defer}\n * will probably be a better choice. Actually `iif` can be easily implemented with {@link defer}\n * and exists only for convenience and readability reasons.\n *\n *\n * ## Examples\n * ### Change at runtime which Observable will be subscribed\n * ```ts\n * import { iif, of } from 'rxjs';\n *\n * let subscribeToFirst;\n * const firstOrSecond = iif(\n *   () => subscribeToFirst,\n *   of('first'),\n *   of('second'),\n * );\n *\n * subscribeToFirst = true;\n * firstOrSecond.subscribe(value => console.log(value));\n *\n * // Logs:\n * // \"first\"\n *\n * subscribeToFirst = false;\n * firstOrSecond.subscribe(value => console.log(value));\n *\n * // Logs:\n * // \"second\"\n *\n * ```\n *\n * ### Control an access to an Observable\n * ```ts\n * let accessGranted;\n * const observableIfYouHaveAccess = iif(\n *   () => accessGranted,\n *   of('It seems you have an access...'), // Note that only one Observable is passed to the operator.\n * );\n *\n * accessGranted = true;\n * observableIfYouHaveAccess.subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('The end'),\n * );\n *\n * // Logs:\n * // \"It seems you have an access...\"\n * // \"The end\"\n *\n * accessGranted = false;\n * observableIfYouHaveAccess.subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('The end'),\n * );\n *\n * // Logs:\n * // \"The end\"\n * ```\n *\n * @see {@link defer}\n *\n * @param {function(): boolean} condition Condition which Observable should be chosen.\n * @param {Observable} [trueObservable] An Observable that will be subscribed if condition is true.\n * @param {Observable} [falseObservable] An Observable that will be subscribed if condition is false.\n * @return {Observable} Either first or second Observable, depending on condition.\n * @static true\n * @name iif\n * @owner Observable\n */\nexport function iif<T, F>(\n  condition: () => boolean,\n  trueResult: SubscribableOrPromise<T> = EMPTY,\n  falseResult: SubscribableOrPromise<F> = EMPTY\n): Observable<T|F> {\n  return defer(() => condition() ? trueResult : falseResult);\n}\n","import { isArray } from './isArray';\n\nexport function isNumeric(val: any): val is number | string {\n  // parseFloat NaNs numeric-cast false positives (null|true|false|\"\")\n  // ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n  // subtraction forces infinities to NaN\n  // adding 1 corrects loss of precision from parseFloat (#15100)\n  return !isArray(val) && (val - parseFloat(val) + 1) >= 0;\n}\n","import { Observable } from '../Observable';\nimport { async } from '../scheduler/async';\nimport { SchedulerAction, SchedulerLike } from '../types';\nimport { isNumeric } from '../util/isNumeric';\nimport { Subscriber } from '../Subscriber';\n\n/**\n * Creates an Observable that emits sequential numbers every specified\n * interval of time, on a specified {@link SchedulerLike}.\n *\n * <span class=\"informal\">Emits incremental numbers periodically in time.\n * </span>\n *\n * ![](interval.png)\n *\n * `interval` returns an Observable that emits an infinite sequence of\n * ascending integers, with a constant interval of time of your choosing\n * between those emissions. The first emission is not sent immediately, but\n * only after the first period has passed. By default, this operator uses the\n * `async` {@link SchedulerLike} to provide a notion of time, but you may pass any\n * {@link SchedulerLike} to it.\n *\n * ## Example\n * Emits ascending numbers, one every second (1000ms) up to the number 3\n * ```ts\n * import { interval } from 'rxjs';\n * import { take } from 'rxjs/operators';\n *\n * const numbers = interval(1000);\n *\n * const takeFourNumbers = numbers.pipe(take(4));\n *\n * takeFourNumbers.subscribe(x => console.log('Next: ', x));\n *\n * // Logs:\n * // Next: 0\n * // Next: 1\n * // Next: 2\n * // Next: 3\n * ```\n *\n * @see {@link timer}\n * @see {@link delay}\n *\n * @param {number} [period=0] The interval size in milliseconds (by default)\n * or the time unit determined by the scheduler's clock.\n * @param {SchedulerLike} [scheduler=async] The {@link SchedulerLike} to use for scheduling\n * the emission of values, and providing a notion of \"time\".\n * @return {Observable} An Observable that emits a sequential number each time\n * interval.\n * @static true\n * @name interval\n * @owner Observable\n */\nexport function interval(period = 0,\n                         scheduler: SchedulerLike = async): Observable<number> {\n  if (!isNumeric(period) || period < 0) {\n    period = 0;\n  }\n\n  if (!scheduler || typeof scheduler.schedule !== 'function') {\n    scheduler = async;\n  }\n\n  return new Observable<number>(subscriber => {\n    subscriber.add(\n      scheduler.schedule(dispatch, period, { subscriber, counter: 0, period })\n    );\n    return subscriber;\n  });\n}\n\nfunction dispatch(this: SchedulerAction<IntervalState>, state: IntervalState) {\n  const { subscriber, counter, period } = state;\n  subscriber.next(counter);\n  this.schedule({ subscriber, counter: counter + 1, period }, period);\n}\n\ninterface IntervalState {\n  subscriber: Subscriber<number>;\n  counter: number;\n  period: number;\n}\n","import { Observable } from '../Observable';\nimport { ObservableInput, SchedulerLike} from '../types';\nimport { isScheduler } from '../util/isScheduler';\nimport { mergeAll } from '../operators/mergeAll';\nimport { fromArray } from './fromArray';\n\n/* tslint:disable:max-line-length */\n/** @deprecated use {@link scheduled} and {@link mergeAll} (e.g. `scheduled([ob1, ob2, ob3], scheduled).pipe(mergeAll())*/\nexport function merge<T>(v1: ObservableInput<T>, scheduler: SchedulerLike): Observable<T>;\n/** @deprecated use {@link scheduled} and {@link mergeAll} (e.g. `scheduled([ob1, ob2, ob3], scheduled).pipe(mergeAll())*/\nexport function merge<T>(v1: ObservableInput<T>, concurrent: number, scheduler: SchedulerLike): Observable<T>;\n/** @deprecated use {@link scheduled} and {@link mergeAll} (e.g. `scheduled([ob1, ob2, ob3], scheduled).pipe(mergeAll())*/\nexport function merge<T, T2>(v1: ObservableInput<T>, v2: ObservableInput<T2>, scheduler: SchedulerLike): Observable<T | T2>;\n/** @deprecated use {@link scheduled} and {@link mergeAll} (e.g. `scheduled([ob1, ob2, ob3], scheduled).pipe(mergeAll())*/\nexport function merge<T, T2>(v1: ObservableInput<T>, v2: ObservableInput<T2>, concurrent: number, scheduler: SchedulerLike): Observable<T | T2>;\n/** @deprecated use {@link scheduled} and {@link mergeAll} (e.g. `scheduled([ob1, ob2, ob3], scheduled).pipe(mergeAll())*/\nexport function merge<T, T2, T3>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, scheduler: SchedulerLike): Observable<T | T2 | T3>;\n/** @deprecated use {@link scheduled} and {@link mergeAll} (e.g. `scheduled([ob1, ob2, ob3], scheduled).pipe(mergeAll())*/\nexport function merge<T, T2, T3>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, concurrent: number, scheduler: SchedulerLike): Observable<T | T2 | T3>;\n/** @deprecated use {@link scheduled} and {@link mergeAll} (e.g. `scheduled([ob1, ob2, ob3], scheduled).pipe(mergeAll())*/\nexport function merge<T, T2, T3, T4>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, scheduler: SchedulerLike): Observable<T | T2 | T3 | T4>;\n/** @deprecated use {@link scheduled} and {@link mergeAll} (e.g. `scheduled([ob1, ob2, ob3], scheduled).pipe(mergeAll())*/\nexport function merge<T, T2, T3, T4>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, concurrent: number, scheduler: SchedulerLike): Observable<T | T2 | T3 | T4>;\n/** @deprecated use {@link scheduled} and {@link mergeAll} (e.g. `scheduled([ob1, ob2, ob3], scheduled).pipe(mergeAll())*/\nexport function merge<T, T2, T3, T4, T5>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, scheduler: SchedulerLike): Observable<T | T2 | T3 | T4 | T5>;\n/** @deprecated use {@link scheduled} and {@link mergeAll} (e.g. `scheduled([ob1, ob2, ob3], scheduled).pipe(mergeAll())*/\nexport function merge<T, T2, T3, T4, T5>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, concurrent: number, scheduler: SchedulerLike): Observable<T | T2 | T3 | T4 | T5>;\n/** @deprecated use {@link scheduled} and {@link mergeAll} (e.g. `scheduled([ob1, ob2, ob3], scheduled).pipe(mergeAll())*/\nexport function merge<T, T2, T3, T4, T5, T6>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>, scheduler: SchedulerLike): Observable<T | T2 | T3 | T4 | T5 | T6>;\n/** @deprecated use {@link scheduled} and {@link mergeAll} (e.g. `scheduled([ob1, ob2, ob3], scheduled).pipe(mergeAll())*/\nexport function merge<T, T2, T3, T4, T5, T6>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>, concurrent: number, scheduler: SchedulerLike): Observable<T | T2 | T3 | T4 | T5 | T6>;\n\nexport function merge<T>(v1: ObservableInput<T>): Observable<T>;\nexport function merge<T>(v1: ObservableInput<T>, concurrent?: number): Observable<T>;\nexport function merge<T, T2>(v1: ObservableInput<T>, v2: ObservableInput<T2>): Observable<T | T2>;\nexport function merge<T, T2>(v1: ObservableInput<T>, v2: ObservableInput<T2>, concurrent?: number): Observable<T | T2>;\nexport function merge<T, T2, T3>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>): Observable<T | T2 | T3>;\nexport function merge<T, T2, T3>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, concurrent?: number): Observable<T | T2 | T3>;\nexport function merge<T, T2, T3, T4>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>): Observable<T | T2 | T3 | T4>;\nexport function merge<T, T2, T3, T4>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, concurrent?: number): Observable<T | T2 | T3 | T4>;\nexport function merge<T, T2, T3, T4, T5>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>): Observable<T | T2 | T3 | T4 | T5>;\nexport function merge<T, T2, T3, T4, T5>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, concurrent?: number): Observable<T | T2 | T3 | T4 | T5>;\nexport function merge<T, T2, T3, T4, T5, T6>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>): Observable<T | T2 | T3 | T4 | T5 | T6>;\nexport function merge<T, T2, T3, T4, T5, T6>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>, concurrent?: number): Observable<T | T2 | T3 | T4 | T5 | T6>;\nexport function merge<T>(...observables: (ObservableInput<T> | number)[]): Observable<T>;\n/** @deprecated use {@link scheduled} and {@link mergeAll} (e.g. `scheduled([ob1, ob2, ob3], scheduled).pipe(mergeAll())*/\nexport function merge<T>(...observables: (ObservableInput<T> | SchedulerLike | number)[]): Observable<T>;\nexport function merge<T, R>(...observables: (ObservableInput<any> | number)[]): Observable<R>;\n/** @deprecated use {@link scheduled} and {@link mergeAll} (e.g. `scheduled([ob1, ob2, ob3], scheduled).pipe(mergeAll())*/\nexport function merge<T, R>(...observables: (ObservableInput<any> | SchedulerLike | number)[]): Observable<R>;\n/* tslint:enable:max-line-length */\n/**\n * Creates an output Observable which concurrently emits all values from every\n * given input Observable.\n *\n * <span class=\"informal\">Flattens multiple Observables together by blending\n * their values into one Observable.</span>\n *\n * ![](merge.png)\n *\n * `merge` subscribes to each given input Observable (as arguments), and simply\n * forwards (without doing any transformation) all the values from all the input\n * Observables to the output Observable. The output Observable only completes\n * once all input Observables have completed. Any error delivered by an input\n * Observable will be immediately emitted on the output Observable.\n *\n * ## Examples\n * ### Merge together two Observables: 1s interval and clicks\n * ```ts\n * import { merge, fromEvent, interval } from 'rxjs';\n *\n * const clicks = fromEvent(document, 'click');\n * const timer = interval(1000);\n * const clicksOrTimer = merge(clicks, timer);\n * clicksOrTimer.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // timer will emit ascending values, one every second(1000ms) to console\n * // clicks logs MouseEvents to console everytime the \"document\" is clicked\n * // Since the two streams are merged you see these happening\n * // as they occur.\n * ```\n *\n * ### Merge together 3 Observables, but only 2 run concurrently\n * ```ts\n * import { merge, interval } from 'rxjs';\n * import { take } from 'rxjs/operators';\n *\n * const timer1 = interval(1000).pipe(take(10));\n * const timer2 = interval(2000).pipe(take(6));\n * const timer3 = interval(500).pipe(take(10));\n * const concurrent = 2; // the argument\n * const merged = merge(timer1, timer2, timer3, concurrent);\n * merged.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // - First timer1 and timer2 will run concurrently\n * // - timer1 will emit a value every 1000ms for 10 iterations\n * // - timer2 will emit a value every 2000ms for 6 iterations\n * // - after timer1 hits it's max iteration, timer2 will\n * //   continue, and timer3 will start to run concurrently with timer2\n * // - when timer2 hits it's max iteration it terminates, and\n * //   timer3 will continue to emit a value every 500ms until it is complete\n * ```\n *\n * @see {@link mergeAll}\n * @see {@link mergeMap}\n * @see {@link mergeMapTo}\n * @see {@link mergeScan}\n *\n * @param {...ObservableInput} observables Input Observables to merge together.\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input\n * Observables being subscribed to concurrently.\n * @param {SchedulerLike} [scheduler=null] The {@link SchedulerLike} to use for managing\n * concurrency of input Observables.\n * @return {Observable} an Observable that emits items that are the result of\n * every input Observable.\n * @static true\n * @name merge\n * @owner Observable\n */\nexport function merge<T, R>(...observables: Array<ObservableInput<any> | SchedulerLike | number>): Observable<R> {\n let concurrent = Number.POSITIVE_INFINITY;\n let scheduler: SchedulerLike = null;\n  let last: any = observables[observables.length - 1];\n  if (isScheduler(last)) {\n    scheduler = <SchedulerLike>observables.pop();\n    if (observables.length > 1 && typeof observables[observables.length - 1] === 'number') {\n      concurrent = <number>observables.pop();\n    }\n  } else if (typeof last === 'number') {\n    concurrent = <number>observables.pop();\n  }\n\n  if (scheduler === null && observables.length === 1 && observables[0] instanceof Observable) {\n    return <Observable<R>>observables[0];\n  }\n\n  return mergeAll<R>(concurrent)(fromArray<any>(observables, scheduler));\n}\n","import { Observable } from '../Observable';\nimport { noop } from '../util/noop';\n\n/**\n * An Observable that emits no items to the Observer and never completes.\n *\n * ![](never.png)\n *\n * A simple Observable that emits neither values nor errors nor the completion\n * notification. It can be used for testing purposes or for composing with other\n * Observables. Please note that by never emitting a complete notification, this\n * Observable keeps the subscription from being disposed automatically.\n * Subscriptions need to be manually disposed.\n *\n * ##  Example\n * ### Emit the number 7, then never emit anything else (not even complete)\n * ```ts\n * import { NEVER } from 'rxjs';\n * import { startWith } from 'rxjs/operators';\n *\n * function info() {\n *   console.log('Will not be called');\n * }\n * const result = NEVER.pipe(startWith(7));\n * result.subscribe(x => console.log(x), info, info);\n *\n * ```\n *\n * @see {@link Observable}\n * @see {@link index/EMPTY}\n * @see {@link of}\n * @see {@link throwError}\n */\nexport const NEVER = new Observable<never>(noop);\n\n/**\n * @deprecated Deprecated in favor of using {@link NEVER} constant.\n */\nexport function never () {\n  return NEVER;\n}\n","import { Observable } from '../Observable';\nimport { ObservableInput } from '../types';\nimport { from } from './from';\nimport { isArray } from '../util/isArray';\nimport { EMPTY } from './empty';\n\n/* tslint:disable:max-line-length */\nexport function onErrorResumeNext<R>(v: ObservableInput<R>): Observable<R>;\nexport function onErrorResumeNext<T2, T3, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>): Observable<R>;\nexport function onErrorResumeNext<T2, T3, T4, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>): Observable<R>;\nexport function onErrorResumeNext<T2, T3, T4, T5, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>): Observable<R>;\nexport function onErrorResumeNext<T2, T3, T4, T5, T6, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>): Observable<R>;\n\nexport function onErrorResumeNext<R>(...observables: Array<ObservableInput<any> | ((...values: Array<any>) => R)>): Observable<R>;\nexport function onErrorResumeNext<R>(array: ObservableInput<any>[]): Observable<R>;\n/* tslint:enable:max-line-length */\n\n/**\n * When any of the provided Observable emits an complete or error notification, it immediately subscribes to the next one\n * that was passed.\n *\n * <span class=\"informal\">Execute series of Observables no matter what, even if it means swallowing errors.</span>\n *\n * ![](onErrorResumeNext.png)\n *\n * `onErrorResumeNext` Will subscribe to each observable source it is provided, in order.\n * If the source it's subscribed to emits an error or completes, it will move to the next source\n * without error.\n *\n * If `onErrorResumeNext` is provided no arguments, or a single, empty array, it will return {@link index/EMPTY}.\n *\n * `onErrorResumeNext` is basically {@link concat}, only it will continue, even if one of its\n * sources emits an error.\n *\n * Note that there is no way to handle any errors thrown by sources via the result of\n * `onErrorResumeNext`. If you want to handle errors thrown in any given source, you can\n * always use the {@link catchError} operator on them before passing them into `onErrorResumeNext`.\n *\n * ## Example\n * Subscribe to the next Observable after map fails</caption>\n * ```ts\n * import { onErrorResumeNext, of } from 'rxjs';\n * import { map } from 'rxjs/operators';\n *\n * onErrorResumeNext(\n *  of(1, 2, 3, 0).pipe(\n *    map(x => {\n *      if (x === 0) throw Error();\n *      return 10 / x;\n *    })\n *  ),\n *  of(1, 2, 3),\n * )\n * .subscribe(\n *   val => console.log(val),\n *   err => console.log(err),          // Will never be called.\n *   () => console.log('done'),\n * );\n *\n * // Logs:\n * // 10\n * // 5\n * // 3.3333333333333335\n * // 1\n * // 2\n * // 3\n * // \"done\"\n * ```\n *\n * @see {@link concat}\n * @see {@link catchError}\n *\n * @param {...ObservableInput} sources Observables (or anything that *is* observable) passed either directly or as an array.\n * @return {Observable} An Observable that concatenates all sources, one after the other,\n * ignoring all errors, such that any error causes it to move on to the next source.\n */\nexport function onErrorResumeNext<T, R>(...sources: Array<ObservableInput<any> |\n                                                              Array<ObservableInput<any>> |\n                                                              ((...values: Array<any>) => R)>): Observable<R> {\n\n  if (sources.length === 0) {\n    return EMPTY;\n  }\n\n  const [ first, ...remainder ] = sources;\n\n  if (sources.length === 1 && isArray(first)) {\n    return onErrorResumeNext(...first);\n  }\n\n  return new Observable(subscriber => {\n    const subNext = () => subscriber.add(\n      onErrorResumeNext(...remainder).subscribe(subscriber)\n    );\n\n    return from(first).subscribe({\n      next(value) { subscriber.next(value); },\n      error: subNext,\n      complete: subNext,\n    });\n  });\n}\n","import { Observable } from '../Observable';\nimport { SchedulerAction, SchedulerLike } from '../types';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\n\n/**\n * Convert an object into an Observable of `[key, value]` pairs.\n *\n * <span class=\"informal\">Turn entries of an object into a stream.</span>\n *\n * <img src=\"./img/pairs.png\" width=\"100%\">\n *\n * `pairs` takes an arbitrary object and returns an Observable that emits arrays. Each\n * emitted array has exactly two elements - the first is a key from the object\n * and the second is a value corresponding to that key. Keys are extracted from\n * an object via `Object.keys` function, which means that they will be only\n * enumerable keys that are present on an object directly - not ones inherited\n * via prototype chain.\n *\n * By default these arrays are emitted synchronously. To change that you can\n * pass a {@link SchedulerLike} as a second argument to `pairs`.\n *\n * @example <caption>Converts a javascript object to an Observable</caption>\n * ```ts\n * import { pairs } from 'rxjs';\n *\n * const obj = {\n *   foo: 42,\n *   bar: 56,\n *   baz: 78\n * };\n *\n * pairs(obj)\n * .subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('the end!')\n * );\n *\n * // Logs:\n * // [\"foo\", 42],\n * // [\"bar\", 56],\n * // [\"baz\", 78],\n * // \"the end!\"\n * ```\n *\n * @param {Object} obj The object to inspect and turn into an\n * Observable sequence.\n * @param {Scheduler} [scheduler] An optional IScheduler to schedule\n * when resulting Observable will emit values.\n * @returns {(Observable<Array<string|T>>)} An observable sequence of\n * [key, value] pairs from the object.\n */\nexport function pairs<T>(obj: Object, scheduler?: SchedulerLike): Observable<[string, T]> {\n  if (!scheduler) {\n    return new Observable<[string, T]>(subscriber => {\n      const keys = Object.keys(obj);\n      for (let i = 0; i < keys.length && !subscriber.closed; i++) {\n        const key = keys[i];\n        if (obj.hasOwnProperty(key)) {\n          subscriber.next([key, obj[key]]);\n        }\n      }\n      subscriber.complete();\n    });\n  } else {\n    return new Observable<[string, T]>(subscriber => {\n      const keys = Object.keys(obj);\n      const subscription = new Subscription();\n      subscription.add(\n        scheduler.schedule<{ keys: string[], index: number, subscriber: Subscriber<[string, T]>, subscription: Subscription, obj: Object }>\n          (dispatch, 0, { keys, index: 0, subscriber, subscription, obj }));\n      return subscription;\n    });\n  }\n}\n\n/** @internal */\nexport function dispatch<T>(this: SchedulerAction<any>,\n                            state: { keys: string[], index: number, subscriber: Subscriber<[string, T]>, subscription: Subscription, obj: Object }) {\n  const { keys, index, subscriber, subscription, obj } = state;\n  if (!subscriber.closed) {\n    if (index < keys.length) {\n      const key = keys[index];\n      subscriber.next([key, obj[key]]);\n      subscription.add(this.schedule({ keys, index: index + 1, subscriber, subscription, obj }));\n    } else {\n      subscriber.complete();\n    }\n  }\n}\n","export function not(pred: Function, thisArg: any): Function {\n  function notPred(): any {\n    return !((<any> notPred).pred.apply((<any> notPred).thisArg, arguments));\n  }\n  (<any> notPred).pred = pred;\n  (<any> notPred).thisArg = thisArg;\n  return notPred;\n}","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { OperatorFunction, MonoTypeOperatorFunction, TeardownLogic } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function filter<T, S extends T>(predicate: (value: T, index: number) => value is S,\n                                       thisArg?: any): OperatorFunction<T, S>;\nexport function filter<T>(predicate: (value: T, index: number) => boolean,\n                          thisArg?: any): MonoTypeOperatorFunction<T>;\n/* tslint:enable:max-line-length */\n\n/**\n * Filter items emitted by the source Observable by only emitting those that\n * satisfy a specified predicate.\n *\n * <span class=\"informal\">Like\n * [Array.prototype.filter()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter),\n * it only emits a value from the source if it passes a criterion function.</span>\n *\n * ![](filter.png)\n *\n * Similar to the well-known `Array.prototype.filter` method, this operator\n * takes values from the source Observable, passes them through a `predicate`\n * function and only emits those values that yielded `true`.\n *\n * ## Example\n * Emit only click events whose target was a DIV element\n * ```ts\n * import { fromEvent } from 'rxjs';\n * import { filter } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const clicksOnDivs = clicks.pipe(filter(ev => ev.target.tagName === 'DIV'));\n * clicksOnDivs.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link distinct}\n * @see {@link distinctUntilChanged}\n * @see {@link distinctUntilKeyChanged}\n * @see {@link ignoreElements}\n * @see {@link partition}\n * @see {@link skip}\n *\n * @param {function(value: T, index: number): boolean} predicate A function that\n * evaluates each value emitted by the source Observable. If it returns `true`,\n * the value is emitted, if `false` the value is not passed to the output\n * Observable. The `index` parameter is the number `i` for the i-th source\n * emission that has happened since the subscription, starting from the number\n * `0`.\n * @param {any} [thisArg] An optional argument to determine the value of `this`\n * in the `predicate` function.\n * @return {Observable} An Observable of values from the source that were\n * allowed by the `predicate` function.\n * @method filter\n * @owner Observable\n */\nexport function filter<T>(predicate: (value: T, index: number) => boolean,\n                          thisArg?: any): MonoTypeOperatorFunction<T> {\n  return function filterOperatorFunction(source: Observable<T>): Observable<T> {\n    return source.lift(new FilterOperator(predicate, thisArg));\n  };\n}\n\nclass FilterOperator<T> implements Operator<T, T> {\n  constructor(private predicate: (value: T, index: number) => boolean,\n              private thisArg?: any) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new FilterSubscriber(subscriber, this.predicate, this.thisArg));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass FilterSubscriber<T> extends Subscriber<T> {\n\n  count: number = 0;\n\n  constructor(destination: Subscriber<T>,\n              private predicate: (value: T, index: number) => boolean,\n              private thisArg: any) {\n    super(destination);\n  }\n\n  // the try catch block below is left specifically for\n  // optimization and perf reasons. a tryCatcher is not necessary here.\n  protected _next(value: T) {\n    let result: any;\n    try {\n      result = this.predicate.call(this.thisArg, value, this.count++);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n    if (result) {\n      this.destination.next(value);\n    }\n  }\n}\n","import { not } from '../util/not';\nimport { subscribeTo } from '../util/subscribeTo';\nimport { filter } from '../operators/filter';\nimport { ObservableInput } from '../types';\nimport { Observable } from '../Observable';\n\n/**\n * Splits the source Observable into two, one with values that satisfy a\n * predicate, and another with values that don't satisfy the predicate.\n *\n * <span class=\"informal\">It's like {@link filter}, but returns two Observables:\n * one like the output of {@link filter}, and the other with values that did not\n * pass the condition.</span>\n *\n * ![](partition.png)\n *\n * `partition` outputs an array with two Observables that partition the values\n * from the source Observable through the given `predicate` function. The first\n * Observable in that array emits source values for which the predicate argument\n * returns true. The second Observable emits source values for which the\n * predicate returns false. The first behaves like {@link filter} and the second\n * behaves like {@link filter} with the predicate negated.\n *\n * ## Example\n * Partition a set of numbers into odds and evens observables\n * ```ts\n * import { of, partition } from 'rxjs';\n *\n * const observableValues = of(1, 2, 3, 4, 5, 6);\n * const [evens$, odds$] = partition(observableValues, (value, index) => value % 2 === 0);\n *\n * odds$.subscribe(x => console.log('odds', x));\n * evens$.subscribe(x => console.log('evens', x));\n *\n * // Logs:\n * // odds 1\n * // odds 3\n * // odds 5\n * // evens 2\n * // evens 4\n * // evens 6\n * ```\n *\n * @see {@link filter}\n *\n * @param {function(value: T, index: number): boolean} predicate A function that\n * evaluates each value emitted by the source Observable. If it returns `true`,\n * the value is emitted on the first Observable in the returned array, if\n * `false` the value is emitted on the second Observable in the array. The\n * `index` parameter is the number `i` for the i-th source emission that has\n * happened since the subscription, starting from the number `0`.\n * @param {any} [thisArg] An optional argument to determine the value of `this`\n * in the `predicate` function.\n * @return {[Observable<T>, Observable<T>]} An array with two Observables: one\n * with values that passed the predicate, and another with values that did not\n * pass the predicate.\n */\nexport function partition<T>(\n  source: ObservableInput<T>,\n  predicate: (value: T, index: number) => boolean,\n  thisArg?: any\n): [Observable<T>, Observable<T>] {\n  return [\n    filter(predicate, thisArg)(new Observable<T>(subscribeTo(source))),\n    filter(not(predicate, thisArg) as any)(new Observable<T>(subscribeTo(source)))\n  ] as [Observable<T>, Observable<T>];\n}\n","import { Observable } from '../Observable';\nimport { isArray } from '../util/isArray';\nimport { fromArray } from './fromArray';\nimport { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { TeardownLogic, ObservableInput } from '../types';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\n\n// tslint:disable:max-line-length\nexport function race<A>(arg: [ObservableInput<A>]): Observable<A>;\nexport function race<A, B>(arg: [ObservableInput<A>, ObservableInput<B>]): Observable<A | B>;\nexport function race<A, B, C>(arg: [ObservableInput<A>, ObservableInput<B>, ObservableInput<C>]): Observable<A | B | C>;\nexport function race<A, B, C, D>(arg: [ObservableInput<A>, ObservableInput<B>, ObservableInput<C>, ObservableInput<D>]): Observable<A | B | C | D>;\nexport function race<A, B, C, D, E>(arg: [ObservableInput<A>, ObservableInput<B>, ObservableInput<C>, ObservableInput<D>, ObservableInput<E>]): Observable<A | B | C | D | E>;\nexport function race<T>(arg: ObservableInput<T>[]): Observable<T>;\nexport function race(arg: ObservableInput<any>[]): Observable<{}>;\n\nexport function race<A>(a: ObservableInput<A>): Observable<A>;\nexport function race<A, B>(a: ObservableInput<A>, b: ObservableInput<B>): Observable<A | B>;\nexport function race<A, B, C>(a: ObservableInput<A>, b: ObservableInput<B>, c: ObservableInput<C>): Observable<A | B | C>;\nexport function race<A, B, C, D>(a: ObservableInput<A>, b: ObservableInput<B>, c: ObservableInput<C>, d: ObservableInput<D>): Observable<A | B | C | D>;\nexport function race<A, B, C, D, E>(a: ObservableInput<A>, b: ObservableInput<B>, c: ObservableInput<C>, d: ObservableInput<D>, e: ObservableInput<E>): Observable<A | B | C | D | E>;\n// tslint:enable:max-line-length\n\nexport function race<T>(observables: ObservableInput<T>[]): Observable<T>;\nexport function race(observables: ObservableInput<any>[]): Observable<{}>;\nexport function race<T>(...observables: ObservableInput<T>[]): Observable<T>;\nexport function race(...observables: ObservableInput<any>[]): Observable<{}>;\n\n/**\n * Returns an Observable that mirrors the first source Observable to emit an item.\n *\n * ## Example\n * ### Subscribes to the observable that was the first to start emitting.\n *\n * ```ts\n * import { race, interval } from 'rxjs';\n * import { mapTo } from 'rxjs/operators';\n *\n * const obs1 = interval(1000).pipe(mapTo('fast one'));\n * const obs2 = interval(3000).pipe(mapTo('medium one'));\n * const obs3 = interval(5000).pipe(mapTo('slow one'));\n *\n * race(obs3, obs1, obs2)\n * .subscribe(\n *   winner => console.log(winner)\n * );\n *\n * // result:\n * // a series of 'fast one'\n * ```\n *\n * @param {...Observables} ...observables sources used to race for which Observable emits first.\n * @return {Observable} an Observable that mirrors the output of the first Observable to emit an item.\n * @static true\n * @name race\n * @owner Observable\n */\nexport function race<T>(...observables: ObservableInput<any>[]): Observable<T> {\n  // if the only argument is an array, it was most likely called with\n  // `race([obs1, obs2, ...])`\n  if (observables.length === 1) {\n    if (isArray(observables[0])) {\n      observables = observables[0] as Observable<any>[];\n    } else {\n      return observables[0] as Observable<T>;\n    }\n  }\n\n  return fromArray(observables, undefined).lift(new RaceOperator<T>());\n}\n\nexport class RaceOperator<T> implements Operator<T, T> {\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new RaceSubscriber(subscriber));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class RaceSubscriber<T> extends OuterSubscriber<T, T> {\n  private hasFirst: boolean = false;\n  private observables: Observable<any>[] = [];\n  private subscriptions: Subscription[] = [];\n\n  constructor(destination: Subscriber<T>) {\n    super(destination);\n  }\n\n  protected _next(observable: any): void {\n    this.observables.push(observable);\n  }\n\n  protected _complete() {\n    const observables = this.observables;\n    const len = observables.length;\n\n    if (len === 0) {\n      this.destination.complete();\n    } else {\n      for (let i = 0; i < len && !this.hasFirst; i++) {\n        let observable = observables[i];\n        let subscription = subscribeToResult(this, observable, observable as any, i);\n\n        if (this.subscriptions) {\n          this.subscriptions.push(subscription);\n        }\n        this.add(subscription);\n      }\n      this.observables = null;\n    }\n  }\n\n  notifyNext(outerValue: T, innerValue: T,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, T>): void {\n    if (!this.hasFirst) {\n      this.hasFirst = true;\n\n      for (let i = 0; i < this.subscriptions.length; i++) {\n        if (i !== outerIndex) {\n          let subscription = this.subscriptions[i];\n\n          subscription.unsubscribe();\n          this.remove(subscription);\n        }\n      }\n\n      this.subscriptions = null;\n    }\n\n    this.destination.next(innerValue);\n  }\n}\n","import { SchedulerAction, SchedulerLike } from '../types';\nimport { Observable } from '../Observable';\n\n/**\n * Creates an Observable that emits a sequence of numbers within a specified\n * range.\n *\n * <span class=\"informal\">Emits a sequence of numbers in a range.</span>\n *\n * ![](range.png)\n *\n * `range` operator emits a range of sequential integers, in order, where you\n * select the `start` of the range and its `length`. By default, uses no\n * {@link SchedulerLike} and just delivers the notifications synchronously, but may use\n * an optional {@link SchedulerLike} to regulate those deliveries.\n *\n * ## Example\n * Emits the numbers 1 to 10</caption>\n * ```ts\n * import { range } from 'rxjs';\n *\n * const numbers = range(1, 10);\n * numbers.subscribe(x => console.log(x));\n * ```\n * @see {@link timer}\n * @see {@link index/interval}\n *\n * @param {number} [start=0] The value of the first integer in the sequence.\n * @param {number} count The number of sequential integers to generate.\n * @param {SchedulerLike} [scheduler] A {@link SchedulerLike} to use for scheduling\n * the emissions of the notifications.\n * @return {Observable} An Observable of numbers that emits a finite range of\n * sequential integers.\n * @static true\n * @name range\n * @owner Observable\n */\nexport function range(start: number = 0,\n                      count?: number,\n                      scheduler?: SchedulerLike): Observable<number> {\n  return new Observable<number>(subscriber => {\n    if (count === undefined) {\n      count = start;\n      start = 0;\n    }\n\n    let index = 0;\n    let current = start;\n\n    if (scheduler) {\n      return scheduler.schedule(dispatch, 0, {\n        index, count, start, subscriber\n      });\n    } else {\n      do {\n        if (index++ >= count) {\n          subscriber.complete();\n          break;\n        }\n        subscriber.next(current++);\n        if (subscriber.closed) {\n          break;\n        }\n      } while (true);\n    }\n\n    return undefined;\n  });\n}\n\n/** @internal */\nexport function dispatch(this: SchedulerAction<any>, state: any) {\n  const { start, index, count, subscriber } = state;\n\n  if (index >= count) {\n    subscriber.complete();\n    return;\n  }\n\n  subscriber.next(start);\n\n  if (subscriber.closed) {\n    return;\n  }\n\n  state.index = index + 1;\n  state.start = start + 1;\n\n  this.schedule(state);\n}\n","import { Observable } from '../Observable';\nimport { SchedulerAction, SchedulerLike } from '../types';\nimport { async } from '../scheduler/async';\nimport { isNumeric } from '../util/isNumeric';\nimport { isScheduler } from '../util/isScheduler';\nimport { Subscriber } from '../Subscriber';\n\n/**\n * Creates an Observable that starts emitting after an `dueTime` and\n * emits ever increasing numbers after each `period` of time thereafter.\n *\n * <span class=\"informal\">Its like {@link index/interval}, but you can specify when\n * should the emissions start.</span>\n *\n * ![](timer.png)\n *\n * `timer` returns an Observable that emits an infinite sequence of ascending\n * integers, with a constant interval of time, `period` of your choosing\n * between those emissions. The first emission happens after the specified\n * `dueTime`. The initial delay may be a `Date`. By default, this\n * operator uses the {@link asyncScheduler} {@link SchedulerLike} to provide a notion of time, but you\n * may pass any {@link SchedulerLike} to it. If `period` is not specified, the output\n * Observable emits only one value, `0`. Otherwise, it emits an infinite\n * sequence.\n *\n * ## Examples\n * ### Emits ascending numbers, one every second (1000ms), starting after 3 seconds\n * ```ts\n * import { timer } from 'rxjs';\n *\n * const numbers = timer(3000, 1000);\n * numbers.subscribe(x => console.log(x));\n * ```\n *\n * ### Emits one number after five seconds\n * ```ts\n * import { timer } from 'rxjs';\n *\n * const numbers = timer(5000);\n * numbers.subscribe(x => console.log(x));\n * ```\n * @see {@link index/interval}\n * @see {@link delay}\n *\n * @param {number|Date} [dueTime] The initial delay time specified as a Date object or as an integer denoting\n * milliseconds to wait before emitting the first value of 0`.\n * @param {number|SchedulerLike} [periodOrScheduler] The period of time between emissions of the\n * subsequent numbers.\n * @param {SchedulerLike} [scheduler=async] The {@link SchedulerLike} to use for scheduling\n * the emission of values, and providing a notion of \"time\".\n * @return {Observable} An Observable that emits a `0` after the\n * `dueTime` and ever increasing numbers after each `period` of time\n * thereafter.\n * @static true\n * @name timer\n * @owner Observable\n */\nexport function timer(dueTime: number | Date = 0,\n                      periodOrScheduler?: number | SchedulerLike,\n                      scheduler?: SchedulerLike): Observable<number> {\n  let period = -1;\n  if (isNumeric(periodOrScheduler)) {\n    period = Number(periodOrScheduler) < 1 && 1 || Number(periodOrScheduler);\n  } else if (isScheduler(periodOrScheduler)) {\n    scheduler = periodOrScheduler as any;\n  }\n\n  if (!isScheduler(scheduler)) {\n    scheduler = async;\n  }\n\n  return new Observable(subscriber => {\n    const due = isNumeric(dueTime)\n      ? (dueTime as number)\n      : (+dueTime - scheduler.now());\n\n    return scheduler.schedule(dispatch, due, {\n      index: 0, period, subscriber\n    });\n  });\n}\n\ninterface TimerState {\n  index: number;\n  period: number;\n  subscriber: Subscriber<number>;\n}\n\nfunction dispatch(this: SchedulerAction<TimerState>, state: TimerState) {\n  const { index, period, subscriber } = state;\n  subscriber.next(index);\n\n  if (subscriber.closed) {\n    return;\n  } else if (period === -1) {\n    return subscriber.complete();\n  }\n\n  state.index = index + 1;\n  this.schedule(state, period);\n}\n","import { Observable } from '../Observable';\nimport { Unsubscribable, ObservableInput } from '../types';\nimport { from } from './from'; // from from from! LAWL\nimport { EMPTY } from './empty';\n\n/**\n * Creates an Observable that uses a resource which will be disposed at the same time as the Observable.\n *\n * <span class=\"informal\">Use it when you catch yourself cleaning up after an Observable.</span>\n *\n * `using` is a factory operator, which accepts two functions. First function returns a disposable resource.\n * It can be an arbitrary object that implements `unsubscribe` method. Second function will be injected with\n * that object and should return an Observable. That Observable can use resource object during its execution.\n * Both functions passed to `using` will be called every time someone subscribes - neither an Observable nor\n * resource object will be shared in any way between subscriptions.\n *\n * When Observable returned by `using` is subscribed, Observable returned from the second function will be subscribed\n * as well. All its notifications (nexted values, completion and error events) will be emitted unchanged by the output\n * Observable. If however someone unsubscribes from the Observable or source Observable completes or errors by itself,\n * the `unsubscribe` method on resource object will be called. This can be used to do any necessary clean up, which\n * otherwise would have to be handled by hand. Note that complete or error notifications are not emitted when someone\n * cancels subscription to an Observable via `unsubscribe`, so `using` can be used as a hook, allowing you to make\n * sure that all resources which need to exist during an Observable execution will be disposed at appropriate time.\n *\n * @see {@link defer}\n *\n * @param {function(): ISubscription} resourceFactory A function which creates any resource object\n * that implements `unsubscribe` method.\n * @param {function(resource: ISubscription): Observable<T>} observableFactory A function which\n * creates an Observable, that can use injected resource object.\n * @return {Observable<T>} An Observable that behaves the same as Observable returned by `observableFactory`, but\n * which - when completed, errored or unsubscribed - will also call `unsubscribe` on created resource object.\n */\nexport function using<T>(resourceFactory: () => Unsubscribable | void,\n                         observableFactory: (resource: Unsubscribable | void) => ObservableInput<T> | void): Observable<T> {\n  return new Observable<T>(subscriber => {\n    let resource: Unsubscribable | void;\n\n    try {\n      resource = resourceFactory();\n    } catch (err) {\n      subscriber.error(err);\n      return undefined;\n    }\n\n    let result: ObservableInput<T> | void;\n    try {\n      result = observableFactory(resource);\n    } catch (err) {\n      subscriber.error(err);\n      return undefined;\n    }\n\n    const source = result ? from(result) : EMPTY;\n    const subscription = source.subscribe(subscriber);\n    return () => {\n      subscription.unsubscribe();\n      if (resource) {\n        resource.unsubscribe();\n      }\n    };\n  });\n}\n","import { Observable } from '../Observable';\nimport { fromArray } from './fromArray';\nimport { isArray } from '../util/isArray';\nimport { Operator } from '../Operator';\nimport { ObservableInput, PartialObserver, ObservedValueOf } from '../types';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { iterator as Symbol_iterator } from '../../internal/symbol/iterator';\n\n/* tslint:disable:max-line-length */\n/** @deprecated resultSelector is no longer supported, pipe to map instead */\nexport function zip<O1 extends ObservableInput<any>, R>(v1: O1, resultSelector: (v1: ObservedValueOf<O1>) => R): Observable<R>;\n/** @deprecated resultSelector is no longer supported, pipe to map instead */\nexport function zip<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>, R>(v1: O1, v2: O2, resultSelector: (v1: ObservedValueOf<O1>, v2: ObservedValueOf<O2>) => R): Observable<R>;\n/** @deprecated resultSelector is no longer supported, pipe to map instead */\nexport function zip<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>, R>(v1: O1, v2: O2, v3: O3, resultSelector: (v1: ObservedValueOf<O1>, v2: ObservedValueOf<O2>, v3: ObservedValueOf<O3>) => R): Observable<R>;\n/** @deprecated resultSelector is no longer supported, pipe to map instead */\nexport function zip<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>, O4 extends ObservableInput<any>, R>(v1: O1, v2: O2, v3: O3, v4: O4, resultSelector: (v1: ObservedValueOf<O1>, v2: ObservedValueOf<O2>, v3: ObservedValueOf<O3>, v4: ObservedValueOf<O4>) => R): Observable<R>;\n/** @deprecated resultSelector is no longer supported, pipe to map instead */\nexport function zip<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>, O4 extends ObservableInput<any>, O5 extends ObservableInput<any>, R>(v1: O1, v2: O2, v3: O3, v4: O4, v5: O5, resultSelector: (v1: ObservedValueOf<O1>, v2: ObservedValueOf<O2>, v3: ObservedValueOf<O3>, v4: ObservedValueOf<O4>, v5: ObservedValueOf<O5>) => R): Observable<R>;\n/** @deprecated resultSelector is no longer supported, pipe to map instead */\nexport function zip<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>, O4 extends ObservableInput<any>, O5 extends ObservableInput<any>, O6 extends ObservableInput<any>, R>(v1: O1, v2: O2, v3: O3, v4: O4, v5: O5, v6: O6, resultSelector: (v1: ObservedValueOf<O1>, v2: ObservedValueOf<O2>, v3: ObservedValueOf<O3>, v4: ObservedValueOf<O4>, v5: ObservedValueOf<O5>, v6: ObservedValueOf<O6>) => R): Observable<R>;\n\nexport function zip<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>>(v1: O1, v2: O2): Observable<[ObservedValueOf<O1>, ObservedValueOf<O2>]>;\nexport function zip<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>>(v1: O1, v2: O2, v3: O3): Observable<[ObservedValueOf<O1>, ObservedValueOf<O2>, ObservedValueOf<O3>]>;\nexport function zip<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>, O4 extends ObservableInput<any>>(v1: O1, v2: O2, v3: O3, v4: O4): Observable<[ObservedValueOf<O1>, ObservedValueOf<O2>, ObservedValueOf<O3>, ObservedValueOf<O4>]>;\nexport function zip<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>, O4 extends ObservableInput<any>, O5 extends ObservableInput<any>>(v1: O1, v2: O2, v3: O3, v4: O4, v5: O5): Observable<[ObservedValueOf<O1>, ObservedValueOf<O2>, ObservedValueOf<O3>, ObservedValueOf<O4>, ObservedValueOf<O5>]>;\nexport function zip<O1 extends ObservableInput<any>, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>, O4 extends ObservableInput<any>, O5 extends ObservableInput<any>, O6 extends ObservableInput<any>>(v1: O1, v2: O2, v3: O3, v4: O4, v5: O5, v6: O6): Observable<[ObservedValueOf<O1>, ObservedValueOf<O2>, ObservedValueOf<O3>, ObservedValueOf<O4>, ObservedValueOf<O5>, ObservedValueOf<O6>]>;\n\nexport function zip<O extends ObservableInput<any>>(array: O[]): Observable<ObservedValueOf<O>[]>;\nexport function zip<R>(array: ObservableInput<any>[]): Observable<R>;\n/** @deprecated resultSelector is no longer supported, pipe to map instead */\nexport function zip<O extends ObservableInput<any>, R>(array: O[], resultSelector: (...values: ObservedValueOf<O>[]) => R): Observable<R>;\n/** @deprecated resultSelector is no longer supported, pipe to map instead */\nexport function zip<R>(array: ObservableInput<any>[], resultSelector: (...values: any[]) => R): Observable<R>;\n\nexport function zip<O extends ObservableInput<any>>(...observables: O[]): Observable<ObservedValueOf<O>[]>;\nexport function zip<O extends ObservableInput<any>, R>(...observables: Array<O | ((...values: ObservedValueOf<O>[]) => R)>): Observable<R>;\nexport function zip<R>(...observables: Array<ObservableInput<any> | ((...values: Array<any>) => R)>): Observable<R>;\n/* tslint:enable:max-line-length */\n\n/**\n * Combines multiple Observables to create an Observable whose values are calculated from the values, in order, of each\n * of its input Observables.\n *\n * If the last parameter is a function, this function is used to compute the created value from the input values.\n * Otherwise, an array of the input values is returned.\n *\n * ## Example\n * Combine age and name from different sources\n * ```ts\n * import { zip, of } from 'rxjs';\n * import { map } from 'rxjs/operators';\n *\n * let age$ = of<number>(27, 25, 29);\n * let name$ = of<string>('Foo', 'Bar', 'Beer');\n * let isDev$ = of<boolean>(true, true, false);\n *\n * zip(age$, name$, isDev$).pipe(\n *   map(([age, name, isDev]) => ({ age, name, isDev })),\n * )\n * .subscribe(x => console.log(x));\n *\n * // outputs\n * // { age: 27, name: 'Foo', isDev: true }\n * // { age: 25, name: 'Bar', isDev: true }\n * // { age: 29, name: 'Beer', isDev: false }\n * ```\n * @param observables\n * @return {Observable<R>}\n * @static true\n * @name zip\n * @owner Observable\n */\nexport function zip<O extends ObservableInput<any>, R>(\n  ...observables: Array<O | ((...values: ObservedValueOf<O>[]) => R)>\n): Observable<ObservedValueOf<O>[]|R> {\n  const resultSelector = <((...ys: Array<any>) => R)> observables[observables.length - 1];\n  if (typeof resultSelector === 'function') {\n    observables.pop();\n  }\n  return fromArray(observables, undefined).lift(new ZipOperator(resultSelector));\n}\n\nexport class ZipOperator<T, R> implements Operator<T, R> {\n\n  resultSelector: (...values: Array<any>) => R;\n\n  constructor(resultSelector?: (...values: Array<any>) => R) {\n    this.resultSelector = resultSelector;\n  }\n\n  call(subscriber: Subscriber<R>, source: any): any {\n    return source.subscribe(new ZipSubscriber(subscriber, this.resultSelector));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class ZipSubscriber<T, R> extends Subscriber<T> {\n  private values: any;\n  private resultSelector: (...values: Array<any>) => R;\n  private iterators: LookAheadIterator<any>[] = [];\n  private active = 0;\n\n  constructor(destination: Subscriber<R>,\n              resultSelector?: (...values: Array<any>) => R,\n              values: any = Object.create(null)) {\n    super(destination);\n    this.resultSelector = (typeof resultSelector === 'function') ? resultSelector : null;\n    this.values = values;\n  }\n\n  protected _next(value: any) {\n    const iterators = this.iterators;\n    if (isArray(value)) {\n      iterators.push(new StaticArrayIterator(value));\n    } else if (typeof value[Symbol_iterator] === 'function') {\n      iterators.push(new StaticIterator(value[Symbol_iterator]()));\n    } else {\n      iterators.push(new ZipBufferIterator(this.destination, this, value));\n    }\n  }\n\n  protected _complete() {\n    const iterators = this.iterators;\n    const len = iterators.length;\n\n    this.unsubscribe();\n\n    if (len === 0) {\n      this.destination.complete();\n      return;\n    }\n\n    this.active = len;\n    for (let i = 0; i < len; i++) {\n      let iterator: ZipBufferIterator<any, any> = <any>iterators[i];\n      if (iterator.stillUnsubscribed) {\n        const destination = this.destination as Subscription;\n        destination.add(iterator.subscribe(iterator, i));\n      } else {\n        this.active--; // not an observable\n      }\n    }\n  }\n\n  notifyInactive() {\n    this.active--;\n    if (this.active === 0) {\n      this.destination.complete();\n    }\n  }\n\n  checkIterators() {\n    const iterators = this.iterators;\n    const len = iterators.length;\n    const destination = this.destination;\n\n    // abort if not all of them have values\n    for (let i = 0; i < len; i++) {\n      let iterator = iterators[i];\n      if (typeof iterator.hasValue === 'function' && !iterator.hasValue()) {\n        return;\n      }\n    }\n\n    let shouldComplete = false;\n    const args: any[] = [];\n    for (let i = 0; i < len; i++) {\n      let iterator = iterators[i];\n      let result = iterator.next();\n\n      // check to see if it's completed now that you've gotten\n      // the next value.\n      if (iterator.hasCompleted()) {\n        shouldComplete = true;\n      }\n\n      if (result.done) {\n        destination.complete();\n        return;\n      }\n\n      args.push(result.value);\n    }\n\n    if (this.resultSelector) {\n      this._tryresultSelector(args);\n    } else {\n      destination.next(args);\n    }\n\n    if (shouldComplete) {\n      destination.complete();\n    }\n  }\n\n  protected _tryresultSelector(args: any[]) {\n    let result: any;\n    try {\n      result = this.resultSelector.apply(this, args);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n    this.destination.next(result);\n  }\n}\n\ninterface LookAheadIterator<T> extends Iterator<T> {\n  hasValue(): boolean;\n  hasCompleted(): boolean;\n}\n\nclass StaticIterator<T> implements LookAheadIterator<T> {\n  private nextResult: IteratorResult<T>;\n\n  constructor(private iterator: Iterator<T>) {\n    this.nextResult = iterator.next();\n  }\n\n  hasValue() {\n    return true;\n  }\n\n  next(): IteratorResult<T> {\n    const result = this.nextResult;\n    this.nextResult = this.iterator.next();\n    return result;\n  }\n\n  hasCompleted() {\n    const nextResult = this.nextResult;\n    return nextResult && nextResult.done;\n  }\n}\n\nclass StaticArrayIterator<T> implements LookAheadIterator<T> {\n  private index = 0;\n  private length = 0;\n\n  constructor(private array: T[]) {\n    this.length = array.length;\n  }\n\n  [Symbol_iterator]() {\n    return this;\n  }\n\n  next(value?: any): IteratorResult<T> {\n    const i = this.index++;\n    const array = this.array;\n    return i < this.length ? { value: array[i], done: false } : { value: null, done: true };\n  }\n\n  hasValue() {\n    return this.array.length > this.index;\n  }\n\n  hasCompleted() {\n    return this.array.length === this.index;\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass ZipBufferIterator<T, R> extends OuterSubscriber<T, R> implements LookAheadIterator<T> {\n  stillUnsubscribed = true;\n  buffer: T[] = [];\n  isComplete = false;\n\n  constructor(destination: PartialObserver<T>,\n              private parent: ZipSubscriber<T, R>,\n              private observable: Observable<T>) {\n    super(destination);\n  }\n\n  [Symbol_iterator]() {\n    return this;\n  }\n\n  // NOTE: there is actually a name collision here with Subscriber.next and Iterator.next\n  //    this is legit because `next()` will never be called by a subscription in this case.\n  next(): IteratorResult<T> {\n    const buffer = this.buffer;\n    if (buffer.length === 0 && this.isComplete) {\n      return { value: null, done: true };\n    } else {\n      return { value: buffer.shift(), done: false };\n    }\n  }\n\n  hasValue() {\n    return this.buffer.length > 0;\n  }\n\n  hasCompleted() {\n    return this.buffer.length === 0 && this.isComplete;\n  }\n\n  notifyComplete() {\n    if (this.buffer.length > 0) {\n      this.isComplete = true;\n      this.parent.notifyInactive();\n    } else {\n      this.destination.complete();\n    }\n  }\n\n  notifyNext(outerValue: T, innerValue: any,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n    this.buffer.push(innerValue);\n    this.parent.checkIterators();\n  }\n\n  subscribe(value: any, index: number) {\n    return subscribeToResult<any, any>(this, this.observable, this, index);\n  }\n}\n","/* Observable */\nexport { Observable } from './internal/Observable';\nexport { ConnectableObservable } from './internal/observable/ConnectableObservable';\nexport { GroupedObservable } from './internal/operators/groupBy';\nexport { Operator } from './internal/Operator';\nexport { observable } from './internal/symbol/observable';\n\n/* Subjects */\nexport { Subject } from './internal/Subject';\nexport { BehaviorSubject } from './internal/BehaviorSubject';\nexport { ReplaySubject } from './internal/ReplaySubject';\nexport { AsyncSubject } from './internal/AsyncSubject';\n\n/* Schedulers */\nexport { asap as asapScheduler } from './internal/scheduler/asap';\nexport { async as asyncScheduler } from './internal/scheduler/async';\nexport { queue as queueScheduler } from './internal/scheduler/queue';\nexport { animationFrame as animationFrameScheduler } from './internal/scheduler/animationFrame';\nexport { VirtualTimeScheduler, VirtualAction } from './internal/scheduler/VirtualTimeScheduler';\nexport { Scheduler } from './internal/Scheduler';\n\n/* Subscription */\nexport { Subscription } from './internal/Subscription';\nexport { Subscriber } from './internal/Subscriber';\n\n/* Notification */\nexport { Notification, NotificationKind } from './internal/Notification';\n\n/* Utils */\nexport { pipe } from './internal/util/pipe';\nexport { noop } from './internal/util/noop';\nexport { identity } from './internal/util/identity';\nexport { isObservable } from './internal/util/isObservable';\n\n/* Error types */\nexport { ArgumentOutOfRangeError } from './internal/util/ArgumentOutOfRangeError';\nexport { EmptyError } from './internal/util/EmptyError';\nexport { ObjectUnsubscribedError } from './internal/util/ObjectUnsubscribedError';\nexport { UnsubscriptionError } from './internal/util/UnsubscriptionError';\nexport { TimeoutError } from './internal/util/TimeoutError';\n\n/* Static observable creation exports */\nexport { bindCallback } from './internal/observable/bindCallback';\nexport { bindNodeCallback } from './internal/observable/bindNodeCallback';\nexport { combineLatest } from './internal/observable/combineLatest';\nexport { concat } from './internal/observable/concat';\nexport { defer } from './internal/observable/defer';\nexport { empty } from './internal/observable/empty';\nexport { forkJoin } from './internal/observable/forkJoin';\nexport { from } from './internal/observable/from';\nexport { fromEvent } from './internal/observable/fromEvent';\nexport { fromEventPattern } from './internal/observable/fromEventPattern';\nexport { generate } from './internal/observable/generate';\nexport { iif } from './internal/observable/iif';\nexport { interval } from './internal/observable/interval';\nexport { merge } from './internal/observable/merge';\nexport { never } from './internal/observable/never';\nexport { of } from './internal/observable/of';\nexport { onErrorResumeNext } from './internal/observable/onErrorResumeNext';\nexport { pairs } from './internal/observable/pairs';\nexport { partition } from './internal/observable/partition';\nexport { race } from './internal/observable/race';\nexport { range } from './internal/observable/range';\nexport { throwError } from './internal/observable/throwError';\nexport { timer } from './internal/observable/timer';\nexport { using } from './internal/observable/using';\nexport { zip } from './internal/observable/zip';\nexport { scheduled } from './internal/scheduled/scheduled';\n\n/* Constants */\nexport { EMPTY } from './internal/observable/empty';\nexport { NEVER } from './internal/observable/never';\n\n/* Types */\nexport * from './internal/types';\n\n/* Config */\nexport { config } from './internal/config';\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nimport { MonoTypeOperatorFunction, SubscribableOrPromise, TeardownLogic } from '../types';\n\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\n\n/**\n * Ignores source values for a duration determined by another Observable, then\n * emits the most recent value from the source Observable, then repeats this\n * process.\n *\n * <span class=\"informal\">It's like {@link auditTime}, but the silencing\n * duration is determined by a second Observable.</span>\n *\n * ![](audit.png)\n *\n * `audit` is similar to `throttle`, but emits the last value from the silenced\n * time window, instead of the first value. `audit` emits the most recent value\n * from the source Observable on the output Observable as soon as its internal\n * timer becomes disabled, and ignores source values while the timer is enabled.\n * Initially, the timer is disabled. As soon as the first source value arrives,\n * the timer is enabled by calling the `durationSelector` function with the\n * source value, which returns the \"duration\" Observable. When the duration\n * Observable emits a value or completes, the timer is disabled, then the most\n * recent source value is emitted on the output Observable, and this process\n * repeats for the next source value.\n *\n * ## Example\n *\n * Emit clicks at a rate of at most one click per second\n * ```ts\n * import { fromEvent, interval } from 'rxjs';\n * import { audit } from 'rxjs/operators'\n *\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(audit(ev => interval(1000)));\n * result.subscribe(x => console.log(x));\n * ```\n * @see {@link auditTime}\n * @see {@link debounce}\n * @see {@link delayWhen}\n * @see {@link sample}\n * @see {@link throttle}\n *\n * @param {function(value: T): SubscribableOrPromise} durationSelector A function\n * that receives a value from the source Observable, for computing the silencing\n * duration, returned as an Observable or a Promise.\n * @return {Observable<T>} An Observable that performs rate-limiting of\n * emissions from the source Observable.\n * @method audit\n * @owner Observable\n */\nexport function audit<T>(durationSelector: (value: T) => SubscribableOrPromise<any>): MonoTypeOperatorFunction<T> {\n  return function auditOperatorFunction(source: Observable<T>) {\n    return source.lift(new AuditOperator(durationSelector));\n  };\n}\n\nclass AuditOperator<T> implements Operator<T, T> {\n  constructor(private durationSelector: (value: T) => SubscribableOrPromise<any>) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new AuditSubscriber<T, T>(subscriber, this.durationSelector));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass AuditSubscriber<T, R> extends OuterSubscriber<T, R> {\n\n  private value: T;\n  private hasValue: boolean = false;\n  private throttled: Subscription;\n\n  constructor(destination: Subscriber<T>,\n              private durationSelector: (value: T) => SubscribableOrPromise<any>) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    this.value = value;\n    this.hasValue = true;\n    if (!this.throttled) {\n      let duration;\n      try {\n        const { durationSelector } = this;\n        duration = durationSelector(value);\n      } catch (err) {\n        return this.destination.error(err);\n      }\n      const innerSubscription = subscribeToResult(this, duration);\n      if (!innerSubscription || innerSubscription.closed) {\n        this.clearThrottle();\n      } else {\n        this.add(this.throttled = innerSubscription);\n      }\n    }\n  }\n\n  clearThrottle() {\n    const { value, hasValue, throttled } = this;\n    if (throttled) {\n      this.remove(throttled);\n      this.throttled = null;\n      throttled.unsubscribe();\n    }\n    if (hasValue) {\n      this.value = null;\n      this.hasValue = false;\n      this.destination.next(value);\n    }\n  }\n\n  notifyNext(outerValue: T, innerValue: R, outerIndex: number, innerIndex: number): void {\n    this.clearThrottle();\n  }\n\n  notifyComplete(): void {\n    this.clearThrottle();\n  }\n}\n","import { async } from '../scheduler/async';\nimport { audit } from './audit';\nimport { timer } from '../observable/timer';\nimport { MonoTypeOperatorFunction, SchedulerLike } from '../types';\n\n/**\n * Ignores source values for `duration` milliseconds, then emits the most recent\n * value from the source Observable, then repeats this process.\n *\n * <span class=\"informal\">When it sees a source value, it ignores that plus\n * the next ones for `duration` milliseconds, and then it emits the most recent\n * value from the source.</span>\n *\n * ![](auditTime.png)\n *\n * `auditTime` is similar to `throttleTime`, but emits the last value from the\n * silenced time window, instead of the first value. `auditTime` emits the most\n * recent value from the source Observable on the output Observable as soon as\n * its internal timer becomes disabled, and ignores source values while the\n * timer is enabled. Initially, the timer is disabled. As soon as the first\n * source value arrives, the timer is enabled. After `duration` milliseconds (or\n * the time unit determined internally by the optional `scheduler`) has passed,\n * the timer is disabled, then the most recent source value is emitted on the\n * output Observable, and this process repeats for the next source value.\n * Optionally takes a {@link SchedulerLike} for managing timers.\n *\n * ## Example\n *\n * Emit clicks at a rate of at most one click per second\n * ```ts\n * import { fromEvent } from 'rxjs';\n * import { auditTime } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(auditTime(1000));\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link audit}\n * @see {@link debounceTime}\n * @see {@link delay}\n * @see {@link sampleTime}\n * @see {@link throttleTime}\n *\n * @param {number} duration Time to wait before emitting the most recent source\n * value, measured in milliseconds or the time unit determined internally\n * by the optional `scheduler`.\n * @param {SchedulerLike} [scheduler=async] The {@link SchedulerLike} to use for\n * managing the timers that handle the rate-limiting behavior.\n * @return {Observable<T>} An Observable that performs rate-limiting of\n * emissions from the source Observable.\n * @method auditTime\n * @owner Observable\n */\nexport function auditTime<T>(duration: number, scheduler: SchedulerLike = async): MonoTypeOperatorFunction<T> {\n  return audit(() => timer(duration, scheduler));\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { OperatorFunction } from '../types';\n\n/**\n * Buffers the source Observable values until `closingNotifier` emits.\n *\n * <span class=\"informal\">Collects values from the past as an array, and emits\n * that array only when another Observable emits.</span>\n *\n * ![](content/img/buffer.png)\n *\n * Buffers the incoming Observable values until the given `closingNotifier`\n * Observable emits a value, at which point it emits the buffer on the output\n * Observable and starts a new buffer internally, awaiting the next time\n * `closingNotifier` emits.\n *\n * ## Example\n *\n * On every click, emit array of most recent interval events\n *\n * ```ts\n * import { fromEvent, interval } from 'rxjs';\n * import { buffer } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const intervalEvents = interval(1000);\n * const buffered = intervalEvents.pipe(buffer(clicks));\n * buffered.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link bufferCount}\n * @see {@link bufferTime}\n * @see {@link bufferToggle}\n * @see {@link bufferWhen}\n * @see {@link window}\n *\n * @param {Observable<any>} closingNotifier An Observable that signals the\n * buffer to be emitted on the output Observable.\n * @return {Observable<T[]>} An Observable of buffers, which are arrays of\n * values.\n * @method buffer\n * @owner Observable\n */\nexport function buffer<T>(closingNotifier: Observable<any>): OperatorFunction<T, T[]> {\n  return function bufferOperatorFunction(source: Observable<T>) {\n    return source.lift(new BufferOperator<T>(closingNotifier));\n  };\n}\n\nclass BufferOperator<T> implements Operator<T, T[]> {\n\n  constructor(private closingNotifier: Observable<any>) {\n  }\n\n  call(subscriber: Subscriber<T[]>, source: any): any {\n    return source.subscribe(new BufferSubscriber(subscriber, this.closingNotifier));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass BufferSubscriber<T> extends OuterSubscriber<T, any> {\n  private buffer: T[] = [];\n\n  constructor(destination: Subscriber<T[]>, closingNotifier: Observable<any>) {\n    super(destination);\n    this.add(subscribeToResult(this, closingNotifier));\n  }\n\n  protected _next(value: T) {\n    this.buffer.push(value);\n  }\n\n  notifyNext(outerValue: T, innerValue: any,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, any>): void {\n    const buffer = this.buffer;\n    this.buffer = [];\n    this.destination.next(buffer);\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { OperatorFunction, TeardownLogic } from '../types';\n\n/**\n * Buffers the source Observable values until the size hits the maximum\n * `bufferSize` given.\n *\n * <span class=\"informal\">Collects values from the past as an array, and emits\n * that array only when its size reaches `bufferSize`.</span>\n *\n * ![](bufferCount.png)\n *\n * Buffers a number of values from the source Observable by `bufferSize` then\n * emits the buffer and clears it, and starts a new buffer each\n * `startBufferEvery` values. If `startBufferEvery` is not provided or is\n * `null`, then new buffers are started immediately at the start of the source\n * and when each buffer closes and is emitted.\n *\n * ## Examples\n *\n * Emit the last two click events as an array\n *\n * ```ts\n * import { fromEvent } from 'rxjs';\n * import { bufferCount } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const buffered = clicks.pipe(bufferCount(2));\n * buffered.subscribe(x => console.log(x));\n * ```\n *\n * On every click, emit the last two click events as an array\n *\n * ```ts\n * import { fromEvent } from 'rxjs';\n * import { bufferCount } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const buffered = clicks.pipe(bufferCount(2, 1));\n * buffered.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link buffer}\n * @see {@link bufferTime}\n * @see {@link bufferToggle}\n * @see {@link bufferWhen}\n * @see {@link pairwise}\n * @see {@link windowCount}\n *\n * @param {number} bufferSize The maximum size of the buffer emitted.\n * @param {number} [startBufferEvery] Interval at which to start a new buffer.\n * For example if `startBufferEvery` is `2`, then a new buffer will be started\n * on every other value from the source. A new buffer is started at the\n * beginning of the source by default.\n * @return {Observable<T[]>} An Observable of arrays of buffered values.\n * @method bufferCount\n * @owner Observable\n */\nexport function bufferCount<T>(bufferSize: number, startBufferEvery: number = null): OperatorFunction<T, T[]> {\n  return function bufferCountOperatorFunction(source: Observable<T>) {\n    return source.lift(new BufferCountOperator<T>(bufferSize, startBufferEvery));\n  };\n}\n\nclass BufferCountOperator<T> implements Operator<T, T[]> {\n  private subscriberClass: any;\n\n  constructor(private bufferSize: number, private startBufferEvery: number) {\n    if (!startBufferEvery || bufferSize === startBufferEvery) {\n      this.subscriberClass = BufferCountSubscriber;\n    } else {\n      this.subscriberClass = BufferSkipCountSubscriber;\n    }\n  }\n\n  call(subscriber: Subscriber<T[]>, source: any): TeardownLogic {\n    return source.subscribe(new this.subscriberClass(subscriber, this.bufferSize, this.startBufferEvery));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass BufferCountSubscriber<T> extends Subscriber<T> {\n  private buffer: T[] = [];\n\n  constructor(destination: Subscriber<T[]>, private bufferSize: number) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    const buffer = this.buffer;\n\n    buffer.push(value);\n\n    if (buffer.length == this.bufferSize) {\n      this.destination.next(buffer);\n      this.buffer = [];\n    }\n  }\n\n  protected _complete(): void {\n    const buffer = this.buffer;\n    if (buffer.length > 0) {\n      this.destination.next(buffer);\n    }\n    super._complete();\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass BufferSkipCountSubscriber<T> extends Subscriber<T> {\n  private buffers: Array<T[]> = [];\n  private count: number = 0;\n\n  constructor(destination: Subscriber<T[]>, private bufferSize: number, private startBufferEvery: number) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    const { bufferSize, startBufferEvery, buffers, count } = this;\n\n    this.count++;\n    if (count % startBufferEvery === 0) {\n      buffers.push([]);\n    }\n\n    for (let i = buffers.length; i--; ) {\n      const buffer = buffers[i];\n      buffer.push(value);\n      if (buffer.length === bufferSize) {\n        buffers.splice(i, 1);\n        this.destination.next(buffer);\n      }\n    }\n  }\n\n  protected _complete(): void {\n    const { buffers, destination } = this;\n\n    while (buffers.length > 0) {\n      let buffer = buffers.shift();\n      if (buffer.length > 0) {\n        destination.next(buffer);\n      }\n    }\n    super._complete();\n  }\n\n}\n","import { Operator } from '../Operator';\nimport { async } from '../scheduler/async';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { isScheduler } from '../util/isScheduler';\nimport { OperatorFunction, SchedulerAction, SchedulerLike } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function bufferTime<T>(bufferTimeSpan: number, scheduler?: SchedulerLike): OperatorFunction<T, T[]>;\nexport function bufferTime<T>(bufferTimeSpan: number, bufferCreationInterval: number | null | undefined, scheduler?: SchedulerLike): OperatorFunction<T, T[]>;\nexport function bufferTime<T>(bufferTimeSpan: number, bufferCreationInterval: number | null | undefined, maxBufferSize: number, scheduler?: SchedulerLike): OperatorFunction<T, T[]>;\n/* tslint:enable:max-line-length */\n\n/**\n * Buffers the source Observable values for a specific time period.\n *\n * <span class=\"informal\">Collects values from the past as an array, and emits\n * those arrays periodically in time.</span>\n *\n * ![](bufferTime.png)\n *\n * Buffers values from the source for a specific time duration `bufferTimeSpan`.\n * Unless the optional argument `bufferCreationInterval` is given, it emits and\n * resets the buffer every `bufferTimeSpan` milliseconds. If\n * `bufferCreationInterval` is given, this operator opens the buffer every\n * `bufferCreationInterval` milliseconds and closes (emits and resets) the\n * buffer every `bufferTimeSpan` milliseconds. When the optional argument\n * `maxBufferSize` is specified, the buffer will be closed either after\n * `bufferTimeSpan` milliseconds or when it contains `maxBufferSize` elements.\n *\n * ## Examples\n *\n * Every second, emit an array of the recent click events\n *\n * ```ts\n * import { fromEvent } from 'rxjs';\n * import { bufferTime } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const buffered = clicks.pipe(bufferTime(1000));\n * buffered.subscribe(x => console.log(x));\n * ```\n *\n * Every 5 seconds, emit the click events from the next 2 seconds\n *\n * ```ts\n * import { fromEvent } from 'rxjs';\n * import { bufferTime } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const buffered = clicks.pipe(bufferTime(2000, 5000));\n * buffered.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link buffer}\n * @see {@link bufferCount}\n * @see {@link bufferToggle}\n * @see {@link bufferWhen}\n * @see {@link windowTime}\n *\n * @param {number} bufferTimeSpan The amount of time to fill each buffer array.\n * @param {number} [bufferCreationInterval] The interval at which to start new\n * buffers.\n * @param {number} [maxBufferSize] The maximum buffer size.\n * @param {SchedulerLike} [scheduler=async] The scheduler on which to schedule the\n * intervals that determine buffer boundaries.\n * @return {Observable<T[]>} An observable of arrays of buffered values.\n * @method bufferTime\n * @owner Observable\n */\nexport function bufferTime<T>(bufferTimeSpan: number): OperatorFunction<T, T[]> {\n  let length: number = arguments.length;\n\n  let scheduler: SchedulerLike = async;\n  if (isScheduler(arguments[arguments.length - 1])) {\n    scheduler = arguments[arguments.length - 1];\n    length--;\n  }\n\n  let bufferCreationInterval: number = null;\n  if (length >= 2) {\n    bufferCreationInterval = arguments[1];\n  }\n\n  let maxBufferSize: number = Number.POSITIVE_INFINITY;\n  if (length >= 3) {\n    maxBufferSize = arguments[2];\n  }\n\n  return function bufferTimeOperatorFunction(source: Observable<T>) {\n    return source.lift(new BufferTimeOperator<T>(bufferTimeSpan, bufferCreationInterval, maxBufferSize, scheduler));\n  };\n}\n\nclass BufferTimeOperator<T> implements Operator<T, T[]> {\n  constructor(private bufferTimeSpan: number,\n              private bufferCreationInterval: number,\n              private maxBufferSize: number,\n              private scheduler: SchedulerLike) {\n  }\n\n  call(subscriber: Subscriber<T[]>, source: any): any {\n    return source.subscribe(new BufferTimeSubscriber(\n      subscriber, this.bufferTimeSpan, this.bufferCreationInterval, this.maxBufferSize, this.scheduler\n    ));\n  }\n}\n\nclass Context<T> {\n  buffer: T[] = [];\n  closeAction: Subscription;\n}\n\ninterface DispatchCreateArg<T> {\n  bufferTimeSpan: number;\n  bufferCreationInterval: number;\n  subscriber: BufferTimeSubscriber<T>;\n  scheduler: SchedulerLike;\n}\n\ninterface DispatchCloseArg<T> {\n  subscriber: BufferTimeSubscriber<T>;\n  context: Context<T>;\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass BufferTimeSubscriber<T> extends Subscriber<T> {\n  private contexts: Array<Context<T>> = [];\n  private timespanOnly: boolean;\n\n  constructor(destination: Subscriber<T[]>,\n              private bufferTimeSpan: number,\n              private bufferCreationInterval: number,\n              private maxBufferSize: number,\n              private scheduler: SchedulerLike) {\n    super(destination);\n    const context = this.openContext();\n    this.timespanOnly = bufferCreationInterval == null || bufferCreationInterval < 0;\n    if (this.timespanOnly) {\n      const timeSpanOnlyState = { subscriber: this, context, bufferTimeSpan };\n      this.add(context.closeAction = scheduler.schedule(dispatchBufferTimeSpanOnly, bufferTimeSpan, timeSpanOnlyState));\n    } else {\n      const closeState = { subscriber: this, context };\n      const creationState: DispatchCreateArg<T> = { bufferTimeSpan, bufferCreationInterval, subscriber: this, scheduler };\n      this.add(context.closeAction = scheduler.schedule<DispatchCloseArg<T>>(dispatchBufferClose, bufferTimeSpan, closeState));\n      this.add(scheduler.schedule<DispatchCreateArg<T>>(dispatchBufferCreation, bufferCreationInterval, creationState));\n    }\n  }\n\n  protected _next(value: T) {\n    const contexts = this.contexts;\n    const len = contexts.length;\n    let filledBufferContext: Context<T>;\n    for (let i = 0; i < len; i++) {\n      const context = contexts[i];\n      const buffer = context.buffer;\n      buffer.push(value);\n      if (buffer.length == this.maxBufferSize) {\n        filledBufferContext = context;\n      }\n    }\n\n    if (filledBufferContext) {\n      this.onBufferFull(filledBufferContext);\n    }\n  }\n\n  protected _error(err: any) {\n    this.contexts.length = 0;\n    super._error(err);\n  }\n\n  protected _complete() {\n    const { contexts, destination } = this;\n    while (contexts.length > 0) {\n      const context = contexts.shift();\n      destination.next(context.buffer);\n    }\n    super._complete();\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _unsubscribe() {\n    this.contexts = null;\n  }\n\n  protected onBufferFull(context: Context<T>) {\n    this.closeContext(context);\n    const closeAction = context.closeAction;\n    closeAction.unsubscribe();\n    this.remove(closeAction);\n\n    if (!this.closed && this.timespanOnly) {\n      context = this.openContext();\n      const bufferTimeSpan = this.bufferTimeSpan;\n      const timeSpanOnlyState = { subscriber: this, context, bufferTimeSpan };\n      this.add(context.closeAction = this.scheduler.schedule(dispatchBufferTimeSpanOnly, bufferTimeSpan, timeSpanOnlyState));\n    }\n  }\n\n  openContext(): Context<T> {\n    const context: Context<T> = new Context<T>();\n    this.contexts.push(context);\n    return context;\n  }\n\n  closeContext(context: Context<T>) {\n    this.destination.next(context.buffer);\n    const contexts = this.contexts;\n\n    const spliceIndex = contexts ? contexts.indexOf(context) : -1;\n    if (spliceIndex >= 0) {\n      contexts.splice(contexts.indexOf(context), 1);\n    }\n  }\n}\n\nfunction dispatchBufferTimeSpanOnly(this: SchedulerAction<any>, state: any) {\n  const subscriber: BufferTimeSubscriber<any> = state.subscriber;\n\n  const prevContext = state.context;\n  if (prevContext) {\n    subscriber.closeContext(prevContext);\n  }\n\n  if (!subscriber.closed) {\n    state.context = subscriber.openContext();\n    state.context.closeAction = this.schedule(state, state.bufferTimeSpan);\n  }\n}\n\nfunction dispatchBufferCreation<T>(this: SchedulerAction<DispatchCreateArg<T>>, state: DispatchCreateArg<T>) {\n  const { bufferCreationInterval, bufferTimeSpan, subscriber, scheduler } = state;\n  const context = subscriber.openContext();\n  const action = <SchedulerAction<DispatchCreateArg<T>>>this;\n  if (!subscriber.closed) {\n    subscriber.add(context.closeAction = scheduler.schedule<DispatchCloseArg<T>>(dispatchBufferClose, bufferTimeSpan, { subscriber, context }));\n    action.schedule(state, bufferCreationInterval);\n  }\n}\n\nfunction dispatchBufferClose<T>(arg: DispatchCloseArg<T>) {\n  const { subscriber, context } = arg;\n  subscriber.closeContext(context);\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { OperatorFunction, SubscribableOrPromise } from '../types';\n\n/**\n * Buffers the source Observable values starting from an emission from\n * `openings` and ending when the output of `closingSelector` emits.\n *\n * <span class=\"informal\">Collects values from the past as an array. Starts\n * collecting only when `opening` emits, and calls the `closingSelector`\n * function to get an Observable that tells when to close the buffer.</span>\n *\n * ![](bufferToggle.png)\n *\n * Buffers values from the source by opening the buffer via signals from an\n * Observable provided to `openings`, and closing and sending the buffers when\n * a Subscribable or Promise returned by the `closingSelector` function emits.\n *\n * ## Example\n *\n * Every other second, emit the click events from the next 500ms\n *\n * ```ts\n * import { fromEvent, interval, EMPTY } from 'rxjs';\n * import { bufferToggle } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const openings = interval(1000);\n * const buffered = clicks.pipe(bufferToggle(openings, i =>\n *   i % 2 ? interval(500) : EMPTY\n * ));\n * buffered.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link buffer}\n * @see {@link bufferCount}\n * @see {@link bufferTime}\n * @see {@link bufferWhen}\n * @see {@link windowToggle}\n *\n * @param {SubscribableOrPromise<O>} openings A Subscribable or Promise of notifications to start new\n * buffers.\n * @param {function(value: O): SubscribableOrPromise} closingSelector A function that takes\n * the value emitted by the `openings` observable and returns a Subscribable or Promise,\n * which, when it emits, signals that the associated buffer should be emitted\n * and cleared.\n * @return {Observable<T[]>} An observable of arrays of buffered values.\n * @method bufferToggle\n * @owner Observable\n */\nexport function bufferToggle<T, O>(\n  openings: SubscribableOrPromise<O>,\n  closingSelector: (value: O) => SubscribableOrPromise<any>\n): OperatorFunction<T, T[]> {\n  return function bufferToggleOperatorFunction(source: Observable<T>) {\n    return source.lift(new BufferToggleOperator<T, O>(openings, closingSelector));\n  };\n}\n\nclass BufferToggleOperator<T, O> implements Operator<T, T[]> {\n\n  constructor(private openings: SubscribableOrPromise<O>,\n              private closingSelector: (value: O) => SubscribableOrPromise<any>) {\n  }\n\n  call(subscriber: Subscriber<T[]>, source: any): any {\n    return source.subscribe(new BufferToggleSubscriber(subscriber, this.openings, this.closingSelector));\n  }\n}\n\ninterface BufferContext<T> {\n  buffer: T[];\n  subscription: Subscription;\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass BufferToggleSubscriber<T, O> extends OuterSubscriber<T, O> {\n  private contexts: Array<BufferContext<T>> = [];\n\n  constructor(destination: Subscriber<T[]>,\n              private openings: SubscribableOrPromise<O>,\n              private closingSelector: (value: O) => SubscribableOrPromise<any> | void) {\n    super(destination);\n    this.add(subscribeToResult(this, openings));\n  }\n\n  protected _next(value: T): void {\n    const contexts = this.contexts;\n    const len = contexts.length;\n    for (let i = 0; i < len; i++) {\n      contexts[i].buffer.push(value);\n    }\n  }\n\n  protected _error(err: any): void {\n    const contexts = this.contexts;\n    while (contexts.length > 0) {\n      const context = contexts.shift();\n      context.subscription.unsubscribe();\n      context.buffer = null;\n      context.subscription = null;\n    }\n    this.contexts = null;\n    super._error(err);\n  }\n\n  protected _complete(): void {\n    const contexts = this.contexts;\n    while (contexts.length > 0) {\n      const context = contexts.shift();\n      this.destination.next(context.buffer);\n      context.subscription.unsubscribe();\n      context.buffer = null;\n      context.subscription = null;\n    }\n    this.contexts = null;\n    super._complete();\n  }\n\n  notifyNext(outerValue: any, innerValue: O,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, O>): void {\n    outerValue ? this.closeBuffer(outerValue) : this.openBuffer(innerValue);\n  }\n\n  notifyComplete(innerSub: InnerSubscriber<T, O>): void {\n    this.closeBuffer((<any> innerSub).context);\n  }\n\n  private openBuffer(value: O): void {\n    try {\n      const closingSelector = this.closingSelector;\n      const closingNotifier = closingSelector.call(this, value);\n      if (closingNotifier) {\n        this.trySubscribe(closingNotifier);\n      }\n    } catch (err) {\n      this._error(err);\n    }\n  }\n\n  private closeBuffer(context: BufferContext<T>): void {\n    const contexts = this.contexts;\n\n    if (contexts && context) {\n      const { buffer, subscription } = context;\n      this.destination.next(buffer);\n      contexts.splice(contexts.indexOf(context), 1);\n      this.remove(subscription);\n      subscription.unsubscribe();\n    }\n  }\n\n  private trySubscribe(closingNotifier: any): void {\n    const contexts = this.contexts;\n\n    const buffer: Array<T> = [];\n    const subscription = new Subscription();\n    const context = { buffer, subscription };\n    contexts.push(context);\n\n    const innerSubscription = subscribeToResult(this, closingNotifier, <any>context);\n\n    if (!innerSubscription || innerSubscription.closed) {\n      this.closeBuffer(context);\n    } else {\n      (<any> innerSubscription).context = context;\n\n      this.add(innerSubscription);\n      subscription.add(innerSubscription);\n    }\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { OperatorFunction } from '../types';\n\n/**\n * Buffers the source Observable values, using a factory function of closing\n * Observables to determine when to close, emit, and reset the buffer.\n *\n * <span class=\"informal\">Collects values from the past as an array. When it\n * starts collecting values, it calls a function that returns an Observable that\n * tells when to close the buffer and restart collecting.</span>\n *\n * ![](bufferWhen.png)\n *\n * Opens a buffer immediately, then closes the buffer when the observable\n * returned by calling `closingSelector` function emits a value. When it closes\n * the buffer, it immediately opens a new buffer and repeats the process.\n *\n * ## Example\n *\n * Emit an array of the last clicks every [1-5] random seconds\n *\n * ```ts\n * import { fromEvent, interval } from 'rxjs';\n * import { bufferWhen } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const buffered = clicks.pipe(bufferWhen(() =>\n *   interval(1000 + Math.random() * 4000)\n * ));\n * buffered.subscribe(x => console.log(x));\n * ```\n *\n *\n * @see {@link buffer}\n * @see {@link bufferCount}\n * @see {@link bufferTime}\n * @see {@link bufferToggle}\n * @see {@link windowWhen}\n *\n * @param {function(): Observable} closingSelector A function that takes no\n * arguments and returns an Observable that signals buffer closure.\n * @return {Observable<T[]>} An observable of arrays of buffered values.\n * @method bufferWhen\n * @owner Observable\n */\nexport function bufferWhen<T>(closingSelector: () => Observable<any>): OperatorFunction<T, T[]> {\n  return function (source: Observable<T>) {\n    return source.lift(new BufferWhenOperator(closingSelector));\n  };\n}\n\nclass BufferWhenOperator<T> implements Operator<T, T[]> {\n\n  constructor(private closingSelector: () => Observable<any>) {\n  }\n\n  call(subscriber: Subscriber<T[]>, source: any): any {\n    return source.subscribe(new BufferWhenSubscriber(subscriber, this.closingSelector));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass BufferWhenSubscriber<T> extends OuterSubscriber<T, any> {\n  private buffer: T[];\n  private subscribing: boolean = false;\n  private closingSubscription: Subscription;\n\n  constructor(destination: Subscriber<T[]>, private closingSelector: () => Observable<any>) {\n    super(destination);\n    this.openBuffer();\n  }\n\n  protected _next(value: T) {\n    this.buffer.push(value);\n  }\n\n  protected _complete() {\n    const buffer = this.buffer;\n    if (buffer) {\n      this.destination.next(buffer);\n    }\n    super._complete();\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _unsubscribe() {\n    this.buffer = null;\n    this.subscribing = false;\n  }\n\n  notifyNext(outerValue: T, innerValue: any,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, any>): void {\n    this.openBuffer();\n  }\n\n  notifyComplete(): void {\n    if (this.subscribing) {\n      this.complete();\n    } else {\n      this.openBuffer();\n    }\n  }\n\n  openBuffer() {\n    let { closingSubscription } = this;\n\n    if (closingSubscription) {\n      this.remove(closingSubscription);\n      closingSubscription.unsubscribe();\n    }\n\n    const buffer = this.buffer;\n    if (this.buffer) {\n      this.destination.next(buffer);\n    }\n\n    this.buffer = [];\n\n    let closingNotifier;\n    try {\n      const { closingSelector } = this;\n      closingNotifier = closingSelector();\n    } catch (err) {\n      return this.error(err);\n    }\n    closingSubscription = new Subscription();\n    this.closingSubscription = closingSubscription;\n    this.add(closingSubscription);\n    this.subscribing = true;\n    closingSubscription.add(subscribeToResult(this, closingNotifier));\n    this.subscribing = false;\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\n\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { ObservableInput, OperatorFunction, ObservedValueOf } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function catchError<T, O extends ObservableInput<any>>(selector: (err: any, caught: Observable<T>) => O): OperatorFunction<T, T | ObservedValueOf<O>>;\n/* tslint:enable:max-line-length */\n\n/**\n * Catches errors on the observable to be handled by returning a new observable or throwing an error.\n *\n * ![](catch.png)\n *\n * ## Examples\n * Continues with a different Observable when there's an error\n *\n * ```ts\n * import { of } from 'rxjs';\n * import { map, catchError } from 'rxjs/operators';\n *\n * of(1, 2, 3, 4, 5).pipe(\n *     map(n => {\n *   \t   if (n === 4) {\n * \t       throw 'four!';\n *       }\n *\t     return n;\n *     }),\n *     catchError(err => of('I', 'II', 'III', 'IV', 'V')),\n *   )\n *   .subscribe(x => console.log(x));\n *   // 1, 2, 3, I, II, III, IV, V\n * ```\n *\n * Retries the caught source Observable again in case of error, similar to retry() operator\n *\n * ```ts\n * import { of } from 'rxjs';\n * import { map, catchError, take } from 'rxjs/operators';\n *\n * of(1, 2, 3, 4, 5).pipe(\n *     map(n => {\n *   \t   if (n === 4) {\n *   \t     throw 'four!';\n *       }\n * \t     return n;\n *     }),\n *     catchError((err, caught) => caught),\n *     take(30),\n *   )\n *   .subscribe(x => console.log(x));\n *   // 1, 2, 3, 1, 2, 3, ...\n * ```\n *\n * Throws a new error when the source Observable throws an error\n *\n * ```ts\n * import { of } from 'rxjs';\n * import { map, catchError } from 'rxjs/operators';\n *\n * of(1, 2, 3, 4, 5).pipe(\n *     map(n => {\n *       if (n === 4) {\n *         throw 'four!';\n *       }\n *       return n;\n *     }),\n *     catchError(err => {\n *       throw 'error in source. Details: ' + err;\n *     }),\n *   )\n *   .subscribe(\n *     x => console.log(x),\n *     err => console.log(err)\n *   );\n *   // 1, 2, 3, error in source. Details: four!\n * ```\n *\n *  @param {function} selector a function that takes as arguments `err`, which is the error, and `caught`, which\n *  is the source observable, in case you'd like to \"retry\" that observable by returning it again. Whatever observable\n *  is returned by the `selector` will be used to continue the observable chain.\n * @return {Observable} An observable that originates from either the source or the observable returned by the\n *  catch `selector` function.\n * @name catchError\n */\nexport function catchError<T, O extends ObservableInput<any>>(\n  selector: (err: any, caught: Observable<T>) => O\n): OperatorFunction<T, T | ObservedValueOf<O>> {\n  return function catchErrorOperatorFunction(source: Observable<T>): Observable<T | ObservedValueOf<O>> {\n    const operator = new CatchOperator(selector);\n    const caught = source.lift(operator);\n    return (operator.caught = caught as Observable<T>);\n  };\n}\n\nclass CatchOperator<T, R> implements Operator<T, T | R> {\n  caught: Observable<T>;\n\n  constructor(private selector: (err: any, caught: Observable<T>) => ObservableInput<T | R>) {\n  }\n\n  call(subscriber: Subscriber<R>, source: any): any {\n    return source.subscribe(new CatchSubscriber(subscriber, this.selector, this.caught));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass CatchSubscriber<T, R> extends OuterSubscriber<T, T | R> {\n  constructor(destination: Subscriber<any>,\n              private selector: (err: any, caught: Observable<T>) => ObservableInput<T | R>,\n              private caught: Observable<T>) {\n    super(destination);\n  }\n\n  // NOTE: overriding `error` instead of `_error` because we don't want\n  // to have this flag this subscriber as `isStopped`. We can mimic the\n  // behavior of the RetrySubscriber (from the `retry` operator), where\n  // we unsubscribe from our source chain, reset our Subscriber flags,\n  // then subscribe to the selector result.\n  error(err: any) {\n    if (!this.isStopped) {\n      let result: any;\n      try {\n        result = this.selector(err, this.caught);\n      } catch (err2) {\n        super.error(err2);\n        return;\n      }\n      this._unsubscribeAndRecycle();\n      const innerSubscriber = new InnerSubscriber(this, undefined, undefined);\n      this.add(innerSubscriber);\n      subscribeToResult(this, result, undefined, undefined, innerSubscriber);\n    }\n  }\n}\n","import { CombineLatestOperator } from '../observable/combineLatest';\nimport { Observable } from '../Observable';\nimport { OperatorFunction, ObservableInput } from '../types';\n\nexport function combineAll<T>(): OperatorFunction<ObservableInput<T>, T[]>;\nexport function combineAll<T>(): OperatorFunction<any, T[]>;\nexport function combineAll<T, R>(project: (...values: T[]) => R): OperatorFunction<ObservableInput<T>, R>;\nexport function combineAll<R>(project: (...values: Array<any>) => R): OperatorFunction<any, R>;\n/**\n * Flattens an Observable-of-Observables by applying {@link combineLatest} when the Observable-of-Observables completes.\n *\n * ![](combineAll.png)\n *\n * `combineAll` takes an Observable of Observables, and collects all Observables from it. Once the outer Observable completes,\n * it subscribes to all collected Observables and combines their values using the {@link combineLatest}</a> strategy, such that:\n *\n * * Every time an inner Observable emits, the output Observable emits\n * * When the returned observable emits, it emits all of the latest values by:\n *    * If a `project` function is provided, it is called with each recent value from each inner Observable in whatever order they\n *      arrived, and the result of the `project` function is what is emitted by the output Observable.\n *    * If there is no `project` function, an array of all the most recent values is emitted by the output Observable.\n *\n * ---\n *\n * ## Examples\n *\n * ### Map two click events to a finite interval Observable, then apply `combineAll`\n *\n * ```ts\n * import { fromEvent, interval } from 'rxjs';\n * import { map, combineAll, take } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const higherOrder = clicks.pipe(\n *   map(ev =>\n *      interval(Math.random() * 2000).pipe(take(3))\n *   ),\n *   take(2)\n * );\n * const result = higherOrder.pipe(\n *   combineAll()\n * );\n *\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link combineLatest}\n * @see {@link mergeAll}\n *\n * @param {function(...values: Array<any>)} An optional function to map the most recent values from each inner Observable into a new result.\n * Takes each of the most recent values from each collected inner Observable as arguments, in order.\n * @return {Observable<T>}\n * @name combineAll\n */\nexport function combineAll<T, R>(project?: (...values: Array<any>) => R): OperatorFunction<T, R> {\n  return (source: Observable<T>) => source.lift(new CombineLatestOperator(project));\n}\n","\nimport { isArray } from '../util/isArray';\nimport { CombineLatestOperator } from '../observable/combineLatest';\nimport { from } from '../observable/from';\nimport { Observable } from '../Observable';\nimport { ObservableInput, OperatorFunction } from '../types';\n\nconst none = {};\n\n/* tslint:disable:max-line-length */\n/** @deprecated Deprecated in favor of static combineLatest. */\nexport function combineLatest<T, R>(project: (v1: T) => R): OperatorFunction<T, R>;\n/** @deprecated Deprecated in favor of static combineLatest. */\nexport function combineLatest<T, T2, R>(v2: ObservableInput<T2>, project: (v1: T, v2: T2) => R): OperatorFunction<T, R>;\n/** @deprecated Deprecated in favor of static combineLatest. */\nexport function combineLatest<T, T2, T3, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, project: (v1: T, v2: T2, v3: T3) => R): OperatorFunction<T, R>;\n/** @deprecated Deprecated in favor of static combineLatest. */\nexport function combineLatest<T, T2, T3, T4, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, project: (v1: T, v2: T2, v3: T3, v4: T4) => R): OperatorFunction<T, R>;\n/** @deprecated Deprecated in favor of static combineLatest. */\nexport function combineLatest<T, T2, T3, T4, T5, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, project: (v1: T, v2: T2, v3: T3, v4: T4, v5: T5) => R): OperatorFunction<T, R>;\n/** @deprecated Deprecated in favor of static combineLatest. */\nexport function combineLatest<T, T2, T3, T4, T5, T6, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>, project: (v1: T, v2: T2, v3: T3, v4: T4, v5: T5, v6: T6) => R): OperatorFunction<T, R> ;\n/** @deprecated Deprecated in favor of static combineLatest. */\nexport function combineLatest<T, T2>(v2: ObservableInput<T2>): OperatorFunction<T, [T, T2]>;\n/** @deprecated Deprecated in favor of static combineLatest. */\nexport function combineLatest<T, T2, T3>(v2: ObservableInput<T2>, v3: ObservableInput<T3>): OperatorFunction<T, [T, T2, T3]>;\n/** @deprecated Deprecated in favor of static combineLatest. */\nexport function combineLatest<T, T2, T3, T4>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>): OperatorFunction<T, [T, T2, T3, T4]>;\n/** @deprecated Deprecated in favor of static combineLatest. */\nexport function combineLatest<T, T2, T3, T4, T5>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>): OperatorFunction<T, [T, T2, T3, T4, T5]>;\n/** @deprecated Deprecated in favor of static combineLatest. */\nexport function combineLatest<T, T2, T3, T4, T5, T6>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>): OperatorFunction<T, [T, T2, T3, T4, T5, T6]> ;\n/** @deprecated Deprecated in favor of static combineLatest. */\nexport function combineLatest<T, R>(...observables: Array<ObservableInput<T> | ((...values: Array<T>) => R)>): OperatorFunction<T, R>;\n/** @deprecated Deprecated in favor of static combineLatest. */\nexport function combineLatest<T, R>(array: ObservableInput<T>[]): OperatorFunction<T, Array<T>>;\n/** @deprecated Deprecated in favor of static combineLatest. */\nexport function combineLatest<T, TOther, R>(array: ObservableInput<TOther>[], project: (v1: T, ...values: Array<TOther>) => R): OperatorFunction<T, R>;\n/* tslint:enable:max-line-length */\n\n/**\n * @deprecated Deprecated in favor of static {@link combineLatest}.\n */\nexport function combineLatest<T, R>(...observables: Array<ObservableInput<any> |\n                                                    Array<ObservableInput<any>> |\n                                                    ((...values: Array<any>) => R)>): OperatorFunction<T, R> {\n  let project: (...values: Array<any>) => R = null;\n  if (typeof observables[observables.length - 1] === 'function') {\n    project = <(...values: Array<any>) => R>observables.pop();\n  }\n\n  // if the first and only other argument besides the resultSelector is an array\n  // assume it's been called with `combineLatest([obs1, obs2, obs3], project)`\n  if (observables.length === 1 && isArray(observables[0])) {\n    observables = (<any>observables[0]).slice();\n  }\n\n  return (source: Observable<T>) => source.lift.call(from([source, ...observables]), new CombineLatestOperator(project));\n}\n","import {  concat as concatStatic } from '../observable/concat';\nimport { Observable } from '../Observable';\nimport { ObservableInput, OperatorFunction, MonoTypeOperatorFunction, SchedulerLike } from '../types';\n\n/* tslint:disable:max-line-length */\n/** @deprecated Deprecated in favor of static concat. */\nexport function concat<T>(scheduler?: SchedulerLike): MonoTypeOperatorFunction<T>;\n/** @deprecated Deprecated in favor of static concat. */\nexport function concat<T, T2>(v2: ObservableInput<T2>, scheduler?: SchedulerLike): OperatorFunction<T, T | T2>;\n/** @deprecated Deprecated in favor of static concat. */\nexport function concat<T, T2, T3>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, scheduler?: SchedulerLike): OperatorFunction<T, T | T2 | T3>;\n/** @deprecated Deprecated in favor of static concat. */\nexport function concat<T, T2, T3, T4>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, scheduler?: SchedulerLike): OperatorFunction<T, T | T2 | T3 | T4>;\n/** @deprecated Deprecated in favor of static concat. */\nexport function concat<T, T2, T3, T4, T5>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, scheduler?: SchedulerLike): OperatorFunction<T, T | T2 | T3 | T4 | T5>;\n/** @deprecated Deprecated in favor of static concat. */\nexport function concat<T, T2, T3, T4, T5, T6>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>, scheduler?: SchedulerLike): OperatorFunction<T, T | T2 | T3 | T4 | T5 | T6>;\n/** @deprecated Deprecated in favor of static concat. */\nexport function concat<T>(...observables: Array<ObservableInput<T> | SchedulerLike>): MonoTypeOperatorFunction<T>;\n/** @deprecated Deprecated in favor of static concat. */\nexport function concat<T, R>(...observables: Array<ObservableInput<any> | SchedulerLike>): OperatorFunction<T, R>;\n/* tslint:enable:max-line-length */\n\n/**\n * @deprecated Deprecated in favor of static {@link concat}.\n */\nexport function concat<T, R>(...observables: Array<ObservableInput<any> | SchedulerLike>): OperatorFunction<T, R> {\n  return (source: Observable<T>) => source.lift.call(concatStatic(source, ...observables));\n}\n","import { mergeMap } from './mergeMap';\nimport { ObservableInput, OperatorFunction, ObservedValueOf } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function concatMap<T, O extends ObservableInput<any>>(project: (value: T, index: number) =>  O): OperatorFunction<T, ObservedValueOf<O>>;\n/** @deprecated resultSelector no longer supported, use inner map instead */\nexport function concatMap<T, O extends ObservableInput<any>>(project: (value: T, index: number) => O, resultSelector: undefined): OperatorFunction<T, ObservedValueOf<O>>;\n/** @deprecated resultSelector no longer supported, use inner map instead */\nexport function concatMap<T, R, O extends ObservableInput<any>>(project: (value: T, index: number) =>  O, resultSelector: (outerValue: T, innerValue: ObservedValueOf<O>, outerIndex: number, innerIndex: number) => R): OperatorFunction<T, R>;\n/* tslint:enable:max-line-length */\n\n/**\n * Projects each source value to an Observable which is merged in the output\n * Observable, in a serialized fashion waiting for each one to complete before\n * merging the next.\n *\n * <span class=\"informal\">Maps each value to an Observable, then flattens all of\n * these inner Observables using {@link concatAll}.</span>\n *\n * ![](concatMap.png)\n *\n * Returns an Observable that emits items based on applying a function that you\n * supply to each item emitted by the source Observable, where that function\n * returns an (so-called \"inner\") Observable. Each new inner Observable is\n * concatenated with the previous inner Observable.\n *\n * __Warning:__ if source values arrive endlessly and faster than their\n * corresponding inner Observables can complete, it will result in memory issues\n * as inner Observables amass in an unbounded buffer waiting for their turn to\n * be subscribed to.\n *\n * Note: `concatMap` is equivalent to `mergeMap` with concurrency parameter set\n * to `1`.\n *\n * ## Example\n * For each click event, tick every second from 0 to 3, with no concurrency\n *\n * ```ts\n * import { fromEvent, interval } from 'rxjs';\n * import { concatMap, take } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(\n *   concatMap(ev => interval(1000).pipe(take(4)))\n * );\n * result.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // (results are not concurrent)\n * // For every click on the \"document\" it will emit values 0 to 3 spaced\n * // on a 1000ms interval\n * // one click = 1000ms-> 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3\n * ```\n *\n * @see {@link concat}\n * @see {@link concatAll}\n * @see {@link concatMapTo}\n * @see {@link exhaustMap}\n * @see {@link mergeMap}\n * @see {@link switchMap}\n *\n * @param {function(value: T, ?index: number): ObservableInput} project A function\n * that, when applied to an item emitted by the source Observable, returns an\n * Observable.\n * @return {Observable} An Observable that emits the result of applying the\n * projection function (and the optional deprecated `resultSelector`) to each item emitted\n * by the source Observable and taking values from each projected inner\n * Observable sequentially.\n * @method concatMap\n * @owner Observable\n */\nexport function concatMap<T, R, O extends ObservableInput<any>>(\n  project: (value: T, index: number) => O,\n  resultSelector?: (outerValue: T, innerValue: ObservedValueOf<O>, outerIndex: number, innerIndex: number) => R\n): OperatorFunction<T, ObservedValueOf<O>|R> {\n  return mergeMap(project, resultSelector, 1);\n}\n","import { concatMap } from './concatMap';\nimport { ObservableInput, OperatorFunction, ObservedValueOf } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function concatMapTo<T, O extends ObservableInput<any>>(observable: O): OperatorFunction<T, ObservedValueOf<O>>;\n/** @deprecated */\nexport function concatMapTo<T, O extends ObservableInput<any>>(observable: O, resultSelector: undefined): OperatorFunction<T, ObservedValueOf<O>>;\n/** @deprecated */\nexport function concatMapTo<T, R, O extends ObservableInput<any>>(observable: O, resultSelector: (outerValue: T, innerValue: ObservedValueOf<O>, outerIndex: number, innerIndex: number) => R): OperatorFunction<T, R>;\n/* tslint:enable:max-line-length */\n\n/**\n * Projects each source value to the same Observable which is merged multiple\n * times in a serialized fashion on the output Observable.\n *\n * <span class=\"informal\">It's like {@link concatMap}, but maps each value\n * always to the same inner Observable.</span>\n *\n * ![](concatMapTo.png)\n *\n * Maps each source value to the given Observable `innerObservable` regardless\n * of the source value, and then flattens those resulting Observables into one\n * single Observable, which is the output Observable. Each new `innerObservable`\n * instance emitted on the output Observable is concatenated with the previous\n * `innerObservable` instance.\n *\n * __Warning:__ if source values arrive endlessly and faster than their\n * corresponding inner Observables can complete, it will result in memory issues\n * as inner Observables amass in an unbounded buffer waiting for their turn to\n * be subscribed to.\n *\n * Note: `concatMapTo` is equivalent to `mergeMapTo` with concurrency parameter\n * set to `1`.\n *\n * ## Example\n * For each click event, tick every second from 0 to 3, with no concurrency\n * ```ts\n * import { fromEvent, interval } from 'rxjs';\n * import { concatMapTo, take } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(\n *   concatMapTo(interval(1000).pipe(take(4))),\n * );\n * result.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // (results are not concurrent)\n * // For every click on the \"document\" it will emit values 0 to 3 spaced\n * // on a 1000ms interval\n * // one click = 1000ms-> 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3\n * ```\n *\n * @see {@link concat}\n * @see {@link concatAll}\n * @see {@link concatMap}\n * @see {@link mergeMapTo}\n * @see {@link switchMapTo}\n *\n * @param {ObservableInput} innerObservable An Observable to replace each value from\n * the source Observable.\n * @return {Observable} An observable of values merged together by joining the\n * passed observable with itself, one after the other, for each value emitted\n * from the source.\n * @method concatMapTo\n * @owner Observable\n */\nexport function concatMapTo<T, R, O extends ObservableInput<any>>(\n  innerObservable: O,\n  resultSelector?: (outerValue: T, innerValue: ObservedValueOf<O>, outerIndex: number, innerIndex: number) => R\n): OperatorFunction<T, ObservedValueOf<O>|R> {\n  return concatMap(() => innerObservable, resultSelector);\n}\n","import { Observable } from '../Observable';\nimport { Operator } from '../Operator';\nimport { Observer, OperatorFunction } from '../types';\nimport { Subscriber } from '../Subscriber';\n/**\n * Counts the number of emissions on the source and emits that number when the\n * source completes.\n *\n * <span class=\"informal\">Tells how many values were emitted, when the source\n * completes.</span>\n *\n * ![](count.png)\n *\n * `count` transforms an Observable that emits values into an Observable that\n * emits a single value that represents the number of values emitted by the\n * source Observable. If the source Observable terminates with an error, `count`\n * will pass this error notification along without emitting a value first. If\n * the source Observable does not terminate at all, `count` will neither emit\n * a value nor terminate. This operator takes an optional `predicate` function\n * as argument, in which case the output emission will represent the number of\n * source values that matched `true` with the `predicate`.\n *\n * ## Examples\n *\n * Counts how many seconds have passed before the first click happened\n * ```ts\n * import { fromEvent, interval } from 'rxjs';\n * import { count, takeUntil } from 'rxjs/operators';\n *\n * const seconds = interval(1000);\n * const clicks = fromEvent(document, 'click');\n * const secondsBeforeClick = seconds.pipe(takeUntil(clicks));\n * const result = secondsBeforeClick.pipe(count());\n * result.subscribe(x => console.log(x));\n * ```\n *\n * Counts how many odd numbers are there between 1 and 7\n * ```ts\n * import { range } from 'rxjs';\n * import { count } from 'rxjs/operators';\n *\n * const numbers = range(1, 7);\n * const result = numbers.pipe(count(i => i % 2 === 1));\n * result.subscribe(x => console.log(x));\n * // Results in:\n * // 4\n * ```\n *\n * @see {@link max}\n * @see {@link min}\n * @see {@link reduce}\n *\n * @param {function(value: T, i: number, source: Observable<T>): boolean} [predicate] A\n * boolean function to select what values are to be counted. It is provided with\n * arguments of:\n * - `value`: the value from the source Observable.\n * - `index`: the (zero-based) \"index\" of the value from the source Observable.\n * - `source`: the source Observable instance itself.\n * @return {Observable} An Observable of one number that represents the count as\n * described above.\n * @method count\n * @owner Observable\n */\n\nexport function count<T>(predicate?: (value: T, index: number, source: Observable<T>) => boolean): OperatorFunction<T, number> {\n  return (source: Observable<T>) => source.lift(new CountOperator(predicate, source));\n}\n\nclass CountOperator<T> implements Operator<T, number> {\n  constructor(private predicate?: (value: T, index: number, source: Observable<T>) => boolean,\n              private source?: Observable<T>) {\n  }\n\n  call(subscriber: Subscriber<number>, source: any): any {\n    return source.subscribe(new CountSubscriber(subscriber, this.predicate, this.source));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass CountSubscriber<T> extends Subscriber<T> {\n  private count: number = 0;\n  private index: number = 0;\n\n  constructor(destination: Observer<number>,\n              private predicate?: (value: T, index: number, source: Observable<T>) => boolean,\n              private source?: Observable<T>) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    if (this.predicate) {\n      this._tryPredicate(value);\n    } else {\n      this.count++;\n    }\n  }\n\n  private _tryPredicate(value: T) {\n    let result: any;\n\n    try {\n      result = this.predicate(value, this.index++, this.source);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n\n    if (result) {\n      this.count++;\n    }\n  }\n\n  protected _complete(): void {\n    this.destination.next(this.count);\n    this.destination.complete();\n  }\n}\n","import { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { MonoTypeOperatorFunction, SubscribableOrPromise, TeardownLogic } from '../types';\n\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\n\n/**\n * Emits a value from the source Observable only after a particular time span\n * determined by another Observable has passed without another source emission.\n *\n * <span class=\"informal\">It's like {@link debounceTime}, but the time span of\n * emission silence is determined by a second Observable.</span>\n *\n * ![](debounce.png)\n *\n * `debounce` delays values emitted by the source Observable, but drops previous\n * pending delayed emissions if a new value arrives on the source Observable.\n * This operator keeps track of the most recent value from the source\n * Observable, and spawns a duration Observable by calling the\n * `durationSelector` function. The value is emitted only when the duration\n * Observable emits a value or completes, and if no other value was emitted on\n * the source Observable since the duration Observable was spawned. If a new\n * value appears before the duration Observable emits, the previous value will\n * be dropped and will not be emitted on the output Observable.\n *\n * Like {@link debounceTime}, this is a rate-limiting operator, and also a\n * delay-like operator since output emissions do not necessarily occur at the\n * same time as they did on the source Observable.\n *\n * ## Example\n * Emit the most recent click after a burst of clicks\n * ```ts\n * import { fromEvent, interval } from 'rxjs';\n * import { debounce } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(debounce(() => interval(1000)));\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link audit}\n * @see {@link debounceTime}\n * @see {@link delayWhen}\n * @see {@link throttle}\n *\n * @param {function(value: T): SubscribableOrPromise} durationSelector A function\n * that receives a value from the source Observable, for computing the timeout\n * duration for each source value, returned as an Observable or a Promise.\n * @return {Observable} An Observable that delays the emissions of the source\n * Observable by the specified duration Observable returned by\n * `durationSelector`, and may drop some values if they occur too frequently.\n * @method debounce\n * @owner Observable\n */\nexport function debounce<T>(durationSelector: (value: T) => SubscribableOrPromise<any>): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(new DebounceOperator(durationSelector));\n}\n\nclass DebounceOperator<T> implements Operator<T, T> {\n  constructor(private durationSelector: (value: T) => SubscribableOrPromise<any>) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new DebounceSubscriber(subscriber, this.durationSelector));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass DebounceSubscriber<T, R> extends OuterSubscriber<T, R> {\n  private value: T;\n  private hasValue: boolean = false;\n  private durationSubscription: Subscription = null;\n\n  constructor(destination: Subscriber<R>,\n              private durationSelector: (value: T) => SubscribableOrPromise<any>) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    try {\n      const result = this.durationSelector.call(this, value);\n\n      if (result) {\n        this._tryNext(value, result);\n      }\n    } catch (err) {\n      this.destination.error(err);\n    }\n  }\n\n  protected _complete(): void {\n    this.emitValue();\n    this.destination.complete();\n  }\n\n  private _tryNext(value: T, duration: SubscribableOrPromise<any>): void {\n    let subscription = this.durationSubscription;\n    this.value = value;\n    this.hasValue = true;\n    if (subscription) {\n      subscription.unsubscribe();\n      this.remove(subscription);\n    }\n\n    subscription = subscribeToResult(this, duration);\n    if (subscription && !subscription.closed) {\n      this.add(this.durationSubscription = subscription);\n    }\n  }\n\n  notifyNext(outerValue: T, innerValue: R,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n    this.emitValue();\n  }\n\n  notifyComplete(): void {\n    this.emitValue();\n  }\n\n  emitValue(): void {\n    if (this.hasValue) {\n      const value = this.value;\n      const subscription = this.durationSubscription;\n      if (subscription) {\n        this.durationSubscription = null;\n        subscription.unsubscribe();\n        this.remove(subscription);\n      }\n      // This must be done *before* passing the value\n      // along to the destination because it's possible for\n      // the value to synchronously re-enter this operator\n      // recursively if the duration selector Observable\n      // emits synchronously\n      this.value = null;\n      this.hasValue = false;\n      super._next(value);\n    }\n  }\n}\n","import { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { async } from '../scheduler/async';\nimport { MonoTypeOperatorFunction, SchedulerLike, TeardownLogic } from '../types';\n\n/**\n * Emits a value from the source Observable only after a particular time span\n * has passed without another source emission.\n *\n * <span class=\"informal\">It's like {@link delay}, but passes only the most\n * recent value from each burst of emissions.</span>\n *\n * ![](debounceTime.png)\n *\n * `debounceTime` delays values emitted by the source Observable, but drops\n * previous pending delayed emissions if a new value arrives on the source\n * Observable. This operator keeps track of the most recent value from the\n * source Observable, and emits that only when `dueTime` enough time has passed\n * without any other value appearing on the source Observable. If a new value\n * appears before `dueTime` silence occurs, the previous value will be dropped\n * and will not be emitted on the output Observable.\n *\n * This is a rate-limiting operator, because it is impossible for more than one\n * value to be emitted in any time window of duration `dueTime`, but it is also\n * a delay-like operator since output emissions do not occur at the same time as\n * they did on the source Observable. Optionally takes a {@link SchedulerLike} for\n * managing timers.\n *\n * ## Example\n * Emit the most recent click after a burst of clicks\n * ```ts\n * import { fromEvent } from 'rxjs';\n * import { debounceTime } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(debounceTime(1000));\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link auditTime}\n * @see {@link debounce}\n * @see {@link delay}\n * @see {@link sampleTime}\n * @see {@link throttleTime}\n *\n * @param {number} dueTime The timeout duration in milliseconds (or the time\n * unit determined internally by the optional `scheduler`) for the window of\n * time required to wait for emission silence before emitting the most recent\n * source value.\n * @param {SchedulerLike} [scheduler=async] The {@link SchedulerLike} to use for\n * managing the timers that handle the timeout for each value.\n * @return {Observable} An Observable that delays the emissions of the source\n * Observable by the specified `dueTime`, and may drop some values if they occur\n * too frequently.\n * @method debounceTime\n * @owner Observable\n */\nexport function debounceTime<T>(dueTime: number, scheduler: SchedulerLike = async): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(new DebounceTimeOperator(dueTime, scheduler));\n}\n\nclass DebounceTimeOperator<T> implements Operator<T, T> {\n  constructor(private dueTime: number, private scheduler: SchedulerLike) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new DebounceTimeSubscriber(subscriber, this.dueTime, this.scheduler));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass DebounceTimeSubscriber<T> extends Subscriber<T> {\n  private debouncedSubscription: Subscription = null;\n  private lastValue: T = null;\n  private hasValue: boolean = false;\n\n  constructor(destination: Subscriber<T>,\n              private dueTime: number,\n              private scheduler: SchedulerLike) {\n    super(destination);\n  }\n\n  protected _next(value: T) {\n    this.clearDebounce();\n    this.lastValue = value;\n    this.hasValue = true;\n    this.add(this.debouncedSubscription = this.scheduler.schedule(dispatchNext, this.dueTime, this));\n  }\n\n  protected _complete() {\n    this.debouncedNext();\n    this.destination.complete();\n  }\n\n  debouncedNext(): void {\n    this.clearDebounce();\n\n    if (this.hasValue) {\n      const { lastValue } = this;\n      // This must be done *before* passing the value\n      // along to the destination because it's possible for\n      // the value to synchronously re-enter this operator\n      // recursively when scheduled with things like\n      // VirtualScheduler/TestScheduler.\n      this.lastValue = null;\n      this.hasValue = false;\n      this.destination.next(lastValue);\n    }\n  }\n\n  private clearDebounce(): void {\n    const debouncedSubscription = this.debouncedSubscription;\n\n    if (debouncedSubscription !== null) {\n      this.remove(debouncedSubscription);\n      debouncedSubscription.unsubscribe();\n      this.debouncedSubscription = null;\n    }\n  }\n}\n\nfunction dispatchNext(subscriber: DebounceTimeSubscriber<any>) {\n  subscriber.debouncedNext();\n}\n","import { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { OperatorFunction, MonoTypeOperatorFunction } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function defaultIfEmpty<T>(defaultValue?: T): MonoTypeOperatorFunction<T>;\nexport function defaultIfEmpty<T, R>(defaultValue?: R): OperatorFunction<T, T | R>;\n/* tslint:enable:max-line-length */\n\n/**\n * Emits a given value if the source Observable completes without emitting any\n * `next` value, otherwise mirrors the source Observable.\n *\n * <span class=\"informal\">If the source Observable turns out to be empty, then\n * this operator will emit a default value.</span>\n *\n * ![](defaultIfEmpty.png)\n *\n * `defaultIfEmpty` emits the values emitted by the source Observable or a\n * specified default value if the source Observable is empty (completes without\n * having emitted any `next` value).\n *\n * ## Example\n * If no clicks happen in 5 seconds, then emit \"no clicks\"\n * ```ts\n * import { fromEvent } from 'rxjs';\n * import { defaultIfEmpty, takeUntil } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const clicksBeforeFive = clicks.pipe(takeUntil(interval(5000)));\n * const result = clicksBeforeFive.pipe(defaultIfEmpty('no clicks'));\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link empty}\n * @see {@link last}\n *\n * @param {any} [defaultValue=null] The default value used if the source\n * Observable is empty.\n * @return {Observable} An Observable that emits either the specified\n * `defaultValue` if the source Observable emits no items, or the values emitted\n * by the source Observable.\n * @method defaultIfEmpty\n * @owner Observable\n */\nexport function defaultIfEmpty<T, R>(defaultValue: R = null): OperatorFunction<T, T | R> {\n  return (source: Observable<T>) => source.lift(new DefaultIfEmptyOperator(defaultValue)) as Observable<T | R>;\n}\n\nclass DefaultIfEmptyOperator<T, R> implements Operator<T, T | R> {\n\n  constructor(private defaultValue: R) {\n  }\n\n  call(subscriber: Subscriber<T | R>, source: any): any {\n    return source.subscribe(new DefaultIfEmptySubscriber(subscriber, this.defaultValue));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass DefaultIfEmptySubscriber<T, R> extends Subscriber<T> {\n  private isEmpty: boolean = true;\n\n  constructor(destination: Subscriber<T | R>, private defaultValue: R) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    this.isEmpty = false;\n    this.destination.next(value);\n  }\n\n  protected _complete(): void {\n    if (this.isEmpty) {\n      this.destination.next(this.defaultValue);\n    }\n    this.destination.complete();\n  }\n}\n","export function isDate(value: any): value is Date {\n  return value instanceof Date && !isNaN(+value);\n}\n","import { async } from '../scheduler/async';\nimport { isDate } from '../util/isDate';\nimport { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { Notification } from '../Notification';\nimport { Observable } from '../Observable';\nimport { MonoTypeOperatorFunction, PartialObserver, SchedulerAction, SchedulerLike, TeardownLogic } from '../types';\n\n/**\n * Delays the emission of items from the source Observable by a given timeout or\n * until a given Date.\n *\n * <span class=\"informal\">Time shifts each item by some specified amount of\n * milliseconds.</span>\n *\n * ![](delay.png)\n *\n * If the delay argument is a Number, this operator time shifts the source\n * Observable by that amount of time expressed in milliseconds. The relative\n * time intervals between the values are preserved.\n *\n * If the delay argument is a Date, this operator time shifts the start of the\n * Observable execution until the given date occurs.\n *\n * ## Examples\n * Delay each click by one second\n * ```ts\n * import { fromEvent } from 'rxjs';\n * import { delay } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const delayedClicks = clicks.pipe(delay(1000)); // each click emitted after 1 second\n * delayedClicks.subscribe(x => console.log(x));\n * ```\n *\n * Delay all clicks until a future date happens\n * ```ts\n * import { fromEvent } from 'rxjs';\n * import { delay } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const date = new Date('March 15, 2050 12:00:00'); // in the future\n * const delayedClicks = clicks.pipe(delay(date)); // click emitted only after that date\n * delayedClicks.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link debounceTime}\n * @see {@link delayWhen}\n *\n * @param {number|Date} delay The delay duration in milliseconds (a `number`) or\n * a `Date` until which the emission of the source items is delayed.\n * @param {SchedulerLike} [scheduler=async] The {@link SchedulerLike} to use for\n * managing the timers that handle the time-shift for each item.\n * @return {Observable} An Observable that delays the emissions of the source\n * Observable by the specified timeout or Date.\n * @method delay\n * @owner Observable\n */\nexport function delay<T>(delay: number|Date,\n                         scheduler: SchedulerLike = async): MonoTypeOperatorFunction<T> {\n  const absoluteDelay = isDate(delay);\n  const delayFor = absoluteDelay ? (+delay - scheduler.now()) : Math.abs(<number>delay);\n  return (source: Observable<T>) => source.lift(new DelayOperator(delayFor, scheduler));\n}\n\nclass DelayOperator<T> implements Operator<T, T> {\n  constructor(private delay: number,\n              private scheduler: SchedulerLike) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new DelaySubscriber(subscriber, this.delay, this.scheduler));\n  }\n}\n\ninterface DelayState<T> {\n  source: DelaySubscriber<T>;\n  destination: PartialObserver<T>;\n  scheduler: SchedulerLike;\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass DelaySubscriber<T> extends Subscriber<T> {\n  private queue: Array<DelayMessage<T>> = [];\n  private active: boolean = false;\n  private errored: boolean = false;\n\n  private static dispatch<T>(this: SchedulerAction<DelayState<T>>, state: DelayState<T>): void {\n    const source = state.source;\n    const queue = source.queue;\n    const scheduler = state.scheduler;\n    const destination = state.destination;\n\n    while (queue.length > 0 && (queue[0].time - scheduler.now()) <= 0) {\n      queue.shift().notification.observe(destination);\n    }\n\n    if (queue.length > 0) {\n      const delay = Math.max(0, queue[0].time - scheduler.now());\n      this.schedule(state, delay);\n    } else {\n      this.unsubscribe();\n      source.active = false;\n    }\n  }\n\n  constructor(destination: Subscriber<T>,\n              private delay: number,\n              private scheduler: SchedulerLike) {\n    super(destination);\n  }\n\n  private _schedule(scheduler: SchedulerLike): void {\n    this.active = true;\n    const destination = this.destination as Subscription;\n    destination.add(scheduler.schedule<DelayState<T>>(DelaySubscriber.dispatch, this.delay, {\n      source: this, destination: this.destination, scheduler: scheduler\n    }));\n  }\n\n  private scheduleNotification(notification: Notification<T>): void {\n    if (this.errored === true) {\n      return;\n    }\n\n    const scheduler = this.scheduler;\n    const message = new DelayMessage(scheduler.now() + this.delay, notification);\n    this.queue.push(message);\n\n    if (this.active === false) {\n      this._schedule(scheduler);\n    }\n  }\n\n  protected _next(value: T) {\n    this.scheduleNotification(Notification.createNext(value));\n  }\n\n  protected _error(err: any) {\n    this.errored = true;\n    this.queue = [];\n    this.destination.error(err);\n    this.unsubscribe();\n  }\n\n  protected _complete() {\n    this.scheduleNotification(Notification.createComplete());\n    this.unsubscribe();\n  }\n}\n\nclass DelayMessage<T> {\n  constructor(public readonly time: number,\n              public readonly notification: Notification<T>) {\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { MonoTypeOperatorFunction, TeardownLogic } from '../types';\n\n/* tslint:disable:max-line-length */\n/** @deprecated In future versions, empty notifiers will no longer re-emit the source value on the output observable. */\nexport function delayWhen<T>(delayDurationSelector: (value: T, index: number) => Observable<never>, subscriptionDelay?: Observable<any>): MonoTypeOperatorFunction<T>;\nexport function delayWhen<T>(delayDurationSelector: (value: T, index: number) => Observable<any>, subscriptionDelay?: Observable<any>): MonoTypeOperatorFunction<T>;\n/* tslint:disable:max-line-length */\n\n/**\n * Delays the emission of items from the source Observable by a given time span\n * determined by the emissions of another Observable.\n *\n * <span class=\"informal\">It's like {@link delay}, but the time span of the\n * delay duration is determined by a second Observable.</span>\n *\n * ![](delayWhen.png)\n *\n * `delayWhen` time shifts each emitted value from the source Observable by a\n * time span determined by another Observable. When the source emits a value,\n * the `delayDurationSelector` function is called with the source value as\n * argument, and should return an Observable, called the \"duration\" Observable.\n * The source value is emitted on the output Observable only when the duration\n * Observable emits a value or completes.\n * The completion of the notifier triggering the emission of the source value\n * is deprecated behavior and will be removed in future versions.\n *\n * Optionally, `delayWhen` takes a second argument, `subscriptionDelay`, which\n * is an Observable. When `subscriptionDelay` emits its first value or\n * completes, the source Observable is subscribed to and starts behaving like\n * described in the previous paragraph. If `subscriptionDelay` is not provided,\n * `delayWhen` will subscribe to the source Observable as soon as the output\n * Observable is subscribed.\n *\n * ## Example\n * Delay each click by a random amount of time, between 0 and 5 seconds\n * ```ts\n * import { fromEvent, interval } from 'rxjs';\n * import { delayWhen } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const delayedClicks = clicks.pipe(\n *   delayWhen(event => interval(Math.random() * 5000)),\n * );\n * delayedClicks.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link delay}\n * @see {@link throttle}\n * @see {@link throttleTime}\n * @see {@link debounce}\n * @see {@link debounceTime}\n * @see {@link sample}\n * @see {@link sampleTime}\n * @see {@link audit}\n * @see {@link auditTime}\n *\n * @param {function(value: T, index: number): Observable} delayDurationSelector A function that\n * returns an Observable for each value emitted by the source Observable, which\n * is then used to delay the emission of that item on the output Observable\n * until the Observable returned from this function emits a value.\n * @param {Observable} subscriptionDelay An Observable that triggers the\n * subscription to the source Observable once it emits any value.\n * @return {Observable} An Observable that delays the emissions of the source\n * Observable by an amount of time specified by the Observable returned by\n * `delayDurationSelector`.\n * @method delayWhen\n * @owner Observable\n */\nexport function delayWhen<T>(delayDurationSelector: (value: T, index: number) => Observable<any>,\n                             subscriptionDelay?: Observable<any>): MonoTypeOperatorFunction<T> {\n  if (subscriptionDelay) {\n    return (source: Observable<T>) =>\n      new SubscriptionDelayObservable(source, subscriptionDelay)\n        .lift(new DelayWhenOperator(delayDurationSelector));\n  }\n  return (source: Observable<T>) => source.lift(new DelayWhenOperator(delayDurationSelector));\n}\n\nclass DelayWhenOperator<T> implements Operator<T, T> {\n  constructor(private delayDurationSelector: (value: T, index: number) => Observable<any>) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new DelayWhenSubscriber(subscriber, this.delayDurationSelector));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass DelayWhenSubscriber<T, R> extends OuterSubscriber<T, R> {\n  private completed: boolean = false;\n  private delayNotifierSubscriptions: Array<Subscription> = [];\n  private index: number = 0;\n\n  constructor(destination: Subscriber<T>,\n              private delayDurationSelector: (value: T, index: number) => Observable<any>) {\n    super(destination);\n  }\n\n  notifyNext(outerValue: T, innerValue: any,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n    this.destination.next(outerValue);\n    this.removeSubscription(innerSub);\n    this.tryComplete();\n  }\n\n  notifyError(error: any, innerSub: InnerSubscriber<T, R>): void {\n    this._error(error);\n  }\n\n  notifyComplete(innerSub: InnerSubscriber<T, R>): void {\n    const value = this.removeSubscription(innerSub);\n    if (value) {\n      this.destination.next(value);\n    }\n    this.tryComplete();\n  }\n\n  protected _next(value: T): void {\n    const index = this.index++;\n    try {\n      const delayNotifier = this.delayDurationSelector(value, index);\n      if (delayNotifier) {\n        this.tryDelay(delayNotifier, value);\n      }\n    } catch (err) {\n      this.destination.error(err);\n    }\n  }\n\n  protected _complete(): void {\n    this.completed = true;\n    this.tryComplete();\n    this.unsubscribe();\n  }\n\n  private removeSubscription(subscription: InnerSubscriber<T, R>): T {\n    subscription.unsubscribe();\n\n    const subscriptionIdx = this.delayNotifierSubscriptions.indexOf(subscription);\n    if (subscriptionIdx !== -1) {\n      this.delayNotifierSubscriptions.splice(subscriptionIdx, 1);\n    }\n\n    return subscription.outerValue;\n  }\n\n  private tryDelay(delayNotifier: Observable<any>, value: T): void {\n    const notifierSubscription = subscribeToResult(this, delayNotifier, value);\n\n    if (notifierSubscription && !notifierSubscription.closed) {\n      const destination = this.destination as Subscription;\n      destination.add(notifierSubscription);\n      this.delayNotifierSubscriptions.push(notifierSubscription);\n    }\n  }\n\n  private tryComplete(): void {\n    if (this.completed && this.delayNotifierSubscriptions.length === 0) {\n      this.destination.complete();\n    }\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass SubscriptionDelayObservable<T> extends Observable<T> {\n  constructor(public source: Observable<T>, private subscriptionDelay: Observable<any>) {\n    super();\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _subscribe(subscriber: Subscriber<T>) {\n    this.subscriptionDelay.subscribe(new SubscriptionDelaySubscriber(subscriber, this.source));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass SubscriptionDelaySubscriber<T> extends Subscriber<T> {\n  private sourceSubscribed: boolean = false;\n\n  constructor(private parent: Subscriber<T>, private source: Observable<T>) {\n    super();\n  }\n\n  protected _next(unused: any) {\n    this.subscribeToSource();\n  }\n\n  protected _error(err: any) {\n    this.unsubscribe();\n    this.parent.error(err);\n  }\n\n  protected _complete() {\n    this.unsubscribe();\n    this.subscribeToSource();\n  }\n\n  private subscribeToSource(): void {\n    if (!this.sourceSubscribed) {\n      this.sourceSubscribed = true;\n      this.unsubscribe();\n      this.source.subscribe(this.parent);\n    }\n  }\n}\n","import { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { Notification } from '../Notification';\nimport { OperatorFunction } from '../types';\n\n/**\n * Converts an Observable of {@link Notification} objects into the emissions\n * that they represent.\n *\n * <span class=\"informal\">Unwraps {@link Notification} objects as actual `next`,\n * `error` and `complete` emissions. The opposite of {@link materialize}.</span>\n *\n * ![](dematerialize.png)\n *\n * `dematerialize` is assumed to operate an Observable that only emits\n * {@link Notification} objects as `next` emissions, and does not emit any\n * `error`. Such Observable is the output of a `materialize` operation. Those\n * notifications are then unwrapped using the metadata they contain, and emitted\n * as `next`, `error`, and `complete` on the output Observable.\n *\n * Use this operator in conjunction with {@link materialize}.\n *\n * ## Example\n * Convert an Observable of Notifications to an actual Observable\n * ```ts\n * import { of, Notification } from 'rxjs';\n * import { dematerialize } from 'rxjs/operators';\n *\n * const notifA = new Notification('N', 'A');\n * const notifB = new Notification('N', 'B');\n * const notifE = new Notification('E', undefined,\n *   new TypeError('x.toUpperCase is not a function')\n * );\n * const materialized = of(notifA, notifB, notifE);\n * const upperCase = materialized.pipe(dematerialize());\n * upperCase.subscribe(x => console.log(x), e => console.error(e));\n *\n * // Results in:\n * // A\n * // B\n * // TypeError: x.toUpperCase is not a function\n * ```\n *\n * @see {@link Notification}\n * @see {@link materialize}\n *\n * @return {Observable} An Observable that emits items and notifications\n * embedded in Notification objects emitted by the source Observable.\n * @method dematerialize\n * @owner Observable\n */\nexport function dematerialize<T>(): OperatorFunction<Notification<T>, T> {\n  return function dematerializeOperatorFunction(source: Observable<Notification<T>>) {\n    return source.lift(new DeMaterializeOperator());\n  };\n}\n\nclass DeMaterializeOperator<T extends Notification<any>, R> implements Operator<T, R> {\n  call(subscriber: Subscriber<any>, source: any): any {\n    return source.subscribe(new DeMaterializeSubscriber(subscriber));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass DeMaterializeSubscriber<T extends Notification<any>> extends Subscriber<T> {\n  constructor(destination: Subscriber<any>) {\n    super(destination);\n  }\n\n  protected _next(value: T) {\n    value.observe(this.destination);\n  }\n}\n","import { Observable } from '../Observable';\nimport { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { MonoTypeOperatorFunction, TeardownLogic } from '../types';\n\n/**\n * Returns an Observable that emits all items emitted by the source Observable that are distinct by comparison from previous items.\n *\n * If a keySelector function is provided, then it will project each value from the source observable into a new value that it will\n * check for equality with previously projected values. If a keySelector function is not provided, it will use each value from the\n * source observable directly with an equality check against previous values.\n *\n * In JavaScript runtimes that support `Set`, this operator will use a `Set` to improve performance of the distinct value checking.\n *\n * In other runtimes, this operator will use a minimal implementation of `Set` that relies on an `Array` and `indexOf` under the\n * hood, so performance will degrade as more values are checked for distinction. Even in newer browsers, a long-running `distinct`\n * use might result in memory leaks. To help alleviate this in some scenarios, an optional `flushes` parameter is also provided so\n * that the internal `Set` can be \"flushed\", basically clearing it of values.\n *\n * ## Examples\n * A simple example with numbers\n * ```ts\n * import { of } from 'rxjs';\n * import { distinct } from 'rxjs/operators';\n *\n * of(1, 1, 2, 2, 2, 1, 2, 3, 4, 3, 2, 1).pipe(\n *     distinct(),\n *   )\n *   .subscribe(x => console.log(x)); // 1, 2, 3, 4\n * ```\n *\n * An example using a keySelector function\n * ```typescript\n * import { of } from 'rxjs';\n * import { distinct } from 'rxjs/operators';\n *\n * interface Person {\n *    age: number,\n *    name: string\n * }\n *\n * of<Person>(\n *     { age: 4, name: 'Foo'},\n *     { age: 7, name: 'Bar'},\n *     { age: 5, name: 'Foo'},\n *   ).pipe(\n *     distinct((p: Person) => p.name),\n *   )\n *   .subscribe(x => console.log(x));\n *\n * // displays:\n * // { age: 4, name: 'Foo' }\n * // { age: 7, name: 'Bar' }\n * ```\n * @see {@link distinctUntilChanged}\n * @see {@link distinctUntilKeyChanged}\n *\n * @param {function} [keySelector] Optional function to select which value you want to check as distinct.\n * @param {Observable} [flushes] Optional Observable for flushing the internal HashSet of the operator.\n * @return {Observable} An Observable that emits items from the source Observable with distinct values.\n * @method distinct\n * @owner Observable\n */\nexport function distinct<T, K>(keySelector?: (value: T) => K,\n                               flushes?: Observable<any>): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(new DistinctOperator(keySelector, flushes));\n}\n\nclass DistinctOperator<T, K> implements Operator<T, T> {\n  constructor(private keySelector: (value: T) => K, private flushes: Observable<any>) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new DistinctSubscriber(subscriber, this.keySelector, this.flushes));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class DistinctSubscriber<T, K> extends OuterSubscriber<T, T> {\n  private values = new Set<K>();\n\n  constructor(destination: Subscriber<T>, private keySelector: (value: T) => K, flushes: Observable<any>) {\n    super(destination);\n\n    if (flushes) {\n      this.add(subscribeToResult(this, flushes));\n    }\n  }\n\n  notifyNext(outerValue: T, innerValue: T,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, T>): void {\n    this.values.clear();\n  }\n\n  notifyError(error: any, innerSub: InnerSubscriber<T, T>): void {\n    this._error(error);\n  }\n\n  protected _next(value: T): void {\n    if (this.keySelector) {\n      this._useKeySelector(value);\n    } else {\n      this._finalizeNext(value, value);\n    }\n  }\n\n  private _useKeySelector(value: T): void {\n    let key: K;\n    const { destination } = this;\n    try {\n      key = this.keySelector(value);\n    } catch (err) {\n      destination.error(err);\n      return;\n    }\n    this._finalizeNext(key, value);\n  }\n\n  private _finalizeNext(key: K|T, value: T) {\n    const { values } = this;\n    if (!values.has(<K>key)) {\n      values.add(<K>key);\n      this.destination.next(value);\n    }\n  }\n\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { MonoTypeOperatorFunction, TeardownLogic } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function distinctUntilChanged<T>(compare?: (x: T, y: T) => boolean): MonoTypeOperatorFunction<T>;\nexport function distinctUntilChanged<T, K>(compare: (x: K, y: K) => boolean, keySelector: (x: T) => K): MonoTypeOperatorFunction<T>;\n/* tslint:enable:max-line-length */\n\n/**\n * Returns an Observable that emits all items emitted by the source Observable that are distinct by comparison from the previous item.\n *\n * If a comparator function is provided, then it will be called for each item to test for whether or not that value should be emitted.\n *\n * If a comparator function is not provided, an equality check is used by default.\n *\n * ## Example\n * A simple example with numbers\n * ```ts\n * import { of } from 'rxjs';\n * import { distinctUntilChanged } from 'rxjs/operators';\n *\n * of(1, 1, 2, 2, 2, 1, 1, 2, 3, 3, 4).pipe(\n *     distinctUntilChanged(),\n *   )\n *   .subscribe(x => console.log(x)); // 1, 2, 1, 2, 3, 4\n * ```\n *\n * An example using a compare function\n * ```typescript\n * import { of } from 'rxjs';\n * import { distinctUntilChanged } from 'rxjs/operators';\n *\n * interface Person {\n *    age: number,\n *    name: string\n * }\n *\n * of<Person>(\n *     { age: 4, name: 'Foo'},\n *     { age: 7, name: 'Bar'},\n *     { age: 5, name: 'Foo'},\n *     { age: 6, name: 'Foo'},\n *   ).pipe(\n *     distinctUntilChanged((p: Person, q: Person) => p.name === q.name),\n *   )\n *   .subscribe(x => console.log(x));\n *\n * // displays:\n * // { age: 4, name: 'Foo' }\n * // { age: 7, name: 'Bar' }\n * // { age: 5, name: 'Foo' }\n * ```\n *\n * @see {@link distinct}\n * @see {@link distinctUntilKeyChanged}\n *\n * @param {function} [compare] Optional comparison function called to test if an item is distinct from the previous item in the source.\n * @return {Observable} An Observable that emits items from the source Observable with distinct values.\n * @method distinctUntilChanged\n * @owner Observable\n */\nexport function distinctUntilChanged<T, K>(compare?: (x: K, y: K) => boolean, keySelector?: (x: T) => K): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(new DistinctUntilChangedOperator<T, K>(compare, keySelector));\n}\n\nclass DistinctUntilChangedOperator<T, K> implements Operator<T, T> {\n  constructor(private compare: (x: K, y: K) => boolean,\n              private keySelector: (x: T) => K) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new DistinctUntilChangedSubscriber(subscriber, this.compare, this.keySelector));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass DistinctUntilChangedSubscriber<T, K> extends Subscriber<T> {\n  private key: K;\n  private hasKey: boolean = false;\n\n  constructor(destination: Subscriber<T>,\n              compare: (x: K, y: K) => boolean,\n              private keySelector: (x: T) => K) {\n    super(destination);\n    if (typeof compare === 'function') {\n      this.compare = compare;\n    }\n  }\n\n  private compare(x: any, y: any): boolean {\n    return x === y;\n  }\n\n  protected _next(value: T): void {\n    let key: any;\n    try {\n      const { keySelector } = this;\n      key = keySelector ? keySelector(value) : value;\n    } catch (err) {\n      return this.destination.error(err);\n    }\n    let result = false;\n    if (this.hasKey) {\n      try {\n        const { compare } = this;\n        result = compare(this.key, key);\n      } catch (err) {\n        return this.destination.error(err);\n      }\n    } else {\n      this.hasKey = true;\n    }\n    if (!result) {\n      this.key = key;\n      this.destination.next(value);\n    }\n  }\n}\n","import { distinctUntilChanged } from './distinctUntilChanged';\nimport { MonoTypeOperatorFunction } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function distinctUntilKeyChanged<T>(key: keyof T): MonoTypeOperatorFunction<T>;\nexport function distinctUntilKeyChanged<T, K extends keyof T>(key: K, compare: (x: T[K], y: T[K]) => boolean): MonoTypeOperatorFunction<T>;\n/* tslint:enable:max-line-length */\n\n/**\n * Returns an Observable that emits all items emitted by the source Observable that are distinct by comparison from the previous item,\n * using a property accessed by using the key provided to check if the two items are distinct.\n *\n * If a comparator function is provided, then it will be called for each item to test for whether or not that value should be emitted.\n *\n * If a comparator function is not provided, an equality check is used by default.\n *\n * ## Examples\n * An example comparing the name of persons\n * ```typescript\n * import { of } from 'rxjs';\n * import { distinctUntilKeyChanged } from 'rxjs/operators';\n *\n *  interface Person {\n *     age: number,\n *     name: string\n *  }\n *\n * of<Person>(\n *     { age: 4, name: 'Foo'},\n *     { age: 7, name: 'Bar'},\n *     { age: 5, name: 'Foo'},\n *     { age: 6, name: 'Foo'},\n *   ).pipe(\n *     distinctUntilKeyChanged('name'),\n *   )\n *   .subscribe(x => console.log(x));\n *\n * // displays:\n * // { age: 4, name: 'Foo' }\n * // { age: 7, name: 'Bar' }\n * // { age: 5, name: 'Foo' }\n * ```\n *\n * An example comparing the first letters of the name\n * ```typescript\n * import { of } from 'rxjs';\n * import { distinctUntilKeyChanged } from 'rxjs/operators';\n *\n * interface Person {\n *     age: number,\n *     name: string\n *  }\n *\n * of<Person>(\n *     { age: 4, name: 'Foo1'},\n *     { age: 7, name: 'Bar'},\n *     { age: 5, name: 'Foo2'},\n *     { age: 6, name: 'Foo3'},\n *   ).pipe(\n *     distinctUntilKeyChanged('name', (x: string, y: string) => x.substring(0, 3) === y.substring(0, 3)),\n *   )\n *   .subscribe(x => console.log(x));\n *\n * // displays:\n * // { age: 4, name: 'Foo1' }\n * // { age: 7, name: 'Bar' }\n * // { age: 5, name: 'Foo2' }\n * ```\n *\n * @see {@link distinct}\n * @see {@link distinctUntilChanged}\n *\n * @param {string} key String key for object property lookup on each item.\n * @param {function} [compare] Optional comparison function called to test if an item is distinct from the previous item in the source.\n * @return {Observable} An Observable that emits items from the source Observable with distinct values based on the key specified.\n * @method distinctUntilKeyChanged\n * @owner Observable\n */\nexport function distinctUntilKeyChanged<T, K extends keyof T>(key: K, compare?: (x: T[K], y: T[K]) => boolean): MonoTypeOperatorFunction<T> {\n  return distinctUntilChanged((x: T, y: T) => compare ? compare(x[key], y[key]) : x[key] === y[key]);\n}\n","import { EmptyError } from '../util/EmptyError';\nimport { Observable } from '../Observable';\nimport { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { TeardownLogic, MonoTypeOperatorFunction } from '../types';\n\n/**\n * If the source observable completes without emitting a value, it will emit\n * an error. The error will be created at that time by the optional\n * `errorFactory` argument, otherwise, the error will be {@link EmptyError}.\n *\n * ![](throwIfEmpty.png)\n *\n * ## Example\n * ```ts\n * import { fromEvent, timer } from 'rxjs';\n * import { throwIfEmpty, takeUntil } from 'rxjs/operators';\n *\n * const click$ = fromEvent(document, 'click');\n *\n * click$.pipe(\n *   takeUntil(timer(1000)),\n *   throwIfEmpty(\n *     () => new Error('the document was not clicked within 1 second')\n *   ),\n * )\n * .subscribe({\n *   next() { console.log('The button was clicked'); },\n *   error(err) { console.error(err); }\n * });\n * ```\n *\n * @param errorFactory A factory function called to produce the\n * error to be thrown when the source observable completes without emitting a\n * value.\n */\nexport function throwIfEmpty <T>(errorFactory: (() => any) = defaultErrorFactory): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => {\n    return source.lift(new ThrowIfEmptyOperator(errorFactory));\n  };\n}\n\nclass ThrowIfEmptyOperator<T> implements Operator<T, T> {\n  constructor(private errorFactory: () => any) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new ThrowIfEmptySubscriber(subscriber, this.errorFactory));\n  }\n}\n\nclass ThrowIfEmptySubscriber<T> extends Subscriber<T> {\n  private hasValue: boolean = false;\n\n  constructor(destination: Subscriber<T>, private errorFactory: () => any) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    this.hasValue = true;\n    this.destination.next(value);\n  }\n\n  protected _complete() {\n    if (!this.hasValue) {\n      let err: any;\n      try {\n        err = this.errorFactory();\n      } catch (e) {\n        err = e;\n      }\n      this.destination.error(err);\n    } else {\n        return this.destination.complete();\n    }\n  }\n}\n\nfunction defaultErrorFactory() {\n  return new EmptyError();\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { ArgumentOutOfRangeError } from '../util/ArgumentOutOfRangeError';\nimport { empty } from '../observable/empty';\nimport { Observable } from '../Observable';\nimport { MonoTypeOperatorFunction, TeardownLogic } from '../types';\n\n/**\n * Emits only the first `count` values emitted by the source Observable.\n *\n * <span class=\"informal\">Takes the first `count` values from the source, then\n * completes.</span>\n *\n * ![](take.png)\n *\n * `take` returns an Observable that emits only the first `count` values emitted\n * by the source Observable. If the source emits fewer than `count` values then\n * all of its values are emitted. After that, it completes, regardless if the\n * source completes.\n *\n * ## Example\n * Take the first 5 seconds of an infinite 1-second interval Observable\n * ```ts\n * import { interval } from 'rxjs';\n * import { take } from 'rxjs/operators';\n *\n * const intervalCount = interval(1000);\n * const takeFive = intervalCount.pipe(take(5));\n * takeFive.subscribe(x => console.log(x));\n *\n * // Logs:\n * // 0\n * // 1\n * // 2\n * // 3\n * // 4\n * ```\n *\n * @see {@link takeLast}\n * @see {@link takeUntil}\n * @see {@link takeWhile}\n * @see {@link skip}\n *\n * @throws {ArgumentOutOfRangeError} When using `take(i)`, it delivers an\n * ArgumentOutOrRangeError to the Observer's `error` callback if `i < 0`.\n *\n * @param {number} count The maximum number of `next` values to emit.\n * @return {Observable<T>} An Observable that emits only the first `count`\n * values emitted by the source Observable, or all of the values from the source\n * if the source emits fewer than `count` values.\n * @method take\n * @owner Observable\n */\nexport function take<T>(count: number): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => {\n    if (count === 0) {\n      return empty();\n    } else {\n      return source.lift(new TakeOperator(count));\n    }\n  };\n}\n\nclass TakeOperator<T> implements Operator<T, T> {\n  constructor(private total: number) {\n    if (this.total < 0) {\n      throw new ArgumentOutOfRangeError;\n    }\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new TakeSubscriber(subscriber, this.total));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass TakeSubscriber<T> extends Subscriber<T> {\n  private count: number = 0;\n\n  constructor(destination: Subscriber<T>, private total: number) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    const total = this.total;\n    const count = ++this.count;\n    if (count <= total) {\n      this.destination.next(value);\n      if (count === total) {\n        this.destination.complete();\n        this.unsubscribe();\n      }\n    }\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { ArgumentOutOfRangeError } from '../util/ArgumentOutOfRangeError';\nimport { Observable } from '../Observable';\nimport { MonoTypeOperatorFunction, TeardownLogic } from '../types';\nimport { filter } from './filter';\nimport { throwIfEmpty } from './throwIfEmpty';\nimport { defaultIfEmpty } from './defaultIfEmpty';\nimport { take } from './take';\n\n/**\n * Emits the single value at the specified `index` in a sequence of emissions\n * from the source Observable.\n *\n * <span class=\"informal\">Emits only the i-th value, then completes.</span>\n *\n * ![](elementAt.png)\n *\n * `elementAt` returns an Observable that emits the item at the specified\n * `index` in the source Observable, or a default value if that `index` is out\n * of range and the `default` argument is provided. If the `default` argument is\n * not given and the `index` is out of range, the output Observable will emit an\n * `ArgumentOutOfRangeError` error.\n *\n * ## Example\n * Emit only the third click event\n * ```ts\n * import { fromEvent } from 'rxjs';\n * import { elementAt } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(elementAt(2));\n * result.subscribe(x => console.log(x));\n *\n * // Results in:\n * // click 1 = nothing\n * // click 2 = nothing\n * // click 3 = MouseEvent object logged to console\n * ```\n *\n * @see {@link first}\n * @see {@link last}\n * @see {@link skip}\n * @see {@link single}\n * @see {@link take}\n *\n * @throws {ArgumentOutOfRangeError} When using `elementAt(i)`, it delivers an\n * ArgumentOutOrRangeError to the Observer's `error` callback if `i < 0` or the\n * Observable has completed before emitting the i-th `next` notification.\n *\n * @param {number} index Is the number `i` for the i-th source emission that has\n * happened since the subscription, starting from the number `0`.\n * @param {T} [defaultValue] The default value returned for missing indices.\n * @return {Observable} An Observable that emits a single item, if it is found.\n * Otherwise, will emit the default value if given. If not, then emits an error.\n * @method elementAt\n * @owner Observable\n */\nexport function elementAt<T>(index: number, defaultValue?: T): MonoTypeOperatorFunction<T> {\n  if (index < 0) { throw new ArgumentOutOfRangeError(); }\n  const hasDefaultValue = arguments.length >= 2;\n  return (source: Observable<T>) => source.pipe(\n    filter((v, i) => i === index),\n    take(1),\n    hasDefaultValue\n      ? defaultIfEmpty(defaultValue)\n      : throwIfEmpty(() => new ArgumentOutOfRangeError()),\n  );\n}\n","import { Observable } from '../Observable';\nimport { concat } from '../observable/concat';\nimport { of } from '../observable/of';\nimport { MonoTypeOperatorFunction, SchedulerLike, OperatorFunction } from '../types';\n\n/* tslint:disable:max-line-length */\n/** @deprecated use {@link scheduled} and {@link concatAll} (e.g. `scheduled([source, [a, b, c]], scheduler).pipe(concatAll())`) */\nexport function endWith<T>(scheduler: SchedulerLike): MonoTypeOperatorFunction<T>;\n/** @deprecated use {@link scheduled} and {@link concatAll} (e.g. `scheduled([source, [a, b, c]], scheduler).pipe(concatAll())`) */\nexport function endWith<T, A>(v1: A, scheduler: SchedulerLike): OperatorFunction<T, T | A>;\n/** @deprecated use {@link scheduled} and {@link concatAll} (e.g. `scheduled([source, [a, b, c]], scheduler).pipe(concatAll())`) */\nexport function endWith<T, A, B>(v1: A, v2: B, scheduler: SchedulerLike): OperatorFunction<T, T | A | B>;\n/** @deprecated use {@link scheduled} and {@link concatAll} (e.g. `scheduled([source, [a, b, c]], scheduler).pipe(concatAll())`) */\nexport function endWith<T, A, B, C>(v1: A, v2: B, v3: C, scheduler: SchedulerLike): OperatorFunction<T, T | A | B | C>;\n/** @deprecated use {@link scheduled} and {@link concatAll} (e.g. `scheduled([source, [a, b, c]], scheduler).pipe(concatAll())`) */\nexport function endWith<T, A, B, C, D>(v1: A, v2: B, v3: C, v4: D, scheduler: SchedulerLike): OperatorFunction<T, T | A | B | C | D>;\n/** @deprecated use {@link scheduled} and {@link concatAll} (e.g. `scheduled([source, [a, b, c]], scheduler).pipe(concatAll())`) */\nexport function endWith<T, A, B, C, D, E>(v1: A, v2: B, v3: C, v4: D, v5: E, scheduler: SchedulerLike): OperatorFunction<T, T | A | B | C | D | E>;\n/** @deprecated use {@link scheduled} and {@link concatAll} (e.g. `scheduled([source, [a, b, c]], scheduler).pipe(concatAll())`) */\nexport function endWith<T, A, B, C, D, E, F>(v1: A, v2: B, v3: C, v4: D, v5: E, v6: F, scheduler: SchedulerLike): OperatorFunction<T, T | A | B | C | D | E | F>;\n\nexport function endWith<T, A>(v1: A): OperatorFunction<T, T | A>;\nexport function endWith<T, A, B>(v1: A, v2: B): OperatorFunction<T, T | A | B>;\nexport function endWith<T, A, B, C>(v1: A, v2: B, v3: C): OperatorFunction<T, T | A | B | C>;\nexport function endWith<T, A, B, C, D>(v1: A, v2: B, v3: C, v4: D): OperatorFunction<T, T | A | B | C | D>;\nexport function endWith<T, A, B, C, D, E>(v1: A, v2: B, v3: C, v4: D, v5: E): OperatorFunction<T, T | A | B | C | D | E>;\nexport function endWith<T, A, B, C, D, E, F>(v1: A, v2: B, v3: C, v4: D, v5: E, v6: F): OperatorFunction<T, T | A | B | C | D | E | F>;\nexport function endWith<T, Z = T>(...array: Z[]): OperatorFunction<T, T | Z>;\n/** @deprecated use {@link scheduled} and {@link concatAll} (e.g. `scheduled([source, [a, b, c]], scheduler).pipe(concatAll())`) */\nexport function endWith<T, Z = T>(...array: Array<Z | SchedulerLike>): OperatorFunction<T, T | Z>;\n/* tslint:enable:max-line-length */\n\n/**\n * Returns an Observable that emits the items you specify as arguments after it finishes emitting\n * items emitted by the source Observable.\n *\n * ![](endWith.png)\n *\n * ## Example\n * ### After the source observable completes, appends an emission and then completes too.\n *\n * ```ts\n * import { of } from 'rxjs';\n * import { endWith } from 'rxjs/operators';\n *\n * of('hi', 'how are you?', 'sorry, I have to go now').pipe(\n *   endWith('goodbye!'),\n * )\n * .subscribe(word => console.log(word));\n * // result:\n * // 'hi'\n * // 'how are you?'\n * // 'sorry, I have to go now'\n * // 'goodbye!'\n * ```\n *\n * @param {...T} values - Items you want the modified Observable to emit last.\n * @param {SchedulerLike} [scheduler] - A {@link SchedulerLike} to use for scheduling\n * the emissions of the `next` notifications.\n * @return {Observable} An Observable that emits the items emitted by the source Observable\n *  and then emits the items in the specified Iterable.\n * @method endWith\n * @owner Observable\n */\nexport function endWith<T>(...array: Array<T | SchedulerLike>): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => concat(source, of(...array)) as Observable<T>;\n}\n","import { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { Observer, OperatorFunction } from '../types';\n\n/**\n * Returns an Observable that emits whether or not every item of the source satisfies the condition specified.\n *\n * ## Example\n * A simple example emitting true if all elements are less than 5, false otherwise\n * ```ts\n * import { of } from 'rxjs';\n * import { every } from 'rxjs/operators';\n *\n *  of(1, 2, 3, 4, 5, 6).pipe(\n *     every(x => x < 5),\n * )\n * .subscribe(x => console.log(x)); // -> false\n * ```\n *\n * @param {function} predicate A function for determining if an item meets a specified condition.\n * @param {any} [thisArg] Optional object to use for `this` in the callback.\n * @return {Observable} An Observable of booleans that determines if all items of the source Observable meet the condition specified.\n * @method every\n * @owner Observable\n */\nexport function every<T>(predicate: (value: T, index: number, source: Observable<T>) => boolean,\n                         thisArg?: any): OperatorFunction<T, boolean> {\n  return (source: Observable<T>) => source.lift(new EveryOperator(predicate, thisArg, source));\n}\n\nclass EveryOperator<T> implements Operator<T, boolean> {\n  constructor(private predicate: (value: T, index: number, source: Observable<T>) => boolean,\n              private thisArg?: any,\n              private source?: Observable<T>) {\n  }\n\n  call(observer: Subscriber<boolean>, source: any): any {\n    return source.subscribe(new EverySubscriber(observer, this.predicate, this.thisArg, this.source));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass EverySubscriber<T> extends Subscriber<T> {\n  private index: number = 0;\n\n  constructor(destination: Observer<boolean>,\n              private predicate: (value: T, index: number, source: Observable<T>) => boolean,\n              private thisArg: any,\n              private source?: Observable<T>) {\n    super(destination);\n    this.thisArg = thisArg || this;\n  }\n\n  private notifyComplete(everyValueMatch: boolean): void {\n    this.destination.next(everyValueMatch);\n    this.destination.complete();\n  }\n\n  protected _next(value: T): void {\n    let result = false;\n    try {\n      result = this.predicate.call(this.thisArg, value, this.index++, this.source);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n\n    if (!result) {\n      this.notifyComplete(false);\n    }\n  }\n\n  protected _complete(): void {\n    this.notifyComplete(true);\n  }\n}\n","import { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { ObservableInput, OperatorFunction, TeardownLogic } from '../types';\n\nexport function exhaust<T>(): OperatorFunction<ObservableInput<T>, T>;\nexport function exhaust<R>(): OperatorFunction<any, R>;\n\n/**\n * Converts a higher-order Observable into a first-order Observable by dropping\n * inner Observables while the previous inner Observable has not yet completed.\n *\n * <span class=\"informal\">Flattens an Observable-of-Observables by dropping the\n * next inner Observables while the current inner is still executing.</span>\n *\n * ![](exhaust.png)\n *\n * `exhaust` subscribes to an Observable that emits Observables, also known as a\n * higher-order Observable. Each time it observes one of these emitted inner\n * Observables, the output Observable begins emitting the items emitted by that\n * inner Observable. So far, it behaves like {@link mergeAll}. However,\n * `exhaust` ignores every new inner Observable if the previous Observable has\n * not yet completed. Once that one completes, it will accept and flatten the\n * next inner Observable and repeat this process.\n *\n * ## Example\n * Run a finite timer for each click, only if there is no currently active timer\n * ```ts\n * import { fromEvent, interval } from 'rxjs';\n * import { exhaust, map, take } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const higherOrder = clicks.pipe(\n *   map((ev) => interval(1000).pipe(take(5))),\n * );\n * const result = higherOrder.pipe(exhaust());\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link combineAll}\n * @see {@link concatAll}\n * @see {@link switchAll}\n * @see {@link switchMap}\n * @see {@link mergeAll}\n * @see {@link exhaustMap}\n * @see {@link zipAll}\n *\n * @return {Observable} An Observable that takes a source of Observables and propagates the first observable\n * exclusively until it completes before subscribing to the next.\n * @method exhaust\n * @owner Observable\n */\nexport function exhaust<T>(): OperatorFunction<any, T> {\n  return (source: Observable<T>) => source.lift(new SwitchFirstOperator<T>());\n}\n\nclass SwitchFirstOperator<T> implements Operator<T, T> {\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new SwitchFirstSubscriber(subscriber));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass SwitchFirstSubscriber<T> extends OuterSubscriber<T, T> {\n  private hasCompleted: boolean = false;\n  private hasSubscription: boolean = false;\n\n  constructor(destination: Subscriber<T>) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    if (!this.hasSubscription) {\n      this.hasSubscription = true;\n      this.add(subscribeToResult(this, value));\n    }\n  }\n\n  protected _complete(): void {\n    this.hasCompleted = true;\n    if (!this.hasSubscription) {\n      this.destination.complete();\n    }\n  }\n\n  notifyComplete(innerSub: Subscription): void {\n    this.remove(innerSub);\n    this.hasSubscription = false;\n    if (this.hasCompleted) {\n      this.destination.complete();\n    }\n  }\n}\n","import { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { ObservableInput, OperatorFunction, ObservedValueOf } from '../types';\nimport { map } from './map';\nimport { from } from '../observable/from';\n\n/* tslint:disable:max-line-length */\nexport function exhaustMap<T, O extends ObservableInput<any>>(project: (value: T, index: number) => O): OperatorFunction<T, ObservedValueOf<O>>;\n/** @deprecated resultSelector is no longer supported. Use inner map instead. */\nexport function exhaustMap<T, O extends ObservableInput<any>>(project: (value: T, index: number) => O, resultSelector: undefined): OperatorFunction<T, ObservedValueOf<O>>;\n/** @deprecated resultSelector is no longer supported. Use inner map instead. */\nexport function exhaustMap<T, I, R>(project: (value: T, index: number) => ObservableInput<I>, resultSelector: (outerValue: T, innerValue: I, outerIndex: number, innerIndex: number) => R): OperatorFunction<T, R>;\n/* tslint:enable:max-line-length */\n\n/**\n * Projects each source value to an Observable which is merged in the output\n * Observable only if the previous projected Observable has completed.\n *\n * <span class=\"informal\">Maps each value to an Observable, then flattens all of\n * these inner Observables using {@link exhaust}.</span>\n *\n * ![](exhaustMap.png)\n *\n * Returns an Observable that emits items based on applying a function that you\n * supply to each item emitted by the source Observable, where that function\n * returns an (so-called \"inner\") Observable. When it projects a source value to\n * an Observable, the output Observable begins emitting the items emitted by\n * that projected Observable. However, `exhaustMap` ignores every new projected\n * Observable if the previous projected Observable has not yet completed. Once\n * that one completes, it will accept and flatten the next projected Observable\n * and repeat this process.\n *\n * ## Example\n * Run a finite timer for each click, only if there is no currently active timer\n * ```ts\n * import { fromEvent, interval } from 'rxjs';\n * import { exhaustMap, take } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(\n *   exhaustMap(ev => interval(1000).pipe(take(5)))\n * );\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link concatMap}\n * @see {@link exhaust}\n * @see {@link mergeMap}\n * @see {@link switchMap}\n *\n * @param {function(value: T, ?index: number): ObservableInput} project A function\n * that, when applied to an item emitted by the source Observable, returns an\n * Observable.\n * @return {Observable} An Observable containing projected Observables\n * of each item of the source, ignoring projected Observables that start before\n * their preceding Observable has completed.\n * @method exhaustMap\n * @owner Observable\n */\nexport function exhaustMap<T, R, O extends ObservableInput<any>>(\n  project: (value: T, index: number) => O,\n  resultSelector?: (outerValue: T, innerValue: ObservedValueOf<O>, outerIndex: number, innerIndex: number) => R,\n): OperatorFunction<T, ObservedValueOf<O>|R> {\n  if (resultSelector) {\n    // DEPRECATED PATH\n    return (source: Observable<T>) => source.pipe(\n      exhaustMap((a, i) => from(project(a, i)).pipe(\n        map((b: any, ii: any) => resultSelector(a, b, i, ii)),\n      )),\n    );\n  }\n  return (source: Observable<T>) =>\n    source.lift(new ExhaustMapOperator(project));\n}\n\nclass ExhaustMapOperator<T, R> implements Operator<T, R> {\n  constructor(private project: (value: T, index: number) => ObservableInput<R>) {\n  }\n\n  call(subscriber: Subscriber<R>, source: any): any {\n    return source.subscribe(new ExhaustMapSubscriber(subscriber, this.project));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass ExhaustMapSubscriber<T, R> extends OuterSubscriber<T, R> {\n  private hasSubscription = false;\n  private hasCompleted = false;\n  private index = 0;\n\n  constructor(destination: Subscriber<R>,\n              private project: (value: T, index: number) => ObservableInput<R>) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    if (!this.hasSubscription) {\n      this.tryNext(value);\n    }\n  }\n\n  private tryNext(value: T): void {\n    let result: ObservableInput<R>;\n    const index = this.index++;\n    try {\n      result = this.project(value, index);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n    this.hasSubscription = true;\n    this._innerSub(result, value, index);\n  }\n\n  private _innerSub(result: ObservableInput<R>, value: T, index: number): void {\n    const innerSubscriber = new InnerSubscriber(this, undefined, undefined);\n    const destination = this.destination as Subscription;\n    destination.add(innerSubscriber);\n    subscribeToResult<T, R>(this, result, value, index, innerSubscriber);\n  }\n\n  protected _complete(): void {\n    this.hasCompleted = true;\n    if (!this.hasSubscription) {\n      this.destination.complete();\n    }\n    this.unsubscribe();\n  }\n\n  notifyNext(outerValue: T, innerValue: R,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n    this.destination.next(innerValue);\n  }\n\n  notifyError(err: any): void {\n    this.destination.error(err);\n  }\n\n  notifyComplete(innerSub: Subscription): void {\n    const destination = this.destination as Subscription;\n    destination.remove(innerSub);\n\n    this.hasSubscription = false;\n    if (this.hasCompleted) {\n      this.destination.complete();\n    }\n  }\n}\n","import { Observable } from '../Observable';\nimport { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { MonoTypeOperatorFunction, OperatorFunction, ObservableInput, SchedulerLike } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function expand<T, R>(project: (value: T, index: number) => ObservableInput<R>, concurrent?: number, scheduler?: SchedulerLike): OperatorFunction<T, R>;\nexport function expand<T>(project: (value: T, index: number) => ObservableInput<T>, concurrent?: number, scheduler?: SchedulerLike): MonoTypeOperatorFunction<T>;\n/* tslint:enable:max-line-length */\n\n/**\n * Recursively projects each source value to an Observable which is merged in\n * the output Observable.\n *\n * <span class=\"informal\">It's similar to {@link mergeMap}, but applies the\n * projection function to every source value as well as every output value.\n * It's recursive.</span>\n *\n * ![](expand.png)\n *\n * Returns an Observable that emits items based on applying a function that you\n * supply to each item emitted by the source Observable, where that function\n * returns an Observable, and then merging those resulting Observables and\n * emitting the results of this merger. *Expand* will re-emit on the output\n * Observable every source value. Then, each output value is given to the\n * `project` function which returns an inner Observable to be merged on the\n * output Observable. Those output values resulting from the projection are also\n * given to the `project` function to produce new output values. This is how\n * *expand* behaves recursively.\n *\n * ## Example\n * Start emitting the powers of two on every click, at most 10 of them\n * ```ts\n * import { fromEvent, of } from 'rxjs';\n * import { expand, mapTo, delay, take } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const powersOfTwo = clicks.pipe(\n *   mapTo(1),\n *   expand(x => of(2 * x).pipe(delay(1000))),\n *   take(10),\n * );\n * powersOfTwo.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link mergeMap}\n * @see {@link mergeScan}\n *\n * @param {function(value: T, index: number) => Observable} project A function\n * that, when applied to an item emitted by the source or the output Observable,\n * returns an Observable.\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input\n * Observables being subscribed to concurrently.\n * @param {SchedulerLike} [scheduler=null] The {@link SchedulerLike} to use for subscribing to\n * each projected inner Observable.\n * @return {Observable} An Observable that emits the source values and also\n * result of applying the projection function to each value emitted on the\n * output Observable and and merging the results of the Observables obtained\n * from this transformation.\n * @method expand\n * @owner Observable\n */\nexport function expand<T, R>(project: (value: T, index: number) => ObservableInput<R>,\n                             concurrent: number = Number.POSITIVE_INFINITY,\n                             scheduler: SchedulerLike = undefined): OperatorFunction<T, R> {\n  concurrent = (concurrent || 0) < 1 ? Number.POSITIVE_INFINITY : concurrent;\n\n  return (source: Observable<T>) => source.lift(new ExpandOperator(project, concurrent, scheduler));\n}\n\nexport class ExpandOperator<T, R> implements Operator<T, R> {\n  constructor(private project: (value: T, index: number) => ObservableInput<R>,\n              private concurrent: number,\n              private scheduler: SchedulerLike) {\n  }\n\n  call(subscriber: Subscriber<R>, source: any): any {\n    return source.subscribe(new ExpandSubscriber(subscriber, this.project, this.concurrent, this.scheduler));\n  }\n}\n\ninterface DispatchArg<T, R> {\n  subscriber: ExpandSubscriber<T, R>;\n  result: ObservableInput<R>;\n  value: any;\n  index: number;\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class ExpandSubscriber<T, R> extends OuterSubscriber<T, R> {\n  private index: number = 0;\n  private active: number = 0;\n  private hasCompleted: boolean = false;\n  private buffer: any[];\n\n  constructor(destination: Subscriber<R>,\n              private project: (value: T, index: number) => ObservableInput<R>,\n              private concurrent: number,\n              private scheduler: SchedulerLike) {\n    super(destination);\n    if (concurrent < Number.POSITIVE_INFINITY) {\n      this.buffer = [];\n    }\n  }\n\n  private static dispatch<T, R>(arg: DispatchArg<T, R>): void {\n    const {subscriber, result, value, index} = arg;\n    subscriber.subscribeToProjection(result, value, index);\n  }\n\n  protected _next(value: any): void {\n    const destination = this.destination;\n\n    if (destination.closed) {\n      this._complete();\n      return;\n    }\n\n    const index = this.index++;\n    if (this.active < this.concurrent) {\n      destination.next(value);\n      try {\n        const { project } = this;\n        const result = project(value, index);\n        if (!this.scheduler) {\n          this.subscribeToProjection(result, value, index);\n        } else {\n          const state: DispatchArg<T, R> = { subscriber: this, result, value, index };\n          const destination = this.destination as Subscription;\n          destination.add(this.scheduler.schedule<DispatchArg<T, R>>(ExpandSubscriber.dispatch, 0, state));\n        }\n      } catch (e) {\n        destination.error(e);\n      }\n    } else {\n      this.buffer.push(value);\n    }\n  }\n\n  private subscribeToProjection(result: any, value: T, index: number): void {\n    this.active++;\n    const destination = this.destination as Subscription;\n    destination.add(subscribeToResult<T, R>(this, result, value, index));\n  }\n\n  protected _complete(): void {\n    this.hasCompleted = true;\n    if (this.hasCompleted && this.active === 0) {\n      this.destination.complete();\n    }\n    this.unsubscribe();\n  }\n\n  notifyNext(outerValue: T, innerValue: R,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n    this._next(innerValue);\n  }\n\n  notifyComplete(innerSub: Subscription): void {\n    const buffer = this.buffer;\n    const destination = this.destination as Subscription;\n    destination.remove(innerSub);\n    this.active--;\n    if (buffer && buffer.length > 0) {\n      this._next(buffer.shift());\n    }\n    if (this.hasCompleted && this.active === 0) {\n      this.destination.complete();\n    }\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { Observable } from '../Observable';\nimport { MonoTypeOperatorFunction, TeardownLogic } from '../types';\n\n/**\n * Returns an Observable that mirrors the source Observable, but will call a specified function when\n * the source terminates on complete or error.\n * @param {function} callback Function to be called when source terminates.\n * @return {Observable} An Observable that mirrors the source, but will call the specified function on termination.\n * @method finally\n * @owner Observable\n */\nexport function finalize<T>(callback: () => void): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(new FinallyOperator(callback));\n}\n\nclass FinallyOperator<T> implements Operator<T, T> {\n  constructor(private callback: () => void) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new FinallySubscriber(subscriber, this.callback));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass FinallySubscriber<T> extends Subscriber<T> {\n  constructor(destination: Subscriber<T>, callback: () => void) {\n    super(destination);\n    this.add(new Subscription(callback));\n  }\n}\n","import {Observable} from '../Observable';\nimport {Operator} from '../Operator';\nimport {Subscriber} from '../Subscriber';\nimport {OperatorFunction} from '../types';\n\nexport function find<T, S extends T>(predicate: (value: T, index: number, source: Observable<T>) => value is S,\n                                     thisArg?: any): OperatorFunction<T, S | undefined>;\nexport function find<T>(predicate: (value: T, index: number, source: Observable<T>) => boolean,\n                        thisArg?: any): OperatorFunction<T, T | undefined>;\n/**\n * Emits only the first value emitted by the source Observable that meets some\n * condition.\n *\n * <span class=\"informal\">Finds the first value that passes some test and emits\n * that.</span>\n *\n * ![](find.png)\n *\n * `find` searches for the first item in the source Observable that matches the\n * specified condition embodied by the `predicate`, and returns the first\n * occurrence in the source. Unlike {@link first}, the `predicate` is required\n * in `find`, and does not emit an error if a valid value is not found.\n *\n * ## Example\n * Find and emit the first click that happens on a DIV element\n * ```ts\n * import { fromEvent } from 'rxjs';\n * import { find } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(find(ev => ev.target.tagName === 'DIV'));\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link filter}\n * @see {@link first}\n * @see {@link findIndex}\n * @see {@link take}\n *\n * @param {function(value: T, index: number, source: Observable<T>): boolean} predicate\n * A function called with each item to test for condition matching.\n * @param {any} [thisArg] An optional argument to determine the value of `this`\n * in the `predicate` function.\n * @return {Observable<T>} An Observable of the first item that matches the\n * condition.\n * @method find\n * @owner Observable\n */\nexport function find<T>(predicate: (value: T, index: number, source: Observable<T>) => boolean,\n                        thisArg?: any): OperatorFunction<T, T | undefined> {\n  if (typeof predicate !== 'function') {\n    throw new TypeError('predicate is not a function');\n  }\n  return (source: Observable<T>) => source.lift(new FindValueOperator(predicate, source, false, thisArg)) as Observable<T | undefined>;\n}\n\nexport class FindValueOperator<T> implements Operator<T, T | number | undefined> {\n  constructor(private predicate: (value: T, index: number, source: Observable<T>) => boolean,\n              private source: Observable<T>,\n              private yieldIndex: boolean,\n              private thisArg?: any) {\n  }\n\n  call(observer: Subscriber<T>, source: any): any {\n    return source.subscribe(new FindValueSubscriber(observer, this.predicate, this.source, this.yieldIndex, this.thisArg));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class FindValueSubscriber<T> extends Subscriber<T> {\n  private index: number = 0;\n\n  constructor(destination: Subscriber<T>,\n              private predicate: (value: T, index: number, source: Observable<T>) => boolean,\n              private source: Observable<T>,\n              private yieldIndex: boolean,\n              private thisArg?: any) {\n    super(destination);\n  }\n\n  private notifyComplete(value: any): void {\n    const destination = this.destination;\n\n    destination.next(value);\n    destination.complete();\n    this.unsubscribe();\n  }\n\n  protected _next(value: T): void {\n    const {predicate, thisArg} = this;\n    const index = this.index++;\n    try {\n      const result = predicate.call(thisArg || this, value, index, this.source);\n      if (result) {\n        this.notifyComplete(this.yieldIndex ? index : value);\n      }\n    } catch (err) {\n      this.destination.error(err);\n    }\n  }\n\n  protected _complete(): void {\n    this.notifyComplete(this.yieldIndex ? -1 : undefined);\n  }\n}\n","import { Observable } from '../Observable';\nimport { FindValueOperator } from '../operators/find';\nimport { OperatorFunction } from '../types';\n/**\n * Emits only the index of the first value emitted by the source Observable that\n * meets some condition.\n *\n * <span class=\"informal\">It's like {@link find}, but emits the index of the\n * found value, not the value itself.</span>\n *\n * ![](findIndex.png)\n *\n * `findIndex` searches for the first item in the source Observable that matches\n * the specified condition embodied by the `predicate`, and returns the\n * (zero-based) index of the first occurrence in the source. Unlike\n * {@link first}, the `predicate` is required in `findIndex`, and does not emit\n * an error if a valid value is not found.\n *\n * ## Example\n * Emit the index of first click that happens on a DIV element\n * ```ts\n * import { fromEvent } from 'rxjs';\n * import { findIndex } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(findIndex(ev => ev.target.tagName === 'DIV'));\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link filter}\n * @see {@link find}\n * @see {@link first}\n * @see {@link take}\n *\n * @param {function(value: T, index: number, source: Observable<T>): boolean} predicate\n * A function called with each item to test for condition matching.\n * @param {any} [thisArg] An optional argument to determine the value of `this`\n * in the `predicate` function.\n * @return {Observable} An Observable of the index of the first item that\n * matches the condition.\n * @method find\n * @owner Observable\n */\nexport function findIndex<T>(predicate: (value: T, index: number, source: Observable<T>) => boolean,\n                             thisArg?: any): OperatorFunction<T, number> {\n  return (source: Observable<T>) => source.lift(new FindValueOperator(predicate, source, true, thisArg)) as Observable<any>;\n}\n","import { Observable } from '../Observable';\nimport { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { EmptyError } from '../util/EmptyError';\nimport { OperatorFunction } from '../../internal/types';\nimport { filter } from './filter';\nimport { take } from './take';\nimport { defaultIfEmpty } from './defaultIfEmpty';\nimport { throwIfEmpty } from './throwIfEmpty';\nimport { identity } from '../util/identity';\n\n/* tslint:disable:max-line-length */\nexport function first<T, D = T>(\n  predicate?: null,\n  defaultValue?: D\n): OperatorFunction<T, T | D>;\nexport function first<T, S extends T>(\n  predicate: (value: T, index: number, source: Observable<T>) => value is S,\n  defaultValue?: S\n): OperatorFunction<T, S>;\nexport function first<T, D = T>(\n  predicate: (value: T, index: number, source: Observable<T>) => boolean,\n  defaultValue?: D\n): OperatorFunction<T, T | D>;\n/* tslint:enable:max-line-length */\n\n/**\n * Emits only the first value (or the first value that meets some condition)\n * emitted by the source Observable.\n *\n * <span class=\"informal\">Emits only the first value. Or emits only the first\n * value that passes some test.</span>\n *\n * ![](first.png)\n *\n * If called with no arguments, `first` emits the first value of the source\n * Observable, then completes. If called with a `predicate` function, `first`\n * emits the first value of the source that matches the specified condition. It\n * may also take a deprecated `resultSelector` function to produce the output\n * value from the input value, and a `defaultValue` to emit in case the source\n * completes before it is able to emit a valid value. Throws an error if\n * `defaultValue` was not provided and a matching element is not found.\n *\n * ## Examples\n * Emit only the first click that happens on the DOM\n * ```ts\n * import { fromEvent } from 'rxjs';\n * import { first } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(first());\n * result.subscribe(x => console.log(x));\n * ```\n *\n * Emits the first click that happens on a DIV\n * ```ts\n * import { fromEvent } from 'rxjs';\n * import { first } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(first(ev => ev.target.tagName === 'DIV'));\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link filter}\n * @see {@link find}\n * @see {@link take}\n *\n * @throws {EmptyError} Delivers an EmptyError to the Observer's `error`\n * callback if the Observable completes before any `next` notification was sent.\n *\n * @param {function(value: T, index: number, source: Observable<T>): boolean} [predicate]\n * An optional function called with each item to test for condition matching.\n * @param {R} [defaultValue] The default value emitted in case no valid value\n * was found on the source.\n * @return {Observable<T|R>} An Observable of the first item that matches the\n * condition.\n * @method first\n * @owner Observable\n */\nexport function first<T, D>(\n  predicate?: ((value: T, index: number, source: Observable<T>) => boolean) | null,\n  defaultValue?: D\n): OperatorFunction<T, T | D> {\n  const hasDefaultValue = arguments.length >= 2;\n  return (source: Observable<T>) => source.pipe(\n    predicate ? filter((v, i) => predicate(v, i, source)) : identity,\n    take(1),\n    hasDefaultValue ? defaultIfEmpty<T | D>(defaultValue) : throwIfEmpty(() => new EmptyError()),\n  );\n}\n","import { Observable } from '../Observable';\nimport { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { OperatorFunction } from '../types';\n\n/**\n * Ignores all items emitted by the source Observable and only passes calls of `complete` or `error`.\n *\n * ![](ignoreElements.png)\n *\n * ## Examples\n * ### Ignores emitted values, reacts to observable's completion.\n * ```ts\n * import { of } from 'rxjs';\n * import { ignoreElements } from 'rxjs/operators';\n *\n * of('you', 'talking', 'to', 'me').pipe(\n *   ignoreElements(),\n * )\n * .subscribe(\n *   word => console.log(word),\n *   err => console.log('error:', err),\n *   () => console.log('the end'),\n * );\n * // result:\n * // 'the end'\n * ```\n * @return {Observable} An empty Observable that only calls `complete`\n * or `error`, based on which one is called by the source Observable.\n * @method ignoreElements\n * @owner Observable\n */\nexport function ignoreElements(): OperatorFunction<any, never> {\n  return function ignoreElementsOperatorFunction(source: Observable<any>) {\n    return source.lift(new IgnoreElementsOperator());\n  };\n}\n\nclass IgnoreElementsOperator<T, R> implements Operator<T, R> {\n  call(subscriber: Subscriber<R>, source: any): any {\n    return source.subscribe(new IgnoreElementsSubscriber(subscriber));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass IgnoreElementsSubscriber<T> extends Subscriber<T> {\n  protected _next(unused: T): void {\n    // Do nothing\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { OperatorFunction } from '../types';\n\n/**\n * Emits false if the input observable emits any values, or emits true if the\n * input observable completes without emitting any values.\n *\n * <span class=\"informal\">Tells whether any values are emitted by an observable</span>\n *\n * ![](isEmpty.png)\n *\n * `isEmpty` transforms an Observable that emits values into an Observable that\n * emits a single boolean value representing whether or not any values were\n * emitted by the source Observable. As soon as the source Observable emits a\n * value, `isEmpty` will emit a `false` and complete.  If the source Observable\n * completes having not emitted anything, `isEmpty` will emit a `true` and\n * complete.\n *\n * A similar effect could be achieved with {@link count}, but `isEmpty` can emit\n * a `false` value sooner.\n *\n * ## Examples\n *\n * Emit `false` for a non-empty Observable\n * ```javascript\n * import { Subject } from 'rxjs';\n * import { isEmpty } from 'rxjs/operators';\n *\n * const source = new Subject<string>();\n * const result = source.pipe(isEmpty());\n * source.subscribe(x => console.log(x));\n * result.subscribe(x => console.log(x));\n * source.next('a');\n * source.next('b');\n * source.next('c');\n * source.complete();\n *\n * // Results in:\n * // a\n * // false\n * // b\n * // c\n * ```\n *\n * Emit `true` for an empty Observable\n * ```javascript\n * import { EMPTY } from 'rxjs';\n * import { isEmpty } from 'rxjs/operators';\n *\n * const result = EMPTY.pipe(isEmpty());\n * result.subscribe(x => console.log(x));\n * // Results in:\n * // true\n * ```\n *\n * @see {@link count}\n * @see {@link EMPTY}\n *\n * @return {OperatorFunction<T, boolean>} An Observable of a boolean value indicating whether observable was empty or not\n * @method isEmpty\n * @owner Observable\n */\n\nexport function isEmpty<T>(): OperatorFunction<T, boolean> {\n  return (source: Observable<T>) => source.lift(new IsEmptyOperator());\n}\n\nclass IsEmptyOperator implements Operator<any, boolean> {\n  call (observer: Subscriber<boolean>, source: any): any {\n    return source.subscribe(new IsEmptySubscriber(observer));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass IsEmptySubscriber extends Subscriber<any> {\n  constructor(destination: Subscriber<boolean>) {\n    super(destination);\n  }\n\n  private notifyComplete(isEmpty: boolean): void {\n    const destination = this.destination;\n\n    destination.next(isEmpty);\n    destination.complete();\n  }\n\n  protected _next(value: boolean) {\n    this.notifyComplete(false);\n  }\n\n  protected _complete() {\n    this.notifyComplete(true);\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { ArgumentOutOfRangeError } from '../util/ArgumentOutOfRangeError';\nimport { empty } from '../observable/empty';\nimport { Observable } from '../Observable';\nimport { MonoTypeOperatorFunction, TeardownLogic } from '../types';\n\n/**\n * Emits only the last `count` values emitted by the source Observable.\n *\n * <span class=\"informal\">Remembers the latest `count` values, then emits those\n * only when the source completes.</span>\n *\n * ![](takeLast.png)\n *\n * `takeLast` returns an Observable that emits at most the last `count` values\n * emitted by the source Observable. If the source emits fewer than `count`\n * values then all of its values are emitted. This operator must wait until the\n * `complete` notification emission from the source in order to emit the `next`\n * values on the output Observable, because otherwise it is impossible to know\n * whether or not more values will be emitted on the source. For this reason,\n * all values are emitted synchronously, followed by the complete notification.\n *\n * ## Example\n * Take the last 3 values of an Observable with many values\n * ```ts\n * import { range } from 'rxjs';\n * import { takeLast } from 'rxjs/operators';\n *\n * const many = range(1, 100);\n * const lastThree = many.pipe(takeLast(3));\n * lastThree.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link take}\n * @see {@link takeUntil}\n * @see {@link takeWhile}\n * @see {@link skip}\n *\n * @throws {ArgumentOutOfRangeError} When using `takeLast(i)`, it delivers an\n * ArgumentOutOrRangeError to the Observer's `error` callback if `i < 0`.\n *\n * @param {number} count The maximum number of values to emit from the end of\n * the sequence of values emitted by the source Observable.\n * @return {Observable<T>} An Observable that emits at most the last count\n * values emitted by the source Observable.\n * @method takeLast\n * @owner Observable\n */\nexport function takeLast<T>(count: number): MonoTypeOperatorFunction<T> {\n  return function takeLastOperatorFunction(source: Observable<T>): Observable<T> {\n    if (count === 0) {\n      return empty();\n    } else {\n      return source.lift(new TakeLastOperator(count));\n    }\n  };\n}\n\nclass TakeLastOperator<T> implements Operator<T, T> {\n  constructor(private total: number) {\n    if (this.total < 0) {\n      throw new ArgumentOutOfRangeError;\n    }\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new TakeLastSubscriber(subscriber, this.total));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass TakeLastSubscriber<T> extends Subscriber<T> {\n  private ring: Array<T> = new Array();\n  private count: number = 0;\n\n  constructor(destination: Subscriber<T>, private total: number) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    const ring = this.ring;\n    const total = this.total;\n    const count = this.count++;\n\n    if (ring.length < total) {\n      ring.push(value);\n    } else {\n      const index = count % total;\n      ring[index] = value;\n    }\n  }\n\n  protected _complete(): void {\n    const destination = this.destination;\n    let count = this.count;\n\n    if (count > 0) {\n      const total = this.count >= this.total ? this.total : this.count;\n      const ring  = this.ring;\n\n      for (let i = 0; i < total; i++) {\n        const idx = (count++) % total;\n        destination.next(ring[idx]);\n      }\n    }\n\n    destination.complete();\n  }\n}\n","import { Observable } from '../Observable';\nimport { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { EmptyError } from '../util/EmptyError';\nimport { OperatorFunction } from '../../internal/types';\nimport { filter } from './filter';\nimport { takeLast } from './takeLast';\nimport { throwIfEmpty } from './throwIfEmpty';\nimport { defaultIfEmpty } from './defaultIfEmpty';\nimport { identity } from '../util/identity';\n\n/* tslint:disable:max-line-length */\nexport function last<T, D = T>(\n  predicate?: null,\n  defaultValue?: D\n): OperatorFunction<T, T | D>;\nexport function last<T, S extends T>(\n  predicate: (value: T, index: number, source: Observable<T>) => value is S,\n  defaultValue?: S\n): OperatorFunction<T, S>;\nexport function last<T, D = T>(\n  predicate: (value: T, index: number, source: Observable<T>) => boolean,\n  defaultValue?: D\n): OperatorFunction<T, T | D>;\n/* tslint:enable:max-line-length */\n\n/**\n * Returns an Observable that emits only the last item emitted by the source Observable.\n * It optionally takes a predicate function as a parameter, in which case, rather than emitting\n * the last item from the source Observable, the resulting Observable will emit the last item\n * from the source Observable that satisfies the predicate.\n *\n * ![](last.png)\n *\n * @throws {EmptyError} Delivers an EmptyError to the Observer's `error`\n * callback if the Observable completes before any `next` notification was sent.\n * @param {function} [predicate] - The condition any source emitted item has to satisfy.\n * @param {any} [defaultValue] - An optional default value to provide if last\n * predicate isn't met or no values were emitted.\n * @return {Observable} An Observable that emits only the last item satisfying the given condition\n * from the source, or an NoSuchElementException if no such items are emitted.\n * @throws - Throws if no items that match the predicate are emitted by the source Observable.\n */\nexport function last<T, D>(\n  predicate?: ((value: T, index: number, source: Observable<T>) => boolean) | null,\n  defaultValue?: D\n): OperatorFunction<T, T | D> {\n  const hasDefaultValue = arguments.length >= 2;\n  return (source: Observable<T>) => source.pipe(\n    predicate ? filter((v, i) => predicate(v, i, source)) : identity,\n    takeLast(1),\n    hasDefaultValue ? defaultIfEmpty<T | D>(defaultValue) : throwIfEmpty(() => new EmptyError()),\n  );\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { OperatorFunction } from '../types';\n\n/**\n * Emits the given constant value on the output Observable every time the source\n * Observable emits a value.\n *\n * <span class=\"informal\">Like {@link map}, but it maps every source value to\n * the same output value every time.</span>\n *\n * ![](mapTo.png)\n *\n * Takes a constant `value` as argument, and emits that whenever the source\n * Observable emits a value. In other words, ignores the actual source value,\n * and simply uses the emission moment to know when to emit the given `value`.\n *\n * ## Example\n * Map every click to the string 'Hi'\n * ```ts\n * import { fromEvent } from 'rxjs';\n * import { mapTo } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const greetings = clicks.pipe(mapTo('Hi'));\n * greetings.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link map}\n *\n * @param {any} value The value to map each source value to.\n * @return {Observable} An Observable that emits the given `value` every time\n * the source Observable emits something.\n * @method mapTo\n * @owner Observable\n */\nexport function mapTo<T, R>(value: R): OperatorFunction<T, R> {\n  return (source: Observable<T>) => source.lift(new MapToOperator(value));\n}\n\nclass MapToOperator<T, R> implements Operator<T, R> {\n\n  value: R;\n\n  constructor(value: R) {\n    this.value = value;\n  }\n\n  call(subscriber: Subscriber<R>, source: any): any {\n    return source.subscribe(new MapToSubscriber(subscriber, this.value));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass MapToSubscriber<T, R> extends Subscriber<T> {\n\n  value: R;\n\n  constructor(destination: Subscriber<R>, value: R) {\n    super(destination);\n    this.value = value;\n  }\n\n  protected _next(x: T) {\n    this.destination.next(this.value);\n  }\n}\n","import { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { Notification } from '../Notification';\nimport { OperatorFunction } from '../types';\n\n/**\n * Represents all of the notifications from the source Observable as `next`\n * emissions marked with their original types within {@link Notification}\n * objects.\n *\n * <span class=\"informal\">Wraps `next`, `error` and `complete` emissions in\n * {@link Notification} objects, emitted as `next` on the output Observable.\n * </span>\n *\n * ![](materialize.png)\n *\n * `materialize` returns an Observable that emits a `next` notification for each\n * `next`, `error`, or `complete` emission of the source Observable. When the\n * source Observable emits `complete`, the output Observable will emit `next` as\n * a Notification of type \"complete\", and then it will emit `complete` as well.\n * When the source Observable emits `error`, the output will emit `next` as a\n * Notification of type \"error\", and then `complete`.\n *\n * This operator is useful for producing metadata of the source Observable, to\n * be consumed as `next` emissions. Use it in conjunction with\n * {@link dematerialize}.\n *\n * ## Example\n * Convert a faulty Observable to an Observable of Notifications\n * ```ts\n * import { of } from 'rxjs';\n * import { materialize, map } from 'rxjs/operators';\n *\n * const letters = of('a', 'b', 13, 'd');\n * const upperCase = letters.pipe(map(x => x.toUpperCase()));\n * const materialized = upperCase.pipe(materialize());\n * materialized.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // - Notification {kind: \"N\", value: \"A\", error: undefined, hasValue: true}\n * // - Notification {kind: \"N\", value: \"B\", error: undefined, hasValue: true}\n * // - Notification {kind: \"E\", value: undefined, error: TypeError:\n * //   x.toUpperCase is not a function at MapSubscriber.letters.map.x\n * //   [as project] (http://1…, hasValue: false}\n * ```\n *\n * @see {@link Notification}\n * @see {@link dematerialize}\n *\n * @return {Observable<Notification<T>>} An Observable that emits\n * {@link Notification} objects that wrap the original emissions from the source\n * Observable with metadata.\n * @method materialize\n * @owner Observable\n */\nexport function materialize<T>(): OperatorFunction<T, Notification<T>> {\n  return function materializeOperatorFunction(source: Observable<T>) {\n    return source.lift(new MaterializeOperator());\n  };\n}\n\nclass MaterializeOperator<T> implements Operator<T, Notification<T>> {\n  call(subscriber: Subscriber<Notification<T>>, source: any): any {\n    return source.subscribe(new MaterializeSubscriber(subscriber));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass MaterializeSubscriber<T> extends Subscriber<T> {\n  constructor(destination: Subscriber<Notification<T>>) {\n    super(destination);\n  }\n\n  protected _next(value: T) {\n    this.destination.next(Notification.createNext(value));\n  }\n\n  protected _error(err: any) {\n    const destination = this.destination;\n    destination.next(Notification.createError(err));\n    destination.complete();\n  }\n\n  protected _complete() {\n    const destination = this.destination;\n    destination.next(Notification.createComplete());\n    destination.complete();\n  }\n}\n","import { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { OperatorFunction, MonoTypeOperatorFunction } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function scan<T, R>(accumulator: (acc: R, value: T, index: number) => R, seed: R): OperatorFunction<T, R>;\nexport function scan<T>(accumulator: (acc: T, value: T, index: number) => T, seed?: T): MonoTypeOperatorFunction<T>;\nexport function scan<T, R>(accumulator: (acc: R, value: T, index: number) => R): OperatorFunction<T, R>;\n/* tslint:enable:max-line-length */\n\n/**\n * Applies an accumulator function over the source Observable, and returns each\n * intermediate result, with an optional seed value.\n *\n * <span class=\"informal\">It's like {@link reduce}, but emits the current\n * accumulation whenever the source emits a value.</span>\n *\n * ![](scan.png)\n *\n * Combines together all values emitted on the source, using an accumulator\n * function that knows how to join a new source value into the accumulation from\n * the past. Is similar to {@link reduce}, but emits the intermediate\n * accumulations.\n *\n * Returns an Observable that applies a specified `accumulator` function to each\n * item emitted by the source Observable. If a `seed` value is specified, then\n * that value will be used as the initial value for the accumulator. If no seed\n * value is specified, the first item of the source is used as the seed.\n *\n * ## Example\n * Count the number of click events\n * ```ts\n * import { fromEvent } from 'rxjs';\n * import { scan, mapTo } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const ones = clicks.pipe(mapTo(1));\n * const seed = 0;\n * const count = ones.pipe(scan((acc, one) => acc + one, seed));\n * count.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link expand}\n * @see {@link mergeScan}\n * @see {@link reduce}\n *\n * @param {function(acc: R, value: T, index: number): R} accumulator\n * The accumulator function called on each source value.\n * @param {T|R} [seed] The initial accumulation value.\n * @return {Observable<R>} An observable of the accumulated values.\n * @method scan\n * @owner Observable\n */\nexport function scan<T, R>(accumulator: (acc: R, value: T, index: number) => R, seed?: T | R): OperatorFunction<T, R> {\n  let hasSeed = false;\n  // providing a seed of `undefined` *should* be valid and trigger\n  // hasSeed! so don't use `seed !== undefined` checks!\n  // For this reason, we have to check it here at the original call site\n  // otherwise inside Operator/Subscriber we won't know if `undefined`\n  // means they didn't provide anything or if they literally provided `undefined`\n  if (arguments.length >= 2) {\n    hasSeed = true;\n  }\n\n  return function scanOperatorFunction(source: Observable<T>): Observable<R> {\n    return source.lift(new ScanOperator(accumulator, seed, hasSeed));\n  };\n}\n\nclass ScanOperator<T, R> implements Operator<T, R> {\n  constructor(private accumulator: (acc: R, value: T, index: number) => R, private seed?: T | R, private hasSeed: boolean = false) {}\n\n  call(subscriber: Subscriber<R>, source: any): any {\n    return source.subscribe(new ScanSubscriber(subscriber, this.accumulator, this.seed, this.hasSeed));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass ScanSubscriber<T, R> extends Subscriber<T> {\n  private index: number = 0;\n\n  get seed(): T | R {\n    return this._seed;\n  }\n\n  set seed(value: T | R) {\n    this.hasSeed = true;\n    this._seed = value;\n  }\n\n  constructor(destination: Subscriber<R>, private accumulator: (acc: R, value: T, index: number) => R, private _seed: T | R,\n              private hasSeed: boolean) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    if (!this.hasSeed) {\n      this.seed = value;\n      this.destination.next(value);\n    } else {\n      return this._tryNext(value);\n    }\n  }\n\n  private _tryNext(value: T): void {\n    const index = this.index++;\n    let result: any;\n    try {\n      result = this.accumulator(<R>this.seed, value, index);\n    } catch (err) {\n      this.destination.error(err);\n    }\n    this.seed = result;\n    this.destination.next(result);\n  }\n}\n","import { Observable } from '../Observable';\nimport { scan } from './scan';\nimport { takeLast } from './takeLast';\nimport { defaultIfEmpty } from './defaultIfEmpty';\nimport { OperatorFunction, MonoTypeOperatorFunction } from '../types';\nimport { pipe } from '../util/pipe';\n\n/* tslint:disable:max-line-length */\nexport function reduce<T, R>(accumulator: (acc: R, value: T, index: number) => R, seed: R): OperatorFunction<T, R>;\nexport function reduce<T>(accumulator: (acc: T, value: T, index: number) => T, seed?: T): MonoTypeOperatorFunction<T>;\nexport function reduce<T, R>(accumulator: (acc: R, value: T, index: number) => R): OperatorFunction<T, R>;\n/* tslint:enable:max-line-length */\n\n/**\n * Applies an accumulator function over the source Observable, and returns the\n * accumulated result when the source completes, given an optional seed value.\n *\n * <span class=\"informal\">Combines together all values emitted on the source,\n * using an accumulator function that knows how to join a new source value into\n * the accumulation from the past.</span>\n *\n * ![](reduce.png)\n *\n * Like\n * [Array.prototype.reduce()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce),\n * `reduce` applies an `accumulator` function against an accumulation and each\n * value of the source Observable (from the past) to reduce it to a single\n * value, emitted on the output Observable. Note that `reduce` will only emit\n * one value, only when the source Observable completes. It is equivalent to\n * applying operator {@link scan} followed by operator {@link last}.\n *\n * Returns an Observable that applies a specified `accumulator` function to each\n * item emitted by the source Observable. If a `seed` value is specified, then\n * that value will be used as the initial value for the accumulator. If no seed\n * value is specified, the first item of the source is used as the seed.\n *\n * ## Example\n * Count the number of click events that happened in 5 seconds\n * ```ts\n * import { fromEvent, interval } from 'rxjs';\n * import { reduce, takeUntil, mapTo } from 'rxjs/operators';\n *\n * const clicksInFiveSeconds = fromEvent(document, 'click').pipe(\n *   takeUntil(interval(5000)),\n * );\n * const ones = clicksInFiveSeconds.pipe(mapTo(1));\n * const seed = 0;\n * const count = ones.pipe(reduce((acc, one) => acc + one, seed));\n * count.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link count}\n * @see {@link expand}\n * @see {@link mergeScan}\n * @see {@link scan}\n *\n * @param {function(acc: R, value: T, index: number): R} accumulator The accumulator function\n * called on each source value.\n * @param {R} [seed] The initial accumulation value.\n * @return {Observable<R>} An Observable that emits a single value that is the\n * result of accumulating the values emitted by the source Observable.\n * @method reduce\n * @owner Observable\n */\nexport function reduce<T, R>(accumulator: (acc: T | R, value: T, index?: number) => T | R, seed?: T | R): OperatorFunction<T, T | R> {\n  // providing a seed of `undefined` *should* be valid and trigger\n  // hasSeed! so don't use `seed !== undefined` checks!\n  // For this reason, we have to check it here at the original call site\n  // otherwise inside Operator/Subscriber we won't know if `undefined`\n  // means they didn't provide anything or if they literally provided `undefined`\n  if (arguments.length >= 2) {\n    return function reduceOperatorFunctionWithSeed(source: Observable<T>): Observable<T | R> {\n      return pipe(scan(accumulator, seed), takeLast(1), defaultIfEmpty(seed))(source);\n    };\n  }\n  return function reduceOperatorFunction(source: Observable<T>): Observable<T | R> {\n    return pipe(\n      scan<T, T | R>((acc, value, index) => accumulator(acc, value, index + 1)),\n      takeLast(1),\n    )(source);\n  };\n}\n","import { reduce } from './reduce';\nimport { MonoTypeOperatorFunction } from '../types';\n\n/**\n * The Max operator operates on an Observable that emits numbers (or items that can be compared with a provided function),\n * and when source Observable completes it emits a single item: the item with the largest value.\n *\n * ![](max.png)\n *\n * ## Examples\n * Get the maximal value of a series of numbers\n * ```ts\n * import { of } from 'rxjs';\n * import { max } from 'rxjs/operators';\n *\n * of(5, 4, 7, 2, 8).pipe(\n *   max(),\n * )\n * .subscribe(x => console.log(x)); // -> 8\n * ```\n *\n * Use a comparer function to get the maximal item\n * ```typescript\n * import { of } from 'rxjs';\n * import { max } from 'rxjs/operators';\n *\n * interface Person {\n *   age: number,\n *   name: string\n * }\n * of<Person>(\n *   {age: 7, name: 'Foo'},\n *   {age: 5, name: 'Bar'},\n *   {age: 9, name: 'Beer'},\n * ).pipe(\n *   max<Person>((a: Person, b: Person) => a.age < b.age ? -1 : 1),\n * )\n * .subscribe((x: Person) => console.log(x.name)); // -> 'Beer'\n * ```\n *\n * @see {@link min}\n *\n * @param {Function} [comparer] - Optional comparer function that it will use instead of its default to compare the\n * value of two items.\n * @return {Observable} An Observable that emits item with the largest value.\n * @method max\n * @owner Observable\n */\nexport function max<T>(comparer?: (x: T, y: T) => number): MonoTypeOperatorFunction<T> {\n  const max: (x: T, y: T) => T = (typeof comparer === 'function')\n    ? (x, y) => comparer(x, y) > 0 ? x : y\n    : (x, y) => x > y ? x : y;\n\n  return reduce(max);\n}\n","import { merge as mergeStatic } from '../observable/merge';\nimport { Observable } from '../Observable';\nimport { ObservableInput, OperatorFunction, MonoTypeOperatorFunction, SchedulerLike } from '../types';\n\n/* tslint:disable:max-line-length */\n/** @deprecated Deprecated in favor of static merge. */\nexport function merge<T>(scheduler?: SchedulerLike): MonoTypeOperatorFunction<T>;\n/** @deprecated Deprecated in favor of static merge. */\nexport function merge<T>(concurrent?: number, scheduler?: SchedulerLike): MonoTypeOperatorFunction<T>;\n/** @deprecated Deprecated in favor of static merge. */\nexport function merge<T, T2>(v2: ObservableInput<T2>, scheduler?: SchedulerLike): OperatorFunction<T, T | T2>;\n/** @deprecated Deprecated in favor of static merge. */\nexport function merge<T, T2>(v2: ObservableInput<T2>, concurrent?: number, scheduler?: SchedulerLike): OperatorFunction<T, T | T2>;\n/** @deprecated Deprecated in favor of static merge. */\nexport function merge<T, T2, T3>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, scheduler?: SchedulerLike): OperatorFunction<T, T | T2 | T3>;\n/** @deprecated Deprecated in favor of static merge. */\nexport function merge<T, T2, T3>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, concurrent?: number, scheduler?: SchedulerLike): OperatorFunction<T, T | T2 | T3>;\n/** @deprecated Deprecated in favor of static merge. */\nexport function merge<T, T2, T3, T4>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, scheduler?: SchedulerLike): OperatorFunction<T, T | T2 | T3 | T4>;\n/** @deprecated Deprecated in favor of static merge. */\nexport function merge<T, T2, T3, T4>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, concurrent?: number, scheduler?: SchedulerLike): OperatorFunction<T, T | T2 | T3 | T4>;\n/** @deprecated Deprecated in favor of static merge. */\nexport function merge<T, T2, T3, T4, T5>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, scheduler?: SchedulerLike): OperatorFunction<T, T | T2 | T3 | T4 | T5>;\n/** @deprecated Deprecated in favor of static merge. */\nexport function merge<T, T2, T3, T4, T5>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, concurrent?: number, scheduler?: SchedulerLike): OperatorFunction<T, T | T2 | T3 | T4 | T5>;\n/** @deprecated Deprecated in favor of static merge. */\nexport function merge<T, T2, T3, T4, T5, T6>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>, scheduler?: SchedulerLike): OperatorFunction<T, T | T2 | T3 | T4 | T5 | T6>;\n/** @deprecated Deprecated in favor of static merge. */\nexport function merge<T, T2, T3, T4, T5, T6>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>, concurrent?: number, scheduler?: SchedulerLike): OperatorFunction<T, T | T2 | T3 | T4 | T5 | T6>;\n/** @deprecated Deprecated in favor of static merge. */\nexport function merge<T>(...observables: Array<ObservableInput<T> | SchedulerLike | number>): MonoTypeOperatorFunction<T>;\n/** @deprecated Deprecated in favor of static merge. */\nexport function merge<T, R>(...observables: Array<ObservableInput<any> | SchedulerLike | number>): OperatorFunction<T, R>;\n/* tslint:enable:max-line-length */\n\n/**\n * @deprecated Deprecated in favor of static {@link merge}.\n */\nexport function merge<T, R>(...observables: Array<ObservableInput<any> | SchedulerLike | number>): OperatorFunction<T, R> {\n  return (source: Observable<T>) => source.lift.call(mergeStatic(source, ...observables));\n}\n","import { Observable } from '../Observable';\nimport { OperatorFunction, ObservedValueOf } from '../../internal/types';\nimport { mergeMap } from './mergeMap';\nimport { ObservableInput } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function mergeMapTo<T, O extends ObservableInput<any>>(innerObservable: O, concurrent?: number): OperatorFunction<any, ObservedValueOf<O>>;\n/** @deprecated */\nexport function mergeMapTo<T, R, O extends ObservableInput<any>>(innerObservable: O, resultSelector: (outerValue: T, innerValue: ObservedValueOf<O>, outerIndex: number, innerIndex: number) => R, concurrent?: number): OperatorFunction<T, R>;\n/* tslint:enable:max-line-length */\n\n/**\n * Projects each source value to the same Observable which is merged multiple\n * times in the output Observable.\n *\n * <span class=\"informal\">It's like {@link mergeMap}, but maps each value always\n * to the same inner Observable.</span>\n *\n * ![](mergeMapTo.png)\n *\n * Maps each source value to the given Observable `innerObservable` regardless\n * of the source value, and then merges those resulting Observables into one\n * single Observable, which is the output Observable.\n *\n * ## Example\n * For each click event, start an interval Observable ticking every 1 second\n * ```ts\n * import { fromEvent, interval } from 'rxjs';\n * import { mergeMapTo } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(mergeMapTo(interval(1000)));\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link concatMapTo}\n * @see {@link merge}\n * @see {@link mergeAll}\n * @see {@link mergeMap}\n * @see {@link mergeScan}\n * @see {@link switchMapTo}\n *\n * @param {ObservableInput} innerObservable An Observable to replace each value from\n * the source Observable.\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input\n * Observables being subscribed to concurrently.\n * @return {Observable} An Observable that emits items from the given\n * `innerObservable`\n * @method mergeMapTo\n * @owner Observable\n */\nexport function mergeMapTo<T, R, O extends ObservableInput<any>>(\n  innerObservable: O,\n  resultSelector?: ((outerValue: T, innerValue: ObservedValueOf<O>, outerIndex: number, innerIndex: number) => R) | number,\n  concurrent: number = Number.POSITIVE_INFINITY\n): OperatorFunction<T, ObservedValueOf<O>|R> {\n  if (typeof resultSelector === 'function') {\n    return mergeMap(() => innerObservable, resultSelector, concurrent);\n  }\n  if (typeof resultSelector === 'number') {\n    concurrent = resultSelector;\n  }\n  return mergeMap(() => innerObservable, concurrent);\n}\n","import { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { ObservableInput, OperatorFunction } from '../types';\n\n/**\n * Applies an accumulator function over the source Observable where the\n * accumulator function itself returns an Observable, then each intermediate\n * Observable returned is merged into the output Observable.\n *\n * <span class=\"informal\">It's like {@link scan}, but the Observables returned\n * by the accumulator are merged into the outer Observable.</span>\n *\n * ## Example\n * Count the number of click events\n * ```ts\n * import { fromEvent, of } from 'rxjs';\n * import { mapTo, mergeScan } from 'rxjs/operators';\n *\n * const click$ = fromEvent(document, 'click');\n * const one$ = click$.pipe(mapTo(1));\n * const seed = 0;\n * const count$ = one$.pipe(\n *   mergeScan((acc, one) => of(acc + one), seed),\n * );\n * count$.subscribe(x => console.log(x));\n *\n * // Results:\n * // 1\n * // 2\n * // 3\n * // 4\n * // ...and so on for each click\n * ```\n *\n * @param {function(acc: R, value: T): Observable<R>} accumulator\n * The accumulator function called on each source value.\n * @param seed The initial accumulation value.\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of\n * input Observables being subscribed to concurrently.\n * @return {Observable<R>} An observable of the accumulated values.\n * @method mergeScan\n * @owner Observable\n */\nexport function mergeScan<T, R>(accumulator: (acc: R, value: T, index: number) => ObservableInput<R>,\n                                seed: R,\n                                concurrent: number = Number.POSITIVE_INFINITY): OperatorFunction<T, R> {\n  return (source: Observable<T>) => source.lift(new MergeScanOperator(accumulator, seed, concurrent));\n}\n\nexport class MergeScanOperator<T, R> implements Operator<T, R> {\n  constructor(private accumulator: (acc: R, value: T, index: number) => ObservableInput<R>,\n              private seed: R,\n              private concurrent: number) {\n  }\n\n  call(subscriber: Subscriber<R>, source: any): any {\n    return source.subscribe(new MergeScanSubscriber(\n      subscriber, this.accumulator, this.seed, this.concurrent\n    ));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class MergeScanSubscriber<T, R> extends OuterSubscriber<T, R> {\n  private hasValue: boolean = false;\n  private hasCompleted: boolean = false;\n  private buffer: Observable<any>[] = [];\n  private active: number = 0;\n  protected index: number = 0;\n\n  constructor(destination: Subscriber<R>,\n              private accumulator: (acc: R, value: T, index: number) => ObservableInput<R>,\n              private acc: R,\n              private concurrent: number) {\n    super(destination);\n  }\n\n  protected _next(value: any): void {\n    if (this.active < this.concurrent) {\n      const index = this.index++;\n      const destination = this.destination;\n      let ish;\n      try {\n        const { accumulator } = this;\n        ish = accumulator(this.acc, value, index);\n      } catch (e) {\n        return destination.error(e);\n      }\n      this.active++;\n      this._innerSub(ish, value, index);\n    } else {\n      this.buffer.push(value);\n    }\n  }\n\n  private _innerSub(ish: any, value: T, index: number): void {\n    const innerSubscriber = new InnerSubscriber(this, undefined, undefined);\n    const destination = this.destination as Subscription;\n    destination.add(innerSubscriber);\n    subscribeToResult<T, R>(this, ish, value, index, innerSubscriber);\n  }\n\n  protected _complete(): void {\n    this.hasCompleted = true;\n    if (this.active === 0 && this.buffer.length === 0) {\n      if (this.hasValue === false) {\n        this.destination.next(this.acc);\n      }\n      this.destination.complete();\n    }\n    this.unsubscribe();\n  }\n\n  notifyNext(outerValue: T, innerValue: R,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n    const { destination } = this;\n    this.acc = innerValue;\n    this.hasValue = true;\n    destination.next(innerValue);\n  }\n\n  notifyComplete(innerSub: Subscription): void {\n    const buffer = this.buffer;\n    const destination = this.destination as Subscription;\n    destination.remove(innerSub);\n    this.active--;\n    if (buffer.length > 0) {\n      this._next(buffer.shift());\n    } else if (this.active === 0 && this.hasCompleted) {\n      if (this.hasValue === false) {\n        this.destination.next(this.acc);\n      }\n      this.destination.complete();\n    }\n  }\n}\n","import { reduce } from './reduce';\nimport { MonoTypeOperatorFunction } from '../types';\n\n/**\n * The Min operator operates on an Observable that emits numbers (or items that can be compared with a provided function),\n * and when source Observable completes it emits a single item: the item with the smallest value.\n *\n * ![](min.png)\n *\n * ## Examples\n * Get the minimal value of a series of numbers\n * ```ts\n * import { of } from 'rxjs';\n * import { min } from 'rxjs/operators';\n *\n * of(5, 4, 7, 2, 8).pipe(\n *   min(),\n * )\n * .subscribe(x => console.log(x)); // -> 2\n * ```\n *\n * Use a comparer function to get the minimal item\n * ```typescript\n * import { of } from 'rxjs';\n * import { min } from 'rxjs/operators';\n *\n * interface Person {\n *   age: number,\n *   name: string\n * }\n * of<Person>(\n *   {age: 7, name: 'Foo'},\n *   {age: 5, name: 'Bar'},\n *   {age: 9, name: 'Beer'},\n * ).pipe(\n *   min<Person>( (a: Person, b: Person) => a.age < b.age ? -1 : 1),\n * )\n * .subscribe((x: Person) => console.log(x.name)); // -> 'Bar'\n * ```\n * @see {@link max}\n *\n * @param {Function} [comparer] - Optional comparer function that it will use instead of its default to compare the\n * value of two items.\n * @return {Observable<R>} An Observable that emits item with the smallest value.\n * @method min\n * @owner Observable\n */\nexport function min<T>(comparer?: (x: T, y: T) => number): MonoTypeOperatorFunction<T> {\n  const min: (x: T, y: T) => T = (typeof comparer === 'function')\n    ? (x, y) => comparer(x, y) < 0 ? x : y\n    : (x, y) => x < y ? x : y;\n  return reduce(min);\n}\n","import { Subject } from '../Subject';\nimport { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { ConnectableObservable, connectableObservableDescriptor } from '../observable/ConnectableObservable';\nimport { MonoTypeOperatorFunction, OperatorFunction, UnaryFunction, ObservedValueOf, ObservableInput } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function multicast<T>(subject: Subject<T>): UnaryFunction<Observable<T>, ConnectableObservable<T>>;\nexport function multicast<T, O extends ObservableInput<any>>(subject: Subject<T>, selector: (shared: Observable<T>) => O): UnaryFunction<Observable<T>, ConnectableObservable<ObservedValueOf<O>>>;\nexport function multicast<T>(subjectFactory: (this: Observable<T>) => Subject<T>): UnaryFunction<Observable<T>, ConnectableObservable<T>>;\nexport function multicast<T, O extends ObservableInput<any>>(SubjectFactory: (this: Observable<T>) => Subject<T>, selector: (shared: Observable<T>) => O): OperatorFunction<T, ObservedValueOf<O>>;\n/* tslint:enable:max-line-length */\n\n/**\n * Returns an Observable that emits the results of invoking a specified selector on items\n * emitted by a ConnectableObservable that shares a single subscription to the underlying stream.\n *\n * ![](multicast.png)\n *\n * @param {Function|Subject} subjectOrSubjectFactory - Factory function to create an intermediate subject through\n * which the source sequence's elements will be multicast to the selector function\n * or Subject to push source elements into.\n * @param {Function} [selector] - Optional selector function that can use the multicasted source stream\n * as many times as needed, without causing multiple subscriptions to the source stream.\n * Subscribers to the given source will receive all notifications of the source from the\n * time of the subscription forward.\n * @return {Observable} An Observable that emits the results of invoking the selector\n * on the items emitted by a `ConnectableObservable` that shares a single subscription to\n * the underlying stream.\n * @method multicast\n * @owner Observable\n */\nexport function multicast<T, R>(subjectOrSubjectFactory: Subject<T> | (() => Subject<T>),\n                                selector?: (source: Observable<T>) => Observable<R>): OperatorFunction<T, R> {\n  return function multicastOperatorFunction(source: Observable<T>): Observable<R> {\n    let subjectFactory: () => Subject<T>;\n    if (typeof subjectOrSubjectFactory === 'function') {\n      subjectFactory = <() => Subject<T>>subjectOrSubjectFactory;\n    } else {\n      subjectFactory = function subjectFactory() {\n        return <Subject<T>>subjectOrSubjectFactory;\n      };\n    }\n\n    if (typeof selector === 'function') {\n      return source.lift(new MulticastOperator(subjectFactory, selector));\n    }\n\n    const connectable: any = Object.create(source, connectableObservableDescriptor);\n    connectable.source = source;\n    connectable.subjectFactory = subjectFactory;\n\n    return <ConnectableObservable<R>> connectable;\n  };\n}\n\nexport class MulticastOperator<T, R> implements Operator<T, R> {\n  constructor(private subjectFactory: () => Subject<T>,\n              private selector: (source: Observable<T>) => Observable<R>) {\n  }\n  call(subscriber: Subscriber<R>, source: any): any {\n    const { selector } = this;\n    const subject = this.subjectFactory();\n    const subscription = selector(subject).subscribe(subscriber);\n    subscription.add(source.subscribe(subject));\n    return subscription;\n  }\n}\n","import { Observable } from '../Observable';\nimport { from } from '../observable/from';\nimport { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { isArray } from '../util/isArray';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { ObservableInput, OperatorFunction } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function onErrorResumeNext<T>(): OperatorFunction<T, T>;\nexport function onErrorResumeNext<T, T2>(v: ObservableInput<T2>): OperatorFunction<T, T | T2>;\nexport function onErrorResumeNext<T, T2, T3>(v: ObservableInput<T2>, v2: ObservableInput<T3>): OperatorFunction<T, T | T2 | T3>;\nexport function onErrorResumeNext<T, T2, T3, T4>(v: ObservableInput<T2>, v2: ObservableInput<T3>, v3: ObservableInput<T4>): OperatorFunction<T, T | T2 | T3 | T4>;\nexport function onErrorResumeNext<T, T2, T3, T4, T5>(v: ObservableInput<T2>, v2: ObservableInput<T3>, v3: ObservableInput<T4>, v4: ObservableInput<T5>): OperatorFunction<T, T | T2 | T3 | T4 | T5>;\nexport function onErrorResumeNext<T, T2, T3, T4, T5, T6>(v: ObservableInput<T2>, v2: ObservableInput<T3>, v3: ObservableInput<T4>, v4: ObservableInput<T5>, v5: ObservableInput<T6>): OperatorFunction<T, T | T2 | T3 | T4 | T5 | T6>;\nexport function onErrorResumeNext<T, T2, T3, T4, T5, T6, T7>(v: ObservableInput<T2>, v2: ObservableInput<T3>, v3: ObservableInput<T4>, v4: ObservableInput<T5>, v5: ObservableInput<T6>, v6: ObservableInput<T7>): OperatorFunction<T, T | T2 | T3 | T4 | T5 | T6 | T7>;\nexport function onErrorResumeNext<T, R>(...observables: Array<ObservableInput<any>>): OperatorFunction<T, T | R>;\nexport function onErrorResumeNext<T, R>(array: ObservableInput<any>[]): OperatorFunction<T, T | R>;\n/* tslint:enable:max-line-length */\n\n/**\n * When any of the provided Observable emits an complete or error notification, it immediately subscribes to the next one\n * that was passed.\n *\n * <span class=\"informal\">Execute series of Observables no matter what, even if it means swallowing errors.</span>\n *\n * ![](onErrorResumeNext.png)\n *\n * `onErrorResumeNext` is an operator that accepts a series of Observables, provided either directly as\n * arguments or as an array. If no single Observable is provided, returned Observable will simply behave the same\n * as the source.\n *\n * `onErrorResumeNext` returns an Observable that starts by subscribing and re-emitting values from the source Observable.\n * When its stream of values ends - no matter if Observable completed or emitted an error - `onErrorResumeNext`\n * will subscribe to the first Observable that was passed as an argument to the method. It will start re-emitting\n * its values as well and - again - when that stream ends, `onErrorResumeNext` will proceed to subscribing yet another\n * Observable in provided series, no matter if previous Observable completed or ended with an error. This will\n * be happening until there is no more Observables left in the series, at which point returned Observable will\n * complete - even if the last subscribed stream ended with an error.\n *\n * `onErrorResumeNext` can be therefore thought of as version of {@link concat} operator, which is more permissive\n * when it comes to the errors emitted by its input Observables. While `concat` subscribes to the next Observable\n * in series only if previous one successfully completed, `onErrorResumeNext` subscribes even if it ended with\n * an error.\n *\n * Note that you do not get any access to errors emitted by the Observables. In particular do not\n * expect these errors to appear in error callback passed to {@link Observable#subscribe}. If you want to take\n * specific actions based on what error was emitted by an Observable, you should try out {@link catchError} instead.\n *\n *\n * ## Example\n * Subscribe to the next Observable after map fails\n * ```ts\n * import { of } from 'rxjs';\n * import { onErrorResumeNext, map } from 'rxjs/operators';\n *\n * of(1, 2, 3, 0).pipe(\n *   map(x => {\n *       if (x === 0) { throw Error(); }\n *        return 10 / x;\n *   }),\n *   onErrorResumeNext(of(1, 2, 3)),\n * )\n * .subscribe(\n *   val => console.log(val),\n *   err => console.log(err),          // Will never be called.\n *   () => console.log('that\\'s it!')\n * );\n *\n * // Logs:\n * // 10\n * // 5\n * // 3.3333333333333335\n * // 1\n * // 2\n * // 3\n * // \"that's it!\"\n * ```\n *\n * @see {@link concat}\n * @see {@link catchError}\n *\n * @param {...ObservableInput} observables Observables passed either directly or as an array.\n * @return {Observable} An Observable that emits values from source Observable, but - if it errors - subscribes\n * to the next passed Observable and so on, until it completes or runs out of Observables.\n * @method onErrorResumeNext\n * @owner Observable\n */\n\nexport function onErrorResumeNext<T, R>(...nextSources: Array<ObservableInput<any> |\n                                                       Array<ObservableInput<any>>>): OperatorFunction<T, R> {\n  if (nextSources.length === 1 && isArray(nextSources[0])) {\n    nextSources = <Array<Observable<any>>>nextSources[0];\n  }\n\n  return (source: Observable<T>) => source.lift(new OnErrorResumeNextOperator<T, R>(nextSources));\n}\n\n/* tslint:disable:max-line-length */\nexport function onErrorResumeNextStatic<R>(v: ObservableInput<R>): Observable<R>;\nexport function onErrorResumeNextStatic<T2, T3, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>): Observable<R>;\nexport function onErrorResumeNextStatic<T2, T3, T4, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>): Observable<R>;\nexport function onErrorResumeNextStatic<T2, T3, T4, T5, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>): Observable<R>;\nexport function onErrorResumeNextStatic<T2, T3, T4, T5, T6, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>): Observable<R>;\n\nexport function onErrorResumeNextStatic<R>(...observables: Array<ObservableInput<any> | ((...values: Array<any>) => R)>): Observable<R>;\nexport function onErrorResumeNextStatic<R>(array: ObservableInput<any>[]): Observable<R>;\n/* tslint:enable:max-line-length */\n\nexport function onErrorResumeNextStatic<T, R>(...nextSources: Array<ObservableInput<any> |\n  Array<ObservableInput<any>> |\n  ((...values: Array<any>) => R)>): Observable<R> {\n  let source: ObservableInput<any> = null;\n\n  if (nextSources.length === 1 && isArray(nextSources[0])) {\n    nextSources = <Array<ObservableInput<any>>>nextSources[0];\n  }\n  source = nextSources.shift();\n\n  return from(source, null).lift(new OnErrorResumeNextOperator<T, R>(nextSources));\n}\n\nclass OnErrorResumeNextOperator<T, R> implements Operator<T, R> {\n  constructor(private nextSources: Array<ObservableInput<any>>) {\n  }\n\n  call(subscriber: Subscriber<R>, source: any): any {\n    return source.subscribe(new OnErrorResumeNextSubscriber(subscriber, this.nextSources));\n  }\n}\n\nclass OnErrorResumeNextSubscriber<T, R> extends OuterSubscriber<T, R> {\n  constructor(protected destination: Subscriber<T>,\n              private nextSources: Array<ObservableInput<any>>) {\n    super(destination);\n  }\n\n  notifyError(error: any, innerSub: InnerSubscriber<T, any>): void {\n    this.subscribeToNextSource();\n  }\n\n  notifyComplete(innerSub: InnerSubscriber<T, any>): void {\n    this.subscribeToNextSource();\n  }\n\n  protected _error(err: any): void {\n    this.subscribeToNextSource();\n    this.unsubscribe();\n  }\n\n  protected _complete(): void {\n    this.subscribeToNextSource();\n    this.unsubscribe();\n  }\n\n  private subscribeToNextSource(): void {\n    const next = this.nextSources.shift();\n    if (!!next) {\n      const innerSubscriber = new InnerSubscriber(this, undefined, undefined);\n      const destination = this.destination as Subscription;\n      destination.add(innerSubscriber);\n      subscribeToResult(this, next, undefined, undefined, innerSubscriber);\n    } else {\n      this.destination.complete();\n    }\n  }\n}\n","import { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { OperatorFunction } from '../types';\n\n/**\n * Groups pairs of consecutive emissions together and emits them as an array of\n * two values.\n *\n * <span class=\"informal\">Puts the current value and previous value together as\n * an array, and emits that.</span>\n *\n * ![](pairwise.png)\n *\n * The Nth emission from the source Observable will cause the output Observable\n * to emit an array [(N-1)th, Nth] of the previous and the current value, as a\n * pair. For this reason, `pairwise` emits on the second and subsequent\n * emissions from the source Observable, but not on the first emission, because\n * there is no previous value in that case.\n *\n * ## Example\n * On every click (starting from the second), emit the relative distance to the previous click\n * ```ts\n * import { fromEvent } from 'rxjs';\n * import { pairwise, map } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const pairs = clicks.pipe(pairwise());\n * const distance = pairs.pipe(\n *   map(pair => {\n *     const x0 = pair[0].clientX;\n *     const y0 = pair[0].clientY;\n *     const x1 = pair[1].clientX;\n *     const y1 = pair[1].clientY;\n *     return Math.sqrt(Math.pow(x0 - x1, 2) + Math.pow(y0 - y1, 2));\n *   }),\n * );\n * distance.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link buffer}\n * @see {@link bufferCount}\n *\n * @return {Observable<Array<T>>} An Observable of pairs (as arrays) of\n * consecutive values from the source Observable.\n * @method pairwise\n * @owner Observable\n */\nexport function pairwise<T>(): OperatorFunction<T, [T, T]> {\n  return (source: Observable<T>) => source.lift(new PairwiseOperator());\n}\n\nclass PairwiseOperator<T> implements Operator<T, [T, T]> {\n  call(subscriber: Subscriber<[T, T]>, source: any): any {\n    return source.subscribe(new PairwiseSubscriber(subscriber));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass PairwiseSubscriber<T> extends Subscriber<T> {\n  private prev: T;\n  private hasPrev: boolean = false;\n\n  constructor(destination: Subscriber<[T, T]>) {\n    super(destination);\n  }\n\n  _next(value: T): void {\n    let pair: [T, T] | undefined;\n\n    if (this.hasPrev) {\n      pair = [this.prev, value];\n    } else {\n      this.hasPrev = true;\n    }\n\n    this.prev = value;\n\n    if (pair) {\n      this.destination.next(pair);\n    }\n  }\n}\n","import { not } from '../util/not';\nimport { filter } from './filter';\nimport { Observable } from '../Observable';\nimport { UnaryFunction } from '../types';\n\n/**\n * Splits the source Observable into two, one with values that satisfy a\n * predicate, and another with values that don't satisfy the predicate.\n *\n * <span class=\"informal\">It's like {@link filter}, but returns two Observables:\n * one like the output of {@link filter}, and the other with values that did not\n * pass the condition.</span>\n *\n * ![](partition.png)\n *\n * `partition` outputs an array with two Observables that partition the values\n * from the source Observable through the given `predicate` function. The first\n * Observable in that array emits source values for which the predicate argument\n * returns true. The second Observable emits source values for which the\n * predicate returns false. The first behaves like {@link filter} and the second\n * behaves like {@link filter} with the predicate negated.\n *\n * ## Example\n * Partition click events into those on DIV elements and those elsewhere\n * ```ts\n * import { fromEvent } from 'rxjs';\n * import { partition } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const parts = clicks.pipe(partition(ev => ev.target.tagName === 'DIV'));\n * const clicksOnDivs = parts[0];\n * const clicksElsewhere = parts[1];\n * clicksOnDivs.subscribe(x => console.log('DIV clicked: ', x));\n * clicksElsewhere.subscribe(x => console.log('Other clicked: ', x));\n * ```\n *\n * @see {@link filter}\n *\n * @param {function(value: T, index: number): boolean} predicate A function that\n * evaluates each value emitted by the source Observable. If it returns `true`,\n * the value is emitted on the first Observable in the returned array, if\n * `false` the value is emitted on the second Observable in the array. The\n * `index` parameter is the number `i` for the i-th source emission that has\n * happened since the subscription, starting from the number `0`.\n * @param {any} [thisArg] An optional argument to determine the value of `this`\n * in the `predicate` function.\n * @return {[Observable<T>, Observable<T>]} An array with two Observables: one\n * with values that passed the predicate, and another with values that did not\n * pass the predicate.\n * @method partition\n * @owner Observable\n * @deprecated use `partition` static creation function instead\n */\nexport function partition<T>(predicate: (value: T, index: number) => boolean,\n                             thisArg?: any): UnaryFunction<Observable<T>, [Observable<T>, Observable<T>]> {\n  return (source: Observable<T>) => [\n    filter(predicate, thisArg)(source),\n    filter(not(predicate, thisArg) as any)(source)\n  ] as [Observable<T>, Observable<T>];\n}\n","import { Observable } from '../Observable';\nimport { map } from './map';\nimport { OperatorFunction } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function pluck<T, K1 extends keyof T>(k1: K1): OperatorFunction<T, T[K1]>;\nexport function pluck<T, K1 extends keyof T, K2 extends keyof T[K1]>(k1: K1, k2: K2): OperatorFunction<T, T[K1][K2]>;\nexport function pluck<T, K1 extends keyof T, K2 extends keyof T[K1], K3 extends keyof T[K1][K2]>(k1: K1, k2: K2, k3: K3): OperatorFunction<T, T[K1][K2][K3]>;\nexport function pluck<T, K1 extends keyof T, K2 extends keyof T[K1], K3 extends keyof T[K1][K2], K4 extends keyof T[K1][K2][K3]>(k1: K1, k2: K2, k3: K3, k4: K4): OperatorFunction<T, T[K1][K2][K3][K4]>;\nexport function pluck<T, K1 extends keyof T, K2 extends keyof T[K1], K3 extends keyof T[K1][K2], K4 extends keyof T[K1][K2][K3], K5 extends keyof T[K1][K2][K3][K4]>(k1: K1, k2: K2, k3: K3, k4: K4, k5: K5): OperatorFunction<T, T[K1][K2][K3][K4][K5]>;\nexport function pluck<T, K1 extends keyof T, K2 extends keyof T[K1], K3 extends keyof T[K1][K2], K4 extends keyof T[K1][K2][K3], K5 extends keyof T[K1][K2][K3][K4], K6 extends keyof T[K1][K2][K3][K4][K5]>(k1: K1, k2: K2, k3: K3, k4: K4, k5: K5, k6: K6): OperatorFunction<T, T[K1][K2][K3][K4][K5][K6]>;\nexport function pluck<T, R>(...properties: string[]): OperatorFunction<T, R>;\n/* tslint:enable:max-line-length */\n\n/**\n * Maps each source value (an object) to its specified nested property.\n *\n * <span class=\"informal\">Like {@link map}, but meant only for picking one of\n * the nested properties of every emitted object.</span>\n *\n * ![](pluck.png)\n *\n * Given a list of strings describing a path to an object property, retrieves\n * the value of a specified nested property from all values in the source\n * Observable. If a property can't be resolved, it will return `undefined` for\n * that value.\n *\n * ## Example\n * Map every click to the tagName of the clicked target element\n * ```ts\n * import { fromEvent } from 'rxjs';\n * import { pluck } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const tagNames = clicks.pipe(pluck('target', 'tagName'));\n * tagNames.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link map}\n *\n * @param {...string} properties The nested properties to pluck from each source\n * value (an object).\n * @return {Observable} A new Observable of property values from the source values.\n * @method pluck\n * @owner Observable\n */\nexport function pluck<T, R>(...properties: string[]): OperatorFunction<T, R> {\n  const length = properties.length;\n  if (length === 0) {\n    throw new Error('list of properties cannot be empty.');\n  }\n  return (source: Observable<T>) => map(plucker(properties, length))(source as any);\n}\n\nfunction plucker(props: string[], length: number): (x: string) => any {\n  const mapper = (x: string) => {\n    let currentProp = x;\n    for (let i = 0; i < length; i++) {\n      const p = currentProp[props[i]];\n      if (typeof p !== 'undefined') {\n        currentProp = p;\n      } else {\n        return undefined;\n      }\n    }\n    return currentProp;\n  };\n\n  return mapper;\n}\n","import { Observable } from '../Observable';\nimport { Subject } from '../Subject';\nimport { multicast } from './multicast';\nimport { ConnectableObservable } from '../observable/ConnectableObservable';\nimport { MonoTypeOperatorFunction, OperatorFunction, UnaryFunction, ObservableInput, ObservedValueOf } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function publish<T>(): UnaryFunction<Observable<T>, ConnectableObservable<T>>;\nexport function publish<T, O extends ObservableInput<any>>(selector: (shared: Observable<T>) => O): OperatorFunction<T, ObservedValueOf<O>>;\nexport function publish<T>(selector: MonoTypeOperatorFunction<T>): MonoTypeOperatorFunction<T>;\n/* tslint:enable:max-line-length */\n\n/**\n * Returns a ConnectableObservable, which is a variety of Observable that waits until its connect method is called\n * before it begins emitting items to those Observers that have subscribed to it.\n *\n * <span class=\"informal\">Makes a cold Observable hot</span>\n *\n * ![](publish.png)\n *\n * ## Examples\n * Make source$ hot by applying publish operator, then merge each inner observable into a single one\n * and subscribe.\n * ```ts\n * import { of, zip, interval, merge } from \"rxjs\";\n * import { map, publish, tap } from \"rxjs/operators\";\n *\n * const source$ = zip(interval(2000), of(1, 2, 3, 4, 5, 6, 7, 8, 9)).pipe(\n *   map(values => values[1])\n * );\n *\n * source$\n *   .pipe(\n *     publish(multicasted$ =>\n *       merge(\n *         multicasted$.pipe(tap(x => console.log('Stream 1:', x))),\n *         multicasted$.pipe(tap(x => console.log('Stream 2:', x))),\n *         multicasted$.pipe(tap(x => console.log('Stream 3:', x))),\n *       )\n *     )\n *   )\n *   .subscribe();\n *\n * // Results every two seconds\n * // Stream 1: 1\n * // Stream 2: 1\n * // Stream 3: 1\n * // ...\n * // Stream 1: 9\n * // Stream 2: 9\n * // Stream 3: 9\n * ```\n *\n * @param {Function} [selector] - Optional selector function which can use the multicasted source sequence as many times\n * as needed, without causing multiple subscriptions to the source sequence.\n * Subscribers to the given source will receive all notifications of the source from the time of the subscription on.\n * @return A ConnectableObservable that upon connection causes the source Observable to emit items to its Observers.\n * @method publish\n * @owner Observable\n *\n *\n */\nexport function publish<T, R>(selector?: OperatorFunction<T, R>): MonoTypeOperatorFunction<T> | OperatorFunction<T, R> {\n  return selector ?\n    multicast(() => new Subject<T>(), selector) :\n    multicast(new Subject<T>());\n}\n","import { Observable } from '../Observable';\nimport { BehaviorSubject } from '../BehaviorSubject';\nimport { multicast } from './multicast';\nimport { ConnectableObservable } from '../observable/ConnectableObservable';\nimport { UnaryFunction } from '../types';\n\n/**\n * @param value\n * @return {ConnectableObservable<T>}\n * @method publishBehavior\n * @owner Observable\n */\nexport function publishBehavior<T>(value: T):  UnaryFunction<Observable<T>, ConnectableObservable<T>> {\n  return (source: Observable<T>) => multicast(new BehaviorSubject<T>(value))(source) as ConnectableObservable<T>;\n}\n","import { Observable } from '../Observable';\nimport { AsyncSubject } from '../AsyncSubject';\nimport { multicast } from './multicast';\nimport { ConnectableObservable } from '../observable/ConnectableObservable';\nimport { UnaryFunction } from '../types';\n\n/**\n * Returns a connectable observable sequence that shares a single subscription to the\n * underlying sequence containing only the last notification.\n *\n * ![](publishLast.png)\n *\n * Similar to {@link publish}, but it waits until the source observable completes and stores\n * the last emitted value.\n * Similarly to {@link publishReplay} and {@link publishBehavior}, this keeps storing the last\n * value even if it has no more subscribers. If subsequent subscriptions happen, they will\n * immediately get that last stored value and complete.\n *\n * ## Example\n *\n * ```ts\n * import { interval } from 'rxjs';\n * import { publishLast, tap, take } from 'rxjs/operators';\n *\n * const connectable =\n *   interval(1000)\n *     .pipe(\n *       tap(x => console.log(\"side effect\", x)),\n *       take(3),\n *       publishLast());\n *\n * connectable.subscribe(\n *   x => console.log(  \"Sub. A\", x),\n *   err => console.log(\"Sub. A Error\", err),\n *   () => console.log( \"Sub. A Complete\"));\n *\n * connectable.subscribe(\n *   x => console.log(  \"Sub. B\", x),\n *   err => console.log(\"Sub. B Error\", err),\n *   () => console.log( \"Sub. B Complete\"));\n *\n * connectable.connect();\n *\n * // Results:\n * //    \"side effect 0\"\n * //    \"side effect 1\"\n * //    \"side effect 2\"\n * //    \"Sub. A 2\"\n * //    \"Sub. B 2\"\n * //    \"Sub. A Complete\"\n * //    \"Sub. B Complete\"\n * ```\n *\n * @see {@link ConnectableObservable}\n * @see {@link publish}\n * @see {@link publishReplay}\n * @see {@link publishBehavior}\n *\n * @return {ConnectableObservable} An observable sequence that contains the elements of a\n * sequence produced by multicasting the source sequence.\n * @method publishLast\n * @owner Observable\n */\n\nexport function publishLast<T>(): UnaryFunction<Observable<T>, ConnectableObservable<T>> {\n  return (source: Observable<T>) => multicast(new AsyncSubject<T>())(source);\n}\n","import { Observable } from '../Observable';\nimport { ReplaySubject } from '../ReplaySubject';\nimport { multicast } from './multicast';\nimport { ConnectableObservable } from '../observable/ConnectableObservable';\nimport { UnaryFunction, MonoTypeOperatorFunction, OperatorFunction, SchedulerLike, ObservableInput, ObservedValueOf } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function publishReplay<T>(bufferSize?: number, windowTime?: number, scheduler?: SchedulerLike): MonoTypeOperatorFunction<T>;\nexport function publishReplay<T, O extends ObservableInput<any>>(bufferSize?: number, windowTime?: number, selector?: (shared: Observable<T>) => O, scheduler?: SchedulerLike): OperatorFunction<T, ObservedValueOf<O>>;\n/* tslint:enable:max-line-length */\n\nexport function publishReplay<T, R>(bufferSize?: number,\n                                    windowTime?: number,\n                                    selectorOrScheduler?: SchedulerLike | OperatorFunction<T, R>,\n                                    scheduler?: SchedulerLike): UnaryFunction<Observable<T>, ConnectableObservable<R>> {\n\n  if (selectorOrScheduler && typeof selectorOrScheduler !== 'function') {\n    scheduler = selectorOrScheduler;\n  }\n\n  const selector = typeof selectorOrScheduler === 'function' ? selectorOrScheduler : undefined;\n  const subject = new ReplaySubject<T>(bufferSize, windowTime, scheduler);\n\n  return (source: Observable<T>) => multicast(() => subject, selector)(source) as ConnectableObservable<R>;\n}\n","import { Observable } from '../Observable';\nimport { isArray } from '../util/isArray';\nimport { MonoTypeOperatorFunction, OperatorFunction } from '../types';\nimport { race as raceStatic } from '../observable/race';\n\n/* tslint:disable:max-line-length */\n/** @deprecated Deprecated in favor of static race. */\nexport function race<T>(observables: Array<Observable<T>>): MonoTypeOperatorFunction<T>;\n/** @deprecated Deprecated in favor of static race. */\nexport function race<T, R>(observables: Array<Observable<T>>): OperatorFunction<T, R>;\n/** @deprecated Deprecated in favor of static race. */\nexport function race<T>(...observables: Array<Observable<T> | Array<Observable<T>>>): MonoTypeOperatorFunction<T>;\n/** @deprecated Deprecated in favor of static race. */\nexport function race<T, R>(...observables: Array<Observable<any> | Array<Observable<any>>>): OperatorFunction<T, R>;\n/* tslint:enable:max-line-length */\n\n/**\n * Returns an Observable that mirrors the first source Observable to emit a next,\n * error or complete notification from the combination of this Observable and supplied Observables.\n * @param {...Observables} ...observables Sources used to race for which Observable emits first.\n * @return {Observable} An Observable that mirrors the output of the first Observable to emit an item.\n * @method race\n * @owner Observable\n * @deprecated Deprecated in favor of static {@link race}.\n */\nexport function race<T>(...observables: (Observable<T> | Observable<T>[])[]): MonoTypeOperatorFunction<T> {\n  return function raceOperatorFunction(source: Observable<T>) {\n    // if the only argument is an array, it was most likely called with\n    // `pair([obs1, obs2, ...])`\n    if (observables.length === 1 && isArray(observables[0])) {\n      observables = observables[0] as Observable<T>[];\n    }\n\n    return source.lift.call(raceStatic(source, ...(observables as Observable<T>[])));\n  };\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { empty } from '../observable/empty';\nimport { MonoTypeOperatorFunction, TeardownLogic } from '../types';\n\n/**\n * Returns an Observable that will resubscribe to the source stream when the source stream completes, at most count times.\n *\n * <span class=\"informal\">Repeats all values emitted on the source. It's like {@link retry}, but for non error cases.</span>\n *\n * ![](repeat.png)\n *\n * Similar to {@link retry}, this operator repeats the stream of items emitted by the source for non error cases.\n * Repeat can be useful for creating observables that are meant to have some repeated pattern or rhythm.\n *\n * Note: `repeat(0)` returns an empty observable and `repeat()` will repeat forever\n *\n * ## Example\n * Repeat a message stream\n * ```ts\n * import { of } from 'rxjs';\n * import { repeat, delay } from 'rxjs/operators';\n *\n * const source = of('Repeat message');\n * const example = source.pipe(repeat(3));\n * example.subscribe(x => console.log(x));\n *\n * // Results\n * // Repeat message\n * // Repeat message\n * // Repeat message\n * ```\n *\n * Repeat 3 values, 2 times\n * ```ts\n * import { interval } from 'rxjs';\n * import { repeat, take } from 'rxjs/operators';\n *\n * const source = interval(1000);\n * const example = source.pipe(take(3), repeat(2));\n * example.subscribe(x => console.log(x));\n *\n * // Results every second\n * // 0\n * // 1\n * // 2\n * // 0\n * // 1\n * // 2\n * ```\n *\n * @see {@link repeatWhen}\n * @see {@link retry}\n *\n * @param {number} [count] The number of times the source Observable items are repeated, a count of 0 will yield\n * an empty Observable.\n * @return {Observable} An Observable that will resubscribe to the source stream when the source stream completes\n * , at most count times.\n * @method repeat\n * @owner Observable\n */\nexport function repeat<T>(count: number = -1): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => {\n    if (count === 0) {\n      return empty();\n    } else if (count < 0) {\n      return source.lift(new RepeatOperator(-1, source));\n    } else {\n      return source.lift(new RepeatOperator(count - 1, source));\n    }\n  };\n}\n\nclass RepeatOperator<T> implements Operator<T, T> {\n  constructor(private count: number,\n              private source: Observable<T>) {\n  }\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new RepeatSubscriber(subscriber, this.count, this.source));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass RepeatSubscriber<T> extends Subscriber<T> {\n  constructor(destination: Subscriber<any>,\n              private count: number,\n              private source: Observable<T>) {\n    super(destination);\n  }\n  complete() {\n    if (!this.isStopped) {\n      const { source, count } = this;\n      if (count === 0) {\n        return super.complete();\n      } else if (count > -1) {\n        this.count = count - 1;\n      }\n      source.subscribe(this._unsubscribeAndRecycle());\n    }\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { Subject } from '../Subject';\nimport { Subscription } from '../Subscription';\n\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\n\nimport { MonoTypeOperatorFunction, TeardownLogic } from '../types';\n\n/**\n * Returns an Observable that mirrors the source Observable with the exception of a `complete`. If the source\n * Observable calls `complete`, this method will emit to the Observable returned from `notifier`. If that Observable\n * calls `complete` or `error`, then this method will call `complete` or `error` on the child subscription. Otherwise\n * this method will resubscribe to the source Observable.\n *\n * ![](repeatWhen.png)\n *\n * ## Example\n * Repeat a message stream on click\n * ```ts\n * import { of, fromEvent } from 'rxjs';\n * import { repeatWhen } from 'rxjs/operators';\n *\n * const source = of('Repeat message');\n * const documentClick$ = fromEvent(document, 'click');\n *\n * source.pipe(repeatWhen(() => documentClick$)\n * ).subscribe(data => console.log(data))\n * ```\n * @see {@link repeat}\n * @see {@link retry}\n * @see {@link retryWhen}\n *\n * @param {function(notifications: Observable): Observable} notifier - Receives an Observable of notifications with\n * which a user can `complete` or `error`, aborting the repetition.\n * @return {Observable} The source Observable modified with repeat logic.\n * @method repeatWhen\n * @owner Observable\n */\nexport function repeatWhen<T>(notifier: (notifications: Observable<any>) => Observable<any>): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(new RepeatWhenOperator(notifier));\n}\n\nclass RepeatWhenOperator<T> implements Operator<T, T> {\n  constructor(protected notifier: (notifications: Observable<any>) => Observable<any>) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new RepeatWhenSubscriber(subscriber, this.notifier, source));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass RepeatWhenSubscriber<T, R> extends OuterSubscriber<T, R> {\n\n  private notifications: Subject<any>;\n  private retries: Observable<any>;\n  private retriesSubscription: Subscription;\n  private sourceIsBeingSubscribedTo: boolean = true;\n\n  constructor(destination: Subscriber<R>,\n              private notifier: (notifications: Observable<any>) => Observable<any>,\n              private source: Observable<T>) {\n    super(destination);\n  }\n\n  notifyNext(outerValue: T, innerValue: R,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n    this.sourceIsBeingSubscribedTo = true;\n    this.source.subscribe(this);\n  }\n\n  notifyComplete(innerSub: InnerSubscriber<T, R>): void {\n    if (this.sourceIsBeingSubscribedTo === false) {\n      return super.complete();\n    }\n  }\n\n  complete() {\n    this.sourceIsBeingSubscribedTo = false;\n\n    if (!this.isStopped) {\n      if (!this.retries) {\n        this.subscribeToRetries();\n      }\n      if (!this.retriesSubscription || this.retriesSubscription.closed) {\n        return super.complete();\n      }\n\n      this._unsubscribeAndRecycle();\n      this.notifications.next();\n    }\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _unsubscribe() {\n    const { notifications, retriesSubscription } = this;\n    if (notifications) {\n      notifications.unsubscribe();\n      this.notifications = null;\n    }\n    if (retriesSubscription) {\n      retriesSubscription.unsubscribe();\n      this.retriesSubscription = null;\n    }\n    this.retries = null;\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _unsubscribeAndRecycle(): Subscriber<T> {\n    const { _unsubscribe } = this;\n\n    this._unsubscribe = null;\n    super._unsubscribeAndRecycle();\n    this._unsubscribe = _unsubscribe;\n\n    return this;\n  }\n\n  private subscribeToRetries() {\n    this.notifications = new Subject();\n    let retries;\n    try {\n      const { notifier } = this;\n      retries = notifier(this.notifications);\n    } catch (e) {\n      return super.complete();\n    }\n    this.retries = retries;\n    this.retriesSubscription = subscribeToResult(this, retries);\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\n\nimport { MonoTypeOperatorFunction, TeardownLogic } from '../types';\n\n/**\n * Returns an Observable that mirrors the source Observable with the exception of an `error`. If the source Observable\n * calls `error`, this method will resubscribe to the source Observable for a maximum of `count` resubscriptions (given\n * as a number parameter) rather than propagating the `error` call.\n *\n * ![](retry.png)\n *\n * Any and all items emitted by the source Observable will be emitted by the resulting Observable, even those emitted\n * during failed subscriptions. For example, if an Observable fails at first but emits [1, 2] then succeeds the second\n * time and emits: [1, 2, 3, 4, 5] then the complete stream of emissions and notifications\n * would be: [1, 2, 1, 2, 3, 4, 5, `complete`].\n *\n * ## Example\n * ```ts\n * import { interval, of, throwError } from 'rxjs';\n * import { mergeMap, retry } from 'rxjs/operators';\n *\n * const source = interval(1000);\n * const example = source.pipe(\n *   mergeMap(val => {\n *     if(val > 5){\n *       return throwError('Error!');\n *     }\n *     return of(val);\n *   }),\n *   //retry 2 times on error\n *   retry(2)\n * );\n *\n * const subscribe = example.subscribe({\n *   next: val => console.log(val),\n *   error: val => console.log(`${val}: Retried 2 times then quit!`)\n * });\n *\n * // Output:\n * // 0..1..2..3..4..5..\n * // 0..1..2..3..4..5..\n * // 0..1..2..3..4..5..\n * // \"Error!: Retried 2 times then quit!\"\n * ```\n *\n * @param {number} count - Number of retry attempts before failing.\n * @return {Observable} The source Observable modified with the retry logic.\n * @method retry\n * @owner Observable\n */\nexport function retry<T>(count: number = -1): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(new RetryOperator(count, source));\n}\n\nclass RetryOperator<T> implements Operator<T, T> {\n  constructor(private count: number,\n              private source: Observable<T>) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new RetrySubscriber(subscriber, this.count, this.source));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass RetrySubscriber<T> extends Subscriber<T> {\n  constructor(destination: Subscriber<any>,\n              private count: number,\n              private source: Observable<T>) {\n    super(destination);\n  }\n  error(err: any) {\n    if (!this.isStopped) {\n      const { source, count } = this;\n      if (count === 0) {\n        return super.error(err);\n      } else if (count > -1) {\n        this.count = count - 1;\n      }\n      source.subscribe(this._unsubscribeAndRecycle());\n    }\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { Subject } from '../Subject';\nimport { Subscription } from '../Subscription';\n\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\n\nimport { MonoTypeOperatorFunction, TeardownLogic } from '../types';\n\n/**\n * Returns an Observable that mirrors the source Observable with the exception of an `error`. If the source Observable\n * calls `error`, this method will emit the Throwable that caused the error to the Observable returned from `notifier`.\n * If that Observable calls `complete` or `error` then this method will call `complete` or `error` on the child\n * subscription. Otherwise this method will resubscribe to the source Observable.\n *\n * ![](retryWhen.png)\n *\n * @param {function(errors: Observable): Observable} notifier - Receives an Observable of notifications with which a\n * user can `complete` or `error`, aborting the retry.\n * @return {Observable} The source Observable modified with retry logic.\n * @method retryWhen\n * @owner Observable\n */\nexport function retryWhen<T>(notifier: (errors: Observable<any>) => Observable<any>): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(new RetryWhenOperator(notifier, source));\n}\n\nclass RetryWhenOperator<T> implements Operator<T, T> {\n  constructor(protected notifier: (errors: Observable<any>) => Observable<any>,\n              protected source: Observable<T>) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new RetryWhenSubscriber(subscriber, this.notifier, this.source));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass RetryWhenSubscriber<T, R> extends OuterSubscriber<T, R> {\n\n  private errors: Subject<any>;\n  private retries: Observable<any>;\n  private retriesSubscription: Subscription;\n\n  constructor(destination: Subscriber<R>,\n              private notifier: (errors: Observable<any>) => Observable<any>,\n              private source: Observable<T>) {\n    super(destination);\n  }\n\n  error(err: any) {\n    if (!this.isStopped) {\n\n      let errors = this.errors;\n      let retries: any = this.retries;\n      let retriesSubscription = this.retriesSubscription;\n\n      if (!retries) {\n        errors = new Subject();\n        try {\n          const { notifier } = this;\n          retries = notifier(errors);\n        } catch (e) {\n          return super.error(e);\n        }\n        retriesSubscription = subscribeToResult(this, retries);\n      } else {\n        this.errors = null;\n        this.retriesSubscription = null;\n      }\n\n      this._unsubscribeAndRecycle();\n\n      this.errors = errors;\n      this.retries = retries;\n      this.retriesSubscription = retriesSubscription;\n\n      errors.next(err);\n    }\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _unsubscribe() {\n    const { errors, retriesSubscription } = this;\n    if (errors) {\n      errors.unsubscribe();\n      this.errors = null;\n    }\n    if (retriesSubscription) {\n      retriesSubscription.unsubscribe();\n      this.retriesSubscription = null;\n    }\n    this.retries = null;\n  }\n\n  notifyNext(outerValue: T, innerValue: R,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n    const { _unsubscribe } = this;\n\n    this._unsubscribe = null;\n    this._unsubscribeAndRecycle();\n    this._unsubscribe = _unsubscribe;\n\n    this.source.subscribe(this);\n  }\n}\n","import { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\n\nimport { MonoTypeOperatorFunction, TeardownLogic } from '../types';\n\n/**\n * Emits the most recently emitted value from the source Observable whenever\n * another Observable, the `notifier`, emits.\n *\n * <span class=\"informal\">It's like {@link sampleTime}, but samples whenever\n * the `notifier` Observable emits something.</span>\n *\n * ![](sample.png)\n *\n * Whenever the `notifier` Observable emits a value or completes, `sample`\n * looks at the source Observable and emits whichever value it has most recently\n * emitted since the previous sampling, unless the source has not emitted\n * anything since the previous sampling. The `notifier` is subscribed to as soon\n * as the output Observable is subscribed.\n *\n * ## Example\n * On every click, sample the most recent \"seconds\" timer\n * ```ts\n * import { fromEvent, interval } from 'rxjs';\n * import { sample } from 'rxjs/operators';\n *\n * const seconds = interval(1000);\n * const clicks = fromEvent(document, 'click');\n * const result = seconds.pipe(sample(clicks));\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link audit}\n * @see {@link debounce}\n * @see {@link sampleTime}\n * @see {@link throttle}\n *\n * @param {Observable<any>} notifier The Observable to use for sampling the\n * source Observable.\n * @return {Observable<T>} An Observable that emits the results of sampling the\n * values emitted by the source Observable whenever the notifier Observable\n * emits value or completes.\n * @method sample\n * @owner Observable\n */\nexport function sample<T>(notifier: Observable<any>): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(new SampleOperator(notifier));\n}\n\nclass SampleOperator<T> implements Operator<T, T> {\n  constructor(private notifier: Observable<any>) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    const sampleSubscriber = new SampleSubscriber(subscriber);\n    const subscription = source.subscribe(sampleSubscriber);\n    subscription.add(subscribeToResult(sampleSubscriber, this.notifier));\n    return subscription;\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass SampleSubscriber<T, R> extends OuterSubscriber<T, R> {\n  private value: T;\n  private hasValue: boolean = false;\n\n  protected _next(value: T) {\n    this.value = value;\n    this.hasValue = true;\n  }\n\n  notifyNext(outerValue: T, innerValue: R,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n    this.emitValue();\n  }\n\n  notifyComplete(): void {\n    this.emitValue();\n  }\n\n  emitValue() {\n    if (this.hasValue) {\n      this.hasValue = false;\n      this.destination.next(this.value);\n    }\n  }\n}\n","import { Observable } from '../Observable';\nimport { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { async } from '../scheduler/async';\nimport { MonoTypeOperatorFunction, SchedulerAction, SchedulerLike, TeardownLogic } from '../types';\n\n/**\n * Emits the most recently emitted value from the source Observable within\n * periodic time intervals.\n *\n * <span class=\"informal\">Samples the source Observable at periodic time\n * intervals, emitting what it samples.</span>\n *\n * ![](sampleTime.png)\n *\n * `sampleTime` periodically looks at the source Observable and emits whichever\n * value it has most recently emitted since the previous sampling, unless the\n * source has not emitted anything since the previous sampling. The sampling\n * happens periodically in time every `period` milliseconds (or the time unit\n * defined by the optional `scheduler` argument). The sampling starts as soon as\n * the output Observable is subscribed.\n *\n * ## Example\n * Every second, emit the most recent click at most once\n * ```ts\n * import { fromEvent } from 'rxjs';\n * import { sampleTime } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(sampleTime(1000));\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link auditTime}\n * @see {@link debounceTime}\n * @see {@link delay}\n * @see {@link sample}\n * @see {@link throttleTime}\n *\n * @param {number} period The sampling period expressed in milliseconds or the\n * time unit determined internally by the optional `scheduler`.\n * @param {SchedulerLike} [scheduler=async] The {@link SchedulerLike} to use for\n * managing the timers that handle the sampling.\n * @return {Observable<T>} An Observable that emits the results of sampling the\n * values emitted by the source Observable at the specified time interval.\n * @method sampleTime\n * @owner Observable\n */\nexport function sampleTime<T>(period: number, scheduler: SchedulerLike = async): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(new SampleTimeOperator(period, scheduler));\n}\n\nclass SampleTimeOperator<T> implements Operator<T, T> {\n  constructor(private period: number,\n              private scheduler: SchedulerLike) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new SampleTimeSubscriber(subscriber, this.period, this.scheduler));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass SampleTimeSubscriber<T> extends Subscriber<T> {\n  lastValue: T;\n  hasValue: boolean = false;\n\n  constructor(destination: Subscriber<T>,\n              private period: number,\n              private scheduler: SchedulerLike) {\n    super(destination);\n    this.add(scheduler.schedule(dispatchNotification, period, { subscriber: this, period }));\n  }\n\n  protected _next(value: T) {\n    this.lastValue = value;\n    this.hasValue = true;\n  }\n\n  notifyNext() {\n    if (this.hasValue) {\n      this.hasValue = false;\n      this.destination.next(this.lastValue);\n    }\n  }\n}\n\nfunction dispatchNotification<T>(this: SchedulerAction<any>, state: any) {\n  let { subscriber, period } = state;\n  subscriber.notifyNext();\n  this.schedule(state, period);\n}\n","import { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\n\nimport { Observer, OperatorFunction } from '../types';\n\n/**\n * Compares all values of two observables in sequence using an optional comparator function\n * and returns an observable of a single boolean value representing whether or not the two sequences\n * are equal.\n *\n * <span class=\"informal\">Checks to see of all values emitted by both observables are equal, in order.</span>\n *\n * ![](sequenceEqual.png)\n *\n * `sequenceEqual` subscribes to two observables and buffers incoming values from each observable. Whenever either\n * observable emits a value, the value is buffered and the buffers are shifted and compared from the bottom\n * up; If any value pair doesn't match, the returned observable will emit `false` and complete. If one of the\n * observables completes, the operator will wait for the other observable to complete; If the other\n * observable emits before completing, the returned observable will emit `false` and complete. If one observable never\n * completes or emits after the other complets, the returned observable will never complete.\n *\n * ## Example\n * figure out if the Konami code matches\n * ```ts\n * import { from, fromEvent } from 'rxjs';\n * import { sequenceEqual, bufferCount, mergeMap, map } from 'rxjs/operators';\n *\n * const codes = from([\n *   'ArrowUp',\n *   'ArrowUp',\n *   'ArrowDown',\n *   'ArrowDown',\n *   'ArrowLeft',\n *   'ArrowRight',\n *   'ArrowLeft',\n *   'ArrowRight',\n *   'KeyB',\n *   'KeyA',\n *   'Enter', // no start key, clearly.\n * ]);\n *\n * const keys = fromEvent(document, 'keyup').pipe(map(e => e.code));\n * const matches = keys.pipe(\n *   bufferCount(11, 1),\n *   mergeMap(\n *     last11 => from(last11).pipe(sequenceEqual(codes)),\n *   ),\n * );\n * matches.subscribe(matched => console.log('Successful cheat at Contra? ', matched));\n * ```\n *\n * @see {@link combineLatest}\n * @see {@link zip}\n * @see {@link withLatestFrom}\n *\n * @param {Observable} compareTo The observable sequence to compare the source sequence to.\n * @param {function} [comparator] An optional function to compare each value pair\n * @return {Observable} An Observable of a single boolean value representing whether or not\n * the values emitted by both observables were equal in sequence.\n * @method sequenceEqual\n * @owner Observable\n */\nexport function sequenceEqual<T>(compareTo: Observable<T>,\n                                 comparator?: (a: T, b: T) => boolean): OperatorFunction<T, boolean> {\n  return (source: Observable<T>) => source.lift(new SequenceEqualOperator(compareTo, comparator));\n}\n\nexport class SequenceEqualOperator<T> implements Operator<T, boolean> {\n  constructor(private compareTo: Observable<T>,\n              private comparator: (a: T, b: T) => boolean) {\n  }\n\n  call(subscriber: Subscriber<boolean>, source: any): any {\n    return source.subscribe(new SequenceEqualSubscriber(subscriber, this.compareTo, this.comparator));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class SequenceEqualSubscriber<T, R> extends Subscriber<T> {\n  private _a: T[] = [];\n  private _b: T[] = [];\n  private _oneComplete = false;\n\n  constructor(destination: Observer<R>,\n              private compareTo: Observable<T>,\n              private comparator: (a: T, b: T) => boolean) {\n    super(destination);\n    (this.destination as Subscription).add(compareTo.subscribe(new SequenceEqualCompareToSubscriber(destination, this)));\n  }\n\n  protected _next(value: T): void {\n    if (this._oneComplete && this._b.length === 0) {\n      this.emit(false);\n    } else {\n      this._a.push(value);\n      this.checkValues();\n    }\n  }\n\n  public _complete(): void {\n    if (this._oneComplete) {\n      this.emit(this._a.length === 0 && this._b.length === 0);\n    } else {\n      this._oneComplete = true;\n    }\n    this.unsubscribe();\n  }\n\n  checkValues() {\n    const { _a, _b, comparator } = this;\n    while (_a.length > 0 && _b.length > 0) {\n      let a = _a.shift();\n      let b = _b.shift();\n      let areEqual = false;\n      try {\n        areEqual = comparator ? comparator(a, b) : a === b;\n      } catch (e) {\n        this.destination.error(e);\n      }\n      if (!areEqual) {\n        this.emit(false);\n      }\n    }\n  }\n\n  emit(value: boolean) {\n    const { destination } = this;\n    destination.next(value);\n    destination.complete();\n  }\n\n  nextB(value: T) {\n    if (this._oneComplete && this._a.length === 0) {\n      this.emit(false);\n    } else {\n      this._b.push(value);\n      this.checkValues();\n    }\n  }\n\n  completeB() {\n    if (this._oneComplete) {\n      this.emit(this._a.length === 0 && this._b.length === 0);\n    } else {\n      this._oneComplete = true;\n    }\n  }\n}\n\nclass SequenceEqualCompareToSubscriber<T, R> extends Subscriber<T> {\n  constructor(destination: Observer<R>, private parent: SequenceEqualSubscriber<T, R>) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    this.parent.nextB(value);\n  }\n\n  protected _error(err: any): void {\n    this.parent.error(err);\n    this.unsubscribe();\n  }\n\n  protected _complete(): void {\n    this.parent.completeB();\n    this.unsubscribe();\n  }\n}\n","import { Observable } from '../Observable';\nimport { multicast } from './multicast';\nimport { refCount } from './refCount';\nimport { Subject } from '../Subject';\n\nimport { MonoTypeOperatorFunction } from '../types';\n\nfunction shareSubjectFactory() {\n  return new Subject();\n}\n\n/**\n * Returns a new Observable that multicasts (shares) the original Observable. As long as there is at least one\n * Subscriber this Observable will be subscribed and emitting data. When all subscribers have unsubscribed it will\n * unsubscribe from the source Observable. Because the Observable is multicasting it makes the stream `hot`.\n * This is an alias for `multicast(() => new Subject()), refCount()`.\n *\n * ![](share.png)\n *\n * @return {Observable<T>} An Observable that upon connection causes the source Observable to emit items to its Observers.\n * @method share\n * @owner Observable\n */\nexport function share<T>(): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => refCount()(multicast(shareSubjectFactory)(source)) as Observable<T>;\n}\n","import { Observable } from '../Observable';\nimport { ReplaySubject } from '../ReplaySubject';\nimport { Subscription } from '../Subscription';\nimport { MonoTypeOperatorFunction, SchedulerLike } from '../types';\nimport { Subscriber } from '../Subscriber';\n\nexport interface ShareReplayConfig {\n  bufferSize?: number;\n  windowTime?: number;\n  refCount: boolean;\n  scheduler?: SchedulerLike;\n}\n\n/**\n * Share source and replay specified number of emissions on subscription.\n *\n * This operator is a specialization of `replay` that connects to a source observable\n * and multicasts through a `ReplaySubject` constructed with the specified arguments.\n * A successfully completed source will stay cached in the `shareReplayed observable` forever,\n * but an errored source can be retried.\n *\n * ## Why use shareReplay?\n * You generally want to use `shareReplay` when you have side-effects or taxing computations\n * that you do not wish to be executed amongst multiple subscribers.\n * It may also be valuable in situations where you know you will have late subscribers to\n * a stream that need access to previously emitted values.\n * This ability to replay values on subscription is what differentiates {@link share} and `shareReplay`.\n *\n * ![](shareReplay.png)\n *\n * ## Example\n * ```ts\n * import { interval } from 'rxjs';\n * import { shareReplay, take } from 'rxjs/operators';\n *\n * const obs$ = interval(1000);\n * const shared$ = obs$.pipe(\n *   take(4),\n *   shareReplay(3)\n * );\n * shared$.subscribe(x => console.log('source A: ', x));\n * shared$.subscribe(y => console.log('source B: ', y));\n *\n * ```\n *\n * @see {@link publish}\n * @see {@link share}\n * @see {@link publishReplay}\n *\n * @param {Number} [bufferSize=Number.POSITIVE_INFINITY] Maximum element count of the replay buffer.\n * @param {Number} [windowTime=Number.POSITIVE_INFINITY] Maximum time length of the replay buffer in milliseconds.\n * @param {Scheduler} [scheduler] Scheduler where connected observers within the selector function\n * will be invoked on.\n * @return {Observable} An observable sequence that contains the elements of a sequence produced\n * by multicasting the source sequence within a selector function.\n * @method shareReplay\n * @owner Observable\n */\nexport function shareReplay<T>(config: ShareReplayConfig): MonoTypeOperatorFunction<T>;\nexport function shareReplay<T>(bufferSize?: number, windowTime?: number, scheduler?: SchedulerLike): MonoTypeOperatorFunction<T>;\nexport function shareReplay<T>(\n  configOrBufferSize?: ShareReplayConfig | number,\n  windowTime?: number,\n  scheduler?: SchedulerLike\n): MonoTypeOperatorFunction<T> {\n  let config: ShareReplayConfig;\n  if (configOrBufferSize && typeof configOrBufferSize === 'object') {\n    config = configOrBufferSize as ShareReplayConfig;\n  } else {\n    config = {\n      bufferSize: configOrBufferSize as number | undefined,\n      windowTime,\n      refCount: false,\n      scheduler\n    };\n  }\n  return (source: Observable<T>) => source.lift(shareReplayOperator(config));\n}\n\nfunction shareReplayOperator<T>({\n  bufferSize = Number.POSITIVE_INFINITY,\n  windowTime = Number.POSITIVE_INFINITY,\n  refCount: useRefCount,\n  scheduler\n}: ShareReplayConfig) {\n  let subject: ReplaySubject<T> | undefined;\n  let refCount = 0;\n  let subscription: Subscription | undefined;\n  let hasError = false;\n  let isComplete = false;\n\n  return function shareReplayOperation(this: Subscriber<T>, source: Observable<T>) {\n    refCount++;\n    if (!subject || hasError) {\n      hasError = false;\n      subject = new ReplaySubject<T>(bufferSize, windowTime, scheduler);\n      subscription = source.subscribe({\n        next(value) { subject.next(value); },\n        error(err) {\n          hasError = true;\n          subject.error(err);\n        },\n        complete() {\n          isComplete = true;\n          subject.complete();\n        },\n      });\n    }\n\n    const innerSub = subject.subscribe(this);\n    this.add(() => {\n      refCount--;\n      innerSub.unsubscribe();\n      if (subscription && !isComplete && useRefCount && refCount === 0) {\n        subscription.unsubscribe();\n        subscription = undefined;\n        subject = undefined;\n      }\n    });\n  };\n}\n","import { Observable } from '../Observable';\nimport { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { EmptyError } from '../util/EmptyError';\n\nimport { Observer, MonoTypeOperatorFunction, TeardownLogic } from '../types';\n\n/**\n * Returns an Observable that emits the single item emitted by the source Observable that matches a specified\n * predicate, if that Observable emits one such item. If the source Observable emits more than one such item or no\n * items, notify of an IllegalArgumentException or NoSuchElementException respectively. If the source Observable\n * emits items but none match the specified predicate then `undefined` is emitted.\n *\n * <span class=\"informal\">Like {@link first}, but emit with error notification if there is more than one value.</span>\n * ![](single.png)\n *\n * ## Example\n * emits 'error'\n * ```ts\n * import { range } from 'rxjs';\n * import { single } from 'rxjs/operators';\n *\n * const numbers = range(1,5).pipe(single());\n * numbers.subscribe(x => console.log('never get called'), e => console.log('error'));\n * // result\n * // 'error'\n * ```\n *\n * emits 'undefined'\n * ```ts\n * import { range } from 'rxjs';\n * import { single } from 'rxjs/operators';\n *\n * const numbers = range(1,5).pipe(single(x => x === 10));\n * numbers.subscribe(x => console.log(x));\n * // result\n * // 'undefined'\n * ```\n *\n * @see {@link first}\n * @see {@link find}\n * @see {@link findIndex}\n * @see {@link elementAt}\n *\n * @throws {EmptyError} Delivers an EmptyError to the Observer's `error`\n * callback if the Observable completes before any `next` notification was sent.\n * @param {Function} predicate - A predicate function to evaluate items emitted by the source Observable.\n * @return {Observable<T>} An Observable that emits the single item emitted by the source Observable that matches\n * the predicate or `undefined` when no items match.\n *\n * @method single\n * @owner Observable\n */\nexport function single<T>(predicate?: (value: T, index: number, source: Observable<T>) => boolean): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(new SingleOperator(predicate, source));\n}\n\nclass SingleOperator<T> implements Operator<T, T> {\n  constructor(private predicate?: (value: T, index: number, source: Observable<T>) => boolean,\n              private source?: Observable<T>) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new SingleSubscriber(subscriber, this.predicate, this.source));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass SingleSubscriber<T> extends Subscriber<T> {\n  private seenValue: boolean = false;\n  private singleValue: T;\n  private index: number = 0;\n\n  constructor(destination: Observer<T>,\n              private predicate?: (value: T, index: number, source: Observable<T>) => boolean,\n              private source?: Observable<T>) {\n    super(destination);\n  }\n\n  private applySingleValue(value: T): void {\n    if (this.seenValue) {\n      this.destination.error('Sequence contains more than one element');\n    } else {\n      this.seenValue = true;\n      this.singleValue = value;\n    }\n  }\n\n  protected _next(value: T): void {\n    const index = this.index++;\n\n    if (this.predicate) {\n      this.tryNext(value, index);\n    } else {\n      this.applySingleValue(value);\n    }\n  }\n\n  private tryNext(value: T, index: number): void {\n    try {\n      if (this.predicate(value, index, this.source)) {\n        this.applySingleValue(value);\n      }\n    } catch (err) {\n      this.destination.error(err);\n    }\n  }\n\n  protected _complete(): void {\n    const destination = this.destination;\n\n    if (this.index > 0) {\n      destination.next(this.seenValue ? this.singleValue : undefined);\n      destination.complete();\n    } else {\n      destination.error(new EmptyError);\n    }\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { MonoTypeOperatorFunction, TeardownLogic } from '../types';\n\n/**\n * Returns an Observable that skips the first `count` items emitted by the source Observable.\n *\n * ![](skip.png)\n *\n * @param {Number} count - The number of times, items emitted by source Observable should be skipped.\n * @return {Observable} An Observable that skips values emitted by the source Observable.\n *\n * @method skip\n * @owner Observable\n */\nexport function skip<T>(count: number): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(new SkipOperator(count));\n}\n\nclass SkipOperator<T> implements Operator<T, T> {\n  constructor(private total: number) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new SkipSubscriber(subscriber, this.total));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass SkipSubscriber<T> extends Subscriber<T> {\n  count: number = 0;\n\n  constructor(destination: Subscriber<T>, private total: number) {\n    super(destination);\n  }\n\n  protected _next(x: T) {\n    if (++this.count > this.total) {\n      this.destination.next(x);\n    }\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { ArgumentOutOfRangeError } from '../util/ArgumentOutOfRangeError';\nimport { Observable } from '../Observable';\nimport { MonoTypeOperatorFunction, TeardownLogic } from '../types';\n\n/**\n * Skip the last `count` values emitted by the source Observable.\n *\n * ![](skipLast.png)\n *\n * `skipLast` returns an Observable that accumulates a queue with a length\n * enough to store the first `count` values. As more values are received,\n * values are taken from the front of the queue and produced on the result\n * sequence. This causes values to be delayed.\n *\n * ## Example\n * Skip the last 2 values of an Observable with many values\n * ```ts\n * import { range } from 'rxjs';\n * import { skipLast } from 'rxjs/operators';\n *\n * const many = range(1, 5);\n * const skipLastTwo = many.pipe(skipLast(2));\n * skipLastTwo.subscribe(x => console.log(x));\n *\n * // Results in:\n * // 1 2 3\n * ```\n *\n * @see {@link skip}\n * @see {@link skipUntil}\n * @see {@link skipWhile}\n * @see {@link take}\n *\n * @throws {ArgumentOutOfRangeError} When using `skipLast(i)`, it throws\n * ArgumentOutOrRangeError if `i < 0`.\n *\n * @param {number} count Number of elements to skip from the end of the source Observable.\n * @returns {Observable<T>} An Observable that skips the last count values\n * emitted by the source Observable.\n * @method skipLast\n * @owner Observable\n */\nexport function skipLast<T>(count: number): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(new SkipLastOperator(count));\n}\n\nclass SkipLastOperator<T> implements Operator<T, T> {\n  constructor(private _skipCount: number) {\n    if (this._skipCount < 0) {\n      throw new ArgumentOutOfRangeError;\n    }\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    if (this._skipCount === 0) {\n      // If we don't want to skip any values then just subscribe\n      // to Subscriber without any further logic.\n      return source.subscribe(new Subscriber(subscriber));\n    } else {\n      return source.subscribe(new SkipLastSubscriber(subscriber, this._skipCount));\n    }\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass SkipLastSubscriber<T> extends Subscriber<T> {\n  private _ring: T[];\n  private _count: number = 0;\n\n  constructor(destination: Subscriber<T>, private _skipCount: number) {\n    super(destination);\n    this._ring = new Array<T>(_skipCount);\n  }\n\n  protected _next(value: T): void {\n    const skipCount = this._skipCount;\n    const count = this._count++;\n\n    if (count < skipCount) {\n      this._ring[count] = value;\n    } else {\n      const currentIndex = count % skipCount;\n      const ring = this._ring;\n      const oldValue = ring[currentIndex];\n\n      ring[currentIndex] = value;\n      this.destination.next(oldValue);\n    }\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { MonoTypeOperatorFunction, TeardownLogic, ObservableInput } from '../types';\nimport { Subscription } from '../Subscription';\n\n/**\n * Returns an Observable that skips items emitted by the source Observable until a second Observable emits an item.\n *\n * The `skipUntil` operator causes the observable stream to skip the emission of values ​​until the passed in observable emits the first value.\n * This can be particularly useful in combination with user interactions, responses of http requests or waiting for specific times to pass by.\n *\n * ![](skipUntil.png)\n *\n * Internally the `skipUntil` operator subscribes to the passed in observable (in the following called *notifier*) in order to recognize the emission\n * of its first value. When this happens, the operator unsubscribes from the *notifier* and starts emitting the values of the *source*\n * observable. It will never let the *source* observable emit any values if the *notifier* completes or throws an error without emitting\n * a value before.\n *\n * ## Example\n *\n * In the following example, all emitted values ​​of the interval observable are skipped until the user clicks anywhere within the page.\n *\n * ```ts\n * import { interval, fromEvent } from 'rxjs';\n * import { skipUntil } from 'rxjs/operators';\n *\n * const intervalObservable = interval(1000);\n * const click = fromEvent(document, 'click');\n *\n * const emitAfterClick = intervalObservable.pipe(\n *   skipUntil(click)\n * );\n * // clicked at 4.6s. output: 5...6...7...8........ or\n * // clicked at 7.3s. output: 8...9...10..11.......\n * const subscribe = emitAfterClick.subscribe(value => console.log(value));\n * ```\n *\n * @param {Observable} notifier - The second Observable that has to emit an item before the source Observable's elements begin to\n * be mirrored by the resulting Observable.\n * @return {Observable<T>} An Observable that skips items from the source Observable until the second Observable emits\n * an item, then emits the remaining items.\n * @method skipUntil\n * @owner Observable\n */\nexport function skipUntil<T>(notifier: Observable<any>): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(new SkipUntilOperator(notifier));\n}\n\nclass SkipUntilOperator<T> implements Operator<T, T> {\n  constructor(private notifier: Observable<any>) {\n  }\n\n  call(destination: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new SkipUntilSubscriber(destination, this.notifier));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass SkipUntilSubscriber<T, R> extends OuterSubscriber<T, R> {\n\n  private hasValue: boolean = false;\n  private innerSubscription: Subscription;\n\n  constructor(destination: Subscriber<R>, notifier: ObservableInput<any>) {\n    super(destination);\n    const innerSubscriber = new InnerSubscriber(this, undefined, undefined);\n    this.add(innerSubscriber);\n    this.innerSubscription = innerSubscriber;\n    subscribeToResult(this, notifier, undefined, undefined, innerSubscriber);\n  }\n\n  protected _next(value: T) {\n    if (this.hasValue) {\n      super._next(value);\n    }\n  }\n\n  notifyNext(outerValue: T, innerValue: R,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n    this.hasValue = true;\n    if (this.innerSubscription) {\n      this.innerSubscription.unsubscribe();\n    }\n  }\n\n  notifyComplete() {\n    /* do nothing */\n  }\n}\n","import { Observable } from '../Observable';\nimport { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { MonoTypeOperatorFunction, TeardownLogic } from '../types';\n\n/**\n * Returns an Observable that skips all items emitted by the source Observable as long as a specified condition holds\n * true, but emits all further source items as soon as the condition becomes false.\n *\n * ![](skipWhile.png)\n *\n * @param {Function} predicate - A function to test each item emitted from the source Observable.\n * @return {Observable<T>} An Observable that begins emitting items emitted by the source Observable when the\n * specified predicate becomes false.\n * @method skipWhile\n * @owner Observable\n */\nexport function skipWhile<T>(predicate: (value: T, index: number) => boolean): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(new SkipWhileOperator(predicate));\n}\n\nclass SkipWhileOperator<T> implements Operator<T, T> {\n  constructor(private predicate: (value: T, index: number) => boolean) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new SkipWhileSubscriber(subscriber, this.predicate));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass SkipWhileSubscriber<T> extends Subscriber<T> {\n  private skipping: boolean = true;\n  private index: number = 0;\n\n  constructor(destination: Subscriber<T>,\n              private predicate: (value: T, index: number) => boolean) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    const destination = this.destination;\n    if (this.skipping) {\n      this.tryCallPredicate(value);\n    }\n\n    if (!this.skipping) {\n      destination.next(value);\n    }\n  }\n\n  private tryCallPredicate(value: T): void {\n    try {\n      const result = this.predicate(value, this.index++);\n      this.skipping = Boolean(result);\n    } catch (err) {\n      this.destination.error(err);\n    }\n  }\n}\n","import { Observable } from '../Observable';\nimport { concat } from '../observable/concat';\nimport { isScheduler } from '../util/isScheduler';\nimport { MonoTypeOperatorFunction, OperatorFunction, SchedulerLike } from '../types';\n\n/* tslint:disable:max-line-length */\n/** @deprecated use {@link scheduled} and {@link concatAll} (e.g. `scheduled([[a, b, c], source], scheduler).pipe(concatAll())`) */\nexport function startWith<T>(scheduler: SchedulerLike): MonoTypeOperatorFunction<T>;\n/** @deprecated use {@link scheduled} and {@link concatAll} (e.g. `scheduled([[a, b, c], source], scheduler).pipe(concatAll())`) */\nexport function startWith<T, D>(v1: D, scheduler: SchedulerLike): OperatorFunction<T, T | D>;\n/** @deprecated use {@link scheduled} and {@link concatAll} (e.g. `scheduled([[a, b, c], source], scheduler).pipe(concatAll())`) */\nexport function startWith<T, D, E>(v1: D, v2: E, scheduler: SchedulerLike): OperatorFunction<T, T | D | E>;\n/** @deprecated use {@link scheduled} and {@link concatAll} (e.g. `scheduled([[a, b, c], source], scheduler).pipe(concatAll())`) */\nexport function startWith<T, D, E, F>(v1: D, v2: E, v3: F, scheduler: SchedulerLike): OperatorFunction<T, T | D | E | F>;\n/** @deprecated use {@link scheduled} and {@link concatAll} (e.g. `scheduled([[a, b, c], source], scheduler).pipe(concatAll())`) */\nexport function startWith<T, D, E, F, G>(v1: D, v2:  E, v3: F, v4: G, scheduler: SchedulerLike): OperatorFunction<T, T | D | E | F | G>;\n/** @deprecated use {@link scheduled} and {@link concatAll} (e.g. `scheduled([[a, b, c], source], scheduler).pipe(concatAll())`) */\nexport function startWith<T, D, E, F, G, H>(v1: D, v2: E, v3: F, v4: G, v5: H, scheduler: SchedulerLike): OperatorFunction<T, T | D | E | F | G | H>;\n/** @deprecated use {@link scheduled} and {@link concatAll} (e.g. `scheduled([[a, b, c], source], scheduler).pipe(concatAll())`) */\nexport function startWith<T, D, E, F, G, H, I>(v1: D, v2: E, v3: F, v4: G, v5: H, v6: I, scheduler: SchedulerLike): OperatorFunction<T, T | D | E | F | G | H | I>;\n\nexport function startWith<T, D>(v1: D): OperatorFunction<T, T | D>;\nexport function startWith<T, D, E>(v1: D, v2: E): OperatorFunction<T, T | D | E>;\nexport function startWith<T, D, E, F>(v1: D, v2: E, v3: F): OperatorFunction<T, T | D | E | F>;\nexport function startWith<T, D, E, F, G>(v1: D, v2:  E, v3: F, v4: G): OperatorFunction<T, T | D | E | F | G>;\nexport function startWith<T, D, E, F, G, H>(v1: D, v2: E, v3: F, v4: G, v5: H): OperatorFunction<T, T | D | E | F | G | H>;\nexport function startWith<T, D, E, F, G, H, I>(v1: D, v2: E, v3: F, v4: G, v5: H, v6: I): OperatorFunction<T, T | D | E | F | G | H | I>;\nexport function startWith<T, D = T>(...array: D[]): OperatorFunction<T, T | D>;\n/** @deprecated use {@link scheduled} and {@link concatAll} (e.g. `scheduled([[a, b, c], source], scheduler).pipe(concatAll())`) */\nexport function startWith<T, D = T>(...array: Array<D | SchedulerLike>): OperatorFunction<T, T | D>;\n/* tslint:enable:max-line-length */\n\n/**\n * Returns an Observable that emits the items you specify as arguments before it begins to emit\n * items emitted by the source Observable.\n *\n * <span class=\"informal\">First emits its arguments in order, and then any\n * emissions from the source.</span>\n *\n * ![](startWith.png)\n *\n * ## Examples\n *\n * Start the chain of emissions with `\"first\"`, `\"second\"`\n *\n * ```ts\n * import { of } from 'rxjs';\n * import { startWith } from 'rxjs/operators';\n *\n * of(\"from source\")\n *   .pipe(startWith(\"first\", \"second\"))\n *   .subscribe(x => console.log(x));\n *\n * // results:\n * //   \"first\"\n * //   \"second\"\n * //   \"from source\"\n * ```\n *\n * @param {...T} values - Items you want the modified Observable to emit first.\n * @param {SchedulerLike} [scheduler] - A {@link SchedulerLike} to use for scheduling\n * the emissions of the `next` notifications.\n * @return {Observable} An Observable that emits the items in the specified Iterable and then emits the items\n * emitted by the source Observable.\n * @method startWith\n * @owner Observable\n */\nexport function startWith<T, D>(...array: Array<T | SchedulerLike>): OperatorFunction<T, T | D> {\n  const scheduler = array[array.length - 1] as SchedulerLike;\n  if (isScheduler(scheduler)) {\n    // deprecated path\n    array.pop();\n    return (source: Observable<T>) => concat(array as T[], source, scheduler);\n  } else {\n    return (source: Observable<T>) => concat(array as T[], source);\n  }\n}\n","import { SchedulerLike, SchedulerAction } from '../types';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { Observable } from '../Observable';\nimport { asap } from '../scheduler/asap';\nimport { isNumeric } from '../util/isNumeric';\n\nexport interface DispatchArg<T> {\n  source: Observable<T>;\n  subscriber: Subscriber<T>;\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nexport class SubscribeOnObservable<T> extends Observable<T> {\n  /** @nocollapse */\n  static create<T>(source: Observable<T>, delay: number = 0, scheduler: SchedulerLike = asap): Observable<T> {\n    return new SubscribeOnObservable(source, delay, scheduler);\n  }\n\n  /** @nocollapse */\n  static dispatch<T>(this: SchedulerAction<T>, arg: DispatchArg<T>): Subscription {\n    const { source, subscriber } = arg;\n    return this.add(source.subscribe(subscriber));\n  }\n\n  constructor(public source: Observable<T>,\n              private delayTime: number = 0,\n              private scheduler: SchedulerLike = asap) {\n    super();\n    if (!isNumeric(delayTime) || delayTime < 0) {\n      this.delayTime = 0;\n    }\n    if (!scheduler || typeof scheduler.schedule !== 'function') {\n      this.scheduler = asap;\n    }\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _subscribe(subscriber: Subscriber<T>) {\n    const delay = this.delayTime;\n    const source = this.source;\n    const scheduler = this.scheduler;\n\n    return scheduler.schedule<DispatchArg<any>>(SubscribeOnObservable.dispatch, delay, {\n      source, subscriber\n    });\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { SubscribeOnObservable } from '../observable/SubscribeOnObservable';\nimport { MonoTypeOperatorFunction, SchedulerLike, TeardownLogic } from '../types';\n\n/**\n * Asynchronously subscribes Observers to this Observable on the specified {@link SchedulerLike}.\n *\n * With `subscribeOn` you can decide what type of scheduler a specific Observable will be using when it is subscribed to.\n *\n * Schedulers control the speed and order of emissions to observers from an Observable stream.\n *\n * ![](subscribeOn.png)\n *\n * ## Example\n * Given the following code:\n * ```javascript\n * import { of, merge } from 'rxjs';\n *\n * const a = of(1, 2, 3, 4);\n * const b = of(5, 6, 7, 8, 9);\n * merge(a, b).subscribe(console.log);\n * ```\n *\n * Both Observable `a` and `b` will emit their values directly and synchronously once they are subscribed to.\n * This will result in the output of `1 2 3 4 5 6 7 8 9`.\n *\n * But if we instead us the `subscribeOn` operator declaring that we want to use the {@link asyncScheduler} for values emited by Observable `a`:\n * ```javascript\n * import { of, merge, asyncScheduler } from 'rxjs';\n * import { subscribeOn } from 'rxjs/operators';\n *\n * const a = of(1, 2, 3, 4).pipe(subscribeOn(asyncScheduler));\n * const b = of(5, 6, 7, 8, 9);\n * merge(a, b).subscribe(console.log);\n * ```\n *\n * The output will instead be `5 6 7 8 9 1 2 3 4`.\n * The reason for this is that Observable `b` emits its values directly and synchronously like before\n * but the emissions from `a` are scheduled on the event loop because we are now using the {@link asyncScheduler} for that specific Observable.\n *\n * @param {SchedulerLike} scheduler - The {@link SchedulerLike} to perform subscription actions on.\n * @return {Observable<T>} The source Observable modified so that its subscriptions happen on the specified {@link SchedulerLike}.\n .\n * @method subscribeOn\n * @owner Observable\n */\nexport function subscribeOn<T>(scheduler: SchedulerLike, delay: number = 0): MonoTypeOperatorFunction<T> {\n  return function subscribeOnOperatorFunction(source: Observable<T>): Observable<T> {\n    return source.lift(new SubscribeOnOperator<T>(scheduler, delay));\n  };\n}\n\nclass SubscribeOnOperator<T> implements Operator<T, T> {\n  constructor(private scheduler: SchedulerLike,\n              private delay: number) {\n  }\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return new SubscribeOnObservable<T>(\n      source, this.delay, this.scheduler\n    ).subscribe(subscriber);\n  }\n}\n","import { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { ObservableInput, OperatorFunction, ObservedValueOf } from '../types';\nimport { map } from './map';\nimport { from } from '../observable/from';\n\n/* tslint:disable:max-line-length */\nexport function switchMap<T, O extends ObservableInput<any>>(project: (value: T, index: number) => O): OperatorFunction<T, ObservedValueOf<O>>;\n/** @deprecated resultSelector is no longer supported, use inner map instead */\nexport function switchMap<T, O extends ObservableInput<any>>(project: (value: T, index: number) => O, resultSelector: undefined): OperatorFunction<T, ObservedValueOf<O>>;\n/** @deprecated resultSelector is no longer supported, use inner map instead */\nexport function switchMap<T, R, O extends ObservableInput<any>>(project: (value: T, index: number) => O, resultSelector: (outerValue: T, innerValue: ObservedValueOf<O>, outerIndex: number, innerIndex: number) => R): OperatorFunction<T, R>;\n/* tslint:enable:max-line-length */\n\n/**\n * Projects each source value to an Observable which is merged in the output\n * Observable, emitting values only from the most recently projected Observable.\n *\n * <span class=\"informal\">Maps each value to an Observable, then flattens all of\n * these inner Observables.</span>\n *\n * ![](switchMap.png)\n *\n * Returns an Observable that emits items based on applying a function that you\n * supply to each item emitted by the source Observable, where that function\n * returns an (so-called \"inner\") Observable. Each time it observes one of these\n * inner Observables, the output Observable begins emitting the items emitted by\n * that inner Observable. When a new inner Observable is emitted, `switchMap`\n * stops emitting items from the earlier-emitted inner Observable and begins\n * emitting items from the new one. It continues to behave like this for\n * subsequent inner Observables.\n *\n * ## Example\n * Generate new Observable according to source Observable values\n * ```typescript\n * import { of } from 'rxjs';\n * import { switchMap } from 'rxjs/operators';\n *\n * const switched = of(1, 2, 3).pipe(switchMap((x: number) => of(x, x ** 2, x ** 3)));\n * switched.subscribe(x => console.log(x));\n * // outputs\n * // 1\n * // 1\n * // 1\n * // 2\n * // 4\n * // 8\n * // ... and so on\n * ```\n *\n * Rerun an interval Observable on every click event\n * ```ts\n * import { fromEvent, interval } from 'rxjs';\n * import { switchMap } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(switchMap((ev) => interval(1000)));\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link concatMap}\n * @see {@link exhaustMap}\n * @see {@link mergeMap}\n * @see {@link switchAll}\n * @see {@link switchMapTo}\n *\n * @param {function(value: T, ?index: number): ObservableInput} project A function\n * that, when applied to an item emitted by the source Observable, returns an\n * Observable.\n * @return {Observable} An Observable that emits the result of applying the\n * projection function (and the optional deprecated `resultSelector`) to each item\n * emitted by the source Observable and taking only the values from the most recently\n * projected inner Observable.\n * @method switchMap\n * @owner Observable\n */\nexport function switchMap<T, R, O extends ObservableInput<any>>(\n  project: (value: T, index: number) => O,\n  resultSelector?: (outerValue: T, innerValue: ObservedValueOf<O>, outerIndex: number, innerIndex: number) => R,\n): OperatorFunction<T, ObservedValueOf<O>|R> {\n  if (typeof resultSelector === 'function') {\n    return (source: Observable<T>) => source.pipe(\n      switchMap((a, i) => from(project(a, i)).pipe(\n        map((b, ii) => resultSelector(a, b, i, ii))\n      ))\n    );\n  }\n  return (source: Observable<T>) => source.lift(new SwitchMapOperator(project));\n}\n\nclass SwitchMapOperator<T, R> implements Operator<T, R> {\n  constructor(private project: (value: T, index: number) => ObservableInput<R>) {\n  }\n\n  call(subscriber: Subscriber<R>, source: any): any {\n    return source.subscribe(new SwitchMapSubscriber(subscriber, this.project));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass SwitchMapSubscriber<T, R> extends OuterSubscriber<T, R> {\n  private index: number = 0;\n  private innerSubscription: Subscription;\n\n  constructor(destination: Subscriber<R>,\n              private project: (value: T, index: number) => ObservableInput<R>) {\n    super(destination);\n  }\n\n  protected _next(value: T) {\n    let result: ObservableInput<R>;\n    const index = this.index++;\n    try {\n      result = this.project(value, index);\n    } catch (error) {\n      this.destination.error(error);\n      return;\n    }\n    this._innerSub(result, value, index);\n  }\n\n  private _innerSub(result: ObservableInput<R>, value: T, index: number) {\n    const innerSubscription = this.innerSubscription;\n    if (innerSubscription) {\n      innerSubscription.unsubscribe();\n    }\n    const innerSubscriber = new InnerSubscriber(this, undefined, undefined);\n    const destination = this.destination as Subscription;\n    destination.add(innerSubscriber);\n    this.innerSubscription = subscribeToResult(this, result, value, index, innerSubscriber);\n  }\n\n  protected _complete(): void {\n    const {innerSubscription} = this;\n    if (!innerSubscription || innerSubscription.closed) {\n      super._complete();\n    }\n    this.unsubscribe();\n  }\n\n  protected _unsubscribe() {\n    this.innerSubscription = null;\n  }\n\n  notifyComplete(innerSub: Subscription): void {\n    const destination = this.destination as Subscription;\n    destination.remove(innerSub);\n    this.innerSubscription = null;\n    if (this.isStopped) {\n      super._complete();\n    }\n  }\n\n  notifyNext(outerValue: T, innerValue: R,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n      this.destination.next(innerValue);\n  }\n}\n","import {OperatorFunction, ObservableInput} from '../types';\nimport { switchMap } from './switchMap';\nimport { identity } from '../util/identity';\n\nexport function switchAll<T>(): OperatorFunction<ObservableInput<T>, T>;\nexport function switchAll<R>(): OperatorFunction<any, R>;\n\n/**\n * Converts a higher-order Observable into a first-order Observable\n * producing values only from the most recent observable sequence\n *\n * <span class=\"informal\">Flattens an Observable-of-Observables.</span>\n *\n * ![](switchAll.png)\n *\n * `switchAll` subscribes to a source that is an observable of observables, also known as a\n * \"higher-order observable\" (or `Observable<Observable<T>>`). It subscribes to the most recently\n * provided \"inner observable\" emitted by the source, unsubscribing from any previously subscribed\n * to inner observable, such that only the most recent inner observable may be subscribed to at\n * any point in time. The resulting observable returned by `switchAll` will only complete if the\n * source observable completes, *and* any currently subscribed to inner observable also has completed,\n * if there are any.\n *\n * ## Examples\n * Spawn a new interval observable for each click event, but for every new\n * click, cancel the previous interval and subscribe to the new one.\n *\n * ```ts\n * import { fromEvent, interval } from 'rxjs';\n * import { switchAll, map, tap } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click').pipe(tap(() => console.log('click')));\n * const source = clicks.pipe(map((ev) => interval(1000)));\n *\n * source.pipe(\n *   switchAll()\n * ).subscribe(x => console.log(x));\n *\n /* Output\n *  click\n *  1\n *  2\n *  3\n *  4\n *  ...\n *  click\n *  1\n *  2\n *  3\n *  ...\n *  click\n *  ...\n * ```\n *\n * @see {@link combineAll}\n * @see {@link concatAll}\n * @see {@link exhaust}\n * @see {@link switchMap}\n * @see {@link switchMapTo}\n * @see {@link mergeAll}\n */\n\nexport function switchAll<T>(): OperatorFunction<ObservableInput<T>, T> {\n  return switchMap(identity);\n}\n","import { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { ObservableInput, OperatorFunction } from '../types';\nimport { switchMap } from './switchMap';\n\n/* tslint:disable:max-line-length */\nexport function switchMapTo<R>(observable: ObservableInput<R>): OperatorFunction<any, R>;\n/** @deprecated resultSelector is no longer supported. Switch to using switchMap with an inner map */\nexport function switchMapTo<T, R>(observable: ObservableInput<R>, resultSelector: undefined): OperatorFunction<T, R>;\n/** @deprecated resultSelector is no longer supported. Switch to using switchMap with an inner map */\nexport function switchMapTo<T, I, R>(observable: ObservableInput<I>, resultSelector: (outerValue: T, innerValue: I, outerIndex: number, innerIndex: number) => R): OperatorFunction<T, R>;\n/* tslint:enable:max-line-length */\n\n/**\n * Projects each source value to the same Observable which is flattened multiple\n * times with {@link switchMap} in the output Observable.\n *\n * <span class=\"informal\">It's like {@link switchMap}, but maps each value\n * always to the same inner Observable.</span>\n *\n * ![](switchMapTo.png)\n *\n * Maps each source value to the given Observable `innerObservable` regardless\n * of the source value, and then flattens those resulting Observables into one\n * single Observable, which is the output Observable. The output Observables\n * emits values only from the most recently emitted instance of\n * `innerObservable`.\n *\n * ## Example\n * Rerun an interval Observable on every click event\n * ```ts\n * import { fromEvent, interval } from 'rxjs';\n * import { switchMapTo } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(switchMapTo(interval(1000)));\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link concatMapTo}\n * @see {@link switchAll}\n * @see {@link switchMap}\n * @see {@link mergeMapTo}\n *\n * @param {ObservableInput} innerObservable An Observable to replace each value from\n * the source Observable.\n * @return {Observable} An Observable that emits items from the given\n * `innerObservable` (and optionally transformed through the deprecated `resultSelector`)\n * every time a value is emitted on the source Observable, and taking only the values\n * from the most recently projected inner Observable.\n * @method switchMapTo\n * @owner Observable\n */\nexport function switchMapTo<T, I, R>(\n  innerObservable: ObservableInput<I>,\n  resultSelector?: (outerValue: T, innerValue: I, outerIndex: number, innerIndex: number) => R\n): OperatorFunction<T, I|R> {\n  return resultSelector ? switchMap(() => innerObservable, resultSelector) : switchMap(() => innerObservable);\n}\n","import { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\n\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\n\nimport { MonoTypeOperatorFunction, TeardownLogic } from '../types';\n\n/**\n * Emits the values emitted by the source Observable until a `notifier`\n * Observable emits a value.\n *\n * <span class=\"informal\">Lets values pass until a second Observable,\n * `notifier`, emits a value. Then, it completes.</span>\n *\n * ![](takeUntil.png)\n *\n * `takeUntil` subscribes and begins mirroring the source Observable. It also\n * monitors a second Observable, `notifier` that you provide. If the `notifier`\n * emits a value, the output Observable stops mirroring the source Observable\n * and completes. If the `notifier` doesn't emit any value and completes\n * then `takeUntil` will pass all values.\n *\n * ## Example\n * Tick every second until the first click happens\n * ```ts\n * import { fromEvent, interval } from 'rxjs';\n * import { takeUntil } from 'rxjs/operators';\n *\n * const source = interval(1000);\n * const clicks = fromEvent(document, 'click');\n * const result = source.pipe(takeUntil(clicks));\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link take}\n * @see {@link takeLast}\n * @see {@link takeWhile}\n * @see {@link skip}\n *\n * @param {Observable} notifier The Observable whose first emitted value will\n * cause the output Observable of `takeUntil` to stop emitting values from the\n * source Observable.\n * @return {Observable<T>} An Observable that emits the values from the source\n * Observable until such time as `notifier` emits its first value.\n * @method takeUntil\n * @owner Observable\n */\nexport function takeUntil<T>(notifier: Observable<any>): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(new TakeUntilOperator(notifier));\n}\n\nclass TakeUntilOperator<T> implements Operator<T, T> {\n  constructor(private notifier: Observable<any>) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    const takeUntilSubscriber = new TakeUntilSubscriber(subscriber);\n    const notifierSubscription = subscribeToResult(takeUntilSubscriber, this.notifier);\n    if (notifierSubscription && !takeUntilSubscriber.seenValue) {\n      takeUntilSubscriber.add(notifierSubscription);\n      return source.subscribe(takeUntilSubscriber);\n    }\n    return takeUntilSubscriber;\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass TakeUntilSubscriber<T, R> extends OuterSubscriber<T, R> {\n  seenValue = false;\n\n  constructor(destination: Subscriber<any>, ) {\n    super(destination);\n  }\n\n  notifyNext(outerValue: T, innerValue: R,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n    this.seenValue = true;\n    this.complete();\n  }\n\n  notifyComplete(): void {\n    // noop\n  }\n}\n","import { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { OperatorFunction, MonoTypeOperatorFunction, TeardownLogic } from '../types';\n\nexport function takeWhile<T, S extends T>(predicate: (value: T, index: number) => value is S): OperatorFunction<T, S>;\nexport function takeWhile<T, S extends T>(predicate: (value: T, index: number) => value is S, inclusive: false): OperatorFunction<T, S>;\nexport function takeWhile<T>(predicate: (value: T, index: number) => boolean, inclusive?: boolean): MonoTypeOperatorFunction<T>;\n\n/**\n * Emits values emitted by the source Observable so long as each value satisfies\n * the given `predicate`, and then completes as soon as this `predicate` is not\n * satisfied.\n *\n * <span class=\"informal\">Takes values from the source only while they pass the\n * condition given. When the first value does not satisfy, it completes.</span>\n *\n * ![](takeWhile.png)\n *\n * `takeWhile` subscribes and begins mirroring the source Observable. Each value\n * emitted on the source is given to the `predicate` function which returns a\n * boolean, representing a condition to be satisfied by the source values. The\n * output Observable emits the source values until such time as the `predicate`\n * returns false, at which point `takeWhile` stops mirroring the source\n * Observable and completes the output Observable.\n *\n * ## Example\n * Emit click events only while the clientX property is greater than 200\n * ```ts\n * import { fromEvent } from 'rxjs';\n * import { takeWhile } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(takeWhile(ev => ev.clientX > 200));\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link take}\n * @see {@link takeLast}\n * @see {@link takeUntil}\n * @see {@link skip}\n *\n * @param {function(value: T, index: number): boolean} predicate A function that\n * evaluates a value emitted by the source Observable and returns a boolean.\n * Also takes the (zero-based) index as the second argument.\n * @param {boolean} inclusive When set to `true` the value that caused\n * `predicate` to return `false` will also be emitted.\n * @return {Observable<T>} An Observable that emits the values from the source\n * Observable so long as each value satisfies the condition defined by the\n * `predicate`, then completes.\n * @method takeWhile\n * @owner Observable\n */\nexport function takeWhile<T>(\n    predicate: (value: T, index: number) => boolean,\n    inclusive = false): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) =>\n             source.lift(new TakeWhileOperator(predicate, inclusive));\n}\n\nclass TakeWhileOperator<T> implements Operator<T, T> {\n  constructor(\n      private predicate: (value: T, index: number) => boolean,\n      private inclusive: boolean) {}\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(\n        new TakeWhileSubscriber(subscriber, this.predicate, this.inclusive));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass TakeWhileSubscriber<T> extends Subscriber<T> {\n  private index: number = 0;\n\n  constructor(\n      destination: Subscriber<T>,\n      private predicate: (value: T, index: number) => boolean,\n      private inclusive: boolean) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    const destination = this.destination;\n    let result: boolean;\n    try {\n      result = this.predicate(value, this.index++);\n    } catch (err) {\n      destination.error(err);\n      return;\n    }\n    this.nextOrComplete(value, result);\n  }\n\n  private nextOrComplete(value: T, predicateResult: boolean): void {\n    const destination = this.destination;\n    if (Boolean(predicateResult)) {\n      destination.next(value);\n    } else {\n      if (this.inclusive) {\n        destination.next(value);\n      }\n      destination.complete();\n    }\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { MonoTypeOperatorFunction, PartialObserver, TeardownLogic } from '../types';\nimport { noop } from '../util/noop';\nimport { isFunction } from '../util/isFunction';\n\n/* tslint:disable:max-line-length */\n/** @deprecated Use an observer instead of a complete callback */\nexport function tap<T>(next: null | undefined, error: null | undefined, complete: () => void): MonoTypeOperatorFunction<T>;\n/** @deprecated Use an observer instead of an error callback */\nexport function tap<T>(next: null | undefined, error: (error: any) => void, complete?: () => void): MonoTypeOperatorFunction<T>;\n/** @deprecated Use an observer instead of a complete callback */\nexport function tap<T>(next: (value: T) => void, error: null | undefined, complete: () => void): MonoTypeOperatorFunction<T>;\nexport function tap<T>(next?: (x: T) => void, error?: (e: any) => void, complete?: () => void): MonoTypeOperatorFunction<T>;\nexport function tap<T>(observer: PartialObserver<T>): MonoTypeOperatorFunction<T>;\n/* tslint:enable:max-line-length */\n\n/**\n * Perform a side effect for every emission on the source Observable, but return\n * an Observable that is identical to the source.\n *\n * <span class=\"informal\">Intercepts each emission on the source and runs a\n * function, but returns an output which is identical to the source as long as errors don't occur.</span>\n *\n * ![](do.png)\n *\n * Returns a mirrored Observable of the source Observable, but modified so that\n * the provided Observer is called to perform a side effect for every value,\n * error, and completion emitted by the source. Any errors that are thrown in\n * the aforementioned Observer or handlers are safely sent down the error path\n * of the output Observable.\n *\n * This operator is useful for debugging your Observables for the correct values\n * or performing other side effects.\n *\n * Note: this is different to a `subscribe` on the Observable. If the Observable\n * returned by `tap` is not subscribed, the side effects specified by the\n * Observer will never happen. `tap` therefore simply spies on existing\n * execution, it does not trigger an execution to happen like `subscribe` does.\n *\n * ## Example\n * Map every click to the clientX position of that click, while also logging the click event\n * ```ts\n * import { fromEvent } from 'rxjs';\n * import { tap, map } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const positions = clicks.pipe(\n *   tap(ev => console.log(ev)),\n *   map(ev => ev.clientX),\n * );\n * positions.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link map}\n * @see {@link Observable#subscribe}\n *\n * @param {Observer|function} [nextOrObserver] A normal Observer object or a\n * callback for `next`.\n * @param {function} [error] Callback for errors in the source.\n * @param {function} [complete] Callback for the completion of the source.\n * @return {Observable} An Observable identical to the source, but runs the\n * specified Observer or callback(s) for each item.\n * @name tap\n */\nexport function tap<T>(nextOrObserver?: PartialObserver<T> | ((x: T) => void),\n                       error?: (e: any) => void,\n                       complete?: () => void): MonoTypeOperatorFunction<T> {\n  return function tapOperatorFunction(source: Observable<T>): Observable<T> {\n    return source.lift(new DoOperator(nextOrObserver, error, complete));\n  };\n}\n\nclass DoOperator<T> implements Operator<T, T> {\n  constructor(private nextOrObserver?: PartialObserver<T> | ((x: T) => void),\n              private error?: (e: any) => void,\n              private complete?: () => void) {\n  }\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new TapSubscriber(subscriber, this.nextOrObserver, this.error, this.complete));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\n\nclass TapSubscriber<T> extends Subscriber<T> {\n  private _context: any;\n\n  private _tapNext: ((value: T) => void) = noop;\n\n  private _tapError: ((err: any) => void) = noop;\n\n  private _tapComplete: (() => void) = noop;\n\n  constructor(destination: Subscriber<T>,\n              observerOrNext?: PartialObserver<T> | ((value: T) => void),\n              error?: (e?: any) => void,\n              complete?: () => void) {\n      super(destination);\n      this._tapError = error || noop;\n      this._tapComplete = complete || noop;\n      if (isFunction(observerOrNext)) {\n        this._context = this;\n        this._tapNext = observerOrNext;\n      } else if (observerOrNext) {\n        this._context = observerOrNext;\n        this._tapNext = observerOrNext.next || noop;\n        this._tapError = observerOrNext.error || noop;\n        this._tapComplete = observerOrNext.complete || noop;\n      }\n    }\n\n  _next(value: T) {\n    try {\n      this._tapNext.call(this._context, value);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n    this.destination.next(value);\n  }\n\n  _error(err: any) {\n    try {\n      this._tapError.call(this._context, err);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n    this.destination.error(err);\n  }\n\n  _complete() {\n    try {\n      this._tapComplete.call(this._context, );\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n    return this.destination.complete();\n  }\n}\n","import { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\n\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\n\nimport { MonoTypeOperatorFunction, SubscribableOrPromise, TeardownLogic } from '../types';\n\nexport interface ThrottleConfig {\n  leading?: boolean;\n  trailing?: boolean;\n}\n\nexport const defaultThrottleConfig: ThrottleConfig = {\n  leading: true,\n  trailing: false\n};\n\n/**\n * Emits a value from the source Observable, then ignores subsequent source\n * values for a duration determined by another Observable, then repeats this\n * process.\n *\n * <span class=\"informal\">It's like {@link throttleTime}, but the silencing\n * duration is determined by a second Observable.</span>\n *\n * ![](throttle.png)\n *\n * `throttle` emits the source Observable values on the output Observable\n * when its internal timer is disabled, and ignores source values when the timer\n * is enabled. Initially, the timer is disabled. As soon as the first source\n * value arrives, it is forwarded to the output Observable, and then the timer\n * is enabled by calling the `durationSelector` function with the source value,\n * which returns the \"duration\" Observable. When the duration Observable emits a\n * value or completes, the timer is disabled, and this process repeats for the\n * next source value.\n *\n * ## Example\n * Emit clicks at a rate of at most one click per second\n * ```ts\n * import { fromEvent } from 'rxjs';\n * import { throttle } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(throttle(ev => interval(1000)));\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link audit}\n * @see {@link debounce}\n * @see {@link delayWhen}\n * @see {@link sample}\n * @see {@link throttleTime}\n *\n * @param {function(value: T): SubscribableOrPromise} durationSelector A function\n * that receives a value from the source Observable, for computing the silencing\n * duration for each source value, returned as an Observable or a Promise.\n * @param {Object} config a configuration object to define `leading` and `trailing` behavior. Defaults\n * to `{ leading: true, trailing: false }`.\n * @return {Observable<T>} An Observable that performs the throttle operation to\n * limit the rate of emissions from the source.\n * @method throttle\n * @owner Observable\n */\nexport function throttle<T>(durationSelector: (value: T) => SubscribableOrPromise<any>,\n                            config: ThrottleConfig = defaultThrottleConfig): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(new ThrottleOperator(durationSelector, config.leading, config.trailing));\n}\n\nclass ThrottleOperator<T> implements Operator<T, T> {\n  constructor(private durationSelector: (value: T) => SubscribableOrPromise<any>,\n              private leading: boolean,\n              private trailing: boolean) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(\n      new ThrottleSubscriber(subscriber, this.durationSelector, this.leading, this.trailing)\n    );\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc\n * @ignore\n * @extends {Ignored}\n */\nclass ThrottleSubscriber<T, R> extends OuterSubscriber<T, R> {\n  private _throttled: Subscription;\n  private _sendValue: T;\n  private _hasValue = false;\n\n  constructor(protected destination: Subscriber<T>,\n              private durationSelector: (value: T) => SubscribableOrPromise<number>,\n              private _leading: boolean,\n              private _trailing: boolean) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    this._hasValue = true;\n    this._sendValue = value;\n\n    if (!this._throttled) {\n      if (this._leading) {\n        this.send();\n      } else {\n        this.throttle(value);\n      }\n    }\n  }\n\n  private send() {\n    const { _hasValue, _sendValue } = this;\n    if (_hasValue) {\n      this.destination.next(_sendValue);\n      this.throttle(_sendValue);\n    }\n    this._hasValue = false;\n    this._sendValue = null;\n  }\n\n  private throttle(value: T): void {\n    const duration = this.tryDurationSelector(value);\n    if (!!duration) {\n      this.add(this._throttled = subscribeToResult(this, duration));\n    }\n  }\n\n  private tryDurationSelector(value: T): SubscribableOrPromise<any> {\n    try {\n      return this.durationSelector(value);\n    } catch (err) {\n      this.destination.error(err);\n      return null;\n    }\n  }\n\n  private throttlingDone() {\n    const { _throttled, _trailing } = this;\n    if (_throttled) {\n      _throttled.unsubscribe();\n    }\n    this._throttled = null;\n\n    if (_trailing) {\n      this.send();\n    }\n  }\n\n  notifyNext(outerValue: T, innerValue: R,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n    this.throttlingDone();\n  }\n\n  notifyComplete(): void {\n    this.throttlingDone();\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { async } from '../scheduler/async';\nimport { Observable } from '../Observable';\nimport { ThrottleConfig, defaultThrottleConfig } from './throttle';\nimport { MonoTypeOperatorFunction, SchedulerLike, TeardownLogic } from '../types';\n\n/**\n * Emits a value from the source Observable, then ignores subsequent source\n * values for `duration` milliseconds, then repeats this process.\n *\n * <span class=\"informal\">Lets a value pass, then ignores source values for the\n * next `duration` milliseconds.</span>\n *\n * ![](throttleTime.png)\n *\n * `throttleTime` emits the source Observable values on the output Observable\n * when its internal timer is disabled, and ignores source values when the timer\n * is enabled. Initially, the timer is disabled. As soon as the first source\n * value arrives, it is forwarded to the output Observable, and then the timer\n * is enabled. After `duration` milliseconds (or the time unit determined\n * internally by the optional `scheduler`) has passed, the timer is disabled,\n * and this process repeats for the next source value. Optionally takes a\n * {@link SchedulerLike} for managing timers.\n *\n * ## Examples\n *\n * #### Limit click rate\n *\n * Emit clicks at a rate of at most one click per second\n * ```ts\n * import { fromEvent } from 'rxjs';\n * import { throttleTime } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(throttleTime(1000));\n * result.subscribe(x => console.log(x));\n * ```\n *\n * #### Double Click\n *\n * The following example only emits clicks which happen within a subsequent\n * delay of 400ms of the previous click. This for example can emulate a double\n * click. It makes use of the `trailing` parameter of the throttle configuration.\n *\n * ```ts\n * import { fromEvent, asyncScheduler } from 'rxjs';\n * import { throttleTime, withLatestFrom } from 'rxjs/operators';\n *\n * // defaultThottleConfig = { leading: true, trailing: false }\n * const throttleConfig = {\n *   leading: false,\n *   trailing: true\n * }\n *\n * const click = fromEvent(document, 'click');\n * const doubleClick = click.pipe(\n *   throttleTime(400, asyncScheduler, throttleConfig)\n * );\n *\n * doubleClick.subscribe((throttleValue: Event) => {\n *   console.log(`Double-clicked! Timestamp: ${throttleValue.timeStamp}`);\n * });\n * ```\n *\n * If you enable the `leading` parameter in this example, the output would be the primary click and\n * the double click, but restricts additional clicks within 400ms.\n *\n * @see {@link auditTime}\n * @see {@link debounceTime}\n * @see {@link delay}\n * @see {@link sampleTime}\n * @see {@link throttle}\n *\n * @param {number} duration Time to wait before emitting another value after\n * emitting the last value, measured in milliseconds or the time unit determined\n * internally by the optional `scheduler`.\n * @param {SchedulerLike} [scheduler=async] The {@link SchedulerLike} to use for\n * managing the timers that handle the throttling.\n * @param {Object} config a configuration object to define `leading` and\n * `trailing` behavior. Defaults to `{ leading: true, trailing: false }`.\n * @return {Observable<T>} An Observable that performs the throttle operation to\n * limit the rate of emissions from the source.\n * @method throttleTime\n * @owner Observable\n */\nexport function throttleTime<T>(duration: number,\n                                scheduler: SchedulerLike = async,\n                                config: ThrottleConfig = defaultThrottleConfig): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(new ThrottleTimeOperator(duration, scheduler, config.leading, config.trailing));\n}\n\nclass ThrottleTimeOperator<T> implements Operator<T, T> {\n  constructor(private duration: number,\n              private scheduler: SchedulerLike,\n              private leading: boolean,\n              private trailing: boolean) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(\n      new ThrottleTimeSubscriber(subscriber, this.duration, this.scheduler, this.leading, this.trailing)\n    );\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass ThrottleTimeSubscriber<T> extends Subscriber<T> {\n  private throttled: Subscription;\n  private _hasTrailingValue: boolean = false;\n  private _trailingValue: T = null;\n\n  constructor(destination: Subscriber<T>,\n              private duration: number,\n              private scheduler: SchedulerLike,\n              private leading: boolean,\n              private trailing: boolean) {\n    super(destination);\n  }\n\n  protected _next(value: T) {\n    if (this.throttled) {\n      if (this.trailing) {\n        this._trailingValue = value;\n        this._hasTrailingValue = true;\n      }\n    } else {\n      this.add(this.throttled = this.scheduler.schedule<DispatchArg<T>>(dispatchNext, this.duration, { subscriber: this }));\n      if (this.leading) {\n        this.destination.next(value);\n      } else if (this.trailing) {\n        this._trailingValue = value;\n        this._hasTrailingValue = true;\n      }\n    }\n  }\n\n  protected _complete() {\n    if (this._hasTrailingValue) {\n      this.destination.next(this._trailingValue);\n      this.destination.complete();\n    } else {\n      this.destination.complete();\n    }\n  }\n\n  clearThrottle() {\n    const throttled = this.throttled;\n    if (throttled) {\n      if (this.trailing && this._hasTrailingValue) {\n        this.destination.next(this._trailingValue);\n        this._trailingValue = null;\n        this._hasTrailingValue = false;\n      }\n      throttled.unsubscribe();\n      this.remove(throttled);\n      this.throttled = null;\n    }\n  }\n}\n\ninterface DispatchArg<T> {\n  subscriber: ThrottleTimeSubscriber<T>;\n}\n\nfunction dispatchNext<T>(arg: DispatchArg<T>) {\n  const { subscriber } = arg;\n  subscriber.clearThrottle();\n}\n","\nimport { Observable } from '../Observable';\nimport { async } from '../scheduler/async';\nimport { SchedulerLike, OperatorFunction } from '../types';\nimport { scan } from './scan';\nimport { defer } from '../observable/defer';\nimport { map } from './map';\n\n/**\n *\n * Emits an object containing the current value, and the time that has\n * passed between emitting the current value and the previous value, which is\n * calculated by using the provided `scheduler`'s `now()` method to retrieve\n * the current time at each emission, then calculating the difference. The `scheduler`\n * defaults to {@link asyncScheduler}, so by default, the `interval` will be in\n * milliseconds.\n *\n * <span class=\"informal\">Convert an Observable that emits items into one that\n * emits indications of the amount of time elapsed between those emissions.</span>\n *\n * ![](timeinterval.png)\n *\n * ## Examples\n * Emit inteval between current value with the last value\n *\n * ```ts\n * const seconds = interval(1000);\n *\n * seconds.pipe(timeInterval())\n * .subscribe(\n *     value => console.log(value),\n *     err => console.log(err),\n * );\n *\n * seconds.pipe(timeout(900))\n * .subscribe(\n *     value => console.log(value),\n *     err => console.log(err),\n * );\n *\n * // NOTE: The values will never be this precise,\n * // intervals created with `interval` or `setInterval`\n * // are non-deterministic.\n *\n * // {value: 0, interval: 1000}\n * // {value: 1, interval: 1000}\n * // {value: 2, interval: 1000}\n * ```\n *\n * @param {SchedulerLike} [scheduler] Scheduler used to get the current time.\n * @return {Observable<{ interval: number, value: T }>} Observable that emit infomation about value and interval\n * @method timeInterval\n */\nexport function timeInterval<T>(scheduler: SchedulerLike = async): OperatorFunction<T, TimeInterval<T>> {\n  return (source: Observable<T>) => defer(() => {\n    return source.pipe(\n      // TODO(benlesh): correct these typings.\n      scan(\n        ({ current }, value) => ({ value, current: scheduler.now(), last: current }),\n        { current: scheduler.now(), value: undefined,  last: undefined }\n      ) as any,\n      map<any, TimeInterval<T>>(({ current, last, value }) => new TimeInterval(value, current - last)),\n    );\n  });\n}\n\n// TODO(benlesh): make this an interface, export the interface, but not the implemented class,\n// there's no reason users should be manually creating this type.\n\n/**\n * @deprecated exposed API, use as interface only.\n */\nexport class TimeInterval<T> {\n  constructor(public value: T, public interval: number) {}\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { async } from '../scheduler/async';\nimport { Observable } from '../Observable';\nimport { isDate } from '../util/isDate';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { ObservableInput, OperatorFunction, MonoTypeOperatorFunction, SchedulerAction, SchedulerLike, TeardownLogic } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function timeoutWith<T, R>(due: number | Date, withObservable: ObservableInput<R>, scheduler?: SchedulerLike): OperatorFunction<T, T | R>;\n/* tslint:enable:max-line-length */\n\n/**\n *\n * Errors if Observable does not emit a value in given time span, in case of which\n * subscribes to the second Observable.\n *\n * <span class=\"informal\">It's a version of `timeout` operator that let's you specify fallback Observable.</span>\n *\n * ![](timeoutWith.png)\n *\n * `timeoutWith` is a variation of `timeout` operator. It behaves exactly the same,\n * still accepting as a first argument either a number or a Date, which control - respectively -\n * when values of source Observable should be emitted or when it should complete.\n *\n * The only difference is that it accepts a second, required parameter. This parameter\n * should be an Observable which will be subscribed when source Observable fails any timeout check.\n * So whenever regular `timeout` would emit an error, `timeoutWith` will instead start re-emitting\n * values from second Observable. Note that this fallback Observable is not checked for timeouts\n * itself, so it can emit values and complete at arbitrary points in time. From the moment of a second\n * subscription, Observable returned from `timeoutWith` simply mirrors fallback stream. When that\n * stream completes, it completes as well.\n *\n * Scheduler, which in case of `timeout` is provided as as second argument, can be still provided\n * here - as a third, optional parameter. It still is used to schedule timeout checks and -\n * as a consequence - when second Observable will be subscribed, since subscription happens\n * immediately after failing check.\n *\n * ## Example\n * Add fallback observable\n * ```ts\n * import { intrerval } from 'rxjs';\n * import { timeoutWith } from 'rxjs/operators';\n *\n * const seconds = interval(1000);\n * const minutes = interval(60 * 1000);\n *\n * seconds.pipe(timeoutWith(900, minutes))\n *   .subscribe(\n *     value => console.log(value), // After 900ms, will start emitting `minutes`,\n *                                  // since first value of `seconds` will not arrive fast enough.\n *     err => console.log(err),     // Would be called after 900ms in case of `timeout`,\n *                                  // but here will never be called.\n *   );\n * ```\n *\n * @param {number|Date} due Number specifying period within which Observable must emit values\n *                          or Date specifying before when Observable should complete\n * @param {Observable<T>} withObservable Observable which will be subscribed if source fails timeout check.\n * @param {SchedulerLike} [scheduler] Scheduler controlling when timeout checks occur.\n * @return {Observable<T>} Observable that mirrors behaviour of source or, when timeout check fails, of an Observable\n *                          passed as a second parameter.\n * @method timeoutWith\n * @owner Observable\n */\nexport function timeoutWith<T, R>(due: number | Date,\n                                  withObservable: ObservableInput<R>,\n                                  scheduler: SchedulerLike = async): OperatorFunction<T, T | R> {\n  return (source: Observable<T>) => {\n    let absoluteTimeout = isDate(due);\n    let waitFor = absoluteTimeout ? (+due - scheduler.now()) : Math.abs(<number>due);\n    return source.lift(new TimeoutWithOperator(waitFor, absoluteTimeout, withObservable, scheduler));\n  };\n}\n\nclass TimeoutWithOperator<T> implements Operator<T, T> {\n  constructor(private waitFor: number,\n              private absoluteTimeout: boolean,\n              private withObservable: ObservableInput<any>,\n              private scheduler: SchedulerLike) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new TimeoutWithSubscriber(\n      subscriber, this.absoluteTimeout, this.waitFor, this.withObservable, this.scheduler\n    ));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass TimeoutWithSubscriber<T, R> extends OuterSubscriber<T, R> {\n\n  private action: SchedulerAction<TimeoutWithSubscriber<T, R>> = null;\n\n  constructor(destination: Subscriber<T>,\n              private absoluteTimeout: boolean,\n              private waitFor: number,\n              private withObservable: ObservableInput<any>,\n              private scheduler: SchedulerLike) {\n    super(destination);\n    this.scheduleTimeout();\n  }\n\n  private static dispatchTimeout<T, R>(subscriber: TimeoutWithSubscriber<T, R>): void {\n    const { withObservable } = subscriber;\n    (<any> subscriber)._unsubscribeAndRecycle();\n    subscriber.add(subscribeToResult(subscriber, withObservable));\n  }\n\n  private scheduleTimeout(): void {\n    const { action } = this;\n    if (action) {\n      // Recycle the action if we've already scheduled one. All the production\n      // Scheduler Actions mutate their state/delay time and return themeselves.\n      // VirtualActions are immutable, so they create and return a clone. In this\n      // case, we need to set the action reference to the most recent VirtualAction,\n      // to ensure that's the one we clone from next time.\n      this.action = (<SchedulerAction<TimeoutWithSubscriber<T, R>>> action.schedule(this, this.waitFor));\n    } else {\n      this.add(this.action = (<SchedulerAction<TimeoutWithSubscriber<T, R>>> this.scheduler.schedule<TimeoutWithSubscriber<T, R>>(\n        TimeoutWithSubscriber.dispatchTimeout, this.waitFor, this\n      )));\n    }\n  }\n\n  protected _next(value: T): void {\n    if (!this.absoluteTimeout) {\n      this.scheduleTimeout();\n    }\n    super._next(value);\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _unsubscribe() {\n    this.action = null;\n    this.scheduler = null;\n    this.withObservable = null;\n  }\n}\n","import { async } from '../scheduler/async';\nimport { isDate } from '../util/isDate';\nimport { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { TimeoutError } from '../util/TimeoutError';\nimport { MonoTypeOperatorFunction, SchedulerAction, SchedulerLike, TeardownLogic } from '../types';\nimport { timeoutWith } from './timeoutWith';\nimport { throwError } from '../observable/throwError';\n\n/**\n *\n * Errors if Observable does not emit a value in given time span.\n *\n * <span class=\"informal\">Timeouts on Observable that doesn't emit values fast enough.</span>\n *\n * ![](timeout.png)\n *\n * `timeout` operator accepts as an argument either a number or a Date.\n *\n * If number was provided, it returns an Observable that behaves like a source\n * Observable, unless there is a period of time where there is no value emitted.\n * So if you provide `100` as argument and first value comes after 50ms from\n * the moment of subscription, this value will be simply re-emitted by the resulting\n * Observable. If however after that 100ms passes without a second value being emitted,\n * stream will end with an error and source Observable will be unsubscribed.\n * These checks are performed throughout whole lifecycle of Observable - from the moment\n * it was subscribed to, until it completes or errors itself. Thus every value must be\n * emitted within specified period since previous value.\n *\n * If provided argument was Date, returned Observable behaves differently. It throws\n * if Observable did not complete before provided Date. This means that periods between\n * emission of particular values do not matter in this case. If Observable did not complete\n * before provided Date, source Observable will be unsubscribed. Other than that, resulting\n * stream behaves just as source Observable.\n *\n * `timeout` accepts also a Scheduler as a second parameter. It is used to schedule moment (or moments)\n * when returned Observable will check if source stream emitted value or completed.\n *\n * ## Examples\n * Check if ticks are emitted within certain timespan\n * ```ts\n * import { interval } from 'rxjs';\n * import { timeout } from 'rxjs/operators';\n *\n * const seconds = interval(1000);\n *\n * seconds.pipe(timeout(1100))      // Let's use bigger timespan to be safe,\n *                                  // since `interval` might fire a bit later then scheduled.\n * .subscribe(\n *     value => console.log(value), // Will emit numbers just as regular `interval` would.\n *     err => console.log(err),     // Will never be called.\n * );\n *\n * seconds.pipe(timeout(900))\n * .subscribe(\n *     value => console.log(value), // Will never be called.\n *     err => console.log(err),     // Will emit error before even first value is emitted,\n *                                  // since it did not arrive within 900ms period.\n * );\n * ```\n *\n * Use Date to check if Observable completed\n * ```ts\n * import { interval } from 'rxjs';\n * import { timeout } from 'rxjs/operators';\n *\n * const seconds = interval(1000);\n *\n * seconds.pipe(\n *   timeout(new Date(\"December 17, 2020 03:24:00\")),\n * )\n * .subscribe(\n *     value => console.log(value), // Will emit values as regular `interval` would\n *                                  // until December 17, 2020 at 03:24:00.\n *     err => console.log(err)      // On December 17, 2020 at 03:24:00 it will emit an error,\n *                                  // since Observable did not complete by then.\n * );\n * ```\n * @see {@link timeoutWith}\n *\n * @param {number|Date} due Number specifying period within which Observable must emit values\n *                          or Date specifying before when Observable should complete\n * @param {SchedulerLike} [scheduler] Scheduler controlling when timeout checks occur.\n * @return {Observable<T>} Observable that mirrors behaviour of source, unless timeout checks fail.\n * @method timeout\n * @owner Observable\n */\nexport function timeout<T>(due: number | Date,\n                           scheduler: SchedulerLike = async): MonoTypeOperatorFunction<T> {\n  return timeoutWith(due, throwError(new TimeoutError()), scheduler);\n}\n","\nimport { async } from '../scheduler/async';\nimport { OperatorFunction, SchedulerLike, Timestamp as TimestampInterface } from '../types';\nimport { map } from './map';\n\n/**\n * Attaches a timestamp to each item emitted by an observable indicating when it was emitted\n *\n * The `timestamp` operator maps the *source* observable stream to an object of type\n * `{value: T, timestamp: R}`. The properties are generically typed. The `value` property contains the value\n * and type of the *source* observable. The `timestamp` is generated by the schedulers `now` function. By\n * default it uses the *async* scheduler which simply returns `Date.now()` (milliseconds since 1970/01/01\n * 00:00:00:000) and therefore is of type `number`.\n *\n * ![](timestamp.png)\n *\n * ## Example\n *\n * In this example there is a timestamp attached to the documents click event.\n *\n * ```ts\n * import { fromEvent } from 'rxjs';\n * import { timestamp } from 'rxjs/operators';\n *\n * const clickWithTimestamp = fromEvent(document, 'click').pipe(\n *   timestamp()\n * );\n *\n * // Emits data of type {value: MouseEvent, timestamp: number}\n * clickWithTimestamp.subscribe(data => {\n *   console.log(data);\n * });\n * ```\n *\n * @param scheduler\n * @return {Observable<Timestamp<any>>|WebSocketSubject<T>|Observable<T>}\n * @method timestamp\n * @owner Observable\n */\nexport function timestamp<T>(scheduler: SchedulerLike = async): OperatorFunction<T, Timestamp<T>> {\n  return map((value: T) => new Timestamp(value, scheduler.now()));\n  // return (source: Observable<T>) => source.lift(new TimestampOperator(scheduler));\n}\n\nexport class Timestamp<T> implements TimestampInterface<T> {\n  constructor(public value: T, public timestamp: number) {\n  }\n}\n","import { reduce } from './reduce';\nimport { OperatorFunction } from '../types';\n\nfunction toArrayReducer<T>(arr: T[], item: T, index: number) {\n  if (index === 0) {\n    return [item];\n  }\n  arr.push(item);\n  return arr;\n}\n\n/**\n * Collects all source emissions and emits them as an array when the source completes.\n *\n * <span class=\"informal\">Get all values inside an array when the source completes</span>\n *\n * ![](toArray.png)\n *\n * `toArray` will wait until the source Observable completes before emitting\n * the array containing all emissions. When the source Observable errors no\n * array will be emitted.\n *\n *  ## Example\n * ```ts\n * import { interval } from 'rxjs';\n * import { toArray, take } from 'rxjs/operators';\n *\n * const source = interval(1000);\n * const example = source.pipe(\n *   take(10),\n *   toArray()\n * );\n *\n * const subscribe = example.subscribe(val => console.log(val));\n *\n * // output: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\n *\n * ```\n* @return An array from an observable sequence.\n* @method toArray\n* @owner Observable\n*/\nexport function toArray<T>(): OperatorFunction<T, T[]> {\n  return reduce(toArrayReducer, [] as T[]);\n}\n","import { Observable } from '../Observable';\nimport { OperatorFunction } from '../types';\nimport { Subject } from '../Subject';\nimport { Subscriber } from '../Subscriber';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { Operator } from '../Operator';\n\n/**\n * Branch out the source Observable values as a nested Observable whenever\n * `windowBoundaries` emits.\n *\n * <span class=\"informal\">It's like {@link buffer}, but emits a nested Observable\n * instead of an array.</span>\n *\n * ![](window.png)\n *\n * Returns an Observable that emits windows of items it collects from the source\n * Observable. The output Observable emits connected, non-overlapping\n * windows. It emits the current window and opens a new one whenever the\n * Observable `windowBoundaries` emits an item. Because each window is an\n * Observable, the output is a higher-order Observable.\n *\n * ## Example\n * In every window of 1 second each, emit at most 2 click events\n * ```ts\n * import { fromEvent, interval } from 'rxjs';\n * import { window, mergeAll, map, take } from 'rxjs/operators';\n *\n *  const clicks = fromEvent(document, 'click');\n *  const sec = interval(1000);\n *  const result = clicks.pipe(\n *      window(sec),\n *      map(win => win.pipe(take(2))), // each window has at most 2 emissions\n *      mergeAll(),              // flatten the Observable-of-Observables\n *  );\n *  result.subscribe(x => console.log(x));\n * ```\n * @see {@link windowCount}\n * @see {@link windowTime}\n * @see {@link windowToggle}\n * @see {@link windowWhen}\n * @see {@link buffer}\n *\n * @param {Observable<any>} windowBoundaries An Observable that completes the\n * previous window and starts a new window.\n * @return {Observable<Observable<T>>} An Observable of windows, which are\n * Observables emitting values of the source Observable.\n * @method window\n * @owner Observable\n */\nexport function window<T>(windowBoundaries: Observable<any>): OperatorFunction<T, Observable<T>> {\n  return function windowOperatorFunction(source: Observable<T>) {\n    return source.lift(new WindowOperator(windowBoundaries));\n  };\n}\n\nclass WindowOperator<T> implements Operator<T, Observable<T>> {\n\n  constructor(private windowBoundaries: Observable<any>) {\n  }\n\n  call(subscriber: Subscriber<Observable<T>>, source: any): any {\n    const windowSubscriber = new WindowSubscriber(subscriber);\n    const sourceSubscription = source.subscribe(windowSubscriber);\n    if (!sourceSubscription.closed) {\n      windowSubscriber.add(subscribeToResult(windowSubscriber, this.windowBoundaries));\n    }\n    return sourceSubscription;\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass WindowSubscriber<T> extends OuterSubscriber<T, any> {\n\n  private window: Subject<T> = new Subject<T>();\n\n  constructor(destination: Subscriber<Observable<T>>) {\n    super(destination);\n    destination.next(this.window);\n  }\n\n  notifyNext(outerValue: T, innerValue: any,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, any>): void {\n    this.openWindow();\n  }\n\n  notifyError(error: any, innerSub: InnerSubscriber<T, any>): void {\n    this._error(error);\n  }\n\n  notifyComplete(innerSub: InnerSubscriber<T, any>): void {\n    this._complete();\n  }\n\n  protected _next(value: T): void {\n    this.window.next(value);\n  }\n\n  protected _error(err: any): void {\n    this.window.error(err);\n    this.destination.error(err);\n  }\n\n  protected _complete(): void {\n    this.window.complete();\n    this.destination.complete();\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _unsubscribe() {\n    this.window = null;\n  }\n\n  private openWindow(): void  {\n    const prevWindow = this.window;\n    if (prevWindow) {\n      prevWindow.complete();\n    }\n    const destination = this.destination;\n    const newWindow = this.window = new Subject<T>();\n    destination.next(newWindow);\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { Subject } from '../Subject';\nimport { OperatorFunction } from '../types';\n\n/**\n * Branch out the source Observable values as a nested Observable with each\n * nested Observable emitting at most `windowSize` values.\n *\n * <span class=\"informal\">It's like {@link bufferCount}, but emits a nested\n * Observable instead of an array.</span>\n *\n * ![](windowCount.png)\n *\n * Returns an Observable that emits windows of items it collects from the source\n * Observable. The output Observable emits windows every `startWindowEvery`\n * items, each containing no more than `windowSize` items. When the source\n * Observable completes or encounters an error, the output Observable emits\n * the current window and propagates the notification from the source\n * Observable. If `startWindowEvery` is not provided, then new windows are\n * started immediately at the start of the source and when each window completes\n * with size `windowSize`.\n *\n * ## Examples\n * Ignore every 3rd click event, starting from the first one\n * ```ts\n * import { fromEvent } from 'rxjs';\n * import { windowCount, map, mergeAll, skip } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(\n *   windowCount(3),\n *   map(win => win.pipe(skip(1))), // skip first of every 3 clicks\n *   mergeAll()                     // flatten the Observable-of-Observables\n * );\n * result.subscribe(x => console.log(x));\n * ```\n *\n * Ignore every 3rd click event, starting from the third one\n * ```ts\n * import { fromEvent } from 'rxjs';\n * import { windowCount, mergeAll } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(\n *   windowCount(2, 3),\n *   mergeAll(),              // flatten the Observable-of-Observables\n * );\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link window}\n * @see {@link windowTime}\n * @see {@link windowToggle}\n * @see {@link windowWhen}\n * @see {@link bufferCount}\n *\n * @param {number} windowSize The maximum number of values emitted by each\n * window.\n * @param {number} [startWindowEvery] Interval at which to start a new window.\n * For example if `startWindowEvery` is `2`, then a new window will be started\n * on every other value from the source. A new window is started at the\n * beginning of the source by default.\n * @return {Observable<Observable<T>>} An Observable of windows, which in turn\n * are Observable of values.\n * @method windowCount\n * @owner Observable\n */\nexport function windowCount<T>(windowSize: number,\n                               startWindowEvery: number = 0): OperatorFunction<T, Observable<T>> {\n  return function windowCountOperatorFunction(source: Observable<T>) {\n    return source.lift(new WindowCountOperator<T>(windowSize, startWindowEvery));\n  };\n}\n\nclass WindowCountOperator<T> implements Operator<T, Observable<T>> {\n\n  constructor(private windowSize: number,\n              private startWindowEvery: number) {\n  }\n\n  call(subscriber: Subscriber<Observable<T>>, source: any): any {\n    return source.subscribe(new WindowCountSubscriber(subscriber, this.windowSize, this.startWindowEvery));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass WindowCountSubscriber<T> extends Subscriber<T> {\n  private windows: Subject<T>[] = [ new Subject<T>() ];\n  private count: number = 0;\n\n  constructor(protected destination: Subscriber<Observable<T>>,\n              private windowSize: number,\n              private startWindowEvery: number) {\n    super(destination);\n    destination.next(this.windows[0]);\n  }\n\n  protected _next(value: T) {\n    const startWindowEvery = (this.startWindowEvery > 0) ? this.startWindowEvery : this.windowSize;\n    const destination = this.destination;\n    const windowSize = this.windowSize;\n    const windows = this.windows;\n    const len = windows.length;\n\n    for (let i = 0; i < len && !this.closed; i++) {\n      windows[i].next(value);\n    }\n    const c = this.count - windowSize + 1;\n    if (c >= 0 && c % startWindowEvery === 0 && !this.closed) {\n      windows.shift().complete();\n    }\n    if (++this.count % startWindowEvery === 0 && !this.closed) {\n      const window = new Subject<T>();\n      windows.push(window);\n      destination.next(window);\n    }\n  }\n\n  protected _error(err: any) {\n    const windows = this.windows;\n    if (windows) {\n      while (windows.length > 0 && !this.closed) {\n        windows.shift().error(err);\n      }\n    }\n    this.destination.error(err);\n  }\n\n  protected _complete() {\n    const windows = this.windows;\n    if (windows) {\n      while (windows.length > 0 && !this.closed) {\n        windows.shift().complete();\n      }\n    }\n    this.destination.complete();\n  }\n\n  protected _unsubscribe() {\n    this.count = 0;\n    this.windows = null;\n  }\n}\n","import { Subject } from '../Subject';\nimport { Operator } from '../Operator';\nimport { async } from '../scheduler/async';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nimport { isNumeric } from '../util/isNumeric';\nimport { isScheduler } from '../util/isScheduler';\nimport { OperatorFunction, SchedulerLike, SchedulerAction } from '../types';\n\n/**\n * Branch out the source Observable values as a nested Observable periodically\n * in time.\n *\n * <span class=\"informal\">It's like {@link bufferTime}, but emits a nested\n * Observable instead of an array.</span>\n *\n * ![](windowTime.png)\n *\n * Returns an Observable that emits windows of items it collects from the source\n * Observable. The output Observable starts a new window periodically, as\n * determined by the `windowCreationInterval` argument. It emits each window\n * after a fixed timespan, specified by the `windowTimeSpan` argument. When the\n * source Observable completes or encounters an error, the output Observable\n * emits the current window and propagates the notification from the source\n * Observable. If `windowCreationInterval` is not provided, the output\n * Observable starts a new window when the previous window of duration\n * `windowTimeSpan` completes. If `maxWindowCount` is provided, each window\n * will emit at most fixed number of values. Window will complete immediately\n * after emitting last value and next one still will open as specified by\n * `windowTimeSpan` and `windowCreationInterval` arguments.\n *\n * ## Examples\n * In every window of 1 second each, emit at most 2 click events\n * ```ts\n * import { fromEvent } from 'rxjs';\n * import { windowTime, map, mergeAll, take } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(\n *   windowTime(1000),\n *   map(win => win.pipe(take(2))), // each window has at most 2 emissions\n *   mergeAll(),                    // flatten the Observable-of-Observables\n * );\n * result.subscribe(x => console.log(x));\n * ```\n *\n * Every 5 seconds start a window 1 second long, and emit at most 2 click events per window\n * ```ts\n * import { fromEvent } from 'rxjs';\n * import { windowTime, map, mergeAll, take } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(\n *   windowTime(1000, 5000),\n *   map(win => win.pipe(take(2))), // each window has at most 2 emissions\n *   mergeAll(),                    // flatten the Observable-of-Observables\n * );\n * result.subscribe(x => console.log(x));\n * ```\n *\n * Same as example above but with maxWindowCount instead of take\n * ```ts\n * import { fromEvent } from 'rxjs';\n * import { windowTime, mergeAll } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(\n *   windowTime(1000, 5000, 2), // each window has still at most 2 emissions\n *   mergeAll(),                // flatten the Observable-of-Observables\n * );\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link window}\n * @see {@link windowCount}\n * @see {@link windowToggle}\n * @see {@link windowWhen}\n * @see {@link bufferTime}\n *\n * @param {number} windowTimeSpan The amount of time to fill each window.\n * @param {number} [windowCreationInterval] The interval at which to start new\n * windows.\n * @param {number} [maxWindowSize=Number.POSITIVE_INFINITY] Max number of\n * values each window can emit before completion.\n * @param {SchedulerLike} [scheduler=async] The scheduler on which to schedule the\n * intervals that determine window boundaries.\n * @return {Observable<Observable<T>>} An observable of windows, which in turn\n * are Observables.\n * @method windowTime\n * @owner Observable\n */\nexport function windowTime<T>(windowTimeSpan: number,\n                              scheduler?: SchedulerLike): OperatorFunction<T, Observable<T>>;\nexport function windowTime<T>(windowTimeSpan: number,\n                              windowCreationInterval: number,\n                              scheduler?: SchedulerLike): OperatorFunction<T, Observable<T>>;\nexport function windowTime<T>(windowTimeSpan: number,\n                              windowCreationInterval: number,\n                              maxWindowSize: number,\n                              scheduler?: SchedulerLike): OperatorFunction<T, Observable<T>>;\n\nexport function windowTime<T>(windowTimeSpan: number): OperatorFunction<T, Observable<T>> {\n  let scheduler: SchedulerLike = async;\n  let windowCreationInterval: number = null;\n  let maxWindowSize: number = Number.POSITIVE_INFINITY;\n\n  if (isScheduler(arguments[3])) {\n    scheduler = arguments[3];\n  }\n\n  if (isScheduler(arguments[2])) {\n    scheduler = arguments[2];\n  } else if (isNumeric(arguments[2])) {\n    maxWindowSize = arguments[2];\n  }\n\n  if (isScheduler(arguments[1])) {\n    scheduler = arguments[1];\n  } else if (isNumeric(arguments[1])) {\n    windowCreationInterval = arguments[1];\n  }\n\n  return function windowTimeOperatorFunction(source: Observable<T>) {\n    return source.lift(new WindowTimeOperator<T>(windowTimeSpan, windowCreationInterval, maxWindowSize, scheduler));\n  };\n}\n\nclass WindowTimeOperator<T> implements Operator<T, Observable<T>> {\n\n  constructor(private windowTimeSpan: number,\n              private windowCreationInterval: number | null,\n              private maxWindowSize: number,\n              private scheduler: SchedulerLike) {\n  }\n\n  call(subscriber: Subscriber<Observable<T>>, source: any): any {\n    return source.subscribe(new WindowTimeSubscriber(\n      subscriber, this.windowTimeSpan, this.windowCreationInterval, this.maxWindowSize, this.scheduler\n    ));\n  }\n}\n\ninterface CreationState<T> {\n  windowTimeSpan: number;\n  windowCreationInterval: number;\n  subscriber: WindowTimeSubscriber<T>;\n  scheduler: SchedulerLike;\n}\n\ninterface TimeSpanOnlyState<T> {\n    window: CountedSubject<T>;\n    windowTimeSpan: number;\n    subscriber: WindowTimeSubscriber<T>;\n  }\n\ninterface CloseWindowContext<T> {\n  action: SchedulerAction<CreationState<T>>;\n  subscription: Subscription;\n}\n\ninterface CloseState<T> {\n  subscriber: WindowTimeSubscriber<T>;\n  window: CountedSubject<T>;\n  context: CloseWindowContext<T>;\n}\n\nclass CountedSubject<T> extends Subject<T> {\n  private _numberOfNextedValues: number = 0;\n\n  next(value?: T): void {\n    this._numberOfNextedValues++;\n    super.next(value);\n  }\n\n  get numberOfNextedValues(): number {\n    return this._numberOfNextedValues;\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass WindowTimeSubscriber<T> extends Subscriber<T> {\n  private windows: CountedSubject<T>[] = [];\n\n  constructor(protected destination: Subscriber<Observable<T>>,\n              private windowTimeSpan: number,\n              private windowCreationInterval: number | null,\n              private maxWindowSize: number,\n              private scheduler: SchedulerLike) {\n    super(destination);\n\n    const window = this.openWindow();\n    if (windowCreationInterval !== null && windowCreationInterval >= 0) {\n      const closeState: CloseState<T> = { subscriber: this, window, context: <any>null };\n      const creationState: CreationState<T> = { windowTimeSpan, windowCreationInterval, subscriber: this, scheduler };\n      this.add(scheduler.schedule<CloseState<T>>(dispatchWindowClose, windowTimeSpan, closeState));\n      this.add(scheduler.schedule<CreationState<T>>(dispatchWindowCreation, windowCreationInterval, creationState));\n    } else {\n      const timeSpanOnlyState: TimeSpanOnlyState<T> = { subscriber: this, window, windowTimeSpan };\n      this.add(scheduler.schedule<TimeSpanOnlyState<T>>(dispatchWindowTimeSpanOnly, windowTimeSpan, timeSpanOnlyState));\n    }\n  }\n\n  protected _next(value: T): void {\n    const windows = this.windows;\n    const len = windows.length;\n    for (let i = 0; i < len; i++) {\n      const window = windows[i];\n      if (!window.closed) {\n        window.next(value);\n        if (window.numberOfNextedValues >= this.maxWindowSize) {\n          this.closeWindow(window);\n        }\n      }\n    }\n  }\n\n  protected _error(err: any): void {\n    const windows = this.windows;\n    while (windows.length > 0) {\n      windows.shift().error(err);\n    }\n    this.destination.error(err);\n  }\n\n  protected _complete(): void {\n    const windows = this.windows;\n    while (windows.length > 0) {\n      const window = windows.shift();\n      if (!window.closed) {\n        window.complete();\n      }\n    }\n    this.destination.complete();\n  }\n\n  public openWindow(): CountedSubject<T> {\n    const window = new CountedSubject<T>();\n    this.windows.push(window);\n    const destination = this.destination;\n    destination.next(window);\n    return window;\n  }\n\n  public closeWindow(window: CountedSubject<T>): void {\n    window.complete();\n    const windows = this.windows;\n    windows.splice(windows.indexOf(window), 1);\n  }\n}\n\nfunction dispatchWindowTimeSpanOnly<T>(this: SchedulerAction<TimeSpanOnlyState<T>>, state: TimeSpanOnlyState<T>): void {\n  const { subscriber, windowTimeSpan, window } = state;\n  if (window) {\n    subscriber.closeWindow(window);\n  }\n  state.window = subscriber.openWindow();\n  this.schedule(state, windowTimeSpan);\n}\n\nfunction dispatchWindowCreation<T>(this: SchedulerAction<CreationState<T>>, state: CreationState<T>): void {\n  const { windowTimeSpan, subscriber, scheduler, windowCreationInterval } = state;\n  const window = subscriber.openWindow();\n  const action = this;\n  let context: CloseWindowContext<T> = { action, subscription: <any>null };\n  const timeSpanState: CloseState<T> = { subscriber, window, context };\n  context.subscription = scheduler.schedule<CloseState<T>>(dispatchWindowClose, windowTimeSpan, timeSpanState);\n  action.add(context.subscription);\n  action.schedule(state, windowCreationInterval);\n}\n\nfunction dispatchWindowClose<T>(state: CloseState<T>): void {\n  const { subscriber, window, context } = state;\n  if (context && context.action && context.subscription) {\n    context.action.remove(context.subscription);\n  }\n  subscriber.closeWindow(window);\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { Subject } from '../Subject';\nimport { Subscription } from '../Subscription';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { OperatorFunction } from '../types';\n\n/**\n * Branch out the source Observable values as a nested Observable starting from\n * an emission from `openings` and ending when the output of `closingSelector`\n * emits.\n *\n * <span class=\"informal\">It's like {@link bufferToggle}, but emits a nested\n * Observable instead of an array.</span>\n *\n * ![](windowToggle.png)\n *\n * Returns an Observable that emits windows of items it collects from the source\n * Observable. The output Observable emits windows that contain those items\n * emitted by the source Observable between the time when the `openings`\n * Observable emits an item and when the Observable returned by\n * `closingSelector` emits an item.\n *\n * ## Example\n * Every other second, emit the click events from the next 500ms\n * ```ts\n * import { fromEvent, interval, EMPTY } from 'rxjs';\n * import { windowToggle, mergeAll } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const openings = interval(1000);\n * const result = clicks.pipe(\n *   windowToggle(openings, i => i % 2 ? interval(500) : EMPTY),\n *   mergeAll()\n * );\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link window}\n * @see {@link windowCount}\n * @see {@link windowTime}\n * @see {@link windowWhen}\n * @see {@link bufferToggle}\n *\n * @param {Observable<O>} openings An observable of notifications to start new\n * windows.\n * @param {function(value: O): Observable} closingSelector A function that takes\n * the value emitted by the `openings` observable and returns an Observable,\n * which, when it emits (either `next` or `complete`), signals that the\n * associated window should complete.\n * @return {Observable<Observable<T>>} An observable of windows, which in turn\n * are Observables.\n * @method windowToggle\n * @owner Observable\n */\nexport function windowToggle<T, O>(openings: Observable<O>,\n                                   closingSelector: (openValue: O) => Observable<any>): OperatorFunction<T, Observable<T>> {\n  return (source: Observable<T>) => source.lift(new WindowToggleOperator<T, O>(openings, closingSelector));\n}\n\nclass WindowToggleOperator<T, O> implements Operator<T, Observable<T>> {\n\n  constructor(private openings: Observable<O>,\n              private closingSelector: (openValue: O) => Observable<any>) {\n  }\n\n  call(subscriber: Subscriber<Observable<T>>, source: any): any {\n    return source.subscribe(new WindowToggleSubscriber(\n      subscriber, this.openings, this.closingSelector\n    ));\n  }\n}\n\ninterface WindowContext<T> {\n  window: Subject<T>;\n  subscription: Subscription;\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass WindowToggleSubscriber<T, O> extends OuterSubscriber<T, any> {\n  private contexts: WindowContext<T>[] = [];\n  private openSubscription: Subscription;\n\n  constructor(destination: Subscriber<Observable<T>>,\n              private openings: Observable<O>,\n              private closingSelector: (openValue: O) => Observable<any>) {\n    super(destination);\n    this.add(this.openSubscription = subscribeToResult(this, openings, openings as any));\n  }\n\n  protected _next(value: T) {\n    const { contexts } = this;\n    if (contexts) {\n      const len = contexts.length;\n      for (let i = 0; i < len; i++) {\n        contexts[i].window.next(value);\n      }\n    }\n  }\n\n  protected _error(err: any) {\n\n    const { contexts } = this;\n    this.contexts = null;\n\n    if (contexts) {\n      const len = contexts.length;\n      let index = -1;\n\n      while (++index < len) {\n        const context = contexts[index];\n        context.window.error(err);\n        context.subscription.unsubscribe();\n      }\n    }\n\n    super._error(err);\n  }\n\n  protected _complete() {\n    const { contexts } = this;\n    this.contexts = null;\n    if (contexts) {\n      const len = contexts.length;\n      let index = -1;\n      while (++index < len) {\n        const context = contexts[index];\n        context.window.complete();\n        context.subscription.unsubscribe();\n      }\n    }\n    super._complete();\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _unsubscribe() {\n    const { contexts } = this;\n    this.contexts = null;\n    if (contexts) {\n      const len = contexts.length;\n      let index = -1;\n      while (++index < len) {\n        const context = contexts[index];\n        context.window.unsubscribe();\n        context.subscription.unsubscribe();\n      }\n    }\n  }\n\n  notifyNext(outerValue: any, innerValue: any,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, any>): void {\n\n    if (outerValue === this.openings) {\n      let closingNotifier;\n      try {\n        const { closingSelector } = this;\n        closingNotifier = closingSelector(innerValue);\n      } catch (e) {\n        return this.error(e);\n      }\n\n      const window = new Subject<T>();\n      const subscription = new Subscription();\n      const context = { window, subscription };\n      this.contexts.push(context);\n      const innerSubscription = subscribeToResult(this, closingNotifier, context as any);\n\n      if (innerSubscription.closed) {\n        this.closeWindow(this.contexts.length - 1);\n      } else {\n        (<any>innerSubscription).context = context;\n        subscription.add(innerSubscription);\n      }\n\n      this.destination.next(window);\n    } else {\n      this.closeWindow(this.contexts.indexOf(outerValue));\n    }\n  }\n\n  notifyError(err: any): void {\n    this.error(err);\n  }\n\n  notifyComplete(inner: Subscription): void {\n    if (inner !== this.openSubscription) {\n      this.closeWindow(this.contexts.indexOf((<any> inner).context));\n    }\n  }\n\n  private closeWindow(index: number): void {\n    if (index === -1) {\n      return;\n    }\n\n    const { contexts } = this;\n    const context = contexts[index];\n    const { window, subscription } = context;\n    contexts.splice(index, 1);\n    window.complete();\n    subscription.unsubscribe();\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { Subject } from '../Subject';\nimport { Subscription } from '../Subscription';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { OperatorFunction } from '../types';\n\n/**\n * Branch out the source Observable values as a nested Observable using a\n * factory function of closing Observables to determine when to start a new\n * window.\n *\n * <span class=\"informal\">It's like {@link bufferWhen}, but emits a nested\n * Observable instead of an array.</span>\n *\n * ![](windowWhen.png)\n *\n * Returns an Observable that emits windows of items it collects from the source\n * Observable. The output Observable emits connected, non-overlapping windows.\n * It emits the current window and opens a new one whenever the Observable\n * produced by the specified `closingSelector` function emits an item. The first\n * window is opened immediately when subscribing to the output Observable.\n *\n * ## Example\n * Emit only the first two clicks events in every window of [1-5] random seconds\n * ```ts\n * import { fromEvent, interval } from 'rxjs';\n * import { windowWhen, map, mergeAll, take } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const result = clicks.pipe(\n *   windowWhen(() => interval(1000 + Math.random() * 4000)),\n *   map(win => win.pipe(take(2))),     // each window has at most 2 emissions\n *   mergeAll()                         // flatten the Observable-of-Observables\n * );\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link window}\n * @see {@link windowCount}\n * @see {@link windowTime}\n * @see {@link windowToggle}\n * @see {@link bufferWhen}\n *\n * @param {function(): Observable} closingSelector A function that takes no\n * arguments and returns an Observable that signals (on either `next` or\n * `complete`) when to close the previous window and start a new one.\n * @return {Observable<Observable<T>>} An observable of windows, which in turn\n * are Observables.\n * @method windowWhen\n * @owner Observable\n */\nexport function windowWhen<T>(closingSelector: () => Observable<any>): OperatorFunction<T, Observable<T>> {\n  return function windowWhenOperatorFunction(source: Observable<T>) {\n    return source.lift(new WindowOperator<T>(closingSelector));\n  };\n}\n\nclass WindowOperator<T> implements Operator<T, Observable<T>> {\n  constructor(private closingSelector: () => Observable<any>) {\n  }\n\n  call(subscriber: Subscriber<Observable<T>>, source: any): any {\n    return source.subscribe(new WindowSubscriber(subscriber, this.closingSelector));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass WindowSubscriber<T> extends OuterSubscriber<T, any> {\n  private window: Subject<T>;\n  private closingNotification: Subscription;\n\n  constructor(protected destination: Subscriber<Observable<T>>,\n              private closingSelector: () => Observable<any>) {\n    super(destination);\n    this.openWindow();\n  }\n\n  notifyNext(outerValue: T, innerValue: any,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, any>): void {\n    this.openWindow(innerSub);\n  }\n\n  notifyError(error: any, innerSub: InnerSubscriber<T, any>): void {\n    this._error(error);\n  }\n\n  notifyComplete(innerSub: InnerSubscriber<T, any>): void {\n    this.openWindow(innerSub);\n  }\n\n  protected _next(value: T): void {\n    this.window.next(value);\n  }\n\n  protected _error(err: any): void {\n    this.window.error(err);\n    this.destination.error(err);\n    this.unsubscribeClosingNotification();\n  }\n\n  protected _complete(): void {\n    this.window.complete();\n    this.destination.complete();\n    this.unsubscribeClosingNotification();\n  }\n\n  private unsubscribeClosingNotification(): void {\n    if (this.closingNotification) {\n      this.closingNotification.unsubscribe();\n    }\n  }\n\n  private openWindow(innerSub: InnerSubscriber<T, any> = null): void {\n    if (innerSub) {\n      this.remove(innerSub);\n      innerSub.unsubscribe();\n    }\n\n    const prevWindow = this.window;\n    if (prevWindow) {\n      prevWindow.complete();\n    }\n\n    const window = this.window = new Subject<T>();\n    this.destination.next(window);\n\n    let closingNotifier;\n    try {\n      const { closingSelector } = this;\n      closingNotifier = closingSelector();\n    } catch (e) {\n      this.destination.error(e);\n      this.window.error(e);\n      return;\n    }\n    this.add(this.closingNotification = subscribeToResult(this, closingNotifier));\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { ObservableInput, OperatorFunction, ObservedValueOf } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function withLatestFrom<T, R>(project: (v1: T) => R): OperatorFunction<T, R>;\nexport function withLatestFrom<T, O2 extends ObservableInput<any>, R>(source2: O2, project: (v1: T, v2: ObservedValueOf<O2>) => R): OperatorFunction<T, R>;\nexport function withLatestFrom<T, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>, R>(v2: O2, v3: O3, project: (v1: T, v2: ObservedValueOf<O2>, v3: ObservedValueOf<O3>) => R): OperatorFunction<T, R>;\nexport function withLatestFrom<T, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>, O4 extends ObservableInput<any>, R>(v2: O2, v3: O3, v4: O4, project: (v1: T, v2: ObservedValueOf<O2>, v3: ObservedValueOf<O3>, v4: ObservedValueOf<O4>) => R): OperatorFunction<T, R>;\nexport function withLatestFrom<T, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>, O4 extends ObservableInput<any>, O5 extends ObservableInput<any>, R>(v2: O2, v3: O3, v4: O4, v5: O5, project: (v1: T, v2: ObservedValueOf<O2>, v3: ObservedValueOf<O3>, v4: ObservedValueOf<O4>, v5: ObservedValueOf<O5>) => R): OperatorFunction<T, R>;\nexport function withLatestFrom<T, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>, O4 extends ObservableInput<any>, O5 extends ObservableInput<any>, O6 extends ObservableInput<any>, R>(v2: O2, v3: O3, v4: O4, v5: O5, v6: O6, project: (v1: T, v2: ObservedValueOf<O2>, v3: ObservedValueOf<O3>, v4: ObservedValueOf<O4>, v5: ObservedValueOf<O5>, v6: ObservedValueOf<O6>) => R): OperatorFunction<T, R>;\nexport function withLatestFrom<T, O2 extends ObservableInput<any>>(source2: O2): OperatorFunction<T, [T, ObservedValueOf<O2>]>;\nexport function withLatestFrom<T, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>>(v2: O2, v3: O3): OperatorFunction<T, [T, ObservedValueOf<O2>, ObservedValueOf<O3>]>;\nexport function withLatestFrom<T, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>, O4 extends ObservableInput<any>>(v2: O2, v3: O3, v4: O4): OperatorFunction<T, [T, ObservedValueOf<O2>, ObservedValueOf<O3>, ObservedValueOf<O4>]>;\nexport function withLatestFrom<T, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>, O4 extends ObservableInput<any>, O5 extends ObservableInput<any>>(v2: O2, v3: O3, v4: O4, v5: O5): OperatorFunction<T, [T, ObservedValueOf<O2>, ObservedValueOf<O3>, ObservedValueOf<O4>, ObservedValueOf<O5>]>;\nexport function withLatestFrom<T, O2 extends ObservableInput<any>, O3 extends ObservableInput<any>, O4 extends ObservableInput<any>, O5 extends ObservableInput<any>, O6 extends ObservableInput<any>>(v2: O2, v3: O3, v4: O4, v5: O5, v6: O6): OperatorFunction<T, [T, ObservedValueOf<O2>, ObservedValueOf<O3>, ObservedValueOf<O4>, ObservedValueOf<O5>, ObservedValueOf<O6>]>;\nexport function withLatestFrom<T, R>(...observables: Array<ObservableInput<any> | ((...values: Array<any>) => R)>): OperatorFunction<T, R>;\nexport function withLatestFrom<T, R>(array: ObservableInput<any>[]): OperatorFunction<T, R>;\nexport function withLatestFrom<T, R>(array: ObservableInput<any>[], project: (...values: Array<any>) => R): OperatorFunction<T, R>;\n\n/* tslint:enable:max-line-length */\n\n/**\n * Combines the source Observable with other Observables to create an Observable\n * whose values are calculated from the latest values of each, only when the\n * source emits.\n *\n * <span class=\"informal\">Whenever the source Observable emits a value, it\n * computes a formula using that value plus the latest values from other input\n * Observables, then emits the output of that formula.</span>\n *\n * ![](withLatestFrom.png)\n *\n * `withLatestFrom` combines each value from the source Observable (the\n * instance) with the latest values from the other input Observables only when\n * the source emits a value, optionally using a `project` function to determine\n * the value to be emitted on the output Observable. All input Observables must\n * emit at least one value before the output Observable will emit a value.\n *\n * ## Example\n * On every click event, emit an array with the latest timer event plus the click event\n * ```ts\n * import { fromEvent, interval } from 'rxjs';\n * import { withLatestFrom } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const timer = interval(1000);\n * const result = clicks.pipe(withLatestFrom(timer));\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link combineLatest}\n *\n * @param {ObservableInput} other An input Observable to combine with the source\n * Observable. More than one input Observables may be given as argument.\n * @param {Function} [project] Projection function for combining values\n * together. Receives all values in order of the Observables passed, where the\n * first parameter is a value from the source Observable. (e.g.\n * `a.pipe(withLatestFrom(b, c), map(([a1, b1, c1]) => a1 + b1 + c1))`). If this is not\n * passed, arrays will be emitted on the output Observable.\n * @return {Observable} An Observable of projected values from the most recent\n * values from each input Observable, or an array of the most recent values from\n * each input Observable.\n * @method withLatestFrom\n * @owner Observable\n */\nexport function withLatestFrom<T, R>(...args: Array<ObservableInput<any> | ((...values: Array<any>) => R)>): OperatorFunction<T, R> {\n  return (source: Observable<T>) => {\n    let project: any;\n    if (typeof args[args.length - 1] === 'function') {\n      project = args.pop();\n    }\n    const observables = <Observable<any>[]>args;\n    return source.lift(new WithLatestFromOperator(observables, project));\n  };\n}\n\nclass WithLatestFromOperator<T, R> implements Operator<T, R> {\n  constructor(private observables: Observable<any>[],\n              private project?: (...values: any[]) => Observable<R>) {\n  }\n\n  call(subscriber: Subscriber<R>, source: any): any {\n    return source.subscribe(new WithLatestFromSubscriber(subscriber, this.observables, this.project));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass WithLatestFromSubscriber<T, R> extends OuterSubscriber<T, R> {\n  private values: any[];\n  private toRespond: number[] = [];\n\n  constructor(destination: Subscriber<R>,\n              private observables: Observable<any>[],\n              private project?: (...values: any[]) => Observable<R>) {\n    super(destination);\n    const len = observables.length;\n    this.values = new Array(len);\n\n    for (let i = 0; i < len; i++) {\n      this.toRespond.push(i);\n    }\n\n    for (let i = 0; i < len; i++) {\n      let observable = observables[i];\n      this.add(subscribeToResult<T, R>(this, observable, <any>observable, i));\n    }\n  }\n\n  notifyNext(outerValue: T, innerValue: R,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n    this.values[outerIndex] = innerValue;\n    const toRespond = this.toRespond;\n    if (toRespond.length > 0) {\n      const found = toRespond.indexOf(outerIndex);\n      if (found !== -1) {\n        toRespond.splice(found, 1);\n      }\n    }\n  }\n\n  notifyComplete() {\n    // noop\n  }\n\n  protected _next(value: T) {\n    if (this.toRespond.length === 0) {\n      const args = [value, ...this.values];\n      if (this.project) {\n        this._tryProject(args);\n      } else {\n        this.destination.next(args);\n      }\n    }\n  }\n\n  private _tryProject(args: any[]) {\n    let result: any;\n    try {\n      result = this.project.apply(this, args);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n    this.destination.next(result);\n  }\n}\n","import { zip as zipStatic } from '../observable/zip';\nimport { Observable } from '../Observable';\nimport { ObservableInput, OperatorFunction } from '../types';\n\n/* tslint:disable:max-line-length */\n/** @deprecated Deprecated in favor of static zip. */\nexport function zip<T, R>(project: (v1: T) => R): OperatorFunction<T, R>;\n/** @deprecated Deprecated in favor of static zip. */\nexport function zip<T, T2, R>(v2: ObservableInput<T2>, project: (v1: T, v2: T2) => R): OperatorFunction<T, R>;\n/** @deprecated Deprecated in favor of static zip. */\nexport function zip<T, T2, T3, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, project: (v1: T, v2: T2, v3: T3) => R): OperatorFunction<T, R>;\n/** @deprecated Deprecated in favor of static zip. */\nexport function zip<T, T2, T3, T4, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, project: (v1: T, v2: T2, v3: T3, v4: T4) => R): OperatorFunction<T, R>;\n/** @deprecated Deprecated in favor of static zip. */\nexport function zip<T, T2, T3, T4, T5, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, project: (v1: T, v2: T2, v3: T3, v4: T4, v5: T5) => R): OperatorFunction<T, R>;\n/** @deprecated Deprecated in favor of static zip. */\nexport function zip<T, T2, T3, T4, T5, T6, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>, project: (v1: T, v2: T2, v3: T3, v4: T4, v5: T5, v6: T6) => R): OperatorFunction<T, R> ;\n/** @deprecated Deprecated in favor of static zip. */\nexport function zip<T, T2>(v2: ObservableInput<T2>): OperatorFunction<T, [T, T2]>;\n/** @deprecated Deprecated in favor of static zip. */\nexport function zip<T, T2, T3>(v2: ObservableInput<T2>, v3: ObservableInput<T3>): OperatorFunction<T, [T, T2, T3]>;\n/** @deprecated Deprecated in favor of static zip. */\nexport function zip<T, T2, T3, T4>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>): OperatorFunction<T, [T, T2, T3, T4]>;\n/** @deprecated Deprecated in favor of static zip. */\nexport function zip<T, T2, T3, T4, T5>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>): OperatorFunction<T, [T, T2, T3, T4, T5]>;\n/** @deprecated Deprecated in favor of static zip. */\nexport function zip<T, T2, T3, T4, T5, T6>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>): OperatorFunction<T, [T, T2, T3, T4, T5, T6]> ;\n/** @deprecated Deprecated in favor of static zip. */\nexport function zip<T, R>(...observables: Array<ObservableInput<T> | ((...values: Array<T>) => R)>): OperatorFunction<T, R>;\n/** @deprecated Deprecated in favor of static zip. */\nexport function zip<T, R>(array: Array<ObservableInput<T>>): OperatorFunction<T, R>;\n/** @deprecated Deprecated in favor of static zip. */\nexport function zip<T, TOther, R>(array: Array<ObservableInput<TOther>>, project: (v1: T, ...values: Array<TOther>) => R): OperatorFunction<T, R>;\n/* tslint:enable:max-line-length */\n\n/**\n * @deprecated Deprecated in favor of static {@link zip}.\n */\nexport function zip<T, R>(...observables: Array<ObservableInput<any> | ((...values: Array<any>) => R)>): OperatorFunction<T, R> {\n  return function zipOperatorFunction(source: Observable<T>) {\n    return source.lift.call(zipStatic<R>(source, ...observables));\n  };\n}","import { ZipOperator } from '../observable/zip';\nimport { Observable } from '../Observable';\nimport { OperatorFunction, ObservableInput } from '../types';\n\nexport function zipAll<T>(): OperatorFunction<ObservableInput<T>, T[]>;\nexport function zipAll<T>(): OperatorFunction<any, T[]>;\nexport function zipAll<T, R>(project: (...values: T[]) => R): OperatorFunction<ObservableInput<T>, R>;\nexport function zipAll<R>(project: (...values: Array<any>) => R): OperatorFunction<any, R>;\n\nexport function zipAll<T, R>(project?: (...values: Array<any>) => R): OperatorFunction<T, R> {\n  return (source: Observable<T>) => source.lift(new ZipOperator(project));\n}\n","\n/* Operator exports */\nexport { audit } from '../internal/operators/audit';\nexport { auditTime } from '../internal/operators/auditTime';\nexport { buffer } from '../internal/operators/buffer';\nexport { bufferCount } from '../internal/operators/bufferCount';\nexport { bufferTime } from '../internal/operators/bufferTime';\nexport { bufferToggle } from '../internal/operators/bufferToggle';\nexport { bufferWhen } from '../internal/operators/bufferWhen';\nexport { catchError } from '../internal/operators/catchError';\nexport { combineAll } from '../internal/operators/combineAll';\nexport { combineLatest } from '../internal/operators/combineLatest';\nexport { concat } from '../internal/operators/concat';\nexport { concatAll } from '../internal/operators/concatAll';\nexport { concatMap } from '../internal/operators/concatMap';\nexport { concatMapTo } from '../internal/operators/concatMapTo';\nexport { count } from '../internal/operators/count';\nexport { debounce } from '../internal/operators/debounce';\nexport { debounceTime } from '../internal/operators/debounceTime';\nexport { defaultIfEmpty } from '../internal/operators/defaultIfEmpty';\nexport { delay } from '../internal/operators/delay';\nexport { delayWhen } from '../internal/operators/delayWhen';\nexport { dematerialize } from '../internal/operators/dematerialize';\nexport { distinct } from '../internal/operators/distinct';\nexport { distinctUntilChanged } from '../internal/operators/distinctUntilChanged';\nexport { distinctUntilKeyChanged } from '../internal/operators/distinctUntilKeyChanged';\nexport { elementAt } from '../internal/operators/elementAt';\nexport { endWith } from '../internal/operators/endWith';\nexport { every } from '../internal/operators/every';\nexport { exhaust } from '../internal/operators/exhaust';\nexport { exhaustMap } from '../internal/operators/exhaustMap';\nexport { expand } from '../internal/operators/expand';\nexport { filter } from '../internal/operators/filter';\nexport { finalize } from '../internal/operators/finalize';\nexport { find } from '../internal/operators/find';\nexport { findIndex } from '../internal/operators/findIndex';\nexport { first } from '../internal/operators/first';\nexport { groupBy } from '../internal/operators/groupBy';\nexport { ignoreElements } from '../internal/operators/ignoreElements';\nexport { isEmpty } from '../internal/operators/isEmpty';\nexport { last } from '../internal/operators/last';\nexport { map } from '../internal/operators/map';\nexport { mapTo } from '../internal/operators/mapTo';\nexport { materialize } from '../internal/operators/materialize';\nexport { max } from '../internal/operators/max';\nexport { merge } from '../internal/operators/merge';\nexport { mergeAll } from '../internal/operators/mergeAll';\nexport { mergeMap } from '../internal/operators/mergeMap';\nexport { mergeMap as flatMap } from '../internal/operators/mergeMap';\nexport { mergeMapTo } from '../internal/operators/mergeMapTo';\nexport { mergeScan } from '../internal/operators/mergeScan';\nexport { min } from '../internal/operators/min';\nexport { multicast } from '../internal/operators/multicast';\nexport { observeOn } from '../internal/operators/observeOn';\nexport { onErrorResumeNext } from '../internal/operators/onErrorResumeNext';\nexport { pairwise } from '../internal/operators/pairwise';\nexport { partition } from '../internal/operators/partition';\nexport { pluck } from '../internal/operators/pluck';\nexport { publish } from '../internal/operators/publish';\nexport { publishBehavior } from '../internal/operators/publishBehavior';\nexport { publishLast } from '../internal/operators/publishLast';\nexport { publishReplay } from '../internal/operators/publishReplay';\nexport { race } from '../internal/operators/race';\nexport { reduce } from '../internal/operators/reduce';\nexport { repeat } from '../internal/operators/repeat';\nexport { repeatWhen } from '../internal/operators/repeatWhen';\nexport { retry } from '../internal/operators/retry';\nexport { retryWhen } from '../internal/operators/retryWhen';\nexport { refCount } from '../internal/operators/refCount';\nexport { sample } from '../internal/operators/sample';\nexport { sampleTime } from '../internal/operators/sampleTime';\nexport { scan } from '../internal/operators/scan';\nexport { sequenceEqual } from '../internal/operators/sequenceEqual';\nexport { share } from '../internal/operators/share';\nexport { shareReplay } from '../internal/operators/shareReplay';\nexport { single } from '../internal/operators/single';\nexport { skip } from '../internal/operators/skip';\nexport { skipLast } from '../internal/operators/skipLast';\nexport { skipUntil } from '../internal/operators/skipUntil';\nexport { skipWhile } from '../internal/operators/skipWhile';\nexport { startWith } from '../internal/operators/startWith';\nexport { subscribeOn } from '../internal/operators/subscribeOn';\nexport { switchAll } from '../internal/operators/switchAll';\nexport { switchMap } from '../internal/operators/switchMap';\nexport { switchMapTo } from '../internal/operators/switchMapTo';\nexport { take } from '../internal/operators/take';\nexport { takeLast } from '../internal/operators/takeLast';\nexport { takeUntil } from '../internal/operators/takeUntil';\nexport { takeWhile } from '../internal/operators/takeWhile';\nexport { tap } from '../internal/operators/tap';\nexport { throttle } from '../internal/operators/throttle';\nexport { throttleTime } from '../internal/operators/throttleTime';\nexport { throwIfEmpty } from '../internal/operators/throwIfEmpty';\nexport { timeInterval } from '../internal/operators/timeInterval';\nexport { timeout } from '../internal/operators/timeout';\nexport { timeoutWith } from '../internal/operators/timeoutWith';\nexport { timestamp } from '../internal/operators/timestamp';\nexport { toArray } from '../internal/operators/toArray';\nexport { window } from '../internal/operators/window';\nexport { windowCount } from '../internal/operators/windowCount';\nexport { windowTime } from '../internal/operators/windowTime';\nexport { windowToggle } from '../internal/operators/windowToggle';\nexport { windowWhen } from '../internal/operators/windowWhen';\nexport { withLatestFrom } from '../internal/operators/withLatestFrom';\nexport { zip } from '../internal/operators/zip';\nexport { zipAll } from '../internal/operators/zipAll';\n","import _createClass from \"@babel/runtime/helpers/createClass\";\n\n/**\n * RxChangeEvents a emitted when something in the database changes\n * they can be grabbed by the observables of database, collection and document\n */\nimport { hash } from './util';\nexport var RxChangeEvent =\n/*#__PURE__*/\nfunction () {\n  function RxChangeEvent(data) {\n    this._hash = null;\n    this.data = data;\n  }\n\n  var _proto = RxChangeEvent.prototype;\n\n  _proto.toJSON = function toJSON() {\n    var ret = {\n      col: null,\n      doc: null,\n      v: null,\n      op: this.data.op,\n      t: this.data.t,\n      db: this.data.db,\n      it: this.data.it,\n      isLocal: this.data.isLocal\n    };\n    if (this.data.col) ret.col = this.data.col;\n    if (this.data.doc) ret.doc = this.data.doc;\n    if (this.data.v) ret.v = this.data.v;\n    return ret;\n  };\n\n  _proto.isIntern = function isIntern() {\n    if (this.data.col && this.data.col.charAt(0) === '_') return true;\n    return false;\n  };\n\n  _proto.isSocket = function isSocket() {\n    if (this.data.col && this.data.col === '_socket') return true;\n    return false;\n  };\n\n  _createClass(RxChangeEvent, [{\n    key: \"hash\",\n    get: function get() {\n      if (!this._hash) this._hash = hash(this.data);\n      return this._hash;\n    }\n  }]);\n\n  return RxChangeEvent;\n}();\nexport function changeEventfromJSON(data) {\n  return new RxChangeEvent(data);\n}\nexport function changeEventfromPouchChange(changeDoc, collection) {\n  var op = changeDoc._rev.startsWith('1-') ? 'INSERT' : 'UPDATE';\n  if (changeDoc._deleted) op = 'REMOVE'; // decompress / primarySwap\n\n  changeDoc = collection._handleFromPouch(changeDoc);\n  var data = {\n    op: op,\n    t: new Date().getTime(),\n    db: 'remote',\n    col: collection.name,\n    it: collection.database.token,\n    doc: changeDoc[collection.schema.primaryPath],\n    v: changeDoc\n  };\n  return new RxChangeEvent(data);\n}\nexport function createChangeEvent(op, database, collection, doc, value) {\n  var isLocal = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n  var data = {\n    col: collection ? collection.name : null,\n    doc: doc ? doc.primary : null,\n    v: value ? value : null,\n    op: op,\n    t: new Date().getTime(),\n    db: database.name,\n    it: database.token,\n    isLocal: isLocal\n  };\n  return new RxChangeEvent(data);\n}\nexport function isInstanceOf(obj) {\n  return obj instanceof RxChangeEvent;\n}\n","import objectPath from 'object-path';\nimport { BehaviorSubject } from 'rxjs';\nimport { distinctUntilChanged, map } from 'rxjs/operators';\nimport { clone, trimDots, getHeightOfRevision, toPromise, pluginMissing } from './util';\nimport { createChangeEvent } from './rx-change-event';\nimport { newRxError, newRxTypeError } from './rx-error';\nimport { runPluginHooks } from './hooks';\nexport var basePrototype = {\n  get _data() {\n    /**\n     * Might be undefined when vuejs-devtools are used\n     * @link https://github.com/pubkey/rxdb/issues/1126\n     */\n    if (!this.isInstanceOfRxDocument) return undefined;\n    return this._dataSync$.getValue();\n  },\n\n  get primaryPath() {\n    if (!this.isInstanceOfRxDocument) return undefined;\n    return this.collection.schema.primaryPath;\n  },\n\n  get primary() {\n    if (!this.isInstanceOfRxDocument) return undefined;\n    return this._data[this.primaryPath];\n  },\n\n  get revision() {\n    if (!this.isInstanceOfRxDocument) return undefined;\n    return this._data._rev;\n  },\n\n  get deleted$() {\n    if (!this.isInstanceOfRxDocument) return undefined;\n    return this._deleted$.asObservable();\n  },\n\n  get deleted() {\n    if (!this.isInstanceOfRxDocument) return undefined;\n    return this._deleted$.getValue();\n  },\n\n  /**\n   * returns the observable which emits the plain-data of this document\n   */\n  get $() {\n    return this._dataSync$.asObservable();\n  },\n\n  _handleChangeEvent: function _handleChangeEvent(changeEvent) {\n    if (changeEvent.data.doc !== this.primary) return; // ensure that new _rev is higher then current\n\n    var newRevNr = getHeightOfRevision(changeEvent.data.v._rev);\n    var currentRevNr = getHeightOfRevision(this._data._rev);\n    if (currentRevNr > newRevNr) return;\n\n    switch (changeEvent.data.op) {\n      case 'INSERT':\n        break;\n\n      case 'UPDATE':\n        var newData = clone(changeEvent.data.v);\n\n        this._dataSync$.next(clone(newData));\n\n        break;\n\n      case 'REMOVE':\n        // remove from docCache to assure new upserted RxDocuments will be a new instance\n        this.collection._docCache[\"delete\"](this.primary);\n\n        this._deleted$.next(true);\n\n        break;\n    }\n  },\n\n  /**\n   * emits the changeEvent to the upper instance (RxCollection)\n   */\n  $emit: function $emit(changeEvent) {\n    return this.collection.$emit(changeEvent);\n  },\n\n  /**\n   * returns observable of the value of the given path\n   */\n  get$: function get$(path) {\n    if (path.includes('.item.')) {\n      throw newRxError('DOC1', {\n        path: path\n      });\n    }\n\n    if (path === this.primaryPath) throw newRxError('DOC2'); // final fields cannot be modified and so also not observed\n\n    if (this.collection.schema.finalFields.includes(path)) {\n      throw newRxError('DOC3', {\n        path: path\n      });\n    }\n\n    var schemaObj = this.collection.schema.getSchemaByObjectPath(path);\n\n    if (!schemaObj) {\n      throw newRxError('DOC4', {\n        path: path\n      });\n    }\n\n    return this._dataSync$.pipe(map(function (data) {\n      return objectPath.get(data, path);\n    }), distinctUntilChanged());\n  },\n\n  /**\n   * populate the given path\n   */\n  populate: function populate(path) {\n    var schemaObj = this.collection.schema.getSchemaByObjectPath(path);\n    var value = this.get(path);\n\n    if (!value) {\n      return Promise.resolve(null);\n    }\n\n    if (!schemaObj) {\n      throw newRxError('DOC5', {\n        path: path\n      });\n    }\n\n    if (!schemaObj.ref) {\n      throw newRxError('DOC6', {\n        path: path,\n        schemaObj: schemaObj\n      });\n    }\n\n    var refCollection = this.collection.database.collections[schemaObj.ref];\n\n    if (!refCollection) {\n      throw newRxError('DOC7', {\n        ref: schemaObj.ref,\n        path: path,\n        schemaObj: schemaObj\n      });\n    }\n\n    if (schemaObj.type === 'array') return Promise.all(value.map(function (id) {\n      return refCollection.findOne(id).exec();\n    }));else return refCollection.findOne(value).exec();\n  },\n\n  /**\n   * get data by objectPath\n   */\n  get: function get(objPath) {\n    if (!this._data) return undefined;\n    var valueObj = objectPath.get(this._data, objPath);\n    valueObj = clone(valueObj); // direct return if array or non-object\n\n    if (typeof valueObj !== 'object' || Array.isArray(valueObj)) return valueObj;\n    defineGetterSetter(this.collection.schema, valueObj, objPath, this);\n    return valueObj;\n  },\n  toJSON: function toJSON() {\n    var withRevAndAttachments = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    var data = clone(this._data);\n\n    if (!withRevAndAttachments) {\n      delete data._rev;\n      delete data._attachments;\n    }\n\n    return data;\n  },\n\n  /**\n   * set data by objectPath\n   * This can only be called on temporary documents\n   */\n  set: function set(objPath, value) {\n    // setters can only be used on temporary documents\n    if (!this._isTemporary) {\n      throw newRxTypeError('DOC16', {\n        objPath: objPath,\n        value: value\n      });\n    }\n\n    if (typeof objPath !== 'string') {\n      throw newRxTypeError('DOC15', {\n        objPath: objPath,\n        value: value\n      });\n    } // if equal, do nothing\n\n\n    if (Object.is(this.get(objPath), value)) return; // throw if nested without root-object\n\n    var pathEls = objPath.split('.');\n    pathEls.pop();\n    var rootPath = pathEls.join('.');\n\n    if (typeof objectPath.get(this._data, rootPath) === 'undefined') {\n      throw newRxError('DOC10', {\n        childpath: objPath,\n        rootPath: rootPath\n      });\n    }\n\n    objectPath.set(this._data, objPath, value);\n    return this;\n  },\n\n  /**\n   * updates document\n   * @overwritten by plugin (optinal)\n   * @param updateObj mongodb-like syntax\n   */\n  update: function update(_updateObj) {\n    throw pluginMissing('update');\n  },\n  putAttachment: function putAttachment() {\n    throw pluginMissing('attachments');\n  },\n  getAttachment: function getAttachment() {\n    throw pluginMissing('attachments');\n  },\n  allAttachments: function allAttachments() {\n    throw pluginMissing('attachments');\n  },\n\n  get allAttachments$() {\n    throw pluginMissing('attachments');\n  },\n\n  /**\n   * runs an atomic update over the document\n   * @param fun that takes the document-data and returns a new data-object\n   */\n  atomicUpdate: function atomicUpdate(fun) {\n    var _this2 = this;\n\n    this._atomicQueue = this._atomicQueue.then(function () {\n      var oldData = clone(_this2._dataSync$.getValue());\n      var ret = fun(clone(_this2._dataSync$.getValue()), _this2);\n      var retPromise = toPromise(ret);\n      return retPromise.then(function (newData) {\n        return _this2._saveData(newData, oldData);\n      });\n    });\n    return this._atomicQueue.then(function () {\n      return _this2;\n    });\n  },\n  atomicSet: function atomicSet(key, value) {\n    return this.atomicUpdate(function (docData) {\n      objectPath.set(docData, key, value);\n      return docData;\n    });\n  },\n\n  /**\n   * saves the new document-data\n   * and handles the events\n   */\n  _saveData: function _saveData(newData, oldData) {\n    var _this3 = this;\n\n    newData = clone(newData); // deleted documents cannot be changed\n\n    if (this._deleted$.getValue()) {\n      throw newRxError('DOC11', {\n        id: this.primary,\n        document: this\n      });\n    } // ensure modifications are ok\n\n\n    this.collection.schema.validateChange(oldData, newData);\n    return this.collection._runHooks('pre', 'save', newData, this).then(function () {\n      _this3.collection.schema.validate(newData);\n\n      return _this3.collection._pouchPut(clone(newData));\n    }).then(function (ret) {\n      if (!ret.ok) {\n        throw newRxError('DOC12', {\n          data: ret\n        });\n      }\n\n      newData._rev = ret.rev; // emit event\n\n      var changeEvent = createChangeEvent('UPDATE', _this3.collection.database, _this3.collection, _this3, newData);\n\n      _this3.$emit(changeEvent);\n\n      return _this3.collection._runHooks('post', 'save', newData, _this3);\n    });\n  },\n\n  /**\n   * saves the temporary document and makes a non-temporary out of it\n   * Saving a temporary doc is basically the same as RxCollection.insert()\n   * @return false if nothing to save\n   */\n  save: function save() {\n    var _this4 = this;\n\n    // .save() cannot be called on non-temporary-documents\n    if (!this._isTemporary) {\n      throw newRxError('DOC17', {\n        id: this.primary,\n        document: this\n      });\n    }\n\n    return this.collection.insert(this).then(function () {\n      _this4._isTemporary = false;\n\n      _this4.collection._docCache.set(_this4.primary, _this4); // internal events\n\n\n      _this4._dataSync$.next(clone(_this4._data));\n\n      return true;\n    });\n  },\n\n  /**\n   * remove the document,\n   * this not not equal to a pouchdb.remove(),\n   * instead we keep the values and only set _deleted: true\n   */\n  remove: function remove() {\n    var _this5 = this;\n\n    if (this.deleted) {\n      return Promise.reject(newRxError('DOC13', {\n        document: this,\n        id: this.primary\n      }));\n    }\n\n    var deletedData = clone(this._data);\n    return this.collection._runHooks('pre', 'remove', deletedData, this).then(function () {\n      deletedData._deleted = true;\n      /**\n       * because pouch.remove will also empty the object,\n       * we set _deleted: true and use pouch.put\n       */\n\n      return _this5.collection._pouchPut(deletedData);\n    }).then(function () {\n      _this5.$emit(createChangeEvent('REMOVE', _this5.collection.database, _this5.collection, _this5, _this5._data));\n\n      return _this5.collection._runHooks('post', 'remove', deletedData, _this5);\n    }).then(function () {\n      return _this5;\n    });\n  },\n  destroy: function destroy() {\n    throw newRxError('DOC14');\n  }\n};\nexport function createRxDocumentConstructor() {\n  var proto = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : basePrototype;\n\n  var constructor = function RxDocumentConstructor(collection, jsonData) {\n    this.collection = collection; // if true, this is a temporary document\n\n    this._isTemporary = false; // assume that this is always equal to the doc-data in the database\n\n    this._dataSync$ = new BehaviorSubject(clone(jsonData));\n    this._deleted$ = new BehaviorSubject(false);\n    this._atomicQueue = Promise.resolve();\n    /**\n     * because of the prototype-merge,\n     * we can not use the native instanceof operator\n     */\n\n    this.isInstanceOfRxDocument = true;\n  };\n\n  constructor.prototype = proto;\n  return constructor;\n}\nvar pseudoConstructor = createRxDocumentConstructor(basePrototype);\nvar pseudoRxDocument = new pseudoConstructor();\nexport function defineGetterSetter(schema, valueObj) {\n  var objPath = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n  var thisObj = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  if (valueObj === null) return;\n  var pathProperties = schema.getSchemaByObjectPath(objPath);\n  if (typeof pathProperties === 'undefined') return;\n  if (pathProperties.properties) pathProperties = pathProperties.properties;\n  Object.keys(pathProperties).forEach(function (key) {\n    var fullPath = trimDots(objPath + '.' + key); // getter - value\n\n    valueObj.__defineGetter__(key, function () {\n      var _this = thisObj ? thisObj : this;\n\n      if (!_this.get || typeof _this.get !== 'function') {\n        /**\n         * When an object gets added to the state of a vuejs-component,\n         * it happens that this getter is called with another scope.\n         * To prevent errors, we have to return undefined in this case\n         */\n        return undefined;\n      }\n\n      var ret = _this.get(fullPath);\n\n      return ret;\n    }); // getter - observable$\n\n\n    Object.defineProperty(valueObj, key + '$', {\n      get: function get() {\n        var _this = thisObj ? thisObj : this;\n\n        return _this.get$(fullPath);\n      },\n      enumerable: false,\n      configurable: false\n    }); // getter - populate_\n\n    Object.defineProperty(valueObj, key + '_', {\n      get: function get() {\n        var _this = thisObj ? thisObj : this;\n\n        return _this.populate(fullPath);\n      },\n      enumerable: false,\n      configurable: false\n    }); // setter - value\n\n    valueObj.__defineSetter__(key, function (val) {\n      var _this = thisObj ? thisObj : this;\n\n      return _this.set(fullPath, val);\n    });\n  });\n}\nexport function createWithConstructor(constructor, collection, jsonData) {\n  if (jsonData[collection.schema.primaryPath] && jsonData[collection.schema.primaryPath].startsWith('_design')) return null;\n  var doc = new constructor(collection, jsonData);\n  runPluginHooks('createRxDocument', doc);\n  return doc;\n}\n/**\n * returns all possible properties of a RxDocument\n */\n\nvar _properties;\n\nexport function properties() {\n  if (!_properties) {\n    var reserved = ['deleted', 'synced'];\n    var ownProperties = Object.getOwnPropertyNames(pseudoRxDocument);\n    var prototypeProperties = Object.getOwnPropertyNames(basePrototype);\n    _properties = [].concat(ownProperties, prototypeProperties, reserved);\n  }\n\n  return _properties;\n}\nexport function isInstanceOf(obj) {\n  if (typeof obj === 'undefined') return false;\n  return !!obj.isInstanceOfRxDocument;\n}\nexport default {\n  createWithConstructor: createWithConstructor,\n  properties: properties,\n  createRxDocumentConstructor: createRxDocumentConstructor,\n  basePrototype: basePrototype,\n  isInstanceOf: isInstanceOf\n};\n","import _createClass from \"@babel/runtime/helpers/createClass\";\nimport objectPath from 'object-path';\nimport deepEqual from 'deep-equal';\nimport { clone, hash, sortObject, trimDots, flattenObject, pluginMissing } from './util';\nimport { newRxError } from './rx-error';\nimport { runPluginHooks } from './hooks';\nimport { defineGetterSetter } from './rx-document';\nexport var RxSchema =\n/*#__PURE__*/\nfunction () {\n  function RxSchema(jsonID) {\n    this.jsonID = jsonID;\n    this.compoundIndexes = this.jsonID.compoundIndexes;\n    this.indexes = getIndexes(this.jsonID); // primary is always required\n\n    this.primaryPath = getPrimary(this.jsonID);\n\n    if (this.primaryPath) {\n      this.jsonID.required.push(this.primaryPath);\n    } // final fields are always required\n\n\n    this.finalFields = getFinalFields(this.jsonID);\n    this.jsonID.required = this.jsonID.required.concat(this.finalFields).filter(function (elem, pos, arr) {\n      return arr.indexOf(elem) === pos;\n    }); // unique;\n    // add primary to schema if not there (if _id)\n\n    if (!this.jsonID.properties[this.primaryPath]) {\n      this.jsonID.properties[this.primaryPath] = {\n        type: 'string',\n        minLength: 1\n      };\n    }\n  }\n\n  var _proto = RxSchema.prototype;\n\n  _proto.getSchemaByObjectPath = function getSchemaByObjectPath(path) {\n    var usePath = path;\n    usePath = usePath.replace(/\\./g, '.properties.');\n    usePath = 'properties.' + usePath;\n    usePath = trimDots(usePath);\n    var ret = objectPath.get(this.jsonID, usePath);\n    return ret;\n  }\n  /**\n   * checks if a given change on a document is allowed\n   * Ensures that:\n   * - primary is not modified\n   * - final fields are not modified\n   * @throws {Error} if not valid\n   */\n  ;\n\n  _proto.validateChange = function validateChange(dataBefore, dataAfter) {\n    this.finalFields.forEach(function (fieldName) {\n      if (!deepEqual(dataBefore[fieldName], dataAfter[fieldName])) {\n        throw newRxError('DOC9', {\n          dataBefore: dataBefore,\n          dataAfter: dataAfter,\n          fieldName: fieldName\n        });\n      }\n    });\n  }\n  /**\n   * validate if the obj matches the schema\n   * @overwritten by plugin (required)\n   * @param schemaPath if given, validates agains deep-path of schema\n   * @throws {Error} if not valid\n   * @param obj equal to input-obj\n   */\n  ;\n\n  _proto.validate = function validate(_obj, _schemaPath) {\n    throw pluginMissing('validate');\n  }\n  /**\n   * fills all unset fields with default-values if set\n   */\n  ;\n\n  _proto.fillObjectWithDefaults = function fillObjectWithDefaults(obj) {\n    obj = clone(obj);\n    Object.entries(this.defaultValues).filter(function (_ref) {\n      var k = _ref[0];\n      return !obj.hasOwnProperty(k) || typeof obj[k] === 'undefined';\n    }).forEach(function (_ref2) {\n      var k = _ref2[0],\n          v = _ref2[1];\n      return obj[k] = v;\n    });\n    return obj;\n  };\n\n  _proto.swapIdToPrimary = function swapIdToPrimary(obj) {\n    if (this.primaryPath === '_id' || obj[this.primaryPath]) return obj;\n    obj[this.primaryPath] = obj._id;\n    delete obj._id;\n    return obj;\n  };\n\n  _proto.swapPrimaryToId = function swapPrimaryToId(obj) {\n    var _this = this;\n\n    if (this.primaryPath === '_id') return obj;\n    var ret = {};\n    Object.entries(obj).forEach(function (entry) {\n      var newKey = entry[0] === _this.primaryPath ? '_id' : entry[0];\n      ret[newKey] = entry[1];\n    });\n    return ret;\n  }\n  /**\n   * returns true if key-compression should be done\n   */\n  ;\n\n  _proto.doKeyCompression = function doKeyCompression() {\n    return this.jsonID.keyCompression;\n  };\n\n  _proto.getDocumentPrototype = function getDocumentPrototype() {\n    if (!this._getDocumentPrototype) {\n      var proto = {};\n      defineGetterSetter(this, proto, '');\n      this._getDocumentPrototype = proto;\n    }\n\n    return this._getDocumentPrototype;\n  };\n\n  _createClass(RxSchema, [{\n    key: \"version\",\n    get: function get() {\n      return this.jsonID.version;\n    }\n  }, {\n    key: \"crypt\",\n    get: function get() {\n      if (!this._crypt) this._crypt = hasCrypt(this.jsonID);\n      return this._crypt;\n    }\n  }, {\n    key: \"normalized\",\n    get: function get() {\n      if (!this._normalized) this._normalized = normalize(this.jsonID);\n      return this._normalized;\n    }\n  }, {\n    key: \"topLevelFields\",\n    get: function get() {\n      return Object.keys(this.normalized.properties);\n    }\n  }, {\n    key: \"defaultValues\",\n    get: function get() {\n      var _this2 = this;\n\n      if (!this._defaultValues) {\n        this._defaultValues = {};\n        Object.entries(this.normalized.properties).filter(function (_ref3) {\n          var v = _ref3[1];\n          return v.hasOwnProperty('default');\n        }).forEach(function (_ref4) {\n          var k = _ref4[0],\n              v = _ref4[1];\n          return _this2._defaultValues[k] = v[\"default\"];\n        });\n      }\n\n      return this._defaultValues;\n    }\n  }, {\n    key: \"encryptedPaths\",\n    get: function get() {\n      if (!this._encryptedPaths) this._encryptedPaths = getEncryptedPaths(this.jsonID);\n      return this._encryptedPaths;\n    }\n  }, {\n    key: \"hash\",\n    get: function get() {\n      if (!this._hash) this._hash = hash(this.normalized);\n      return this._hash;\n    }\n    /**\n     * true if schema contains at least one encrypted path\n     */\n\n  }]);\n\n  return RxSchema;\n}();\n/**\n * returns all encrypted paths of the schema\n */\n\nexport function getEncryptedPaths(jsonSchema) {\n  var ret = {};\n\n  function traverse(currentObj, currentPath) {\n    if (typeof currentObj !== 'object') return;\n\n    if (currentObj.encrypted) {\n      ret[currentPath.substring(1)] = currentObj;\n      return;\n    }\n\n    Object.keys(currentObj).forEach(function (attributeName) {\n      var nextPath = currentPath;\n      if (attributeName !== 'properties') nextPath = nextPath + '.' + attributeName;\n      traverse(currentObj[attributeName], nextPath);\n    });\n  }\n\n  traverse(jsonSchema.properties, '');\n  return ret;\n}\n/**\n * returns true if schema contains an encrypted field\n */\n\nexport function hasCrypt(jsonSchema) {\n  var paths = getEncryptedPaths(jsonSchema);\n  if (Object.keys(paths).length > 0) return true;else return false;\n}\nexport function getIndexes(jsonID) {\n  var flattened = flattenObject(jsonID);\n  var keys = Object.keys(flattened);\n  var indexes = keys // flattenObject returns only ending paths, we need all paths pointing to an object\n  .map(function (key) {\n    var splitted = key.split('.');\n    splitted.pop(); // all but last\n\n    return splitted.join('.');\n  }).filter(function (key) {\n    return key !== '';\n  }).filter(function (elem, pos, arr) {\n    return arr.indexOf(elem) === pos;\n  }) // unique\n  .filter(function (key) {\n    // check if this path defines an index\n    var value = objectPath.get(jsonID, key);\n    if (value.index) return true;else return false;\n  }).map(function (key) {\n    // replace inner properties\n    key = key.replace('properties.', ''); // first\n\n    key = key.replace(/\\.properties\\./g, '.'); // middle\n\n    return [trimDots(key)];\n  }); // add compound-indexes\n\n  var addCompound = jsonID.compoundIndexes || [];\n  indexes = indexes.concat(addCompound);\n  return indexes;\n}\n/**\n * returns the primary path of a jsonschema\n * @return primaryPath which is _id if none defined\n */\n\nexport function getPrimary(jsonID) {\n  var ret = Object.keys(jsonID.properties).filter(function (key) {\n    return jsonID.properties[key].primary;\n  }).shift();\n  if (!ret) return '_id';else return ret;\n}\n/**\n * array with previous version-numbers\n */\n\nexport function getPreviousVersions(schema) {\n  var version = schema.version ? schema.version : 0;\n  var c = 0;\n  return new Array(version).fill(0).map(function () {\n    return c++;\n  });\n}\n/**\n * returns the final-fields of the schema\n * @return field-names of the final-fields\n */\n\nexport function getFinalFields(jsonID) {\n  var ret = Object.keys(jsonID.properties).filter(function (key) {\n    return jsonID.properties[key][\"final\"];\n  }); // primary is also final\n\n  ret.push(getPrimary(jsonID));\n  return ret;\n}\n/**\n * orders the schemas attributes by alphabetical order\n * @return jsonSchema - ordered\n */\n\nexport function normalize(jsonSchema) {\n  return sortObject(clone(jsonSchema));\n}\n/**\n * fills the schema-json with default-settings\n * @return cloned schemaObj\n */\n\nvar fillWithDefaultSettings = function fillWithDefaultSettings(schemaObj) {\n  schemaObj = clone(schemaObj); // additionalProperties is always false\n\n  schemaObj.additionalProperties = false; // fill with key-compression-state ()\n\n  if (!schemaObj.hasOwnProperty('keyCompression')) schemaObj.keyCompression = false; // compoundIndexes must be array\n\n  schemaObj.compoundIndexes = schemaObj.compoundIndexes || []; // required must be array\n\n  schemaObj.required = schemaObj.required || []; // add _rev\n\n  schemaObj.properties._rev = {\n    type: 'string',\n    minLength: 1\n  }; // add attachments\n\n  schemaObj.properties._attachments = {\n    type: 'object'\n  }; // version is 0 by default\n\n  schemaObj.version = schemaObj.version || 0;\n  return schemaObj;\n};\n\nexport function createRxSchema(jsonID) {\n  var runPreCreateHooks = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  if (runPreCreateHooks) runPluginHooks('preCreateRxSchema', jsonID);\n  var schema = new RxSchema(fillWithDefaultSettings(jsonID));\n  runPluginHooks('createRxSchema', schema);\n  return schema;\n}\nexport function isInstanceOf(obj) {\n  return obj instanceof RxSchema;\n}\n","/**\n * handle the en/decryption of documents-data\n */\nimport objectPath from 'object-path';\nimport { clone, pluginMissing } from './util';\nexport var Crypter =\n/*#__PURE__*/\nfunction () {\n  function Crypter(password, schema) {\n    this.password = password;\n    this.schema = schema;\n  }\n  /**\n   * encrypt and stringify data\n   * @overwritten by plugin (optional)\n   */\n\n\n  var _proto = Crypter.prototype;\n\n  _proto._encryptValue = function _encryptValue(_value) {\n    throw pluginMissing('encryption');\n  }\n  /**\n   * decrypt and json-parse an encrypted value\n   * @overwritten by plugin (optional)\n   */\n  ;\n\n  _proto._decryptValue = function _decryptValue(_value) {\n    throw pluginMissing('encryption');\n  };\n\n  _proto.encrypt = function encrypt(obj) {\n    var _this = this;\n\n    obj = clone(obj);\n    if (!this.password) return obj;\n    Object.keys(this.schema.encryptedPaths).forEach(function (path) {\n      var value = objectPath.get(obj, path);\n      if (typeof value === 'undefined') return;\n\n      var encrypted = _this._encryptValue(value);\n\n      objectPath.set(obj, path, encrypted);\n    });\n    return obj;\n  };\n\n  _proto.decrypt = function decrypt(obj) {\n    var _this2 = this;\n\n    obj = clone(obj);\n    if (!this.password) return obj;\n    Object.keys(this.schema.encryptedPaths).forEach(function (path) {\n      var value = objectPath.get(obj, path);\n      if (typeof value === 'undefined') return;\n\n      var decrypted = _this2._decryptValue(value);\n\n      objectPath.set(obj, path, decrypted);\n    });\n    return obj;\n  };\n\n  return Crypter;\n}();\nexport function create(password, schema) {\n  return new Crypter(password, schema);\n}\nexport default {\n  create: create,\n  Crypter: Crypter\n};\n","/**\n * this is copied from\n * @link https://github.com/aheckmann/mquery/blob/master/lib/utils.js\n */\nimport { clone } from '../util';\n/**\n * Merges 'from' into 'to' without overwriting existing properties.\n */\n\nexport function merge(to, from) {\n  Object.keys(from).forEach(function (key) {\n    if (typeof to[key] === 'undefined') {\n      to[key] = from[key];\n    } else {\n      if (isObject(from[key])) merge(to[key], from[key]);else to[key] = from[key];\n    }\n  });\n}\n/**\n * Same as merge but clones the assigned values.\n */\n\nexport function mergeClone(to, from) {\n  Object.keys(from).forEach(function (key) {\n    if ('undefined' === typeof to[key]) {\n      // make sure to retain key order here because of a bug handling the $each\n      // operator in mongodb 2.4.4\n      to[key] = clone(from[key]);\n    } else {\n      if (isObject(from[key])) mergeClone(to[key], from[key]);else {\n        // make sure to retain key order here because of a bug handling the\n        // $each operator in mongodb 2.4.4\n        to[key] = clone(from[key]);\n      }\n    }\n  });\n}\n/**\n * Determines if `arg` is an object.\n */\n\nexport function isObject(arg) {\n  return '[object Object]' === arg.toString();\n}\n","/**\n * this is based on\n * @link https://github.com/aheckmann/mquery/blob/master/lib/mquery.js\n */\nimport { isObject, merge as _merge, mergeClone } from './mquery_utils';\nimport { newRxTypeError, newRxError } from '../rx-error';\nimport { clone as _clone } from '../util';\nexport var MQueryBase =\n/*#__PURE__*/\nfunction () {\n  /**\n   * MQuery constructor used for building queries.\n   *\n   * ####Example:\n   *     var query = new MQuery({ name: 'mquery' });\n   *     query.where('age').gte(21).exec(callback);\n   *\n   */\n  function MQueryBase(criteria) {\n    this.options = {};\n    this._conditions = {};\n    if (criteria) this.find(criteria);\n  }\n  /**\n   * returns a cloned version of the query\n   */\n\n\n  var _proto = MQueryBase.prototype;\n\n  _proto.clone = function clone() {\n    var same = new MQueryBase();\n    Object.entries(this).forEach(function (_ref) {\n      var k = _ref[0],\n          v = _ref[1];\n      return same[k] = _clone(v);\n    });\n    return same;\n  }\n  /**\n   * Specifies a `path` for use with chaining.\n   */\n  ;\n\n  _proto.where = function where(_path, _val) {\n    if (!arguments.length) return this;\n    var type = typeof arguments[0];\n\n    if ('string' === type) {\n      this._path = arguments[0];\n      if (2 === arguments.length) this._conditions[this._path] = arguments[1];\n      return this;\n    }\n\n    if ('object' === type && !Array.isArray(arguments[0])) return this.merge(arguments[0]);\n    throw newRxTypeError('MQ1', {\n      path: arguments[0]\n    });\n  }\n  /**\n   * Specifies the complementary comparison value for paths specified with `where()`\n   * ####Example\n   *     User.where('age').equals(49);\n   */\n  ;\n\n  _proto.equals = function equals(val) {\n    this._ensurePath('equals');\n\n    var path = this._path;\n    this._conditions[path] = val;\n    return this;\n  }\n  /**\n   * Specifies the complementary comparison value for paths specified with `where()`\n   * This is alias of `equals`\n   */\n  ;\n\n  _proto.eq = function eq(val) {\n    this._ensurePath('eq');\n\n    var path = this._path;\n    this._conditions[path] = val;\n    return this;\n  }\n  /**\n   * Specifies arguments for an `$or` condition.\n   * ####Example\n   *     query.or([{ color: 'red' }, { status: 'emergency' }])\n   */\n  ;\n\n  _proto.or = function or(array) {\n    var or = this._conditions.$or || (this._conditions.$or = []);\n    if (!Array.isArray(array)) array = [array];\n    or.push.apply(or, array);\n    return this;\n  }\n  /**\n   * Specifies arguments for a `$nor` condition.\n   * ####Example\n   *     query.nor([{ color: 'green' }, { status: 'ok' }])\n   */\n  ;\n\n  _proto.nor = function nor(array) {\n    var nor = this._conditions.$nor || (this._conditions.$nor = []);\n    if (!Array.isArray(array)) array = [array];\n    nor.push.apply(nor, array);\n    return this;\n  }\n  /**\n   * Specifies arguments for a `$and` condition.\n   * ####Example\n   *     query.and([{ color: 'green' }, { status: 'ok' }])\n   * @see $and http://docs.mongodb.org/manual/reference/operator/and/\n   */\n  ;\n\n  _proto.and = function and(array) {\n    var and = this._conditions.$and || (this._conditions.$and = []);\n    if (!Array.isArray(array)) array = [array];\n    and.push.apply(and, array);\n    return this;\n  }\n  /**\n   * Specifies a `$mod` condition\n   */\n  ;\n\n  _proto.mod = function mod(_path, _val) {\n    var val;\n    var path;\n\n    if (1 === arguments.length) {\n      this._ensurePath('mod');\n\n      val = arguments[0];\n      path = this._path;\n    } else if (2 === arguments.length && !Array.isArray(arguments[1])) {\n      this._ensurePath('mod');\n\n      val = arguments.slice();\n      path = this._path;\n    } else if (3 === arguments.length) {\n      val = arguments.slice(1);\n      path = arguments[0];\n    } else {\n      val = arguments[1];\n      path = arguments[0];\n    }\n\n    var conds = this._conditions[path] || (this._conditions[path] = {});\n    conds.$mod = val;\n    return this;\n  }\n  /**\n   * Specifies an `$exists` condition\n   * ####Example\n   *     // { name: { $exists: true }}\n   *     Thing.where('name').exists()\n   *     Thing.where('name').exists(true)\n   *     Thing.find().exists('name')\n   */\n  ;\n\n  _proto.exists = function exists(_path, _val) {\n    var path;\n    var val;\n\n    if (0 === arguments.length) {\n      this._ensurePath('exists');\n\n      path = this._path;\n      val = true;\n    } else if (1 === arguments.length) {\n      if ('boolean' === typeof arguments[0]) {\n        this._ensurePath('exists');\n\n        path = this._path;\n        val = arguments[0];\n      } else {\n        path = arguments[0];\n        val = true;\n      }\n    } else if (2 === arguments.length) {\n      path = arguments[0];\n      val = arguments[1];\n    }\n\n    var conds = this._conditions[path] || (this._conditions[path] = {});\n    conds.$exists = val;\n    return this;\n  }\n  /**\n   * Specifies an `$elemMatch` condition\n   * ####Example\n   *     query.elemMatch('comment', { author: 'autobot', votes: {$gte: 5}})\n   *     query.where('comment').elemMatch({ author: 'autobot', votes: {$gte: 5}})\n   *     query.elemMatch('comment', function (elem) {\n   *       elem.where('author').equals('autobot');\n   *       elem.where('votes').gte(5);\n   *     })\n   *     query.where('comment').elemMatch(function (elem) {\n   *       elem.where({ author: 'autobot' });\n   *       elem.where('votes').gte(5);\n   *     })\n   */\n  ;\n\n  _proto.elemMatch = function elemMatch(_path, _criteria) {\n    if (null === arguments[0]) throw newRxTypeError('MQ2');\n    var fn;\n    var path;\n    var criteria;\n\n    if ('function' === typeof arguments[0]) {\n      this._ensurePath('elemMatch');\n\n      path = this._path;\n      fn = arguments[0];\n    } else if (isObject(arguments[0])) {\n      this._ensurePath('elemMatch');\n\n      path = this._path;\n      criteria = arguments[0];\n    } else if ('function' === typeof arguments[1]) {\n      path = arguments[0];\n      fn = arguments[1];\n    } else if (arguments[1] && isObject(arguments[1])) {\n      path = arguments[0];\n      criteria = arguments[1];\n    } else throw newRxTypeError('MQ2');\n\n    if (fn) {\n      criteria = new MQueryBase();\n      fn(criteria);\n      criteria = criteria._conditions;\n    }\n\n    var conds = this._conditions[path] || (this._conditions[path] = {});\n    conds.$elemMatch = criteria;\n    return this;\n  }\n  /**\n   * Sets the sort order\n   * If an object is passed, values allowed are 'asc', 'desc', 'ascending', 'descending', 1, and -1.\n   * If a string is passed, it must be a space delimited list of path names.\n   * The sort order of each path is ascending unless the path name is prefixed with `-` which will be treated as descending.\n   * ####Example\n   *     query.sort({ field: 'asc', test: -1 });\n   *     query.sort('field -test');\n   *     query.sort([['field', 1], ['test', -1]]);\n   */\n  ;\n\n  _proto.sort = function sort(arg) {\n    var _this = this;\n\n    if (!arg) return this;\n    var len;\n    var type = typeof arg; // .sort([['field', 1], ['test', -1]])\n\n    if (Array.isArray(arg)) {\n      len = arg.length;\n\n      for (var i = 0; i < arg.length; ++i) {\n        _pushArr(this.options, arg[i][0], arg[i][1]);\n      }\n\n      return this;\n    } // .sort('field -test')\n\n\n    if (1 === arguments.length && 'string' === type) {\n      arg = arg.split(/\\s+/);\n      len = arg.length;\n\n      for (var _i = 0; _i < len; ++_i) {\n        var field = arg[_i];\n        if (!field) continue;\n        var ascend = '-' === field[0] ? -1 : 1;\n        if (ascend === -1) field = field.substring(1);\n        push(this.options, field, ascend);\n      }\n\n      return this;\n    } // .sort({ field: 1, test: -1 })\n\n\n    if (isObject(arg)) {\n      var keys = Object.keys(arg);\n      keys.forEach(function (field) {\n        return push(_this.options, field, arg[field]);\n      });\n      return this;\n    }\n\n    throw newRxTypeError('MQ3', {\n      args: arguments\n    });\n  }\n  /**\n   * Merges another MQuery or conditions object into this one.\n   *\n   * When a MQuery is passed, conditions, field selection and options are merged.\n   *\n   */\n  ;\n\n  _proto.merge = function merge(source) {\n    if (!source) return this;\n\n    if (!canMerge(source)) {\n      throw newRxTypeError('MQ4', {\n        source: source\n      });\n    }\n\n    if (source instanceof MQueryBase) {\n      // if source has a feature, apply it to ourselves\n      if (source._conditions) _merge(this._conditions, source._conditions);\n\n      if (source._fields) {\n        if (!this._fields) this._fields = {};\n\n        _merge(this._fields, source._fields);\n      }\n\n      if (source.options) {\n        if (!this.options) this.options = {};\n\n        _merge(this.options, source.options);\n      }\n\n      if (source._update) {\n        if (!this._update) this._update = {};\n        mergeClone(this._update, source._update);\n      }\n\n      if (source._distinct) this._distinct = source._distinct;\n      return this;\n    } // plain object\n\n\n    _merge(this._conditions, source);\n\n    return this;\n  }\n  /**\n   * Finds documents.\n   * ####Example\n   *     query.find()\n   *     query.find({ name: 'Burning Lights' })\n   */\n  ;\n\n  _proto.find = function find(criteria) {\n    if (canMerge(criteria)) this.merge(criteria);\n    return this;\n  }\n  /**\n   * Make sure _path is set.\n   *\n   * @parmam {String} method\n   */\n  ;\n\n  _proto._ensurePath = function _ensurePath(method) {\n    if (!this._path) {\n      throw newRxError('MQ5', {\n        method: method\n      });\n    }\n  };\n\n  return MQueryBase;\n}();\nexport function createMQuery(criteria) {\n  return new MQueryBase(criteria);\n}\n\n/**\n * limit, skip, maxScan, batchSize, comment\n *\n * Sets these associated options.\n *\n *     query.comment('feed query');\n */\n['limit', 'skip', 'maxScan', 'batchSize', 'comment'].forEach(function (method) {\n  MQueryBase.prototype[method] = function (v) {\n    this.options[method] = v;\n    return this;\n  };\n});\n/**\n * gt, gte, lt, lte, ne, in, nin, all, regex, size, maxDistance\n *\n *     Thing.where('type').nin(array)\n */\n\n['gt', 'gte', 'lt', 'lte', 'ne', 'in', 'nin', 'all', 'regex', 'size'].forEach(function ($conditional) {\n  MQueryBase.prototype[$conditional] = function () {\n    var path;\n    var val;\n\n    if (1 === arguments.length) {\n      this._ensurePath($conditional);\n\n      val = arguments[0];\n      path = this._path;\n    } else {\n      val = arguments[1];\n      path = arguments[0];\n    }\n\n    var conds = this._conditions[path] === null || typeof this._conditions[path] === 'object' ? this._conditions[path] : this._conditions[path] = {};\n    conds['$' + $conditional] = val;\n    return this;\n  };\n});\n/*!\n * @ignore\n */\n\nfunction push(opts, field, value) {\n  if (Array.isArray(opts.sort)) {\n    throw newRxTypeError('MQ6', {\n      opts: opts,\n      field: field,\n      value: value\n    });\n  }\n\n  if (value && value.$meta) {\n    var sort = opts.sort || (opts.sort = {});\n    sort[field] = {\n      $meta: value.$meta\n    };\n    return;\n  }\n\n  var val = String(value || 1).toLowerCase();\n\n  if (!/^(?:ascending|asc|descending|desc|1|-1)$/.test(val)) {\n    if (Array.isArray(value)) value = '[' + value + ']';\n    throw newRxTypeError('MQ7', {\n      field: field,\n      value: value\n    });\n  } // store `sort` in a sane format\n\n\n  var s = opts.sort || (opts.sort = {});\n  var valueStr = value.toString().replace('asc', '1').replace('ascending', '1').replace('desc', '-1').replace('descending', '-1');\n  s[field] = parseInt(valueStr, 10);\n}\n\nfunction _pushArr(opts, field, value) {\n  opts.sort = opts.sort || [];\n\n  if (!Array.isArray(opts.sort)) {\n    throw newRxTypeError('MQ8', {\n      opts: opts,\n      field: field,\n      value: value\n    });\n  }\n  /*    const valueStr = value.toString()\n          .replace('asc', '1')\n          .replace('ascending', '1')\n          .replace('desc', '-1')\n          .replace('descending', '-1');*/\n\n\n  opts.sort.push([field, value]);\n}\n/**\n * Determines if `conds` can be merged using `mquery().merge()`\n */\n\n\nexport function canMerge(conds) {\n  return conds instanceof MQueryBase || isObject(conds);\n}\n","/**\n * For the ORM capabilities,\n * we have to merge the document prototype\n * with the ORM functions and the data\n * We do this itterating over the properties and\n * adding them to a new object.\n * In the future we should do this by chaining the __proto__ objects\n */\nimport { createRxDocumentConstructor, basePrototype, createWithConstructor as createRxDocumentWithConstructor } from './rx-document';\nimport { runPluginHooks } from './hooks'; // caches\n\nvar protoForCollection = new WeakMap();\nvar constructorForCollection = new WeakMap();\nexport function getDocumentPrototype(rxCollection) {\n  if (!protoForCollection.has(rxCollection)) {\n    var schemaProto = rxCollection.schema.getDocumentPrototype();\n    var ormProto = getDocumentOrmPrototype(rxCollection);\n    var baseProto = basePrototype;\n    var proto = {};\n    [schemaProto, ormProto, baseProto].forEach(function (obj) {\n      var props = Object.getOwnPropertyNames(obj);\n      props.forEach(function (key) {\n        var desc = Object.getOwnPropertyDescriptor(obj, key);\n        /**\n         * When enumerable is true, it will show on console.dir(instance)\n         * To not polute the output, only getters and methods are enumerable\n         */\n\n        var enumerable = true;\n        if (key.startsWith('_') || key.endsWith('_') || key.startsWith('$') || key.endsWith('$')) enumerable = false;\n\n        if (typeof desc.value === 'function') {\n          // when getting a function, we automatically do a .bind(this)\n          Object.defineProperty(proto, key, {\n            get: function get() {\n              return desc.value.bind(this);\n            },\n            enumerable: enumerable,\n            configurable: false\n          });\n        } else {\n          desc.enumerable = enumerable;\n          desc.configurable = false;\n          if (desc.writable) desc.writable = false;\n          Object.defineProperty(proto, key, desc);\n        }\n      });\n    });\n    protoForCollection.set(rxCollection, proto);\n  }\n\n  return protoForCollection.get(rxCollection);\n}\nexport function getRxDocumentConstructor(rxCollection) {\n  if (!constructorForCollection.has(rxCollection)) {\n    var ret = createRxDocumentConstructor(getDocumentPrototype(rxCollection));\n    constructorForCollection.set(rxCollection, ret);\n  }\n\n  return constructorForCollection.get(rxCollection);\n}\n/**\n * create a RxDocument-instance from the jsonData\n * and the prototype merge\n */\n\nexport function createRxDocument(rxCollection, docData) {\n  // return from cache if exsists\n  var id = docData[rxCollection.schema.primaryPath];\n\n  var cacheDoc = rxCollection._docCache.get(id);\n\n  if (cacheDoc) return cacheDoc;\n  var doc = createRxDocumentWithConstructor(getRxDocumentConstructor(rxCollection), rxCollection, docData);\n\n  rxCollection._docCache.set(id, doc);\n\n  rxCollection._runHooksSync('post', 'create', docData, doc);\n\n  runPluginHooks('postCreateRxDocument', doc);\n  return doc;\n}\n/**\n * create RxDocument from the docs-array\n */\n\nexport function createRxDocuments(rxCollection, docsJSON) {\n  return docsJSON.map(function (json) {\n    return createRxDocument(rxCollection, json);\n  });\n}\n/**\n * returns the prototype-object\n * that contains the orm-methods,\n * used in the proto-merge\n */\n\nexport function getDocumentOrmPrototype(rxCollection) {\n  var proto = {};\n  Object.entries(rxCollection.methods).forEach(function (_ref) {\n    var k = _ref[0],\n        v = _ref[1];\n    proto[k] = v;\n  });\n  return proto;\n}\n","import _createClass from \"@babel/runtime/helpers/createClass\";\nimport deepEqual from 'deep-equal';\nimport { merge, BehaviorSubject } from 'rxjs';\nimport { mergeMap, filter, map, first, tap } from 'rxjs/operators';\nimport { massageSelector, rowFilter } from 'pouchdb-selector-core';\nimport { createMQuery } from './mquery/mquery';\nimport { sortObject, stringifyFilter, clone, pluginMissing } from './util';\nimport { create as createQueryChangeDetector } from './query-change-detector';\nimport { newRxError, newRxTypeError } from './rx-error';\nimport { runPluginHooks } from './hooks';\nimport { createRxDocuments } from './rx-document-prototype-merge';\nvar _queryCount = 0;\n\nvar newQueryID = function newQueryID() {\n  return ++_queryCount;\n};\n\nexport var RxQueryBase =\n/*#__PURE__*/\nfunction () {\n  function RxQueryBase(op, queryObj, collection) {\n    this.id = newQueryID();\n    this._latestChangeEvent = -1;\n    this._resultsData = null;\n    this._resultsDocs$ = new BehaviorSubject(null);\n    this._execOverDatabaseCount = 0;\n    this._ensureEqualQueue = Promise.resolve(false);\n    this.op = op;\n    this.queryObj = queryObj;\n    this.collection = collection;\n    this._queryChangeDetector = createQueryChangeDetector(this);\n    if (!queryObj) queryObj = _getDefaultQuery(this.collection);\n    this.mquery = createMQuery(queryObj);\n  }\n\n  var _proto = RxQueryBase.prototype;\n\n  _proto.toString = function toString() {\n    if (!this.stringRep) {\n      var stringObj = sortObject({\n        op: this.op,\n        options: this.mquery.options,\n        _conditions: this.mquery._conditions,\n        _path: this.mquery._path,\n        _fields: this.mquery._fields\n      }, true);\n      this.stringRep = JSON.stringify(stringObj, stringifyFilter);\n    }\n\n    return this.stringRep;\n  } // returns a clone of this RxQuery\n  ;\n\n  _proto._clone = function _clone() {\n    var cloned = new RxQueryBase(this.op, _getDefaultQuery(this.collection), this.collection);\n    cloned.mquery = this.mquery.clone();\n    return cloned;\n  }\n  /**\n   * set the new result-data as result-docs of the query\n   * @param newResultData json-docs that were recieved from pouchdb\n   */\n  ;\n\n  _proto._setResultData = function _setResultData(newResultData) {\n    this._resultsData = newResultData;\n    var docs = createRxDocuments(this.collection, this._resultsData);\n\n    this._resultsDocs$.next(docs);\n\n    return docs;\n  }\n  /**\n   * executes the query on the database\n   * @return results-array with document-data\n   */\n  ;\n\n  _proto._execOverDatabase = function _execOverDatabase() {\n    this._execOverDatabaseCount = this._execOverDatabaseCount + 1;\n    var docsPromise;\n\n    switch (this.op) {\n      case 'find':\n        docsPromise = this.collection._pouchFind(this);\n        break;\n\n      case 'findOne':\n        docsPromise = this.collection._pouchFind(this, 1);\n        break;\n\n      default:\n        throw newRxError('QU1', {\n          op: this.op\n        });\n    }\n\n    return docsPromise;\n  }\n  /**\n   * Execute the query\n   * To have an easier implementations,\n   * just subscribe and use the first result\n   */\n  ;\n\n  _proto.exec = function exec() {\n    var _this = this;\n\n    /**\n     * run _ensureEqual() here,\n     * this will make sure that errors in the query which throw inside of pouchdb,\n     * will be thrown at this execution context\n     */\n    return _ensureEqual(this).then(function () {\n      return _this.$.pipe(first()).toPromise();\n    });\n  };\n\n  _proto.toJSON = function toJSON() {\n    if (this._toJSON) return this._toJSON;\n    var primPath = this.collection.schema.primaryPath;\n    var json = {\n      selector: this.mquery._conditions\n    };\n    var options = clone(this.mquery.options); // sort\n\n    if (options.sort) {\n      var sortArray = [];\n      Object.keys(options.sort).map(function (fieldName) {\n        var dirInt = options.sort[fieldName];\n        var dir = 'asc';\n        if (dirInt === -1) dir = 'desc';\n        var pushMe = {}; // TODO run primary-swap somewhere else\n\n        if (fieldName === primPath) fieldName = '_id';\n        pushMe[fieldName] = dir;\n        sortArray.push(pushMe);\n      });\n      json.sort = sortArray;\n    }\n\n    if (options.limit) {\n      if (typeof options.limit !== 'number') {\n        throw newRxTypeError('QU2', {\n          limit: options.limit\n        });\n      }\n\n      json.limit = options.limit;\n    }\n\n    if (options.skip) {\n      if (typeof options.skip !== 'number') {\n        throw newRxTypeError('QU3', {\n          skip: options.skip\n        });\n      }\n\n      json.skip = options.skip;\n    } // strip empty selectors\n\n\n    Object.entries(json.selector).filter(function (_ref) {\n      var v = _ref[1];\n      return typeof v === 'object';\n    }).filter(function (_ref2) {\n      var v = _ref2[1];\n      return v !== null;\n    }).filter(function (_ref3) {\n      var v = _ref3[1];\n      return !Array.isArray(v);\n    }).filter(function (_ref4) {\n      var v = _ref4[1];\n      return Object.keys(v).length === 0;\n    }).forEach(function (_ref5) {\n      var k = _ref5[0];\n      return delete json.selector[k];\n    }); // primary swap\n\n    if (primPath !== '_id' && json.selector[primPath]) {\n      // selector\n      json.selector._id = json.selector[primPath];\n      delete json.selector[primPath];\n    } // if no selector is used, pouchdb has a bug, so we add a default-selector\n\n\n    if (Object.keys(json.selector).length === 0) {\n      json.selector = {\n        _id: {}\n      };\n    }\n\n    this._toJSON = json;\n    return this._toJSON;\n  };\n\n  _proto.keyCompress = function keyCompress() {\n    if (!this.collection.schema.doKeyCompression()) {\n      return this.toJSON();\n    } else {\n      if (!this._keyCompress) {\n        this._keyCompress = this.collection._keyCompressor.compressQuery(this.toJSON());\n      }\n\n      return this._keyCompress;\n    }\n  }\n  /**\n   * returns true if the document matches the query,\n   * does not use the 'skip' and 'limit'\n   */\n  ;\n\n  _proto.doesDocumentDataMatch = function doesDocumentDataMatch(docData) {\n    // if doc is deleted, it cannot match\n    if (docData._deleted) return false;\n    var selector = this.mquery._conditions;\n    docData = this.collection.schema.swapPrimaryToId(docData);\n    var inMemoryFields = Object.keys(selector);\n    var matches = rowFilter(docData, this.massageSelector, inMemoryFields);\n    return matches;\n  }\n  /**\n   * deletes all found documents\n   * @return promise with deleted documents\n   */\n  ;\n\n  _proto.remove = function remove() {\n    var ret;\n    return this.exec().then(function (docs) {\n      ret = docs;\n      if (Array.isArray(docs)) return Promise.all(docs.map(function (doc) {\n        return doc.remove();\n      }));else return docs.remove();\n    }).then(function () {\n      return ret;\n    });\n  }\n  /**\n   * updates all found documents\n   * @overwritten by plugin (optinal)\n   */\n  ;\n\n  _proto.update = function update(_updateObj) {\n    throw pluginMissing('update');\n  }\n  /**\n   * regex cannot run on primary _id\n   * @link https://docs.cloudant.com/cloudant_query.html#creating-selector-expressions\n   */\n  ;\n\n  _proto.regex = function regex(params) {\n    var clonedThis = this._clone();\n\n    if (this.mquery._path === this.collection.schema.primaryPath) {\n      throw newRxError('QU4', {\n        path: this.mquery._path\n      });\n    }\n\n    clonedThis.mquery.regex(params);\n    return _tunnelQueryCache(clonedThis);\n  }\n  /**\n   * make sure it searches index because of pouchdb-find bug\n   * @link https://github.com/nolanlawson/pouchdb-find/issues/204\n   */\n  ;\n\n  _proto.sort = function sort(params) {\n    var clonedThis = this._clone(); // workarround because sort wont work on unused keys\n\n\n    if (typeof params !== 'object') {\n      var checkParam = params.charAt(0) === '-' ? params.substring(1) : params;\n      if (!clonedThis.mquery._conditions[checkParam]) _sortAddToIndex(checkParam, clonedThis);\n    } else {\n      Object.keys(params).filter(function (k) {\n        return !clonedThis.mquery._conditions[k] || !clonedThis.mquery._conditions[k].$gt;\n      }).forEach(function (k) {\n        return _sortAddToIndex(k, clonedThis);\n      });\n    }\n\n    clonedThis.mquery.sort(params);\n    return _tunnelQueryCache(clonedThis);\n  };\n\n  _proto.limit = function limit(amount) {\n    if (this.op === 'findOne') throw newRxError('QU6');else {\n      var clonedThis = this._clone();\n\n      clonedThis.mquery.limit(amount);\n      return _tunnelQueryCache(clonedThis);\n    }\n  };\n\n  _createClass(RxQueryBase, [{\n    key: \"$\",\n    get: function get() {\n      var _this2 = this;\n\n      if (!this._$) {\n        /**\n         * We use _resultsDocs$ to emit new results\n         * This also ensure that there is a reemit on subscribe\n         */\n        var results$ = this._resultsDocs$.pipe(mergeMap(function (docs) {\n          return _ensureEqual(_this2).then(function (hasChanged) {\n            if (hasChanged) return false; // wait for next emit\n            else return docs;\n          });\n        }), filter(function (docs) {\n          return !!docs;\n        }), // not if previous returned false\n        map(function (docs) {\n          // findOne()-queries emit document or null\n          if (_this2.op === 'findOne') {\n            var doc = docs.length === 0 ? null : docs[0];\n            return doc;\n          } else return docs; // find()-queries emit RxDocument[]\n\n        }), map(function (docs) {\n          // copy the array so it wont matter if the user modifies it\n          var ret = Array.isArray(docs) ? docs.slice() : docs;\n          return ret;\n        }))['asObservable']();\n        /**\n         * subscribe to the changeEvent-stream so it detects changed if it has subscribers\n         */\n\n\n        var changeEvents$ = this.collection.docChanges$.pipe(tap(function () {\n          return _ensureEqual(_this2);\n        }), filter(function () {\n          return false;\n        }));\n        this._$ = // tslint:disable-next-line\n        merge(results$, changeEvents$);\n      }\n\n      return this._$;\n    }\n  }, {\n    key: \"massageSelector\",\n    get: function get() {\n      if (!this._massageSelector) {\n        var selector = this.mquery._conditions;\n        this._massageSelector = massageSelector(selector);\n      }\n\n      return this._massageSelector;\n    }\n  }]);\n\n  return RxQueryBase;\n}();\n\nfunction _getDefaultQuery(collection) {\n  var _ref6;\n\n  return _ref6 = {}, _ref6[collection.schema.primaryPath] = {}, _ref6;\n}\n/**\n * run this query through the QueryCache\n */\n\n\nfunction _tunnelQueryCache(rxQuery) {\n  return rxQuery.collection._queryCache.getByQuery(rxQuery);\n}\n/**\n * tunnel the proto-functions of mquery to RxQuery\n */\n\n\nfunction protoMerge(rxQueryProto, mQueryProtoKeys) {\n  mQueryProtoKeys.filter(function (attrName) {\n    return !attrName.startsWith('_');\n  }).filter(function (attrName) {\n    return !rxQueryProto[attrName];\n  }).forEach(function (attrName) {\n    rxQueryProto[attrName] = function (p1) {\n      var clonedThis = this._clone();\n\n      clonedThis.mquery[attrName](p1);\n      return _tunnelQueryCache(clonedThis);\n    };\n  });\n}\n\nvar protoMerged = false;\nexport function createRxQuery(op, queryObj, collection) {\n  // checks\n  if (queryObj && typeof queryObj !== 'object') {\n    throw newRxTypeError('QU7', {\n      queryObj: queryObj\n    });\n  }\n\n  if (Array.isArray(queryObj)) {\n    throw newRxTypeError('QU8', {\n      queryObj: queryObj\n    });\n  }\n\n  var ret = new RxQueryBase(op, queryObj, collection); // ensure when created with same params, only one is created\n\n  ret = _tunnelQueryCache(ret);\n\n  if (!protoMerged) {\n    protoMerged = true;\n    protoMerge(Object.getPrototypeOf(ret), Object.getOwnPropertyNames(Object.getPrototypeOf(ret.mquery)));\n  }\n\n  runPluginHooks('createRxQuery', ret);\n  return ret;\n}\n/**\n * throws an error that says that the key is not in the schema\n */\n\nfunction _throwNotInSchema(key) {\n  throw newRxError('QU5', {\n    key: key\n  });\n}\n/**\n * adds the field of 'sort' to the search-index\n * @link https://github.com/nolanlawson/pouchdb-find/issues/204\n */\n\n\nfunction _sortAddToIndex(checkParam, clonedThis) {\n  var schemaObj = clonedThis.collection.schema.getSchemaByObjectPath(checkParam);\n  if (!schemaObj) _throwNotInSchema(checkParam);\n\n  switch (schemaObj.type) {\n    case 'integer':\n      // TODO change back to -Infinity when issue resolved\n      // @link https://github.com/pouchdb/pouchdb/issues/6454\n      clonedThis.mquery.where(checkParam).gt(-9999999999999999999999999999); // -Infinity does not work since pouchdb 6.2.0\n\n      break;\n\n    case 'string':\n      /**\n       * strings need an empty string, see\n       * @link https://github.com/pubkey/rxdb/issues/585\n       */\n      clonedThis.mquery.where(checkParam).gt('');\n      break;\n\n    default:\n      clonedThis.mquery.where(checkParam).gt(null);\n      break;\n  }\n}\n/**\n * check if the current results-state is in sync with the database\n * @return false if not which means it should re-execute\n */\n\n\nfunction _isResultsInSync(rxQuery) {\n  if (rxQuery._latestChangeEvent >= rxQuery.collection._changeEventBuffer.counter) {\n    return true;\n  } else return false;\n}\n/**\n * wraps __ensureEqual()\n * to ensure it does not run in parallel\n * @return true if has changed, false if not\n */\n\n\nfunction _ensureEqual(rxQuery) {\n  rxQuery._ensureEqualQueue = rxQuery._ensureEqualQueue.then(function () {\n    return new Promise(function (res) {\n      return setTimeout(res, 0);\n    });\n  }).then(function () {\n    return __ensureEqual(rxQuery);\n  }).then(function (ret) {\n    return new Promise(function (res) {\n      return setTimeout(res, 0);\n    }).then(function () {\n      return ret;\n    });\n  });\n  return rxQuery._ensureEqualQueue;\n}\n/**\n * ensures that the results of this query is equal to the results which a query over the database would give\n * @return true if results have changed\n */\n\n\nfunction __ensureEqual(rxQuery) {\n  if (rxQuery.collection.database.destroyed) return false; // db is closed\n\n  if (_isResultsInSync(rxQuery)) return false; // nothing happend\n\n  var ret = false;\n  var mustReExec = false; // if this becomes true, a whole execution over the database is made\n\n  if (rxQuery._latestChangeEvent === -1) mustReExec = true; // have not executed yet -> must run\n\n  /**\n   * try to use the queryChangeDetector to calculate the new results\n   */\n\n  if (!mustReExec) {\n    var missedChangeEvents = rxQuery.collection._changeEventBuffer.getFrom(rxQuery._latestChangeEvent + 1);\n\n    if (missedChangeEvents === null) {\n      // changeEventBuffer is of bounds -> we must re-execute over the database\n      mustReExec = true;\n    } else {\n      rxQuery._latestChangeEvent = rxQuery.collection._changeEventBuffer.counter;\n\n      var runChangeEvents = rxQuery.collection._changeEventBuffer.reduceByLastOfDoc(missedChangeEvents);\n\n      var changeResult = rxQuery._queryChangeDetector.runChangeDetection(runChangeEvents);\n\n      if (!Array.isArray(changeResult) && changeResult) {\n        // could not calculate the new results, execute must be done\n        mustReExec = true;\n      }\n\n      if (Array.isArray(changeResult) && !deepEqual(changeResult, rxQuery._resultsData)) {\n        // we got the new results, we do not have to re-execute, mustReExec stays false\n        ret = true; // true because results changed\n\n        rxQuery._setResultData(changeResult);\n      }\n    }\n  } // oh no we have to re-execute the whole query over the database\n\n\n  if (mustReExec) {\n    // counter can change while _execOverDatabase() is running so we save it here\n    var latestAfter = rxQuery.collection._changeEventBuffer.counter;\n    return rxQuery._execOverDatabase().then(function (newResultData) {\n      rxQuery._latestChangeEvent = latestAfter;\n\n      if (!deepEqual(newResultData, rxQuery._resultsData)) {\n        ret = true; // true because results changed\n\n        rxQuery._setResultData(newResultData);\n      }\n\n      return ret;\n    });\n  }\n\n  return ret; // true if results have changed\n}\n\nexport function isInstanceOf(obj) {\n  return obj instanceof RxQueryBase;\n}\n","// We fetch all leafs of the revision tree, and sort them based on tree length\n// and whether they were deleted, undeleted documents with the longest revision\n// tree (most edits) win\n// The final sort algorithm is slightly documented in a sidebar here:\n// http://guide.couchdb.org/draft/conflicts.html\nfunction winningRev(metadata) {\n  var winningId;\n  var winningPos;\n  var winningDeleted;\n  var toVisit = metadata.rev_tree.slice();\n  var node;\n  while ((node = toVisit.pop())) {\n    var tree = node.ids;\n    var branches = tree[2];\n    var pos = node.pos;\n    if (branches.length) { // non-leaf\n      for (var i = 0, len = branches.length; i < len; i++) {\n        toVisit.push({pos: pos + 1, ids: branches[i]});\n      }\n      continue;\n    }\n    var deleted = !!tree[1].deleted;\n    var id = tree[0];\n    // sort by deleted, then pos, then id\n    if (!winningId || (winningDeleted !== deleted ? winningDeleted :\n        winningPos !== pos ? winningPos < pos : winningId < id)) {\n      winningId = id;\n      winningPos = pos;\n      winningDeleted = deleted;\n    }\n  }\n\n  return winningPos + '-' + winningId;\n}\n\n// Pretty much all below can be combined into a higher order function to\n// traverse revisions\n// The return value from the callback will be passed as context to all\n// children of that node\nfunction traverseRevTree(revs, callback) {\n  var toVisit = revs.slice();\n\n  var node;\n  while ((node = toVisit.pop())) {\n    var pos = node.pos;\n    var tree = node.ids;\n    var branches = tree[2];\n    var newCtx =\n      callback(branches.length === 0, pos, tree[0], node.ctx, tree[1]);\n    for (var i = 0, len = branches.length; i < len; i++) {\n      toVisit.push({pos: pos + 1, ids: branches[i], ctx: newCtx});\n    }\n  }\n}\n\nfunction sortByPos(a, b) {\n  return a.pos - b.pos;\n}\n\nfunction collectLeaves(revs) {\n  var leaves = [];\n  traverseRevTree(revs, function (isLeaf, pos, id, acc, opts) {\n    if (isLeaf) {\n      leaves.push({rev: pos + \"-\" + id, pos: pos, opts: opts});\n    }\n  });\n  leaves.sort(sortByPos).reverse();\n  for (var i = 0, len = leaves.length; i < len; i++) {\n    delete leaves[i].pos;\n  }\n  return leaves;\n}\n\n// returns revs of all conflicts that is leaves such that\n// 1. are not deleted and\n// 2. are different than winning revision\nfunction collectConflicts(metadata) {\n  var win = winningRev(metadata);\n  var leaves = collectLeaves(metadata.rev_tree);\n  var conflicts = [];\n  for (var i = 0, len = leaves.length; i < len; i++) {\n    var leaf = leaves[i];\n    if (leaf.rev !== win && !leaf.opts.deleted) {\n      conflicts.push(leaf.rev);\n    }\n  }\n  return conflicts;\n}\n\n// compact a tree by marking its non-leafs as missing,\n// and return a list of revs to delete\nfunction compactTree(metadata) {\n  var revs = [];\n  traverseRevTree(metadata.rev_tree, function (isLeaf, pos,\n                                               revHash, ctx, opts) {\n    if (opts.status === 'available' && !isLeaf) {\n      revs.push(pos + '-' + revHash);\n      opts.status = 'missing';\n    }\n  });\n  return revs;\n}\n\n// build up a list of all the paths to the leafs in this revision tree\nfunction rootToLeaf(revs) {\n  var paths = [];\n  var toVisit = revs.slice();\n  var node;\n  while ((node = toVisit.pop())) {\n    var pos = node.pos;\n    var tree = node.ids;\n    var id = tree[0];\n    var opts = tree[1];\n    var branches = tree[2];\n    var isLeaf = branches.length === 0;\n\n    var history = node.history ? node.history.slice() : [];\n    history.push({id: id, opts: opts});\n    if (isLeaf) {\n      paths.push({pos: (pos + 1 - history.length), ids: history});\n    }\n    for (var i = 0, len = branches.length; i < len; i++) {\n      toVisit.push({pos: pos + 1, ids: branches[i], history: history});\n    }\n  }\n  return paths.reverse();\n}\n\n// for a better overview of what this is doing, read:\n\nfunction sortByPos$1(a, b) {\n  return a.pos - b.pos;\n}\n\n// classic binary search\nfunction binarySearch(arr, item, comparator) {\n  var low = 0;\n  var high = arr.length;\n  var mid;\n  while (low < high) {\n    mid = (low + high) >>> 1;\n    if (comparator(arr[mid], item) < 0) {\n      low = mid + 1;\n    } else {\n      high = mid;\n    }\n  }\n  return low;\n}\n\n// assuming the arr is sorted, insert the item in the proper place\nfunction insertSorted(arr, item, comparator) {\n  var idx = binarySearch(arr, item, comparator);\n  arr.splice(idx, 0, item);\n}\n\n// Turn a path as a flat array into a tree with a single branch.\n// If any should be stemmed from the beginning of the array, that's passed\n// in as the second argument\nfunction pathToTree(path, numStemmed) {\n  var root;\n  var leaf;\n  for (var i = numStemmed, len = path.length; i < len; i++) {\n    var node = path[i];\n    var currentLeaf = [node.id, node.opts, []];\n    if (leaf) {\n      leaf[2].push(currentLeaf);\n      leaf = currentLeaf;\n    } else {\n      root = leaf = currentLeaf;\n    }\n  }\n  return root;\n}\n\n// compare the IDs of two trees\nfunction compareTree(a, b) {\n  return a[0] < b[0] ? -1 : 1;\n}\n\n// Merge two trees together\n// The roots of tree1 and tree2 must be the same revision\nfunction mergeTree(in_tree1, in_tree2) {\n  var queue = [{tree1: in_tree1, tree2: in_tree2}];\n  var conflicts = false;\n  while (queue.length > 0) {\n    var item = queue.pop();\n    var tree1 = item.tree1;\n    var tree2 = item.tree2;\n\n    if (tree1[1].status || tree2[1].status) {\n      tree1[1].status =\n        (tree1[1].status ===  'available' ||\n        tree2[1].status === 'available') ? 'available' : 'missing';\n    }\n\n    for (var i = 0; i < tree2[2].length; i++) {\n      if (!tree1[2][0]) {\n        conflicts = 'new_leaf';\n        tree1[2][0] = tree2[2][i];\n        continue;\n      }\n\n      var merged = false;\n      for (var j = 0; j < tree1[2].length; j++) {\n        if (tree1[2][j][0] === tree2[2][i][0]) {\n          queue.push({tree1: tree1[2][j], tree2: tree2[2][i]});\n          merged = true;\n        }\n      }\n      if (!merged) {\n        conflicts = 'new_branch';\n        insertSorted(tree1[2], tree2[2][i], compareTree);\n      }\n    }\n  }\n  return {conflicts: conflicts, tree: in_tree1};\n}\n\nfunction doMerge(tree, path, dontExpand) {\n  var restree = [];\n  var conflicts = false;\n  var merged = false;\n  var res;\n\n  if (!tree.length) {\n    return {tree: [path], conflicts: 'new_leaf'};\n  }\n\n  for (var i = 0, len = tree.length; i < len; i++) {\n    var branch = tree[i];\n    if (branch.pos === path.pos && branch.ids[0] === path.ids[0]) {\n      // Paths start at the same position and have the same root, so they need\n      // merged\n      res = mergeTree(branch.ids, path.ids);\n      restree.push({pos: branch.pos, ids: res.tree});\n      conflicts = conflicts || res.conflicts;\n      merged = true;\n    } else if (dontExpand !== true) {\n      // The paths start at a different position, take the earliest path and\n      // traverse up until it as at the same point from root as the path we\n      // want to merge.  If the keys match we return the longer path with the\n      // other merged After stemming we dont want to expand the trees\n\n      var t1 = branch.pos < path.pos ? branch : path;\n      var t2 = branch.pos < path.pos ? path : branch;\n      var diff = t2.pos - t1.pos;\n\n      var candidateParents = [];\n\n      var trees = [];\n      trees.push({ids: t1.ids, diff: diff, parent: null, parentIdx: null});\n      while (trees.length > 0) {\n        var item = trees.pop();\n        if (item.diff === 0) {\n          if (item.ids[0] === t2.ids[0]) {\n            candidateParents.push(item);\n          }\n          continue;\n        }\n        var elements = item.ids[2];\n        for (var j = 0, elementsLen = elements.length; j < elementsLen; j++) {\n          trees.push({\n            ids: elements[j],\n            diff: item.diff - 1,\n            parent: item.ids,\n            parentIdx: j\n          });\n        }\n      }\n\n      var el = candidateParents[0];\n\n      if (!el) {\n        restree.push(branch);\n      } else {\n        res = mergeTree(el.ids, t2.ids);\n        el.parent[2][el.parentIdx] = res.tree;\n        restree.push({pos: t1.pos, ids: t1.ids});\n        conflicts = conflicts || res.conflicts;\n        merged = true;\n      }\n    } else {\n      restree.push(branch);\n    }\n  }\n\n  // We didnt find\n  if (!merged) {\n    restree.push(path);\n  }\n\n  restree.sort(sortByPos$1);\n\n  return {\n    tree: restree,\n    conflicts: conflicts || 'internal_node'\n  };\n}\n\n// To ensure we dont grow the revision tree infinitely, we stem old revisions\nfunction stem(tree, depth) {\n  // First we break out the tree into a complete list of root to leaf paths\n  var paths = rootToLeaf(tree);\n  var stemmedRevs;\n\n  var result;\n  for (var i = 0, len = paths.length; i < len; i++) {\n    // Then for each path, we cut off the start of the path based on the\n    // `depth` to stem to, and generate a new set of flat trees\n    var path = paths[i];\n    var stemmed = path.ids;\n    var node;\n    if (stemmed.length > depth) {\n      // only do the stemming work if we actually need to stem\n      if (!stemmedRevs) {\n        stemmedRevs = {}; // avoid allocating this object unnecessarily\n      }\n      var numStemmed = stemmed.length - depth;\n      node = {\n        pos: path.pos + numStemmed,\n        ids: pathToTree(stemmed, numStemmed)\n      };\n\n      for (var s = 0; s < numStemmed; s++) {\n        var rev = (path.pos + s) + '-' + stemmed[s].id;\n        stemmedRevs[rev] = true;\n      }\n    } else { // no need to actually stem\n      node = {\n        pos: path.pos,\n        ids: pathToTree(stemmed, 0)\n      };\n    }\n\n    // Then we remerge all those flat trees together, ensuring that we dont\n    // connect trees that would go beyond the depth limit\n    if (result) {\n      result = doMerge(result, node, true).tree;\n    } else {\n      result = [node];\n    }\n  }\n\n  // this is memory-heavy per Chrome profiler, avoid unless we actually stemmed\n  if (stemmedRevs) {\n    traverseRevTree(result, function (isLeaf, pos, revHash) {\n      // some revisions may have been removed in a branch but not in another\n      delete stemmedRevs[pos + '-' + revHash];\n    });\n  }\n\n  return {\n    tree: result,\n    revs: stemmedRevs ? Object.keys(stemmedRevs) : []\n  };\n}\n\nfunction merge(tree, path, depth) {\n  var newTree = doMerge(tree, path);\n  var stemmed = stem(newTree.tree, depth);\n  return {\n    tree: stemmed.tree,\n    stemmedRevs: stemmed.revs,\n    conflicts: newTree.conflicts\n  };\n}\n\n// return true if a rev exists in the rev tree, false otherwise\nfunction revExists(revs, rev) {\n  var toVisit = revs.slice();\n  var splitRev = rev.split('-');\n  var targetPos = parseInt(splitRev[0], 10);\n  var targetId = splitRev[1];\n\n  var node;\n  while ((node = toVisit.pop())) {\n    if (node.pos === targetPos && node.ids[0] === targetId) {\n      return true;\n    }\n    var branches = node.ids[2];\n    for (var i = 0, len = branches.length; i < len; i++) {\n      toVisit.push({pos: node.pos + 1, ids: branches[i]});\n    }\n  }\n  return false;\n}\n\nfunction getTrees(node) {\n  return node.ids;\n}\n\n// check if a specific revision of a doc has been deleted\n//  - metadata: the metadata object from the doc store\n//  - rev: (optional) the revision to check. defaults to winning revision\nfunction isDeleted(metadata, rev) {\n  if (!rev) {\n    rev = winningRev(metadata);\n  }\n  var id = rev.substring(rev.indexOf('-') + 1);\n  var toVisit = metadata.rev_tree.map(getTrees);\n\n  var tree;\n  while ((tree = toVisit.pop())) {\n    if (tree[0] === id) {\n      return !!tree[1].deleted;\n    }\n    toVisit = toVisit.concat(tree[2]);\n  }\n}\n\nfunction isLocalId(id) {\n  return (/^_local/).test(id);\n}\n\n// returns the current leaf node for a given revision\nfunction latest(rev, metadata) {\n  var toVisit = metadata.rev_tree.slice();\n  var node;\n  while ((node = toVisit.pop())) {\n    var pos = node.pos;\n    var tree = node.ids;\n    var id = tree[0];\n    var opts = tree[1];\n    var branches = tree[2];\n    var isLeaf = branches.length === 0;\n\n    var history = node.history ? node.history.slice() : [];\n    history.push({id: id, pos: pos, opts: opts});\n\n    if (isLeaf) {\n      for (var i = 0, len = history.length; i < len; i++) {\n        var historyNode = history[i];\n        var historyRev = historyNode.pos + '-' + historyNode.id;\n\n        if (historyRev === rev) {\n          // return the rev of this leaf\n          return pos + '-' + id;\n        }\n      }\n    }\n\n    for (var j = 0, l = branches.length; j < l; j++) {\n      toVisit.push({pos: pos + 1, ids: branches[j], history: history});\n    }\n  }\n\n  /* istanbul ignore next */\n  throw new Error('Unable to resolve latest revision for id ' + metadata.id + ', rev ' + rev);\n}\n\nexport { collectConflicts, collectLeaves, compactTree, isDeleted, isLocalId, merge, revExists, rootToLeaf, traverseRevTree, winningRev, latest };\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","// AbortController was introduced quite a while after fetch and\n// isnt required for PouchDB to function so polyfill if needed\nvar a = (typeof AbortController !== 'undefined')\n    ? AbortController\n    : function () { return {abort: function () {}}; };\n\nvar f = fetch;\nvar h = Headers;\n\nexport { f as fetch, h as Headers, a as AbortController };\n","import { MISSING_DOC, BAD_REQUEST, createError, generateErrorFromResponse } from 'pouchdb-errors';\nimport { matchesSelector } from 'pouchdb-selector-core';\nimport { scopeEval, parseDdocFunctionName, normalizeDdocFunctionName, isRemote } from 'pouchdb-utils';\n\nfunction evalFilter(input) {\n  return scopeEval('\"use strict\";\\nreturn ' + input + ';', {});\n}\n\nfunction evalView(input) {\n  var code = [\n    'return function(doc) {',\n    '  \"use strict\";',\n    '  var emitted = false;',\n    '  var emit = function (a, b) {',\n    '    emitted = true;',\n    '  };',\n    '  var view = ' + input + ';',\n    '  view(doc);',\n    '  if (emitted) {',\n    '    return true;',\n    '  }',\n    '};'\n  ].join('\\n');\n\n  return scopeEval(code, {});\n}\n\nfunction validate(opts, callback) {\n  if (opts.selector) {\n    if (opts.filter && opts.filter !== '_selector') {\n      var filterName = typeof opts.filter === 'string' ?\n        opts.filter : 'function';\n      return callback(new Error('selector invalid for filter \"' + filterName + '\"'));\n    }\n  }\n  callback();\n}\n\nfunction normalize(opts) {\n  if (opts.view && !opts.filter) {\n    opts.filter = '_view';\n  }\n\n  if (opts.selector && !opts.filter) {\n    opts.filter = '_selector';\n  }\n\n  if (opts.filter && typeof opts.filter === 'string') {\n    if (opts.filter === '_view') {\n      opts.view = normalizeDdocFunctionName(opts.view);\n    } else {\n      opts.filter = normalizeDdocFunctionName(opts.filter);\n    }\n  }\n}\n\nfunction shouldFilter(changesHandler, opts) {\n  return opts.filter && typeof opts.filter === 'string' &&\n    !opts.doc_ids && !isRemote(changesHandler.db);\n}\n\nfunction filter(changesHandler, opts) {\n  var callback = opts.complete;\n  if (opts.filter === '_view') {\n    if (!opts.view || typeof opts.view !== 'string') {\n      var err = createError(BAD_REQUEST,\n        '`view` filter parameter not found or invalid.');\n      return callback(err);\n    }\n    // fetch a view from a design doc, make it behave like a filter\n    var viewName = parseDdocFunctionName(opts.view);\n    changesHandler.db.get('_design/' + viewName[0], function (err, ddoc) {\n      /* istanbul ignore if */\n      if (changesHandler.isCancelled) {\n        return callback(null, {status: 'cancelled'});\n      }\n      /* istanbul ignore next */\n      if (err) {\n        return callback(generateErrorFromResponse(err));\n      }\n      var mapFun = ddoc && ddoc.views && ddoc.views[viewName[1]] &&\n        ddoc.views[viewName[1]].map;\n      if (!mapFun) {\n        return callback(createError(MISSING_DOC,\n          (ddoc.views ? 'missing json key: ' + viewName[1] :\n            'missing json key: views')));\n      }\n      opts.filter = evalView(mapFun);\n      changesHandler.doChanges(opts);\n    });\n  } else if (opts.selector) {\n    opts.filter = function (doc) {\n      return matchesSelector(doc, opts.selector);\n    };\n    changesHandler.doChanges(opts);\n  } else {\n    // fetch a filter from a design doc\n    var filterName = parseDdocFunctionName(opts.filter);\n    changesHandler.db.get('_design/' + filterName[0], function (err, ddoc) {\n      /* istanbul ignore if */\n      if (changesHandler.isCancelled) {\n        return callback(null, {status: 'cancelled'});\n      }\n      /* istanbul ignore next */\n      if (err) {\n        return callback(generateErrorFromResponse(err));\n      }\n      var filterFun = ddoc && ddoc.filters && ddoc.filters[filterName[1]];\n      if (!filterFun) {\n        return callback(createError(MISSING_DOC,\n          ((ddoc && ddoc.filters) ? 'missing json key: ' + filterName[1]\n            : 'missing json key: filters')));\n      }\n      opts.filter = evalFilter(filterFun);\n      changesHandler.doChanges(opts);\n    });\n  }\n}\n\nfunction applyChangesFilterPlugin(PouchDB) {\n  PouchDB._changesFilterPlugin = {\n    validate: validate,\n    normalize: normalize,\n    shouldFilter: shouldFilter,\n    filter: filter\n  };\n}\n\nexport default applyChangesFilterPlugin;\n","import { Map } from 'pouchdb-collections';\nimport getArguments from 'argsarray';\nimport { isDeleted, collectLeaves, collectConflicts, traverseRevTree, rootToLeaf, isLocalId } from 'pouchdb-merge';\nimport { MISSING_BULK_DOCS, MISSING_DOC, REV_CONFLICT, INVALID_ID, UNKNOWN_ERROR, QUERY_PARSE_ERROR, BAD_REQUEST, NOT_AN_OBJECT, INVALID_REV, createError } from 'pouchdb-errors';\nimport { clone, listenerCount, once, guardedConsole, rev, isRemote, pick, adapterFun, upsert, bulkGetShim, invalidIdError, nextTick, hasLocalStorage, assign } from 'pouchdb-utils';\nimport inherits from 'inherits';\nimport { EventEmitter } from 'events';\nimport { fetch } from 'pouchdb-fetch';\nimport pouchChangesFilter from 'pouchdb-changes-filter';\n\ninherits(Changes, EventEmitter);\n\nfunction tryCatchInChangeListener(self, change, pending, lastSeq) {\n  // isolate try/catches to avoid V8 deoptimizations\n  try {\n    self.emit('change', change, pending, lastSeq);\n  } catch (e) {\n    guardedConsole('error', 'Error in .on(\"change\", function):', e);\n  }\n}\n\nfunction Changes(db, opts, callback) {\n  EventEmitter.call(this);\n  var self = this;\n  this.db = db;\n  opts = opts ? clone(opts) : {};\n  var complete = opts.complete = once(function (err, resp) {\n    if (err) {\n      if (listenerCount(self, 'error') > 0) {\n        self.emit('error', err);\n      }\n    } else {\n      self.emit('complete', resp);\n    }\n    self.removeAllListeners();\n    db.removeListener('destroyed', onDestroy);\n  });\n  if (callback) {\n    self.on('complete', function (resp) {\n      callback(null, resp);\n    });\n    self.on('error', callback);\n  }\n  function onDestroy() {\n    self.cancel();\n  }\n  db.once('destroyed', onDestroy);\n\n  opts.onChange = function (change, pending, lastSeq) {\n    /* istanbul ignore if */\n    if (self.isCancelled) {\n      return;\n    }\n    tryCatchInChangeListener(self, change, pending, lastSeq);\n  };\n\n  var promise = new Promise(function (fulfill, reject) {\n    opts.complete = function (err, res) {\n      if (err) {\n        reject(err);\n      } else {\n        fulfill(res);\n      }\n    };\n  });\n  self.once('cancel', function () {\n    db.removeListener('destroyed', onDestroy);\n    opts.complete(null, {status: 'cancelled'});\n  });\n  this.then = promise.then.bind(promise);\n  this['catch'] = promise['catch'].bind(promise);\n  this.then(function (result) {\n    complete(null, result);\n  }, complete);\n\n\n\n  if (!db.taskqueue.isReady) {\n    db.taskqueue.addTask(function (failed) {\n      if (failed) {\n        opts.complete(failed);\n      } else if (self.isCancelled) {\n        self.emit('cancel');\n      } else {\n        self.validateChanges(opts);\n      }\n    });\n  } else {\n    self.validateChanges(opts);\n  }\n}\nChanges.prototype.cancel = function () {\n  this.isCancelled = true;\n  if (this.db.taskqueue.isReady) {\n    this.emit('cancel');\n  }\n};\nfunction processChange(doc, metadata, opts) {\n  var changeList = [{rev: doc._rev}];\n  if (opts.style === 'all_docs') {\n    changeList = collectLeaves(metadata.rev_tree)\n    .map(function (x) { return {rev: x.rev}; });\n  }\n  var change = {\n    id: metadata.id,\n    changes: changeList,\n    doc: doc\n  };\n\n  if (isDeleted(metadata, doc._rev)) {\n    change.deleted = true;\n  }\n  if (opts.conflicts) {\n    change.doc._conflicts = collectConflicts(metadata);\n    if (!change.doc._conflicts.length) {\n      delete change.doc._conflicts;\n    }\n  }\n  return change;\n}\n\nChanges.prototype.validateChanges = function (opts) {\n  var callback = opts.complete;\n  var self = this;\n\n  /* istanbul ignore else */\n  if (PouchDB._changesFilterPlugin) {\n    PouchDB._changesFilterPlugin.validate(opts, function (err) {\n      if (err) {\n        return callback(err);\n      }\n      self.doChanges(opts);\n    });\n  } else {\n    self.doChanges(opts);\n  }\n};\n\nChanges.prototype.doChanges = function (opts) {\n  var self = this;\n  var callback = opts.complete;\n\n  opts = clone(opts);\n  if ('live' in opts && !('continuous' in opts)) {\n    opts.continuous = opts.live;\n  }\n  opts.processChange = processChange;\n\n  if (opts.since === 'latest') {\n    opts.since = 'now';\n  }\n  if (!opts.since) {\n    opts.since = 0;\n  }\n  if (opts.since === 'now') {\n    this.db.info().then(function (info) {\n      /* istanbul ignore if */\n      if (self.isCancelled) {\n        callback(null, {status: 'cancelled'});\n        return;\n      }\n      opts.since = info.update_seq;\n      self.doChanges(opts);\n    }, callback);\n    return;\n  }\n\n  /* istanbul ignore else */\n  if (PouchDB._changesFilterPlugin) {\n    PouchDB._changesFilterPlugin.normalize(opts);\n    if (PouchDB._changesFilterPlugin.shouldFilter(this, opts)) {\n      return PouchDB._changesFilterPlugin.filter(this, opts);\n    }\n  } else {\n    ['doc_ids', 'filter', 'selector', 'view'].forEach(function (key) {\n      if (key in opts) {\n        guardedConsole('warn',\n          'The \"' + key + '\" option was passed in to changes/replicate, ' +\n          'but pouchdb-changes-filter plugin is not installed, so it ' +\n          'was ignored. Please install the plugin to enable filtering.'\n        );\n      }\n    });\n  }\n\n  if (!('descending' in opts)) {\n    opts.descending = false;\n  }\n\n  // 0 and 1 should return 1 document\n  opts.limit = opts.limit === 0 ? 1 : opts.limit;\n  opts.complete = callback;\n  var newPromise = this.db._changes(opts);\n  /* istanbul ignore else */\n  if (newPromise && typeof newPromise.cancel === 'function') {\n    var cancel = self.cancel;\n    self.cancel = getArguments(function (args) {\n      newPromise.cancel();\n      cancel.apply(this, args);\n    });\n  }\n};\n\n/*\n * A generic pouch adapter\n */\n\nfunction compare(left, right) {\n  return left < right ? -1 : left > right ? 1 : 0;\n}\n\n// Wrapper for functions that call the bulkdocs api with a single doc,\n// if the first result is an error, return an error\nfunction yankError(callback, docId) {\n  return function (err, results) {\n    if (err || (results[0] && results[0].error)) {\n      err = err || results[0];\n      err.docId = docId;\n      callback(err);\n    } else {\n      callback(null, results.length ? results[0]  : results);\n    }\n  };\n}\n\n// clean docs given to us by the user\nfunction cleanDocs(docs) {\n  for (var i = 0; i < docs.length; i++) {\n    var doc = docs[i];\n    if (doc._deleted) {\n      delete doc._attachments; // ignore atts for deleted docs\n    } else if (doc._attachments) {\n      // filter out extraneous keys from _attachments\n      var atts = Object.keys(doc._attachments);\n      for (var j = 0; j < atts.length; j++) {\n        var att = atts[j];\n        doc._attachments[att] = pick(doc._attachments[att],\n          ['data', 'digest', 'content_type', 'length', 'revpos', 'stub']);\n      }\n    }\n  }\n}\n\n// compare two docs, first by _id then by _rev\nfunction compareByIdThenRev(a, b) {\n  var idCompare = compare(a._id, b._id);\n  if (idCompare !== 0) {\n    return idCompare;\n  }\n  var aStart = a._revisions ? a._revisions.start : 0;\n  var bStart = b._revisions ? b._revisions.start : 0;\n  return compare(aStart, bStart);\n}\n\n// for every node in a revision tree computes its distance from the closest\n// leaf\nfunction computeHeight(revs) {\n  var height = {};\n  var edges = [];\n  traverseRevTree(revs, function (isLeaf, pos, id, prnt) {\n    var rev$$1 = pos + \"-\" + id;\n    if (isLeaf) {\n      height[rev$$1] = 0;\n    }\n    if (prnt !== undefined) {\n      edges.push({from: prnt, to: rev$$1});\n    }\n    return rev$$1;\n  });\n\n  edges.reverse();\n  edges.forEach(function (edge) {\n    if (height[edge.from] === undefined) {\n      height[edge.from] = 1 + height[edge.to];\n    } else {\n      height[edge.from] = Math.min(height[edge.from], 1 + height[edge.to]);\n    }\n  });\n  return height;\n}\n\nfunction allDocsKeysParse(opts) {\n  var keys =  ('limit' in opts) ?\n    opts.keys.slice(opts.skip, opts.limit + opts.skip) :\n    (opts.skip > 0) ? opts.keys.slice(opts.skip) : opts.keys;\n  opts.keys = keys;\n  opts.skip = 0;\n  delete opts.limit;\n  if (opts.descending) {\n    keys.reverse();\n    opts.descending = false;\n  }\n}\n\n// all compaction is done in a queue, to avoid attaching\n// too many listeners at once\nfunction doNextCompaction(self) {\n  var task = self._compactionQueue[0];\n  var opts = task.opts;\n  var callback = task.callback;\n  self.get('_local/compaction').catch(function () {\n    return false;\n  }).then(function (doc) {\n    if (doc && doc.last_seq) {\n      opts.last_seq = doc.last_seq;\n    }\n    self._compact(opts, function (err, res) {\n      /* istanbul ignore if */\n      if (err) {\n        callback(err);\n      } else {\n        callback(null, res);\n      }\n      nextTick(function () {\n        self._compactionQueue.shift();\n        if (self._compactionQueue.length) {\n          doNextCompaction(self);\n        }\n      });\n    });\n  });\n}\n\nfunction attachmentNameError(name) {\n  if (name.charAt(0) === '_') {\n    return name + ' is not a valid attachment name, attachment ' +\n      'names cannot start with \\'_\\'';\n  }\n  return false;\n}\n\ninherits(AbstractPouchDB, EventEmitter);\n\nfunction AbstractPouchDB() {\n  EventEmitter.call(this);\n\n  // re-bind prototyped methods\n  for (var p in AbstractPouchDB.prototype) {\n    if (typeof this[p] === 'function') {\n      this[p] = this[p].bind(this);\n    }\n  }\n}\n\nAbstractPouchDB.prototype.post =\n  adapterFun('post', function (doc, opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n  if (typeof doc !== 'object' || Array.isArray(doc)) {\n    return callback(createError(NOT_AN_OBJECT));\n  }\n  this.bulkDocs({docs: [doc]}, opts, yankError(callback, doc._id));\n});\n\nAbstractPouchDB.prototype.put = adapterFun('put', function (doc, opts, cb) {\n  if (typeof opts === 'function') {\n    cb = opts;\n    opts = {};\n  }\n  if (typeof doc !== 'object' || Array.isArray(doc)) {\n    return cb(createError(NOT_AN_OBJECT));\n  }\n  invalidIdError(doc._id);\n  if (isLocalId(doc._id) && typeof this._putLocal === 'function') {\n    if (doc._deleted) {\n      return this._removeLocal(doc, cb);\n    } else {\n      return this._putLocal(doc, cb);\n    }\n  }\n  var self = this;\n  if (opts.force && doc._rev) {\n    transformForceOptionToNewEditsOption();\n    putDoc(function (err) {\n      var result = err ? null : {ok: true, id: doc._id, rev: doc._rev};\n      cb(err, result);\n    });\n  } else {\n    putDoc(cb);\n  }\n\n  function transformForceOptionToNewEditsOption() {\n    var parts = doc._rev.split('-');\n    var oldRevId = parts[1];\n    var oldRevNum = parseInt(parts[0], 10);\n\n    var newRevNum = oldRevNum + 1;\n    var newRevId = rev();\n\n    doc._revisions = {\n      start: newRevNum,\n      ids: [newRevId, oldRevId]\n    };\n    doc._rev = newRevNum + '-' + newRevId;\n    opts.new_edits = false;\n  }\n  function putDoc(next) {\n    if (typeof self._put === 'function' && opts.new_edits !== false) {\n      self._put(doc, opts, next);\n    } else {\n      self.bulkDocs({docs: [doc]}, opts, yankError(next, doc._id));\n    }\n  }\n});\n\nAbstractPouchDB.prototype.putAttachment =\n  adapterFun('putAttachment', function (docId, attachmentId, rev$$1,\n                                              blob, type) {\n  var api = this;\n  if (typeof type === 'function') {\n    type = blob;\n    blob = rev$$1;\n    rev$$1 = null;\n  }\n  // Lets fix in https://github.com/pouchdb/pouchdb/issues/3267\n  /* istanbul ignore if */\n  if (typeof type === 'undefined') {\n    type = blob;\n    blob = rev$$1;\n    rev$$1 = null;\n  }\n  if (!type) {\n    guardedConsole('warn', 'Attachment', attachmentId, 'on document', docId, 'is missing content_type');\n  }\n\n  function createAttachment(doc) {\n    var prevrevpos = '_rev' in doc ? parseInt(doc._rev, 10) : 0;\n    doc._attachments = doc._attachments || {};\n    doc._attachments[attachmentId] = {\n      content_type: type,\n      data: blob,\n      revpos: ++prevrevpos\n    };\n    return api.put(doc);\n  }\n\n  return api.get(docId).then(function (doc) {\n    if (doc._rev !== rev$$1) {\n      throw createError(REV_CONFLICT);\n    }\n\n    return createAttachment(doc);\n  }, function (err) {\n     // create new doc\n    /* istanbul ignore else */\n    if (err.reason === MISSING_DOC.message) {\n      return createAttachment({_id: docId});\n    } else {\n      throw err;\n    }\n  });\n});\n\nAbstractPouchDB.prototype.removeAttachment =\n  adapterFun('removeAttachment', function (docId, attachmentId, rev$$1,\n                                                 callback) {\n  var self = this;\n  self.get(docId, function (err, obj) {\n    /* istanbul ignore if */\n    if (err) {\n      callback(err);\n      return;\n    }\n    if (obj._rev !== rev$$1) {\n      callback(createError(REV_CONFLICT));\n      return;\n    }\n    /* istanbul ignore if */\n    if (!obj._attachments) {\n      return callback();\n    }\n    delete obj._attachments[attachmentId];\n    if (Object.keys(obj._attachments).length === 0) {\n      delete obj._attachments;\n    }\n    self.put(obj, callback);\n  });\n});\n\nAbstractPouchDB.prototype.remove =\n  adapterFun('remove', function (docOrId, optsOrRev, opts, callback) {\n  var doc;\n  if (typeof optsOrRev === 'string') {\n    // id, rev, opts, callback style\n    doc = {\n      _id: docOrId,\n      _rev: optsOrRev\n    };\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n  } else {\n    // doc, opts, callback style\n    doc = docOrId;\n    if (typeof optsOrRev === 'function') {\n      callback = optsOrRev;\n      opts = {};\n    } else {\n      callback = opts;\n      opts = optsOrRev;\n    }\n  }\n  opts = opts || {};\n  opts.was_delete = true;\n  var newDoc = {_id: doc._id, _rev: (doc._rev || opts.rev)};\n  newDoc._deleted = true;\n  if (isLocalId(newDoc._id) && typeof this._removeLocal === 'function') {\n    return this._removeLocal(doc, callback);\n  }\n  this.bulkDocs({docs: [newDoc]}, opts, yankError(callback, newDoc._id));\n});\n\nAbstractPouchDB.prototype.revsDiff =\n  adapterFun('revsDiff', function (req, opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n  var ids = Object.keys(req);\n\n  if (!ids.length) {\n    return callback(null, {});\n  }\n\n  var count = 0;\n  var missing = new Map();\n\n  function addToMissing(id, revId) {\n    if (!missing.has(id)) {\n      missing.set(id, {missing: []});\n    }\n    missing.get(id).missing.push(revId);\n  }\n\n  function processDoc(id, rev_tree) {\n    // Is this fast enough? Maybe we should switch to a set simulated by a map\n    var missingForId = req[id].slice(0);\n    traverseRevTree(rev_tree, function (isLeaf, pos, revHash, ctx,\n      opts) {\n        var rev$$1 = pos + '-' + revHash;\n        var idx = missingForId.indexOf(rev$$1);\n        if (idx === -1) {\n          return;\n        }\n\n        missingForId.splice(idx, 1);\n        /* istanbul ignore if */\n        if (opts.status !== 'available') {\n          addToMissing(id, rev$$1);\n        }\n      });\n\n    // Traversing the tree is synchronous, so now `missingForId` contains\n    // revisions that were not found in the tree\n    missingForId.forEach(function (rev$$1) {\n      addToMissing(id, rev$$1);\n    });\n  }\n\n  ids.map(function (id) {\n    this._getRevisionTree(id, function (err, rev_tree) {\n      if (err && err.status === 404 && err.message === 'missing') {\n        missing.set(id, {missing: req[id]});\n      } else if (err) {\n        /* istanbul ignore next */\n        return callback(err);\n      } else {\n        processDoc(id, rev_tree);\n      }\n\n      if (++count === ids.length) {\n        // convert LazyMap to object\n        var missingObj = {};\n        missing.forEach(function (value, key) {\n          missingObj[key] = value;\n        });\n        return callback(null, missingObj);\n      }\n    });\n  }, this);\n});\n\n// _bulk_get API for faster replication, as described in\n// https://github.com/apache/couchdb-chttpd/pull/33\n// At the \"abstract\" level, it will just run multiple get()s in\n// parallel, because this isn't much of a performance cost\n// for local databases (except the cost of multiple transactions, which is\n// small). The http adapter overrides this in order\n// to do a more efficient single HTTP request.\nAbstractPouchDB.prototype.bulkGet =\n  adapterFun('bulkGet', function (opts, callback) {\n  bulkGetShim(this, opts, callback);\n});\n\n// compact one document and fire callback\n// by compacting we mean removing all revisions which\n// are further from the leaf in revision tree than max_height\nAbstractPouchDB.prototype.compactDocument =\n  adapterFun('compactDocument', function (docId, maxHeight, callback) {\n  var self = this;\n  this._getRevisionTree(docId, function (err, revTree) {\n    /* istanbul ignore if */\n    if (err) {\n      return callback(err);\n    }\n    var height = computeHeight(revTree);\n    var candidates = [];\n    var revs = [];\n    Object.keys(height).forEach(function (rev$$1) {\n      if (height[rev$$1] > maxHeight) {\n        candidates.push(rev$$1);\n      }\n    });\n\n    traverseRevTree(revTree, function (isLeaf, pos, revHash, ctx, opts) {\n      var rev$$1 = pos + '-' + revHash;\n      if (opts.status === 'available' && candidates.indexOf(rev$$1) !== -1) {\n        revs.push(rev$$1);\n      }\n    });\n    self._doCompaction(docId, revs, callback);\n  });\n});\n\n// compact the whole database using single document\n// compaction\nAbstractPouchDB.prototype.compact =\n  adapterFun('compact', function (opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n\n  var self = this;\n  opts = opts || {};\n\n  self._compactionQueue = self._compactionQueue || [];\n  self._compactionQueue.push({opts: opts, callback: callback});\n  if (self._compactionQueue.length === 1) {\n    doNextCompaction(self);\n  }\n});\nAbstractPouchDB.prototype._compact = function (opts, callback) {\n  var self = this;\n  var changesOpts = {\n    return_docs: false,\n    last_seq: opts.last_seq || 0\n  };\n  var promises = [];\n\n  function onChange(row) {\n    promises.push(self.compactDocument(row.id, 0));\n  }\n  function onComplete(resp) {\n    var lastSeq = resp.last_seq;\n    Promise.all(promises).then(function () {\n      return upsert(self, '_local/compaction', function deltaFunc(doc) {\n        if (!doc.last_seq || doc.last_seq < lastSeq) {\n          doc.last_seq = lastSeq;\n          return doc;\n        }\n        return false; // somebody else got here first, don't update\n      });\n    }).then(function () {\n      callback(null, {ok: true});\n    }).catch(callback);\n  }\n  self.changes(changesOpts)\n    .on('change', onChange)\n    .on('complete', onComplete)\n    .on('error', callback);\n};\n\n/* Begin api wrappers. Specific functionality to storage belongs in the\n   _[method] */\nAbstractPouchDB.prototype.get = adapterFun('get', function (id, opts, cb) {\n  if (typeof opts === 'function') {\n    cb = opts;\n    opts = {};\n  }\n  if (typeof id !== 'string') {\n    return cb(createError(INVALID_ID));\n  }\n  if (isLocalId(id) && typeof this._getLocal === 'function') {\n    return this._getLocal(id, cb);\n  }\n  var leaves = [], self = this;\n\n  function finishOpenRevs() {\n    var result = [];\n    var count = leaves.length;\n    /* istanbul ignore if */\n    if (!count) {\n      return cb(null, result);\n    }\n\n    // order with open_revs is unspecified\n    leaves.forEach(function (leaf) {\n      self.get(id, {\n        rev: leaf,\n        revs: opts.revs,\n        latest: opts.latest,\n        attachments: opts.attachments,\n        binary: opts.binary\n      }, function (err, doc) {\n        if (!err) {\n          // using latest=true can produce duplicates\n          var existing;\n          for (var i = 0, l = result.length; i < l; i++) {\n            if (result[i].ok && result[i].ok._rev === doc._rev) {\n              existing = true;\n              break;\n            }\n          }\n          if (!existing) {\n            result.push({ok: doc});\n          }\n        } else {\n          result.push({missing: leaf});\n        }\n        count--;\n        if (!count) {\n          cb(null, result);\n        }\n      });\n    });\n  }\n\n  if (opts.open_revs) {\n    if (opts.open_revs === \"all\") {\n      this._getRevisionTree(id, function (err, rev_tree) {\n        /* istanbul ignore if */\n        if (err) {\n          return cb(err);\n        }\n        leaves = collectLeaves(rev_tree).map(function (leaf) {\n          return leaf.rev;\n        });\n        finishOpenRevs();\n      });\n    } else {\n      if (Array.isArray(opts.open_revs)) {\n        leaves = opts.open_revs;\n        for (var i = 0; i < leaves.length; i++) {\n          var l = leaves[i];\n          // looks like it's the only thing couchdb checks\n          if (!(typeof (l) === \"string\" && /^\\d+-/.test(l))) {\n            return cb(createError(INVALID_REV));\n          }\n        }\n        finishOpenRevs();\n      } else {\n        return cb(createError(UNKNOWN_ERROR, 'function_clause'));\n      }\n    }\n    return; // open_revs does not like other options\n  }\n\n  return this._get(id, opts, function (err, result) {\n    if (err) {\n      err.docId = id;\n      return cb(err);\n    }\n\n    var doc = result.doc;\n    var metadata = result.metadata;\n    var ctx = result.ctx;\n\n    if (opts.conflicts) {\n      var conflicts = collectConflicts(metadata);\n      if (conflicts.length) {\n        doc._conflicts = conflicts;\n      }\n    }\n\n    if (isDeleted(metadata, doc._rev)) {\n      doc._deleted = true;\n    }\n\n    if (opts.revs || opts.revs_info) {\n      var splittedRev = doc._rev.split('-');\n      var revNo       = parseInt(splittedRev[0], 10);\n      var revHash     = splittedRev[1];\n\n      var paths = rootToLeaf(metadata.rev_tree);\n      var path = null;\n\n      for (var i = 0; i < paths.length; i++) {\n        var currentPath = paths[i];\n        var hashIndex = currentPath.ids.map(function (x) { return x.id; })\n          .indexOf(revHash);\n        var hashFoundAtRevPos = hashIndex === (revNo - 1);\n\n        if (hashFoundAtRevPos || (!path && hashIndex !== -1)) {\n          path = currentPath;\n        }\n      }\n\n      /* istanbul ignore if */\n      if (!path) {\n        err = new Error('invalid rev tree');\n        err.docId = id;\n        return cb(err);\n      }\n\n      var indexOfRev = path.ids.map(function (x) { return x.id; })\n        .indexOf(doc._rev.split('-')[1]) + 1;\n      var howMany = path.ids.length - indexOfRev;\n      path.ids.splice(indexOfRev, howMany);\n      path.ids.reverse();\n\n      if (opts.revs) {\n        doc._revisions = {\n          start: (path.pos + path.ids.length) - 1,\n          ids: path.ids.map(function (rev$$1) {\n            return rev$$1.id;\n          })\n        };\n      }\n      if (opts.revs_info) {\n        var pos =  path.pos + path.ids.length;\n        doc._revs_info = path.ids.map(function (rev$$1) {\n          pos--;\n          return {\n            rev: pos + '-' + rev$$1.id,\n            status: rev$$1.opts.status\n          };\n        });\n      }\n    }\n\n    if (opts.attachments && doc._attachments) {\n      var attachments = doc._attachments;\n      var count = Object.keys(attachments).length;\n      if (count === 0) {\n        return cb(null, doc);\n      }\n      Object.keys(attachments).forEach(function (key) {\n        this._getAttachment(doc._id, key, attachments[key], {\n          // Previously the revision handling was done in adapter.js\n          // getAttachment, however since idb-next doesnt we need to\n          // pass the rev through\n          rev: doc._rev,\n          binary: opts.binary,\n          ctx: ctx\n        }, function (err, data) {\n          var att = doc._attachments[key];\n          att.data = data;\n          delete att.stub;\n          delete att.length;\n          if (!--count) {\n            cb(null, doc);\n          }\n        });\n      }, self);\n    } else {\n      if (doc._attachments) {\n        for (var key in doc._attachments) {\n          /* istanbul ignore else */\n          if (doc._attachments.hasOwnProperty(key)) {\n            doc._attachments[key].stub = true;\n          }\n        }\n      }\n      cb(null, doc);\n    }\n  });\n});\n\n// TODO: I dont like this, it forces an extra read for every\n// attachment read and enforces a confusing api between\n// adapter.js and the adapter implementation\nAbstractPouchDB.prototype.getAttachment =\n  adapterFun('getAttachment', function (docId, attachmentId, opts, callback) {\n  var self = this;\n  if (opts instanceof Function) {\n    callback = opts;\n    opts = {};\n  }\n  this._get(docId, opts, function (err, res) {\n    if (err) {\n      return callback(err);\n    }\n    if (res.doc._attachments && res.doc._attachments[attachmentId]) {\n      opts.ctx = res.ctx;\n      opts.binary = true;\n      self._getAttachment(docId, attachmentId,\n                          res.doc._attachments[attachmentId], opts, callback);\n    } else {\n      return callback(createError(MISSING_DOC));\n    }\n  });\n});\n\nAbstractPouchDB.prototype.allDocs =\n  adapterFun('allDocs', function (opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n  opts.skip = typeof opts.skip !== 'undefined' ? opts.skip : 0;\n  if (opts.start_key) {\n    opts.startkey = opts.start_key;\n  }\n  if (opts.end_key) {\n    opts.endkey = opts.end_key;\n  }\n  if ('keys' in opts) {\n    if (!Array.isArray(opts.keys)) {\n      return callback(new TypeError('options.keys must be an array'));\n    }\n    var incompatibleOpt =\n      ['startkey', 'endkey', 'key'].filter(function (incompatibleOpt) {\n      return incompatibleOpt in opts;\n    })[0];\n    if (incompatibleOpt) {\n      callback(createError(QUERY_PARSE_ERROR,\n        'Query parameter `' + incompatibleOpt +\n        '` is not compatible with multi-get'\n      ));\n      return;\n    }\n    if (!isRemote(this)) {\n      allDocsKeysParse(opts);\n      if (opts.keys.length === 0) {\n        return this._allDocs({limit: 0}, callback);\n      }\n    }\n  }\n\n  return this._allDocs(opts, callback);\n});\n\nAbstractPouchDB.prototype.changes = function (opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n\n  opts = opts || {};\n\n  // By default set return_docs to false if the caller has opts.live = true,\n  // this will prevent us from collecting the set of changes indefinitely\n  // resulting in growing memory\n  opts.return_docs = ('return_docs' in opts) ? opts.return_docs : !opts.live;\n\n  return new Changes(this, opts, callback);\n};\n\nAbstractPouchDB.prototype.close = adapterFun('close', function (callback) {\n  this._closed = true;\n  this.emit('closed');\n  return this._close(callback);\n});\n\nAbstractPouchDB.prototype.info = adapterFun('info', function (callback) {\n  var self = this;\n  this._info(function (err, info) {\n    if (err) {\n      return callback(err);\n    }\n    // assume we know better than the adapter, unless it informs us\n    info.db_name = info.db_name || self.name;\n    info.auto_compaction = !!(self.auto_compaction && !isRemote(self));\n    info.adapter = self.adapter;\n    callback(null, info);\n  });\n});\n\nAbstractPouchDB.prototype.id = adapterFun('id', function (callback) {\n  return this._id(callback);\n});\n\n/* istanbul ignore next */\nAbstractPouchDB.prototype.type = function () {\n  return (typeof this._type === 'function') ? this._type() : this.adapter;\n};\n\nAbstractPouchDB.prototype.bulkDocs =\n  adapterFun('bulkDocs', function (req, opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n\n  opts = opts || {};\n\n  if (Array.isArray(req)) {\n    req = {\n      docs: req\n    };\n  }\n\n  if (!req || !req.docs || !Array.isArray(req.docs)) {\n    return callback(createError(MISSING_BULK_DOCS));\n  }\n\n  for (var i = 0; i < req.docs.length; ++i) {\n    if (typeof req.docs[i] !== 'object' || Array.isArray(req.docs[i])) {\n      return callback(createError(NOT_AN_OBJECT));\n    }\n  }\n\n  var attachmentError;\n  req.docs.forEach(function (doc) {\n    if (doc._attachments) {\n      Object.keys(doc._attachments).forEach(function (name) {\n        attachmentError = attachmentError || attachmentNameError(name);\n        if (!doc._attachments[name].content_type) {\n          guardedConsole('warn', 'Attachment', name, 'on document', doc._id, 'is missing content_type');\n        }\n      });\n    }\n  });\n\n  if (attachmentError) {\n    return callback(createError(BAD_REQUEST, attachmentError));\n  }\n\n  if (!('new_edits' in opts)) {\n    if ('new_edits' in req) {\n      opts.new_edits = req.new_edits;\n    } else {\n      opts.new_edits = true;\n    }\n  }\n\n  var adapter = this;\n  if (!opts.new_edits && !isRemote(adapter)) {\n    // ensure revisions of the same doc are sorted, so that\n    // the local adapter processes them correctly (#2935)\n    req.docs.sort(compareByIdThenRev);\n  }\n\n  cleanDocs(req.docs);\n\n  // in the case of conflicts, we want to return the _ids to the user\n  // however, the underlying adapter may destroy the docs array, so\n  // create a copy here\n  var ids = req.docs.map(function (doc) {\n    return doc._id;\n  });\n\n  return this._bulkDocs(req, opts, function (err, res) {\n    if (err) {\n      return callback(err);\n    }\n    if (!opts.new_edits) {\n      // this is what couch does when new_edits is false\n      res = res.filter(function (x) {\n        return x.error;\n      });\n    }\n    // add ids for error/conflict responses (not required for CouchDB)\n    if (!isRemote(adapter)) {\n      for (var i = 0, l = res.length; i < l; i++) {\n        res[i].id = res[i].id || ids[i];\n      }\n    }\n\n    callback(null, res);\n  });\n});\n\nAbstractPouchDB.prototype.registerDependentDatabase =\n  adapterFun('registerDependentDatabase', function (dependentDb,\n                                                          callback) {\n  var depDB = new this.constructor(dependentDb, this.__opts);\n\n  function diffFun(doc) {\n    doc.dependentDbs = doc.dependentDbs || {};\n    if (doc.dependentDbs[dependentDb]) {\n      return false; // no update required\n    }\n    doc.dependentDbs[dependentDb] = true;\n    return doc;\n  }\n  upsert(this, '_local/_pouch_dependentDbs', diffFun)\n    .then(function () {\n      callback(null, {db: depDB});\n    }).catch(callback);\n});\n\nAbstractPouchDB.prototype.destroy =\n  adapterFun('destroy', function (opts, callback) {\n\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n\n  var self = this;\n  var usePrefix = 'use_prefix' in self ? self.use_prefix : true;\n\n  function destroyDb() {\n    // call destroy method of the particular adaptor\n    self._destroy(opts, function (err, resp) {\n      if (err) {\n        return callback(err);\n      }\n      self._destroyed = true;\n      self.emit('destroyed');\n      callback(null, resp || { 'ok': true });\n    });\n  }\n\n  if (isRemote(self)) {\n    // no need to check for dependent DBs if it's a remote DB\n    return destroyDb();\n  }\n\n  self.get('_local/_pouch_dependentDbs', function (err, localDoc) {\n    if (err) {\n      /* istanbul ignore if */\n      if (err.status !== 404) {\n        return callback(err);\n      } else { // no dependencies\n        return destroyDb();\n      }\n    }\n    var dependentDbs = localDoc.dependentDbs;\n    var PouchDB = self.constructor;\n    var deletedMap = Object.keys(dependentDbs).map(function (name) {\n      // use_prefix is only false in the browser\n      /* istanbul ignore next */\n      var trueName = usePrefix ?\n        name.replace(new RegExp('^' + PouchDB.prefix), '') : name;\n      return new PouchDB(trueName, self.__opts).destroy();\n    });\n    Promise.all(deletedMap).then(destroyDb, callback);\n  });\n});\n\nfunction TaskQueue() {\n  this.isReady = false;\n  this.failed = false;\n  this.queue = [];\n}\n\nTaskQueue.prototype.execute = function () {\n  var fun;\n  if (this.failed) {\n    while ((fun = this.queue.shift())) {\n      fun(this.failed);\n    }\n  } else {\n    while ((fun = this.queue.shift())) {\n      fun();\n    }\n  }\n};\n\nTaskQueue.prototype.fail = function (err) {\n  this.failed = err;\n  this.execute();\n};\n\nTaskQueue.prototype.ready = function (db) {\n  this.isReady = true;\n  this.db = db;\n  this.execute();\n};\n\nTaskQueue.prototype.addTask = function (fun) {\n  this.queue.push(fun);\n  if (this.failed) {\n    this.execute();\n  }\n};\n\nfunction parseAdapter(name, opts) {\n  var match = name.match(/([a-z-]*):\\/\\/(.*)/);\n  if (match) {\n    // the http adapter expects the fully qualified name\n    return {\n      name: /https?/.test(match[1]) ? match[1] + '://' + match[2] : match[2],\n      adapter: match[1]\n    };\n  }\n\n  var adapters = PouchDB.adapters;\n  var preferredAdapters = PouchDB.preferredAdapters;\n  var prefix = PouchDB.prefix;\n  var adapterName = opts.adapter;\n\n  if (!adapterName) { // automatically determine adapter\n    for (var i = 0; i < preferredAdapters.length; ++i) {\n      adapterName = preferredAdapters[i];\n      // check for browsers that have been upgraded from websql-only to websql+idb\n      /* istanbul ignore if */\n      if (adapterName === 'idb' && 'websql' in adapters &&\n          hasLocalStorage() && localStorage['_pouch__websqldb_' + prefix + name]) {\n        // log it, because this can be confusing during development\n        guardedConsole('log', 'PouchDB is downgrading \"' + name + '\" to WebSQL to' +\n          ' avoid data loss, because it was already opened with WebSQL.');\n        continue; // keep using websql to avoid user data loss\n      }\n      break;\n    }\n  }\n\n  var adapter = adapters[adapterName];\n\n  // if adapter is invalid, then an error will be thrown later\n  var usePrefix = (adapter && 'use_prefix' in adapter) ?\n    adapter.use_prefix : true;\n\n  return {\n    name: usePrefix ? (prefix + name) : name,\n    adapter: adapterName\n  };\n}\n\n// OK, so here's the deal. Consider this code:\n//     var db1 = new PouchDB('foo');\n//     var db2 = new PouchDB('foo');\n//     db1.destroy();\n// ^ these two both need to emit 'destroyed' events,\n// as well as the PouchDB constructor itself.\n// So we have one db object (whichever one got destroy() called on it)\n// responsible for emitting the initial event, which then gets emitted\n// by the constructor, which then broadcasts it to any other dbs\n// that may have been created with the same name.\nfunction prepareForDestruction(self) {\n\n  function onDestroyed(from_constructor) {\n    self.removeListener('closed', onClosed);\n    if (!from_constructor) {\n      self.constructor.emit('destroyed', self.name);\n    }\n  }\n\n  function onClosed() {\n    self.removeListener('destroyed', onDestroyed);\n    self.constructor.emit('unref', self);\n  }\n\n  self.once('destroyed', onDestroyed);\n  self.once('closed', onClosed);\n  self.constructor.emit('ref', self);\n}\n\ninherits(PouchDB, AbstractPouchDB);\nfunction PouchDB(name, opts) {\n  // In Node our test suite only tests this for PouchAlt unfortunately\n  /* istanbul ignore if */\n  if (!(this instanceof PouchDB)) {\n    return new PouchDB(name, opts);\n  }\n\n  var self = this;\n  opts = opts || {};\n\n  if (name && typeof name === 'object') {\n    opts = name;\n    name = opts.name;\n    delete opts.name;\n  }\n\n  if (opts.deterministic_revs === undefined) {\n    opts.deterministic_revs = true;\n  }\n\n  this.__opts = opts = clone(opts);\n\n  self.auto_compaction = opts.auto_compaction;\n  self.prefix = PouchDB.prefix;\n\n  if (typeof name !== 'string') {\n    throw new Error('Missing/invalid DB name');\n  }\n\n  var prefixedName = (opts.prefix || '') + name;\n  var backend = parseAdapter(prefixedName, opts);\n\n  opts.name = backend.name;\n  opts.adapter = opts.adapter || backend.adapter;\n\n  self.name = name;\n  self._adapter = opts.adapter;\n  PouchDB.emit('debug', ['adapter', 'Picked adapter: ', opts.adapter]);\n\n  if (!PouchDB.adapters[opts.adapter] ||\n      !PouchDB.adapters[opts.adapter].valid()) {\n    throw new Error('Invalid Adapter: ' + opts.adapter);\n  }\n\n  AbstractPouchDB.call(self);\n  self.taskqueue = new TaskQueue();\n\n  self.adapter = opts.adapter;\n\n  PouchDB.adapters[opts.adapter].call(self, opts, function (err) {\n    if (err) {\n      return self.taskqueue.fail(err);\n    }\n    prepareForDestruction(self);\n\n    self.emit('created', self);\n    PouchDB.emit('created', self.name);\n    self.taskqueue.ready(self);\n  });\n\n}\n\nPouchDB.adapters = {};\nPouchDB.preferredAdapters = [];\n\nPouchDB.prefix = '_pouch_';\n\nvar eventEmitter = new EventEmitter();\n\nfunction setUpEventEmitter(Pouch) {\n  Object.keys(EventEmitter.prototype).forEach(function (key) {\n    if (typeof EventEmitter.prototype[key] === 'function') {\n      Pouch[key] = eventEmitter[key].bind(eventEmitter);\n    }\n  });\n\n  // these are created in constructor.js, and allow us to notify each DB with\n  // the same name that it was destroyed, via the constructor object\n  var destructListeners = Pouch._destructionListeners = new Map();\n\n  Pouch.on('ref', function onConstructorRef(db) {\n    if (!destructListeners.has(db.name)) {\n      destructListeners.set(db.name, []);\n    }\n    destructListeners.get(db.name).push(db);\n  });\n\n  Pouch.on('unref', function onConstructorUnref(db) {\n    if (!destructListeners.has(db.name)) {\n      return;\n    }\n    var dbList = destructListeners.get(db.name);\n    var pos = dbList.indexOf(db);\n    if (pos < 0) {\n      /* istanbul ignore next */\n      return;\n    }\n    dbList.splice(pos, 1);\n    if (dbList.length > 1) {\n      /* istanbul ignore next */\n      destructListeners.set(db.name, dbList);\n    } else {\n      destructListeners.delete(db.name);\n    }\n  });\n\n  Pouch.on('destroyed', function onConstructorDestroyed(name) {\n    if (!destructListeners.has(name)) {\n      return;\n    }\n    var dbList = destructListeners.get(name);\n    destructListeners.delete(name);\n    dbList.forEach(function (db) {\n      db.emit('destroyed',true);\n    });\n  });\n}\n\nsetUpEventEmitter(PouchDB);\n\nPouchDB.adapter = function (id, obj, addToPreferredAdapters) {\n  /* istanbul ignore else */\n  if (obj.valid()) {\n    PouchDB.adapters[id] = obj;\n    if (addToPreferredAdapters) {\n      PouchDB.preferredAdapters.push(id);\n    }\n  }\n};\n\nPouchDB.plugin = function (obj) {\n  if (typeof obj === 'function') { // function style for plugins\n    obj(PouchDB);\n  } else if (typeof obj !== 'object' || Object.keys(obj).length === 0) {\n    throw new Error('Invalid plugin: got \"' + obj + '\", expected an object or a function');\n  } else {\n    Object.keys(obj).forEach(function (id) { // object style for plugins\n      PouchDB.prototype[id] = obj[id];\n    });\n  }\n  if (this.__defaults) {\n    PouchDB.__defaults = assign({}, this.__defaults);\n  }\n  return PouchDB;\n};\n\nPouchDB.defaults = function (defaultOpts) {\n  function PouchAlt(name, opts) {\n    if (!(this instanceof PouchAlt)) {\n      return new PouchAlt(name, opts);\n    }\n\n    opts = opts || {};\n\n    if (name && typeof name === 'object') {\n      opts = name;\n      name = opts.name;\n      delete opts.name;\n    }\n\n    opts = assign({}, PouchAlt.__defaults, opts);\n    PouchDB.call(this, name, opts);\n  }\n\n  inherits(PouchAlt, PouchDB);\n\n  PouchAlt.preferredAdapters = PouchDB.preferredAdapters.slice();\n  Object.keys(PouchDB).forEach(function (key) {\n    if (!(key in PouchAlt)) {\n      PouchAlt[key] = PouchDB[key];\n    }\n  });\n\n  // make default options transitive\n  // https://github.com/pouchdb/pouchdb/issues/5922\n  PouchAlt.__defaults = assign({}, this.__defaults, defaultOpts);\n\n  return PouchAlt;\n};\n\nPouchDB.fetch = function (url, opts) {\n  return fetch(url, opts);\n};\n\n// managed automatically by set-version.js\nvar version = \"7.1.1\";\n\n// TODO: remove from pouchdb-core (breaking)\nPouchDB.plugin(pouchChangesFilter);\n\nPouchDB.version = version;\n\nexport default PouchDB;\n","function mangle(key) {\n  return '$' + key;\n}\nfunction unmangle(key) {\n  return key.substring(1);\n}\nfunction Map$1() {\n  this._store = {};\n}\nMap$1.prototype.get = function (key) {\n  var mangled = mangle(key);\n  return this._store[mangled];\n};\nMap$1.prototype.set = function (key, value) {\n  var mangled = mangle(key);\n  this._store[mangled] = value;\n  return true;\n};\nMap$1.prototype.has = function (key) {\n  var mangled = mangle(key);\n  return mangled in this._store;\n};\nMap$1.prototype.delete = function (key) {\n  var mangled = mangle(key);\n  var res = mangled in this._store;\n  delete this._store[mangled];\n  return res;\n};\nMap$1.prototype.forEach = function (cb) {\n  var keys = Object.keys(this._store);\n  for (var i = 0, len = keys.length; i < len; i++) {\n    var key = keys[i];\n    var value = this._store[key];\n    key = unmangle(key);\n    cb(value, key);\n  }\n};\nObject.defineProperty(Map$1.prototype, 'size', {\n  get: function () {\n    return Object.keys(this._store).length;\n  }\n});\n\nfunction Set$1(array) {\n  this._store = new Map$1();\n\n  // init with an array\n  if (array && Array.isArray(array)) {\n    for (var i = 0, len = array.length; i < len; i++) {\n      this.add(array[i]);\n    }\n  }\n}\nSet$1.prototype.add = function (key) {\n  return this._store.set(key, true);\n};\nSet$1.prototype.has = function (key) {\n  return this._store.has(key);\n};\nSet$1.prototype.forEach = function (cb) {\n  this._store.forEach(function (value, key) {\n    cb(key);\n  });\n};\nObject.defineProperty(Set$1.prototype, 'size', {\n  get: function () {\n    return this._store.size;\n  }\n});\n\n/* global Map,Set,Symbol */\n// Based on https://kangax.github.io/compat-table/es6/ we can sniff out\n// incomplete Map/Set implementations which would otherwise cause our tests to fail.\n// Notably they fail in IE11 and iOS 8.4, which this prevents.\nfunction supportsMapAndSet() {\n  if (typeof Symbol === 'undefined' || typeof Map === 'undefined' || typeof Set === 'undefined') {\n    return false;\n  }\n  var prop = Object.getOwnPropertyDescriptor(Map, Symbol.species);\n  return prop && 'get' in prop && Map[Symbol.species] === Map;\n}\n\n// based on https://github.com/montagejs/collections\n\nvar ExportedSet;\nvar ExportedMap;\n\n{\n  if (supportsMapAndSet()) { // prefer built-in Map/Set\n    ExportedSet = Set;\n    ExportedMap = Map;\n  } else { // fall back to our polyfill\n    ExportedSet = Set$1;\n    ExportedMap = Map$1;\n  }\n}\n\nexport { ExportedSet as Set, ExportedMap as Map };\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","import inherits from 'inherits';\n\ninherits(PouchError, Error);\n\nfunction PouchError(status, error, reason) {\n  Error.call(this, reason);\n  this.status = status;\n  this.name = error;\n  this.message = reason;\n  this.error = true;\n}\n\nPouchError.prototype.toString = function () {\n  return JSON.stringify({\n    status: this.status,\n    name: this.name,\n    message: this.message,\n    reason: this.reason\n  });\n};\n\nvar UNAUTHORIZED = new PouchError(401, 'unauthorized', \"Name or password is incorrect.\");\nvar MISSING_BULK_DOCS = new PouchError(400, 'bad_request', \"Missing JSON list of 'docs'\");\nvar MISSING_DOC = new PouchError(404, 'not_found', 'missing');\nvar REV_CONFLICT = new PouchError(409, 'conflict', 'Document update conflict');\nvar INVALID_ID = new PouchError(400, 'bad_request', '_id field must contain a string');\nvar MISSING_ID = new PouchError(412, 'missing_id', '_id is required for puts');\nvar RESERVED_ID = new PouchError(400, 'bad_request', 'Only reserved document ids may start with underscore.');\nvar NOT_OPEN = new PouchError(412, 'precondition_failed', 'Database not open');\nvar UNKNOWN_ERROR = new PouchError(500, 'unknown_error', 'Database encountered an unknown error');\nvar BAD_ARG = new PouchError(500, 'badarg', 'Some query argument is invalid');\nvar INVALID_REQUEST = new PouchError(400, 'invalid_request', 'Request was invalid');\nvar QUERY_PARSE_ERROR = new PouchError(400, 'query_parse_error', 'Some query parameter is invalid');\nvar DOC_VALIDATION = new PouchError(500, 'doc_validation', 'Bad special document member');\nvar BAD_REQUEST = new PouchError(400, 'bad_request', 'Something wrong with the request');\nvar NOT_AN_OBJECT = new PouchError(400, 'bad_request', 'Document must be a JSON object');\nvar DB_MISSING = new PouchError(404, 'not_found', 'Database not found');\nvar IDB_ERROR = new PouchError(500, 'indexed_db_went_bad', 'unknown');\nvar WSQ_ERROR = new PouchError(500, 'web_sql_went_bad', 'unknown');\nvar LDB_ERROR = new PouchError(500, 'levelDB_went_went_bad', 'unknown');\nvar FORBIDDEN = new PouchError(403, 'forbidden', 'Forbidden by design doc validate_doc_update function');\nvar INVALID_REV = new PouchError(400, 'bad_request', 'Invalid rev format');\nvar FILE_EXISTS = new PouchError(412, 'file_exists', 'The database could not be created, the file already exists.');\nvar MISSING_STUB = new PouchError(412, 'missing_stub', 'A pre-existing attachment stub wasn\\'t found');\nvar INVALID_URL = new PouchError(413, 'invalid_url', 'Provided URL is invalid');\n\nfunction createError(error, reason) {\n  function CustomPouchError(reason) {\n    // inherit error properties from our parent error manually\n    // so as to allow proper JSON parsing.\n    /* jshint ignore:start */\n    for (var p in error) {\n      if (typeof error[p] !== 'function') {\n        this[p] = error[p];\n      }\n    }\n    /* jshint ignore:end */\n    if (reason !== undefined) {\n      this.reason = reason;\n    }\n  }\n  CustomPouchError.prototype = PouchError.prototype;\n  return new CustomPouchError(reason);\n}\n\nfunction generateErrorFromResponse(err) {\n\n  if (typeof err !== 'object') {\n    var data = err;\n    err = UNKNOWN_ERROR;\n    err.data = data;\n  }\n\n  if ('error' in err && err.error === 'conflict') {\n    err.name = 'conflict';\n    err.status = 409;\n  }\n\n  if (!('name' in err)) {\n    err.name = err.error || 'unknown';\n  }\n\n  if (!('status' in err)) {\n    err.status = 500;\n  }\n\n  if (!('message' in err)) {\n    err.message = err.message || err.reason;\n  }\n\n  return err;\n}\n\nexport { UNAUTHORIZED, MISSING_BULK_DOCS, MISSING_DOC, REV_CONFLICT, INVALID_ID, MISSING_ID, RESERVED_ID, NOT_OPEN, UNKNOWN_ERROR, BAD_ARG, INVALID_REQUEST, QUERY_PARSE_ERROR, DOC_VALIDATION, BAD_REQUEST, NOT_AN_OBJECT, DB_MISSING, WSQ_ERROR, LDB_ERROR, FORBIDDEN, INVALID_REV, FILE_EXISTS, MISSING_STUB, IDB_ERROR, INVALID_URL, createError, generateErrorFromResponse };\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && msCrypto.getRandomValues.bind(msCrypto));\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  return bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]];\n}\n\nmodule.exports = bytesToUuid;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n","var thisAtob = function (str) {\n  return atob(str);\n};\n\nvar thisBtoa = function (str) {\n  return btoa(str);\n};\n\n// Abstracts constructing a Blob object, so it also works in older\n// browsers that don't support the native Blob constructor (e.g.\n// old QtWebKit versions, Android < 4.4).\nfunction createBlob(parts, properties) {\n  /* global BlobBuilder,MSBlobBuilder,MozBlobBuilder,WebKitBlobBuilder */\n  parts = parts || [];\n  properties = properties || {};\n  try {\n    return new Blob(parts, properties);\n  } catch (e) {\n    if (e.name !== \"TypeError\") {\n      throw e;\n    }\n    var Builder = typeof BlobBuilder !== 'undefined' ? BlobBuilder :\n                  typeof MSBlobBuilder !== 'undefined' ? MSBlobBuilder :\n                  typeof MozBlobBuilder !== 'undefined' ? MozBlobBuilder :\n                  WebKitBlobBuilder;\n    var builder = new Builder();\n    for (var i = 0; i < parts.length; i += 1) {\n      builder.append(parts[i]);\n    }\n    return builder.getBlob(properties.type);\n  }\n}\n\n// From http://stackoverflow.com/questions/14967647/ (continues on next line)\n// encode-decode-image-with-base64-breaks-image (2013-04-21)\nfunction binaryStringToArrayBuffer(bin) {\n  var length = bin.length;\n  var buf = new ArrayBuffer(length);\n  var arr = new Uint8Array(buf);\n  for (var i = 0; i < length; i++) {\n    arr[i] = bin.charCodeAt(i);\n  }\n  return buf;\n}\n\nfunction binStringToBluffer(binString, type) {\n  return createBlob([binaryStringToArrayBuffer(binString)], {type: type});\n}\n\nfunction b64ToBluffer(b64, type) {\n  return binStringToBluffer(thisAtob(b64), type);\n}\n\n//Can't find original post, but this is close\n//http://stackoverflow.com/questions/6965107/ (continues on next line)\n//converting-between-strings-and-arraybuffers\nfunction arrayBufferToBinaryString(buffer) {\n  var binary = '';\n  var bytes = new Uint8Array(buffer);\n  var length = bytes.byteLength;\n  for (var i = 0; i < length; i++) {\n    binary += String.fromCharCode(bytes[i]);\n  }\n  return binary;\n}\n\n// shim for browsers that don't support it\nfunction readAsBinaryString(blob, callback) {\n  var reader = new FileReader();\n  var hasBinaryString = typeof reader.readAsBinaryString === 'function';\n  reader.onloadend = function (e) {\n    var result = e.target.result || '';\n    if (hasBinaryString) {\n      return callback(result);\n    }\n    callback(arrayBufferToBinaryString(result));\n  };\n  if (hasBinaryString) {\n    reader.readAsBinaryString(blob);\n  } else {\n    reader.readAsArrayBuffer(blob);\n  }\n}\n\nfunction blobToBinaryString(blobOrBuffer, callback) {\n  readAsBinaryString(blobOrBuffer, function (bin) {\n    callback(bin);\n  });\n}\n\nfunction blobToBase64(blobOrBuffer, callback) {\n  blobToBinaryString(blobOrBuffer, function (base64) {\n    callback(thisBtoa(base64));\n  });\n}\n\n// simplified API. universal browser support is assumed\nfunction readAsArrayBuffer(blob, callback) {\n  var reader = new FileReader();\n  reader.onloadend = function (e) {\n    var result = e.target.result || new ArrayBuffer(0);\n    callback(result);\n  };\n  reader.readAsArrayBuffer(blob);\n}\n\n// this is not used in the browser\nfunction typedBuffer() {\n}\n\nexport { thisAtob as atob, thisBtoa as btoa, b64ToBluffer as base64StringToBlobOrBuffer, binaryStringToArrayBuffer, binStringToBluffer as binaryStringToBlobOrBuffer, createBlob as blob, blobToBase64 as blobOrBufferToBase64, blobToBinaryString as blobOrBufferToBinaryString, readAsArrayBuffer, readAsBinaryString, typedBuffer };\n","import { btoa, readAsArrayBuffer } from 'pouchdb-binary-utils';\nimport Md5 from 'spark-md5';\n\nvar setImmediateShim = global.setImmediate || global.setTimeout;\nvar MD5_CHUNK_SIZE = 32768;\n\nfunction rawToBase64(raw) {\n  return btoa(raw);\n}\n\nfunction sliceBlob(blob, start, end) {\n  if (blob.webkitSlice) {\n    return blob.webkitSlice(start, end);\n  }\n  return blob.slice(start, end);\n}\n\nfunction appendBlob(buffer, blob, start, end, callback) {\n  if (start > 0 || end < blob.size) {\n    // only slice blob if we really need to\n    blob = sliceBlob(blob, start, end);\n  }\n  readAsArrayBuffer(blob, function (arrayBuffer) {\n    buffer.append(arrayBuffer);\n    callback();\n  });\n}\n\nfunction appendString(buffer, string, start, end, callback) {\n  if (start > 0 || end < string.length) {\n    // only create a substring if we really need to\n    string = string.substring(start, end);\n  }\n  buffer.appendBinary(string);\n  callback();\n}\n\nfunction binaryMd5(data, callback) {\n  var inputIsString = typeof data === 'string';\n  var len = inputIsString ? data.length : data.size;\n  var chunkSize = Math.min(MD5_CHUNK_SIZE, len);\n  var chunks = Math.ceil(len / chunkSize);\n  var currentChunk = 0;\n  var buffer = inputIsString ? new Md5() : new Md5.ArrayBuffer();\n\n  var append = inputIsString ? appendString : appendBlob;\n\n  function next() {\n    setImmediateShim(loadNextChunk);\n  }\n\n  function done() {\n    var raw = buffer.end(true);\n    var base64 = rawToBase64(raw);\n    callback(base64);\n    buffer.destroy();\n  }\n\n  function loadNextChunk() {\n    var start = currentChunk * chunkSize;\n    var end = start + chunkSize;\n    currentChunk++;\n    if (currentChunk < chunks) {\n      append(buffer, data, start, end, next);\n    } else {\n      append(buffer, data, start, end, done);\n    }\n  }\n  loadNextChunk();\n}\n\nfunction stringMd5(string) {\n  return Md5.hash(string);\n}\n\nexport { binaryMd5, stringMd5 };\n","import getArguments from 'argsarray';\nimport { Map } from 'pouchdb-collections';\nimport immediate from 'immediate';\nimport { EventEmitter } from 'events';\nimport inherits from 'inherits';\nimport { createError, BAD_REQUEST, INVALID_ID, MISSING_ID, RESERVED_ID } from 'pouchdb-errors';\nimport uuidV4 from 'uuid';\nimport { stringMd5 } from 'pouchdb-md5';\nimport { clone } from 'pouchdb-utils';\n\nfunction isBinaryObject(object) {\n  return (typeof ArrayBuffer !== 'undefined' && object instanceof ArrayBuffer) ||\n    (typeof Blob !== 'undefined' && object instanceof Blob);\n}\n\nfunction cloneArrayBuffer(buff) {\n  if (typeof buff.slice === 'function') {\n    return buff.slice(0);\n  }\n  // IE10-11 slice() polyfill\n  var target = new ArrayBuffer(buff.byteLength);\n  var targetArray = new Uint8Array(target);\n  var sourceArray = new Uint8Array(buff);\n  targetArray.set(sourceArray);\n  return target;\n}\n\nfunction cloneBinaryObject(object) {\n  if (object instanceof ArrayBuffer) {\n    return cloneArrayBuffer(object);\n  }\n  var size = object.size;\n  var type = object.type;\n  // Blob\n  if (typeof object.slice === 'function') {\n    return object.slice(0, size, type);\n  }\n  // PhantomJS slice() replacement\n  return object.webkitSlice(0, size, type);\n}\n\n// most of this is borrowed from lodash.isPlainObject:\n// https://github.com/fis-components/lodash.isplainobject/\n// blob/29c358140a74f252aeb08c9eb28bef86f2217d4a/index.js\n\nvar funcToString = Function.prototype.toString;\nvar objectCtorString = funcToString.call(Object);\n\nfunction isPlainObject(value) {\n  var proto = Object.getPrototypeOf(value);\n  /* istanbul ignore if */\n  if (proto === null) { // not sure when this happens, but I guess it can\n    return true;\n  }\n  var Ctor = proto.constructor;\n  return (typeof Ctor == 'function' &&\n    Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString);\n}\n\nfunction clone$1(object) {\n  var newObject;\n  var i;\n  var len;\n\n  if (!object || typeof object !== 'object') {\n    return object;\n  }\n\n  if (Array.isArray(object)) {\n    newObject = [];\n    for (i = 0, len = object.length; i < len; i++) {\n      newObject[i] = clone$1(object[i]);\n    }\n    return newObject;\n  }\n\n  // special case: to avoid inconsistencies between IndexedDB\n  // and other backends, we automatically stringify Dates\n  if (object instanceof Date) {\n    return object.toISOString();\n  }\n\n  if (isBinaryObject(object)) {\n    return cloneBinaryObject(object);\n  }\n\n  if (!isPlainObject(object)) {\n    return object; // don't clone objects like Workers\n  }\n\n  newObject = {};\n  for (i in object) {\n    /* istanbul ignore else */\n    if (Object.prototype.hasOwnProperty.call(object, i)) {\n      var value = clone$1(object[i]);\n      if (typeof value !== 'undefined') {\n        newObject[i] = value;\n      }\n    }\n  }\n  return newObject;\n}\n\nfunction once(fun) {\n  var called = false;\n  return getArguments(function (args) {\n    /* istanbul ignore if */\n    if (called) {\n      // this is a smoke test and should never actually happen\n      throw new Error('once called more than once');\n    } else {\n      called = true;\n      fun.apply(this, args);\n    }\n  });\n}\n\nfunction toPromise(func) {\n  //create the function we will be returning\n  return getArguments(function (args) {\n    // Clone arguments\n    args = clone$1(args);\n    var self = this;\n    // if the last argument is a function, assume its a callback\n    var usedCB = (typeof args[args.length - 1] === 'function') ? args.pop() : false;\n    var promise = new Promise(function (fulfill, reject) {\n      var resp;\n      try {\n        var callback = once(function (err, mesg) {\n          if (err) {\n            reject(err);\n          } else {\n            fulfill(mesg);\n          }\n        });\n        // create a callback for this invocation\n        // apply the function in the orig context\n        args.push(callback);\n        resp = func.apply(self, args);\n        if (resp && typeof resp.then === 'function') {\n          fulfill(resp);\n        }\n      } catch (e) {\n        reject(e);\n      }\n    });\n    // if there is a callback, call it back\n    if (usedCB) {\n      promise.then(function (result) {\n        usedCB(null, result);\n      }, usedCB);\n    }\n    return promise;\n  });\n}\n\nfunction logApiCall(self, name, args) {\n  /* istanbul ignore if */\n  if (self.constructor.listeners('debug').length) {\n    var logArgs = ['api', self.name, name];\n    for (var i = 0; i < args.length - 1; i++) {\n      logArgs.push(args[i]);\n    }\n    self.constructor.emit('debug', logArgs);\n\n    // override the callback itself to log the response\n    var origCallback = args[args.length - 1];\n    args[args.length - 1] = function (err, res) {\n      var responseArgs = ['api', self.name, name];\n      responseArgs = responseArgs.concat(\n        err ? ['error', err] : ['success', res]\n      );\n      self.constructor.emit('debug', responseArgs);\n      origCallback(err, res);\n    };\n  }\n}\n\nfunction adapterFun(name, callback) {\n  return toPromise(getArguments(function (args) {\n    if (this._closed) {\n      return Promise.reject(new Error('database is closed'));\n    }\n    if (this._destroyed) {\n      return Promise.reject(new Error('database is destroyed'));\n    }\n    var self = this;\n    logApiCall(self, name, args);\n    if (!this.taskqueue.isReady) {\n      return new Promise(function (fulfill, reject) {\n        self.taskqueue.addTask(function (failed) {\n          if (failed) {\n            reject(failed);\n          } else {\n            fulfill(self[name].apply(self, args));\n          }\n        });\n      });\n    }\n    return callback.apply(this, args);\n  }));\n}\n\n// like underscore/lodash _.pick()\nfunction pick(obj, arr) {\n  var res = {};\n  for (var i = 0, len = arr.length; i < len; i++) {\n    var prop = arr[i];\n    if (prop in obj) {\n      res[prop] = obj[prop];\n    }\n  }\n  return res;\n}\n\n// Most browsers throttle concurrent requests at 6, so it's silly\n// to shim _bulk_get by trying to launch potentially hundreds of requests\n// and then letting the majority time out. We can handle this ourselves.\nvar MAX_NUM_CONCURRENT_REQUESTS = 6;\n\nfunction identityFunction(x) {\n  return x;\n}\n\nfunction formatResultForOpenRevsGet(result) {\n  return [{\n    ok: result\n  }];\n}\n\n// shim for P/CouchDB adapters that don't directly implement _bulk_get\nfunction bulkGet(db, opts, callback) {\n  var requests = opts.docs;\n\n  // consolidate into one request per doc if possible\n  var requestsById = new Map();\n  requests.forEach(function (request) {\n    if (requestsById.has(request.id)) {\n      requestsById.get(request.id).push(request);\n    } else {\n      requestsById.set(request.id, [request]);\n    }\n  });\n\n  var numDocs = requestsById.size;\n  var numDone = 0;\n  var perDocResults = new Array(numDocs);\n\n  function collapseResultsAndFinish() {\n    var results = [];\n    perDocResults.forEach(function (res) {\n      res.docs.forEach(function (info) {\n        results.push({\n          id: res.id,\n          docs: [info]\n        });\n      });\n    });\n    callback(null, {results: results});\n  }\n\n  function checkDone() {\n    if (++numDone === numDocs) {\n      collapseResultsAndFinish();\n    }\n  }\n\n  function gotResult(docIndex, id, docs) {\n    perDocResults[docIndex] = {id: id, docs: docs};\n    checkDone();\n  }\n\n  var allRequests = [];\n  requestsById.forEach(function (value, key) {\n    allRequests.push(key);\n  });\n\n  var i = 0;\n\n  function nextBatch() {\n\n    if (i >= allRequests.length) {\n      return;\n    }\n\n    var upTo = Math.min(i + MAX_NUM_CONCURRENT_REQUESTS, allRequests.length);\n    var batch = allRequests.slice(i, upTo);\n    processBatch(batch, i);\n    i += batch.length;\n  }\n\n  function processBatch(batch, offset) {\n    batch.forEach(function (docId, j) {\n      var docIdx = offset + j;\n      var docRequests = requestsById.get(docId);\n\n      // just use the first request as the \"template\"\n      // TODO: The _bulk_get API allows for more subtle use cases than this,\n      // but for now it is unlikely that there will be a mix of different\n      // \"atts_since\" or \"attachments\" in the same request, since it's just\n      // replicate.js that is using this for the moment.\n      // Also, atts_since is aspirational, since we don't support it yet.\n      var docOpts = pick(docRequests[0], ['atts_since', 'attachments']);\n      docOpts.open_revs = docRequests.map(function (request) {\n        // rev is optional, open_revs disallowed\n        return request.rev;\n      });\n\n      // remove falsey / undefined revisions\n      docOpts.open_revs = docOpts.open_revs.filter(identityFunction);\n\n      var formatResult = identityFunction;\n\n      if (docOpts.open_revs.length === 0) {\n        delete docOpts.open_revs;\n\n        // when fetching only the \"winning\" leaf,\n        // transform the result so it looks like an open_revs\n        // request\n        formatResult = formatResultForOpenRevsGet;\n      }\n\n      // globally-supplied options\n      ['revs', 'attachments', 'binary', 'ajax', 'latest'].forEach(function (param) {\n        if (param in opts) {\n          docOpts[param] = opts[param];\n        }\n      });\n      db.get(docId, docOpts, function (err, res) {\n        var result;\n        /* istanbul ignore if */\n        if (err) {\n          result = [{error: err}];\n        } else {\n          result = formatResult(res);\n        }\n        gotResult(docIdx, docId, result);\n        nextBatch();\n      });\n    });\n  }\n\n  nextBatch();\n\n}\n\nvar hasLocal;\n\ntry {\n  localStorage.setItem('_pouch_check_localstorage', 1);\n  hasLocal = !!localStorage.getItem('_pouch_check_localstorage');\n} catch (e) {\n  hasLocal = false;\n}\n\nfunction hasLocalStorage() {\n  return hasLocal;\n}\n\n// Custom nextTick() shim for browsers. In node, this will just be process.nextTick(). We\n\ninherits(Changes, EventEmitter);\n\n/* istanbul ignore next */\nfunction attachBrowserEvents(self) {\n  if (hasLocalStorage()) {\n    addEventListener(\"storage\", function (e) {\n      self.emit(e.key);\n    });\n  }\n}\n\nfunction Changes() {\n  EventEmitter.call(this);\n  this._listeners = {};\n\n  attachBrowserEvents(this);\n}\nChanges.prototype.addListener = function (dbName, id, db, opts) {\n  /* istanbul ignore if */\n  if (this._listeners[id]) {\n    return;\n  }\n  var self = this;\n  var inprogress = false;\n  function eventFunction() {\n    /* istanbul ignore if */\n    if (!self._listeners[id]) {\n      return;\n    }\n    if (inprogress) {\n      inprogress = 'waiting';\n      return;\n    }\n    inprogress = true;\n    var changesOpts = pick(opts, [\n      'style', 'include_docs', 'attachments', 'conflicts', 'filter',\n      'doc_ids', 'view', 'since', 'query_params', 'binary', 'return_docs'\n    ]);\n\n    /* istanbul ignore next */\n    function onError() {\n      inprogress = false;\n    }\n\n    db.changes(changesOpts).on('change', function (c) {\n      if (c.seq > opts.since && !opts.cancelled) {\n        opts.since = c.seq;\n        opts.onChange(c);\n      }\n    }).on('complete', function () {\n      if (inprogress === 'waiting') {\n        immediate(eventFunction);\n      }\n      inprogress = false;\n    }).on('error', onError);\n  }\n  this._listeners[id] = eventFunction;\n  this.on(dbName, eventFunction);\n};\n\nChanges.prototype.removeListener = function (dbName, id) {\n  /* istanbul ignore if */\n  if (!(id in this._listeners)) {\n    return;\n  }\n  EventEmitter.prototype.removeListener.call(this, dbName,\n    this._listeners[id]);\n  delete this._listeners[id];\n};\n\n\n/* istanbul ignore next */\nChanges.prototype.notifyLocalWindows = function (dbName) {\n  //do a useless change on a storage thing\n  //in order to get other windows's listeners to activate\n  if (hasLocalStorage()) {\n    localStorage[dbName] = (localStorage[dbName] === \"a\") ? \"b\" : \"a\";\n  }\n};\n\nChanges.prototype.notify = function (dbName) {\n  this.emit(dbName);\n  this.notifyLocalWindows(dbName);\n};\n\nfunction guardedConsole(method) {\n  /* istanbul ignore else */\n  if (typeof console !== 'undefined' && typeof console[method] === 'function') {\n    var args = Array.prototype.slice.call(arguments, 1);\n    console[method].apply(console, args);\n  }\n}\n\nfunction randomNumber(min, max) {\n  var maxTimeout = 600000; // Hard-coded default of 10 minutes\n  min = parseInt(min, 10) || 0;\n  max = parseInt(max, 10);\n  if (max !== max || max <= min) {\n    max = (min || 1) << 1; //doubling\n  } else {\n    max = max + 1;\n  }\n  // In order to not exceed maxTimeout, pick a random value between half of maxTimeout and maxTimeout\n  if (max > maxTimeout) {\n    min = maxTimeout >> 1; // divide by two\n    max = maxTimeout;\n  }\n  var ratio = Math.random();\n  var range = max - min;\n\n  return ~~(range * ratio + min); // ~~ coerces to an int, but fast.\n}\n\nfunction defaultBackOff(min) {\n  var max = 0;\n  if (!min) {\n    max = 2000;\n  }\n  return randomNumber(min, max);\n}\n\n// designed to give info to browser users, who are disturbed\n// when they see http errors in the console\nfunction explainError(status, str) {\n  guardedConsole('info', 'The above ' + status + ' is totally normal. ' + str);\n}\n\nvar assign;\n{\n  if (typeof Object.assign === 'function') {\n    assign = Object.assign;\n  } else {\n    // lite Object.assign polyfill based on\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n    assign = function (target) {\n      var to = Object(target);\n\n      for (var index = 1; index < arguments.length; index++) {\n        var nextSource = arguments[index];\n\n        if (nextSource != null) { // Skip over if undefined or null\n          for (var nextKey in nextSource) {\n            // Avoid bugs when hasOwnProperty is shadowed\n            if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n              to[nextKey] = nextSource[nextKey];\n            }\n          }\n        }\n      }\n      return to;\n    };\n  }\n}\n\nvar assign$1 = assign;\n\nfunction tryFilter(filter, doc, req) {\n  try {\n    return !filter(doc, req);\n  } catch (err) {\n    var msg = 'Filter function threw: ' + err.toString();\n    return createError(BAD_REQUEST, msg);\n  }\n}\n\nfunction filterChange(opts) {\n  var req = {};\n  var hasFilter = opts.filter && typeof opts.filter === 'function';\n  req.query = opts.query_params;\n\n  return function filter(change) {\n    if (!change.doc) {\n      // CSG sends events on the changes feed that don't have documents,\n      // this hack makes a whole lot of existing code robust.\n      change.doc = {};\n    }\n\n    var filterReturn = hasFilter && tryFilter(opts.filter, change.doc, req);\n\n    if (typeof filterReturn === 'object') {\n      return filterReturn;\n    }\n\n    if (filterReturn) {\n      return false;\n    }\n\n    if (!opts.include_docs) {\n      delete change.doc;\n    } else if (!opts.attachments) {\n      for (var att in change.doc._attachments) {\n        /* istanbul ignore else */\n        if (change.doc._attachments.hasOwnProperty(att)) {\n          change.doc._attachments[att].stub = true;\n        }\n      }\n    }\n    return true;\n  };\n}\n\nfunction flatten(arrs) {\n  var res = [];\n  for (var i = 0, len = arrs.length; i < len; i++) {\n    res = res.concat(arrs[i]);\n  }\n  return res;\n}\n\n// shim for Function.prototype.name,\n// for browsers that don't support it like IE\n\n/* istanbul ignore next */\nfunction f() {}\n\nvar hasName = f.name;\nvar res;\n\n// We dont run coverage in IE\n/* istanbul ignore else */\nif (hasName) {\n  res = function (fun) {\n    return fun.name;\n  };\n} else {\n  res = function (fun) {\n    var match = fun.toString().match(/^\\s*function\\s*(?:(\\S+)\\s*)?\\(/);\n    if (match && match[1]) {\n      return match[1];\n    }\n    else {\n      return '';\n    }\n  };\n}\n\nvar res$1 = res;\n\n// Determine id an ID is valid\n//   - invalid IDs begin with an underescore that does not begin '_design' or\n//     '_local'\n//   - any other string value is a valid id\n// Returns the specific error object for each case\nfunction invalidIdError(id) {\n  var err;\n  if (!id) {\n    err = createError(MISSING_ID);\n  } else if (typeof id !== 'string') {\n    err = createError(INVALID_ID);\n  } else if (/^_/.test(id) && !(/^_(design|local)/).test(id)) {\n    err = createError(RESERVED_ID);\n  }\n  if (err) {\n    throw err;\n  }\n}\n\n// Checks if a PouchDB object is \"remote\" or not. This is\n\nfunction isRemote(db) {\n  if (typeof db._remote === 'boolean') {\n    return db._remote;\n  }\n  /* istanbul ignore next */\n  if (typeof db.type === 'function') {\n    guardedConsole('warn',\n      'db.type() is deprecated and will be removed in ' +\n      'a future version of PouchDB');\n    return db.type() === 'http';\n  }\n  /* istanbul ignore next */\n  return false;\n}\n\nfunction listenerCount(ee, type) {\n  return 'listenerCount' in ee ? ee.listenerCount(type) :\n                                 EventEmitter.listenerCount(ee, type);\n}\n\nfunction parseDesignDocFunctionName(s) {\n  if (!s) {\n    return null;\n  }\n  var parts = s.split('/');\n  if (parts.length === 2) {\n    return parts;\n  }\n  if (parts.length === 1) {\n    return [s, s];\n  }\n  return null;\n}\n\nfunction normalizeDesignDocFunctionName(s) {\n  var normalized = parseDesignDocFunctionName(s);\n  return normalized ? normalized.join('/') : null;\n}\n\n// originally parseUri 1.2.2, now patched by us\n// (c) Steven Levithan <stevenlevithan.com>\n// MIT License\nvar keys = [\"source\", \"protocol\", \"authority\", \"userInfo\", \"user\", \"password\",\n    \"host\", \"port\", \"relative\", \"path\", \"directory\", \"file\", \"query\", \"anchor\"];\nvar qName =\"queryKey\";\nvar qParser = /(?:^|&)([^&=]*)=?([^&]*)/g;\n\n// use the \"loose\" parser\n/* eslint maxlen: 0, no-useless-escape: 0 */\nvar parser = /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\nfunction parseUri(str) {\n  var m = parser.exec(str);\n  var uri = {};\n  var i = 14;\n\n  while (i--) {\n    var key = keys[i];\n    var value = m[i] || \"\";\n    var encoded = ['user', 'password'].indexOf(key) !== -1;\n    uri[key] = encoded ? decodeURIComponent(value) : value;\n  }\n\n  uri[qName] = {};\n  uri[keys[12]].replace(qParser, function ($0, $1, $2) {\n    if ($1) {\n      uri[qName][$1] = $2;\n    }\n  });\n\n  return uri;\n}\n\n// Based on https://github.com/alexdavid/scope-eval v0.0.3\n// (source: https://unpkg.com/scope-eval@0.0.3/scope_eval.js)\n// This is basically just a wrapper around new Function()\n\nfunction scopeEval(source, scope) {\n  var keys = [];\n  var values = [];\n  for (var key in scope) {\n    if (scope.hasOwnProperty(key)) {\n      keys.push(key);\n      values.push(scope[key]);\n    }\n  }\n  keys.push(source);\n  return Function.apply(null, keys).apply(null, values);\n}\n\n// this is essentially the \"update sugar\" function from daleharvey/pouchdb#1388\n// the diffFun tells us what delta to apply to the doc.  it either returns\n// the doc, or false if it doesn't need to do an update after all\nfunction upsert(db, docId, diffFun) {\n  return new Promise(function (fulfill, reject) {\n    db.get(docId, function (err, doc) {\n      if (err) {\n        /* istanbul ignore next */\n        if (err.status !== 404) {\n          return reject(err);\n        }\n        doc = {};\n      }\n\n      // the user might change the _rev, so save it for posterity\n      var docRev = doc._rev;\n      var newDoc = diffFun(doc);\n\n      if (!newDoc) {\n        // if the diffFun returns falsy, we short-circuit as\n        // an optimization\n        return fulfill({updated: false, rev: docRev});\n      }\n\n      // users aren't allowed to modify these values,\n      // so reset them here\n      newDoc._id = docId;\n      newDoc._rev = docRev;\n      fulfill(tryAndPut(db, newDoc, diffFun));\n    });\n  });\n}\n\nfunction tryAndPut(db, doc, diffFun) {\n  return db.put(doc).then(function (res) {\n    return {\n      updated: true,\n      rev: res.rev\n    };\n  }, function (err) {\n    /* istanbul ignore next */\n    if (err.status !== 409) {\n      throw err;\n    }\n    return upsert(db, doc._id, diffFun);\n  });\n}\n\nfunction rev(doc, deterministic_revs) {\n  var clonedDoc = clone(doc);\n  if (!deterministic_revs) {\n    return uuidV4.v4().replace(/-/g, '').toLowerCase();\n  }\n\n  delete clonedDoc._rev_tree;\n  return stringMd5(JSON.stringify(clonedDoc));\n}\n\nvar uuid = uuidV4.v4;\n\nexport { adapterFun, assign$1 as assign, bulkGet as bulkGetShim, Changes as changesHandler, clone$1 as clone, defaultBackOff, explainError, filterChange, flatten, res$1 as functionName, guardedConsole, hasLocalStorage, invalidIdError, isRemote, listenerCount, immediate as nextTick, normalizeDesignDocFunctionName as normalizeDdocFunctionName, once, parseDesignDocFunctionName as parseDdocFunctionName, parseUri, pick, rev, scopeEval, toPromise, upsert, uuid };\n","// AbortController was introduced quite a while after fetch and\n// isnt required for PouchDB to function so polyfill if needed\nvar a = (typeof AbortController !== 'undefined')\n    ? AbortController\n    : function () { return {abort: function () {}}; };\n\nvar f = fetch;\nvar h = Headers;\n\nexport { f as fetch, h as Headers, a as AbortController };\n","function pad(str, padWith, upToLength) {\n  var padding = '';\n  var targetLength = upToLength - str.length;\n  /* istanbul ignore next */\n  while (padding.length < targetLength) {\n    padding += padWith;\n  }\n  return padding;\n}\n\nfunction padLeft(str, padWith, upToLength) {\n  var padding = pad(str, padWith, upToLength);\n  return padding + str;\n}\n\nvar MIN_MAGNITUDE = -324; // verified by -Number.MIN_VALUE\nvar MAGNITUDE_DIGITS = 3; // ditto\nvar SEP = ''; // set to '_' for easier debugging \n\nfunction collate(a, b) {\n\n  if (a === b) {\n    return 0;\n  }\n\n  a = normalizeKey(a);\n  b = normalizeKey(b);\n\n  var ai = collationIndex(a);\n  var bi = collationIndex(b);\n  if ((ai - bi) !== 0) {\n    return ai - bi;\n  }\n  switch (typeof a) {\n    case 'number':\n      return a - b;\n    case 'boolean':\n      return a < b ? -1 : 1;\n    case 'string':\n      return stringCollate(a, b);\n  }\n  return Array.isArray(a) ? arrayCollate(a, b) : objectCollate(a, b);\n}\n\n// couch considers null/NaN/Infinity/-Infinity === undefined,\n// for the purposes of mapreduce indexes. also, dates get stringified.\nfunction normalizeKey(key) {\n  switch (typeof key) {\n    case 'undefined':\n      return null;\n    case 'number':\n      if (key === Infinity || key === -Infinity || isNaN(key)) {\n        return null;\n      }\n      return key;\n    case 'object':\n      var origKey = key;\n      if (Array.isArray(key)) {\n        var len = key.length;\n        key = new Array(len);\n        for (var i = 0; i < len; i++) {\n          key[i] = normalizeKey(origKey[i]);\n        }\n      /* istanbul ignore next */\n      } else if (key instanceof Date) {\n        return key.toJSON();\n      } else if (key !== null) { // generic object\n        key = {};\n        for (var k in origKey) {\n          if (origKey.hasOwnProperty(k)) {\n            var val = origKey[k];\n            if (typeof val !== 'undefined') {\n              key[k] = normalizeKey(val);\n            }\n          }\n        }\n      }\n  }\n  return key;\n}\n\nfunction indexify(key) {\n  if (key !== null) {\n    switch (typeof key) {\n      case 'boolean':\n        return key ? 1 : 0;\n      case 'number':\n        return numToIndexableString(key);\n      case 'string':\n        // We've to be sure that key does not contain \\u0000\n        // Do order-preserving replacements:\n        // 0 -> 1, 1\n        // 1 -> 1, 2\n        // 2 -> 2, 2\n        /* eslint-disable no-control-regex */\n        return key\n          .replace(/\\u0002/g, '\\u0002\\u0002')\n          .replace(/\\u0001/g, '\\u0001\\u0002')\n          .replace(/\\u0000/g, '\\u0001\\u0001');\n        /* eslint-enable no-control-regex */\n      case 'object':\n        var isArray = Array.isArray(key);\n        var arr = isArray ? key : Object.keys(key);\n        var i = -1;\n        var len = arr.length;\n        var result = '';\n        if (isArray) {\n          while (++i < len) {\n            result += toIndexableString(arr[i]);\n          }\n        } else {\n          while (++i < len) {\n            var objKey = arr[i];\n            result += toIndexableString(objKey) +\n                toIndexableString(key[objKey]);\n          }\n        }\n        return result;\n    }\n  }\n  return '';\n}\n\n// convert the given key to a string that would be appropriate\n// for lexical sorting, e.g. within a database, where the\n// sorting is the same given by the collate() function.\nfunction toIndexableString(key) {\n  var zero = '\\u0000';\n  key = normalizeKey(key);\n  return collationIndex(key) + SEP + indexify(key) + zero;\n}\n\nfunction parseNumber(str, i) {\n  var originalIdx = i;\n  var num;\n  var zero = str[i] === '1';\n  if (zero) {\n    num = 0;\n    i++;\n  } else {\n    var neg = str[i] === '0';\n    i++;\n    var numAsString = '';\n    var magAsString = str.substring(i, i + MAGNITUDE_DIGITS);\n    var magnitude = parseInt(magAsString, 10) + MIN_MAGNITUDE;\n    /* istanbul ignore next */\n    if (neg) {\n      magnitude = -magnitude;\n    }\n    i += MAGNITUDE_DIGITS;\n    while (true) {\n      var ch = str[i];\n      if (ch === '\\u0000') {\n        break;\n      } else {\n        numAsString += ch;\n      }\n      i++;\n    }\n    numAsString = numAsString.split('.');\n    if (numAsString.length === 1) {\n      num = parseInt(numAsString, 10);\n    } else {\n      /* istanbul ignore next */\n      num = parseFloat(numAsString[0] + '.' + numAsString[1]);\n    }\n    /* istanbul ignore next */\n    if (neg) {\n      num = num - 10;\n    }\n    /* istanbul ignore next */\n    if (magnitude !== 0) {\n      // parseFloat is more reliable than pow due to rounding errors\n      // e.g. Number.MAX_VALUE would return Infinity if we did\n      // num * Math.pow(10, magnitude);\n      num = parseFloat(num + 'e' + magnitude);\n    }\n  }\n  return {num: num, length : i - originalIdx};\n}\n\n// move up the stack while parsing\n// this function moved outside of parseIndexableString for performance\nfunction pop(stack, metaStack) {\n  var obj = stack.pop();\n\n  if (metaStack.length) {\n    var lastMetaElement = metaStack[metaStack.length - 1];\n    if (obj === lastMetaElement.element) {\n      // popping a meta-element, e.g. an object whose value is another object\n      metaStack.pop();\n      lastMetaElement = metaStack[metaStack.length - 1];\n    }\n    var element = lastMetaElement.element;\n    var lastElementIndex = lastMetaElement.index;\n    if (Array.isArray(element)) {\n      element.push(obj);\n    } else if (lastElementIndex === stack.length - 2) { // obj with key+value\n      var key = stack.pop();\n      element[key] = obj;\n    } else {\n      stack.push(obj); // obj with key only\n    }\n  }\n}\n\nfunction parseIndexableString(str) {\n  var stack = [];\n  var metaStack = []; // stack for arrays and objects\n  var i = 0;\n\n  /*eslint no-constant-condition: [\"error\", { \"checkLoops\": false }]*/\n  while (true) {\n    var collationIndex = str[i++];\n    if (collationIndex === '\\u0000') {\n      if (stack.length === 1) {\n        return stack.pop();\n      } else {\n        pop(stack, metaStack);\n        continue;\n      }\n    }\n    switch (collationIndex) {\n      case '1':\n        stack.push(null);\n        break;\n      case '2':\n        stack.push(str[i] === '1');\n        i++;\n        break;\n      case '3':\n        var parsedNum = parseNumber(str, i);\n        stack.push(parsedNum.num);\n        i += parsedNum.length;\n        break;\n      case '4':\n        var parsedStr = '';\n        /*eslint no-constant-condition: [\"error\", { \"checkLoops\": false }]*/\n        while (true) {\n          var ch = str[i];\n          if (ch === '\\u0000') {\n            break;\n          }\n          parsedStr += ch;\n          i++;\n        }\n        // perform the reverse of the order-preserving replacement\n        // algorithm (see above)\n        /* eslint-disable no-control-regex */\n        parsedStr = parsedStr.replace(/\\u0001\\u0001/g, '\\u0000')\n          .replace(/\\u0001\\u0002/g, '\\u0001')\n          .replace(/\\u0002\\u0002/g, '\\u0002');\n        /* eslint-enable no-control-regex */\n        stack.push(parsedStr);\n        break;\n      case '5':\n        var arrayElement = { element: [], index: stack.length };\n        stack.push(arrayElement.element);\n        metaStack.push(arrayElement);\n        break;\n      case '6':\n        var objElement = { element: {}, index: stack.length };\n        stack.push(objElement.element);\n        metaStack.push(objElement);\n        break;\n      /* istanbul ignore next */\n      default:\n        throw new Error(\n          'bad collationIndex or unexpectedly reached end of input: ' +\n            collationIndex);\n    }\n  }\n}\n\nfunction arrayCollate(a, b) {\n  var len = Math.min(a.length, b.length);\n  for (var i = 0; i < len; i++) {\n    var sort = collate(a[i], b[i]);\n    if (sort !== 0) {\n      return sort;\n    }\n  }\n  return (a.length === b.length) ? 0 :\n    (a.length > b.length) ? 1 : -1;\n}\nfunction stringCollate(a, b) {\n  // See: https://github.com/daleharvey/pouchdb/issues/40\n  // This is incompatible with the CouchDB implementation, but its the\n  // best we can do for now\n  return (a === b) ? 0 : ((a > b) ? 1 : -1);\n}\nfunction objectCollate(a, b) {\n  var ak = Object.keys(a), bk = Object.keys(b);\n  var len = Math.min(ak.length, bk.length);\n  for (var i = 0; i < len; i++) {\n    // First sort the keys\n    var sort = collate(ak[i], bk[i]);\n    if (sort !== 0) {\n      return sort;\n    }\n    // if the keys are equal sort the values\n    sort = collate(a[ak[i]], b[bk[i]]);\n    if (sort !== 0) {\n      return sort;\n    }\n\n  }\n  return (ak.length === bk.length) ? 0 :\n    (ak.length > bk.length) ? 1 : -1;\n}\n// The collation is defined by erlangs ordered terms\n// the atoms null, true, false come first, then numbers, strings,\n// arrays, then objects\n// null/undefined/NaN/Infinity/-Infinity are all considered null\nfunction collationIndex(x) {\n  var id = ['boolean', 'number', 'string', 'object'];\n  var idx = id.indexOf(typeof x);\n  //false if -1 otherwise true, but fast!!!!1\n  if (~idx) {\n    if (x === null) {\n      return 1;\n    }\n    if (Array.isArray(x)) {\n      return 5;\n    }\n    return idx < 3 ? (idx + 2) : (idx + 3);\n  }\n  /* istanbul ignore next */\n  if (Array.isArray(x)) {\n    return 5;\n  }\n}\n\n// conversion:\n// x yyy zz...zz\n// x = 0 for negative, 1 for 0, 2 for positive\n// y = exponent (for negative numbers negated) moved so that it's >= 0\n// z = mantisse\nfunction numToIndexableString(num) {\n\n  if (num === 0) {\n    return '1';\n  }\n\n  // convert number to exponential format for easier and\n  // more succinct string sorting\n  var expFormat = num.toExponential().split(/e\\+?/);\n  var magnitude = parseInt(expFormat[1], 10);\n\n  var neg = num < 0;\n\n  var result = neg ? '0' : '2';\n\n  // first sort by magnitude\n  // it's easier if all magnitudes are positive\n  var magForComparison = ((neg ? -magnitude : magnitude) - MIN_MAGNITUDE);\n  var magString = padLeft((magForComparison).toString(), '0', MAGNITUDE_DIGITS);\n\n  result += SEP + magString;\n\n  // then sort by the factor\n  var factor = Math.abs(parseFloat(expFormat[0])); // [1..10)\n  /* istanbul ignore next */\n  if (neg) { // for negative reverse ordering\n    factor = 10 - factor;\n  }\n\n  var factorStr = factor.toFixed(20);\n\n  // strip zeros from the end\n  factorStr = factorStr.replace(/\\.?0+$/, '');\n\n  result += SEP + factorStr;\n\n  return result;\n}\n\nexport { collate, normalizeKey, toIndexableString, parseIndexableString };\n","import { clone } from 'pouchdb-utils';\nimport { collate } from 'pouchdb-collate';\n\n// this would just be \"return doc[field]\", but fields\n// can be \"deep\" due to dot notation\nfunction getFieldFromDoc(doc, parsedField) {\n  var value = doc;\n  for (var i = 0, len = parsedField.length; i < len; i++) {\n    var key = parsedField[i];\n    value = value[key];\n    if (!value) {\n      break;\n    }\n  }\n  return value;\n}\n\nfunction setFieldInDoc(doc, parsedField, value) {\n  for (var i = 0, len = parsedField.length; i < len-1; i++) {\n    var elem = parsedField[i];\n    doc = doc[elem] = {};\n  }\n  doc[parsedField[len-1]] = value;\n}\n\nfunction compare(left, right) {\n  return left < right ? -1 : left > right ? 1 : 0;\n}\n\n// Converts a string in dot notation to an array of its components, with backslash escaping\nfunction parseField(fieldName) {\n  // fields may be deep (e.g. \"foo.bar.baz\"), so parse\n  var fields = [];\n  var current = '';\n  for (var i = 0, len = fieldName.length; i < len; i++) {\n    var ch = fieldName[i];\n    if (ch === '.') {\n      if (i > 0 && fieldName[i - 1] === '\\\\') { // escaped delimiter\n        current = current.substring(0, current.length - 1) + '.';\n      } else { // not escaped, so delimiter\n        fields.push(current);\n        current = '';\n      }\n    } else { // normal character\n      current += ch;\n    }\n  }\n  fields.push(current);\n  return fields;\n}\n\nvar combinationFields = ['$or', '$nor', '$not'];\nfunction isCombinationalField(field) {\n  return combinationFields.indexOf(field) > -1;\n}\n\nfunction getKey(obj) {\n  return Object.keys(obj)[0];\n}\n\nfunction getValue(obj) {\n  return obj[getKey(obj)];\n}\n\n\n// flatten an array of selectors joined by an $and operator\nfunction mergeAndedSelectors(selectors) {\n\n  // sort to ensure that e.g. if the user specified\n  // $and: [{$gt: 'a'}, {$gt: 'b'}], then it's collapsed into\n  // just {$gt: 'b'}\n  var res = {};\n\n  selectors.forEach(function (selector) {\n    Object.keys(selector).forEach(function (field) {\n      var matcher = selector[field];\n      if (typeof matcher !== 'object') {\n        matcher = {$eq: matcher};\n      }\n\n      if (isCombinationalField(field)) {\n        if (matcher instanceof Array) {\n          res[field] = matcher.map(function (m) {\n            return mergeAndedSelectors([m]);\n          });\n        } else {\n          res[field] = mergeAndedSelectors([matcher]);\n        }\n      } else {\n        var fieldMatchers = res[field] = res[field] || {};\n        Object.keys(matcher).forEach(function (operator) {\n          var value = matcher[operator];\n\n          if (operator === '$gt' || operator === '$gte') {\n            return mergeGtGte(operator, value, fieldMatchers);\n          } else if (operator === '$lt' || operator === '$lte') {\n            return mergeLtLte(operator, value, fieldMatchers);\n          } else if (operator === '$ne') {\n            return mergeNe(value, fieldMatchers);\n          } else if (operator === '$eq') {\n            return mergeEq(value, fieldMatchers);\n          }\n          fieldMatchers[operator] = value;\n        });\n      }\n    });\n  });\n\n  return res;\n}\n\n\n\n// collapse logically equivalent gt/gte values\nfunction mergeGtGte(operator, value, fieldMatchers) {\n  if (typeof fieldMatchers.$eq !== 'undefined') {\n    return; // do nothing\n  }\n  if (typeof fieldMatchers.$gte !== 'undefined') {\n    if (operator === '$gte') {\n      if (value > fieldMatchers.$gte) { // more specificity\n        fieldMatchers.$gte = value;\n      }\n    } else { // operator === '$gt'\n      if (value >= fieldMatchers.$gte) { // more specificity\n        delete fieldMatchers.$gte;\n        fieldMatchers.$gt = value;\n      }\n    }\n  } else if (typeof fieldMatchers.$gt !== 'undefined') {\n    if (operator === '$gte') {\n      if (value > fieldMatchers.$gt) { // more specificity\n        delete fieldMatchers.$gt;\n        fieldMatchers.$gte = value;\n      }\n    } else { // operator === '$gt'\n      if (value > fieldMatchers.$gt) { // more specificity\n        fieldMatchers.$gt = value;\n      }\n    }\n  } else {\n    fieldMatchers[operator] = value;\n  }\n}\n\n// collapse logically equivalent lt/lte values\nfunction mergeLtLte(operator, value, fieldMatchers) {\n  if (typeof fieldMatchers.$eq !== 'undefined') {\n    return; // do nothing\n  }\n  if (typeof fieldMatchers.$lte !== 'undefined') {\n    if (operator === '$lte') {\n      if (value < fieldMatchers.$lte) { // more specificity\n        fieldMatchers.$lte = value;\n      }\n    } else { // operator === '$gt'\n      if (value <= fieldMatchers.$lte) { // more specificity\n        delete fieldMatchers.$lte;\n        fieldMatchers.$lt = value;\n      }\n    }\n  } else if (typeof fieldMatchers.$lt !== 'undefined') {\n    if (operator === '$lte') {\n      if (value < fieldMatchers.$lt) { // more specificity\n        delete fieldMatchers.$lt;\n        fieldMatchers.$lte = value;\n      }\n    } else { // operator === '$gt'\n      if (value < fieldMatchers.$lt) { // more specificity\n        fieldMatchers.$lt = value;\n      }\n    }\n  } else {\n    fieldMatchers[operator] = value;\n  }\n}\n\n// combine $ne values into one array\nfunction mergeNe(value, fieldMatchers) {\n  if ('$ne' in fieldMatchers) {\n    // there are many things this could \"not\" be\n    fieldMatchers.$ne.push(value);\n  } else { // doesn't exist yet\n    fieldMatchers.$ne = [value];\n  }\n}\n\n// add $eq into the mix\nfunction mergeEq(value, fieldMatchers) {\n  // these all have less specificity than the $eq\n  // TODO: check for user errors here\n  delete fieldMatchers.$gt;\n  delete fieldMatchers.$gte;\n  delete fieldMatchers.$lt;\n  delete fieldMatchers.$lte;\n  delete fieldMatchers.$ne;\n  fieldMatchers.$eq = value;\n}\n\n\n//\n// normalize the selector\n//\nfunction massageSelector(input) {\n  var result = clone(input);\n  var wasAnded = false;\n  if ('$and' in result) {\n    result = mergeAndedSelectors(result['$and']);\n    wasAnded = true;\n  }\n\n  ['$or', '$nor'].forEach(function (orOrNor) {\n    if (orOrNor in result) {\n      // message each individual selector\n      // e.g. {foo: 'bar'} becomes {foo: {$eq: 'bar'}}\n      result[orOrNor].forEach(function (subSelector) {\n        var fields = Object.keys(subSelector);\n        for (var i = 0; i < fields.length; i++) {\n          var field = fields[i];\n          var matcher = subSelector[field];\n          if (typeof matcher !== 'object' || matcher === null) {\n            subSelector[field] = {$eq: matcher};\n          }\n        }\n      });\n    }\n  });\n\n  if ('$not' in result) {\n    //This feels a little like forcing, but it will work for now,\n    //I would like to come back to this and make the merging of selectors a little more generic\n    result['$not'] = mergeAndedSelectors([result['$not']]);\n  }\n\n  var fields = Object.keys(result);\n\n  for (var i = 0; i < fields.length; i++) {\n    var field = fields[i];\n    var matcher = result[field];\n\n    if (typeof matcher !== 'object' || matcher === null) {\n      matcher = {$eq: matcher};\n    } else if ('$ne' in matcher && !wasAnded) {\n      // I put these in an array, since there may be more than one\n      // but in the \"mergeAnded\" operation, I already take care of that\n      matcher.$ne = [matcher.$ne];\n    }\n    result[field] = matcher;\n  }\n\n  return result;\n}\n\n// create a comparator based on the sort object\nfunction createFieldSorter(sort) {\n\n  function getFieldValuesAsArray(doc) {\n    return sort.map(function (sorting) {\n      var fieldName = getKey(sorting);\n      var parsedField = parseField(fieldName);\n      var docFieldValue = getFieldFromDoc(doc, parsedField);\n      return docFieldValue;\n    });\n  }\n\n  return function (aRow, bRow) {\n    var aFieldValues = getFieldValuesAsArray(aRow.doc);\n    var bFieldValues = getFieldValuesAsArray(bRow.doc);\n    var collation = collate(aFieldValues, bFieldValues);\n    if (collation !== 0) {\n      return collation;\n    }\n    // this is what mango seems to do\n    return compare(aRow.doc._id, bRow.doc._id);\n  };\n}\n\nfunction filterInMemoryFields(rows, requestDef, inMemoryFields) {\n  rows = rows.filter(function (row) {\n    return rowFilter(row.doc, requestDef.selector, inMemoryFields);\n  });\n\n  if (requestDef.sort) {\n    // in-memory sort\n    var fieldSorter = createFieldSorter(requestDef.sort);\n    rows = rows.sort(fieldSorter);\n    if (typeof requestDef.sort[0] !== 'string' &&\n        getValue(requestDef.sort[0]) === 'desc') {\n      rows = rows.reverse();\n    }\n  }\n\n  if ('limit' in requestDef || 'skip' in requestDef) {\n    // have to do the limit in-memory\n    var skip = requestDef.skip || 0;\n    var limit = ('limit' in requestDef ? requestDef.limit : rows.length) + skip;\n    rows = rows.slice(skip, limit);\n  }\n  return rows;\n}\n\nfunction rowFilter(doc, selector, inMemoryFields) {\n  return inMemoryFields.every(function (field) {\n    var matcher = selector[field];\n    var parsedField = parseField(field);\n    var docFieldValue = getFieldFromDoc(doc, parsedField);\n    if (isCombinationalField(field)) {\n      return matchCominationalSelector(field, matcher, doc);\n    }\n\n    return matchSelector(matcher, doc, parsedField, docFieldValue);\n  });\n}\n\nfunction matchSelector(matcher, doc, parsedField, docFieldValue) {\n  if (!matcher) {\n    // no filtering necessary; this field is just needed for sorting\n    return true;\n  }\n\n  return Object.keys(matcher).every(function (userOperator) {\n    var userValue = matcher[userOperator];\n    return match(userOperator, doc, userValue, parsedField, docFieldValue);\n  });\n}\n\nfunction matchCominationalSelector(field, matcher, doc) {\n\n  if (field === '$or') {\n    return matcher.some(function (orMatchers) {\n      return rowFilter(doc, orMatchers, Object.keys(orMatchers));\n    });\n  }\n\n  if (field === '$not') {\n    return !rowFilter(doc, matcher, Object.keys(matcher));\n  }\n\n  //`$nor`\n  return !matcher.find(function (orMatchers) {\n    return rowFilter(doc, orMatchers, Object.keys(orMatchers));\n  });\n\n}\n\nfunction match(userOperator, doc, userValue, parsedField, docFieldValue) {\n  if (!matchers[userOperator]) {\n    throw new Error('unknown operator \"' + userOperator +\n      '\" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, ' +\n      '$nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');\n  }\n  return matchers[userOperator](doc, userValue, parsedField, docFieldValue);\n}\n\nfunction fieldExists(docFieldValue) {\n  return typeof docFieldValue !== 'undefined' && docFieldValue !== null;\n}\n\nfunction fieldIsNotUndefined(docFieldValue) {\n  return typeof docFieldValue !== 'undefined';\n}\n\nfunction modField(docFieldValue, userValue) {\n  var divisor = userValue[0];\n  var mod = userValue[1];\n  if (divisor === 0) {\n    throw new Error('Bad divisor, cannot divide by zero');\n  }\n\n  if (parseInt(divisor, 10) !== divisor ) {\n    throw new Error('Divisor is not an integer');\n  }\n\n  if (parseInt(mod, 10) !== mod ) {\n    throw new Error('Modulus is not an integer');\n  }\n\n  if (parseInt(docFieldValue, 10) !== docFieldValue) {\n    return false;\n  }\n\n  return docFieldValue % divisor === mod;\n}\n\nfunction arrayContainsValue(docFieldValue, userValue) {\n  return userValue.some(function (val) {\n    if (docFieldValue instanceof Array) {\n      return docFieldValue.indexOf(val) > -1;\n    }\n\n    return docFieldValue === val;\n  });\n}\n\nfunction arrayContainsAllValues(docFieldValue, userValue) {\n  return userValue.every(function (val) {\n    return docFieldValue.indexOf(val) > -1;\n  });\n}\n\nfunction arraySize(docFieldValue, userValue) {\n  return docFieldValue.length === userValue;\n}\n\nfunction regexMatch(docFieldValue, userValue) {\n  var re = new RegExp(userValue);\n\n  return re.test(docFieldValue);\n}\n\nfunction typeMatch(docFieldValue, userValue) {\n\n  switch (userValue) {\n    case 'null':\n      return docFieldValue === null;\n    case 'boolean':\n      return typeof (docFieldValue) === 'boolean';\n    case 'number':\n      return typeof (docFieldValue) === 'number';\n    case 'string':\n      return typeof (docFieldValue) === 'string';\n    case 'array':\n      return docFieldValue instanceof Array;\n    case 'object':\n      return ({}).toString.call(docFieldValue) === '[object Object]';\n  }\n\n  throw new Error(userValue + ' not supported as a type.' +\n                  'Please use one of object, string, array, number, boolean or null.');\n\n}\n\nvar matchers = {\n\n  '$elemMatch': function (doc, userValue, parsedField, docFieldValue) {\n    if (!Array.isArray(docFieldValue)) {\n      return false;\n    }\n\n    if (docFieldValue.length === 0) {\n      return false;\n    }\n\n    if (typeof docFieldValue[0] === 'object') {\n      return docFieldValue.some(function (val) {\n        return rowFilter(val, userValue, Object.keys(userValue));\n      });\n    }\n\n    return docFieldValue.some(function (val) {\n      return matchSelector(userValue, doc, parsedField, val);\n    });\n  },\n\n  '$allMatch': function (doc, userValue, parsedField, docFieldValue) {\n    if (!Array.isArray(docFieldValue)) {\n      return false;\n    }\n\n    /* istanbul ignore next */\n    if (docFieldValue.length === 0) {\n      return false;\n    }\n\n    if (typeof docFieldValue[0] === 'object') {\n      return docFieldValue.every(function (val) {\n        return rowFilter(val, userValue, Object.keys(userValue));\n      });\n    }\n\n    return docFieldValue.every(function (val) {\n      return matchSelector(userValue, doc, parsedField, val);\n    });\n  },\n\n  '$eq': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) === 0;\n  },\n\n  '$gte': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) >= 0;\n  },\n\n  '$gt': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) > 0;\n  },\n\n  '$lte': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) <= 0;\n  },\n\n  '$lt': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) < 0;\n  },\n\n  '$exists': function (doc, userValue, parsedField, docFieldValue) {\n    //a field that is null is still considered to exist\n    if (userValue) {\n      return fieldIsNotUndefined(docFieldValue);\n    }\n\n    return !fieldIsNotUndefined(docFieldValue);\n  },\n\n  '$mod': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && modField(docFieldValue, userValue);\n  },\n\n  '$ne': function (doc, userValue, parsedField, docFieldValue) {\n    return userValue.every(function (neValue) {\n      return collate(docFieldValue, neValue) !== 0;\n    });\n  },\n  '$in': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && arrayContainsValue(docFieldValue, userValue);\n  },\n\n  '$nin': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && !arrayContainsValue(docFieldValue, userValue);\n  },\n\n  '$size': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && arraySize(docFieldValue, userValue);\n  },\n\n  '$all': function (doc, userValue, parsedField, docFieldValue) {\n    return Array.isArray(docFieldValue) && arrayContainsAllValues(docFieldValue, userValue);\n  },\n\n  '$regex': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && regexMatch(docFieldValue, userValue);\n  },\n\n  '$type': function (doc, userValue, parsedField, docFieldValue) {\n    return typeMatch(docFieldValue, userValue);\n  }\n};\n\n// return true if the given doc matches the supplied selector\nfunction matchesSelector(doc, selector) {\n  /* istanbul ignore if */\n  if (typeof selector !== 'object') {\n    // match the CouchDB error message\n    throw new Error('Selector error: expected a JSON object');\n  }\n\n  selector = massageSelector(selector);\n  var row = {\n    'doc': doc\n  };\n\n  var rowsMatched = filterInMemoryFields([row], { 'selector': selector }, Object.keys(selector));\n  return rowsMatched && rowsMatched.length === 1;\n}\n\nexport { massageSelector, matchesSelector, filterInMemoryFields, createFieldSorter, rowFilter, isCombinationalField, getKey, getValue, getFieldFromDoc, setFieldInDoc, compare, parseField };\n","function mangle(key) {\n  return '$' + key;\n}\nfunction unmangle(key) {\n  return key.substring(1);\n}\nfunction Map$1() {\n  this._store = {};\n}\nMap$1.prototype.get = function (key) {\n  var mangled = mangle(key);\n  return this._store[mangled];\n};\nMap$1.prototype.set = function (key, value) {\n  var mangled = mangle(key);\n  this._store[mangled] = value;\n  return true;\n};\nMap$1.prototype.has = function (key) {\n  var mangled = mangle(key);\n  return mangled in this._store;\n};\nMap$1.prototype.delete = function (key) {\n  var mangled = mangle(key);\n  var res = mangled in this._store;\n  delete this._store[mangled];\n  return res;\n};\nMap$1.prototype.forEach = function (cb) {\n  var keys = Object.keys(this._store);\n  for (var i = 0, len = keys.length; i < len; i++) {\n    var key = keys[i];\n    var value = this._store[key];\n    key = unmangle(key);\n    cb(value, key);\n  }\n};\nObject.defineProperty(Map$1.prototype, 'size', {\n  get: function () {\n    return Object.keys(this._store).length;\n  }\n});\n\nfunction Set$1(array) {\n  this._store = new Map$1();\n\n  // init with an array\n  if (array && Array.isArray(array)) {\n    for (var i = 0, len = array.length; i < len; i++) {\n      this.add(array[i]);\n    }\n  }\n}\nSet$1.prototype.add = function (key) {\n  return this._store.set(key, true);\n};\nSet$1.prototype.has = function (key) {\n  return this._store.has(key);\n};\nSet$1.prototype.forEach = function (cb) {\n  this._store.forEach(function (value, key) {\n    cb(key);\n  });\n};\nObject.defineProperty(Set$1.prototype, 'size', {\n  get: function () {\n    return this._store.size;\n  }\n});\n\n/* global Map,Set,Symbol */\n// Based on https://kangax.github.io/compat-table/es6/ we can sniff out\n// incomplete Map/Set implementations which would otherwise cause our tests to fail.\n// Notably they fail in IE11 and iOS 8.4, which this prevents.\nfunction supportsMapAndSet() {\n  if (typeof Symbol === 'undefined' || typeof Map === 'undefined' || typeof Set === 'undefined') {\n    return false;\n  }\n  var prop = Object.getOwnPropertyDescriptor(Map, Symbol.species);\n  return prop && 'get' in prop && Map[Symbol.species] === Map;\n}\n\n// based on https://github.com/montagejs/collections\n\nvar ExportedSet;\nvar ExportedMap;\n\n{\n  if (supportsMapAndSet()) { // prefer built-in Map/Set\n    ExportedSet = Set;\n    ExportedMap = Map;\n  } else { // fall back to our polyfill\n    ExportedSet = Set$1;\n    ExportedMap = Map$1;\n  }\n}\n\nexport { ExportedSet as Set, ExportedMap as Map };\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","import inherits from 'inherits';\n\ninherits(PouchError, Error);\n\nfunction PouchError(status, error, reason) {\n  Error.call(this, reason);\n  this.status = status;\n  this.name = error;\n  this.message = reason;\n  this.error = true;\n}\n\nPouchError.prototype.toString = function () {\n  return JSON.stringify({\n    status: this.status,\n    name: this.name,\n    message: this.message,\n    reason: this.reason\n  });\n};\n\nvar UNAUTHORIZED = new PouchError(401, 'unauthorized', \"Name or password is incorrect.\");\nvar MISSING_BULK_DOCS = new PouchError(400, 'bad_request', \"Missing JSON list of 'docs'\");\nvar MISSING_DOC = new PouchError(404, 'not_found', 'missing');\nvar REV_CONFLICT = new PouchError(409, 'conflict', 'Document update conflict');\nvar INVALID_ID = new PouchError(400, 'bad_request', '_id field must contain a string');\nvar MISSING_ID = new PouchError(412, 'missing_id', '_id is required for puts');\nvar RESERVED_ID = new PouchError(400, 'bad_request', 'Only reserved document ids may start with underscore.');\nvar NOT_OPEN = new PouchError(412, 'precondition_failed', 'Database not open');\nvar UNKNOWN_ERROR = new PouchError(500, 'unknown_error', 'Database encountered an unknown error');\nvar BAD_ARG = new PouchError(500, 'badarg', 'Some query argument is invalid');\nvar INVALID_REQUEST = new PouchError(400, 'invalid_request', 'Request was invalid');\nvar QUERY_PARSE_ERROR = new PouchError(400, 'query_parse_error', 'Some query parameter is invalid');\nvar DOC_VALIDATION = new PouchError(500, 'doc_validation', 'Bad special document member');\nvar BAD_REQUEST = new PouchError(400, 'bad_request', 'Something wrong with the request');\nvar NOT_AN_OBJECT = new PouchError(400, 'bad_request', 'Document must be a JSON object');\nvar DB_MISSING = new PouchError(404, 'not_found', 'Database not found');\nvar IDB_ERROR = new PouchError(500, 'indexed_db_went_bad', 'unknown');\nvar WSQ_ERROR = new PouchError(500, 'web_sql_went_bad', 'unknown');\nvar LDB_ERROR = new PouchError(500, 'levelDB_went_went_bad', 'unknown');\nvar FORBIDDEN = new PouchError(403, 'forbidden', 'Forbidden by design doc validate_doc_update function');\nvar INVALID_REV = new PouchError(400, 'bad_request', 'Invalid rev format');\nvar FILE_EXISTS = new PouchError(412, 'file_exists', 'The database could not be created, the file already exists.');\nvar MISSING_STUB = new PouchError(412, 'missing_stub', 'A pre-existing attachment stub wasn\\'t found');\nvar INVALID_URL = new PouchError(413, 'invalid_url', 'Provided URL is invalid');\n\nfunction createError(error, reason) {\n  function CustomPouchError(reason) {\n    // inherit error properties from our parent error manually\n    // so as to allow proper JSON parsing.\n    /* jshint ignore:start */\n    for (var p in error) {\n      if (typeof error[p] !== 'function') {\n        this[p] = error[p];\n      }\n    }\n    /* jshint ignore:end */\n    if (reason !== undefined) {\n      this.reason = reason;\n    }\n  }\n  CustomPouchError.prototype = PouchError.prototype;\n  return new CustomPouchError(reason);\n}\n\nfunction generateErrorFromResponse(err) {\n\n  if (typeof err !== 'object') {\n    var data = err;\n    err = UNKNOWN_ERROR;\n    err.data = data;\n  }\n\n  if ('error' in err && err.error === 'conflict') {\n    err.name = 'conflict';\n    err.status = 409;\n  }\n\n  if (!('name' in err)) {\n    err.name = err.error || 'unknown';\n  }\n\n  if (!('status' in err)) {\n    err.status = 500;\n  }\n\n  if (!('message' in err)) {\n    err.message = err.message || err.reason;\n  }\n\n  return err;\n}\n\nexport { UNAUTHORIZED, MISSING_BULK_DOCS, MISSING_DOC, REV_CONFLICT, INVALID_ID, MISSING_ID, RESERVED_ID, NOT_OPEN, UNKNOWN_ERROR, BAD_ARG, INVALID_REQUEST, QUERY_PARSE_ERROR, DOC_VALIDATION, BAD_REQUEST, NOT_AN_OBJECT, DB_MISSING, WSQ_ERROR, LDB_ERROR, FORBIDDEN, INVALID_REV, FILE_EXISTS, MISSING_STUB, IDB_ERROR, INVALID_URL, createError, generateErrorFromResponse };\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && msCrypto.getRandomValues.bind(msCrypto));\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  return bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]];\n}\n\nmodule.exports = bytesToUuid;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n","var thisAtob = function (str) {\n  return atob(str);\n};\n\nvar thisBtoa = function (str) {\n  return btoa(str);\n};\n\n// Abstracts constructing a Blob object, so it also works in older\n// browsers that don't support the native Blob constructor (e.g.\n// old QtWebKit versions, Android < 4.4).\nfunction createBlob(parts, properties) {\n  /* global BlobBuilder,MSBlobBuilder,MozBlobBuilder,WebKitBlobBuilder */\n  parts = parts || [];\n  properties = properties || {};\n  try {\n    return new Blob(parts, properties);\n  } catch (e) {\n    if (e.name !== \"TypeError\") {\n      throw e;\n    }\n    var Builder = typeof BlobBuilder !== 'undefined' ? BlobBuilder :\n                  typeof MSBlobBuilder !== 'undefined' ? MSBlobBuilder :\n                  typeof MozBlobBuilder !== 'undefined' ? MozBlobBuilder :\n                  WebKitBlobBuilder;\n    var builder = new Builder();\n    for (var i = 0; i < parts.length; i += 1) {\n      builder.append(parts[i]);\n    }\n    return builder.getBlob(properties.type);\n  }\n}\n\n// From http://stackoverflow.com/questions/14967647/ (continues on next line)\n// encode-decode-image-with-base64-breaks-image (2013-04-21)\nfunction binaryStringToArrayBuffer(bin) {\n  var length = bin.length;\n  var buf = new ArrayBuffer(length);\n  var arr = new Uint8Array(buf);\n  for (var i = 0; i < length; i++) {\n    arr[i] = bin.charCodeAt(i);\n  }\n  return buf;\n}\n\nfunction binStringToBluffer(binString, type) {\n  return createBlob([binaryStringToArrayBuffer(binString)], {type: type});\n}\n\nfunction b64ToBluffer(b64, type) {\n  return binStringToBluffer(thisAtob(b64), type);\n}\n\n//Can't find original post, but this is close\n//http://stackoverflow.com/questions/6965107/ (continues on next line)\n//converting-between-strings-and-arraybuffers\nfunction arrayBufferToBinaryString(buffer) {\n  var binary = '';\n  var bytes = new Uint8Array(buffer);\n  var length = bytes.byteLength;\n  for (var i = 0; i < length; i++) {\n    binary += String.fromCharCode(bytes[i]);\n  }\n  return binary;\n}\n\n// shim for browsers that don't support it\nfunction readAsBinaryString(blob, callback) {\n  var reader = new FileReader();\n  var hasBinaryString = typeof reader.readAsBinaryString === 'function';\n  reader.onloadend = function (e) {\n    var result = e.target.result || '';\n    if (hasBinaryString) {\n      return callback(result);\n    }\n    callback(arrayBufferToBinaryString(result));\n  };\n  if (hasBinaryString) {\n    reader.readAsBinaryString(blob);\n  } else {\n    reader.readAsArrayBuffer(blob);\n  }\n}\n\nfunction blobToBinaryString(blobOrBuffer, callback) {\n  readAsBinaryString(blobOrBuffer, function (bin) {\n    callback(bin);\n  });\n}\n\nfunction blobToBase64(blobOrBuffer, callback) {\n  blobToBinaryString(blobOrBuffer, function (base64) {\n    callback(thisBtoa(base64));\n  });\n}\n\n// simplified API. universal browser support is assumed\nfunction readAsArrayBuffer(blob, callback) {\n  var reader = new FileReader();\n  reader.onloadend = function (e) {\n    var result = e.target.result || new ArrayBuffer(0);\n    callback(result);\n  };\n  reader.readAsArrayBuffer(blob);\n}\n\n// this is not used in the browser\nfunction typedBuffer() {\n}\n\nexport { thisAtob as atob, thisBtoa as btoa, b64ToBluffer as base64StringToBlobOrBuffer, binaryStringToArrayBuffer, binStringToBluffer as binaryStringToBlobOrBuffer, createBlob as blob, blobToBase64 as blobOrBufferToBase64, blobToBinaryString as blobOrBufferToBinaryString, readAsArrayBuffer, readAsBinaryString, typedBuffer };\n","import { btoa, readAsArrayBuffer } from 'pouchdb-binary-utils';\nimport Md5 from 'spark-md5';\n\nvar setImmediateShim = global.setImmediate || global.setTimeout;\nvar MD5_CHUNK_SIZE = 32768;\n\nfunction rawToBase64(raw) {\n  return btoa(raw);\n}\n\nfunction sliceBlob(blob, start, end) {\n  if (blob.webkitSlice) {\n    return blob.webkitSlice(start, end);\n  }\n  return blob.slice(start, end);\n}\n\nfunction appendBlob(buffer, blob, start, end, callback) {\n  if (start > 0 || end < blob.size) {\n    // only slice blob if we really need to\n    blob = sliceBlob(blob, start, end);\n  }\n  readAsArrayBuffer(blob, function (arrayBuffer) {\n    buffer.append(arrayBuffer);\n    callback();\n  });\n}\n\nfunction appendString(buffer, string, start, end, callback) {\n  if (start > 0 || end < string.length) {\n    // only create a substring if we really need to\n    string = string.substring(start, end);\n  }\n  buffer.appendBinary(string);\n  callback();\n}\n\nfunction binaryMd5(data, callback) {\n  var inputIsString = typeof data === 'string';\n  var len = inputIsString ? data.length : data.size;\n  var chunkSize = Math.min(MD5_CHUNK_SIZE, len);\n  var chunks = Math.ceil(len / chunkSize);\n  var currentChunk = 0;\n  var buffer = inputIsString ? new Md5() : new Md5.ArrayBuffer();\n\n  var append = inputIsString ? appendString : appendBlob;\n\n  function next() {\n    setImmediateShim(loadNextChunk);\n  }\n\n  function done() {\n    var raw = buffer.end(true);\n    var base64 = rawToBase64(raw);\n    callback(base64);\n    buffer.destroy();\n  }\n\n  function loadNextChunk() {\n    var start = currentChunk * chunkSize;\n    var end = start + chunkSize;\n    currentChunk++;\n    if (currentChunk < chunks) {\n      append(buffer, data, start, end, next);\n    } else {\n      append(buffer, data, start, end, done);\n    }\n  }\n  loadNextChunk();\n}\n\nfunction stringMd5(string) {\n  return Md5.hash(string);\n}\n\nexport { binaryMd5, stringMd5 };\n","import getArguments from 'argsarray';\nimport { Map } from 'pouchdb-collections';\nimport immediate from 'immediate';\nimport { EventEmitter } from 'events';\nimport inherits from 'inherits';\nimport { createError, BAD_REQUEST, INVALID_ID, MISSING_ID, RESERVED_ID } from 'pouchdb-errors';\nimport uuidV4 from 'uuid';\nimport { stringMd5 } from 'pouchdb-md5';\nimport { clone } from 'pouchdb-utils';\n\nfunction isBinaryObject(object) {\n  return (typeof ArrayBuffer !== 'undefined' && object instanceof ArrayBuffer) ||\n    (typeof Blob !== 'undefined' && object instanceof Blob);\n}\n\nfunction cloneArrayBuffer(buff) {\n  if (typeof buff.slice === 'function') {\n    return buff.slice(0);\n  }\n  // IE10-11 slice() polyfill\n  var target = new ArrayBuffer(buff.byteLength);\n  var targetArray = new Uint8Array(target);\n  var sourceArray = new Uint8Array(buff);\n  targetArray.set(sourceArray);\n  return target;\n}\n\nfunction cloneBinaryObject(object) {\n  if (object instanceof ArrayBuffer) {\n    return cloneArrayBuffer(object);\n  }\n  var size = object.size;\n  var type = object.type;\n  // Blob\n  if (typeof object.slice === 'function') {\n    return object.slice(0, size, type);\n  }\n  // PhantomJS slice() replacement\n  return object.webkitSlice(0, size, type);\n}\n\n// most of this is borrowed from lodash.isPlainObject:\n// https://github.com/fis-components/lodash.isplainobject/\n// blob/29c358140a74f252aeb08c9eb28bef86f2217d4a/index.js\n\nvar funcToString = Function.prototype.toString;\nvar objectCtorString = funcToString.call(Object);\n\nfunction isPlainObject(value) {\n  var proto = Object.getPrototypeOf(value);\n  /* istanbul ignore if */\n  if (proto === null) { // not sure when this happens, but I guess it can\n    return true;\n  }\n  var Ctor = proto.constructor;\n  return (typeof Ctor == 'function' &&\n    Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString);\n}\n\nfunction clone$1(object) {\n  var newObject;\n  var i;\n  var len;\n\n  if (!object || typeof object !== 'object') {\n    return object;\n  }\n\n  if (Array.isArray(object)) {\n    newObject = [];\n    for (i = 0, len = object.length; i < len; i++) {\n      newObject[i] = clone$1(object[i]);\n    }\n    return newObject;\n  }\n\n  // special case: to avoid inconsistencies between IndexedDB\n  // and other backends, we automatically stringify Dates\n  if (object instanceof Date) {\n    return object.toISOString();\n  }\n\n  if (isBinaryObject(object)) {\n    return cloneBinaryObject(object);\n  }\n\n  if (!isPlainObject(object)) {\n    return object; // don't clone objects like Workers\n  }\n\n  newObject = {};\n  for (i in object) {\n    /* istanbul ignore else */\n    if (Object.prototype.hasOwnProperty.call(object, i)) {\n      var value = clone$1(object[i]);\n      if (typeof value !== 'undefined') {\n        newObject[i] = value;\n      }\n    }\n  }\n  return newObject;\n}\n\nfunction once(fun) {\n  var called = false;\n  return getArguments(function (args) {\n    /* istanbul ignore if */\n    if (called) {\n      // this is a smoke test and should never actually happen\n      throw new Error('once called more than once');\n    } else {\n      called = true;\n      fun.apply(this, args);\n    }\n  });\n}\n\nfunction toPromise(func) {\n  //create the function we will be returning\n  return getArguments(function (args) {\n    // Clone arguments\n    args = clone$1(args);\n    var self = this;\n    // if the last argument is a function, assume its a callback\n    var usedCB = (typeof args[args.length - 1] === 'function') ? args.pop() : false;\n    var promise = new Promise(function (fulfill, reject) {\n      var resp;\n      try {\n        var callback = once(function (err, mesg) {\n          if (err) {\n            reject(err);\n          } else {\n            fulfill(mesg);\n          }\n        });\n        // create a callback for this invocation\n        // apply the function in the orig context\n        args.push(callback);\n        resp = func.apply(self, args);\n        if (resp && typeof resp.then === 'function') {\n          fulfill(resp);\n        }\n      } catch (e) {\n        reject(e);\n      }\n    });\n    // if there is a callback, call it back\n    if (usedCB) {\n      promise.then(function (result) {\n        usedCB(null, result);\n      }, usedCB);\n    }\n    return promise;\n  });\n}\n\nfunction logApiCall(self, name, args) {\n  /* istanbul ignore if */\n  if (self.constructor.listeners('debug').length) {\n    var logArgs = ['api', self.name, name];\n    for (var i = 0; i < args.length - 1; i++) {\n      logArgs.push(args[i]);\n    }\n    self.constructor.emit('debug', logArgs);\n\n    // override the callback itself to log the response\n    var origCallback = args[args.length - 1];\n    args[args.length - 1] = function (err, res) {\n      var responseArgs = ['api', self.name, name];\n      responseArgs = responseArgs.concat(\n        err ? ['error', err] : ['success', res]\n      );\n      self.constructor.emit('debug', responseArgs);\n      origCallback(err, res);\n    };\n  }\n}\n\nfunction adapterFun(name, callback) {\n  return toPromise(getArguments(function (args) {\n    if (this._closed) {\n      return Promise.reject(new Error('database is closed'));\n    }\n    if (this._destroyed) {\n      return Promise.reject(new Error('database is destroyed'));\n    }\n    var self = this;\n    logApiCall(self, name, args);\n    if (!this.taskqueue.isReady) {\n      return new Promise(function (fulfill, reject) {\n        self.taskqueue.addTask(function (failed) {\n          if (failed) {\n            reject(failed);\n          } else {\n            fulfill(self[name].apply(self, args));\n          }\n        });\n      });\n    }\n    return callback.apply(this, args);\n  }));\n}\n\n// like underscore/lodash _.pick()\nfunction pick(obj, arr) {\n  var res = {};\n  for (var i = 0, len = arr.length; i < len; i++) {\n    var prop = arr[i];\n    if (prop in obj) {\n      res[prop] = obj[prop];\n    }\n  }\n  return res;\n}\n\n// Most browsers throttle concurrent requests at 6, so it's silly\n// to shim _bulk_get by trying to launch potentially hundreds of requests\n// and then letting the majority time out. We can handle this ourselves.\nvar MAX_NUM_CONCURRENT_REQUESTS = 6;\n\nfunction identityFunction(x) {\n  return x;\n}\n\nfunction formatResultForOpenRevsGet(result) {\n  return [{\n    ok: result\n  }];\n}\n\n// shim for P/CouchDB adapters that don't directly implement _bulk_get\nfunction bulkGet(db, opts, callback) {\n  var requests = opts.docs;\n\n  // consolidate into one request per doc if possible\n  var requestsById = new Map();\n  requests.forEach(function (request) {\n    if (requestsById.has(request.id)) {\n      requestsById.get(request.id).push(request);\n    } else {\n      requestsById.set(request.id, [request]);\n    }\n  });\n\n  var numDocs = requestsById.size;\n  var numDone = 0;\n  var perDocResults = new Array(numDocs);\n\n  function collapseResultsAndFinish() {\n    var results = [];\n    perDocResults.forEach(function (res) {\n      res.docs.forEach(function (info) {\n        results.push({\n          id: res.id,\n          docs: [info]\n        });\n      });\n    });\n    callback(null, {results: results});\n  }\n\n  function checkDone() {\n    if (++numDone === numDocs) {\n      collapseResultsAndFinish();\n    }\n  }\n\n  function gotResult(docIndex, id, docs) {\n    perDocResults[docIndex] = {id: id, docs: docs};\n    checkDone();\n  }\n\n  var allRequests = [];\n  requestsById.forEach(function (value, key) {\n    allRequests.push(key);\n  });\n\n  var i = 0;\n\n  function nextBatch() {\n\n    if (i >= allRequests.length) {\n      return;\n    }\n\n    var upTo = Math.min(i + MAX_NUM_CONCURRENT_REQUESTS, allRequests.length);\n    var batch = allRequests.slice(i, upTo);\n    processBatch(batch, i);\n    i += batch.length;\n  }\n\n  function processBatch(batch, offset) {\n    batch.forEach(function (docId, j) {\n      var docIdx = offset + j;\n      var docRequests = requestsById.get(docId);\n\n      // just use the first request as the \"template\"\n      // TODO: The _bulk_get API allows for more subtle use cases than this,\n      // but for now it is unlikely that there will be a mix of different\n      // \"atts_since\" or \"attachments\" in the same request, since it's just\n      // replicate.js that is using this for the moment.\n      // Also, atts_since is aspirational, since we don't support it yet.\n      var docOpts = pick(docRequests[0], ['atts_since', 'attachments']);\n      docOpts.open_revs = docRequests.map(function (request) {\n        // rev is optional, open_revs disallowed\n        return request.rev;\n      });\n\n      // remove falsey / undefined revisions\n      docOpts.open_revs = docOpts.open_revs.filter(identityFunction);\n\n      var formatResult = identityFunction;\n\n      if (docOpts.open_revs.length === 0) {\n        delete docOpts.open_revs;\n\n        // when fetching only the \"winning\" leaf,\n        // transform the result so it looks like an open_revs\n        // request\n        formatResult = formatResultForOpenRevsGet;\n      }\n\n      // globally-supplied options\n      ['revs', 'attachments', 'binary', 'ajax', 'latest'].forEach(function (param) {\n        if (param in opts) {\n          docOpts[param] = opts[param];\n        }\n      });\n      db.get(docId, docOpts, function (err, res) {\n        var result;\n        /* istanbul ignore if */\n        if (err) {\n          result = [{error: err}];\n        } else {\n          result = formatResult(res);\n        }\n        gotResult(docIdx, docId, result);\n        nextBatch();\n      });\n    });\n  }\n\n  nextBatch();\n\n}\n\nvar hasLocal;\n\ntry {\n  localStorage.setItem('_pouch_check_localstorage', 1);\n  hasLocal = !!localStorage.getItem('_pouch_check_localstorage');\n} catch (e) {\n  hasLocal = false;\n}\n\nfunction hasLocalStorage() {\n  return hasLocal;\n}\n\n// Custom nextTick() shim for browsers. In node, this will just be process.nextTick(). We\n\ninherits(Changes, EventEmitter);\n\n/* istanbul ignore next */\nfunction attachBrowserEvents(self) {\n  if (hasLocalStorage()) {\n    addEventListener(\"storage\", function (e) {\n      self.emit(e.key);\n    });\n  }\n}\n\nfunction Changes() {\n  EventEmitter.call(this);\n  this._listeners = {};\n\n  attachBrowserEvents(this);\n}\nChanges.prototype.addListener = function (dbName, id, db, opts) {\n  /* istanbul ignore if */\n  if (this._listeners[id]) {\n    return;\n  }\n  var self = this;\n  var inprogress = false;\n  function eventFunction() {\n    /* istanbul ignore if */\n    if (!self._listeners[id]) {\n      return;\n    }\n    if (inprogress) {\n      inprogress = 'waiting';\n      return;\n    }\n    inprogress = true;\n    var changesOpts = pick(opts, [\n      'style', 'include_docs', 'attachments', 'conflicts', 'filter',\n      'doc_ids', 'view', 'since', 'query_params', 'binary', 'return_docs'\n    ]);\n\n    /* istanbul ignore next */\n    function onError() {\n      inprogress = false;\n    }\n\n    db.changes(changesOpts).on('change', function (c) {\n      if (c.seq > opts.since && !opts.cancelled) {\n        opts.since = c.seq;\n        opts.onChange(c);\n      }\n    }).on('complete', function () {\n      if (inprogress === 'waiting') {\n        immediate(eventFunction);\n      }\n      inprogress = false;\n    }).on('error', onError);\n  }\n  this._listeners[id] = eventFunction;\n  this.on(dbName, eventFunction);\n};\n\nChanges.prototype.removeListener = function (dbName, id) {\n  /* istanbul ignore if */\n  if (!(id in this._listeners)) {\n    return;\n  }\n  EventEmitter.prototype.removeListener.call(this, dbName,\n    this._listeners[id]);\n  delete this._listeners[id];\n};\n\n\n/* istanbul ignore next */\nChanges.prototype.notifyLocalWindows = function (dbName) {\n  //do a useless change on a storage thing\n  //in order to get other windows's listeners to activate\n  if (hasLocalStorage()) {\n    localStorage[dbName] = (localStorage[dbName] === \"a\") ? \"b\" : \"a\";\n  }\n};\n\nChanges.prototype.notify = function (dbName) {\n  this.emit(dbName);\n  this.notifyLocalWindows(dbName);\n};\n\nfunction guardedConsole(method) {\n  /* istanbul ignore else */\n  if (typeof console !== 'undefined' && typeof console[method] === 'function') {\n    var args = Array.prototype.slice.call(arguments, 1);\n    console[method].apply(console, args);\n  }\n}\n\nfunction randomNumber(min, max) {\n  var maxTimeout = 600000; // Hard-coded default of 10 minutes\n  min = parseInt(min, 10) || 0;\n  max = parseInt(max, 10);\n  if (max !== max || max <= min) {\n    max = (min || 1) << 1; //doubling\n  } else {\n    max = max + 1;\n  }\n  // In order to not exceed maxTimeout, pick a random value between half of maxTimeout and maxTimeout\n  if (max > maxTimeout) {\n    min = maxTimeout >> 1; // divide by two\n    max = maxTimeout;\n  }\n  var ratio = Math.random();\n  var range = max - min;\n\n  return ~~(range * ratio + min); // ~~ coerces to an int, but fast.\n}\n\nfunction defaultBackOff(min) {\n  var max = 0;\n  if (!min) {\n    max = 2000;\n  }\n  return randomNumber(min, max);\n}\n\n// designed to give info to browser users, who are disturbed\n// when they see http errors in the console\nfunction explainError(status, str) {\n  guardedConsole('info', 'The above ' + status + ' is totally normal. ' + str);\n}\n\nvar assign;\n{\n  if (typeof Object.assign === 'function') {\n    assign = Object.assign;\n  } else {\n    // lite Object.assign polyfill based on\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n    assign = function (target) {\n      var to = Object(target);\n\n      for (var index = 1; index < arguments.length; index++) {\n        var nextSource = arguments[index];\n\n        if (nextSource != null) { // Skip over if undefined or null\n          for (var nextKey in nextSource) {\n            // Avoid bugs when hasOwnProperty is shadowed\n            if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n              to[nextKey] = nextSource[nextKey];\n            }\n          }\n        }\n      }\n      return to;\n    };\n  }\n}\n\nvar assign$1 = assign;\n\nfunction tryFilter(filter, doc, req) {\n  try {\n    return !filter(doc, req);\n  } catch (err) {\n    var msg = 'Filter function threw: ' + err.toString();\n    return createError(BAD_REQUEST, msg);\n  }\n}\n\nfunction filterChange(opts) {\n  var req = {};\n  var hasFilter = opts.filter && typeof opts.filter === 'function';\n  req.query = opts.query_params;\n\n  return function filter(change) {\n    if (!change.doc) {\n      // CSG sends events on the changes feed that don't have documents,\n      // this hack makes a whole lot of existing code robust.\n      change.doc = {};\n    }\n\n    var filterReturn = hasFilter && tryFilter(opts.filter, change.doc, req);\n\n    if (typeof filterReturn === 'object') {\n      return filterReturn;\n    }\n\n    if (filterReturn) {\n      return false;\n    }\n\n    if (!opts.include_docs) {\n      delete change.doc;\n    } else if (!opts.attachments) {\n      for (var att in change.doc._attachments) {\n        /* istanbul ignore else */\n        if (change.doc._attachments.hasOwnProperty(att)) {\n          change.doc._attachments[att].stub = true;\n        }\n      }\n    }\n    return true;\n  };\n}\n\nfunction flatten(arrs) {\n  var res = [];\n  for (var i = 0, len = arrs.length; i < len; i++) {\n    res = res.concat(arrs[i]);\n  }\n  return res;\n}\n\n// shim for Function.prototype.name,\n// for browsers that don't support it like IE\n\n/* istanbul ignore next */\nfunction f() {}\n\nvar hasName = f.name;\nvar res;\n\n// We dont run coverage in IE\n/* istanbul ignore else */\nif (hasName) {\n  res = function (fun) {\n    return fun.name;\n  };\n} else {\n  res = function (fun) {\n    var match = fun.toString().match(/^\\s*function\\s*(?:(\\S+)\\s*)?\\(/);\n    if (match && match[1]) {\n      return match[1];\n    }\n    else {\n      return '';\n    }\n  };\n}\n\nvar res$1 = res;\n\n// Determine id an ID is valid\n//   - invalid IDs begin with an underescore that does not begin '_design' or\n//     '_local'\n//   - any other string value is a valid id\n// Returns the specific error object for each case\nfunction invalidIdError(id) {\n  var err;\n  if (!id) {\n    err = createError(MISSING_ID);\n  } else if (typeof id !== 'string') {\n    err = createError(INVALID_ID);\n  } else if (/^_/.test(id) && !(/^_(design|local)/).test(id)) {\n    err = createError(RESERVED_ID);\n  }\n  if (err) {\n    throw err;\n  }\n}\n\n// Checks if a PouchDB object is \"remote\" or not. This is\n\nfunction isRemote(db) {\n  if (typeof db._remote === 'boolean') {\n    return db._remote;\n  }\n  /* istanbul ignore next */\n  if (typeof db.type === 'function') {\n    guardedConsole('warn',\n      'db.type() is deprecated and will be removed in ' +\n      'a future version of PouchDB');\n    return db.type() === 'http';\n  }\n  /* istanbul ignore next */\n  return false;\n}\n\nfunction listenerCount(ee, type) {\n  return 'listenerCount' in ee ? ee.listenerCount(type) :\n                                 EventEmitter.listenerCount(ee, type);\n}\n\nfunction parseDesignDocFunctionName(s) {\n  if (!s) {\n    return null;\n  }\n  var parts = s.split('/');\n  if (parts.length === 2) {\n    return parts;\n  }\n  if (parts.length === 1) {\n    return [s, s];\n  }\n  return null;\n}\n\nfunction normalizeDesignDocFunctionName(s) {\n  var normalized = parseDesignDocFunctionName(s);\n  return normalized ? normalized.join('/') : null;\n}\n\n// originally parseUri 1.2.2, now patched by us\n// (c) Steven Levithan <stevenlevithan.com>\n// MIT License\nvar keys = [\"source\", \"protocol\", \"authority\", \"userInfo\", \"user\", \"password\",\n    \"host\", \"port\", \"relative\", \"path\", \"directory\", \"file\", \"query\", \"anchor\"];\nvar qName =\"queryKey\";\nvar qParser = /(?:^|&)([^&=]*)=?([^&]*)/g;\n\n// use the \"loose\" parser\n/* eslint maxlen: 0, no-useless-escape: 0 */\nvar parser = /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\nfunction parseUri(str) {\n  var m = parser.exec(str);\n  var uri = {};\n  var i = 14;\n\n  while (i--) {\n    var key = keys[i];\n    var value = m[i] || \"\";\n    var encoded = ['user', 'password'].indexOf(key) !== -1;\n    uri[key] = encoded ? decodeURIComponent(value) : value;\n  }\n\n  uri[qName] = {};\n  uri[keys[12]].replace(qParser, function ($0, $1, $2) {\n    if ($1) {\n      uri[qName][$1] = $2;\n    }\n  });\n\n  return uri;\n}\n\n// Based on https://github.com/alexdavid/scope-eval v0.0.3\n// (source: https://unpkg.com/scope-eval@0.0.3/scope_eval.js)\n// This is basically just a wrapper around new Function()\n\nfunction scopeEval(source, scope) {\n  var keys = [];\n  var values = [];\n  for (var key in scope) {\n    if (scope.hasOwnProperty(key)) {\n      keys.push(key);\n      values.push(scope[key]);\n    }\n  }\n  keys.push(source);\n  return Function.apply(null, keys).apply(null, values);\n}\n\n// this is essentially the \"update sugar\" function from daleharvey/pouchdb#1388\n// the diffFun tells us what delta to apply to the doc.  it either returns\n// the doc, or false if it doesn't need to do an update after all\nfunction upsert(db, docId, diffFun) {\n  return new Promise(function (fulfill, reject) {\n    db.get(docId, function (err, doc) {\n      if (err) {\n        /* istanbul ignore next */\n        if (err.status !== 404) {\n          return reject(err);\n        }\n        doc = {};\n      }\n\n      // the user might change the _rev, so save it for posterity\n      var docRev = doc._rev;\n      var newDoc = diffFun(doc);\n\n      if (!newDoc) {\n        // if the diffFun returns falsy, we short-circuit as\n        // an optimization\n        return fulfill({updated: false, rev: docRev});\n      }\n\n      // users aren't allowed to modify these values,\n      // so reset them here\n      newDoc._id = docId;\n      newDoc._rev = docRev;\n      fulfill(tryAndPut(db, newDoc, diffFun));\n    });\n  });\n}\n\nfunction tryAndPut(db, doc, diffFun) {\n  return db.put(doc).then(function (res) {\n    return {\n      updated: true,\n      rev: res.rev\n    };\n  }, function (err) {\n    /* istanbul ignore next */\n    if (err.status !== 409) {\n      throw err;\n    }\n    return upsert(db, doc._id, diffFun);\n  });\n}\n\nfunction rev(doc, deterministic_revs) {\n  var clonedDoc = clone(doc);\n  if (!deterministic_revs) {\n    return uuidV4.v4().replace(/-/g, '').toLowerCase();\n  }\n\n  delete clonedDoc._rev_tree;\n  return stringMd5(JSON.stringify(clonedDoc));\n}\n\nvar uuid = uuidV4.v4;\n\nexport { adapterFun, assign$1 as assign, bulkGet as bulkGetShim, Changes as changesHandler, clone$1 as clone, defaultBackOff, explainError, filterChange, flatten, res$1 as functionName, guardedConsole, hasLocalStorage, invalidIdError, isRemote, listenerCount, immediate as nextTick, normalizeDesignDocFunctionName as normalizeDdocFunctionName, once, parseDesignDocFunctionName as parseDdocFunctionName, parseUri, pick, rev, scopeEval, toPromise, upsert, uuid };\n","function pad(str, padWith, upToLength) {\n  var padding = '';\n  var targetLength = upToLength - str.length;\n  /* istanbul ignore next */\n  while (padding.length < targetLength) {\n    padding += padWith;\n  }\n  return padding;\n}\n\nfunction padLeft(str, padWith, upToLength) {\n  var padding = pad(str, padWith, upToLength);\n  return padding + str;\n}\n\nvar MIN_MAGNITUDE = -324; // verified by -Number.MIN_VALUE\nvar MAGNITUDE_DIGITS = 3; // ditto\nvar SEP = ''; // set to '_' for easier debugging \n\nfunction collate(a, b) {\n\n  if (a === b) {\n    return 0;\n  }\n\n  a = normalizeKey(a);\n  b = normalizeKey(b);\n\n  var ai = collationIndex(a);\n  var bi = collationIndex(b);\n  if ((ai - bi) !== 0) {\n    return ai - bi;\n  }\n  switch (typeof a) {\n    case 'number':\n      return a - b;\n    case 'boolean':\n      return a < b ? -1 : 1;\n    case 'string':\n      return stringCollate(a, b);\n  }\n  return Array.isArray(a) ? arrayCollate(a, b) : objectCollate(a, b);\n}\n\n// couch considers null/NaN/Infinity/-Infinity === undefined,\n// for the purposes of mapreduce indexes. also, dates get stringified.\nfunction normalizeKey(key) {\n  switch (typeof key) {\n    case 'undefined':\n      return null;\n    case 'number':\n      if (key === Infinity || key === -Infinity || isNaN(key)) {\n        return null;\n      }\n      return key;\n    case 'object':\n      var origKey = key;\n      if (Array.isArray(key)) {\n        var len = key.length;\n        key = new Array(len);\n        for (var i = 0; i < len; i++) {\n          key[i] = normalizeKey(origKey[i]);\n        }\n      /* istanbul ignore next */\n      } else if (key instanceof Date) {\n        return key.toJSON();\n      } else if (key !== null) { // generic object\n        key = {};\n        for (var k in origKey) {\n          if (origKey.hasOwnProperty(k)) {\n            var val = origKey[k];\n            if (typeof val !== 'undefined') {\n              key[k] = normalizeKey(val);\n            }\n          }\n        }\n      }\n  }\n  return key;\n}\n\nfunction indexify(key) {\n  if (key !== null) {\n    switch (typeof key) {\n      case 'boolean':\n        return key ? 1 : 0;\n      case 'number':\n        return numToIndexableString(key);\n      case 'string':\n        // We've to be sure that key does not contain \\u0000\n        // Do order-preserving replacements:\n        // 0 -> 1, 1\n        // 1 -> 1, 2\n        // 2 -> 2, 2\n        /* eslint-disable no-control-regex */\n        return key\n          .replace(/\\u0002/g, '\\u0002\\u0002')\n          .replace(/\\u0001/g, '\\u0001\\u0002')\n          .replace(/\\u0000/g, '\\u0001\\u0001');\n        /* eslint-enable no-control-regex */\n      case 'object':\n        var isArray = Array.isArray(key);\n        var arr = isArray ? key : Object.keys(key);\n        var i = -1;\n        var len = arr.length;\n        var result = '';\n        if (isArray) {\n          while (++i < len) {\n            result += toIndexableString(arr[i]);\n          }\n        } else {\n          while (++i < len) {\n            var objKey = arr[i];\n            result += toIndexableString(objKey) +\n                toIndexableString(key[objKey]);\n          }\n        }\n        return result;\n    }\n  }\n  return '';\n}\n\n// convert the given key to a string that would be appropriate\n// for lexical sorting, e.g. within a database, where the\n// sorting is the same given by the collate() function.\nfunction toIndexableString(key) {\n  var zero = '\\u0000';\n  key = normalizeKey(key);\n  return collationIndex(key) + SEP + indexify(key) + zero;\n}\n\nfunction parseNumber(str, i) {\n  var originalIdx = i;\n  var num;\n  var zero = str[i] === '1';\n  if (zero) {\n    num = 0;\n    i++;\n  } else {\n    var neg = str[i] === '0';\n    i++;\n    var numAsString = '';\n    var magAsString = str.substring(i, i + MAGNITUDE_DIGITS);\n    var magnitude = parseInt(magAsString, 10) + MIN_MAGNITUDE;\n    /* istanbul ignore next */\n    if (neg) {\n      magnitude = -magnitude;\n    }\n    i += MAGNITUDE_DIGITS;\n    while (true) {\n      var ch = str[i];\n      if (ch === '\\u0000') {\n        break;\n      } else {\n        numAsString += ch;\n      }\n      i++;\n    }\n    numAsString = numAsString.split('.');\n    if (numAsString.length === 1) {\n      num = parseInt(numAsString, 10);\n    } else {\n      /* istanbul ignore next */\n      num = parseFloat(numAsString[0] + '.' + numAsString[1]);\n    }\n    /* istanbul ignore next */\n    if (neg) {\n      num = num - 10;\n    }\n    /* istanbul ignore next */\n    if (magnitude !== 0) {\n      // parseFloat is more reliable than pow due to rounding errors\n      // e.g. Number.MAX_VALUE would return Infinity if we did\n      // num * Math.pow(10, magnitude);\n      num = parseFloat(num + 'e' + magnitude);\n    }\n  }\n  return {num: num, length : i - originalIdx};\n}\n\n// move up the stack while parsing\n// this function moved outside of parseIndexableString for performance\nfunction pop(stack, metaStack) {\n  var obj = stack.pop();\n\n  if (metaStack.length) {\n    var lastMetaElement = metaStack[metaStack.length - 1];\n    if (obj === lastMetaElement.element) {\n      // popping a meta-element, e.g. an object whose value is another object\n      metaStack.pop();\n      lastMetaElement = metaStack[metaStack.length - 1];\n    }\n    var element = lastMetaElement.element;\n    var lastElementIndex = lastMetaElement.index;\n    if (Array.isArray(element)) {\n      element.push(obj);\n    } else if (lastElementIndex === stack.length - 2) { // obj with key+value\n      var key = stack.pop();\n      element[key] = obj;\n    } else {\n      stack.push(obj); // obj with key only\n    }\n  }\n}\n\nfunction parseIndexableString(str) {\n  var stack = [];\n  var metaStack = []; // stack for arrays and objects\n  var i = 0;\n\n  /*eslint no-constant-condition: [\"error\", { \"checkLoops\": false }]*/\n  while (true) {\n    var collationIndex = str[i++];\n    if (collationIndex === '\\u0000') {\n      if (stack.length === 1) {\n        return stack.pop();\n      } else {\n        pop(stack, metaStack);\n        continue;\n      }\n    }\n    switch (collationIndex) {\n      case '1':\n        stack.push(null);\n        break;\n      case '2':\n        stack.push(str[i] === '1');\n        i++;\n        break;\n      case '3':\n        var parsedNum = parseNumber(str, i);\n        stack.push(parsedNum.num);\n        i += parsedNum.length;\n        break;\n      case '4':\n        var parsedStr = '';\n        /*eslint no-constant-condition: [\"error\", { \"checkLoops\": false }]*/\n        while (true) {\n          var ch = str[i];\n          if (ch === '\\u0000') {\n            break;\n          }\n          parsedStr += ch;\n          i++;\n        }\n        // perform the reverse of the order-preserving replacement\n        // algorithm (see above)\n        /* eslint-disable no-control-regex */\n        parsedStr = parsedStr.replace(/\\u0001\\u0001/g, '\\u0000')\n          .replace(/\\u0001\\u0002/g, '\\u0001')\n          .replace(/\\u0002\\u0002/g, '\\u0002');\n        /* eslint-enable no-control-regex */\n        stack.push(parsedStr);\n        break;\n      case '5':\n        var arrayElement = { element: [], index: stack.length };\n        stack.push(arrayElement.element);\n        metaStack.push(arrayElement);\n        break;\n      case '6':\n        var objElement = { element: {}, index: stack.length };\n        stack.push(objElement.element);\n        metaStack.push(objElement);\n        break;\n      /* istanbul ignore next */\n      default:\n        throw new Error(\n          'bad collationIndex or unexpectedly reached end of input: ' +\n            collationIndex);\n    }\n  }\n}\n\nfunction arrayCollate(a, b) {\n  var len = Math.min(a.length, b.length);\n  for (var i = 0; i < len; i++) {\n    var sort = collate(a[i], b[i]);\n    if (sort !== 0) {\n      return sort;\n    }\n  }\n  return (a.length === b.length) ? 0 :\n    (a.length > b.length) ? 1 : -1;\n}\nfunction stringCollate(a, b) {\n  // See: https://github.com/daleharvey/pouchdb/issues/40\n  // This is incompatible with the CouchDB implementation, but its the\n  // best we can do for now\n  return (a === b) ? 0 : ((a > b) ? 1 : -1);\n}\nfunction objectCollate(a, b) {\n  var ak = Object.keys(a), bk = Object.keys(b);\n  var len = Math.min(ak.length, bk.length);\n  for (var i = 0; i < len; i++) {\n    // First sort the keys\n    var sort = collate(ak[i], bk[i]);\n    if (sort !== 0) {\n      return sort;\n    }\n    // if the keys are equal sort the values\n    sort = collate(a[ak[i]], b[bk[i]]);\n    if (sort !== 0) {\n      return sort;\n    }\n\n  }\n  return (ak.length === bk.length) ? 0 :\n    (ak.length > bk.length) ? 1 : -1;\n}\n// The collation is defined by erlangs ordered terms\n// the atoms null, true, false come first, then numbers, strings,\n// arrays, then objects\n// null/undefined/NaN/Infinity/-Infinity are all considered null\nfunction collationIndex(x) {\n  var id = ['boolean', 'number', 'string', 'object'];\n  var idx = id.indexOf(typeof x);\n  //false if -1 otherwise true, but fast!!!!1\n  if (~idx) {\n    if (x === null) {\n      return 1;\n    }\n    if (Array.isArray(x)) {\n      return 5;\n    }\n    return idx < 3 ? (idx + 2) : (idx + 3);\n  }\n  /* istanbul ignore next */\n  if (Array.isArray(x)) {\n    return 5;\n  }\n}\n\n// conversion:\n// x yyy zz...zz\n// x = 0 for negative, 1 for 0, 2 for positive\n// y = exponent (for negative numbers negated) moved so that it's >= 0\n// z = mantisse\nfunction numToIndexableString(num) {\n\n  if (num === 0) {\n    return '1';\n  }\n\n  // convert number to exponential format for easier and\n  // more succinct string sorting\n  var expFormat = num.toExponential().split(/e\\+?/);\n  var magnitude = parseInt(expFormat[1], 10);\n\n  var neg = num < 0;\n\n  var result = neg ? '0' : '2';\n\n  // first sort by magnitude\n  // it's easier if all magnitudes are positive\n  var magForComparison = ((neg ? -magnitude : magnitude) - MIN_MAGNITUDE);\n  var magString = padLeft((magForComparison).toString(), '0', MAGNITUDE_DIGITS);\n\n  result += SEP + magString;\n\n  // then sort by the factor\n  var factor = Math.abs(parseFloat(expFormat[0])); // [1..10)\n  /* istanbul ignore next */\n  if (neg) { // for negative reverse ordering\n    factor = 10 - factor;\n  }\n\n  var factorStr = factor.toFixed(20);\n\n  // strip zeros from the end\n  factorStr = factorStr.replace(/\\.?0+$/, '');\n\n  result += SEP + factorStr;\n\n  return result;\n}\n\nexport { collate, normalizeKey, toIndexableString, parseIndexableString };\n","// AbortController was introduced quite a while after fetch and\n// isnt required for PouchDB to function so polyfill if needed\nvar a = (typeof AbortController !== 'undefined')\n    ? AbortController\n    : function () { return {abort: function () {}}; };\n\nvar f = fetch;\nvar h = Headers;\n\nexport { f as fetch, h as Headers, a as AbortController };\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","function mangle(key) {\n  return '$' + key;\n}\nfunction unmangle(key) {\n  return key.substring(1);\n}\nfunction Map$1() {\n  this._store = {};\n}\nMap$1.prototype.get = function (key) {\n  var mangled = mangle(key);\n  return this._store[mangled];\n};\nMap$1.prototype.set = function (key, value) {\n  var mangled = mangle(key);\n  this._store[mangled] = value;\n  return true;\n};\nMap$1.prototype.has = function (key) {\n  var mangled = mangle(key);\n  return mangled in this._store;\n};\nMap$1.prototype.delete = function (key) {\n  var mangled = mangle(key);\n  var res = mangled in this._store;\n  delete this._store[mangled];\n  return res;\n};\nMap$1.prototype.forEach = function (cb) {\n  var keys = Object.keys(this._store);\n  for (var i = 0, len = keys.length; i < len; i++) {\n    var key = keys[i];\n    var value = this._store[key];\n    key = unmangle(key);\n    cb(value, key);\n  }\n};\nObject.defineProperty(Map$1.prototype, 'size', {\n  get: function () {\n    return Object.keys(this._store).length;\n  }\n});\n\nfunction Set$1(array) {\n  this._store = new Map$1();\n\n  // init with an array\n  if (array && Array.isArray(array)) {\n    for (var i = 0, len = array.length; i < len; i++) {\n      this.add(array[i]);\n    }\n  }\n}\nSet$1.prototype.add = function (key) {\n  return this._store.set(key, true);\n};\nSet$1.prototype.has = function (key) {\n  return this._store.has(key);\n};\nSet$1.prototype.forEach = function (cb) {\n  this._store.forEach(function (value, key) {\n    cb(key);\n  });\n};\nObject.defineProperty(Set$1.prototype, 'size', {\n  get: function () {\n    return this._store.size;\n  }\n});\n\n/* global Map,Set,Symbol */\n// Based on https://kangax.github.io/compat-table/es6/ we can sniff out\n// incomplete Map/Set implementations which would otherwise cause our tests to fail.\n// Notably they fail in IE11 and iOS 8.4, which this prevents.\nfunction supportsMapAndSet() {\n  if (typeof Symbol === 'undefined' || typeof Map === 'undefined' || typeof Set === 'undefined') {\n    return false;\n  }\n  var prop = Object.getOwnPropertyDescriptor(Map, Symbol.species);\n  return prop && 'get' in prop && Map[Symbol.species] === Map;\n}\n\n// based on https://github.com/montagejs/collections\n\nvar ExportedSet;\nvar ExportedMap;\n\n{\n  if (supportsMapAndSet()) { // prefer built-in Map/Set\n    ExportedSet = Set;\n    ExportedMap = Map;\n  } else { // fall back to our polyfill\n    ExportedSet = Set$1;\n    ExportedMap = Map$1;\n  }\n}\n\nexport { ExportedSet as Set, ExportedMap as Map };\n","import inherits from 'inherits';\n\ninherits(PouchError, Error);\n\nfunction PouchError(status, error, reason) {\n  Error.call(this, reason);\n  this.status = status;\n  this.name = error;\n  this.message = reason;\n  this.error = true;\n}\n\nPouchError.prototype.toString = function () {\n  return JSON.stringify({\n    status: this.status,\n    name: this.name,\n    message: this.message,\n    reason: this.reason\n  });\n};\n\nvar UNAUTHORIZED = new PouchError(401, 'unauthorized', \"Name or password is incorrect.\");\nvar MISSING_BULK_DOCS = new PouchError(400, 'bad_request', \"Missing JSON list of 'docs'\");\nvar MISSING_DOC = new PouchError(404, 'not_found', 'missing');\nvar REV_CONFLICT = new PouchError(409, 'conflict', 'Document update conflict');\nvar INVALID_ID = new PouchError(400, 'bad_request', '_id field must contain a string');\nvar MISSING_ID = new PouchError(412, 'missing_id', '_id is required for puts');\nvar RESERVED_ID = new PouchError(400, 'bad_request', 'Only reserved document ids may start with underscore.');\nvar NOT_OPEN = new PouchError(412, 'precondition_failed', 'Database not open');\nvar UNKNOWN_ERROR = new PouchError(500, 'unknown_error', 'Database encountered an unknown error');\nvar BAD_ARG = new PouchError(500, 'badarg', 'Some query argument is invalid');\nvar INVALID_REQUEST = new PouchError(400, 'invalid_request', 'Request was invalid');\nvar QUERY_PARSE_ERROR = new PouchError(400, 'query_parse_error', 'Some query parameter is invalid');\nvar DOC_VALIDATION = new PouchError(500, 'doc_validation', 'Bad special document member');\nvar BAD_REQUEST = new PouchError(400, 'bad_request', 'Something wrong with the request');\nvar NOT_AN_OBJECT = new PouchError(400, 'bad_request', 'Document must be a JSON object');\nvar DB_MISSING = new PouchError(404, 'not_found', 'Database not found');\nvar IDB_ERROR = new PouchError(500, 'indexed_db_went_bad', 'unknown');\nvar WSQ_ERROR = new PouchError(500, 'web_sql_went_bad', 'unknown');\nvar LDB_ERROR = new PouchError(500, 'levelDB_went_went_bad', 'unknown');\nvar FORBIDDEN = new PouchError(403, 'forbidden', 'Forbidden by design doc validate_doc_update function');\nvar INVALID_REV = new PouchError(400, 'bad_request', 'Invalid rev format');\nvar FILE_EXISTS = new PouchError(412, 'file_exists', 'The database could not be created, the file already exists.');\nvar MISSING_STUB = new PouchError(412, 'missing_stub', 'A pre-existing attachment stub wasn\\'t found');\nvar INVALID_URL = new PouchError(413, 'invalid_url', 'Provided URL is invalid');\n\nfunction createError(error, reason) {\n  function CustomPouchError(reason) {\n    // inherit error properties from our parent error manually\n    // so as to allow proper JSON parsing.\n    /* jshint ignore:start */\n    for (var p in error) {\n      if (typeof error[p] !== 'function') {\n        this[p] = error[p];\n      }\n    }\n    /* jshint ignore:end */\n    if (reason !== undefined) {\n      this.reason = reason;\n    }\n  }\n  CustomPouchError.prototype = PouchError.prototype;\n  return new CustomPouchError(reason);\n}\n\nfunction generateErrorFromResponse(err) {\n\n  if (typeof err !== 'object') {\n    var data = err;\n    err = UNKNOWN_ERROR;\n    err.data = data;\n  }\n\n  if ('error' in err && err.error === 'conflict') {\n    err.name = 'conflict';\n    err.status = 409;\n  }\n\n  if (!('name' in err)) {\n    err.name = err.error || 'unknown';\n  }\n\n  if (!('status' in err)) {\n    err.status = 500;\n  }\n\n  if (!('message' in err)) {\n    err.message = err.message || err.reason;\n  }\n\n  return err;\n}\n\nexport { UNAUTHORIZED, MISSING_BULK_DOCS, MISSING_DOC, REV_CONFLICT, INVALID_ID, MISSING_ID, RESERVED_ID, NOT_OPEN, UNKNOWN_ERROR, BAD_ARG, INVALID_REQUEST, QUERY_PARSE_ERROR, DOC_VALIDATION, BAD_REQUEST, NOT_AN_OBJECT, DB_MISSING, WSQ_ERROR, LDB_ERROR, FORBIDDEN, INVALID_REV, FILE_EXISTS, MISSING_STUB, IDB_ERROR, INVALID_URL, createError, generateErrorFromResponse };\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && msCrypto.getRandomValues.bind(msCrypto));\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  return bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]];\n}\n\nmodule.exports = bytesToUuid;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n","var thisAtob = function (str) {\n  return atob(str);\n};\n\nvar thisBtoa = function (str) {\n  return btoa(str);\n};\n\n// Abstracts constructing a Blob object, so it also works in older\n// browsers that don't support the native Blob constructor (e.g.\n// old QtWebKit versions, Android < 4.4).\nfunction createBlob(parts, properties) {\n  /* global BlobBuilder,MSBlobBuilder,MozBlobBuilder,WebKitBlobBuilder */\n  parts = parts || [];\n  properties = properties || {};\n  try {\n    return new Blob(parts, properties);\n  } catch (e) {\n    if (e.name !== \"TypeError\") {\n      throw e;\n    }\n    var Builder = typeof BlobBuilder !== 'undefined' ? BlobBuilder :\n                  typeof MSBlobBuilder !== 'undefined' ? MSBlobBuilder :\n                  typeof MozBlobBuilder !== 'undefined' ? MozBlobBuilder :\n                  WebKitBlobBuilder;\n    var builder = new Builder();\n    for (var i = 0; i < parts.length; i += 1) {\n      builder.append(parts[i]);\n    }\n    return builder.getBlob(properties.type);\n  }\n}\n\n// From http://stackoverflow.com/questions/14967647/ (continues on next line)\n// encode-decode-image-with-base64-breaks-image (2013-04-21)\nfunction binaryStringToArrayBuffer(bin) {\n  var length = bin.length;\n  var buf = new ArrayBuffer(length);\n  var arr = new Uint8Array(buf);\n  for (var i = 0; i < length; i++) {\n    arr[i] = bin.charCodeAt(i);\n  }\n  return buf;\n}\n\nfunction binStringToBluffer(binString, type) {\n  return createBlob([binaryStringToArrayBuffer(binString)], {type: type});\n}\n\nfunction b64ToBluffer(b64, type) {\n  return binStringToBluffer(thisAtob(b64), type);\n}\n\n//Can't find original post, but this is close\n//http://stackoverflow.com/questions/6965107/ (continues on next line)\n//converting-between-strings-and-arraybuffers\nfunction arrayBufferToBinaryString(buffer) {\n  var binary = '';\n  var bytes = new Uint8Array(buffer);\n  var length = bytes.byteLength;\n  for (var i = 0; i < length; i++) {\n    binary += String.fromCharCode(bytes[i]);\n  }\n  return binary;\n}\n\n// shim for browsers that don't support it\nfunction readAsBinaryString(blob, callback) {\n  var reader = new FileReader();\n  var hasBinaryString = typeof reader.readAsBinaryString === 'function';\n  reader.onloadend = function (e) {\n    var result = e.target.result || '';\n    if (hasBinaryString) {\n      return callback(result);\n    }\n    callback(arrayBufferToBinaryString(result));\n  };\n  if (hasBinaryString) {\n    reader.readAsBinaryString(blob);\n  } else {\n    reader.readAsArrayBuffer(blob);\n  }\n}\n\nfunction blobToBinaryString(blobOrBuffer, callback) {\n  readAsBinaryString(blobOrBuffer, function (bin) {\n    callback(bin);\n  });\n}\n\nfunction blobToBase64(blobOrBuffer, callback) {\n  blobToBinaryString(blobOrBuffer, function (base64) {\n    callback(thisBtoa(base64));\n  });\n}\n\n// simplified API. universal browser support is assumed\nfunction readAsArrayBuffer(blob, callback) {\n  var reader = new FileReader();\n  reader.onloadend = function (e) {\n    var result = e.target.result || new ArrayBuffer(0);\n    callback(result);\n  };\n  reader.readAsArrayBuffer(blob);\n}\n\n// this is not used in the browser\nfunction typedBuffer() {\n}\n\nexport { thisAtob as atob, thisBtoa as btoa, b64ToBluffer as base64StringToBlobOrBuffer, binaryStringToArrayBuffer, binStringToBluffer as binaryStringToBlobOrBuffer, createBlob as blob, blobToBase64 as blobOrBufferToBase64, blobToBinaryString as blobOrBufferToBinaryString, readAsArrayBuffer, readAsBinaryString, typedBuffer };\n","import { btoa, readAsArrayBuffer } from 'pouchdb-binary-utils';\nimport Md5 from 'spark-md5';\n\nvar setImmediateShim = global.setImmediate || global.setTimeout;\nvar MD5_CHUNK_SIZE = 32768;\n\nfunction rawToBase64(raw) {\n  return btoa(raw);\n}\n\nfunction sliceBlob(blob, start, end) {\n  if (blob.webkitSlice) {\n    return blob.webkitSlice(start, end);\n  }\n  return blob.slice(start, end);\n}\n\nfunction appendBlob(buffer, blob, start, end, callback) {\n  if (start > 0 || end < blob.size) {\n    // only slice blob if we really need to\n    blob = sliceBlob(blob, start, end);\n  }\n  readAsArrayBuffer(blob, function (arrayBuffer) {\n    buffer.append(arrayBuffer);\n    callback();\n  });\n}\n\nfunction appendString(buffer, string, start, end, callback) {\n  if (start > 0 || end < string.length) {\n    // only create a substring if we really need to\n    string = string.substring(start, end);\n  }\n  buffer.appendBinary(string);\n  callback();\n}\n\nfunction binaryMd5(data, callback) {\n  var inputIsString = typeof data === 'string';\n  var len = inputIsString ? data.length : data.size;\n  var chunkSize = Math.min(MD5_CHUNK_SIZE, len);\n  var chunks = Math.ceil(len / chunkSize);\n  var currentChunk = 0;\n  var buffer = inputIsString ? new Md5() : new Md5.ArrayBuffer();\n\n  var append = inputIsString ? appendString : appendBlob;\n\n  function next() {\n    setImmediateShim(loadNextChunk);\n  }\n\n  function done() {\n    var raw = buffer.end(true);\n    var base64 = rawToBase64(raw);\n    callback(base64);\n    buffer.destroy();\n  }\n\n  function loadNextChunk() {\n    var start = currentChunk * chunkSize;\n    var end = start + chunkSize;\n    currentChunk++;\n    if (currentChunk < chunks) {\n      append(buffer, data, start, end, next);\n    } else {\n      append(buffer, data, start, end, done);\n    }\n  }\n  loadNextChunk();\n}\n\nfunction stringMd5(string) {\n  return Md5.hash(string);\n}\n\nexport { binaryMd5, stringMd5 };\n","import getArguments from 'argsarray';\nimport { Map } from 'pouchdb-collections';\nimport immediate from 'immediate';\nimport { EventEmitter } from 'events';\nimport inherits from 'inherits';\nimport { createError, BAD_REQUEST, INVALID_ID, MISSING_ID, RESERVED_ID } from 'pouchdb-errors';\nimport uuidV4 from 'uuid';\nimport { stringMd5 } from 'pouchdb-md5';\nimport { clone } from 'pouchdb-utils';\n\nfunction isBinaryObject(object) {\n  return (typeof ArrayBuffer !== 'undefined' && object instanceof ArrayBuffer) ||\n    (typeof Blob !== 'undefined' && object instanceof Blob);\n}\n\nfunction cloneArrayBuffer(buff) {\n  if (typeof buff.slice === 'function') {\n    return buff.slice(0);\n  }\n  // IE10-11 slice() polyfill\n  var target = new ArrayBuffer(buff.byteLength);\n  var targetArray = new Uint8Array(target);\n  var sourceArray = new Uint8Array(buff);\n  targetArray.set(sourceArray);\n  return target;\n}\n\nfunction cloneBinaryObject(object) {\n  if (object instanceof ArrayBuffer) {\n    return cloneArrayBuffer(object);\n  }\n  var size = object.size;\n  var type = object.type;\n  // Blob\n  if (typeof object.slice === 'function') {\n    return object.slice(0, size, type);\n  }\n  // PhantomJS slice() replacement\n  return object.webkitSlice(0, size, type);\n}\n\n// most of this is borrowed from lodash.isPlainObject:\n// https://github.com/fis-components/lodash.isplainobject/\n// blob/29c358140a74f252aeb08c9eb28bef86f2217d4a/index.js\n\nvar funcToString = Function.prototype.toString;\nvar objectCtorString = funcToString.call(Object);\n\nfunction isPlainObject(value) {\n  var proto = Object.getPrototypeOf(value);\n  /* istanbul ignore if */\n  if (proto === null) { // not sure when this happens, but I guess it can\n    return true;\n  }\n  var Ctor = proto.constructor;\n  return (typeof Ctor == 'function' &&\n    Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString);\n}\n\nfunction clone$1(object) {\n  var newObject;\n  var i;\n  var len;\n\n  if (!object || typeof object !== 'object') {\n    return object;\n  }\n\n  if (Array.isArray(object)) {\n    newObject = [];\n    for (i = 0, len = object.length; i < len; i++) {\n      newObject[i] = clone$1(object[i]);\n    }\n    return newObject;\n  }\n\n  // special case: to avoid inconsistencies between IndexedDB\n  // and other backends, we automatically stringify Dates\n  if (object instanceof Date) {\n    return object.toISOString();\n  }\n\n  if (isBinaryObject(object)) {\n    return cloneBinaryObject(object);\n  }\n\n  if (!isPlainObject(object)) {\n    return object; // don't clone objects like Workers\n  }\n\n  newObject = {};\n  for (i in object) {\n    /* istanbul ignore else */\n    if (Object.prototype.hasOwnProperty.call(object, i)) {\n      var value = clone$1(object[i]);\n      if (typeof value !== 'undefined') {\n        newObject[i] = value;\n      }\n    }\n  }\n  return newObject;\n}\n\nfunction once(fun) {\n  var called = false;\n  return getArguments(function (args) {\n    /* istanbul ignore if */\n    if (called) {\n      // this is a smoke test and should never actually happen\n      throw new Error('once called more than once');\n    } else {\n      called = true;\n      fun.apply(this, args);\n    }\n  });\n}\n\nfunction toPromise(func) {\n  //create the function we will be returning\n  return getArguments(function (args) {\n    // Clone arguments\n    args = clone$1(args);\n    var self = this;\n    // if the last argument is a function, assume its a callback\n    var usedCB = (typeof args[args.length - 1] === 'function') ? args.pop() : false;\n    var promise = new Promise(function (fulfill, reject) {\n      var resp;\n      try {\n        var callback = once(function (err, mesg) {\n          if (err) {\n            reject(err);\n          } else {\n            fulfill(mesg);\n          }\n        });\n        // create a callback for this invocation\n        // apply the function in the orig context\n        args.push(callback);\n        resp = func.apply(self, args);\n        if (resp && typeof resp.then === 'function') {\n          fulfill(resp);\n        }\n      } catch (e) {\n        reject(e);\n      }\n    });\n    // if there is a callback, call it back\n    if (usedCB) {\n      promise.then(function (result) {\n        usedCB(null, result);\n      }, usedCB);\n    }\n    return promise;\n  });\n}\n\nfunction logApiCall(self, name, args) {\n  /* istanbul ignore if */\n  if (self.constructor.listeners('debug').length) {\n    var logArgs = ['api', self.name, name];\n    for (var i = 0; i < args.length - 1; i++) {\n      logArgs.push(args[i]);\n    }\n    self.constructor.emit('debug', logArgs);\n\n    // override the callback itself to log the response\n    var origCallback = args[args.length - 1];\n    args[args.length - 1] = function (err, res) {\n      var responseArgs = ['api', self.name, name];\n      responseArgs = responseArgs.concat(\n        err ? ['error', err] : ['success', res]\n      );\n      self.constructor.emit('debug', responseArgs);\n      origCallback(err, res);\n    };\n  }\n}\n\nfunction adapterFun(name, callback) {\n  return toPromise(getArguments(function (args) {\n    if (this._closed) {\n      return Promise.reject(new Error('database is closed'));\n    }\n    if (this._destroyed) {\n      return Promise.reject(new Error('database is destroyed'));\n    }\n    var self = this;\n    logApiCall(self, name, args);\n    if (!this.taskqueue.isReady) {\n      return new Promise(function (fulfill, reject) {\n        self.taskqueue.addTask(function (failed) {\n          if (failed) {\n            reject(failed);\n          } else {\n            fulfill(self[name].apply(self, args));\n          }\n        });\n      });\n    }\n    return callback.apply(this, args);\n  }));\n}\n\n// like underscore/lodash _.pick()\nfunction pick(obj, arr) {\n  var res = {};\n  for (var i = 0, len = arr.length; i < len; i++) {\n    var prop = arr[i];\n    if (prop in obj) {\n      res[prop] = obj[prop];\n    }\n  }\n  return res;\n}\n\n// Most browsers throttle concurrent requests at 6, so it's silly\n// to shim _bulk_get by trying to launch potentially hundreds of requests\n// and then letting the majority time out. We can handle this ourselves.\nvar MAX_NUM_CONCURRENT_REQUESTS = 6;\n\nfunction identityFunction(x) {\n  return x;\n}\n\nfunction formatResultForOpenRevsGet(result) {\n  return [{\n    ok: result\n  }];\n}\n\n// shim for P/CouchDB adapters that don't directly implement _bulk_get\nfunction bulkGet(db, opts, callback) {\n  var requests = opts.docs;\n\n  // consolidate into one request per doc if possible\n  var requestsById = new Map();\n  requests.forEach(function (request) {\n    if (requestsById.has(request.id)) {\n      requestsById.get(request.id).push(request);\n    } else {\n      requestsById.set(request.id, [request]);\n    }\n  });\n\n  var numDocs = requestsById.size;\n  var numDone = 0;\n  var perDocResults = new Array(numDocs);\n\n  function collapseResultsAndFinish() {\n    var results = [];\n    perDocResults.forEach(function (res) {\n      res.docs.forEach(function (info) {\n        results.push({\n          id: res.id,\n          docs: [info]\n        });\n      });\n    });\n    callback(null, {results: results});\n  }\n\n  function checkDone() {\n    if (++numDone === numDocs) {\n      collapseResultsAndFinish();\n    }\n  }\n\n  function gotResult(docIndex, id, docs) {\n    perDocResults[docIndex] = {id: id, docs: docs};\n    checkDone();\n  }\n\n  var allRequests = [];\n  requestsById.forEach(function (value, key) {\n    allRequests.push(key);\n  });\n\n  var i = 0;\n\n  function nextBatch() {\n\n    if (i >= allRequests.length) {\n      return;\n    }\n\n    var upTo = Math.min(i + MAX_NUM_CONCURRENT_REQUESTS, allRequests.length);\n    var batch = allRequests.slice(i, upTo);\n    processBatch(batch, i);\n    i += batch.length;\n  }\n\n  function processBatch(batch, offset) {\n    batch.forEach(function (docId, j) {\n      var docIdx = offset + j;\n      var docRequests = requestsById.get(docId);\n\n      // just use the first request as the \"template\"\n      // TODO: The _bulk_get API allows for more subtle use cases than this,\n      // but for now it is unlikely that there will be a mix of different\n      // \"atts_since\" or \"attachments\" in the same request, since it's just\n      // replicate.js that is using this for the moment.\n      // Also, atts_since is aspirational, since we don't support it yet.\n      var docOpts = pick(docRequests[0], ['atts_since', 'attachments']);\n      docOpts.open_revs = docRequests.map(function (request) {\n        // rev is optional, open_revs disallowed\n        return request.rev;\n      });\n\n      // remove falsey / undefined revisions\n      docOpts.open_revs = docOpts.open_revs.filter(identityFunction);\n\n      var formatResult = identityFunction;\n\n      if (docOpts.open_revs.length === 0) {\n        delete docOpts.open_revs;\n\n        // when fetching only the \"winning\" leaf,\n        // transform the result so it looks like an open_revs\n        // request\n        formatResult = formatResultForOpenRevsGet;\n      }\n\n      // globally-supplied options\n      ['revs', 'attachments', 'binary', 'ajax', 'latest'].forEach(function (param) {\n        if (param in opts) {\n          docOpts[param] = opts[param];\n        }\n      });\n      db.get(docId, docOpts, function (err, res) {\n        var result;\n        /* istanbul ignore if */\n        if (err) {\n          result = [{error: err}];\n        } else {\n          result = formatResult(res);\n        }\n        gotResult(docIdx, docId, result);\n        nextBatch();\n      });\n    });\n  }\n\n  nextBatch();\n\n}\n\nvar hasLocal;\n\ntry {\n  localStorage.setItem('_pouch_check_localstorage', 1);\n  hasLocal = !!localStorage.getItem('_pouch_check_localstorage');\n} catch (e) {\n  hasLocal = false;\n}\n\nfunction hasLocalStorage() {\n  return hasLocal;\n}\n\n// Custom nextTick() shim for browsers. In node, this will just be process.nextTick(). We\n\ninherits(Changes, EventEmitter);\n\n/* istanbul ignore next */\nfunction attachBrowserEvents(self) {\n  if (hasLocalStorage()) {\n    addEventListener(\"storage\", function (e) {\n      self.emit(e.key);\n    });\n  }\n}\n\nfunction Changes() {\n  EventEmitter.call(this);\n  this._listeners = {};\n\n  attachBrowserEvents(this);\n}\nChanges.prototype.addListener = function (dbName, id, db, opts) {\n  /* istanbul ignore if */\n  if (this._listeners[id]) {\n    return;\n  }\n  var self = this;\n  var inprogress = false;\n  function eventFunction() {\n    /* istanbul ignore if */\n    if (!self._listeners[id]) {\n      return;\n    }\n    if (inprogress) {\n      inprogress = 'waiting';\n      return;\n    }\n    inprogress = true;\n    var changesOpts = pick(opts, [\n      'style', 'include_docs', 'attachments', 'conflicts', 'filter',\n      'doc_ids', 'view', 'since', 'query_params', 'binary', 'return_docs'\n    ]);\n\n    /* istanbul ignore next */\n    function onError() {\n      inprogress = false;\n    }\n\n    db.changes(changesOpts).on('change', function (c) {\n      if (c.seq > opts.since && !opts.cancelled) {\n        opts.since = c.seq;\n        opts.onChange(c);\n      }\n    }).on('complete', function () {\n      if (inprogress === 'waiting') {\n        immediate(eventFunction);\n      }\n      inprogress = false;\n    }).on('error', onError);\n  }\n  this._listeners[id] = eventFunction;\n  this.on(dbName, eventFunction);\n};\n\nChanges.prototype.removeListener = function (dbName, id) {\n  /* istanbul ignore if */\n  if (!(id in this._listeners)) {\n    return;\n  }\n  EventEmitter.prototype.removeListener.call(this, dbName,\n    this._listeners[id]);\n  delete this._listeners[id];\n};\n\n\n/* istanbul ignore next */\nChanges.prototype.notifyLocalWindows = function (dbName) {\n  //do a useless change on a storage thing\n  //in order to get other windows's listeners to activate\n  if (hasLocalStorage()) {\n    localStorage[dbName] = (localStorage[dbName] === \"a\") ? \"b\" : \"a\";\n  }\n};\n\nChanges.prototype.notify = function (dbName) {\n  this.emit(dbName);\n  this.notifyLocalWindows(dbName);\n};\n\nfunction guardedConsole(method) {\n  /* istanbul ignore else */\n  if (typeof console !== 'undefined' && typeof console[method] === 'function') {\n    var args = Array.prototype.slice.call(arguments, 1);\n    console[method].apply(console, args);\n  }\n}\n\nfunction randomNumber(min, max) {\n  var maxTimeout = 600000; // Hard-coded default of 10 minutes\n  min = parseInt(min, 10) || 0;\n  max = parseInt(max, 10);\n  if (max !== max || max <= min) {\n    max = (min || 1) << 1; //doubling\n  } else {\n    max = max + 1;\n  }\n  // In order to not exceed maxTimeout, pick a random value between half of maxTimeout and maxTimeout\n  if (max > maxTimeout) {\n    min = maxTimeout >> 1; // divide by two\n    max = maxTimeout;\n  }\n  var ratio = Math.random();\n  var range = max - min;\n\n  return ~~(range * ratio + min); // ~~ coerces to an int, but fast.\n}\n\nfunction defaultBackOff(min) {\n  var max = 0;\n  if (!min) {\n    max = 2000;\n  }\n  return randomNumber(min, max);\n}\n\n// designed to give info to browser users, who are disturbed\n// when they see http errors in the console\nfunction explainError(status, str) {\n  guardedConsole('info', 'The above ' + status + ' is totally normal. ' + str);\n}\n\nvar assign;\n{\n  if (typeof Object.assign === 'function') {\n    assign = Object.assign;\n  } else {\n    // lite Object.assign polyfill based on\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n    assign = function (target) {\n      var to = Object(target);\n\n      for (var index = 1; index < arguments.length; index++) {\n        var nextSource = arguments[index];\n\n        if (nextSource != null) { // Skip over if undefined or null\n          for (var nextKey in nextSource) {\n            // Avoid bugs when hasOwnProperty is shadowed\n            if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n              to[nextKey] = nextSource[nextKey];\n            }\n          }\n        }\n      }\n      return to;\n    };\n  }\n}\n\nvar assign$1 = assign;\n\nfunction tryFilter(filter, doc, req) {\n  try {\n    return !filter(doc, req);\n  } catch (err) {\n    var msg = 'Filter function threw: ' + err.toString();\n    return createError(BAD_REQUEST, msg);\n  }\n}\n\nfunction filterChange(opts) {\n  var req = {};\n  var hasFilter = opts.filter && typeof opts.filter === 'function';\n  req.query = opts.query_params;\n\n  return function filter(change) {\n    if (!change.doc) {\n      // CSG sends events on the changes feed that don't have documents,\n      // this hack makes a whole lot of existing code robust.\n      change.doc = {};\n    }\n\n    var filterReturn = hasFilter && tryFilter(opts.filter, change.doc, req);\n\n    if (typeof filterReturn === 'object') {\n      return filterReturn;\n    }\n\n    if (filterReturn) {\n      return false;\n    }\n\n    if (!opts.include_docs) {\n      delete change.doc;\n    } else if (!opts.attachments) {\n      for (var att in change.doc._attachments) {\n        /* istanbul ignore else */\n        if (change.doc._attachments.hasOwnProperty(att)) {\n          change.doc._attachments[att].stub = true;\n        }\n      }\n    }\n    return true;\n  };\n}\n\nfunction flatten(arrs) {\n  var res = [];\n  for (var i = 0, len = arrs.length; i < len; i++) {\n    res = res.concat(arrs[i]);\n  }\n  return res;\n}\n\n// shim for Function.prototype.name,\n// for browsers that don't support it like IE\n\n/* istanbul ignore next */\nfunction f() {}\n\nvar hasName = f.name;\nvar res;\n\n// We dont run coverage in IE\n/* istanbul ignore else */\nif (hasName) {\n  res = function (fun) {\n    return fun.name;\n  };\n} else {\n  res = function (fun) {\n    var match = fun.toString().match(/^\\s*function\\s*(?:(\\S+)\\s*)?\\(/);\n    if (match && match[1]) {\n      return match[1];\n    }\n    else {\n      return '';\n    }\n  };\n}\n\nvar res$1 = res;\n\n// Determine id an ID is valid\n//   - invalid IDs begin with an underescore that does not begin '_design' or\n//     '_local'\n//   - any other string value is a valid id\n// Returns the specific error object for each case\nfunction invalidIdError(id) {\n  var err;\n  if (!id) {\n    err = createError(MISSING_ID);\n  } else if (typeof id !== 'string') {\n    err = createError(INVALID_ID);\n  } else if (/^_/.test(id) && !(/^_(design|local)/).test(id)) {\n    err = createError(RESERVED_ID);\n  }\n  if (err) {\n    throw err;\n  }\n}\n\n// Checks if a PouchDB object is \"remote\" or not. This is\n\nfunction isRemote(db) {\n  if (typeof db._remote === 'boolean') {\n    return db._remote;\n  }\n  /* istanbul ignore next */\n  if (typeof db.type === 'function') {\n    guardedConsole('warn',\n      'db.type() is deprecated and will be removed in ' +\n      'a future version of PouchDB');\n    return db.type() === 'http';\n  }\n  /* istanbul ignore next */\n  return false;\n}\n\nfunction listenerCount(ee, type) {\n  return 'listenerCount' in ee ? ee.listenerCount(type) :\n                                 EventEmitter.listenerCount(ee, type);\n}\n\nfunction parseDesignDocFunctionName(s) {\n  if (!s) {\n    return null;\n  }\n  var parts = s.split('/');\n  if (parts.length === 2) {\n    return parts;\n  }\n  if (parts.length === 1) {\n    return [s, s];\n  }\n  return null;\n}\n\nfunction normalizeDesignDocFunctionName(s) {\n  var normalized = parseDesignDocFunctionName(s);\n  return normalized ? normalized.join('/') : null;\n}\n\n// originally parseUri 1.2.2, now patched by us\n// (c) Steven Levithan <stevenlevithan.com>\n// MIT License\nvar keys = [\"source\", \"protocol\", \"authority\", \"userInfo\", \"user\", \"password\",\n    \"host\", \"port\", \"relative\", \"path\", \"directory\", \"file\", \"query\", \"anchor\"];\nvar qName =\"queryKey\";\nvar qParser = /(?:^|&)([^&=]*)=?([^&]*)/g;\n\n// use the \"loose\" parser\n/* eslint maxlen: 0, no-useless-escape: 0 */\nvar parser = /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\nfunction parseUri(str) {\n  var m = parser.exec(str);\n  var uri = {};\n  var i = 14;\n\n  while (i--) {\n    var key = keys[i];\n    var value = m[i] || \"\";\n    var encoded = ['user', 'password'].indexOf(key) !== -1;\n    uri[key] = encoded ? decodeURIComponent(value) : value;\n  }\n\n  uri[qName] = {};\n  uri[keys[12]].replace(qParser, function ($0, $1, $2) {\n    if ($1) {\n      uri[qName][$1] = $2;\n    }\n  });\n\n  return uri;\n}\n\n// Based on https://github.com/alexdavid/scope-eval v0.0.3\n// (source: https://unpkg.com/scope-eval@0.0.3/scope_eval.js)\n// This is basically just a wrapper around new Function()\n\nfunction scopeEval(source, scope) {\n  var keys = [];\n  var values = [];\n  for (var key in scope) {\n    if (scope.hasOwnProperty(key)) {\n      keys.push(key);\n      values.push(scope[key]);\n    }\n  }\n  keys.push(source);\n  return Function.apply(null, keys).apply(null, values);\n}\n\n// this is essentially the \"update sugar\" function from daleharvey/pouchdb#1388\n// the diffFun tells us what delta to apply to the doc.  it either returns\n// the doc, or false if it doesn't need to do an update after all\nfunction upsert(db, docId, diffFun) {\n  return new Promise(function (fulfill, reject) {\n    db.get(docId, function (err, doc) {\n      if (err) {\n        /* istanbul ignore next */\n        if (err.status !== 404) {\n          return reject(err);\n        }\n        doc = {};\n      }\n\n      // the user might change the _rev, so save it for posterity\n      var docRev = doc._rev;\n      var newDoc = diffFun(doc);\n\n      if (!newDoc) {\n        // if the diffFun returns falsy, we short-circuit as\n        // an optimization\n        return fulfill({updated: false, rev: docRev});\n      }\n\n      // users aren't allowed to modify these values,\n      // so reset them here\n      newDoc._id = docId;\n      newDoc._rev = docRev;\n      fulfill(tryAndPut(db, newDoc, diffFun));\n    });\n  });\n}\n\nfunction tryAndPut(db, doc, diffFun) {\n  return db.put(doc).then(function (res) {\n    return {\n      updated: true,\n      rev: res.rev\n    };\n  }, function (err) {\n    /* istanbul ignore next */\n    if (err.status !== 409) {\n      throw err;\n    }\n    return upsert(db, doc._id, diffFun);\n  });\n}\n\nfunction rev(doc, deterministic_revs) {\n  var clonedDoc = clone(doc);\n  if (!deterministic_revs) {\n    return uuidV4.v4().replace(/-/g, '').toLowerCase();\n  }\n\n  delete clonedDoc._rev_tree;\n  return stringMd5(JSON.stringify(clonedDoc));\n}\n\nvar uuid = uuidV4.v4;\n\nexport { adapterFun, assign$1 as assign, bulkGet as bulkGetShim, Changes as changesHandler, clone$1 as clone, defaultBackOff, explainError, filterChange, flatten, res$1 as functionName, guardedConsole, hasLocalStorage, invalidIdError, isRemote, listenerCount, immediate as nextTick, normalizeDesignDocFunctionName as normalizeDdocFunctionName, once, parseDesignDocFunctionName as parseDdocFunctionName, parseUri, pick, rev, scopeEval, toPromise, upsert, uuid };\n","import inherits from 'inherits';\nimport { Set } from 'pouchdb-collections';\nimport argsarray from 'argsarray';\nimport { nextTick } from 'pouchdb-utils';\n\nfunction QueryParseError(message) {\n  this.status = 400;\n  this.name = 'query_parse_error';\n  this.message = message;\n  this.error = true;\n  try {\n    Error.captureStackTrace(this, QueryParseError);\n  } catch (e) {}\n}\n\ninherits(QueryParseError, Error);\n\nfunction NotFoundError(message) {\n  this.status = 404;\n  this.name = 'not_found';\n  this.message = message;\n  this.error = true;\n  try {\n    Error.captureStackTrace(this, NotFoundError);\n  } catch (e) {}\n}\n\ninherits(NotFoundError, Error);\n\nfunction BuiltInError(message) {\n  this.status = 500;\n  this.name = 'invalid_value';\n  this.message = message;\n  this.error = true;\n  try {\n    Error.captureStackTrace(this, BuiltInError);\n  } catch (e) {}\n}\n\ninherits(BuiltInError, Error);\n\nfunction promisedCallback(promise, callback) {\n  if (callback) {\n    promise.then(function (res) {\n      nextTick(function () {\n        callback(null, res);\n      });\n    }, function (reason) {\n      nextTick(function () {\n        callback(reason);\n      });\n    });\n  }\n  return promise;\n}\n\nfunction callbackify(fun) {\n  return argsarray(function (args) {\n    var cb = args.pop();\n    var promise = fun.apply(this, args);\n    if (typeof cb === 'function') {\n      promisedCallback(promise, cb);\n    }\n    return promise;\n  });\n}\n\n// Promise finally util similar to Q.finally\nfunction fin(promise, finalPromiseFactory) {\n  return promise.then(function (res) {\n    return finalPromiseFactory().then(function () {\n      return res;\n    });\n  }, function (reason) {\n    return finalPromiseFactory().then(function () {\n      throw reason;\n    });\n  });\n}\n\nfunction sequentialize(queue, promiseFactory) {\n  return function () {\n    var args = arguments;\n    var that = this;\n    return queue.add(function () {\n      return promiseFactory.apply(that, args);\n    });\n  };\n}\n\n// uniq an array of strings, order not guaranteed\n// similar to underscore/lodash _.uniq\nfunction uniq(arr) {\n  var theSet = new Set(arr);\n  var result = new Array(theSet.size);\n  var index = -1;\n  theSet.forEach(function (value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nfunction mapToKeysArray(map) {\n  var result = new Array(map.size);\n  var index = -1;\n  map.forEach(function (value, key) {\n    result[++index] = key;\n  });\n  return result;\n}\n\nexport { uniq, sequentialize, fin, callbackify, promisedCallback, mapToKeysArray, QueryParseError, NotFoundError, BuiltInError };\n","import { upsert, flatten, guardedConsole, nextTick, isRemote } from 'pouchdb-utils';\nimport { stringMd5 } from 'pouchdb-md5';\nimport { Set, Map } from 'pouchdb-collections';\nimport { base64StringToBlobOrBuffer } from 'pouchdb-binary-utils';\nimport { collate, toIndexableString, normalizeKey, parseIndexableString } from 'pouchdb-collate';\nimport { generateErrorFromResponse } from 'pouchdb-errors';\nimport { Headers } from 'pouchdb-fetch';\nimport { callbackify, sequentialize, uniq, fin, promisedCallback, mapToKeysArray, QueryParseError, NotFoundError, BuiltInError } from 'pouchdb-mapreduce-utils';\n\n/*\n * Simple task queue to sequentialize actions. Assumes\n * callbacks will eventually fire (once).\n */\n\n\nfunction TaskQueue() {\n  this.promise = new Promise(function (fulfill) {fulfill(); });\n}\nTaskQueue.prototype.add = function (promiseFactory) {\n  this.promise = this.promise.catch(function () {\n    // just recover\n  }).then(function () {\n    return promiseFactory();\n  });\n  return this.promise;\n};\nTaskQueue.prototype.finish = function () {\n  return this.promise;\n};\n\nfunction stringify(input) {\n  if (!input) {\n    return 'undefined'; // backwards compat for empty reduce\n  }\n  // for backwards compat with mapreduce, functions/strings are stringified\n  // as-is. everything else is JSON-stringified.\n  switch (typeof input) {\n    case 'function':\n      // e.g. a mapreduce map\n      return input.toString();\n    case 'string':\n      // e.g. a mapreduce built-in _reduce function\n      return input.toString();\n    default:\n      // e.g. a JSON object in the case of mango queries\n      return JSON.stringify(input);\n  }\n}\n\n/* create a string signature for a view so we can cache it and uniq it */\nfunction createViewSignature(mapFun, reduceFun) {\n  // the \"undefined\" part is for backwards compatibility\n  return stringify(mapFun) + stringify(reduceFun) + 'undefined';\n}\n\nfunction createView(sourceDB, viewName, mapFun, reduceFun, temporary, localDocName) {\n  var viewSignature = createViewSignature(mapFun, reduceFun);\n\n  var cachedViews;\n  if (!temporary) {\n    // cache this to ensure we don't try to update the same view twice\n    cachedViews = sourceDB._cachedViews = sourceDB._cachedViews || {};\n    if (cachedViews[viewSignature]) {\n      return cachedViews[viewSignature];\n    }\n  }\n\n  var promiseForView = sourceDB.info().then(function (info) {\n\n    var depDbName = info.db_name + '-mrview-' +\n      (temporary ? 'temp' : stringMd5(viewSignature));\n\n    // save the view name in the source db so it can be cleaned up if necessary\n    // (e.g. when the _design doc is deleted, remove all associated view data)\n    function diffFunction(doc) {\n      doc.views = doc.views || {};\n      var fullViewName = viewName;\n      if (fullViewName.indexOf('/') === -1) {\n        fullViewName = viewName + '/' + viewName;\n      }\n      var depDbs = doc.views[fullViewName] = doc.views[fullViewName] || {};\n      /* istanbul ignore if */\n      if (depDbs[depDbName]) {\n        return; // no update necessary\n      }\n      depDbs[depDbName] = true;\n      return doc;\n    }\n    return upsert(sourceDB, '_local/' + localDocName, diffFunction).then(function () {\n      return sourceDB.registerDependentDatabase(depDbName).then(function (res) {\n        var db = res.db;\n        db.auto_compaction = true;\n        var view = {\n          name: depDbName,\n          db: db,\n          sourceDB: sourceDB,\n          adapter: sourceDB.adapter,\n          mapFun: mapFun,\n          reduceFun: reduceFun\n        };\n        return view.db.get('_local/lastSeq').catch(function (err) {\n          /* istanbul ignore if */\n          if (err.status !== 404) {\n            throw err;\n          }\n        }).then(function (lastSeqDoc) {\n          view.seq = lastSeqDoc ? lastSeqDoc.seq : 0;\n          if (cachedViews) {\n            view.db.once('destroyed', function () {\n              delete cachedViews[viewSignature];\n            });\n          }\n          return view;\n        });\n      });\n    });\n  });\n\n  if (cachedViews) {\n    cachedViews[viewSignature] = promiseForView;\n  }\n  return promiseForView;\n}\n\nvar persistentQueues = {};\nvar tempViewQueue = new TaskQueue();\nvar CHANGES_BATCH_SIZE = 50;\n\nfunction parseViewName(name) {\n  // can be either 'ddocname/viewname' or just 'viewname'\n  // (where the ddoc name is the same)\n  return name.indexOf('/') === -1 ? [name, name] : name.split('/');\n}\n\nfunction isGenOne(changes) {\n  // only return true if the current change is 1-\n  // and there are no other leafs\n  return changes.length === 1 && /^1-/.test(changes[0].rev);\n}\n\nfunction emitError(db, e) {\n  try {\n    db.emit('error', e);\n  } catch (err) {\n    guardedConsole('error',\n      'The user\\'s map/reduce function threw an uncaught error.\\n' +\n      'You can debug this error by doing:\\n' +\n      'myDatabase.on(\\'error\\', function (err) { debugger; });\\n' +\n      'Please double-check your map/reduce function.');\n    guardedConsole('error', e);\n  }\n}\n\n/**\n * Returns an \"abstract\" mapreduce object of the form:\n *\n *   {\n *     query: queryFun,\n *     viewCleanup: viewCleanupFun\n *   }\n *\n * Arguments are:\n *\n * localDoc: string\n *   This is for the local doc that gets saved in order to track the\n *   \"dependent\" DBs and clean them up for viewCleanup. It should be\n *   unique, so that indexer plugins don't collide with each other.\n * mapper: function (mapFunDef, emit)\n *   Returns a map function based on the mapFunDef, which in the case of\n *   normal map/reduce is just the de-stringified function, but may be\n *   something else, such as an object in the case of pouchdb-find.\n * reducer: function (reduceFunDef)\n *   Ditto, but for reducing. Modules don't have to support reducing\n *   (e.g. pouchdb-find).\n * ddocValidator: function (ddoc, viewName)\n *   Throws an error if the ddoc or viewName is not valid.\n *   This could be a way to communicate to the user that the configuration for the\n *   indexer is invalid.\n */\nfunction createAbstractMapReduce(localDocName, mapper, reducer, ddocValidator) {\n\n  function tryMap(db, fun, doc) {\n    // emit an event if there was an error thrown by a map function.\n    // putting try/catches in a single function also avoids deoptimizations.\n    try {\n      fun(doc);\n    } catch (e) {\n      emitError(db, e);\n    }\n  }\n\n  function tryReduce(db, fun, keys, values, rereduce) {\n    // same as above, but returning the result or an error. there are two separate\n    // functions to avoid extra memory allocations since the tryCode() case is used\n    // for custom map functions (common) vs this function, which is only used for\n    // custom reduce functions (rare)\n    try {\n      return {output : fun(keys, values, rereduce)};\n    } catch (e) {\n      emitError(db, e);\n      return {error: e};\n    }\n  }\n\n  function sortByKeyThenValue(x, y) {\n    var keyCompare = collate(x.key, y.key);\n    return keyCompare !== 0 ? keyCompare : collate(x.value, y.value);\n  }\n\n  function sliceResults(results, limit, skip) {\n    skip = skip || 0;\n    if (typeof limit === 'number') {\n      return results.slice(skip, limit + skip);\n    } else if (skip > 0) {\n      return results.slice(skip);\n    }\n    return results;\n  }\n\n  function rowToDocId(row) {\n    var val = row.value;\n    // Users can explicitly specify a joined doc _id, or it\n    // defaults to the doc _id that emitted the key/value.\n    var docId = (val && typeof val === 'object' && val._id) || row.id;\n    return docId;\n  }\n\n  function readAttachmentsAsBlobOrBuffer(res) {\n    res.rows.forEach(function (row) {\n      var atts = row.doc && row.doc._attachments;\n      if (!atts) {\n        return;\n      }\n      Object.keys(atts).forEach(function (filename) {\n        var att = atts[filename];\n        atts[filename].data = base64StringToBlobOrBuffer(att.data, att.content_type);\n      });\n    });\n  }\n\n  function postprocessAttachments(opts) {\n    return function (res) {\n      if (opts.include_docs && opts.attachments && opts.binary) {\n        readAttachmentsAsBlobOrBuffer(res);\n      }\n      return res;\n    };\n  }\n\n  function addHttpParam(paramName, opts, params, asJson) {\n    // add an http param from opts to params, optionally json-encoded\n    var val = opts[paramName];\n    if (typeof val !== 'undefined') {\n      if (asJson) {\n        val = encodeURIComponent(JSON.stringify(val));\n      }\n      params.push(paramName + '=' + val);\n    }\n  }\n\n  function coerceInteger(integerCandidate) {\n    if (typeof integerCandidate !== 'undefined') {\n      var asNumber = Number(integerCandidate);\n      // prevents e.g. '1foo' or '1.1' being coerced to 1\n      if (!isNaN(asNumber) && asNumber === parseInt(integerCandidate, 10)) {\n        return asNumber;\n      } else {\n        return integerCandidate;\n      }\n    }\n  }\n\n  function coerceOptions(opts) {\n    opts.group_level = coerceInteger(opts.group_level);\n    opts.limit = coerceInteger(opts.limit);\n    opts.skip = coerceInteger(opts.skip);\n    return opts;\n  }\n\n  function checkPositiveInteger(number) {\n    if (number) {\n      if (typeof number !== 'number') {\n        return  new QueryParseError('Invalid value for integer: \"' +\n          number + '\"');\n      }\n      if (number < 0) {\n        return new QueryParseError('Invalid value for positive integer: ' +\n          '\"' + number + '\"');\n      }\n    }\n  }\n\n  function checkQueryParseError(options, fun) {\n    var startkeyName = options.descending ? 'endkey' : 'startkey';\n    var endkeyName = options.descending ? 'startkey' : 'endkey';\n\n    if (typeof options[startkeyName] !== 'undefined' &&\n      typeof options[endkeyName] !== 'undefined' &&\n      collate(options[startkeyName], options[endkeyName]) > 0) {\n      throw new QueryParseError('No rows can match your key range, ' +\n        'reverse your start_key and end_key or set {descending : true}');\n    } else if (fun.reduce && options.reduce !== false) {\n      if (options.include_docs) {\n        throw new QueryParseError('{include_docs:true} is invalid for reduce');\n      } else if (options.keys && options.keys.length > 1 &&\n        !options.group && !options.group_level) {\n        throw new QueryParseError('Multi-key fetches for reduce views must use ' +\n          '{group: true}');\n      }\n    }\n    ['group_level', 'limit', 'skip'].forEach(function (optionName) {\n      var error = checkPositiveInteger(options[optionName]);\n      if (error) {\n        throw error;\n      }\n    });\n  }\n\n  function httpQuery(db, fun, opts) {\n    // List of parameters to add to the PUT request\n    var params = [];\n    var body;\n    var method = 'GET';\n    var ok, status;\n\n    // If opts.reduce exists and is defined, then add it to the list\n    // of parameters.\n    // If reduce=false then the results are that of only the map function\n    // not the final result of map and reduce.\n    addHttpParam('reduce', opts, params);\n    addHttpParam('include_docs', opts, params);\n    addHttpParam('attachments', opts, params);\n    addHttpParam('limit', opts, params);\n    addHttpParam('descending', opts, params);\n    addHttpParam('group', opts, params);\n    addHttpParam('group_level', opts, params);\n    addHttpParam('skip', opts, params);\n    addHttpParam('stale', opts, params);\n    addHttpParam('conflicts', opts, params);\n    addHttpParam('startkey', opts, params, true);\n    addHttpParam('start_key', opts, params, true);\n    addHttpParam('endkey', opts, params, true);\n    addHttpParam('end_key', opts, params, true);\n    addHttpParam('inclusive_end', opts, params);\n    addHttpParam('key', opts, params, true);\n    addHttpParam('update_seq', opts, params);\n\n    // Format the list of parameters into a valid URI query string\n    params = params.join('&');\n    params = params === '' ? '' : '?' + params;\n\n    // If keys are supplied, issue a POST to circumvent GET query string limits\n    // see http://wiki.apache.org/couchdb/HTTP_view_API#Querying_Options\n    if (typeof opts.keys !== 'undefined') {\n      var MAX_URL_LENGTH = 2000;\n      // according to http://stackoverflow.com/a/417184/680742,\n      // the de facto URL length limit is 2000 characters\n\n      var keysAsString =\n        'keys=' + encodeURIComponent(JSON.stringify(opts.keys));\n      if (keysAsString.length + params.length + 1 <= MAX_URL_LENGTH) {\n        // If the keys are short enough, do a GET. we do this to work around\n        // Safari not understanding 304s on POSTs (see pouchdb/pouchdb#1239)\n        params += (params[0] === '?' ? '&' : '?') + keysAsString;\n      } else {\n        method = 'POST';\n        if (typeof fun === 'string') {\n          body = {keys: opts.keys};\n        } else { // fun is {map : mapfun}, so append to this\n          fun.keys = opts.keys;\n        }\n      }\n    }\n\n    // We are referencing a query defined in the design doc\n    if (typeof fun === 'string') {\n      var parts = parseViewName(fun);\n      return db.fetch('_design/' + parts[0] + '/_view/' + parts[1] + params, {\n        headers: new Headers({'Content-Type': 'application/json'}),\n        method: method,\n        body: JSON.stringify(body)\n      }).then(function (response) {\n        ok = response.ok;\n        status = response.status;\n        return response.json();\n      }).then(function (result) {\n        if (!ok) {\n          result.status = status;\n          throw generateErrorFromResponse(result);\n        }\n        // fail the entire request if the result contains an error\n        result.rows.forEach(function (row) {\n          /* istanbul ignore if */\n          if (row.value && row.value.error && row.value.error === \"builtin_reduce_error\") {\n            throw new Error(row.reason);\n          }\n        });\n        return result;\n      }).then(postprocessAttachments(opts));\n    }\n\n    // We are using a temporary view, terrible for performance, good for testing\n    body = body || {};\n    Object.keys(fun).forEach(function (key) {\n      if (Array.isArray(fun[key])) {\n        body[key] = fun[key];\n      } else {\n        body[key] = fun[key].toString();\n      }\n    });\n\n    return db.fetch('_temp_view' + params, {\n      headers: new Headers({'Content-Type': 'application/json'}),\n      method: 'POST',\n      body: JSON.stringify(body)\n    }).then(function (response) {\n        ok = response.ok;\n        status = response.status;\n      return response.json();\n    }).then(function (result) {\n      if (!ok) {\n        result.status = status;\n        throw generateErrorFromResponse(result);\n      }\n      return result;\n    }).then(postprocessAttachments(opts));\n  }\n\n  // custom adapters can define their own api._query\n  // and override the default behavior\n  /* istanbul ignore next */\n  function customQuery(db, fun, opts) {\n    return new Promise(function (resolve, reject) {\n      db._query(fun, opts, function (err, res) {\n        if (err) {\n          return reject(err);\n        }\n        resolve(res);\n      });\n    });\n  }\n\n  // custom adapters can define their own api._viewCleanup\n  // and override the default behavior\n  /* istanbul ignore next */\n  function customViewCleanup(db) {\n    return new Promise(function (resolve, reject) {\n      db._viewCleanup(function (err, res) {\n        if (err) {\n          return reject(err);\n        }\n        resolve(res);\n      });\n    });\n  }\n\n  function defaultsTo(value) {\n    return function (reason) {\n      /* istanbul ignore else */\n      if (reason.status === 404) {\n        return value;\n      } else {\n        throw reason;\n      }\n    };\n  }\n\n  // returns a promise for a list of docs to update, based on the input docId.\n  // the order doesn't matter, because post-3.2.0, bulkDocs\n  // is an atomic operation in all three adapters.\n  function getDocsToPersist(docId, view, docIdsToChangesAndEmits) {\n    var metaDocId = '_local/doc_' + docId;\n    var defaultMetaDoc = {_id: metaDocId, keys: []};\n    var docData = docIdsToChangesAndEmits.get(docId);\n    var indexableKeysToKeyValues = docData[0];\n    var changes = docData[1];\n\n    function getMetaDoc() {\n      if (isGenOne(changes)) {\n        // generation 1, so we can safely assume initial state\n        // for performance reasons (avoids unnecessary GETs)\n        return Promise.resolve(defaultMetaDoc);\n      }\n      return view.db.get(metaDocId).catch(defaultsTo(defaultMetaDoc));\n    }\n\n    function getKeyValueDocs(metaDoc) {\n      if (!metaDoc.keys.length) {\n        // no keys, no need for a lookup\n        return Promise.resolve({rows: []});\n      }\n      return view.db.allDocs({\n        keys: metaDoc.keys,\n        include_docs: true\n      });\n    }\n\n    function processKeyValueDocs(metaDoc, kvDocsRes) {\n      var kvDocs = [];\n      var oldKeys = new Set();\n\n      for (var i = 0, len = kvDocsRes.rows.length; i < len; i++) {\n        var row = kvDocsRes.rows[i];\n        var doc = row.doc;\n        if (!doc) { // deleted\n          continue;\n        }\n        kvDocs.push(doc);\n        oldKeys.add(doc._id);\n        doc._deleted = !indexableKeysToKeyValues.has(doc._id);\n        if (!doc._deleted) {\n          var keyValue = indexableKeysToKeyValues.get(doc._id);\n          if ('value' in keyValue) {\n            doc.value = keyValue.value;\n          }\n        }\n      }\n      var newKeys = mapToKeysArray(indexableKeysToKeyValues);\n      newKeys.forEach(function (key) {\n        if (!oldKeys.has(key)) {\n          // new doc\n          var kvDoc = {\n            _id: key\n          };\n          var keyValue = indexableKeysToKeyValues.get(key);\n          if ('value' in keyValue) {\n            kvDoc.value = keyValue.value;\n          }\n          kvDocs.push(kvDoc);\n        }\n      });\n      metaDoc.keys = uniq(newKeys.concat(metaDoc.keys));\n      kvDocs.push(metaDoc);\n\n      return kvDocs;\n    }\n\n    return getMetaDoc().then(function (metaDoc) {\n      return getKeyValueDocs(metaDoc).then(function (kvDocsRes) {\n        return processKeyValueDocs(metaDoc, kvDocsRes);\n      });\n    });\n  }\n\n  // updates all emitted key/value docs and metaDocs in the mrview database\n  // for the given batch of documents from the source database\n  function saveKeyValues(view, docIdsToChangesAndEmits, seq) {\n    var seqDocId = '_local/lastSeq';\n    return view.db.get(seqDocId)\n      .catch(defaultsTo({_id: seqDocId, seq: 0}))\n      .then(function (lastSeqDoc) {\n        var docIds = mapToKeysArray(docIdsToChangesAndEmits);\n        return Promise.all(docIds.map(function (docId) {\n          return getDocsToPersist(docId, view, docIdsToChangesAndEmits);\n        })).then(function (listOfDocsToPersist) {\n          var docsToPersist = flatten(listOfDocsToPersist);\n          lastSeqDoc.seq = seq;\n          docsToPersist.push(lastSeqDoc);\n          // write all docs in a single operation, update the seq once\n          return view.db.bulkDocs({docs : docsToPersist});\n        });\n      });\n  }\n\n  function getQueue(view) {\n    var viewName = typeof view === 'string' ? view : view.name;\n    var queue = persistentQueues[viewName];\n    if (!queue) {\n      queue = persistentQueues[viewName] = new TaskQueue();\n    }\n    return queue;\n  }\n\n  function updateView(view) {\n    return sequentialize(getQueue(view), function () {\n      return updateViewInQueue(view);\n    })();\n  }\n\n  function updateViewInQueue(view) {\n    // bind the emit function once\n    var mapResults;\n    var doc;\n\n    function emit(key, value) {\n      var output = {id: doc._id, key: normalizeKey(key)};\n      // Don't explicitly store the value unless it's defined and non-null.\n      // This saves on storage space, because often people don't use it.\n      if (typeof value !== 'undefined' && value !== null) {\n        output.value = normalizeKey(value);\n      }\n      mapResults.push(output);\n    }\n\n    var mapFun = mapper(view.mapFun, emit);\n\n    var currentSeq = view.seq || 0;\n\n    function processChange(docIdsToChangesAndEmits, seq) {\n      return function () {\n        return saveKeyValues(view, docIdsToChangesAndEmits, seq);\n      };\n    }\n\n    var queue = new TaskQueue();\n\n    function processNextBatch() {\n      return view.sourceDB.changes({\n        return_docs: true,\n        conflicts: true,\n        include_docs: true,\n        style: 'all_docs',\n        since: currentSeq,\n        limit: CHANGES_BATCH_SIZE\n      }).then(processBatch);\n    }\n\n    function processBatch(response) {\n      var results = response.results;\n      if (!results.length) {\n        return;\n      }\n      var docIdsToChangesAndEmits = createDocIdsToChangesAndEmits(results);\n      queue.add(processChange(docIdsToChangesAndEmits, currentSeq));\n      if (results.length < CHANGES_BATCH_SIZE) {\n        return;\n      }\n      return processNextBatch();\n    }\n\n    function createDocIdsToChangesAndEmits(results) {\n      var docIdsToChangesAndEmits = new Map();\n      for (var i = 0, len = results.length; i < len; i++) {\n        var change = results[i];\n        if (change.doc._id[0] !== '_') {\n          mapResults = [];\n          doc = change.doc;\n\n          if (!doc._deleted) {\n            tryMap(view.sourceDB, mapFun, doc);\n          }\n          mapResults.sort(sortByKeyThenValue);\n\n          var indexableKeysToKeyValues = createIndexableKeysToKeyValues(mapResults);\n          docIdsToChangesAndEmits.set(change.doc._id, [\n            indexableKeysToKeyValues,\n            change.changes\n          ]);\n        }\n        currentSeq = change.seq;\n      }\n      return docIdsToChangesAndEmits;\n    }\n\n    function createIndexableKeysToKeyValues(mapResults) {\n      var indexableKeysToKeyValues = new Map();\n      var lastKey;\n      for (var i = 0, len = mapResults.length; i < len; i++) {\n        var emittedKeyValue = mapResults[i];\n        var complexKey = [emittedKeyValue.key, emittedKeyValue.id];\n        if (i > 0 && collate(emittedKeyValue.key, lastKey) === 0) {\n          complexKey.push(i); // dup key+id, so make it unique\n        }\n        indexableKeysToKeyValues.set(toIndexableString(complexKey), emittedKeyValue);\n        lastKey = emittedKeyValue.key;\n      }\n      return indexableKeysToKeyValues;\n    }\n\n    return processNextBatch().then(function () {\n      return queue.finish();\n    }).then(function () {\n      view.seq = currentSeq;\n    });\n  }\n\n  function reduceView(view, results, options) {\n    if (options.group_level === 0) {\n      delete options.group_level;\n    }\n\n    var shouldGroup = options.group || options.group_level;\n\n    var reduceFun = reducer(view.reduceFun);\n\n    var groups = [];\n    var lvl = isNaN(options.group_level) ? Number.POSITIVE_INFINITY :\n      options.group_level;\n    results.forEach(function (e) {\n      var last = groups[groups.length - 1];\n      var groupKey = shouldGroup ? e.key : null;\n\n      // only set group_level for array keys\n      if (shouldGroup && Array.isArray(groupKey)) {\n        groupKey = groupKey.slice(0, lvl);\n      }\n\n      if (last && collate(last.groupKey, groupKey) === 0) {\n        last.keys.push([e.key, e.id]);\n        last.values.push(e.value);\n        return;\n      }\n      groups.push({\n        keys: [[e.key, e.id]],\n        values: [e.value],\n        groupKey: groupKey\n      });\n    });\n    results = [];\n    for (var i = 0, len = groups.length; i < len; i++) {\n      var e = groups[i];\n      var reduceTry = tryReduce(view.sourceDB, reduceFun, e.keys, e.values, false);\n      if (reduceTry.error && reduceTry.error instanceof BuiltInError) {\n        // CouchDB returns an error if a built-in errors out\n        throw reduceTry.error;\n      }\n      results.push({\n        // CouchDB just sets the value to null if a non-built-in errors out\n        value: reduceTry.error ? null : reduceTry.output,\n        key: e.groupKey\n      });\n    }\n    // no total_rows/offset when reducing\n    return {rows: sliceResults(results, options.limit, options.skip)};\n  }\n\n  function queryView(view, opts) {\n    return sequentialize(getQueue(view), function () {\n      return queryViewInQueue(view, opts);\n    })();\n  }\n\n  function queryViewInQueue(view, opts) {\n    var totalRows;\n    var shouldReduce = view.reduceFun && opts.reduce !== false;\n    var skip = opts.skip || 0;\n    if (typeof opts.keys !== 'undefined' && !opts.keys.length) {\n      // equivalent query\n      opts.limit = 0;\n      delete opts.keys;\n    }\n\n    function fetchFromView(viewOpts) {\n      viewOpts.include_docs = true;\n      return view.db.allDocs(viewOpts).then(function (res) {\n        totalRows = res.total_rows;\n        return res.rows.map(function (result) {\n\n          // implicit migration - in older versions of PouchDB,\n          // we explicitly stored the doc as {id: ..., key: ..., value: ...}\n          // this is tested in a migration test\n          /* istanbul ignore next */\n          if ('value' in result.doc && typeof result.doc.value === 'object' &&\n            result.doc.value !== null) {\n            var keys = Object.keys(result.doc.value).sort();\n            // this detection method is not perfect, but it's unlikely the user\n            // emitted a value which was an object with these 3 exact keys\n            var expectedKeys = ['id', 'key', 'value'];\n            if (!(keys < expectedKeys || keys > expectedKeys)) {\n              return result.doc.value;\n            }\n          }\n\n          var parsedKeyAndDocId = parseIndexableString(result.doc._id);\n          return {\n            key: parsedKeyAndDocId[0],\n            id: parsedKeyAndDocId[1],\n            value: ('value' in result.doc ? result.doc.value : null)\n          };\n        });\n      });\n    }\n\n    function onMapResultsReady(rows) {\n      var finalResults;\n      if (shouldReduce) {\n        finalResults = reduceView(view, rows, opts);\n      } else {\n        finalResults = {\n          total_rows: totalRows,\n          offset: skip,\n          rows: rows\n        };\n      }\n      /* istanbul ignore if */\n      if (opts.update_seq) {\n        finalResults.update_seq = view.seq;\n      }\n      if (opts.include_docs) {\n        var docIds = uniq(rows.map(rowToDocId));\n\n        return view.sourceDB.allDocs({\n          keys: docIds,\n          include_docs: true,\n          conflicts: opts.conflicts,\n          attachments: opts.attachments,\n          binary: opts.binary\n        }).then(function (allDocsRes) {\n          var docIdsToDocs = new Map();\n          allDocsRes.rows.forEach(function (row) {\n            docIdsToDocs.set(row.id, row.doc);\n          });\n          rows.forEach(function (row) {\n            var docId = rowToDocId(row);\n            var doc = docIdsToDocs.get(docId);\n            if (doc) {\n              row.doc = doc;\n            }\n          });\n          return finalResults;\n        });\n      } else {\n        return finalResults;\n      }\n    }\n\n    if (typeof opts.keys !== 'undefined') {\n      var keys = opts.keys;\n      var fetchPromises = keys.map(function (key) {\n        var viewOpts = {\n          startkey : toIndexableString([key]),\n          endkey   : toIndexableString([key, {}])\n        };\n        /* istanbul ignore if */\n        if (opts.update_seq) {\n          viewOpts.update_seq = true;\n        }\n        return fetchFromView(viewOpts);\n      });\n      return Promise.all(fetchPromises).then(flatten).then(onMapResultsReady);\n    } else { // normal query, no 'keys'\n      var viewOpts = {\n        descending : opts.descending\n      };\n      /* istanbul ignore if */\n      if (opts.update_seq) {\n        viewOpts.update_seq = true;\n      }\n      var startkey;\n      var endkey;\n      if ('start_key' in opts) {\n        startkey = opts.start_key;\n      }\n      if ('startkey' in opts) {\n        startkey = opts.startkey;\n      }\n      if ('end_key' in opts) {\n        endkey = opts.end_key;\n      }\n      if ('endkey' in opts) {\n        endkey = opts.endkey;\n      }\n      if (typeof startkey !== 'undefined') {\n        viewOpts.startkey = opts.descending ?\n          toIndexableString([startkey, {}]) :\n          toIndexableString([startkey]);\n      }\n      if (typeof endkey !== 'undefined') {\n        var inclusiveEnd = opts.inclusive_end !== false;\n        if (opts.descending) {\n          inclusiveEnd = !inclusiveEnd;\n        }\n\n        viewOpts.endkey = toIndexableString(\n          inclusiveEnd ? [endkey, {}] : [endkey]);\n      }\n      if (typeof opts.key !== 'undefined') {\n        var keyStart = toIndexableString([opts.key]);\n        var keyEnd = toIndexableString([opts.key, {}]);\n        if (viewOpts.descending) {\n          viewOpts.endkey = keyStart;\n          viewOpts.startkey = keyEnd;\n        } else {\n          viewOpts.startkey = keyStart;\n          viewOpts.endkey = keyEnd;\n        }\n      }\n      if (!shouldReduce) {\n        if (typeof opts.limit === 'number') {\n          viewOpts.limit = opts.limit;\n        }\n        viewOpts.skip = skip;\n      }\n      return fetchFromView(viewOpts).then(onMapResultsReady);\n    }\n  }\n\n  function httpViewCleanup(db) {\n    return db.fetch('_view_cleanup', {\n      headers: new Headers({'Content-Type': 'application/json'}),\n      method: 'POST'\n    }).then(function (response) {\n      return response.json();\n    });\n  }\n\n  function localViewCleanup(db) {\n    return db.get('_local/' + localDocName).then(function (metaDoc) {\n      var docsToViews = new Map();\n      Object.keys(metaDoc.views).forEach(function (fullViewName) {\n        var parts = parseViewName(fullViewName);\n        var designDocName = '_design/' + parts[0];\n        var viewName = parts[1];\n        var views = docsToViews.get(designDocName);\n        if (!views) {\n          views = new Set();\n          docsToViews.set(designDocName, views);\n        }\n        views.add(viewName);\n      });\n      var opts = {\n        keys : mapToKeysArray(docsToViews),\n        include_docs : true\n      };\n      return db.allDocs(opts).then(function (res) {\n        var viewsToStatus = {};\n        res.rows.forEach(function (row) {\n          var ddocName = row.key.substring(8); // cuts off '_design/'\n          docsToViews.get(row.key).forEach(function (viewName) {\n            var fullViewName = ddocName + '/' + viewName;\n            /* istanbul ignore if */\n            if (!metaDoc.views[fullViewName]) {\n              // new format, without slashes, to support PouchDB 2.2.0\n              // migration test in pouchdb's browser.migration.js verifies this\n              fullViewName = viewName;\n            }\n            var viewDBNames = Object.keys(metaDoc.views[fullViewName]);\n            // design doc deleted, or view function nonexistent\n            var statusIsGood = row.doc && row.doc.views &&\n              row.doc.views[viewName];\n            viewDBNames.forEach(function (viewDBName) {\n              viewsToStatus[viewDBName] =\n                viewsToStatus[viewDBName] || statusIsGood;\n            });\n          });\n        });\n        var dbsToDelete = Object.keys(viewsToStatus).filter(\n          function (viewDBName) { return !viewsToStatus[viewDBName]; });\n        var destroyPromises = dbsToDelete.map(function (viewDBName) {\n          return sequentialize(getQueue(viewDBName), function () {\n            return new db.constructor(viewDBName, db.__opts).destroy();\n          })();\n        });\n        return Promise.all(destroyPromises).then(function () {\n          return {ok: true};\n        });\n      });\n    }, defaultsTo({ok: true}));\n  }\n\n  function queryPromised(db, fun, opts) {\n    /* istanbul ignore next */\n    if (typeof db._query === 'function') {\n      return customQuery(db, fun, opts);\n    }\n    if (isRemote(db)) {\n      return httpQuery(db, fun, opts);\n    }\n\n    if (typeof fun !== 'string') {\n      // temp_view\n      checkQueryParseError(opts, fun);\n\n      tempViewQueue.add(function () {\n        var createViewPromise = createView(\n          /* sourceDB */ db,\n          /* viewName */ 'temp_view/temp_view',\n          /* mapFun */ fun.map,\n          /* reduceFun */ fun.reduce,\n          /* temporary */ true,\n          /* localDocName */ localDocName);\n        return createViewPromise.then(function (view) {\n          return fin(updateView(view).then(function () {\n            return queryView(view, opts);\n          }), function () {\n            return view.db.destroy();\n          });\n        });\n      });\n      return tempViewQueue.finish();\n    } else {\n      // persistent view\n      var fullViewName = fun;\n      var parts = parseViewName(fullViewName);\n      var designDocName = parts[0];\n      var viewName = parts[1];\n      return db.get('_design/' + designDocName).then(function (doc) {\n        var fun = doc.views && doc.views[viewName];\n\n        if (!fun) {\n          // basic validator; it's assumed that every subclass would want this\n          throw new NotFoundError('ddoc ' + doc._id + ' has no view named ' +\n            viewName);\n        }\n\n        ddocValidator(doc, viewName);\n        checkQueryParseError(opts, fun);\n\n        var createViewPromise = createView(\n          /* sourceDB */ db,\n          /* viewName */ fullViewName,\n          /* mapFun */ fun.map,\n          /* reduceFun */ fun.reduce,\n          /* temporary */ false,\n          /* localDocName */ localDocName);\n        return createViewPromise.then(function (view) {\n          if (opts.stale === 'ok' || opts.stale === 'update_after') {\n            if (opts.stale === 'update_after') {\n              nextTick(function () {\n                updateView(view);\n              });\n            }\n            return queryView(view, opts);\n          } else { // stale not ok\n            return updateView(view).then(function () {\n              return queryView(view, opts);\n            });\n          }\n        });\n      });\n    }\n  }\n\n  function abstractQuery(fun, opts, callback) {\n    var db = this;\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    opts = opts ? coerceOptions(opts) : {};\n\n    if (typeof fun === 'function') {\n      fun = {map : fun};\n    }\n\n    var promise = Promise.resolve().then(function () {\n      return queryPromised(db, fun, opts);\n    });\n    promisedCallback(promise, callback);\n    return promise;\n  }\n\n  var abstractViewCleanup = callbackify(function () {\n    var db = this;\n    /* istanbul ignore next */\n    if (typeof db._viewCleanup === 'function') {\n      return customViewCleanup(db);\n    }\n    if (isRemote(db)) {\n      return httpViewCleanup(db);\n    }\n    return localViewCleanup(db);\n  });\n\n  return {\n    query: abstractQuery,\n    viewCleanup: abstractViewCleanup\n  };\n}\n\nexport default createAbstractMapReduce;\n","import { clone, assign, nextTick, upsert, toPromise, isRemote } from 'pouchdb-utils';\nimport { generateErrorFromResponse } from 'pouchdb-errors';\nimport { Headers } from 'pouchdb-fetch';\nimport { getFieldFromDoc, setFieldInDoc, parseField, getKey, getValue, compare, massageSelector, filterInMemoryFields } from 'pouchdb-selector-core';\nimport abstractMapReduce from 'pouchdb-abstract-mapreduce';\nimport { collate } from 'pouchdb-collate';\nimport { stringMd5 } from 'pouchdb-md5';\n\n// we restucture the supplied JSON considerably, because the official\n// Mango API is very particular about a lot of this stuff, but we like\n// to be liberal with what we accept in order to prevent mental\n// breakdowns in our users\nfunction massageCreateIndexRequest(requestDef) {\n  requestDef = clone(requestDef);\n\n  if (!requestDef.index) {\n    requestDef.index = {};\n  }\n\n  ['type', 'name', 'ddoc'].forEach(function (key) {\n    if (requestDef.index[key]) {\n      requestDef[key] = requestDef.index[key];\n      delete requestDef.index[key];\n    }\n  });\n\n  if (requestDef.fields) {\n    requestDef.index.fields = requestDef.fields;\n    delete requestDef.fields;\n  }\n\n  if (!requestDef.type) {\n    requestDef.type = 'json';\n  }\n  return requestDef;\n}\n\nfunction dbFetch(db, path, opts, callback) {\n  var status, ok;\n  opts.headers = new Headers({'Content-type': 'application/json'});\n  db.fetch(path, opts).then(function (response) {\n    status = response.status;\n    ok = response.ok;\n    return response.json();\n  }).then(function (json) {\n    if (!ok) {\n      json.status = status;\n      var err = generateErrorFromResponse(json);\n      callback(err);\n    } else {\n      callback(null, json);\n    }\n  }).catch(callback);\n}\n\nfunction createIndex(db, requestDef, callback) {\n  requestDef = massageCreateIndexRequest(requestDef);\n  dbFetch(db, '_index', {\n    method: 'POST',\n    body: JSON.stringify(requestDef)\n  }, callback);\n}\n\nfunction find(db, requestDef, callback) {\n  dbFetch(db, '_find', {\n    method: 'POST',\n    body: JSON.stringify(requestDef)\n  }, callback);\n}\n\nfunction explain(db, requestDef, callback) {\n  dbFetch(db, '_explain', {\n    method: 'POST',\n    body: JSON.stringify(requestDef)\n  }, callback);\n}\n\nfunction getIndexes(db, callback) {\n  dbFetch(db, '_index', {\n    method: 'GET'\n  }, callback);\n}\n\nfunction deleteIndex(db, indexDef, callback) {\n\n\n  var ddoc = indexDef.ddoc;\n  var type = indexDef.type || 'json';\n  var name = indexDef.name;\n\n  if (!ddoc) {\n    return callback(new Error('you must provide an index\\'s ddoc'));\n  }\n\n  if (!name) {\n    return callback(new Error('you must provide an index\\'s name'));\n  }\n\n  var url = '_index/' + [ddoc, type, name].map(encodeURIComponent).join('/');\n\n  dbFetch(db, url, {method: 'DELETE'}, callback);\n}\n\nfunction getArguments(fun) {\n  return function () {\n    var len = arguments.length;\n    var args = new Array(len);\n    var i = -1;\n    while (++i < len) {\n      args[i] = arguments[i];\n    }\n    return fun.call(this, args);\n  };\n}\n\nfunction callbackify(fun) {\n  return getArguments(function (args) {\n    var cb = args.pop();\n    var promise = fun.apply(this, args);\n    promisedCallback(promise, cb);\n    return promise;\n  });\n}\n\nfunction promisedCallback(promise, callback) {\n  promise.then(function (res) {\n    nextTick(function () {\n      callback(null, res);\n    });\n  }, function (reason) {\n    nextTick(function () {\n      callback(reason);\n    });\n  });\n  return promise;\n}\n\nvar flatten = getArguments(function (args) {\n  var res = [];\n  for (var i = 0, len = args.length; i < len; i++) {\n    var subArr = args[i];\n    if (Array.isArray(subArr)) {\n      res = res.concat(flatten.apply(null, subArr));\n    } else {\n      res.push(subArr);\n    }\n  }\n  return res;\n});\n\nfunction mergeObjects(arr) {\n  var res = {};\n  for (var i = 0, len = arr.length; i < len; i++) {\n    res = assign(res, arr[i]);\n  }\n  return res;\n}\n\n// Selects a list of fields defined in dot notation from one doc\n// and copies them to a new doc. Like underscore _.pick but supports nesting.\nfunction pick(obj, arr) {\n  var res = {};\n  for (var i = 0, len = arr.length; i < len; i++) {\n    var parsedField = parseField(arr[i]);\n    var value = getFieldFromDoc(obj, parsedField);\n    if (typeof value !== 'undefined') {\n      setFieldInDoc(res, parsedField, value);\n    }\n  }\n  return res;\n}\n\n// e.g. ['a'], ['a', 'b'] is true, but ['b'], ['a', 'b'] is false\nfunction oneArrayIsSubArrayOfOther(left, right) {\n\n  for (var i = 0, len = Math.min(left.length, right.length); i < len; i++) {\n    if (left[i] !== right[i]) {\n      return false;\n    }\n  }\n  return true;\n}\n\n// e.g.['a', 'b', 'c'], ['a', 'b'] is false\nfunction oneArrayIsStrictSubArrayOfOther(left, right) {\n\n  if (left.length > right.length) {\n    return false;\n  }\n\n  return oneArrayIsSubArrayOfOther(left, right);\n}\n\n// same as above, but treat the left array as an unordered set\n// e.g. ['b', 'a'], ['a', 'b', 'c'] is true, but ['c'], ['a', 'b', 'c'] is false\nfunction oneSetIsSubArrayOfOther(left, right) {\n  left = left.slice();\n  for (var i = 0, len = right.length; i < len; i++) {\n    var field = right[i];\n    if (!left.length) {\n      break;\n    }\n    var leftIdx = left.indexOf(field);\n    if (leftIdx === -1) {\n      return false;\n    } else {\n      left.splice(leftIdx, 1);\n    }\n  }\n  return true;\n}\n\nfunction arrayToObject(arr) {\n  var res = {};\n  for (var i = 0, len = arr.length; i < len; i++) {\n    res[arr[i]] = true;\n  }\n  return res;\n}\n\nfunction max(arr, fun) {\n  var max = null;\n  var maxScore = -1;\n  for (var i = 0, len = arr.length; i < len; i++) {\n    var element = arr[i];\n    var score = fun(element);\n    if (score > maxScore) {\n      maxScore = score;\n      max = element;\n    }\n  }\n  return max;\n}\n\nfunction arrayEquals(arr1, arr2) {\n  if (arr1.length !== arr2.length) {\n    return false;\n  }\n  for (var i = 0, len = arr1.length; i < len; i++) {\n    if (arr1[i] !== arr2[i]) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction uniq(arr) {\n  var obj = {};\n  for (var i = 0; i < arr.length; i++) {\n    obj['$' + arr[i]] = true;\n  }\n  return Object.keys(obj).map(function (key) {\n    return key.substring(1);\n  });\n}\n\n//\n// One thing about these mappers:\n//\n// Per the advice of John-David Dalton (http://youtu.be/NthmeLEhDDM),\n// what you want to do in this case is optimize for the smallest possible\n// function, since that's the thing that gets run over and over again.\n//\n// This code would be a lot simpler if all the if/elses were inside\n// the function, but it would also be a lot less performant.\n//\n\n\nfunction createDeepMultiMapper(fields, emit) {\n  return function (doc) {\n    var toEmit = [];\n    for (var i = 0, iLen = fields.length; i < iLen; i++) {\n      var parsedField = parseField(fields[i]);\n      var value = doc;\n      for (var j = 0, jLen = parsedField.length; j < jLen; j++) {\n        var key = parsedField[j];\n        value = value[key];\n        if (typeof value === 'undefined') {\n          return; // don't emit\n        }\n      }\n      toEmit.push(value);\n    }\n    emit(toEmit);\n  };\n}\n\nfunction createDeepSingleMapper(field, emit) {\n  var parsedField = parseField(field);\n  return function (doc) {\n    var value = doc;\n    for (var i = 0, len = parsedField.length; i < len; i++) {\n      var key = parsedField[i];\n      value = value[key];\n      if (typeof value === 'undefined') {\n        return; // do nothing\n      }\n    }\n    emit(value);\n  };\n}\n\nfunction createShallowSingleMapper(field, emit) {\n  return function (doc) {\n    emit(doc[field]);\n  };\n}\n\nfunction createShallowMultiMapper(fields, emit) {\n  return function (doc) {\n    var toEmit = [];\n    for (var i = 0, len = fields.length; i < len; i++) {\n      toEmit.push(doc[fields[i]]);\n    }\n    emit(toEmit);\n  };\n}\n\nfunction checkShallow(fields) {\n  for (var i = 0, len = fields.length; i < len; i++) {\n    var field = fields[i];\n    if (field.indexOf('.') !== -1) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction createMapper(fields, emit) {\n  var isShallow = checkShallow(fields);\n  var isSingle = fields.length === 1;\n\n  // notice we try to optimize for the most common case,\n  // i.e. single shallow indexes\n  if (isShallow) {\n    if (isSingle) {\n      return createShallowSingleMapper(fields[0], emit);\n    } else { // multi\n      return createShallowMultiMapper(fields, emit);\n    }\n  } else { // deep\n    if (isSingle) {\n      return createDeepSingleMapper(fields[0], emit);\n    } else { // multi\n      return createDeepMultiMapper(fields, emit);\n    }\n  }\n}\n\nfunction mapper(mapFunDef, emit) {\n  // mapFunDef is a list of fields\n\n  var fields = Object.keys(mapFunDef.fields);\n\n  return createMapper(fields, emit);\n}\n\n/* istanbul ignore next */\nfunction reducer(/*reduceFunDef*/) {\n  throw new Error('reduce not supported');\n}\n\nfunction ddocValidator(ddoc, viewName) {\n  var view = ddoc.views[viewName];\n  // This doesn't actually need to be here apparently, but\n  // I feel safer keeping it.\n  /* istanbul ignore if */\n  if (!view.map || !view.map.fields) {\n    throw new Error('ddoc ' + ddoc._id +' with view ' + viewName +\n      ' doesn\\'t have map.fields defined. ' +\n      'maybe it wasn\\'t created by this plugin?');\n  }\n}\n\nvar abstractMapper = abstractMapReduce(\n  /* localDocName */ 'indexes',\n  mapper,\n  reducer,\n  ddocValidator\n);\n\n// normalize the \"sort\" value\nfunction massageSort(sort) {\n  if (!Array.isArray(sort)) {\n    throw new Error('invalid sort json - should be an array');\n  }\n  return sort.map(function (sorting) {\n    if (typeof sorting === 'string') {\n      var obj = {};\n      obj[sorting] = 'asc';\n      return obj;\n    } else {\n      return sorting;\n    }\n  });\n}\n\nfunction massageUseIndex(useIndex) {\n  var cleanedUseIndex = [];\n  if (typeof useIndex === 'string') {\n    cleanedUseIndex.push(useIndex);\n  } else {\n    cleanedUseIndex = useIndex;\n  }\n\n  return cleanedUseIndex.map(function (name) {\n    return name.replace('_design/', '');\n  });\n}\n\nfunction massageIndexDef(indexDef) {\n  indexDef.fields = indexDef.fields.map(function (field) {\n    if (typeof field === 'string') {\n      var obj = {};\n      obj[field] = 'asc';\n      return obj;\n    }\n    return field;\n  });\n  return indexDef;\n}\n\nfunction getKeyFromDoc(doc, index) {\n  var res = [];\n  for (var i = 0; i < index.def.fields.length; i++) {\n    var field = getKey(index.def.fields[i]);\n    res.push(doc[field]);\n  }\n  return res;\n}\n\n// have to do this manually because REASONS. I don't know why\n// CouchDB didn't implement inclusive_start\nfunction filterInclusiveStart(rows, targetValue, index) {\n  var indexFields = index.def.fields;\n  for (var i = 0, len = rows.length; i < len; i++) {\n    var row = rows[i];\n\n    // shave off any docs at the beginning that are <= the\n    // target value\n\n    var docKey = getKeyFromDoc(row.doc, index);\n    if (indexFields.length === 1) {\n      docKey = docKey[0]; // only one field, not multi-field\n    } else { // more than one field in index\n      // in the case where e.g. the user is searching {$gt: {a: 1}}\n      // but the index is [a, b], then we need to shorten the doc key\n      while (docKey.length > targetValue.length) {\n        docKey.pop();\n      }\n    }\n    //ABS as we just looking for values that don't match\n    if (Math.abs(collate(docKey, targetValue)) > 0) {\n      // no need to filter any further; we're past the key\n      break;\n    }\n  }\n  return i > 0 ? rows.slice(i) : rows;\n}\n\nfunction reverseOptions(opts) {\n  var newOpts = clone(opts);\n  delete newOpts.startkey;\n  delete newOpts.endkey;\n  delete newOpts.inclusive_start;\n  delete newOpts.inclusive_end;\n\n  if ('endkey' in opts) {\n    newOpts.startkey = opts.endkey;\n  }\n  if ('startkey' in opts) {\n    newOpts.endkey = opts.startkey;\n  }\n  if ('inclusive_start' in opts) {\n    newOpts.inclusive_end = opts.inclusive_start;\n  }\n  if ('inclusive_end' in opts) {\n    newOpts.inclusive_start = opts.inclusive_end;\n  }\n  return newOpts;\n}\n\nfunction validateIndex(index) {\n  var ascFields = index.fields.filter(function (field) {\n    return getValue(field) === 'asc';\n  });\n  if (ascFields.length !== 0 && ascFields.length !== index.fields.length) {\n    throw new Error('unsupported mixed sorting');\n  }\n}\n\nfunction validateSort(requestDef, index) {\n  if (index.defaultUsed && requestDef.sort) {\n    var noneIdSorts = requestDef.sort.filter(function (sortItem) {\n      return Object.keys(sortItem)[0] !== '_id';\n    }).map(function (sortItem) {\n      return Object.keys(sortItem)[0];\n    });\n\n    if (noneIdSorts.length > 0) {\n      throw new Error('Cannot sort on field(s) \"' + noneIdSorts.join(',') +\n      '\" when using the default index');\n    }\n  }\n\n  if (index.defaultUsed) {\n    return;\n  }\n}\n\nfunction validateFindRequest(requestDef) {\n  if (typeof requestDef.selector !== 'object') {\n    throw new Error('you must provide a selector when you find()');\n  }\n\n  /*var selectors = requestDef.selector['$and'] || [requestDef.selector];\n  for (var i = 0; i < selectors.length; i++) {\n    var selector = selectors[i];\n    var keys = Object.keys(selector);\n    if (keys.length === 0) {\n      throw new Error('invalid empty selector');\n    }\n    //var selection = selector[keys[0]];\n    /*if (Object.keys(selection).length !== 1) {\n      throw new Error('invalid selector: ' + JSON.stringify(selection) +\n        ' - it must have exactly one key/value');\n    }\n  }*/\n}\n\n// determine the maximum number of fields\n// we're going to need to query, e.g. if the user\n// has selection ['a'] and sorting ['a', 'b'], then we\n// need to use the longer of the two: ['a', 'b']\nfunction getUserFields(selector, sort) {\n  var selectorFields = Object.keys(selector);\n  var sortFields = sort? sort.map(getKey) : [];\n  var userFields;\n  if (selectorFields.length >= sortFields.length) {\n    userFields = selectorFields;\n  } else {\n    userFields = sortFields;\n  }\n\n  if (sortFields.length === 0) {\n    return {\n      fields: userFields\n    };\n  }\n\n  // sort according to the user's preferred sorting\n  userFields = userFields.sort(function (left, right) {\n    var leftIdx = sortFields.indexOf(left);\n    if (leftIdx === -1) {\n      leftIdx = Number.MAX_VALUE;\n    }\n    var rightIdx = sortFields.indexOf(right);\n    if (rightIdx === -1) {\n      rightIdx = Number.MAX_VALUE;\n    }\n    return leftIdx < rightIdx ? -1 : leftIdx > rightIdx ? 1 : 0;\n  });\n\n  return {\n    fields: userFields,\n    sortOrder: sort.map(getKey)\n  };\n}\n\nfunction createIndex$1(db, requestDef) {\n  requestDef = massageCreateIndexRequest(requestDef);\n  var originalIndexDef = clone(requestDef.index);\n  requestDef.index = massageIndexDef(requestDef.index);\n\n  validateIndex(requestDef.index);\n\n  // calculating md5 is expensive - memoize and only\n  // run if required\n  var md5;\n  function getMd5() {\n    return md5 || (md5 = stringMd5(JSON.stringify(requestDef)));\n  }\n\n  var viewName = requestDef.name || ('idx-' + getMd5());\n\n  var ddocName = requestDef.ddoc || ('idx-' + getMd5());\n  var ddocId = '_design/' + ddocName;\n\n  var hasInvalidLanguage = false;\n  var viewExists = false;\n\n  function updateDdoc(doc) {\n    if (doc._rev && doc.language !== 'query') {\n      hasInvalidLanguage = true;\n    }\n    doc.language = 'query';\n    doc.views = doc.views || {};\n\n    viewExists = !!doc.views[viewName];\n\n    if (viewExists) {\n      return false;\n    }\n\n    doc.views[viewName] = {\n      map: {\n        fields: mergeObjects(requestDef.index.fields)\n      },\n      reduce: '_count',\n      options: {\n        def: originalIndexDef\n      }\n    };\n\n    return doc;\n  }\n\n  db.constructor.emit('debug', ['find', 'creating index', ddocId]);\n\n  return upsert(db, ddocId, updateDdoc).then(function () {\n    if (hasInvalidLanguage) {\n      throw new Error('invalid language for ddoc with id \"' +\n      ddocId +\n      '\" (should be \"query\")');\n    }\n  }).then(function () {\n    // kick off a build\n    // TODO: abstract-pouchdb-mapreduce should support auto-updating\n    // TODO: should also use update_after, but pouchdb/pouchdb#3415 blocks me\n    var signature = ddocName + '/' + viewName;\n    return abstractMapper.query.call(db, signature, {\n      limit: 0,\n      reduce: false\n    }).then(function () {\n      return {\n        id: ddocId,\n        name: viewName,\n        result: viewExists ? 'exists' : 'created'\n      };\n    });\n  });\n}\n\nfunction getIndexes$1(db) {\n  // just search through all the design docs and filter in-memory.\n  // hopefully there aren't that many ddocs.\n  return db.allDocs({\n    startkey: '_design/',\n    endkey: '_design/\\uffff',\n    include_docs: true\n  }).then(function (allDocsRes) {\n    var res = {\n      indexes: [{\n        ddoc: null,\n        name: '_all_docs',\n        type: 'special',\n        def: {\n          fields: [{_id: 'asc'}]\n        }\n      }]\n    };\n\n    res.indexes = flatten(res.indexes, allDocsRes.rows.filter(function (row) {\n      return row.doc.language === 'query';\n    }).map(function (row) {\n      var viewNames = row.doc.views !== undefined ? Object.keys(row.doc.views) : [];\n\n      return viewNames.map(function (viewName) {\n        var view = row.doc.views[viewName];\n        return {\n          ddoc: row.id,\n          name: viewName,\n          type: 'json',\n          def: massageIndexDef(view.options.def)\n        };\n      });\n    }));\n\n    // these are sorted by view name for some reason\n    res.indexes.sort(function (left, right) {\n      return compare(left.name, right.name);\n    });\n    res.total_rows = res.indexes.length;\n    return res;\n  });\n}\n\n// couchdb lowest collation value\nvar COLLATE_LO = null;\n\n// couchdb highest collation value (TODO: well not really, but close enough amirite)\nvar COLLATE_HI = {\"\\uffff\": {}};\n\n// couchdb second-lowest collation value\n\nfunction checkFieldInIndex(index, field) {\n  var indexFields = index.def.fields.map(getKey);\n  for (var i = 0, len = indexFields.length; i < len; i++) {\n    var indexField = indexFields[i];\n    if (field === indexField) {\n      return true;\n    }\n  }\n  return false;\n}\n\n// so when you do e.g. $eq/$eq, we can do it entirely in the database.\n// but when you do e.g. $gt/$eq, the first part can be done\n// in the database, but the second part has to be done in-memory,\n// because $gt has forced us to lose precision.\n// so that's what this determines\nfunction userOperatorLosesPrecision(selector, field) {\n  var matcher = selector[field];\n  var userOperator = getKey(matcher);\n\n  return userOperator !== '$eq';\n}\n\n// sort the user fields by their position in the index,\n// if they're in the index\nfunction sortFieldsByIndex(userFields, index) {\n  var indexFields = index.def.fields.map(getKey);\n\n  return userFields.slice().sort(function (a, b) {\n    var aIdx = indexFields.indexOf(a);\n    var bIdx = indexFields.indexOf(b);\n    if (aIdx === -1) {\n      aIdx = Number.MAX_VALUE;\n    }\n    if (bIdx === -1) {\n      bIdx = Number.MAX_VALUE;\n    }\n    return compare(aIdx, bIdx);\n  });\n}\n\n// first pass to try to find fields that will need to be sorted in-memory\nfunction getBasicInMemoryFields(index, selector, userFields) {\n\n  userFields = sortFieldsByIndex(userFields, index);\n\n  // check if any of the user selectors lose precision\n  var needToFilterInMemory = false;\n  for (var i = 0, len = userFields.length; i < len; i++) {\n    var field = userFields[i];\n    if (needToFilterInMemory || !checkFieldInIndex(index, field)) {\n      return userFields.slice(i);\n    }\n    if (i < len - 1 && userOperatorLosesPrecision(selector, field)) {\n      needToFilterInMemory = true;\n    }\n  }\n  return [];\n}\n\nfunction getInMemoryFieldsFromNe(selector) {\n  var fields = [];\n  Object.keys(selector).forEach(function (field) {\n    var matcher = selector[field];\n    Object.keys(matcher).forEach(function (operator) {\n      if (operator === '$ne') {\n        fields.push(field);\n      }\n    });\n  });\n  return fields;\n}\n\nfunction getInMemoryFields(coreInMemoryFields, index, selector, userFields) {\n  var result = flatten(\n    // in-memory fields reported as necessary by the query planner\n    coreInMemoryFields,\n    // combine with another pass that checks for any we may have missed\n    getBasicInMemoryFields(index, selector, userFields),\n    // combine with another pass that checks for $ne's\n    getInMemoryFieldsFromNe(selector)\n  );\n\n  return sortFieldsByIndex(uniq(result), index);\n}\n\n// check that at least one field in the user's query is represented\n// in the index. order matters in the case of sorts\nfunction checkIndexFieldsMatch(indexFields, sortOrder, fields) {\n  if (sortOrder) {\n    // array has to be a strict subarray of index array. furthermore,\n    // the sortOrder fields need to all be represented in the index\n    var sortMatches = oneArrayIsStrictSubArrayOfOther(sortOrder, indexFields);\n    var selectorMatches = oneArrayIsSubArrayOfOther(fields, indexFields);\n\n    return sortMatches && selectorMatches;\n  }\n\n  // all of the user's specified fields still need to be\n  // on the left side of the index array, although the order\n  // doesn't matter\n  return oneSetIsSubArrayOfOther(fields, indexFields);\n}\n\nvar logicalMatchers = ['$eq', '$gt', '$gte', '$lt', '$lte'];\nfunction isNonLogicalMatcher(matcher) {\n  return logicalMatchers.indexOf(matcher) === -1;\n}\n\n// check all the index fields for usages of '$ne'\n// e.g. if the user queries {foo: {$ne: 'foo'}, bar: {$eq: 'bar'}},\n// then we can neither use an index on ['foo'] nor an index on\n// ['foo', 'bar'], but we can use an index on ['bar'] or ['bar', 'foo']\nfunction checkFieldsLogicallySound(indexFields, selector) {\n  var firstField = indexFields[0];\n  var matcher = selector[firstField];\n\n  if (typeof matcher === 'undefined') {\n    /* istanbul ignore next */\n    return true;\n  }\n\n  var hasLogicalOperator = Object.keys(matcher).some(function (matcherKey) {\n    return !(isNonLogicalMatcher(matcherKey));\n  });\n\n  if (!hasLogicalOperator) {\n    return false;\n  }\n\n  var isInvalidNe = Object.keys(matcher).length === 1 &&\n    getKey(matcher) === '$ne';\n\n  return !isInvalidNe;\n}\n\nfunction checkIndexMatches(index, sortOrder, fields, selector) {\n\n  var indexFields = index.def.fields.map(getKey);\n\n  var fieldsMatch = checkIndexFieldsMatch(indexFields, sortOrder, fields);\n\n  if (!fieldsMatch) {\n    return false;\n  }\n\n  return checkFieldsLogicallySound(indexFields, selector);\n}\n\n//\n// the algorithm is very simple:\n// take all the fields the user supplies, and if those fields\n// are a strict subset of the fields in some index,\n// then use that index\n//\n//\nfunction findMatchingIndexes(selector, userFields, sortOrder, indexes) {\n\n  return indexes.reduce(function (res, index) {\n    var indexMatches = checkIndexMatches(index, sortOrder, userFields, selector);\n    if (indexMatches) {\n      res.push(index);\n    }\n    return res;\n  }, []);\n}\n\n// find the best index, i.e. the one that matches the most fields\n// in the user's query\nfunction findBestMatchingIndex(selector, userFields, sortOrder, indexes, useIndex) {\n\n  var matchingIndexes = findMatchingIndexes(selector, userFields, sortOrder, indexes);\n\n  if (matchingIndexes.length === 0) {\n    if (useIndex) {\n      throw {\n        error: \"no_usable_index\",\n        message: \"There is no index available for this selector.\"\n      };\n    }\n    //return `all_docs` as a default index;\n    //I'm assuming that _all_docs is always first\n    var defaultIndex = indexes[0];\n    defaultIndex.defaultUsed = true;\n    return defaultIndex;\n  }\n  if (matchingIndexes.length === 1 && !useIndex) {\n    return matchingIndexes[0];\n  }\n\n  var userFieldsMap = arrayToObject(userFields);\n\n  function scoreIndex(index) {\n    var indexFields = index.def.fields.map(getKey);\n    var score = 0;\n    for (var i = 0, len = indexFields.length; i < len; i++) {\n      var indexField = indexFields[i];\n      if (userFieldsMap[indexField]) {\n        score++;\n      }\n    }\n    return score;\n  }\n\n  if (useIndex) {\n    var useIndexDdoc = '_design/' + useIndex[0];\n    var useIndexName = useIndex.length === 2 ? useIndex[1] : false;\n    var index = matchingIndexes.find(function (index) {\n      if (useIndexName && index.ddoc === useIndexDdoc && useIndexName === index.name) {\n        return true;\n      }\n\n      if (index.ddoc === useIndexDdoc) {\n        /* istanbul ignore next */\n        return true;\n      }\n\n      return false;\n    });\n\n    if (!index) {\n      throw {\n        error: \"unknown_error\",\n        message: \"Could not find that index or could not use that index for the query\"\n      };\n    }\n    return index;\n  }\n\n  return max(matchingIndexes, scoreIndex);\n}\n\nfunction getSingleFieldQueryOptsFor(userOperator, userValue) {\n  switch (userOperator) {\n    case '$eq':\n      return {key: userValue};\n    case '$lte':\n      return {endkey: userValue};\n    case '$gte':\n      return {startkey: userValue};\n    case '$lt':\n      return {\n        endkey: userValue,\n        inclusive_end: false\n      };\n    case '$gt':\n      return {\n        startkey: userValue,\n        inclusive_start: false\n      };\n  }\n}\n\nfunction getSingleFieldCoreQueryPlan(selector, index) {\n  var field = getKey(index.def.fields[0]);\n  //ignoring this because the test to exercise the branch is skipped at the moment\n  /* istanbul ignore next */\n  var matcher = selector[field] || {};\n  var inMemoryFields = [];\n\n  var userOperators = Object.keys(matcher);\n\n  var combinedOpts;\n\n  userOperators.forEach(function (userOperator) {\n\n    if (isNonLogicalMatcher(userOperator)) {\n      inMemoryFields.push(field);\n      return;\n    }\n\n    var userValue = matcher[userOperator];\n\n    var newQueryOpts = getSingleFieldQueryOptsFor(userOperator, userValue);\n\n    if (combinedOpts) {\n      combinedOpts = mergeObjects([combinedOpts, newQueryOpts]);\n    } else {\n      combinedOpts = newQueryOpts;\n    }\n  });\n\n  return {\n    queryOpts: combinedOpts,\n    inMemoryFields: inMemoryFields\n  };\n}\n\nfunction getMultiFieldCoreQueryPlan(userOperator, userValue) {\n  switch (userOperator) {\n    case '$eq':\n      return {\n        startkey: userValue,\n        endkey: userValue\n      };\n    case '$lte':\n      return {\n        endkey: userValue\n      };\n    case '$gte':\n      return {\n        startkey: userValue\n      };\n    case '$lt':\n      return {\n        endkey: userValue,\n        inclusive_end: false\n      };\n    case '$gt':\n      return {\n        startkey: userValue,\n        inclusive_start: false\n      };\n  }\n}\n\nfunction getMultiFieldQueryOpts(selector, index) {\n\n  var indexFields = index.def.fields.map(getKey);\n\n  var inMemoryFields = [];\n  var startkey = [];\n  var endkey = [];\n  var inclusiveStart;\n  var inclusiveEnd;\n\n\n  function finish(i) {\n\n    if (inclusiveStart !== false) {\n      startkey.push(COLLATE_LO);\n    }\n    if (inclusiveEnd !== false) {\n      endkey.push(COLLATE_HI);\n    }\n    // keep track of the fields where we lost specificity,\n    // and therefore need to filter in-memory\n    inMemoryFields = indexFields.slice(i);\n  }\n\n  for (var i = 0, len = indexFields.length; i < len; i++) {\n    var indexField = indexFields[i];\n\n    var matcher = selector[indexField];\n\n    if (!matcher || !Object.keys(matcher).length) { // fewer fields in user query than in index\n      finish(i);\n      break;\n    } else if (i > 0) {\n      if (Object.keys(matcher).some(isNonLogicalMatcher)) { // non-logical are ignored\n        finish(i);\n        break;\n      }\n      var usingGtlt = (\n        '$gt' in matcher || '$gte' in matcher ||\n        '$lt' in matcher || '$lte' in matcher);\n      var previousKeys = Object.keys(selector[indexFields[i - 1]]);\n      var previousWasEq = arrayEquals(previousKeys, ['$eq']);\n      var previousWasSame = arrayEquals(previousKeys, Object.keys(matcher));\n      var gtltLostSpecificity = usingGtlt && !previousWasEq && !previousWasSame;\n      if (gtltLostSpecificity) {\n        finish(i);\n        break;\n      }\n    }\n\n    var userOperators = Object.keys(matcher);\n\n    var combinedOpts = null;\n\n    for (var j = 0; j < userOperators.length; j++) {\n      var userOperator = userOperators[j];\n      var userValue = matcher[userOperator];\n\n      var newOpts = getMultiFieldCoreQueryPlan(userOperator, userValue);\n\n      if (combinedOpts) {\n        combinedOpts = mergeObjects([combinedOpts, newOpts]);\n      } else {\n        combinedOpts = newOpts;\n      }\n    }\n\n    startkey.push('startkey' in combinedOpts ? combinedOpts.startkey : COLLATE_LO);\n    endkey.push('endkey' in combinedOpts ? combinedOpts.endkey : COLLATE_HI);\n    if ('inclusive_start' in combinedOpts) {\n      inclusiveStart = combinedOpts.inclusive_start;\n    }\n    if ('inclusive_end' in combinedOpts) {\n      inclusiveEnd = combinedOpts.inclusive_end;\n    }\n  }\n\n  var res = {\n    startkey: startkey,\n    endkey: endkey\n  };\n\n  if (typeof inclusiveStart !== 'undefined') {\n    res.inclusive_start = inclusiveStart;\n  }\n  if (typeof inclusiveEnd !== 'undefined') {\n    res.inclusive_end = inclusiveEnd;\n  }\n\n  return {\n    queryOpts: res,\n    inMemoryFields: inMemoryFields\n  };\n}\n\nfunction getDefaultQueryPlan(selector) {\n  //using default index, so all fields need to be done in memory\n  return {\n    queryOpts: {startkey: null},\n    inMemoryFields: [Object.keys(selector)]\n  };\n}\n\nfunction getCoreQueryPlan(selector, index) {\n  if (index.defaultUsed) {\n    return getDefaultQueryPlan(selector, index);\n  }\n\n  if (index.def.fields.length === 1) {\n    // one field in index, so the value was indexed as a singleton\n    return getSingleFieldCoreQueryPlan(selector, index);\n  }\n  // else index has multiple fields, so the value was indexed as an array\n  return getMultiFieldQueryOpts(selector, index);\n}\n\nfunction planQuery(request, indexes) {\n\n  var selector = request.selector;\n  var sort = request.sort;\n\n  var userFieldsRes = getUserFields(selector, sort);\n\n  var userFields = userFieldsRes.fields;\n  var sortOrder = userFieldsRes.sortOrder;\n  var index = findBestMatchingIndex(selector, userFields, sortOrder, indexes, request.use_index);\n\n  var coreQueryPlan = getCoreQueryPlan(selector, index);\n  var queryOpts = coreQueryPlan.queryOpts;\n  var coreInMemoryFields = coreQueryPlan.inMemoryFields;\n\n  var inMemoryFields = getInMemoryFields(coreInMemoryFields, index, selector, userFields);\n\n  var res = {\n    queryOpts: queryOpts,\n    index: index,\n    inMemoryFields: inMemoryFields\n  };\n  return res;\n}\n\nfunction indexToSignature(index) {\n  // remove '_design/'\n  return index.ddoc.substring(8) + '/' + index.name;\n}\n\nfunction doAllDocs(db, originalOpts) {\n  var opts = clone(originalOpts);\n\n  // CouchDB responds in weird ways when you provide a non-string to _id;\n  // we mimic the behavior for consistency. See issue66 tests for details.\n\n  if (opts.descending) {\n    if ('endkey' in opts && typeof opts.endkey !== 'string') {\n      opts.endkey = '';\n    }\n    if ('startkey' in opts && typeof opts.startkey !== 'string') {\n      opts.limit = 0;\n    }\n  } else {\n    if ('startkey' in opts && typeof opts.startkey !== 'string') {\n      opts.startkey = '';\n    }\n    if ('endkey' in opts && typeof opts.endkey !== 'string') {\n      opts.limit = 0;\n    }\n  }\n  if ('key' in opts && typeof opts.key !== 'string') {\n    opts.limit = 0;\n  }\n\n  return db.allDocs(opts)\n  .then(function (res) {\n    // filter out any design docs that _all_docs might return\n    res.rows = res.rows.filter(function (row) {\n      return !/^_design\\//.test(row.id);\n    });\n    return res;\n  });\n}\n\nfunction find$1(db, requestDef, explain) {\n  if (requestDef.selector) {\n    requestDef.selector = massageSelector(requestDef.selector);\n  }\n\n  if (requestDef.sort) {\n    requestDef.sort = massageSort(requestDef.sort);\n  }\n\n  if (requestDef.use_index) {\n    requestDef.use_index = massageUseIndex(requestDef.use_index);\n  }\n\n  validateFindRequest(requestDef);\n\n  return getIndexes$1(db).then(function (getIndexesRes) {\n\n    db.constructor.emit('debug', ['find', 'planning query', requestDef]);\n    var queryPlan = planQuery(requestDef, getIndexesRes.indexes);\n    db.constructor.emit('debug', ['find', 'query plan', queryPlan]);\n\n    var indexToUse = queryPlan.index;\n\n    validateSort(requestDef, indexToUse);\n\n    var opts = assign({\n      include_docs: true,\n      reduce: false\n    }, queryPlan.queryOpts);\n\n    if ('startkey' in opts && 'endkey' in opts &&\n        collate(opts.startkey, opts.endkey) > 0) {\n      // can't possibly return any results, startkey > endkey\n      /* istanbul ignore next */\n      return {docs: []};\n    }\n\n    var isDescending = requestDef.sort &&\n      typeof requestDef.sort[0] !== 'string' &&\n      getValue(requestDef.sort[0]) === 'desc';\n\n    if (isDescending) {\n      // either all descending or all ascending\n      opts.descending = true;\n      opts = reverseOptions(opts);\n    }\n\n    if (!queryPlan.inMemoryFields.length) {\n      // no in-memory filtering necessary, so we can let the\n      // database do the limit/skip for us\n      if ('limit' in requestDef) {\n        opts.limit = requestDef.limit;\n      }\n      if ('skip' in requestDef) {\n        opts.skip = requestDef.skip;\n      }\n    }\n\n    if (explain) {\n      return Promise.resolve(queryPlan, opts);\n    }\n\n    return Promise.resolve().then(function () {\n      if (indexToUse.name === '_all_docs') {\n        return doAllDocs(db, opts);\n      } else {\n        var signature = indexToSignature(indexToUse);\n        return abstractMapper.query.call(db, signature, opts);\n      }\n    }).then(function (res) {\n      if (opts.inclusive_start === false) {\n        // may have to manually filter the first one,\n        // since couchdb has no true inclusive_start option\n        res.rows = filterInclusiveStart(res.rows, opts.startkey, indexToUse);\n      }\n\n      if (queryPlan.inMemoryFields.length) {\n        // need to filter some stuff in-memory\n        res.rows = filterInMemoryFields(res.rows, requestDef, queryPlan.inMemoryFields);\n      }\n\n      var resp = {\n        docs: res.rows.map(function (row) {\n          var doc = row.doc;\n          if (requestDef.fields) {\n            return pick(doc, requestDef.fields);\n          }\n          return doc;\n        })\n      };\n\n      if (indexToUse.defaultUsed) {\n        resp.warning = 'no matching index found, create an index to optimize query time';\n      }\n\n      return resp;\n    });\n  });\n}\n\nfunction explain$1(db, requestDef) {\n  return find$1(db, requestDef, true)\n  .then(function (queryPlan) {\n    return {\n      dbname: db.name,\n      index: queryPlan.index,\n      selector: requestDef.selector,\n      range: {\n        start_key: queryPlan.queryOpts.startkey,\n        end_key: queryPlan.queryOpts.endkey,\n      },\n      opts: {\n        use_index: requestDef.use_index || [],\n        bookmark: \"nil\", //hardcoded to match CouchDB since its not supported,\n        limit: requestDef.limit,\n        skip: requestDef.skip,\n        sort: requestDef.sort || {},\n        fields: requestDef.fields,\n        conflicts: false, //hardcoded to match CouchDB since its not supported,\n        r: [49], // hardcoded to match CouchDB since its not support\n      },\n      limit: requestDef.limit,\n      skip: requestDef.skip || 0,\n      fields: requestDef.fields,\n    };\n  });\n}\n\nfunction deleteIndex$1(db, index) {\n\n  if (!index.ddoc) {\n    throw new Error('you must supply an index.ddoc when deleting');\n  }\n\n  if (!index.name) {\n    throw new Error('you must supply an index.name when deleting');\n  }\n\n  var docId = index.ddoc;\n  var viewName = index.name;\n\n  function deltaFun(doc) {\n    if (Object.keys(doc.views).length === 1 && doc.views[viewName]) {\n      // only one view in this ddoc, delete the whole ddoc\n      return {_id: docId, _deleted: true};\n    }\n    // more than one view here, just remove the view\n    delete doc.views[viewName];\n    return doc;\n  }\n\n  return upsert(db, docId, deltaFun).then(function () {\n    return abstractMapper.viewCleanup.apply(db);\n  }).then(function () {\n    return {ok: true};\n  });\n}\n\nvar createIndexAsCallback = callbackify(createIndex$1);\nvar findAsCallback = callbackify(find$1);\nvar explainAsCallback = callbackify(explain$1);\nvar getIndexesAsCallback = callbackify(getIndexes$1);\nvar deleteIndexAsCallback = callbackify(deleteIndex$1);\n\nvar plugin = {};\nplugin.createIndex = toPromise(function (requestDef, callback) {\n\n  if (typeof requestDef !== 'object') {\n    return callback(new Error('you must provide an index to create'));\n  }\n\n  var createIndex$$1 = isRemote(this) ?\n    createIndex : createIndexAsCallback;\n  createIndex$$1(this, requestDef, callback);\n});\n\nplugin.find = toPromise(function (requestDef, callback) {\n\n  if (typeof callback === 'undefined') {\n    callback = requestDef;\n    requestDef = undefined;\n  }\n\n  if (typeof requestDef !== 'object') {\n    return callback(new Error('you must provide search parameters to find()'));\n  }\n\n  var find$$1 = isRemote(this) ? find : findAsCallback;\n  find$$1(this, requestDef, callback);\n});\n\nplugin.explain = toPromise(function (requestDef, callback) {\n\n  if (typeof callback === 'undefined') {\n    callback = requestDef;\n    requestDef = undefined;\n  }\n\n  if (typeof requestDef !== 'object') {\n    return callback(new Error('you must provide search parameters to explain()'));\n  }\n\n  var find$$1 = isRemote(this) ? explain : explainAsCallback;\n  find$$1(this, requestDef, callback);\n});\n\nplugin.getIndexes = toPromise(function (callback) {\n\n  var getIndexes$$1 = isRemote(this) ? getIndexes : getIndexesAsCallback;\n  getIndexes$$1(this, callback);\n});\n\nplugin.deleteIndex = toPromise(function (indexDef, callback) {\n\n  if (typeof indexDef !== 'object') {\n    return callback(new Error('you must provide an index to delete'));\n  }\n\n  var deleteIndex$$1 = isRemote(this) ?\n    deleteIndex : deleteIndexAsCallback;\n  deleteIndex$$1(this, indexDef, callback);\n});\n\nexport default plugin;\n","/**\n * this handles the pouchdb-instance\n * to easy add modules and manipulate things\n * Adapters can be found here:\n * @link https://github.com/pouchdb/pouchdb/tree/master/packages/node_modules\n */\nimport PouchDBCore from 'pouchdb-core'; // pouchdb-find\n\nimport PouchDBFind from 'pouchdb-find';\nPouchDBCore.plugin(PouchDBFind);\n/*\n// comment in to debug\nconst pouchdbDebug = require('pouchdb-debug');\nPouchDB.plugin(pouchdbDebug);\nPouchDB.debug.enable('*');\n*/\n\nimport { newRxError, newRxTypeError } from './rx-error';\n\n/**\n * get the number of all undeleted documents\n */\nexport function countAllUndeleted(pouchdb) {\n  return pouchdb.allDocs({\n    include_docs: false,\n    attachments: false\n  }).then(function (docs) {\n    return docs.rows.filter(function (row) {\n      return !row.id.startsWith('_design/');\n    }).length;\n  });\n}\n/**\n * get a batch of documents from the pouch-instance\n */\n\nexport function getBatch(pouchdb, limit) {\n  if (limit <= 1) {\n    throw newRxError('P1', {\n      limit: limit\n    });\n  }\n\n  return pouchdb.allDocs({\n    include_docs: true,\n    attachments: false,\n    limit: limit\n  }).then(function (docs) {\n    return docs.rows.map(function (row) {\n      return row.doc;\n    }).filter(function (doc) {\n      return !doc._id.startsWith('_design');\n    });\n  });\n}\n/**\n * check if the given module is a leveldown-adapter\n * throws if not\n */\n\nexport function isLevelDown(adapter) {\n  if (!adapter || typeof adapter.super_ !== 'function') {\n    throw newRxError('UT4', {\n      adapter: adapter\n    });\n  }\n}\n/**\n * validates that a given string is ok to be used with couchdb-collection-names\n * @link https://wiki.apache.org/couchdb/HTTP_database_API\n * @throws  {Error}\n */\n\nexport function validateCouchDBString(name) {\n  if (typeof name !== 'string' || name.length === 0) {\n    throw newRxTypeError('UT1', {\n      name: name\n    });\n  } // do not check, if foldername is given\n\n\n  if (name.includes('/') || // unix\n  name.includes('\\\\') // windows\n  ) return true;\n  var regStr = '^[a-z][_$a-z0-9]*$';\n  var reg = new RegExp(regStr);\n\n  if (!name.match(reg)) {\n    throw newRxError('UT2', {\n      regex: regStr,\n      givenName: name\n    });\n  }\n\n  return true;\n}\n/**\n * get the correct function-name for pouchdb-replication\n */\n\nexport function pouchReplicationFunction(pouch, _ref) {\n  var _ref$pull = _ref.pull,\n      pull = _ref$pull === void 0 ? true : _ref$pull,\n      _ref$push = _ref.push,\n      push = _ref$push === void 0 ? true : _ref$push;\n  if (pull && push) return pouch.sync.bind(pouch);\n  if (!pull && push) return pouch.replicate.to.bind(pouch);\n  if (pull && !push) return pouch.replicate.from.bind(pouch);\n\n  if (!pull && !push) {\n    throw newRxError('UT3', {\n      pull: pull,\n      push: push\n    });\n  }\n}\nexport function isInstanceOf(obj) {\n  return obj instanceof PouchDBCore;\n}\nexport var PouchDB = PouchDBCore;\n","import { clone, generateId } from './util';\nimport { newRxError } from './rx-error';\n/**\n * wrappers for Pouch.put/get to handle keycompression etc\n */\n\nexport function _handleToPouch(col, docData) {\n  var data = clone(docData);\n  data = col._crypter.encrypt(data);\n  data = col.schema.swapPrimaryToId(data);\n  if (col.schema.doKeyCompression()) data = col._keyCompressor.compress(data);\n  return data;\n}\nexport function _handleFromPouch(col, docData) {\n  var noDecrypt = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var data = clone(docData);\n  data = col.schema.swapIdToPrimary(data);\n  if (col.schema.doKeyCompression()) data = col._keyCompressor.decompress(data);\n  if (noDecrypt) return data;\n  data = col._crypter.decrypt(data);\n  return data;\n}\n/**\n * fills in the _id and the\n * default data.\n * This also clones the data\n */\n\nexport function fillObjectDataBeforeInsert(collection, data) {\n  var useJson = collection.schema.fillObjectWithDefaults(data);\n\n  if (useJson._id && collection.schema.primaryPath !== '_id') {\n    throw newRxError('COL2', {\n      data: data\n    });\n  } // fill _id\n\n\n  if (collection.schema.primaryPath === '_id' && !useJson._id) {\n    useJson._id = generateId();\n  }\n\n  return useJson;\n}\n","/**\n * The DataMigrator handles the documents from collections with older schemas\n * and transforms/saves them into the newest collection\n */\n\n/**\n * TODO this should be completely rewritten because:\n * - The current implemetation does not use pouchdb'S bulkDocs which is much faster\n * - This could have been done in much less code which would be easier to uderstand\n *\n */\nimport { countAllUndeleted, getBatch } from './pouch-db';\nimport { clone, toPromise } from './util';\nimport { createRxSchema } from './rx-schema';\nimport { newRxError } from './rx-error';\nimport overwritable from './overwritable';\nimport { runPluginHooks, runAsyncPluginHooks } from './hooks';\nimport { Subject } from 'rxjs';\nimport { getPreviousVersions } from './rx-schema';\nimport { create as createCrypter } from './crypter';\nimport { _handleToPouch, _handleFromPouch } from './rx-collection-helper';\nexport var DataMigrator =\n/*#__PURE__*/\nfunction () {\n  function DataMigrator(newestCollection, migrationStrategies) {\n    this._migrated = false;\n    this.newestCollection = newestCollection;\n    this.migrationStrategies = migrationStrategies;\n    this.currentSchema = newestCollection.schema;\n    this.database = newestCollection.database;\n    this.name = newestCollection.name;\n  }\n\n  var _proto = DataMigrator.prototype;\n\n  _proto.migrate = function migrate() {\n    var _this = this;\n\n    var batchSize = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 10;\n    if (this._migrated) throw newRxError('DM1');\n    this._migrated = true;\n    var state = {\n      done: false,\n      // true if finished\n      total: 0,\n      // will be the doc-count\n      handled: 0,\n      // amount of handled docs\n      success: 0,\n      // handled docs which successed\n      deleted: 0,\n      // handled docs which got deleted\n      percent: 0 // percentage\n\n    };\n    var observer = new Subject();\n    /**\n     * TODO this is a side-effect which might throw\n     * We did this because it is not possible to create new Observer(async(...))\n     * @link https://github.com/ReactiveX/rxjs/issues/4074\n     */\n\n    (function () {\n      var oldCols;\n      return _getOldCollections(_this).then(function (ret) {\n        oldCols = ret;\n        var countAll = Promise.all(oldCols.map(function (oldCol) {\n          return countAllUndeleted(oldCol.pouchdb);\n        }));\n        return countAll;\n      }).then(function (countAll) {\n        var totalCount = countAll.reduce(function (cur, prev) {\n          return prev = cur + prev;\n        }, 0);\n        state.total = totalCount;\n        observer.next(clone(state));\n        var currentCol = oldCols.shift();\n        var currentPromise = Promise.resolve();\n\n        var _loop = function _loop() {\n          var migrationState$ = migrateOldCollection(currentCol, batchSize);\n          currentPromise = currentPromise.then(function () {\n            return new Promise(function (res) {\n              var sub = migrationState$.subscribe(function (subState) {\n                state.handled++;\n                state[subState.type] = state[subState.type] + 1;\n                state.percent = Math.round(state.handled / state.total * 100);\n                observer.next(clone(state));\n              }, function (e) {\n                sub.unsubscribe();\n                observer.error(e);\n              }, function () {\n                sub.unsubscribe();\n                res();\n              });\n            });\n          });\n          currentCol = oldCols.shift();\n        };\n\n        while (currentCol) {\n          _loop();\n        }\n\n        return currentPromise;\n      }).then(function () {\n        state.done = true;\n        state.percent = 100;\n        observer.next(clone(state));\n        observer.complete();\n      });\n    })();\n\n    return observer.asObservable();\n  };\n\n  _proto.migratePromise = function migratePromise(batchSize) {\n    var _this2 = this;\n\n    if (!this._migratePromise) {\n      this._migratePromise = mustMigrate(this).then(function (must) {\n        if (!must) return Promise.resolve(false);else return new Promise(function (res, rej) {\n          var state$ = _this2.migrate(batchSize);\n\n          state$['subscribe'](null, rej, res);\n        });\n      });\n    }\n\n    return this._migratePromise;\n  };\n\n  return DataMigrator;\n}();\nexport function createOldCollection(version, schemaObj, dataMigrator) {\n  var database = dataMigrator.newestCollection.database;\n  var schema = createRxSchema(schemaObj, false);\n  var ret = {\n    version: version,\n    dataMigrator: dataMigrator,\n    newestCollection: dataMigrator.newestCollection,\n    database: database,\n    schema: createRxSchema(schemaObj, false),\n    pouchdb: database._spawnPouchDB(dataMigrator.newestCollection.name, version, dataMigrator.newestCollection.pouchSettings),\n    _crypter: createCrypter(database.password, schema)\n  };\n\n  if (schema.doKeyCompression()) {\n    ret._keyCompressor = overwritable.createKeyCompressor(schema);\n  }\n\n  return ret;\n}\n/**\n * get an array with OldCollection-instances from all existing old pouchdb-instance\n */\n\nexport function _getOldCollections(dataMigrator) {\n  return Promise.all(getPreviousVersions(dataMigrator.currentSchema.jsonID).map(function (v) {\n    return dataMigrator.database._collectionsPouch.get(dataMigrator.name + '-' + v);\n  }).map(function (fun) {\n    return fun[\"catch\"](function () {\n      return null;\n    });\n  }) // auto-catch so Promise.all continues\n  ).then(function (oldColDocs) {\n    return oldColDocs.filter(function (colDoc) {\n      return colDoc !== null;\n    }).map(function (colDoc) {\n      return createOldCollection(colDoc.schema.version, colDoc.schema, dataMigrator);\n    });\n  });\n}\n/**\n * returns true if a migration is needed\n */\n\nexport function mustMigrate(dataMigrator) {\n  if (dataMigrator.currentSchema.version === 0) return Promise.resolve(false);\n  return _getOldCollections(dataMigrator).then(function (oldCols) {\n    if (oldCols.length === 0) return false;else return true;\n  });\n}\nexport function createDataMigrator(newestCollection, migrationStrategies) {\n  return new DataMigrator(newestCollection, migrationStrategies);\n}\nexport function _runStrategyIfNotNull(oldCollection, version, docOrNull) {\n  if (docOrNull === null) {\n    return Promise.resolve(null);\n  } else {\n    var ret = oldCollection.dataMigrator.migrationStrategies[version](docOrNull);\n    var retPromise = toPromise(ret);\n    return retPromise;\n  }\n}\nexport function getBatchOfOldCollection(oldCollection, batchSize) {\n  return getBatch(oldCollection.pouchdb, batchSize).then(function (docs) {\n    return docs.map(function (doc) {\n      return _handleFromPouch(oldCollection, doc);\n    });\n  });\n}\n/**\n * runs the doc-data through all following migrationStrategies\n * so it will match the newest schema.\n * @throws Error if final doc does not match final schema or migrationStrategy crashes\n * @return final object or null if migrationStrategy deleted it\n */\n\nexport function migrateDocumentData(oldCollection, docData) {\n  docData = clone(docData);\n  var nextVersion = oldCollection.version + 1; // run the document throught migrationStrategies\n\n  var currentPromise = Promise.resolve(docData);\n\n  var _loop2 = function _loop2() {\n    var version = nextVersion;\n    currentPromise = currentPromise.then(function (docOrNull) {\n      return _runStrategyIfNotNull(oldCollection, version, docOrNull);\n    });\n    nextVersion++;\n  };\n\n  while (nextVersion <= oldCollection.newestCollection.schema.version) {\n    _loop2();\n  }\n\n  return currentPromise.then(function (doc) {\n    if (doc === null) return Promise.resolve(null); // check final schema\n\n    try {\n      oldCollection.newestCollection.schema.validate(doc);\n    } catch (e) {\n      throw newRxError('DM2', {\n        fromVersion: oldCollection.version,\n        toVersion: oldCollection.newestCollection.schema.version,\n        finalDoc: doc\n      });\n    }\n\n    return doc;\n  });\n}\n/**\n * transform docdata and save to new collection\n * @return status-action with status and migrated document\n */\n\nexport function _migrateDocument(oldCollection, doc) {\n  var action = {\n    res: null,\n    type: '',\n    migrated: null,\n    doc: doc,\n    oldCollection: oldCollection,\n    newestCollection: oldCollection.newestCollection\n  };\n  return migrateDocumentData(oldCollection, doc).then(function (migrated) {\n    action.migrated = migrated;\n\n    if (migrated) {\n      runPluginHooks('preMigrateDocument', action); // save to newest collection\n\n      delete migrated._rev;\n      return oldCollection.newestCollection._pouchPut(migrated, true).then(function (res) {\n        action.res = res;\n        action.type = 'success';\n        return runAsyncPluginHooks('postMigrateDocument', action);\n      });\n    } else action.type = 'deleted';\n  }).then(function () {\n    // remove from old collection\n    return oldCollection.pouchdb.remove(_handleToPouch(oldCollection, doc))[\"catch\"](function () {});\n  }).then(function () {\n    return action;\n  });\n}\n/**\n * deletes this.pouchdb and removes it from the database.collectionsCollection\n */\n\nexport function deleteOldCollection(oldCollection) {\n  return oldCollection.pouchdb.destroy().then(function () {\n    return oldCollection.database.removeCollectionDoc(oldCollection.dataMigrator.name, oldCollection.schema);\n  });\n}\n/**\n * runs the migration on all documents and deletes the pouchdb afterwards\n */\n\nexport function migrateOldCollection(oldCollection) {\n  var batchSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n\n  if (oldCollection._migrate) {\n    // already running\n    throw newRxError('DM3');\n  }\n\n  oldCollection._migrate = true;\n  var observer = new Subject();\n  /**\n   * TODO this is a side-effect which might throw\n   * @see DataMigrator.migrate()\n   */\n\n  (function () {\n    var error;\n\n    var allBatchesDone = function allBatchesDone() {\n      // remove this oldCollection\n      return deleteOldCollection(oldCollection).then(function () {\n        return observer.complete();\n      });\n    };\n\n    var handleOneBatch = function handleOneBatch() {\n      return getBatchOfOldCollection(oldCollection, batchSize).then(function (batch) {\n        if (batch.length === 0) {\n          allBatchesDone();\n          return false;\n        } else {\n          return Promise.all(batch.map(function (doc) {\n            return _migrateDocument(oldCollection, doc).then(function (action) {\n              return observer.next(action);\n            });\n          }))[\"catch\"](function (e) {\n            return error = e;\n          }).then(function () {\n            return true;\n          });\n        }\n      }).then(function (next) {\n        if (!next) return;\n        if (error) observer.error(error);else handleOneBatch();\n      });\n    };\n\n    handleOneBatch();\n  })();\n\n  return observer.asObservable();\n}\nexport function migratePromise(oldCollection, batchSize) {\n  if (!oldCollection._migratePromise) {\n    oldCollection._migratePromise = new Promise(function (res, rej) {\n      var state$ = migrateOldCollection(oldCollection, batchSize);\n      state$['subscribe'](null, rej, res);\n    });\n  }\n\n  return oldCollection._migratePromise;\n}\n","// TODO add a function to run a cache-clear\nexport var DocCache =\n/*#__PURE__*/\nfunction () {\n  function DocCache() {\n    this._map = new Map();\n    this._map = new Map();\n  }\n\n  var _proto = DocCache.prototype;\n\n  _proto.get = function get(id) {\n    return this._map.get(id);\n  };\n\n  _proto.set = function set(id, obj) {\n    return this._map.set(id, obj);\n  };\n\n  _proto[\"delete\"] = function _delete(id) {\n    return this._map[\"delete\"](id);\n  };\n\n  return DocCache;\n}();\nexport function createDocCache() {\n  return new DocCache();\n}\n","/**\n * the query-cache makes sure that on every query-state, exactly one instance can exist\n * if you use the same mango-query more then once, it will only search the database once.\n */\nexport var QueryCache =\n/*#__PURE__*/\nfunction () {\n  function QueryCache() {\n    this.subs = [];\n    this._map = new Map();\n  }\n  /**\n   * check if an equal query is in the cache,\n   * if true, return the cached one,\n   * if false, save the given one and return it\n   */\n\n\n  var _proto = QueryCache.prototype;\n\n  _proto.getByQuery = function getByQuery(query) {\n    var stringRep = query.toString();\n    if (!this._map.has(stringRep)) this._map.set(stringRep, query);\n    return this._map.get(stringRep);\n  };\n\n  _proto.destroy = function destroy() {\n    this.subs.forEach(function (sub) {\n      return sub.unsubscribe();\n    });\n    this._map = new Map();\n  };\n\n  return QueryCache;\n}();\nexport function createQueryCache() {\n  return new QueryCache();\n}\n","/**\n * a buffer-cache which holds the last X changeEvents of the collection\n * TODO this could be optimized to only store the last event of one document\n */\nexport var ChangeEventBuffer =\n/*#__PURE__*/\nfunction () {\n  /**\n   * array with changeEvents\n   * starts with oldest known event, ends with newest\n   */\n  function ChangeEventBuffer(collection) {\n    var _this = this;\n\n    this.subs = [];\n    this.limit = 100;\n    this.counter = 0;\n    this.eventCounterMap = new WeakMap();\n    this.buffer = [];\n    this.collection = collection;\n    this.subs.push(this.collection.$.subscribe(function (cE) {\n      return _this._handleChangeEvent(cE);\n    }));\n  }\n\n  var _proto = ChangeEventBuffer.prototype;\n\n  _proto._handleChangeEvent = function _handleChangeEvent(changeEvent) {\n    // console.log('changeEventBuffer()._handleChangeEvent()');\n    this.counter++;\n    this.buffer.push(changeEvent);\n    this.eventCounterMap.set(changeEvent, this.counter);\n\n    while (this.buffer.length > this.limit) {\n      this.buffer.shift();\n    }\n  }\n  /**\n   * gets the array-index for the given pointer\n   * @return arrayIndex which can be used to itterate from there. If null, pointer is out of lower bound\n   */\n  ;\n\n  _proto.getArrayIndexByPointer = function getArrayIndexByPointer(pointer) {\n    var oldestEvent = this.buffer[0];\n    var oldestCounter = this.eventCounterMap.get(oldestEvent);\n    if (pointer < oldestCounter) return null; // out of bounds\n\n    var rest = pointer - oldestCounter;\n    return rest;\n  }\n  /**\n   * get all changeEvents which came in later than the pointer-event\n   * @return array with change-events. Iif null, pointer out of bounds\n   */\n  ;\n\n  _proto.getFrom = function getFrom(pointer) {\n    var ret = [];\n    var currentIndex = this.getArrayIndexByPointer(pointer);\n    if (currentIndex === null) // out of bounds\n      return null;\n\n    while (true) {\n      var nextEvent = this.buffer[currentIndex];\n      currentIndex++;\n      if (!nextEvent) return ret;else ret.push(nextEvent);\n    }\n  };\n\n  _proto.runFrom = function runFrom(pointer, fn) {\n    var ret = this.getFrom(pointer);\n\n    if (ret === null) {\n      throw new Error('out of bounds');\n    } else {\n      ret.forEach(function (cE) {\n        return fn(cE);\n      });\n    }\n  }\n  /**\n   * no matter how many operations are done on one document,\n   * only the last operation has to be checked to calculate the new state\n   * this function reduces the events to the last ChangeEvent of each doc\n   */\n  ;\n\n  _proto.reduceByLastOfDoc = function reduceByLastOfDoc(changeEvents) {\n    var docEventMap = {};\n    changeEvents.forEach(function (changeEvent) {\n      docEventMap[changeEvent.data.doc] = changeEvent;\n    });\n    return Object.values(docEventMap);\n  }\n  /**\n   * use this to check if a change has already been handled\n   * @returns true if change with revision exists\n   *\n   */\n  ;\n\n  _proto.hasChangeWithRevision = function hasChangeWithRevision(revision) {\n    // we loop from behind because its more likely that the searched event is at the end\n    var t = this.buffer.length;\n\n    while (t > 0) {\n      t--;\n      var cE = this.buffer[t];\n      if (cE.data.v && cE.data.v._rev === revision) return true;\n    }\n\n    return false;\n  };\n\n  _proto.destroy = function destroy() {\n    this.subs.forEach(function (sub) {\n      return sub.unsubscribe();\n    });\n  };\n\n  return ChangeEventBuffer;\n}();\nexport function createChangeEventBuffer(collection) {\n  return new ChangeEventBuffer(collection);\n}\n","import _createClass from \"@babel/runtime/helpers/createClass\";\nimport { filter } from 'rxjs/operators';\nimport { clone, ucfirst, nextTick, promiseSeries, pluginMissing } from './util';\nimport { validateCouchDBString } from './pouch-db';\nimport { _handleToPouch as _handleToPouch2, _handleFromPouch as _handleFromPouch2, fillObjectDataBeforeInsert } from './rx-collection-helper';\nimport { createRxQuery } from './rx-query';\nimport { isInstanceOf as isInstanceOfRxSchema, createRxSchema } from './rx-schema';\nimport { createChangeEvent } from './rx-change-event';\nimport { newRxError, newRxTypeError } from './rx-error';\nimport { mustMigrate, createDataMigrator } from './data-migrator';\nimport Crypter from './crypter';\nimport { createDocCache } from './doc-cache';\nimport { createQueryCache } from './query-cache';\nimport { createChangeEventBuffer } from './change-event-buffer';\nimport overwritable from './overwritable';\nimport { runPluginHooks } from './hooks';\nimport { createWithConstructor as createRxDocumentWithConstructor, isInstanceOf as isRxDocument } from './rx-document';\nimport { createRxDocument, getRxDocumentConstructor } from './rx-document-prototype-merge';\nvar HOOKS_WHEN = ['pre', 'post'];\nvar HOOKS_KEYS = ['insert', 'save', 'remove', 'create'];\nvar hooksApplied = false;\nexport var RxCollectionBase =\n/*#__PURE__*/\nfunction () {\n  function RxCollectionBase(database, name, schema) {\n    var pouchSettings = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var migrationStrategies = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n    var methods = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n    var attachments = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : {};\n    var options = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : {};\n    var statics = arguments.length > 8 && arguments[8] !== undefined ? arguments[8] : {};\n    this._isInMemory = false;\n    this.destroyed = false;\n    this._atomicUpsertQueues = new Map();\n    this.synced = false;\n    this.hooks = {};\n    this._subs = [];\n    this._repStates = [];\n    this.pouch = {};\n    this._docCache = createDocCache();\n    this._queryCache = createQueryCache();\n    this._dataMigrator = {};\n    this._crypter = {};\n    this._changeEventBuffer = {};\n    this.database = database;\n    this.name = name;\n    this.schema = schema;\n    this.pouchSettings = pouchSettings;\n    this.migrationStrategies = migrationStrategies;\n    this.methods = methods;\n    this.attachments = attachments;\n    this.options = options;\n    this.statics = statics;\n\n    _applyHookFunctions(this);\n  }\n  /**\n   * returns observable\n   */\n\n\n  var _proto = RxCollectionBase.prototype;\n\n  _proto.prepare = function prepare() {\n    var _this = this;\n\n    this.pouch = this.database._spawnPouchDB(this.name, this.schema.version, this.pouchSettings);\n\n    if (this.schema.doKeyCompression()) {\n      this._keyCompressor = overwritable.createKeyCompressor(this.schema);\n    } // we trigger the non-blocking things first and await them later so we can do stuff in the mean time\n\n\n    var spawnedPouchPromise = this.pouch.info(); // resolved when the pouchdb is useable\n\n    var createIndexesPromise = _prepareCreateIndexes(this, spawnedPouchPromise);\n\n    this._dataMigrator = createDataMigrator(this, this.migrationStrategies);\n    this._crypter = Crypter.create(this.database.password, this.schema);\n    this._observable$ = this.database.$.pipe(filter(function (event) {\n      return event.data.col === _this.name;\n    }));\n    this._changeEventBuffer = createChangeEventBuffer(this);\n\n    this._subs.push(this._observable$.pipe(filter(function (cE) {\n      return !cE.data.isLocal;\n    })).subscribe(function (cE) {\n      // when data changes, send it to RxDocument in docCache\n      var doc = _this._docCache.get(cE.data.doc);\n\n      if (doc) doc._handleChangeEvent(cE);\n    }));\n\n    return Promise.all([spawnedPouchPromise, createIndexesPromise]);\n  }\n  /**\n   * checks if a migration is needed\n   */\n  ;\n\n  _proto.migrationNeeded = function migrationNeeded() {\n    return mustMigrate(this._dataMigrator);\n  }\n  /**\n   * trigger migration manually\n   */\n  ;\n\n  _proto.migrate = function migrate() {\n    var batchSize = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 10;\n    return this._dataMigrator.migrate(batchSize);\n  }\n  /**\n   * does the same thing as .migrate() but returns promise\n   * @return resolves when finished\n   */\n  ;\n\n  _proto.migratePromise = function migratePromise() {\n    var batchSize = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 10;\n    return this._dataMigrator.migratePromise(batchSize);\n  }\n  /**\n   * wrappers for Pouch.put/get to handle keycompression etc\n   */\n  ;\n\n  _proto._handleToPouch = function _handleToPouch(docData) {\n    return _handleToPouch2(this, docData);\n  };\n\n  _proto._handleFromPouch = function _handleFromPouch(docData) {\n    var noDecrypt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    return _handleFromPouch2(this, docData, noDecrypt);\n  }\n  /**\n   * every write on the pouchdb\n   * is tunneld throught this function\n   */\n  ;\n\n  _proto._pouchPut = function _pouchPut(obj) {\n    var _this2 = this;\n\n    var overwrite = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    obj = this._handleToPouch(obj);\n    return this.database.lockedRun(function () {\n      return _this2.pouch.put(obj);\n    })[\"catch\"](function (err) {\n      if (overwrite && err.status === 409) {\n        return _this2.database.lockedRun(function () {\n          return _this2.pouch.get(obj._id);\n        }).then(function (exist) {\n          obj._rev = exist._rev;\n          return _this2.database.lockedRun(function () {\n            return _this2.pouch.put(obj);\n          });\n        });\n      } else if (err.status === 409) {\n        throw newRxError('COL19', {\n          id: obj._id,\n          pouchDbError: err,\n          data: obj\n        });\n      } else throw err;\n    });\n  }\n  /**\n   * get document from pouchdb by its _id\n   */\n  ;\n\n  _proto._pouchGet = function _pouchGet(key) {\n    var _this3 = this;\n\n    return this.pouch.get(key).then(function (doc) {\n      return _this3._handleFromPouch(doc);\n    });\n  }\n  /**\n   * wrapps pouch-find\n   */\n  ;\n\n  _proto._pouchFind = function _pouchFind(rxQuery, limit) {\n    var _this4 = this;\n\n    var noDecrypt = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    var compressedQueryJSON = rxQuery.keyCompress();\n    if (limit) compressedQueryJSON['limit'] = limit;\n    return this.database.lockedRun(function () {\n      return _this4.pouch.find(compressedQueryJSON);\n    }).then(function (docsCompressed) {\n      var docs = docsCompressed.docs.map(function (doc) {\n        return _this4._handleFromPouch(doc, noDecrypt);\n      });\n      return docs;\n    });\n  };\n\n  _proto.$emit = function $emit(changeEvent) {\n    return this.database.$emit(changeEvent);\n  };\n\n  _proto.insert = function insert(json) {\n    var _this5 = this;\n\n    // inserting a temporary-document\n    var tempDoc = null;\n\n    if (isRxDocument(json)) {\n      tempDoc = json;\n\n      if (!tempDoc._isTemporary) {\n        throw newRxError('COL1', {\n          data: json\n        });\n      }\n\n      json = tempDoc.toJSON();\n    }\n\n    var useJson = fillObjectDataBeforeInsert(this, json);\n    var newDoc = tempDoc;\n    return this._runHooks('pre', 'insert', useJson).then(function () {\n      _this5.schema.validate(useJson);\n\n      return _this5._pouchPut(useJson);\n    }).then(function (insertResult) {\n      useJson[_this5.schema.primaryPath] = insertResult.id;\n      useJson._rev = insertResult.rev;\n\n      if (tempDoc) {\n        tempDoc._dataSync$.next(useJson);\n      } else newDoc = createRxDocument(_this5, useJson);\n\n      return _this5._runHooks('post', 'insert', useJson, newDoc);\n    }).then(function () {\n      // event\n      var emitEvent = createChangeEvent('INSERT', _this5.database, _this5, newDoc, useJson);\n\n      _this5.$emit(emitEvent);\n\n      return newDoc;\n    });\n  };\n\n  _proto.bulkInsert = function bulkInsert(docsData) {\n    var _this6 = this;\n\n    var useDocs = docsData.map(function (docData) {\n      var useDocData = fillObjectDataBeforeInsert(_this6, docData);\n      return useDocData;\n    });\n    return Promise.all(useDocs.map(function (doc) {\n      return _this6._runHooks('pre', 'insert', doc).then(function () {\n        _this6.schema.validate(doc);\n\n        return doc;\n      });\n    })).then(function (docs) {\n      var insertDocs = docs.map(function (d) {\n        return _this6._handleToPouch(d);\n      });\n      var docsMap = new Map();\n      docs.forEach(function (d) {\n        docsMap.set(d[_this6.schema.primaryPath], d);\n      });\n      return _this6.database.lockedRun(function () {\n        return _this6.pouch.bulkDocs(insertDocs).then(function (results) {\n          var okResults = results.filter(function (r) {\n            return r.ok;\n          }); // create documents\n\n          var rxDocuments = okResults.map(function (r) {\n            var docData = docsMap.get(r.id);\n            docData._rev = r.rev;\n            var doc = createRxDocument(_this6, docData);\n            return doc;\n          }); // emit events\n\n          rxDocuments.forEach(function (doc) {\n            var emitEvent = createChangeEvent('INSERT', _this6.database, _this6, doc, docsMap.get(doc.primary));\n\n            _this6.$emit(emitEvent);\n          });\n          return {\n            success: rxDocuments,\n            error: results.filter(function (r) {\n              return !r.ok;\n            })\n          };\n        });\n      });\n    });\n  }\n  /**\n   * same as insert but overwrites existing document with same primary\n   */\n  ;\n\n  _proto.upsert = function upsert(json) {\n    var _this7 = this;\n\n    var useJson = clone(json);\n    var primary = useJson[this.schema.primaryPath];\n\n    if (!primary) {\n      throw newRxError('COL3', {\n        primaryPath: this.schema.primaryPath,\n        data: useJson\n      });\n    }\n\n    return this.findOne(primary).exec().then(function (existing) {\n      if (existing) {\n        useJson._rev = existing['_rev'];\n        return existing.atomicUpdate(function () {\n          return useJson;\n        }).then(function () {\n          return existing;\n        });\n      } else {\n        return _this7.insert(json);\n      }\n    });\n  }\n  /**\n   * upserts to a RxDocument, uses atomicUpdate if document already exists\n   */\n  ;\n\n  _proto.atomicUpsert = function atomicUpsert(json) {\n    var _this8 = this;\n\n    json = clone(json);\n    var primary = json[this.schema.primaryPath];\n\n    if (!primary) {\n      throw newRxError('COL4', {\n        data: json\n      });\n    } // ensure that it wont try 2 parallel runs\n\n\n    var queue;\n\n    if (!this._atomicUpsertQueues.has(primary)) {\n      queue = Promise.resolve();\n    } else {\n      queue = this._atomicUpsertQueues.get(primary);\n    }\n\n    queue = queue.then(function () {\n      return _atomicUpsertEnsureRxDocumentExists(_this8, primary, json);\n    }).then(function (wasInserted) {\n      if (!wasInserted.inserted) {\n        return _atomicUpsertUpdate(wasInserted.doc, json).then(function () {\n          return nextTick();\n        }) // tick here so the event can propagate\n        .then(function () {\n          return wasInserted.doc;\n        });\n      } else return wasInserted.doc;\n    });\n\n    this._atomicUpsertQueues.set(primary, queue);\n\n    return queue;\n  }\n  /**\n   * takes a mongoDB-query-object and returns the documents\n   */\n  ;\n\n  _proto.find = function find(queryObj) {\n    if (typeof queryObj === 'string') {\n      throw newRxError('COL5', {\n        queryObj: queryObj\n      });\n    }\n\n    var query = createRxQuery('find', queryObj, this);\n    return query;\n  };\n\n  _proto.findOne = function findOne(queryObj) {\n    var query;\n\n    if (typeof queryObj === 'string') {\n      query = createRxQuery('findOne', {\n        _id: queryObj\n      }, this);\n    } else query = createRxQuery('findOne', queryObj, this);\n\n    if (typeof queryObj === 'number' || Array.isArray(queryObj)) {\n      throw newRxTypeError('COL6', {\n        queryObj: queryObj\n      });\n    }\n\n    return query;\n  }\n  /**\n   * export to json\n   * if true, all encrypted values will be decrypted\n   */\n  ;\n\n  _proto.dump = function dump() {\n    var _decrytped = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    throw pluginMissing('json-dump');\n  }\n  /**\n   * imports the json-data into the collection\n   * @param should be an array of raw-data\n   */\n  ;\n\n  _proto.importDump = function importDump(_exportedJSON) {\n    throw pluginMissing('json-dump');\n  }\n  /**\n   * waits for external changes to the database\n   * and ensures they are emitted to the internal RxChangeEvent-Stream\n   * TODO this can be removed by listening to the pull-change-events of the RxReplicationState\n   */\n  ;\n\n  _proto.watchForChanges = function watchForChanges() {\n    throw pluginMissing('watch-for-changes');\n  }\n  /**\n   * sync with another database\n   */\n  ;\n\n  _proto.sync = function sync(_syncOptions) {\n    throw pluginMissing('replication');\n  }\n  /**\n   * sync with a GraphQL endpoint\n   */\n  ;\n\n  _proto.syncGraphQL = function syncGraphQL(options) {\n    throw pluginMissing('replication-graphql');\n  }\n  /**\n   * Create a replicated in-memory-collection\n   */\n  ;\n\n  _proto.inMemory = function inMemory() {\n    throw pluginMissing('in-memory');\n  }\n  /**\n   * HOOKS\n   */\n  ;\n\n  _proto.addHook = function addHook(when, key, fun) {\n    var parallel = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n    if (typeof fun !== 'function') {\n      throw newRxTypeError('COL7', {\n        key: key,\n        when: when\n      });\n    }\n\n    if (!HOOKS_WHEN.includes(when)) {\n      throw newRxTypeError('COL8', {\n        key: key,\n        when: when\n      });\n    }\n\n    if (!HOOKS_KEYS.includes(key)) {\n      throw newRxError('COL9', {\n        key: key\n      });\n    }\n\n    if (when === 'post' && key === 'create' && parallel === true) {\n      throw newRxError('COL10', {\n        when: when,\n        key: key,\n        parallel: parallel\n      });\n    } // bind this-scope to hook-function\n\n\n    var boundFun = fun.bind(this);\n    var runName = parallel ? 'parallel' : 'series';\n    this.hooks[key] = this.hooks[key] || {};\n    this.hooks[key][when] = this.hooks[key][when] || {\n      series: [],\n      parallel: []\n    };\n    this.hooks[key][when][runName].push(boundFun);\n  };\n\n  _proto.getHooks = function getHooks(when, key) {\n    try {\n      return this.hooks[key][when];\n    } catch (e) {\n      return {\n        series: [],\n        parallel: []\n      };\n    }\n  };\n\n  _proto._runHooks = function _runHooks(when, key, data, instance) {\n    var hooks = this.getHooks(when, key);\n    if (!hooks) return Promise.resolve(); // run parallel: false\n\n    var tasks = hooks.series.map(function (hook) {\n      return function () {\n        return hook(data, instance);\n      };\n    });\n    return promiseSeries(tasks) // run parallel: true\n    .then(function () {\n      return Promise.all(hooks.parallel.map(function (hook) {\n        return hook(data, instance);\n      }));\n    });\n  }\n  /**\n   * does the same as ._runHooks() but with non-async-functions\n   */\n  ;\n\n  _proto._runHooksSync = function _runHooksSync(when, key, data, instance) {\n    var hooks = this.getHooks(when, key);\n    if (!hooks) return;\n    hooks.series.forEach(function (hook) {\n      return hook(data, instance);\n    });\n  }\n  /**\n   * creates a temporaryDocument which can be saved later\n   */\n  ;\n\n  _proto.newDocument = function newDocument() {\n    var docData = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    docData = this.schema.fillObjectWithDefaults(docData);\n    var doc = createRxDocumentWithConstructor(getRxDocumentConstructor(this), this, docData);\n    doc._isTemporary = true;\n\n    this._runHooksSync('post', 'create', docData, doc);\n\n    return doc;\n  };\n\n  _proto.destroy = function destroy() {\n    if (this.destroyed) return Promise.resolve(false);\n\n    if (this._onDestroyCall) {\n      this._onDestroyCall();\n    }\n\n    this._subs.forEach(function (sub) {\n      return sub.unsubscribe();\n    });\n\n    if (this._changeEventBuffer) {\n      this._changeEventBuffer.destroy();\n    }\n\n    this._queryCache.destroy();\n\n    this._repStates.forEach(function (sync) {\n      return sync.cancel();\n    });\n\n    delete this.database.collections[this.name];\n    this.destroyed = true;\n    return Promise.resolve(true);\n  }\n  /**\n   * remove all data\n   */\n  ;\n\n  _proto.remove = function remove() {\n    return this.database.removeCollection(this.name);\n  };\n\n  _createClass(RxCollectionBase, [{\n    key: \"$\",\n    get: function get() {\n      return this._observable$;\n    }\n  }, {\n    key: \"insert$\",\n    get: function get() {\n      return this.$.pipe(filter(function (cE) {\n        return cE.data.op === 'INSERT';\n      }));\n    }\n  }, {\n    key: \"update$\",\n    get: function get() {\n      return this.$.pipe(filter(function (cE) {\n        return cE.data.op === 'UPDATE';\n      }));\n    }\n  }, {\n    key: \"remove$\",\n    get: function get() {\n      return this.$.pipe(filter(function (cE) {\n        return cE.data.op === 'REMOVE';\n      }));\n    }\n  }, {\n    key: \"docChanges$\",\n    get: function get() {\n      if (!this.__docChanges$) {\n        this.__docChanges$ = this.$.pipe(filter(function (cEvent) {\n          return ['INSERT', 'UPDATE', 'REMOVE'].includes(cEvent.data.op);\n        }));\n      }\n\n      return this.__docChanges$;\n    }\n  }, {\n    key: \"onDestroy\",\n    get: function get() {\n      var _this9 = this;\n\n      if (!this._onDestroy) this._onDestroy = new Promise(function (res) {\n        return _this9._onDestroyCall = res;\n      });\n      return this._onDestroy;\n    }\n  }]);\n\n  return RxCollectionBase;\n}();\n/**\n * adds the hook-functions to the collections prototype\n * this runs only once\n */\n\nfunction _applyHookFunctions(collection) {\n  if (hooksApplied) return; // already run\n\n  hooksApplied = true;\n  var colProto = Object.getPrototypeOf(collection);\n  HOOKS_KEYS.forEach(function (key) {\n    HOOKS_WHEN.map(function (when) {\n      var fnName = when + ucfirst(key);\n\n      colProto[fnName] = function (fun, parallel) {\n        return this.addHook(when, key, fun, parallel);\n      };\n    });\n  });\n}\n/**\n * returns all possible properties of a RxCollection-instance\n */\n\n\nvar _properties = null;\nexport function properties() {\n  if (!_properties) {\n    var pseudoInstance = new RxCollectionBase();\n    var ownProperties = Object.getOwnPropertyNames(pseudoInstance);\n    var prototypeProperties = Object.getOwnPropertyNames(Object.getPrototypeOf(pseudoInstance));\n    _properties = [].concat(ownProperties, prototypeProperties);\n  }\n\n  return _properties;\n}\n\nfunction _atomicUpsertUpdate(doc, json) {\n  return doc.atomicUpdate(function (innerDoc) {\n    json._rev = innerDoc._rev;\n    innerDoc._data = json;\n    return innerDoc._data;\n  }).then(function () {\n    return doc;\n  });\n}\n/**\n * ensures that the given document exists\n * @return promise that resolves with new doc and flag if inserted\n */\n\n\nfunction _atomicUpsertEnsureRxDocumentExists(rxCollection, primary, json) {\n  return rxCollection.findOne(primary).exec().then(function (doc) {\n    if (!doc) {\n      return rxCollection.insert(json).then(function (newDoc) {\n        return {\n          doc: newDoc,\n          inserted: true\n        };\n      });\n    } else {\n      return {\n        doc: doc,\n        inserted: false\n      };\n    }\n  });\n}\n/**\n * creates the indexes in the pouchdb\n */\n\n\nfunction _prepareCreateIndexes(rxCollection, spawnedPouchPromise) {\n  return Promise.all(rxCollection.schema.indexes.map(function (indexAr) {\n    var compressedIdx = indexAr.map(function (key) {\n      if (!rxCollection.schema.doKeyCompression()) return key;else return rxCollection._keyCompressor.transformKey('', '', key.split('.'));\n    });\n    return spawnedPouchPromise.then(function () {\n      return rxCollection.pouch.createIndex({\n        index: {\n          fields: compressedIdx\n        }\n      });\n    });\n  }));\n}\n/**\n * creates and prepares a new collection\n */\n\n\nexport function create(_ref) {\n  var database = _ref.database,\n      name = _ref.name,\n      schema = _ref.schema,\n      _ref$pouchSettings = _ref.pouchSettings,\n      pouchSettings = _ref$pouchSettings === void 0 ? {} : _ref$pouchSettings,\n      _ref$migrationStrateg = _ref.migrationStrategies,\n      migrationStrategies = _ref$migrationStrateg === void 0 ? {} : _ref$migrationStrateg,\n      _ref$autoMigrate = _ref.autoMigrate,\n      autoMigrate = _ref$autoMigrate === void 0 ? true : _ref$autoMigrate,\n      _ref$statics = _ref.statics,\n      statics = _ref$statics === void 0 ? {} : _ref$statics,\n      _ref$methods = _ref.methods,\n      methods = _ref$methods === void 0 ? {} : _ref$methods,\n      _ref$attachments = _ref.attachments,\n      attachments = _ref$attachments === void 0 ? {} : _ref$attachments,\n      _ref$options = _ref.options,\n      options = _ref$options === void 0 ? {} : _ref$options;\n  validateCouchDBString(name); // ensure it is a schema-object\n\n  if (!isInstanceOfRxSchema(schema)) schema = createRxSchema(schema);\n  Object.keys(methods).filter(function (funName) {\n    return schema.topLevelFields.includes(funName);\n  }).forEach(function (funName) {\n    throw newRxError('COL18', {\n      funName: funName\n    });\n  });\n  var collection = new RxCollectionBase(database, name, schema, pouchSettings, migrationStrategies, methods, attachments, options, statics);\n  return collection.prepare().then(function () {\n    // ORM add statics\n    Object.entries(statics).forEach(function (_ref2) {\n      var funName = _ref2[0],\n          fun = _ref2[1];\n      Object.defineProperty(collection, funName, {\n        get: function get() {\n          return fun.bind(collection);\n        }\n      });\n    });\n    var ret = Promise.resolve();\n    if (autoMigrate) ret = collection.migratePromise();\n    return ret;\n  }).then(function () {\n    runPluginHooks('createRxCollection', collection);\n    return collection;\n  });\n}\nexport function isInstanceOf(obj) {\n  return obj instanceof RxCollectionBase;\n}\nexport default {\n  create: create,\n  properties: properties,\n  isInstanceOf: isInstanceOf,\n  RxCollectionBase: RxCollectionBase\n};\n","/**\n * this queue tracks the currently running database-interactions\n * so we know when the database is in idle-state and can call\n * requestIdlePromise for semi-important actions\n */\n'use strict';\n/**\n * Creates a new Idle-Queue\n * @constructor\n * @param {number} [parallels=1] amount of parrallel runs of the limited-ressource\n */\n\nvar IdleQueue = function IdleQueue() {\n  var parallels = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n  this._parallels = parallels || 1;\n  /**\n   * _queueCounter\n   * each lock() increased this number\n   * each unlock() decreases this number\n   * If _qC==0, the state is in idle\n   * @type {Number}\n   */\n\n  this._qC = 0;\n  /**\n   * _idleCalls\n   * contains all promises that where added via requestIdlePromise()\n   * and not have been resolved\n   * @type {Set<Promise>} _iC with oldest promise first\n   */\n\n  this._iC = new Set();\n  /**\n   * _lastHandleNumber\n   * @type {Number}\n   */\n\n  this._lHN = 0;\n  /**\n   * _handlePromiseMap\n   * Contains the handleNumber on the left\n   * And the assigned promise on the right.\n   * This is stored so you can use cancelIdleCallback(handleNumber)\n   * to stop executing the callback.\n   * @type {Map<Number><Promise>}\n   */\n\n  this._hPM = new Map();\n  this._pHM = new Map(); // _promiseHandleMap\n};\n\nIdleQueue.prototype = {\n  isIdle: function isIdle() {\n    return this._qC < this._parallels;\n  },\n\n  /**\n   * creates a lock in the queue\n   * and returns an unlock-function to remove the lock from the queue\n   * @return {function} unlock function than must be called afterwards\n   */\n  lock: function lock() {\n    this._qC++;\n  },\n  unlock: function unlock() {\n    this._qC--;\n\n    _tryIdleCall(this);\n  },\n\n  /**\n   * wraps a function with lock/unlock and runs it\n   * @param  {function}  fun\n   * @return {Promise<any>}\n   */\n  wrapCall: function wrapCall(fun) {\n    var _this = this;\n\n    this.lock();\n    var maybePromise;\n\n    try {\n      maybePromise = fun();\n    } catch (err) {\n      this.unlock();\n      throw err;\n    }\n\n    if (!maybePromise.then || typeof maybePromise.then !== 'function') {\n      // no promise\n      this.unlock();\n      return maybePromise;\n    } else {\n      // promise\n      return maybePromise.then(function (ret) {\n        // sucessfull -> unlock before return\n        _this.unlock();\n\n        return ret;\n      })[\"catch\"](function (err) {\n        // not sucessfull -> unlock before throwing\n        _this.unlock();\n\n        throw err;\n      });\n    }\n  },\n\n  /**\n   * does the same as requestIdleCallback() but uses promises instead of the callback\n   * @param {{timeout?: number}} options like timeout\n   * @return {Promise<void>} promise that resolves when the database is in idle-mode\n   */\n  requestIdlePromise: function requestIdlePromise(options) {\n    var _this2 = this;\n\n    options = options || {};\n    var resolve;\n    var prom = new Promise(function (res) {\n      return resolve = res;\n    });\n\n    var resolveFromOutside = function resolveFromOutside() {\n      _removeIdlePromise(_this2, prom);\n\n      resolve();\n    };\n\n    prom._manRes = resolveFromOutside;\n\n    if (options.timeout) {\n      // if timeout has passed, resolve promise even if not idle\n      var timeoutObj = setTimeout(function () {\n        prom._manRes();\n      }, options.timeout);\n      prom._timeoutObj = timeoutObj;\n    }\n\n    this._iC.add(prom);\n\n    _tryIdleCall(this);\n\n    return prom;\n  },\n\n  /**\n   * remove the promise so it will never be resolved\n   * @param  {Promise} promise from requestIdlePromise()\n   * @return {void}\n   */\n  cancelIdlePromise: function cancelIdlePromise(promise) {\n    _removeIdlePromise(this, promise);\n  },\n\n  /**\n   * api equal to\n   * @link https://developer.mozilla.org/en-US/docs/Web/API/Window/requestIdleCallback\n   * @param  {Function} callback\n   * @param  {options}   options  [description]\n   * @return {number} handle which can be used with cancelIdleCallback()\n   */\n  requestIdleCallback: function requestIdleCallback(callback, options) {\n    var handle = this._lHN++;\n    var promise = this.requestIdlePromise(options);\n\n    this._hPM.set(handle, promise);\n\n    this._pHM.set(promise, handle);\n\n    promise.then(function () {\n      return callback();\n    });\n    return handle;\n  },\n\n  /**\n   * API equal to\n   * @link https://developer.mozilla.org/en-US/docs/Web/API/Window/cancelIdleCallback\n   * @param  {number} handle returned from requestIdleCallback()\n   * @return {void}\n   */\n  cancelIdleCallback: function cancelIdleCallback(handle) {\n    var promise = this._hPM.get(handle);\n\n    this.cancelIdlePromise(promise);\n  },\n\n  /**\n   * clears and resets everything\n   * @return {void}\n   */\n  clear: function clear() {\n    var _this3 = this;\n\n    // remove all non-cleared\n    this._iC.forEach(function (promise) {\n      return _removeIdlePromise(_this3, promise);\n    });\n\n    this._qC = 0;\n\n    this._iC.clear();\n\n    this._hPM = new Map();\n    this._pHM = new Map();\n  }\n};\n/**\n * processes the oldest call of the idleCalls-queue\n * @return {Promise<void>}\n */\n\nfunction _resolveOneIdleCall(idleQueue) {\n  if (idleQueue._iC.size === 0) return;\n\n  var iterator = idleQueue._iC.values();\n\n  var oldestPromise = iterator.next().value;\n\n  oldestPromise._manRes(); // try to call the next tick\n\n\n  setTimeout(function () {\n    return _tryIdleCall(idleQueue);\n  }, 0);\n}\n\n;\n/**\n * removes the promise from the queue and maps and also its corresponding handle-number\n * @param  {Promise} promise from requestIdlePromise()\n * @return {void}\n */\n\nfunction _removeIdlePromise(idleQueue, promise) {\n  if (!promise) return; // remove timeout if exists\n\n  if (promise._timeoutObj) clearTimeout(promise._timeoutObj); // remove handle-nr if exists\n\n  if (idleQueue._pHM.has(promise)) {\n    var handle = idleQueue._pHM.get(promise);\n\n    idleQueue._hPM[\"delete\"](handle);\n\n    idleQueue._pHM[\"delete\"](promise);\n  } // remove from queue\n\n\n  idleQueue._iC[\"delete\"](promise);\n}\n\n;\n/**\n * resolves the last entry of this._iC\n * but only if the queue is empty\n * @return {Promise}\n */\n\nfunction _tryIdleCall(idleQueue) {\n  // ensure this does not run in parallel\n  if (idleQueue._tryIR || idleQueue._iC.size === 0) return;\n  idleQueue._tryIR = true; // w8 one tick\n\n  setTimeout(function () {\n    // check if queue empty\n    if (!idleQueue.isIdle()) {\n      idleQueue._tryIR = false;\n      return;\n    }\n\n    ;\n    /**\n     * wait 1 tick here\n     * because many functions do IO->CPU->IO\n     * which means the queue is empty for a short time\n     * but the ressource is not idle\n     */\n\n    setTimeout(function () {\n      // check if queue still empty\n      if (!idleQueue.isIdle()) {\n        idleQueue._tryIR = false;\n        return;\n      } // ressource is idle\n\n\n      _resolveOneIdleCall(idleQueue);\n\n      idleQueue._tryIR = false;\n    }, 0);\n  }, 0);\n}\n\n;\nexport default IdleQueue;","/**\n * returns true if the given object is a promise\n */\nexport function isPromise(obj) {\n  if (obj && typeof obj.then === 'function') {\n    return true;\n  } else {\n    return false;\n  }\n}\nexport function sleep(time) {\n  if (!time) time = 0;\n  return new Promise(function (res) {\n    return setTimeout(res, time);\n  });\n}\nexport function randomInt(min, max) {\n  return Math.floor(Math.random() * (max - min + 1) + min);\n}\n/**\n * https://stackoverflow.com/a/1349426/3443137\n */\n\nexport function randomToken(length) {\n  if (!length) length = 5;\n  var text = '';\n  var possible = 'abcdefghijklmnopqrstuvwxzy0123456789';\n\n  for (var i = 0; i < length; i++) {\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\n  }\n\n  return text;\n}\nvar lastMs = 0;\nvar additional = 0;\n/**\n * returns the current time in micro-seconds,\n * WARNING: This is a pseudo-function\n * Performance.now is not reliable in webworkers, so we just make sure to never return the same time.\n * This is enough in browsers, and this function will not be used in nodejs.\n * The main reason for this hack is to ensure that BroadcastChannel behaves equal to production when it is used in fast-running unit tests.\n */\n\nexport function microSeconds() {\n  var ms = new Date().getTime();\n\n  if (ms === lastMs) {\n    additional++;\n    return ms * 1000 + additional;\n  } else {\n    lastMs = ms;\n    additional = 0;\n    return ms * 1000;\n  }\n}\n/**\n * copied from the 'detect-node' npm module\n * We cannot use the module directly because it causes problems with rollup\n * @link https://github.com/iliakan/detect-node/blob/master/index.js\n */\n\nexport var isNode = Object.prototype.toString.call(typeof process !== 'undefined' ? process : 0) === '[object process]';","import { microSeconds as micro, isNode } from '../util';\nexport var microSeconds = micro;\nexport var type = 'native';\nexport function create(channelName) {\n  var state = {\n    messagesCallback: null,\n    bc: new BroadcastChannel(channelName),\n    subFns: [] // subscriberFunctions\n\n  };\n\n  state.bc.onmessage = function (msg) {\n    if (state.messagesCallback) {\n      state.messagesCallback(msg.data);\n    }\n  };\n\n  return state;\n}\nexport function close(channelState) {\n  channelState.bc.close();\n  channelState.subFns = [];\n}\nexport function postMessage(channelState, messageJson) {\n  channelState.bc.postMessage(messageJson, false);\n}\nexport function onMessage(channelState, fn) {\n  channelState.messagesCallback = fn;\n}\nexport function canBeUsed() {\n  /**\n   * in the electron-renderer, isNode will be true even if we are in browser-context\n   * so we also check if window is undefined\n   */\n  if (isNode && typeof window === 'undefined') return false;\n\n  if (typeof BroadcastChannel === 'function') {\n    if (BroadcastChannel._pubkey) {\n      throw new Error('BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill');\n    }\n\n    return true;\n  } else return false;\n}\nexport function averageResponseTime() {\n  return 150;\n}\nexport default {\n  create: create,\n  close: close,\n  onMessage: onMessage,\n  postMessage: postMessage,\n  canBeUsed: canBeUsed,\n  type: type,\n  averageResponseTime: averageResponseTime,\n  microSeconds: microSeconds\n};","/**\n * this is a set which automatically forgets\n * a given entry when a new entry is set and the ttl\n * of the old one is over\n * @constructor\n */\nvar ObliviousSet = function ObliviousSet(ttl) {\n  var set = new Set();\n  var timeMap = new Map();\n  this.has = set.has.bind(set);\n\n  this.add = function (value) {\n    timeMap.set(value, now());\n    set.add(value);\n\n    _removeTooOldValues();\n  };\n\n  this.clear = function () {\n    set.clear();\n    timeMap.clear();\n  };\n\n  function _removeTooOldValues() {\n    var olderThen = now() - ttl;\n    var iterator = set[Symbol.iterator]();\n\n    while (true) {\n      var value = iterator.next().value;\n      if (!value) return; // no more elements\n\n      var time = timeMap.get(value);\n\n      if (time < olderThen) {\n        timeMap[\"delete\"](value);\n        set[\"delete\"](value);\n      } else {\n        // we reached a value that is not old enough\n        return;\n      }\n    }\n  }\n};\n\nfunction now() {\n  return new Date().getTime();\n}\n\nexport default ObliviousSet;","export function fillOptionsWithDefaults(options) {\n  if (!options) options = {};\n  options = JSON.parse(JSON.stringify(options)); // main\n\n  if (typeof options.webWorkerSupport === 'undefined') options.webWorkerSupport = true; // indexed-db\n\n  if (!options.idb) options.idb = {}; //  after this time the messages get deleted\n\n  if (!options.idb.ttl) options.idb.ttl = 1000 * 45;\n  if (!options.idb.fallbackInterval) options.idb.fallbackInterval = 150; // localstorage\n\n  if (!options.localstorage) options.localstorage = {};\n  if (!options.localstorage.removeTimeout) options.localstorage.removeTimeout = 1000 * 60; // node\n\n  if (!options.node) options.node = {};\n  if (!options.node.ttl) options.node.ttl = 1000 * 60 * 2; // 2 minutes;\n\n  if (typeof options.node.useFastPath === 'undefined') options.node.useFastPath = true;\n  return options;\n}","/**\n * this method uses indexeddb to store the messages\n * There is currently no observerAPI for idb\n * @link https://github.com/w3c/IndexedDB/issues/51\n */\nimport { sleep, randomInt, randomToken, microSeconds as micro, isNode } from '../util.js';\nexport var microSeconds = micro;\nimport ObliviousSet from '../oblivious-set';\nimport { fillOptionsWithDefaults } from '../options';\nvar DB_PREFIX = 'pubkey.broadcast-channel-0-';\nvar OBJECT_STORE_ID = 'messages';\nexport var type = 'idb';\nexport function getIdb() {\n  if (typeof indexedDB !== 'undefined') return indexedDB;\n  if (typeof window.mozIndexedDB !== 'undefined') return window.mozIndexedDB;\n  if (typeof window.webkitIndexedDB !== 'undefined') return window.webkitIndexedDB;\n  if (typeof window.msIndexedDB !== 'undefined') return window.msIndexedDB;\n  return false;\n}\nexport function createDatabase(channelName) {\n  var IndexedDB = getIdb(); // create table\n\n  var dbName = DB_PREFIX + channelName;\n  var openRequest = IndexedDB.open(dbName, 1);\n\n  openRequest.onupgradeneeded = function (ev) {\n    var db = ev.target.result;\n    db.createObjectStore(OBJECT_STORE_ID, {\n      keyPath: 'id',\n      autoIncrement: true\n    });\n  };\n\n  var dbPromise = new Promise(function (res, rej) {\n    openRequest.onerror = function (ev) {\n      return rej(ev);\n    };\n\n    openRequest.onsuccess = function () {\n      res(openRequest.result);\n    };\n  });\n  return dbPromise;\n}\n/**\n * writes the new message to the database\n * so other readers can find it\n */\n\nexport function writeMessage(db, readerUuid, messageJson) {\n  var time = new Date().getTime();\n  var writeObject = {\n    uuid: readerUuid,\n    time: time,\n    data: messageJson\n  };\n  var transaction = db.transaction([OBJECT_STORE_ID], 'readwrite');\n  return new Promise(function (res, rej) {\n    transaction.oncomplete = function () {\n      return res();\n    };\n\n    transaction.onerror = function (ev) {\n      return rej(ev);\n    };\n\n    var objectStore = transaction.objectStore(OBJECT_STORE_ID);\n    objectStore.add(writeObject);\n  });\n}\nexport function getAllMessages(db) {\n  var objectStore = db.transaction(OBJECT_STORE_ID).objectStore(OBJECT_STORE_ID);\n  var ret = [];\n  return new Promise(function (res) {\n    objectStore.openCursor().onsuccess = function (ev) {\n      var cursor = ev.target.result;\n\n      if (cursor) {\n        ret.push(cursor.value); //alert(\"Name for SSN \" + cursor.key + \" is \" + cursor.value.name);\n\n        cursor[\"continue\"]();\n      } else {\n        res(ret);\n      }\n    };\n  });\n}\nexport function getMessagesHigherThen(db, lastCursorId) {\n  var objectStore = db.transaction(OBJECT_STORE_ID).objectStore(OBJECT_STORE_ID);\n  var ret = [];\n  var keyRangeValue = IDBKeyRange.bound(lastCursorId + 1, Infinity);\n  return new Promise(function (res) {\n    objectStore.openCursor(keyRangeValue).onsuccess = function (ev) {\n      var cursor = ev.target.result;\n\n      if (cursor) {\n        ret.push(cursor.value);\n        cursor[\"continue\"]();\n      } else {\n        res(ret);\n      }\n    };\n  });\n}\nexport function removeMessageById(db, id) {\n  var request = db.transaction([OBJECT_STORE_ID], 'readwrite').objectStore(OBJECT_STORE_ID)[\"delete\"](id);\n  return new Promise(function (res) {\n    request.onsuccess = function () {\n      return res();\n    };\n  });\n}\nexport function getOldMessages(db, ttl) {\n  var olderThen = new Date().getTime() - ttl;\n  var objectStore = db.transaction(OBJECT_STORE_ID).objectStore(OBJECT_STORE_ID);\n  var ret = [];\n  return new Promise(function (res) {\n    objectStore.openCursor().onsuccess = function (ev) {\n      var cursor = ev.target.result;\n\n      if (cursor) {\n        var msgObk = cursor.value;\n\n        if (msgObk.time < olderThen) {\n          ret.push(msgObk); //alert(\"Name for SSN \" + cursor.key + \" is \" + cursor.value.name);\n\n          cursor[\"continue\"]();\n        } else {\n          // no more old messages,\n          res(ret);\n          return;\n        }\n      } else {\n        res(ret);\n      }\n    };\n  });\n}\nexport function cleanOldMessages(db, ttl) {\n  return getOldMessages(db, ttl).then(function (tooOld) {\n    return Promise.all(tooOld.map(function (msgObj) {\n      return removeMessageById(db, msgObj.id);\n    }));\n  });\n}\nexport function create(channelName, options) {\n  options = fillOptionsWithDefaults(options);\n  return createDatabase(channelName).then(function (db) {\n    var state = {\n      closed: false,\n      lastCursorId: 0,\n      channelName: channelName,\n      options: options,\n      uuid: randomToken(10),\n\n      /**\n       * emittedMessagesIds\n       * contains all messages that have been emitted before\n       * @type {ObliviousSet}\n       */\n      eMIs: new ObliviousSet(options.idb.ttl * 2),\n      // ensures we do not read messages in parrallel\n      writeBlockPromise: Promise.resolve(),\n      messagesCallback: null,\n      readQueuePromises: [],\n      db: db\n    };\n    /**\n     * if service-workers are used,\n     * we have no 'storage'-event if they post a message,\n     * therefore we also have to set an interval\n     */\n\n    _readLoop(state);\n\n    return state;\n  });\n}\n\nfunction _readLoop(state) {\n  if (state.closed) return;\n  return readNewMessages(state).then(function () {\n    return sleep(state.options.idb.fallbackInterval);\n  }).then(function () {\n    return _readLoop(state);\n  });\n}\n\nfunction _filterMessage(msgObj, state) {\n  if (msgObj.uuid === state.uuid) return false; // send by own\n\n  if (state.eMIs.has(msgObj.id)) return false; // already emitted\n\n  if (msgObj.data.time < state.messagesCallbackTime) return false; // older then onMessageCallback\n\n  return true;\n}\n/**\n * reads all new messages from the database and emits them\n */\n\n\nfunction readNewMessages(state) {\n  // channel already closed\n  if (state.closed) return Promise.resolve(); // if no one is listening, we do not need to scan for new messages\n\n  if (!state.messagesCallback) return Promise.resolve();\n  return getMessagesHigherThen(state.db, state.lastCursorId).then(function (newerMessages) {\n    var useMessages = newerMessages\n    /**\n     * there is a bug in iOS where the msgObj can be undefined some times\n     * so we filter them out\n     * @link https://github.com/pubkey/broadcast-channel/issues/19\n     */\n    .filter(function (msgObj) {\n      return !!msgObj;\n    }).map(function (msgObj) {\n      if (msgObj.id > state.lastCursorId) {\n        state.lastCursorId = msgObj.id;\n      }\n\n      return msgObj;\n    }).filter(function (msgObj) {\n      return _filterMessage(msgObj, state);\n    }).sort(function (msgObjA, msgObjB) {\n      return msgObjA.time - msgObjB.time;\n    }); // sort by time\n\n    useMessages.forEach(function (msgObj) {\n      if (state.messagesCallback) {\n        state.eMIs.add(msgObj.id);\n        state.messagesCallback(msgObj.data);\n      }\n    });\n    return Promise.resolve();\n  });\n}\n\nexport function close(channelState) {\n  channelState.closed = true;\n  channelState.db.close();\n}\nexport function postMessage(channelState, messageJson) {\n  channelState.writeBlockPromise = channelState.writeBlockPromise.then(function () {\n    return writeMessage(channelState.db, channelState.uuid, messageJson);\n  }).then(function () {\n    if (randomInt(0, 10) === 0) {\n      /* await (do not await) */\n      cleanOldMessages(channelState.db, channelState.options.idb.ttl);\n    }\n  });\n  return channelState.writeBlockPromise;\n}\nexport function onMessage(channelState, fn, time) {\n  channelState.messagesCallbackTime = time;\n  channelState.messagesCallback = fn;\n  readNewMessages(channelState);\n}\nexport function canBeUsed() {\n  if (isNode) return false;\n  var idb = getIdb();\n  if (!idb) return false;\n  return true;\n}\nexport function averageResponseTime(options) {\n  return options.idb.fallbackInterval * 2;\n}\nexport default {\n  create: create,\n  close: close,\n  onMessage: onMessage,\n  postMessage: postMessage,\n  canBeUsed: canBeUsed,\n  type: type,\n  averageResponseTime: averageResponseTime,\n  microSeconds: microSeconds\n};","/**\n * A localStorage-only method which uses localstorage and its 'storage'-event\n * This does not work inside of webworkers because they have no access to locastorage\n * This is basically implemented to support IE9 or your grandmothers toaster.\n * @link https://caniuse.com/#feat=namevalue-storage\n * @link https://caniuse.com/#feat=indexeddb\n */\nimport ObliviousSet from '../oblivious-set';\nimport { fillOptionsWithDefaults } from '../options';\nimport { sleep, randomToken, microSeconds as micro, isNode } from '../util';\nexport var microSeconds = micro;\nvar KEY_PREFIX = 'pubkey.broadcastChannel-';\nexport var type = 'localstorage';\n/**\n * copied from crosstab\n * @link https://github.com/tejacques/crosstab/blob/master/src/crosstab.js#L32\n */\n\nexport function getLocalStorage() {\n  var localStorage;\n  if (typeof window === 'undefined') return null;\n\n  try {\n    localStorage = window.localStorage;\n    localStorage = window['ie8-eventlistener/storage'] || window.localStorage;\n  } catch (e) {// New versions of Firefox throw a Security exception\n    // if cookies are disabled. See\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1028153\n  }\n\n  return localStorage;\n}\nexport function storageKey(channelName) {\n  return KEY_PREFIX + channelName;\n}\n/**\n* writes the new message to the storage\n* and fires the storage-event so other readers can find it\n*/\n\nexport function postMessage(channelState, messageJson) {\n  return new Promise(function (res) {\n    sleep().then(function () {\n      var key = storageKey(channelState.channelName);\n      var writeObj = {\n        token: randomToken(10),\n        time: new Date().getTime(),\n        data: messageJson,\n        uuid: channelState.uuid\n      };\n      var value = JSON.stringify(writeObj);\n      getLocalStorage().setItem(key, value);\n      /**\n       * StorageEvent does not fire the 'storage' event\n       * in the window that changes the state of the local storage.\n       * So we fire it manually\n       */\n\n      var ev = document.createEvent('Event');\n      ev.initEvent('storage', true, true);\n      ev.key = key;\n      ev.newValue = value;\n      window.dispatchEvent(ev);\n      res();\n    });\n  });\n}\nexport function addStorageEventListener(channelName, fn) {\n  var key = storageKey(channelName);\n\n  var listener = function listener(ev) {\n    if (ev.key === key) {\n      fn(JSON.parse(ev.newValue));\n    }\n  };\n\n  window.addEventListener('storage', listener);\n  return listener;\n}\nexport function removeStorageEventListener(listener) {\n  window.removeEventListener('storage', listener);\n}\nexport function create(channelName, options) {\n  options = fillOptionsWithDefaults(options);\n\n  if (!canBeUsed()) {\n    throw new Error('BroadcastChannel: localstorage cannot be used');\n  }\n\n  var uuid = randomToken(10);\n  /**\n   * eMIs\n   * contains all messages that have been emitted before\n   * @type {ObliviousSet}\n   */\n\n  var eMIs = new ObliviousSet(options.localstorage.removeTimeout);\n  var state = {\n    channelName: channelName,\n    uuid: uuid,\n    eMIs: eMIs // emittedMessagesIds\n\n  };\n  state.listener = addStorageEventListener(channelName, function (msgObj) {\n    if (!state.messagesCallback) return; // no listener\n\n    if (msgObj.uuid === uuid) return; // own message\n\n    if (!msgObj.token || eMIs.has(msgObj.token)) return; // already emitted\n\n    if (msgObj.data.time && msgObj.data.time < state.messagesCallbackTime) return; // too old\n\n    eMIs.add(msgObj.token);\n    state.messagesCallback(msgObj.data);\n  });\n  return state;\n}\nexport function close(channelState) {\n  removeStorageEventListener(channelState.listener);\n}\nexport function onMessage(channelState, fn, time) {\n  channelState.messagesCallbackTime = time;\n  channelState.messagesCallback = fn;\n}\nexport function canBeUsed() {\n  if (isNode) return false;\n  var ls = getLocalStorage();\n  if (!ls) return false;\n\n  try {\n    var key = '__broadcastchannel_check';\n    ls.setItem(key, 'works');\n    ls.removeItem(key);\n  } catch (e) {\n    // Safari 10 in private mode will not allow write access to local\n    // storage and fail with a QuotaExceededError. See\n    // https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API#Private_Browsing_Incognito_modes\n    return false;\n  }\n\n  return true;\n}\nexport function averageResponseTime() {\n  return 120;\n}\nexport default {\n  create: create,\n  close: close,\n  onMessage: onMessage,\n  postMessage: postMessage,\n  canBeUsed: canBeUsed,\n  type: type,\n  averageResponseTime: averageResponseTime,\n  microSeconds: microSeconds\n};","import { microSeconds as micro } from '../util';\nexport var microSeconds = micro;\nexport var type = 'simulate';\nvar SIMULATE_CHANNELS = new Set();\nexport function create(channelName) {\n  var state = {\n    name: channelName,\n    messagesCallback: null\n  };\n  SIMULATE_CHANNELS.add(state);\n  return state;\n}\nexport function close(channelState) {\n  SIMULATE_CHANNELS[\"delete\"](channelState);\n}\nexport function postMessage(channelState, messageJson) {\n  return new Promise(function (res) {\n    return setTimeout(function () {\n      var channelArray = Array.from(SIMULATE_CHANNELS);\n      channelArray.filter(function (channel) {\n        return channel.name === channelState.name;\n      }).filter(function (channel) {\n        return channel !== channelState;\n      }).filter(function (channel) {\n        return !!channel.messagesCallback;\n      }).forEach(function (channel) {\n        return channel.messagesCallback(messageJson);\n      });\n      res();\n    }, 5);\n  });\n}\nexport function onMessage(channelState, fn) {\n  channelState.messagesCallback = fn;\n}\nexport function canBeUsed() {\n  return true;\n}\nexport function averageResponseTime() {\n  return 5;\n}\nexport default {\n  create: create,\n  close: close,\n  onMessage: onMessage,\n  postMessage: postMessage,\n  canBeUsed: canBeUsed,\n  type: type,\n  averageResponseTime: averageResponseTime,\n  microSeconds: microSeconds\n};","import NativeMethod from './methods/native.js';\nimport IndexeDbMethod from './methods/indexed-db.js';\nimport LocalstorageMethod from './methods/localstorage.js';\nimport SimulateMethod from './methods/simulate.js';\nimport { isNode } from './util'; // order is important\n\nvar METHODS = [NativeMethod, // fastest\nIndexeDbMethod, LocalstorageMethod];\n/**\n * The NodeMethod is loaded lazy\n * so it will not get bundled in browser-builds\n */\n\nif (isNode) {\n  /**\n   * we use the non-transpiled code for nodejs\n   * because it runs faster\n   */\n  var NodeMethod = require('../../src/methods/' + // use this hack so that browserify and others\n  // do not import the node-method by default\n  // when bundling.\n  'node.js');\n  /**\n   * this will be false for webpackbuilds\n   * which will shim the node-method with an empty object {}\n   */\n\n\n  if (typeof NodeMethod.canBeUsed === 'function') {\n    METHODS.push(NodeMethod);\n  }\n}\n\nexport function chooseMethod(options) {\n  // directly chosen\n  if (options.type) {\n    if (options.type === 'simulate') {\n      // only use simulate-method if directly chosen\n      return SimulateMethod;\n    }\n\n    var ret = METHODS.find(function (m) {\n      return m.type === options.type;\n    });\n    if (!ret) throw new Error('method-type ' + options.type + ' not found');else return ret;\n  }\n  /**\n   * if no webworker support is needed,\n   * remove idb from the list so that localstorage is been chosen\n   */\n\n\n  var chooseMethods = METHODS;\n\n  if (!options.webWorkerSupport && !isNode) {\n    chooseMethods = METHODS.filter(function (m) {\n      return m.type !== 'idb';\n    });\n  }\n\n  var useMethod = chooseMethods.find(function (method) {\n    return method.canBeUsed();\n  });\n  if (!useMethod) throw new Error('No useable methode found:' + JSON.stringify(METHODS.map(function (m) {\n    return m.type;\n  })));else return useMethod;\n}","import { isPromise } from './util.js';\nimport { chooseMethod } from './method-chooser.js';\nimport { fillOptionsWithDefaults } from './options.js';\n\nvar BroadcastChannel = function BroadcastChannel(name, options) {\n  this.name = name;\n\n  if (ENFORCED_OPTIONS) {\n    options = ENFORCED_OPTIONS;\n  }\n\n  this.options = fillOptionsWithDefaults(options);\n  this.method = chooseMethod(this.options); // isListening\n\n  this._iL = false;\n  /**\n   * _onMessageListener\n   * setting onmessage twice,\n   * will overwrite the first listener\n   */\n\n  this._onML = null;\n  /**\n   * _addEventListeners\n   */\n\n  this._addEL = {\n    message: [],\n    internal: []\n  };\n  /**\n   * _beforeClose\n   * array of promises that will be awaited\n   * before the channel is closed\n   */\n\n  this._befC = [];\n  /**\n   * _preparePromise\n   */\n\n  this._prepP = null;\n\n  _prepareChannel(this);\n}; // STATICS\n\n/**\n * used to identify if someone overwrites\n * window.BroadcastChannel with this\n * See methods/native.js\n */\n\n\nBroadcastChannel._pubkey = true;\n/**\n * clears the tmp-folder if is node\n * @return {Promise<boolean>} true if has run, false if not node\n */\n\nBroadcastChannel.clearNodeFolder = function (options) {\n  options = fillOptionsWithDefaults(options);\n  var method = chooseMethod(options);\n\n  if (method.type === 'node') {\n    return method.clearNodeFolder().then(function () {\n      return true;\n    });\n  } else {\n    return Promise.resolve(false);\n  }\n};\n/**\n * if set, this method is enforced,\n * no mather what the options are\n */\n\n\nvar ENFORCED_OPTIONS;\n\nBroadcastChannel.enforceOptions = function (options) {\n  ENFORCED_OPTIONS = options;\n}; // PROTOTYPE\n\n\nBroadcastChannel.prototype = {\n  postMessage: function postMessage(msg) {\n    if (this.closed) {\n      throw new Error('BroadcastChannel.postMessage(): ' + 'Cannot post message after channel has closed');\n    }\n\n    return _post(this, 'message', msg);\n  },\n  postInternal: function postInternal(msg) {\n    return _post(this, 'internal', msg);\n  },\n\n  set onmessage(fn) {\n    var time = this.method.microSeconds();\n    var listenObj = {\n      time: time,\n      fn: fn\n    };\n\n    _removeListenerObject(this, 'message', this._onML);\n\n    if (fn && typeof fn === 'function') {\n      this._onML = listenObj;\n\n      _addListenerObject(this, 'message', listenObj);\n    } else {\n      this._onML = null;\n    }\n  },\n\n  addEventListener: function addEventListener(type, fn) {\n    var time = this.method.microSeconds();\n    var listenObj = {\n      time: time,\n      fn: fn\n    };\n\n    _addListenerObject(this, type, listenObj);\n  },\n  removeEventListener: function removeEventListener(type, fn) {\n    var obj = this._addEL[type].find(function (obj) {\n      return obj.fn === fn;\n    });\n\n    _removeListenerObject(this, type, obj);\n  },\n  close: function close() {\n    var _this = this;\n\n    if (this.closed) return;\n    this.closed = true;\n    var awaitPrepare = this._prepP ? this._prepP : Promise.resolve();\n    this._onML = null;\n    this._addEL.message = [];\n    return awaitPrepare.then(function () {\n      return Promise.all(_this._befC.map(function (fn) {\n        return fn();\n      }));\n    }).then(function () {\n      return _this.method.close(_this._state);\n    });\n  },\n\n  get type() {\n    return this.method.type;\n  }\n\n};\n\nfunction _post(broadcastChannel, type, msg) {\n  var time = broadcastChannel.method.microSeconds();\n  var msgObj = {\n    time: time,\n    type: type,\n    data: msg\n  };\n  var awaitPrepare = broadcastChannel._prepP ? broadcastChannel._prepP : Promise.resolve();\n  return awaitPrepare.then(function () {\n    return broadcastChannel.method.postMessage(broadcastChannel._state, msgObj);\n  });\n}\n\nfunction _prepareChannel(channel) {\n  var maybePromise = channel.method.create(channel.name, channel.options);\n\n  if (isPromise(maybePromise)) {\n    channel._prepP = maybePromise;\n    maybePromise.then(function (s) {\n      // used in tests to simulate slow runtime\n\n      /*if (channel.options.prepareDelay) {\n           await new Promise(res => setTimeout(res, this.options.prepareDelay));\n      }*/\n      channel._state = s;\n    });\n  } else {\n    channel._state = maybePromise;\n  }\n}\n\nfunction _hasMessageListeners(channel) {\n  if (channel._addEL.message.length > 0) return true;\n  if (channel._addEL.internal.length > 0) return true;\n  return false;\n}\n\nfunction _addListenerObject(channel, type, obj) {\n  channel._addEL[type].push(obj);\n\n  _startListening(channel);\n}\n\nfunction _removeListenerObject(channel, type, obj) {\n  channel._addEL[type] = channel._addEL[type].filter(function (o) {\n    return o !== obj;\n  });\n\n  _stopListening(channel);\n}\n\nfunction _startListening(channel) {\n  if (!channel._iL && _hasMessageListeners(channel)) {\n    // someone is listening, start subscribing\n    var listenerFn = function listenerFn(msgObj) {\n      channel._addEL[msgObj.type].forEach(function (obj) {\n        if (msgObj.time >= obj.time) {\n          obj.fn(msgObj.data);\n        }\n      });\n    };\n\n    var time = channel.method.microSeconds();\n\n    if (channel._prepP) {\n      channel._prepP.then(function () {\n        channel._iL = true;\n        channel.method.onMessage(channel._state, listenerFn, time);\n      });\n    } else {\n      channel._iL = true;\n      channel.method.onMessage(channel._state, listenerFn, time);\n    }\n  }\n}\n\nfunction _stopListening(channel) {\n  if (channel._iL && !_hasMessageListeners(channel)) {\n    // noone is listening, stop subscribing\n    channel._iL = false;\n    var time = channel.method.microSeconds();\n    channel.method.onMessage(channel._state, null, time);\n  }\n}\n\nexport default BroadcastChannel;","import _createClass from \"@babel/runtime/helpers/createClass\";\nimport randomToken from 'random-token';\nimport IdleQueue from 'custom-idle-queue';\nimport BroadcastChannel from 'broadcast-channel';\nimport { adapterObject, hash, promiseWait, pluginMissing } from './util';\nimport { newRxError } from './rx-error';\nimport { createRxSchema } from './rx-schema';\nimport { isInstanceOf as isInstanceOfRxChangeEvent, createChangeEvent, changeEventfromJSON } from './rx-change-event';\nimport overwritable from './overwritable';\nimport { runPluginHooks } from './hooks';\nimport { Subject } from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport { PouchDB, validateCouchDBString, isLevelDown } from './pouch-db';\nimport { create as createRxCollection } from './rx-collection';\n\n/**\n * stores the combinations\n * of used database-names with their adapters\n * so we can throw when the same database is created more then once\n */\nvar USED_COMBINATIONS = {};\nvar DB_COUNT = 0;\nexport var RxDatabaseBase =\n/*#__PURE__*/\nfunction () {\n  function RxDatabaseBase(name, adapter, password, multiInstance) {\n    var queryChangeDetection = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n    var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n    var pouchSettings = arguments.length > 6 ? arguments[6] : undefined;\n    this.idleQueue = new IdleQueue();\n    this.token = randomToken(10);\n    this._subs = [];\n    this.destroyed = false;\n    this.subject = new Subject();\n    this.observable$ = this.subject.asObservable().pipe(filter(function (cEvent) {\n      return isInstanceOfRxChangeEvent(cEvent);\n    }));\n    this._adminPouch = {};\n    this._collectionsPouch = {};\n    this.name = name;\n    this.adapter = adapter;\n    this.password = password;\n    this.multiInstance = multiInstance;\n    this.queryChangeDetection = queryChangeDetection;\n    this.options = options;\n    this.pouchSettings = pouchSettings;\n    this.collections = {};\n    if (typeof name !== 'undefined') DB_COUNT++;\n  }\n\n  var _proto = RxDatabaseBase.prototype;\n\n  /**\n   * removes all internal collection-info\n   * only use this if you have to upgrade from a major rxdb-version\n   * do NEVER use this to change the schema of a collection\n   */\n  _proto.dangerousRemoveCollectionInfo = function dangerousRemoveCollectionInfo() {\n    var colPouch = this._collectionsPouch;\n    return colPouch.allDocs().then(function (docsRes) {\n      return Promise.all(docsRes.rows.map(function (row) {\n        return {\n          _id: row.key,\n          _rev: row.value.rev\n        };\n      }).map(function (doc) {\n        return colPouch.remove(doc._id, doc._rev);\n      }));\n    });\n  }\n  /**\n   * spawns a new pouch-instance\n   */\n  ;\n\n  _proto._spawnPouchDB = function _spawnPouchDB(collectionName, schemaVersion) {\n    var pouchSettings = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return _spawnPouchDB2(this.name, this.adapter, collectionName, schemaVersion, pouchSettings, this.pouchSettings);\n  }\n  /**\n   * returns a promise which resolves when the instance becomes leader\n   */\n  ;\n\n  _proto.waitForLeadership = function waitForLeadership() {\n    if (!this.multiInstance) return Promise.resolve(true);\n    return this.leaderElector.waitForLeadership();\n  }\n  /**\n   * This is the main handle-point for all change events\n   * ChangeEvents created by this instance go:\n   * RxDocument -> RxCollection -> RxDatabase.$emit -> MultiInstance\n   * ChangeEvents created by other instances go:\n   * MultiInstance -> RxDatabase.$emit -> RxCollection -> RxDatabase\n   */\n  ;\n\n  _proto.$emit = function $emit(changeEvent) {\n    if (!changeEvent) return; // emit into own stream\n\n    this.subject.next(changeEvent); // write to socket if event was created by this instance\n\n    if (changeEvent.data.it === this.token) {\n      writeToSocket(this, changeEvent);\n    }\n  }\n  /**\n   * removes the collection-doc from this._collectionsPouch\n   */\n  ;\n\n  _proto.removeCollectionDoc = function removeCollectionDoc(name, schema) {\n    var _this = this;\n\n    var docId = _collectionNamePrimary(name, schema);\n\n    return this._collectionsPouch.get(docId).then(function (doc) {\n      return _this.lockedRun(function () {\n        return _this._collectionsPouch.remove(doc);\n      });\n    });\n  }\n  /**\n   * create or fetch a collection\n   */\n  ;\n\n  _proto.collection = function collection(args) {\n    var _this2 = this;\n\n    if (typeof args === 'string') return Promise.resolve(this.collections[args]);\n    args = Object.assign({}, args);\n    args.database = this;\n    runPluginHooks('preCreateRxCollection', args);\n\n    if (args.name.charAt(0) === '_') {\n      throw newRxError('DB2', {\n        name: args.name\n      });\n    }\n\n    if (this.collections[args.name]) {\n      throw newRxError('DB3', {\n        name: args.name\n      });\n    }\n\n    if (!args.schema) {\n      throw newRxError('DB4', {\n        name: args.name,\n        args: args\n      });\n    }\n\n    var internalPrimary = _collectionNamePrimary(args.name, args.schema); // check unallowed collection-names\n\n\n    if (properties().includes(args.name)) {\n      throw newRxError('DB5', {\n        name: args.name\n      });\n    }\n\n    var schema = createRxSchema(args.schema);\n    args.schema = schema; // check schemaHash\n\n    var schemaHash = schema.hash;\n    var colDoc;\n    var col;\n    return this.lockedRun(function () {\n      return _this2._collectionsPouch.get(internalPrimary);\n    })[\"catch\"](function () {\n      return null;\n    }).then(function (collectionDoc) {\n      colDoc = collectionDoc;\n\n      if (collectionDoc && collectionDoc.schemaHash !== schemaHash) {\n        // collection already exists with different schema, check if it has documents\n        var pouch = _this2._spawnPouchDB(args.name, args.schema.version, args.pouchSettings);\n\n        return pouch.find({\n          selector: {\n            _id: {}\n          },\n          limit: 1\n        }).then(function (oneDoc) {\n          if (oneDoc.docs.length !== 0) {\n            // we have one document\n            throw newRxError('DB6', {\n              name: args.name,\n              previousSchemaHash: collectionDoc.schemaHash,\n              schemaHash: schemaHash\n            });\n          }\n\n          return collectionDoc;\n        });\n      } else return collectionDoc;\n    }).then(function () {\n      return createRxCollection(args);\n    }).then(function (collection) {\n      col = collection;\n\n      if (Object.keys(collection.schema.encryptedPaths).length > 0 && !_this2.password) {\n        throw newRxError('DB7', {\n          name: args.name\n        });\n      }\n\n      if (!colDoc) {\n        return _this2.lockedRun(function () {\n          return _this2._collectionsPouch.put({\n            _id: internalPrimary,\n            schemaHash: schemaHash,\n            schema: collection.schema.normalized,\n            version: collection.schema.version\n          });\n        })[\"catch\"](function () {});\n      }\n    }).then(function () {\n      var cEvent = createChangeEvent('RxDatabase.collection', _this2, col);\n      cEvent.data.v = col.name;\n      cEvent.data.col = '_collections';\n      _this2.collections[args.name] = col;\n\n      if (!_this2[args.name]) {\n        Object.defineProperty(_this2, args.name, {\n          get: function get() {\n            return _this2.collections[args.name];\n          }\n        });\n      }\n\n      _this2.$emit(cEvent);\n\n      return col;\n    });\n  }\n  /**\n   * delete all data of the collection and its previous versions\n   */\n  ;\n\n  _proto.removeCollection = function removeCollection(collectionName) {\n    var _this3 = this;\n\n    if (this.collections[collectionName]) this.collections[collectionName].destroy(); // remove schemas from internal db\n\n    return _removeAllOfCollection(this, collectionName) // get all relevant pouchdb-instances\n    .then(function (knownVersions) {\n      return knownVersions.map(function (v) {\n        return _this3._spawnPouchDB(collectionName, v);\n      });\n    }) // remove documents\n    .then(function (pouches) {\n      return Promise.all(pouches.map(function (pouch) {\n        return _this3.lockedRun(function () {\n          return pouch.destroy();\n        });\n      }));\n    });\n  }\n  /**\n   * runs the given function between idleQueue-locking\n   */\n  ;\n\n  _proto.lockedRun = function lockedRun(fun) {\n    return this.idleQueue.wrapCall(fun);\n  };\n\n  _proto.requestIdlePromise = function requestIdlePromise() {\n    return this.idleQueue.requestIdlePromise();\n  }\n  /**\n   * export to json\n   */\n  ;\n\n  _proto.dump = function dump() {\n    var _decrypted = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    var _collections = arguments.length > 1 ? arguments[1] : undefined;\n\n    throw pluginMissing('json-dump');\n  }\n  /**\n   * import json\n   */\n  ;\n\n  _proto.importDump = function importDump(_json) {\n    throw pluginMissing('json-dump');\n  }\n  /**\n   * spawn server\n   */\n  ;\n\n  _proto.server = function server(_options) {\n    throw pluginMissing('server');\n  }\n  /**\n   * destroys the database-instance and all collections\n   */\n  ;\n\n  _proto.destroy = function destroy() {\n    var _this4 = this;\n\n    if (this.destroyed) return Promise.resolve(false);\n    runPluginHooks('preDestroyRxDatabase', this);\n    DB_COUNT--;\n    this.destroyed = true;\n\n    if (this.broadcastChannel) {\n      /**\n       * The broadcast-channel gets closed lazy\n       * to ensure that all pending change-events\n       * get emitted\n       */\n      setTimeout(function () {\n        return _this4.broadcastChannel.close();\n      }, 1000);\n    }\n\n    if (this._leaderElector) this._leaderElector.destroy();\n\n    this._subs.map(function (sub) {\n      return sub.unsubscribe();\n    }); // destroy all collections\n\n\n    return Promise.all(Object.keys(this.collections).map(function (key) {\n      return _this4.collections[key];\n    }).map(function (col) {\n      return col.destroy();\n    })) // remove combination from USED_COMBINATIONS-map\n    .then(function () {\n      return _removeUsedCombination(_this4.name, _this4.adapter);\n    }).then(function () {\n      return true;\n    });\n  }\n  /**\n   * deletes the database and its stored data\n   */\n  ;\n\n  _proto.remove = function remove() {\n    var _this5 = this;\n\n    return this.destroy().then(function () {\n      return removeDatabase(_this5.name, _this5.adapter);\n    });\n  };\n\n  _createClass(RxDatabaseBase, [{\n    key: \"leaderElector\",\n    get: function get() {\n      if (!this._leaderElector) this._leaderElector = overwritable.createLeaderElector(this);\n      return this._leaderElector;\n    }\n  }, {\n    key: \"isLeader\",\n    get: function get() {\n      if (!this.multiInstance) return true;\n      return this.leaderElector.isLeader;\n    }\n  }, {\n    key: \"$\",\n    get: function get() {\n      return this.observable$;\n    }\n  }]);\n\n  return RxDatabaseBase;\n}();\n/**\n * returns all possible properties of a RxDatabase-instance\n */\n\nvar _properties = null;\nexport function properties() {\n  if (!_properties) {\n    var pseudoInstance = new RxDatabaseBase();\n    var ownProperties = Object.getOwnPropertyNames(pseudoInstance);\n    var prototypeProperties = Object.getOwnPropertyNames(Object.getPrototypeOf(pseudoInstance));\n    _properties = [].concat(ownProperties, prototypeProperties);\n  }\n\n  return _properties;\n}\n/**\n * checks if an instance with same name and adapter already exists\n * @throws {RxError} if used\n */\n\nfunction _isNameAdapterUsed(name, adapter) {\n  if (!USED_COMBINATIONS[name]) return false;\n  var used = false;\n  USED_COMBINATIONS[name].forEach(function (ad) {\n    if (ad === adapter) used = true;\n  });\n\n  if (used) {\n    throw newRxError('DB8', {\n      name: name,\n      adapter: adapter,\n      link: 'https://pubkey.github.io/rxdb/rx-database.html#ignoreduplicate'\n    });\n  }\n}\n\nfunction _removeUsedCombination(name, adapter) {\n  if (!USED_COMBINATIONS[name]) return;\n  var index = USED_COMBINATIONS[name].indexOf(adapter);\n  USED_COMBINATIONS[name].splice(index, 1);\n}\n/**\n * validates and inserts the password-hash\n * to ensure there is/was no other instance with a different password\n */\n\n\nexport function _preparePasswordHash(rxDatabase) {\n  if (!rxDatabase.password) return Promise.resolve(false);\n  var pwHash = hash(rxDatabase.password);\n  return rxDatabase._adminPouch.get('_local/pwHash')[\"catch\"](function () {\n    return null;\n  }).then(function (pwHashDoc) {\n    /**\n     * if pwHash was not saved, we save it,\n     * this operation might throw because another instance runs save at the same time,\n     * also we do not await the output because it does not mather\n     */\n    if (!pwHashDoc) {\n      rxDatabase._adminPouch.put({\n        _id: '_local/pwHash',\n        value: pwHash\n      })[\"catch\"](function () {\n        return null;\n      });\n    } // different hash was already set by other instance\n\n\n    if (pwHashDoc && rxDatabase.password && pwHash !== pwHashDoc.value) {\n      return rxDatabase.destroy().then(function () {\n        throw newRxError('DB1', {\n          passwordHash: hash(rxDatabase.password),\n          existingPasswordHash: pwHashDoc.value\n        });\n      });\n    }\n\n    return true;\n  });\n}\n/**\n * to not confuse multiInstance-messages with other databases that have the same\n * name and adapter, but do not share state with this one (for example in-memory-instances),\n * we set a storage-token and use it in the broadcast-channel\n */\n\nexport function _ensureStorageTokenExists(rxDatabase) {\n  return rxDatabase._adminPouch.get('_local/storageToken')[\"catch\"](function () {\n    // no doc exists -> insert\n    return rxDatabase._adminPouch.put({\n      _id: '_local/storageToken',\n      value: randomToken(10)\n    })[\"catch\"](function () {}).then(function () {\n      return promiseWait(0);\n    });\n  }).then(function () {\n    return rxDatabase._adminPouch.get('_local/storageToken');\n  }).then(function (storageTokenDoc2) {\n    return storageTokenDoc2.value;\n  });\n}\n/**\n * writes the changeEvent to the broadcastChannel\n */\n\nexport function writeToSocket(rxDatabase, changeEvent) {\n  if (rxDatabase.multiInstance && !changeEvent.isIntern() && rxDatabase.broadcastChannel) {\n    var socketDoc = changeEvent.toJSON();\n    delete socketDoc.db;\n    var sendOverChannel = {\n      db: rxDatabase.token,\n      // database-token\n      st: rxDatabase.storageToken,\n      // storage-token\n      d: socketDoc\n    };\n    return rxDatabase.broadcastChannel.postMessage(sendOverChannel).then(function () {\n      return true;\n    });\n  } else return Promise.resolve(false);\n}\n/**\n * returns the primary for a given collection-data\n * used in the internal pouchdb-instances\n */\n\nexport function _collectionNamePrimary(name, schema) {\n  return name + '-' + schema.version;\n}\n/**\n * removes all internal docs of a given collection\n * @return resolves all known collection-versions\n */\n\nexport function _removeAllOfCollection(rxDatabase, collectionName) {\n  return rxDatabase.lockedRun(function () {\n    return rxDatabase._collectionsPouch.allDocs({\n      include_docs: true\n    });\n  }).then(function (data) {\n    var relevantDocs = data.rows.map(function (row) {\n      return row.doc;\n    }).filter(function (doc) {\n      var name = doc._id.split('-')[0];\n\n      return name === collectionName;\n    });\n    return Promise.all(relevantDocs.map(function (doc) {\n      return rxDatabase.lockedRun(function () {\n        return rxDatabase._collectionsPouch.remove(doc);\n      });\n    })).then(function () {\n      return relevantDocs.map(function (doc) {\n        return doc.version;\n      });\n    });\n  });\n}\n\nfunction _prepareBroadcastChannel(rxDatabase) {\n  // broadcastChannel\n  rxDatabase.broadcastChannel = new BroadcastChannel('RxDB:' + rxDatabase.name + ':' + 'socket');\n  rxDatabase.broadcastChannel$ = new Subject();\n\n  rxDatabase.broadcastChannel.onmessage = function (msg) {\n    if (msg.st !== rxDatabase.storageToken) return; // not same storage-state\n\n    if (msg.db === rxDatabase.token) return; // same db\n\n    var changeEvent = changeEventfromJSON(msg.d);\n    rxDatabase.broadcastChannel$.next(changeEvent);\n  }; // TODO only subscribe when sth is listening to the event-chain\n\n\n  rxDatabase._subs.push(rxDatabase.broadcastChannel$.subscribe(function (cE) {\n    rxDatabase.$emit(cE);\n  }));\n}\n/**\n * do the async things for this database\n */\n\n\nfunction prepare(rxDatabase) {\n  rxDatabase._adminPouch = _internalAdminPouch(rxDatabase.name, rxDatabase.adapter, rxDatabase.pouchSettings);\n  rxDatabase._collectionsPouch = _internalCollectionsPouch(rxDatabase.name, rxDatabase.adapter, rxDatabase.pouchSettings); // ensure admin-pouch is useable\n\n  return rxDatabase._adminPouch.info().then(function () {\n    // validate/insert password-hash\n    return Promise.all([_ensureStorageTokenExists(rxDatabase), _preparePasswordHash(rxDatabase)]);\n  }).then(function (_ref) {\n    var storageToken = _ref[0];\n    rxDatabase.storageToken = storageToken;\n\n    if (rxDatabase.multiInstance) {\n      _prepareBroadcastChannel(rxDatabase);\n    }\n  });\n}\n\nexport function create(_ref2) {\n  var name = _ref2.name,\n      adapter = _ref2.adapter,\n      password = _ref2.password,\n      _ref2$multiInstance = _ref2.multiInstance,\n      multiInstance = _ref2$multiInstance === void 0 ? true : _ref2$multiInstance,\n      _ref2$queryChangeDete = _ref2.queryChangeDetection,\n      queryChangeDetection = _ref2$queryChangeDete === void 0 ? false : _ref2$queryChangeDete,\n      _ref2$ignoreDuplicate = _ref2.ignoreDuplicate,\n      ignoreDuplicate = _ref2$ignoreDuplicate === void 0 ? false : _ref2$ignoreDuplicate,\n      _ref2$options = _ref2.options,\n      options = _ref2$options === void 0 ? {} : _ref2$options,\n      _ref2$pouchSettings = _ref2.pouchSettings,\n      pouchSettings = _ref2$pouchSettings === void 0 ? {} : _ref2$pouchSettings;\n  validateCouchDBString(name); // check if pouchdb-adapter\n\n  if (typeof adapter === 'string') {\n    // TODO make a function hasAdapter()\n    if (!PouchDB.adapters || !PouchDB.adapters[adapter]) {\n      throw newRxError('DB9', {\n        adapter: adapter\n      });\n    }\n  } else {\n    isLevelDown(adapter);\n\n    if (!PouchDB.adapters || !PouchDB.adapters.leveldb) {\n      throw newRxError('DB10', {\n        adapter: adapter\n      });\n    }\n  }\n\n  if (password) {\n    overwritable.validatePassword(password);\n  } // check if combination already used\n\n\n  if (!ignoreDuplicate) {\n    _isNameAdapterUsed(name, adapter);\n  } // add to used_map\n\n\n  if (!USED_COMBINATIONS[name]) USED_COMBINATIONS[name] = [];\n  USED_COMBINATIONS[name].push(adapter);\n  var db = new RxDatabaseBase(name, adapter, password, multiInstance, queryChangeDetection, options, pouchSettings);\n  return prepare(db).then(function () {\n    runPluginHooks('createRxDatabase', db);\n    return db;\n  });\n}\nexport function getPouchLocation(dbName, collectionName, schemaVersion) {\n  var prefix = dbName + '-rxdb-' + schemaVersion + '-';\n\n  if (!collectionName.includes('/')) {\n    return prefix + collectionName;\n  } else {\n    // if collectionName is a path, we have to prefix the last part only\n    var split = collectionName.split('/');\n    var last = split.pop();\n    var ret = split.join('/');\n    ret += '/' + prefix + last;\n    return ret;\n  }\n}\n\nfunction _spawnPouchDB2(dbName, adapter, collectionName, schemaVersion) {\n  var pouchSettings = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n  var pouchSettingsFromRxDatabaseCreator = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n  var pouchLocation = getPouchLocation(dbName, collectionName, schemaVersion);\n  var pouchDbParameters = {\n    location: pouchLocation,\n    adapter: adapterObject(adapter),\n    settings: pouchSettings\n  };\n  var pouchDBOptions = Object.assign({}, pouchDbParameters.adapter, pouchSettingsFromRxDatabaseCreator, pouchDbParameters.settings);\n  runPluginHooks('preCreatePouchDb', pouchDbParameters);\n  return new PouchDB(pouchDbParameters.location, pouchDBOptions);\n}\n\nfunction _internalAdminPouch(name, adapter) {\n  var pouchSettingsFromRxDatabaseCreator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  return _spawnPouchDB2(name, adapter, '_admin', 0, {\n    // no compaction because this only stores local documents\n    auto_compaction: false,\n    revs_limit: 1\n  }, pouchSettingsFromRxDatabaseCreator);\n}\n\nfunction _internalCollectionsPouch(name, adapter) {\n  var pouchSettingsFromRxDatabaseCreator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  return _spawnPouchDB2(name, adapter, '_collections', 0, {\n    // no compaction because this only stores local documents\n    auto_compaction: false,\n    revs_limit: 1\n  }, pouchSettingsFromRxDatabaseCreator);\n}\n/**\n * removes the database and all its known data\n */\n\n\nexport function removeDatabase(databaseName, adapter) {\n  var adminPouch = _internalAdminPouch(databaseName, adapter);\n\n  var collectionsPouch = _internalCollectionsPouch(databaseName, adapter);\n\n  return collectionsPouch.allDocs({\n    include_docs: true\n  }) // remove collections\n  .then(function (collectionsData) {\n    return Promise.all(collectionsData.rows.map(function (colDoc) {\n      return colDoc.id;\n    }).map(function (id) {\n      var split = id.split('-');\n      var name = split[0];\n      var version = parseInt(split[1], 10);\n\n      var pouch = _spawnPouchDB2(databaseName, adapter, name, version);\n\n      return pouch.destroy();\n    }));\n  }) // remove internals\n  .then(function () {\n    return Promise.all([collectionsPouch.destroy(), adminPouch.destroy()]);\n  });\n}\n/**\n * check is the given adapter can be used\n */\n\nexport function checkAdapter(adapter) {\n  return overwritable.checkAdapter(adapter);\n}\nexport function isInstanceOf(obj) {\n  return obj instanceof RxDatabaseBase;\n}\nexport function dbCount() {\n  return DB_COUNT;\n}\nexport default {\n  create: create,\n  removeDatabase: removeDatabase,\n  checkAdapter: checkAdapter,\n  isInstanceOf: isInstanceOf,\n  RxDatabaseBase: RxDatabaseBase,\n  dbCount: dbCount\n};\n","/**\n * this handles how plugins are added to rxdb\n * basically it changes the internal prototypes\n * by passing them to the plugins-functions\n */\nimport { RxSchema } from './rx-schema';\nimport Crypter from './crypter';\nimport { basePrototype as RxDocumentPrototype } from './rx-document';\nimport { RxQueryBase } from './rx-query';\nimport { RxCollectionBase } from './rx-collection';\nimport { RxDatabaseBase } from './rx-database';\nimport { PouchDB } from './pouch-db';\nimport overwritable from './overwritable';\nimport { HOOKS } from './hooks';\n/**\n * prototypes that can be manipulated with a plugin\n */\n\nvar PROTOTYPES = {\n  RxSchema: RxSchema.prototype,\n  Crypter: Crypter.Crypter.prototype,\n  RxDocument: RxDocumentPrototype,\n  RxQuery: RxQueryBase.prototype,\n  RxCollection: RxCollectionBase.prototype,\n  RxDatabase: RxDatabaseBase.prototype\n};\nvar ADDED_PLUGINS = new Set();\nexport default function addPlugin(plugin) {\n  // do nothing if added before\n  if (ADDED_PLUGINS.has(plugin)) return;else ADDED_PLUGINS.add(plugin);\n\n  if (!plugin.rxdb) {\n    // pouchdb-plugin\n    if (typeof plugin === 'object' && plugin[\"default\"]) plugin = plugin[\"default\"];\n    PouchDB.plugin(plugin);\n    return;\n  }\n\n  var rxPlugin = plugin; // prototype-overwrites\n\n  if (rxPlugin.prototypes) {\n    Object.entries(plugin.prototypes).forEach(function (_ref) {\n      var name = _ref[0],\n          fun = _ref[1];\n      return fun(PROTOTYPES[name]);\n    });\n  } // overwritable-overwrites\n\n\n  if (rxPlugin.overwritable) {\n    Object.entries(plugin.overwritable).forEach(function (_ref2) {\n      var name = _ref2[0],\n          fun = _ref2[1];\n      return overwritable[name] = fun;\n    });\n  } // extend-hooks\n\n\n  if (rxPlugin.hooks) {\n    Object.entries(plugin.hooks).forEach(function (_ref3) {\n      var name = _ref3[0],\n          fun = _ref3[1];\n      return HOOKS[name].push(fun);\n    });\n  }\n}\n","/**\n * this is the main entry-point for custom builds\n * it can be used as standalone but is also used in the batteries-included main-export\n */\nimport { QueryChangeDetector } from './query-change-detector';\nexport { QueryChangeDetector } from './query-change-detector';\nimport addPlugin from './plugin';\nimport { PouchDB } from './pouch-db';\nexport { PouchDB } from './pouch-db';\nexport var plugin = addPlugin;\nimport { create, removeDatabase, checkAdapter, isInstanceOf as isRxDatabase, dbCount } from './rx-database';\nexport { create, removeDatabase, checkAdapter, isInstanceOf as isRxDatabase, dbCount } from './rx-database';\nexport { create as createRxDatabase } from './rx-database';\nimport { isInstanceOf as isRxCollection } from './rx-collection';\nexport { isInstanceOf as isRxCollection } from './rx-collection';\nimport { isInstanceOf as isRxDocument } from './rx-document';\nexport { isInstanceOf as isRxDocument } from './rx-document';\nimport { isInstanceOf as isRxQuery } from './rx-query';\nexport { isInstanceOf as isRxQuery } from './rx-query';\nimport { isInstanceOf as isRxSchema } from './rx-schema';\nexport { isInstanceOf as isRxSchema, createRxSchema, RxSchema } from './rx-schema';\nexport { RxChangeEvent } from './rx-change-event';\nexport default {\n  create: create,\n  removeDatabase: removeDatabase,\n  checkAdapter: checkAdapter,\n  plugin: plugin,\n  dbCount: dbCount,\n  isRxDatabase: isRxDatabase,\n  isRxCollection: isRxCollection,\n  isRxDocument: isRxDocument,\n  isRxQuery: isRxQuery,\n  isRxSchema: isRxSchema,\n  PouchDB: PouchDB,\n  QueryChangeDetector: QueryChangeDetector\n};\n","/**\n * does additional checks over the schema-json\n * to ensure nothing is broken or not supported\n */\nimport objectPath from 'object-path';\nimport RxDocument from '../rx-document';\nimport { newRxError, newRxTypeError } from '../rx-error';\nimport { getIndexes } from '../rx-schema';\nimport { properties as rxDocumentProperties } from '../rx-document';\nimport { properties as rxCollectionProperties } from '../rx-collection';\nimport { getPreviousVersions } from '../rx-schema';\n/**\n * checks if the fieldname is allowed\n * this makes sure that the fieldnames can be transformed into javascript-vars\n * and does not conquer the observe$ and populate_ fields\n * @throws {Error}\n */\n\nexport function checkFieldNameRegex(fieldName) {\n  if (fieldName === '') return;\n  if (fieldName === '_id') return;\n\n  if (['properties', 'language'].includes(fieldName)) {\n    throw newRxError('SC23', {\n      fieldName: fieldName\n    });\n  }\n\n  var regexStr = '^[a-zA-Z](?:[[a-zA-Z0-9_]*]?[a-zA-Z0-9])?$';\n  var regex = new RegExp(regexStr);\n\n  if (!fieldName.match(regex)) {\n    throw newRxError('SC1', {\n      regex: regexStr,\n      fieldName: fieldName\n    });\n  }\n}\n/**\n * validate that all schema-related things are ok\n */\n\nexport function validateFieldsDeep(jsonSchema) {\n  function checkField(fieldName, schemaObj, path) {\n    if (typeof fieldName === 'string' && typeof schemaObj === 'object' && !Array.isArray(schemaObj)) checkFieldNameRegex(fieldName); // 'item' only allowed it type=='array'\n\n    if (schemaObj.hasOwnProperty('item') && schemaObj.type !== 'array') {\n      throw newRxError('SC2', {\n        fieldName: fieldName\n      });\n    }\n    /**\n     * required fields cannot be set via 'required: true',\n     * but must be set via required: []\n     */\n\n\n    if (schemaObj.hasOwnProperty('required') && typeof schemaObj.required === 'boolean') {\n      throw newRxError('SC24', {\n        fieldName: fieldName\n      });\n    } // if ref given, must be type=='string' or type=='array' with string-items\n\n\n    if (schemaObj.hasOwnProperty('ref')) {\n      switch (schemaObj.type) {\n        case 'string':\n          break;\n\n        case 'array':\n          if (!schemaObj.items || !schemaObj.items.type || schemaObj.items.type !== 'string') {\n            throw newRxError('SC3', {\n              fieldName: fieldName\n            });\n          }\n\n          break;\n\n        default:\n          throw newRxError('SC4', {\n            fieldName: fieldName\n          });\n      }\n    } // if primary is ref, throw\n\n\n    if (schemaObj.hasOwnProperty('ref') && schemaObj.primary) {\n      throw newRxError('SC5', {\n        fieldName: fieldName\n      });\n    }\n\n    var isNested = path.split('.').length >= 2; // nested only\n\n    if (isNested) {\n      if (schemaObj.primary) {\n        throw newRxError('SC6', {\n          path: path,\n          primary: schemaObj.primary\n        });\n      }\n\n      if (schemaObj[\"default\"]) {\n        throw newRxError('SC7', {\n          path: path\n        });\n      }\n    } // first level\n\n\n    if (!isNested) {\n      // check underscore fields\n      if (fieldName.charAt(0) === '_') {\n        if (fieldName === '_id' && schemaObj.primary) {\n          return;\n        }\n\n        throw newRxError('SC8', {\n          fieldName: fieldName\n        });\n      }\n    }\n  }\n\n  function traverse(currentObj, currentPath) {\n    if (typeof currentObj !== 'object') return;\n    Object.keys(currentObj).forEach(function (attributeName) {\n      if (!currentObj.properties) {\n        checkField(attributeName, currentObj[attributeName], currentPath);\n      }\n\n      var nextPath = currentPath;\n      if (attributeName !== 'properties') nextPath = nextPath + '.' + attributeName;\n      traverse(currentObj[attributeName], nextPath);\n    });\n  }\n\n  traverse(jsonSchema, '');\n  return true;\n}\n/**\n * does the checking\n * @throws {Error} if something is not ok\n */\n\nexport function checkSchema(jsonID) {\n  // check _rev\n  if (jsonID.properties._rev) {\n    throw newRxError('SC10', {\n      schema: jsonID\n    });\n  } // check version\n\n\n  if (!jsonID.hasOwnProperty('version') || typeof jsonID.version !== 'number' || jsonID.version < 0) {\n    throw newRxError('SC11', {\n      version: jsonID.version\n    });\n  }\n\n  validateFieldsDeep(jsonID);\n  var primaryPath;\n  Object.keys(jsonID.properties).forEach(function (key) {\n    var value = jsonID.properties[key]; // check primary\n\n    if (value.primary) {\n      if (primaryPath) {\n        throw newRxError('SC12', {\n          value: value\n        });\n      }\n\n      primaryPath = key;\n\n      if (value.index) {\n        throw newRxError('SC13', {\n          value: value\n        });\n      }\n\n      if (value.unique) {\n        throw newRxError('SC14', {\n          value: value\n        });\n      }\n\n      if (value.encrypted) {\n        throw newRxError('SC15', {\n          value: value\n        });\n      }\n\n      if (value.type !== 'string') {\n        throw newRxError('SC16', {\n          value: value\n        });\n      }\n    } // check if RxDocument-property\n\n\n    if (RxDocument.properties().includes(key)) {\n      throw newRxError('SC17', {\n        key: key\n      });\n    }\n  }); // check format of jsonID.compoundIndexes\n\n  if (jsonID.compoundIndexes) {\n    if (!Array.isArray(jsonID.compoundIndexes)) {\n      throw newRxError('SC18', {\n        compoundIndexes: jsonID.compoundIndexes\n      });\n    }\n\n    jsonID.compoundIndexes.forEach(function (ar) {\n      if (!Array.isArray(ar)) {\n        throw newRxError('SC19', {\n          compoundIndexes: jsonID.compoundIndexes\n        });\n      }\n\n      ar.forEach(function (str) {\n        if (typeof str !== 'string') {\n          throw newRxError('SC20', {\n            compoundIndexes: jsonID.compoundIndexes\n          });\n        }\n      });\n    });\n  } // check that indexes are string or number\n\n\n  getIndexes(jsonID).reduce(function (a, b) {\n    return a.concat(b);\n  }, []).filter(function (elem, pos, arr) {\n    return arr.indexOf(elem) === pos;\n  }) // unique\n  .map(function (key) {\n    var path = 'properties.' + key.replace(/\\./g, '.properties.');\n    var schemaObj = objectPath.get(jsonID, path);\n\n    if (!schemaObj || typeof schemaObj !== 'object') {\n      throw newRxError('SC21', {\n        key: key\n      });\n    }\n\n    return {\n      key: key,\n      schemaObj: schemaObj\n    };\n  }).filter(function (index) {\n    return index.schemaObj.type !== 'string' && index.schemaObj.type !== 'integer' && index.schemaObj.type !== 'number';\n  }).forEach(function (index) {\n    throw newRxError('SC22', {\n      key: index.key,\n      type: index.schemaObj.type\n    });\n  });\n}\n/**\n * checks if the given static methods are allowed\n * @throws if not allowed\n */\n\nvar checkOrmMethods = function checkOrmMethods(statics) {\n  if (!statics) {\n    return;\n  }\n\n  Object.entries(statics).forEach(function (_ref) {\n    var k = _ref[0],\n        v = _ref[1];\n\n    if (typeof k !== 'string') {\n      throw newRxTypeError('COL14', {\n        name: k\n      });\n    }\n\n    if (k.startsWith('_')) {\n      throw newRxTypeError('COL15', {\n        name: k\n      });\n    }\n\n    if (typeof v !== 'function') {\n      throw newRxTypeError('COL16', {\n        name: k,\n        type: typeof k\n      });\n    }\n\n    if (rxCollectionProperties().includes(k) || rxDocumentProperties().includes(k)) {\n      throw newRxError('COL17', {\n        name: k\n      });\n    }\n  });\n};\n/**\n * checks if the migrationStrategies are ok, throws if not\n * @throws {Error|TypeError} if not ok\n */\n\n\nfunction checkMigrationStrategies(schema, migrationStrategies) {\n  // migrationStrategies must be object not array\n  if (typeof migrationStrategies !== 'object' || Array.isArray(migrationStrategies)) {\n    throw newRxTypeError('COL11', {\n      schema: schema\n    });\n  }\n\n  var previousVersions = getPreviousVersions(schema); // for every previousVersion there must be strategy\n\n  if (previousVersions.length !== Object.keys(migrationStrategies).length) {\n    throw newRxError('COL12', {\n      have: Object.keys(migrationStrategies),\n      should: previousVersions\n    });\n  } // every strategy must have number as property and be a function\n\n\n  previousVersions.map(function (vNr) {\n    return {\n      v: vNr,\n      s: migrationStrategies[vNr + 1]\n    };\n  }).filter(function (strat) {\n    return typeof strat.s !== 'function';\n  }).forEach(function (strat) {\n    throw newRxTypeError('COL13', {\n      version: strat.v,\n      type: typeof strat,\n      schema: schema\n    });\n  });\n  return true;\n}\n\nexport var rxdb = true;\nexport var hooks = {\n  preCreateRxSchema: checkSchema,\n  createRxCollection: function createRxCollection(args) {\n    // check ORM-methods\n    checkOrmMethods(args.statics);\n    checkOrmMethods(args.methods);\n    checkOrmMethods(args.attachments); // check migration strategies\n\n    if (args.schema && args.migrationStrategies) {\n      checkMigrationStrategies(args.schema, args.migrationStrategies);\n    }\n  }\n};\nexport default {\n  rxdb: rxdb,\n  hooks: hooks\n};\n","/**\n * this plugin adds the error-messages\n * without it, only error-codes will be shown\n * This is mainly because error-string are hard to compress and we need a smaller build\n */\nvar CODES = {\n  // util.js\n  UT1: 'given name is no string or empty',\n  UT2: \"collection- and database-names must match the regex\\n    info: if your database-name specifies a folder, the name must contain the slash-char '/' or '\\\\'\",\n  UT3: 'replication-direction must either be push or pull or both. But not none',\n  UT4: 'given leveldown is no valid adapter',\n  // pouch-db.js\n  P1: 'PouchDB.getBatch: limit must be > 2',\n  // rx-query\n  QU1: 'RxQuery._execOverDatabase(): op not known',\n  QU2: 'limit() must get a number',\n  QU3: 'skip() must get a number',\n  QU4: 'RxQuery.regex(): You cannot use .regex() on the primary field',\n  QU5: 'RxQuery.sort(): does not work because key is not defined in the schema',\n  QU6: 'RxQuery.limit(): cannot be called on .findOne()',\n  QU7: 'query must be an object',\n  QU8: 'query cannot be an array',\n  // mquery.js\n  MQ1: 'path must be a string or object',\n  MQ2: 'Invalid argument',\n  MQ3: 'Invalid sort() argument. Must be a string, object, or array',\n  MQ4: 'Invalid argument. Expected instanceof mquery or plain object',\n  MQ5: 'method must be used after where() when called with these arguments',\n  MQ6: 'Can\\'t mix sort syntaxes. Use either array or object | .sort([[\\'field\\', 1], [\\'test\\', -1]]) | .sort({ field: 1, test: -1 })',\n  MQ7: 'Invalid sort value',\n  MQ8: 'Can\\'t mix sort syntaxes. Use either array or object',\n  // rx-database\n  DB1: 'RxDocument.prepare(): another instance on this adapter has a different password',\n  DB2: 'RxDatabase.collection(): collection-names cannot start with underscore _',\n  DB3: 'RxDatabase.collection(): collection already exists. use myDatabase.[collectionName] to get it',\n  DB4: 'RxDatabase.collection(): schema is missing',\n  DB5: 'RxDatabase.collection(): collection-name not allowed',\n  DB6: 'RxDatabase.collection(): another instance created this collection with a different schema. Read this https://pubkey.github.io/rxdb/questions-answers.html#cant-change-the-schema',\n  DB7: 'RxDatabase.collection(): schema encrypted but no password given',\n  DB8: 'RxDatabase.create(): A RxDatabase with the same name and adapter already exists.\\n' + 'Make sure to use this combination only once or set ignoreDuplicate to true if you do this intentional',\n  DB9: 'RxDatabase.create(): Adapter not added. Use RxDB.plugin(require(\\'pouchdb-adapter-[adaptername]\\');',\n  DB10: 'RxDatabase.create(): To use leveldown-adapters, you have to add the leveldb-plugin. Use RxDB.plugin(require(\\'pouchdb-adapter-leveldb\\'));',\n  // rx-collection\n  COL1: 'RxDocument.insert() You cannot insert an existing document',\n  COL2: 'RxCollection.insert() do not provide ._id when it is not the primary key',\n  COL3: 'RxCollection.upsert() does not work without primary',\n  COL4: 'RxCollection.atomicUpsert() does not work without primary',\n  COL5: 'RxCollection.find() if you want to search by _id, use .findOne(_id)',\n  COL6: 'RxCollection.findOne() needs a queryObject or string',\n  COL7: 'hook must be a function',\n  COL8: 'hooks-when not known',\n  COL9: 'RxCollection.addHook() hook-name not known',\n  COL10: 'RxCollection .postCreate-hooks cannot be async',\n  COL11: 'migrationStrategies must be an object',\n  COL12: 'A migrationStrategy is missing or too much',\n  COL13: 'migrationStrategy must be a function',\n  COL14: 'given static method-name is not a string',\n  COL15: 'static method-names cannot start with underscore _',\n  COL16: 'given static method is not a function',\n  COL17: 'RxCollection.ORM: statics-name not allowed',\n  COL18: 'collection-method not allowed because fieldname is in the schema',\n  COL19: 'Pouchdb document update conflict',\n  // rx-document.js\n  DOC1: 'RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed',\n  DOC2: 'cannot observe primary path',\n  DOC3: 'final fields cannot be observed',\n  DOC4: 'RxDocument.get$ cannot observe a non-existed field',\n  DOC5: 'RxDocument.populate() cannot populate a non-existed field',\n  DOC6: 'RxDocument.populate() cannot populate because path has no ref',\n  DOC7: 'RxDocument.populate() ref-collection not in database',\n  DOC8: 'RxDocument.set(): primary-key cannot be modified',\n  DOC9: 'final fields cannot be modified',\n  DOC10: 'RxDocument.set(): cannot set childpath when rootPath not selected',\n  DOC11: 'RxDocument.save(): cant save deleted document',\n  DOC12: 'RxDocument.save(): error',\n  DOC13: 'RxDocument.remove(): Document is already deleted',\n  DOC14: 'RxDocument.destroy() does not exist',\n  DOC15: 'query cannot be an array',\n  DOC16: 'Since version 8.0.0 RxDocument.set() can only be called on temporary RxDocuments',\n  DOC17: 'Since version 8.0.0 RxDocument.save() can only be called on non-temporary documents',\n  // data-migrator.js\n  DM1: 'migrate() Migration has already run',\n  DM2: 'migration of document failed final document does not match final schema',\n  DM3: 'migration already running',\n  // plugins/attachments.js\n  AT1: 'to use attachments, please define this in your schema',\n  // plugins/encryption.js\n  EN1: 'password is no string',\n  EN2: 'validatePassword: min-length of password not complied',\n  // plugins/json-dump.js\n  JD1: 'You must create the collections before you can import their data',\n  JD2: 'RxCollection.importDump(): the imported json relies on a different schema',\n  JD3: 'RxCollection.importDump(): json.passwordHash does not match the own',\n  // plugins/leader-election.js\n  // plugins/local-documents.js\n  LD1: 'RxDocument.allAttachments$ cant use attachments on local documents',\n  LD2: 'RxDocument.get(): objPath must be a string',\n  LD3: 'RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed',\n  LD4: 'cannot observe primary path',\n  LD5: 'RxDocument.set() id cannot be modified',\n  LD6: 'LocalDocument: Function is not useable on local documents',\n  LD7: 'Local document already exists',\n  // plugins/replication.js\n  RC1: 'Replication: already added',\n  RC2: 'RxCollection.sync() query must be from the same RxCollection',\n  RC3: 'RxCollection.sync() Do not use a collection\\'s pouchdb as remote, use the collection instead',\n  // plugins/schema-check.js\n  SC1: 'fieldnames do not match the regex',\n  SC2: 'SchemaCheck: name \\'item\\' reserved for array-fields',\n  SC3: 'SchemaCheck: fieldname has a ref-array but items-type is not string',\n  SC4: 'SchemaCheck: fieldname has a ref but is not type string or array<string>',\n  SC5: 'SchemaCheck: fieldname cannot be primary and ref at same time',\n  SC6: 'SchemaCheck: primary can only be defined at top-level',\n  SC7: 'SchemaCheck: default-values can only be defined at top-level',\n  SC8: 'SchemaCheck: first level-fields cannot start with underscore _',\n  SC10: 'SchemaCheck: schema defines ._rev, this will be done automatically',\n  SC11: 'SchemaCheck: schema needs a number >=0 as version',\n  SC12: 'SchemaCheck: primary can only be defined once',\n  SC13: 'SchemaCheck: primary is always index, do not declare it as index',\n  SC14: 'SchemaCheck: primary is always unique, do not declare it as index',\n  SC15: 'SchemaCheck: primary cannot be encrypted',\n  SC16: 'SchemaCheck: primary must have type: string',\n  SC17: 'SchemaCheck: top-level fieldname is not allowed',\n  SC18: 'SchemaCheck: compoundIndexes must be an array',\n  SC19: 'SchemaCheck: compoundIndexes must contain arrays',\n  SC20: 'SchemaCheck: compoundIndexes.array must contains strings',\n  SC21: 'SchemaCheck: given index is not defined in schema',\n  SC22: 'SchemaCheck: given indexKey is not type:string',\n  SC23: 'SchemaCheck: fieldname is not allowed',\n  SC24: 'SchemaCheck: required fields must be set via array. See https://spacetelescope.github.io/understanding-json-schema/reference/object.html#required',\n  // plugins/validate.js\n  VD1: 'Sub-schema not found, does the schemaPath exists in your schema?',\n  VD2: 'object does not match schema',\n  // plugins/in-memory.js\n  IM1: 'InMemory: Memory-Adapter must be added. Use RxDB.plugin(require(\\'pouchdb-adapter-memory\\'));',\n  IM2: 'inMemoryCollection.sync(): Do not replicate with the in-memory instance. Replicate with the parent instead',\n  // plugins/server.js\n  S1: 'You cannot create collections after calling RxDatabase.server()',\n  // plugins/replication-graphql.js\n  QL1: 'TODO'\n};\nexport var rxdb = true;\nexport var prototypes = {};\nexport var overwritable = {\n  tunnelErrorMessage: function tunnelErrorMessage(code) {\n    if (!CODES[code]) {\n      console.error('RxDB: Error-Code not known: ' + code);\n      throw new Error('Error-Cdoe ' + code + ' not known, contact the maintainer');\n    }\n\n    return CODES[code];\n  }\n};\nexport default {\n  rxdb: rxdb,\n  prototypes: prototypes,\n  overwritable: overwritable\n};\n","\"use strict\"\nfunction isProperty(str) {\n  return /^[$A-Z\\_a-z\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc][$A-Z\\_a-z\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc0-9\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u0669\\u0670\\u06d6-\\u06dc\\u06df-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u06f0-\\u06f9\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07c0-\\u07c9\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0859-\\u085b\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09cb-\\u09cd\\u09d7\\u09e2\\u09e3\\u09e6-\\u09ef\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c3e-\\u0c44\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d3e-\\u0d44\\u0d46-\\u0d48\\u0d4a-\\u0d4d\\u0d57\\u0d62\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0e50-\\u0e59\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f3e\\u0f3f\\u0f71-\\u0f84\\u0f86\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102b-\\u103e\\u1040-\\u1049\\u1056-\\u1059\\u105e-\\u1060\\u1062-\\u1064\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b4-\\u17d3\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u18a9\\u1920-\\u192b\\u1930-\\u193b\\u1946-\\u194f\\u19b0-\\u19c0\\u19c8\\u19c9\\u19d0-\\u19d9\\u1a17-\\u1a1b\\u1a55-\\u1a5e\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b00-\\u1b04\\u1b34-\\u1b44\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1b80-\\u1b82\\u1ba1-\\u1bad\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c24-\\u1c37\\u1c40-\\u1c49\\u1c50-\\u1c59\\u1cd0-\\u1cd2\\u1cd4-\\u1ce8\\u1ced\\u1cf2-\\u1cf4\\u1dc0-\\u1de6\\u1dfc-\\u1dff\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2cef-\\u2cf1\\u2d7f\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua620-\\ua629\\ua66f\\ua674-\\ua67d\\ua69f\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua823-\\ua827\\ua880\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8e0-\\ua8f1\\ua900-\\ua909\\ua926-\\ua92d\\ua947-\\ua953\\ua980-\\ua983\\ua9b3-\\ua9c0\\ua9d0-\\ua9d9\\uaa29-\\uaa36\\uaa43\\uaa4c\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uaaeb-\\uaaef\\uaaf5\\uaaf6\\uabe3-\\uabea\\uabec\\uabed\\uabf0-\\uabf9\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f]*$/.test(str)\n}\nmodule.exports = isProperty","var isProperty = require('is-property')\n\nvar gen = function(obj, prop) {\n  return isProperty(prop) ? obj+'.'+prop : obj+'['+JSON.stringify(prop)+']'\n}\n\ngen.valid = isProperty\ngen.property = function (prop) {\n return isProperty(prop) ? prop : JSON.stringify(prop)\n}\n\nmodule.exports = gen\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors ||\n  function getOwnPropertyDescriptors(obj) {\n    var keys = Object.keys(obj);\n    var descriptors = {};\n    for (var i = 0; i < keys.length; i++) {\n      descriptors[keys[i]] = Object.getOwnPropertyDescriptor(obj, keys[i]);\n    }\n    return descriptors;\n  };\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  if (typeof process !== 'undefined' && process.noDeprecation === true) {\n    return fn;\n  }\n\n  // Allow for deprecating things in the process of starting up.\n  if (typeof process === 'undefined') {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nvar kCustomPromisifiedSymbol = typeof Symbol !== 'undefined' ? Symbol('util.promisify.custom') : undefined;\n\nexports.promisify = function promisify(original) {\n  if (typeof original !== 'function')\n    throw new TypeError('The \"original\" argument must be of type Function');\n\n  if (kCustomPromisifiedSymbol && original[kCustomPromisifiedSymbol]) {\n    var fn = original[kCustomPromisifiedSymbol];\n    if (typeof fn !== 'function') {\n      throw new TypeError('The \"util.promisify.custom\" argument must be of type Function');\n    }\n    Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n      value: fn, enumerable: false, writable: false, configurable: true\n    });\n    return fn;\n  }\n\n  function fn() {\n    var promiseResolve, promiseReject;\n    var promise = new Promise(function (resolve, reject) {\n      promiseResolve = resolve;\n      promiseReject = reject;\n    });\n\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n    args.push(function (err, value) {\n      if (err) {\n        promiseReject(err);\n      } else {\n        promiseResolve(value);\n      }\n    });\n\n    try {\n      original.apply(this, args);\n    } catch (err) {\n      promiseReject(err);\n    }\n\n    return promise;\n  }\n\n  Object.setPrototypeOf(fn, Object.getPrototypeOf(original));\n\n  if (kCustomPromisifiedSymbol) Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n    value: fn, enumerable: false, writable: false, configurable: true\n  });\n  return Object.defineProperties(\n    fn,\n    getOwnPropertyDescriptors(original)\n  );\n}\n\nexports.promisify.custom = kCustomPromisifiedSymbol\n\nfunction callbackifyOnRejected(reason, cb) {\n  // `!reason` guard inspired by bluebird (Ref: https://goo.gl/t5IS6M).\n  // Because `null` is a special error value in callbacks which means \"no error\n  // occurred\", we error-wrap so the callback consumer can distinguish between\n  // \"the promise rejected with null\" or \"the promise fulfilled with undefined\".\n  if (!reason) {\n    var newReason = new Error('Promise was rejected with a falsy value');\n    newReason.reason = reason;\n    reason = newReason;\n  }\n  return cb(reason);\n}\n\nfunction callbackify(original) {\n  if (typeof original !== 'function') {\n    throw new TypeError('The \"original\" argument must be of type Function');\n  }\n\n  // We DO NOT return the promise as it gives the user a false sense that\n  // the promise is actually somehow related to the callback's execution\n  // and that the callback throwing will reject the promise.\n  function callbackified() {\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n\n    var maybeCb = args.pop();\n    if (typeof maybeCb !== 'function') {\n      throw new TypeError('The last argument must be of type Function');\n    }\n    var self = this;\n    var cb = function() {\n      return maybeCb.apply(self, arguments);\n    };\n    // In true node style we process the callback on `nextTick` with all the\n    // implications (stack, `uncaughtException`, `async_hooks`)\n    original.apply(this, args)\n      .then(function(ret) { process.nextTick(cb, null, ret) },\n            function(rej) { process.nextTick(callbackifyOnRejected, rej, cb) });\n  }\n\n  Object.setPrototypeOf(callbackified, Object.getPrototypeOf(original));\n  Object.defineProperties(callbackified,\n                          getOwnPropertyDescriptors(original));\n  return callbackified;\n}\nexports.callbackify = callbackify;\n","var util = require('util')\nvar isProperty = require('is-property')\n\nvar INDENT_START = /[\\{\\[]/\nvar INDENT_END = /[\\}\\]]/\n\n// from https://mathiasbynens.be/notes/reserved-keywords\nvar RESERVED = [\n  'do',\n  'if',\n  'in',\n  'for',\n  'let',\n  'new',\n  'try',\n  'var',\n  'case',\n  'else',\n  'enum',\n  'eval',\n  'null',\n  'this',\n  'true',\n  'void',\n  'with',\n  'await',\n  'break',\n  'catch',\n  'class',\n  'const',\n  'false',\n  'super',\n  'throw',\n  'while',\n  'yield',\n  'delete',\n  'export',\n  'import',\n  'public',\n  'return',\n  'static',\n  'switch',\n  'typeof',\n  'default',\n  'extends',\n  'finally',\n  'package',\n  'private',\n  'continue',\n  'debugger',\n  'function',\n  'arguments',\n  'interface',\n  'protected',\n  'implements',\n  'instanceof',\n  'NaN',\n  'undefined'\n]\n\nvar RESERVED_MAP = {}\n\nfor (var i = 0; i < RESERVED.length; i++) {\n  RESERVED_MAP[RESERVED[i]] = true\n}\n\nvar isVariable = function (name) {\n  return isProperty(name) && !RESERVED_MAP.hasOwnProperty(name)\n}\n\nvar formats = {\n  s: function(s) {\n    return '' + s\n  },\n  d: function(d) {\n    return '' + Number(d)\n  },\n  o: function(o) {\n    return JSON.stringify(o)\n  }\n}\n\nvar genfun = function() {\n  var lines = []\n  var indent = 0\n  var vars = {}\n\n  var push = function(str) {\n    var spaces = ''\n    while (spaces.length < indent*2) spaces += '  '\n    lines.push(spaces+str)\n  }\n\n  var pushLine = function(line) {\n    if (INDENT_END.test(line.trim()[0]) && INDENT_START.test(line[line.length-1])) {\n      indent--\n      push(line)\n      indent++\n      return\n    }\n    if (INDENT_START.test(line[line.length-1])) {\n      push(line)\n      indent++\n      return\n    }\n    if (INDENT_END.test(line.trim()[0])) {\n      indent--\n      push(line)\n      return\n    }\n\n    push(line)\n  }\n\n  var line = function(fmt) {\n    if (!fmt) return line\n\n    if (arguments.length === 1 && fmt.indexOf('\\n') > -1) {\n      var lines = fmt.trim().split('\\n')\n      for (var i = 0; i < lines.length; i++) {\n        pushLine(lines[i].trim())\n      }\n    } else {\n      pushLine(util.format.apply(util, arguments))\n    }\n\n    return line\n  }\n\n  line.scope = {}\n  line.formats = formats\n\n  line.sym = function(name) {\n    if (!name || !isVariable(name)) name = 'tmp'\n    if (!vars[name]) vars[name] = 0\n    return name + (vars[name]++ || '')\n  }\n\n  line.property = function(obj, name) {\n    if (arguments.length === 1) {\n      name = obj\n      obj = ''\n    }\n\n    name = name + ''\n\n    if (isProperty(name)) return (obj ? obj + '.' + name : name)\n    return obj ? obj + '[' + JSON.stringify(name) + ']' : JSON.stringify(name)\n  }\n\n  line.toString = function() {\n    return lines.join('\\n')\n  }\n\n  line.toFunction = function(scope) {\n    if (!scope) scope = {}\n\n    var src = 'return ('+line.toString()+')'\n\n    Object.keys(line.scope).forEach(function (key) {\n      if (!scope[key]) scope[key] = line.scope[key]\n    })\n\n    var keys = Object.keys(scope).map(function(key) {\n      return key\n    })\n\n    var vals = keys.map(function(key) {\n      return scope[key]\n    })\n\n    return Function.apply(null, keys.concat(src)).apply(null, vals)\n  }\n\n  if (arguments.length) line.apply(null, arguments)\n\n  return line\n}\n\ngenfun.formats = formats\nmodule.exports = genfun\n","var hasExcape = /~/\nvar escapeMatcher = /~[01]/g\nfunction escapeReplacer (m) {\n  switch (m) {\n    case '~1': return '/'\n    case '~0': return '~'\n  }\n  throw new Error('Invalid tilde escape: ' + m)\n}\n\nfunction untilde (str) {\n  if (!hasExcape.test(str)) return str\n  return str.replace(escapeMatcher, escapeReplacer)\n}\n\nfunction setter (obj, pointer, value) {\n  var part\n  var hasNextPart\n\n  for (var p = 1, len = pointer.length; p < len;) {\n    part = untilde(pointer[p++])\n    hasNextPart = len > p\n\n    if (typeof obj[part] === 'undefined') {\n      // support setting of /-\n      if (Array.isArray(obj) && part === '-') {\n        part = obj.length\n      }\n\n      // support nested objects/array when setting values\n      if (hasNextPart) {\n        if ((pointer[p] !== '' && pointer[p] < Infinity) || pointer[p] === '-') obj[part] = []\n        else obj[part] = {}\n      }\n    }\n\n    if (!hasNextPart) break\n    obj = obj[part]\n  }\n\n  var oldValue = obj[part]\n  if (value === undefined) delete obj[part]\n  else obj[part] = value\n  return oldValue\n}\n\nfunction compilePointer (pointer) {\n  if (typeof pointer === 'string') {\n    pointer = pointer.split('/')\n    if (pointer[0] === '') return pointer\n    throw new Error('Invalid JSON pointer.')\n  } else if (Array.isArray(pointer)) {\n    return pointer\n  }\n\n  throw new Error('Invalid JSON pointer.')\n}\n\nfunction get (obj, pointer) {\n  if (typeof obj !== 'object') throw new Error('Invalid input object.')\n  pointer = compilePointer(pointer)\n  var len = pointer.length\n  if (len === 1) return obj\n\n  for (var p = 1; p < len;) {\n    obj = obj[untilde(pointer[p++])]\n    if (len === p) return obj\n    if (typeof obj !== 'object') return undefined\n  }\n}\n\nfunction set (obj, pointer, value) {\n  if (typeof obj !== 'object') throw new Error('Invalid input object.')\n  pointer = compilePointer(pointer)\n  if (pointer.length === 0) throw new Error('Invalid JSON pointer for set.')\n  return setter(obj, pointer, value)\n}\n\nfunction compile (pointer) {\n  var compiled = compilePointer(pointer)\n  return {\n    get: function (object) {\n      return get(object, compiled)\n    },\n    set: function (object, value) {\n      return set(object, compiled, value)\n    }\n  }\n}\n\nexports.get = get\nexports.set = set\nexports.compile = compile\n","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","var reIpv4FirstPass = /^\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$/\n\nvar reSubnetString = /\\/\\d{1,3}(?=%|$)/\nvar reForwardSlash = /\\//\nvar reZone = /%.*$/\nvar reBadCharacters = /([^0-9a-f:/%])/i\nvar reBadAddress = /([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\\/$)/i\n\nfunction validate4 (input) {\n  if (!(reIpv4FirstPass.test(input))) return false\n\n  var parts = input.split('.')\n\n  if (parts.length !== 4) return false\n\n  if (parts[0][0] === '0' && parts[0].length > 1) return false\n  if (parts[1][0] === '0' && parts[1].length > 1) return false\n  if (parts[2][0] === '0' && parts[2].length > 1) return false\n  if (parts[3][0] === '0' && parts[3].length > 1) return false\n\n  var n0 = Number(parts[0])\n  var n1 = Number(parts[1])\n  var n2 = Number(parts[2])\n  var n3 = Number(parts[3])\n\n  return (n0 >= 0 && n0 < 256 && n1 >= 0 && n1 < 256 && n2 >= 0 && n2 < 256 && n3 >= 0 && n3 < 256)\n}\n\nfunction validate6 (input) {\n  var withoutSubnet = input.replace(reSubnetString, '')\n  var hasSubnet = (input.length !== withoutSubnet.length)\n\n  // FIXME: this should probably be an option in the future\n  if (hasSubnet) return false\n\n  if (!hasSubnet) {\n    if (reForwardSlash.test(input)) return false\n  }\n\n  var withoutZone = withoutSubnet.replace(reZone, '')\n  var lastPartSeparator = withoutZone.lastIndexOf(':')\n\n  if (lastPartSeparator === -1) return false\n\n  var lastPart = withoutZone.substring(lastPartSeparator + 1)\n  var hasV4Part = validate4(lastPart)\n  var address = (hasV4Part ? withoutZone.substring(0, lastPartSeparator + 1) + '1234:5678' : withoutZone)\n\n  if (reBadCharacters.test(address)) return false\n  if (reBadAddress.test(address)) return false\n\n  var halves = address.split('::')\n\n  if (halves.length > 2) return false\n\n  if (halves.length === 2) {\n    var first = (halves[0] === '' ? [] : halves[0].split(':'))\n    var last = (halves[1] === '' ? [] : halves[1].split(':'))\n    var remainingLength = 8 - (first.length + last.length)\n\n    if (remainingLength <= 0) return false\n  } else {\n    if (address.split(':').length !== 8) return false\n  }\n\n  return true\n}\n\nfunction validate (input) {\n  return validate4(input) || validate6(input)\n}\n\nmodule.exports = function validator (options) {\n  if (!options) options = {}\n\n  if (options.version === 4) return validate4\n  if (options.version === 6) return validate6\n  if (options.version == null) return validate\n\n  throw new Error('Unknown version: ' + options.version)\n}\n\nmodule.exports['__all_regexes__'] = [\n  reIpv4FirstPass,\n  reSubnetString,\n  reForwardSlash,\n  reZone,\n  reBadCharacters,\n  reBadAddress\n]\n","var createIpValidator = require('is-my-ip-valid')\n\nvar reEmailWhitespace = /\\s/\nvar reHostnameFirstPass = /^[a-zA-Z0-9.-]+$/\nvar reHostnamePart = /^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/\nvar rePhoneFirstPass = /^\\+[0-9][0-9 ]{5,27}[0-9]$/\nvar rePhoneDoubleSpace = / {2}/\nvar rePhoneGlobalSpace = / /g\n\nexports['date-time'] = /^\\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}[tT ]\\d{2}:\\d{2}:\\d{2}(?:\\.\\d+|)([zZ]|[+-]\\d{2}:\\d{2})$/\nexports['date'] = /^\\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}$/\nexports['time'] = /^\\d{2}:\\d{2}:\\d{2}$/\nexports['email'] = function (input) { return (input.indexOf('@') !== -1) && (!reEmailWhitespace.test(input)) }\nexports['ip-address'] = exports['ipv4'] = createIpValidator({ version: 4 })\nexports['ipv6'] = createIpValidator({ version: 6 })\nexports['uri'] = /^[a-zA-Z][a-zA-Z0-9+-.]*:[^\\s]*$/\nexports['color'] = /(#?([0-9A-Fa-f]{3,6})\\b)|(aqua)|(black)|(blue)|(fuchsia)|(gray)|(green)|(lime)|(maroon)|(navy)|(olive)|(orange)|(purple)|(red)|(silver)|(teal)|(white)|(yellow)|(rgb\\(\\s*\\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*,\\s*\\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*,\\s*\\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*\\))|(rgb\\(\\s*(\\d?\\d%|100%)+\\s*,\\s*(\\d?\\d%|100%)+\\s*,\\s*(\\d?\\d%|100%)+\\s*\\))/\nexports['hostname'] = function (input) {\n  if (!(reHostnameFirstPass.test(input))) return false\n\n  var parts = input.split('.')\n\n  for (var i = 0; i < parts.length; i++) {\n    if (!(reHostnamePart.test(parts[i]))) return false\n  }\n\n  return true\n}\nexports['alpha'] = /^[a-zA-Z]+$/\nexports['alphanumeric'] = /^[a-zA-Z0-9]+$/\nexports['style'] = /\\s*(.+?):\\s*([^;]+);?/g\nexports['phone'] = function (input) {\n  if (!(rePhoneFirstPass.test(input))) return false\n  if (rePhoneDoubleSpace.test(input)) return false\n\n  var digits = input.substring(1).replace(rePhoneGlobalSpace, '').length\n\n  return (digits >= 7 && digits <= 15)\n}\nexports['utc-millisec'] = /^[0-9]{1,15}\\.?[0-9]{0,15}$/\n","var genobj = require('generate-object-property')\nvar genfun = require('generate-function')\nvar jsonpointer = require('jsonpointer')\nvar xtend = require('xtend')\nvar formats = require('./formats')\n\nvar get = function(obj, additionalSchemas, ptr) {\n\n  var visit = function(sub) {\n    if (sub && sub.id === ptr) return sub\n    if (typeof sub !== 'object' || !sub) return null\n    return Object.keys(sub).reduce(function(res, k) {\n      return res || visit(sub[k])\n    }, null)\n  }\n\n  var res = visit(obj)\n  if (res) return res\n\n  ptr = ptr.replace(/^#/, '')\n  ptr = ptr.replace(/\\/$/, '')\n\n  try {\n    return jsonpointer.get(obj, decodeURI(ptr))\n  } catch (err) {\n    var end = ptr.indexOf('#')\n    var other\n    // external reference\n    if (end !== 0) {\n      // fragment doesn't exist.\n      if (end === -1) {\n        other = additionalSchemas[ptr]\n      } else {\n        var ext = ptr.slice(0, end)\n        other = additionalSchemas[ext]\n        var fragment = ptr.slice(end).replace(/^#/, '')\n        try {\n          return jsonpointer.get(other, fragment)\n        } catch (err) {}\n      }\n    } else {\n      other = additionalSchemas[ptr]\n    }\n    return other || null\n  }\n}\n\nvar formatName = function(field) {\n  field = JSON.stringify(field)\n  var pattern = /\\[([^\\[\\]\"]+)\\]/\n  while (pattern.test(field)) field = field.replace(pattern, '.\"+$1+\"')\n  return field\n}\n\nvar types = {}\n\ntypes.any = function() {\n  return 'true'\n}\n\ntypes.null = function(name) {\n  return name+' === null'\n}\n\ntypes.boolean = function(name) {\n  return 'typeof '+name+' === \"boolean\"'\n}\n\ntypes.array = function(name) {\n  return 'Array.isArray('+name+')'\n}\n\ntypes.object = function(name) {\n  return 'typeof '+name+' === \"object\" && '+name+' && !Array.isArray('+name+')'\n}\n\ntypes.number = function(name) {\n  return 'typeof '+name+' === \"number\" && isFinite('+name+')'\n}\n\ntypes.integer = function(name) {\n  return 'typeof '+name+' === \"number\" && (Math.floor('+name+') === '+name+' || '+name+' > 9007199254740992 || '+name+' < -9007199254740992)'\n}\n\ntypes.string = function(name) {\n  return 'typeof '+name+' === \"string\"'\n}\n\nvar unique = function(array) {\n  var list = []\n  for (var i = 0; i < array.length; i++) {\n    list.push(typeof array[i] === 'object' ? JSON.stringify(array[i]) : array[i])\n  }\n  for (var i = 1; i < list.length; i++) {\n    if (list.indexOf(list[i]) !== i) return false\n  }\n  return true\n}\n\nvar isMultipleOf = function(name, multipleOf) {\n  var res;\n  var factor = ((multipleOf | 0) !== multipleOf) ? Math.pow(10, multipleOf.toString().split('.').pop().length) : 1\n  if (factor > 1) {\n    var factorName = ((name | 0) !== name) ? Math.pow(10, name.toString().split('.').pop().length) : 1\n    if (factorName > factor) res = true\n    else res = Math.round(factor * name) % (factor * multipleOf)\n  }\n  else res = name % multipleOf;\n  return !res;\n}\n\nvar compile = function(schema, cache, root, reporter, opts) {\n  var fmts = opts ? xtend(formats, opts.formats) : formats\n  var scope = {unique:unique, formats:fmts, isMultipleOf:isMultipleOf}\n  var verbose = opts ? !!opts.verbose : false;\n  var greedy = opts && opts.greedy !== undefined ?\n    opts.greedy : false;\n\n  var syms = {}\n  var gensym = function(name) {\n    return name+(syms[name] = (syms[name] || 0)+1)\n  }\n\n  var reversePatterns = {}\n  var patterns = function(p) {\n    if (reversePatterns[p]) return reversePatterns[p]\n    var n = gensym('pattern')\n    scope[n] = new RegExp(p)\n    reversePatterns[p] = n\n    return n\n  }\n\n  var vars = ['i','j','k','l','m','n','o','p','q','r','s','t','u','v','x','y','z']\n  var genloop = function() {\n    var v = vars.shift()\n    vars.push(v+v[0])\n    return v\n  }\n\n  var visit = function(name, node, reporter, filter, schemaPath) {\n    var properties = node.properties\n    var type = node.type\n    var tuple = false\n\n    if (Array.isArray(node.items)) { // tuple type\n      properties = {}\n      node.items.forEach(function(item, i) {\n        properties[i] = item\n      })\n      type = 'array'\n      tuple = true\n    }\n\n    var indent = 0\n    var error = function(msg, prop, value) {\n      validate('errors++')\n      if (reporter === true) {\n        validate('if (validate.errors === null) validate.errors = []')\n        if (verbose) {\n          validate(\n            'validate.errors.push({field:%s,message:%s,value:%s,type:%s,schemaPath:%s})',\n            formatName(prop || name),\n            JSON.stringify(msg),\n            value || name,\n            JSON.stringify(type),\n            JSON.stringify(schemaPath)\n          )\n        } else {\n          validate('validate.errors.push({field:%s,message:%s})', formatName(prop || name), JSON.stringify(msg))\n        }\n      }\n    }\n\n    if (node.required === true) {\n      indent++\n      validate('if (%s === undefined) {', name)\n      error('is required')\n      validate('} else {')\n    } else {\n      indent++\n      validate('if (%s !== undefined) {', name)\n    }\n\n    var valid = [].concat(type)\n      .map(function(t) {\n        if (t && !types.hasOwnProperty(t)) {\n          throw new Error('Unknown type: ' + t)\n        }\n\n        return types[t || 'any'](name)\n      })\n      .join(' || ') || 'true'\n\n    if (valid !== 'true') {\n      indent++\n      validate('if (!(%s)) {', valid)\n      error('is the wrong type')\n      validate('} else {')\n    }\n\n    if (tuple) {\n      if (node.additionalItems === false) {\n        validate('if (%s.length > %d) {', name, node.items.length)\n        error('has additional items')\n        validate('}')\n      } else if (node.additionalItems) {\n        var i = genloop()\n        validate('for (var %s = %d; %s < %s.length; %s++) {', i, node.items.length, i, name, i)\n        visit(name+'['+i+']', node.additionalItems, reporter, filter, schemaPath.concat('additionalItems'))\n        validate('}')\n      }\n    }\n\n    if (node.format && fmts[node.format]) {\n      if (type !== 'string' && formats[node.format]) validate('if (%s) {', types.string(name))\n      var n = gensym('format')\n      scope[n] = fmts[node.format]\n\n      if (typeof scope[n] === 'function') validate('if (!%s(%s)) {', n, name)\n      else validate('if (!%s.test(%s)) {', n, name)\n      error('must be '+node.format+' format')\n      validate('}')\n      if (type !== 'string' && formats[node.format]) validate('}')\n    }\n\n    if (Array.isArray(node.required)) {\n      var checkRequired = function (req) {\n        var prop = genobj(name, req);\n        validate('if (%s === undefined) {', prop)\n        error('is required', prop)\n        validate('missing++')\n        validate('}')\n      }\n      validate('if ((%s)) {', type !== 'object' ? types.object(name) : 'true')\n      validate('var missing = 0')\n      node.required.map(checkRequired)\n      validate('}');\n      if (!greedy) {\n        validate('if (missing === 0) {')\n        indent++\n      }\n    }\n\n    if (node.uniqueItems) {\n      if (type !== 'array') validate('if (%s) {', types.array(name))\n      validate('if (!(unique(%s))) {', name)\n      error('must be unique')\n      validate('}')\n      if (type !== 'array') validate('}')\n    }\n\n    if (node.enum) {\n      var complex = node.enum.some(function(e) {\n        return typeof e === 'object'\n      })\n\n      var compare = complex ?\n        function(e) {\n          return 'JSON.stringify('+name+')'+' !== JSON.stringify('+JSON.stringify(e)+')'\n        } :\n        function(e) {\n          return name+' !== '+JSON.stringify(e)\n        }\n\n      validate('if (%s) {', node.enum.map(compare).join(' && ') || 'false')\n      error('must be an enum value')\n      validate('}')\n    }\n\n    if (node.dependencies) {\n      if (type !== 'object') validate('if (%s) {', types.object(name))\n\n      Object.keys(node.dependencies).forEach(function(key) {\n        var deps = node.dependencies[key]\n        if (typeof deps === 'string') deps = [deps]\n\n        var exists = function(k) {\n          return genobj(name, k) + ' !== undefined'\n        }\n\n        if (Array.isArray(deps)) {\n          validate('if (%s !== undefined && !(%s)) {', genobj(name, key), deps.map(exists).join(' && ') || 'true')\n          error('dependencies not set')\n          validate('}')\n        }\n        if (typeof deps === 'object') {\n          validate('if (%s !== undefined) {', genobj(name, key))\n          visit(name, deps, reporter, filter, schemaPath.concat(['dependencies', key]))\n          validate('}')\n        }\n      })\n\n      if (type !== 'object') validate('}')\n    }\n\n    if (node.additionalProperties || node.additionalProperties === false) {\n      if (type !== 'object') validate('if (%s) {', types.object(name))\n\n      var i = genloop()\n      var keys = gensym('keys')\n\n      var toCompare = function(p) {\n        return keys+'['+i+'] !== '+JSON.stringify(p)\n      }\n\n      var toTest = function(p) {\n        return '!'+patterns(p)+'.test('+keys+'['+i+'])'\n      }\n\n      var additionalProp = Object.keys(properties || {}).map(toCompare)\n        .concat(Object.keys(node.patternProperties || {}).map(toTest))\n        .join(' && ') || 'true'\n\n      validate('var %s = Object.keys(%s)', keys, name)\n        ('for (var %s = 0; %s < %s.length; %s++) {', i, i, keys, i)\n          ('if (%s) {', additionalProp)\n\n      if (node.additionalProperties === false) {\n        if (filter) validate('delete %s', name+'['+keys+'['+i+']]')\n        error('has additional properties', null, JSON.stringify(name+'.') + ' + ' + keys + '['+i+']')\n      } else {\n        visit(name+'['+keys+'['+i+']]', node.additionalProperties, reporter, filter, schemaPath.concat(['additionalProperties']))\n      }\n\n      validate\n          ('}')\n        ('}')\n\n      if (type !== 'object') validate('}')\n    }\n\n    if (node.$ref) {\n      var sub = get(root, opts && opts.schemas || {}, node.$ref)\n      if (sub) {\n        var fn = cache[node.$ref]\n        if (!fn) {\n          cache[node.$ref] = function proxy(data) {\n            return fn(data)\n          }\n          fn = compile(sub, cache, root, false, opts)\n        }\n        var n = gensym('ref')\n        scope[n] = fn\n        validate('if (!(%s(%s))) {', n, name)\n        error('referenced schema does not match')\n        validate('}')\n      }\n    }\n\n    if (node.not) {\n      var prev = gensym('prev')\n      validate('var %s = errors', prev)\n      visit(name, node.not, false, filter, schemaPath.concat('not'))\n      validate('if (%s === errors) {', prev)\n      error('negative schema matches')\n      validate('} else {')\n        ('errors = %s', prev)\n      ('}')\n    }\n\n    if (node.items && !tuple) {\n      if (type !== 'array') validate('if (%s) {', types.array(name))\n\n      var i = genloop()\n      validate('for (var %s = 0; %s < %s.length; %s++) {', i, i, name, i)\n      visit(name+'['+i+']', node.items, reporter, filter, schemaPath.concat('items'))\n      validate('}')\n\n      if (type !== 'array') validate('}')\n    }\n\n    if (node.patternProperties) {\n      if (type !== 'object') validate('if (%s) {', types.object(name))\n      var keys = gensym('keys')\n      var i = genloop()\n      validate\n        ('var %s = Object.keys(%s)', keys, name)\n        ('for (var %s = 0; %s < %s.length; %s++) {', i, i, keys, i)\n\n      Object.keys(node.patternProperties).forEach(function(key) {\n        var p = patterns(key)\n        validate('if (%s.test(%s)) {', p, keys+'['+i+']')\n        visit(name+'['+keys+'['+i+']]', node.patternProperties[key], reporter, filter, schemaPath.concat(['patternProperties', key]))\n        validate('}')\n      })\n\n      validate('}')\n      if (type !== 'object') validate('}')\n    }\n\n    if (node.pattern) {\n      var p = patterns(node.pattern)\n      if (type !== 'string') validate('if (%s) {', types.string(name))\n      validate('if (!(%s.test(%s))) {', p, name)\n      error('pattern mismatch')\n      validate('}')\n      if (type !== 'string') validate('}')\n    }\n\n    if (node.allOf) {\n      node.allOf.forEach(function(sch, key) {\n        visit(name, sch, reporter, filter, schemaPath.concat(['allOf', key]))\n      })\n    }\n\n    if (node.anyOf && node.anyOf.length) {\n      var prev = gensym('prev')\n\n      node.anyOf.forEach(function(sch, i) {\n        if (i === 0) {\n          validate('var %s = errors', prev)\n        } else {\n          validate('if (errors !== %s) {', prev)\n            ('errors = %s', prev)\n        }\n        visit(name, sch, false, false, schemaPath)\n      })\n      node.anyOf.forEach(function(sch, i) {\n        if (i) validate('}')\n      })\n      validate('if (%s !== errors) {', prev)\n      error('no schemas match')\n      validate('}')\n    }\n\n    if (node.oneOf && node.oneOf.length) {\n      var prev = gensym('prev')\n      var passes = gensym('passes')\n\n      validate\n        ('var %s = errors', prev)\n        ('var %s = 0', passes)\n\n      node.oneOf.forEach(function(sch, i) {\n        visit(name, sch, false, false, schemaPath)\n        validate('if (%s === errors) {', prev)\n          ('%s++', passes)\n        ('} else {')\n          ('errors = %s', prev)\n        ('}')\n      })\n\n      validate('if (%s !== 1) {', passes)\n      error('no (or more than one) schemas match')\n      validate('}')\n    }\n\n    if (node.multipleOf !== undefined) {\n      if (type !== 'number' && type !== 'integer') validate('if (%s) {', types.number(name))\n\n      validate('if (!isMultipleOf(%s, %d)) {', name, node.multipleOf)\n\n      error('has a remainder')\n      validate('}')\n\n      if (type !== 'number' && type !== 'integer') validate('}')\n    }\n\n    if (node.maxProperties !== undefined) {\n      if (type !== 'object') validate('if (%s) {', types.object(name))\n\n      validate('if (Object.keys(%s).length > %d) {', name, node.maxProperties)\n      error('has more properties than allowed')\n      validate('}')\n\n      if (type !== 'object') validate('}')\n    }\n\n    if (node.minProperties !== undefined) {\n      if (type !== 'object') validate('if (%s) {', types.object(name))\n\n      validate('if (Object.keys(%s).length < %d) {', name, node.minProperties)\n      error('has less properties than allowed')\n      validate('}')\n\n      if (type !== 'object') validate('}')\n    }\n\n    if (node.maxItems !== undefined) {\n      if (type !== 'array') validate('if (%s) {', types.array(name))\n\n      validate('if (%s.length > %d) {', name, node.maxItems)\n      error('has more items than allowed')\n      validate('}')\n\n      if (type !== 'array') validate('}')\n    }\n\n    if (node.minItems !== undefined) {\n      if (type !== 'array') validate('if (%s) {', types.array(name))\n\n      validate('if (%s.length < %d) {', name, node.minItems)\n      error('has less items than allowed')\n      validate('}')\n\n      if (type !== 'array') validate('}')\n    }\n\n    if (node.maxLength !== undefined) {\n      if (type !== 'string') validate('if (%s) {', types.string(name))\n\n      validate('if (%s.length > %d) {', name, node.maxLength)\n      error('has longer length than allowed')\n      validate('}')\n\n      if (type !== 'string') validate('}')\n    }\n\n    if (node.minLength !== undefined) {\n      if (type !== 'string') validate('if (%s) {', types.string(name))\n\n      validate('if (%s.length < %d) {', name, node.minLength)\n      error('has less length than allowed')\n      validate('}')\n\n      if (type !== 'string') validate('}')\n    }\n\n    if (node.minimum !== undefined) {\n      if (type !== 'number' && type !== 'integer') validate('if (%s) {', types.number(name))\n\n      validate('if (%s %s %d) {', name, node.exclusiveMinimum ? '<=' : '<', node.minimum)\n      error('is less than minimum')\n      validate('}')\n\n      if (type !== 'number' && type !== 'integer') validate('}')\n    }\n\n    if (node.maximum !== undefined) {\n      if (type !== 'number' && type !== 'integer') validate('if (%s) {', types.number(name))\n\n      validate('if (%s %s %d) {', name, node.exclusiveMaximum ? '>=' : '>', node.maximum)\n      error('is more than maximum')\n      validate('}')\n\n      if (type !== 'number' && type !== 'integer') validate('}')\n    }\n\n    if (properties) {\n      Object.keys(properties).forEach(function(p) {\n        if (Array.isArray(type) && type.indexOf('null') !== -1) validate('if (%s !== null) {', name)\n\n        visit(\n          genobj(name, p),\n          properties[p],\n          reporter,\n          filter,\n          schemaPath.concat(tuple ? p : ['properties', p])\n        )\n\n        if (Array.isArray(type) && type.indexOf('null') !== -1) validate('}')\n      })\n    }\n\n    while (indent--) validate('}')\n  }\n\n  var validate = genfun\n    ('function validate(data) {')\n      // Since undefined is not a valid JSON value, we coerce to null and other checks will catch this\n      ('if (data === undefined) data = null')\n      ('validate.errors = null')\n      ('var errors = 0')\n\n  visit('data', schema, reporter, opts && opts.filter, [])\n\n  validate\n      ('return errors === 0')\n    ('}')\n\n  validate = validate.toFunction(scope)\n  validate.errors = null\n\n  if (Object.defineProperty) {\n    Object.defineProperty(validate, 'error', {\n      get: function() {\n        if (!validate.errors) return ''\n        return validate.errors.map(function(err) {\n          return err.field + ' ' + err.message;\n        }).join('\\n')\n      }\n    })\n  }\n\n  validate.toJSON = function() {\n    return schema\n  }\n\n  return validate\n}\n\nmodule.exports = function(schema, opts) {\n  if (typeof schema === 'string') schema = JSON.parse(schema)\n  return compile(schema, {}, schema, true, opts)\n}\n\nmodule.exports.filter = function(schema, opts) {\n  var validate = module.exports(schema, xtend(opts, {filter: true}))\n  return function(sch) {\n    validate(sch)\n    return sch\n  }\n}\n","/**\n * this plugin validates documents before they can be inserted into the RxCollection.\n * It's using is-my-json-valid as jsonschema-validator\n * @link https://github.com/mafintosh/is-my-json-valid\n */\nimport isMyJsonValid from 'is-my-json-valid';\nimport { newRxError } from '../rx-error';\nimport { requestIdleCallbackIfAvailable } from '../util';\n\n/**\n * cache the validators by the schema-hash\n * so we can reuse them when multiple collections have the same schema\n */\nvar VALIDATOR_CACHE = new Map();\n/**\n * returns the parsed validator from is-my-json-valid\n */\n\nfunction _getValidator(rxSchema) {\n  var hash = rxSchema.hash;\n\n  if (!VALIDATOR_CACHE.has(hash)) {\n    var validator = isMyJsonValid(rxSchema.jsonID);\n    VALIDATOR_CACHE.set(hash, validator);\n  }\n\n  return VALIDATOR_CACHE.get(hash);\n}\n/**\n * validates the given object against the schema\n * @param  schemaPath if given, the sub-schema will be validated\n * @throws {RxError} if not valid\n */\n\n\nvar validate = function validate(obj) {\n  var useValidator = _getValidator(this);\n\n  var isValid = useValidator(obj);\n  if (isValid) return obj;else {\n    throw newRxError('VD2', {\n      errors: useValidator.errors,\n      obj: obj,\n      schema: this.jsonID\n    });\n  }\n};\n\nvar runAfterSchemaCreated = function runAfterSchemaCreated(rxSchema) {\n  // pre-generate the isMyJsonValid-validator from the schema\n  requestIdleCallbackIfAvailable(function () {\n    _getValidator(rxSchema);\n  });\n};\n\nexport var rxdb = true;\nexport var prototypes = {\n  /**\n   * set validate-function for the RxSchema.prototype\n   * @param prototype of RxSchema\n   */\n  RxSchema: function RxSchema(proto) {\n    proto._getValidator = _getValidator;\n    proto.validate = validate;\n  }\n};\nexport var hooks = {\n  createRxSchema: runAfterSchemaCreated\n};\nexport default {\n  rxdb: rxdb,\n  prototypes: prototypes,\n  hooks: hooks\n};\n","import _createClass from \"@babel/runtime/helpers/createClass\";\n\n/**\n * this plugin adds the keycompression-capabilities to rxdb\n * if you dont use this, ensure that you set disableKeyComression to false in your schema\n */\nimport { numberToLetter, trimDots, clone } from '../util';\nexport var KeyCompressor =\n/*#__PURE__*/\nfunction () {\n  function KeyCompressor(schema) {\n    this.schema = schema;\n  }\n\n  var _proto = KeyCompressor.prototype;\n\n  /**\n   * compress the keys of an object via the compression-table\n   */\n  _proto.compress = function compress(obj) {\n    if (!this.schema.doKeyCompression()) return clone(obj);\n    return _compressObj(this, obj);\n  };\n\n  _proto._decompressObj = function _decompressObj(obj) {\n    var _this = this;\n\n    var reverseTable = this.reverseTable; // non-object\n\n    if (typeof obj !== 'object' || obj === null) return obj; // array\n\n    if (Array.isArray(obj)) return obj.map(function (item) {\n      return _this._decompressObj(item);\n    }); // object\n    else {\n        var ret = {};\n        Object.keys(obj).forEach(function (key) {\n          var replacedKey = key;\n          if ((key.startsWith('|') || key.startsWith('_')) && reverseTable[key]) replacedKey = reverseTable[key];\n          ret[replacedKey] = _this._decompressObj(obj[key]);\n        });\n        return ret;\n      }\n  };\n\n  _proto.decompress = function decompress(obj) {\n    if (!this.schema.doKeyCompression()) return clone(obj);\n\n    var returnObj = this._decompressObj(obj);\n\n    return returnObj;\n  }\n  /**\n   * get the full compressed-key-path of a object-path\n   */\n  ;\n\n  _proto.transformKey = function transformKey(prePath, prePathCompressed, remainPathAr) {\n    var table = this.table;\n    prePath = trimDots(prePath);\n    prePathCompressed = trimDots(prePathCompressed);\n    var nextPath = remainPathAr.shift();\n    var nextFullPath = trimDots(prePath + '.' + nextPath);\n    if (table[nextFullPath]) prePathCompressed += '.' + table[nextFullPath];else prePathCompressed += '.' + nextPath;\n    if (remainPathAr.length > 0) return this.transformKey(nextFullPath, prePathCompressed, remainPathAr);else return trimDots(prePathCompressed);\n  }\n  /**\n   * replace the keys of a query-obj with the compressed keys\n   * @return compressed queryJSON\n   */\n  ;\n\n  _proto.compressQuery = function compressQuery(queryJSON) {\n    var _this2 = this;\n\n    queryJSON = clone(queryJSON);\n    if (!this.schema.doKeyCompression()) return queryJSON; // selector\n\n    var selector = {};\n    Object.keys(queryJSON.selector).forEach(function (key) {\n      var value = queryJSON.selector[key];\n\n      if (key.startsWith('$')) {\n        // $or, $not etc have different structure\n        var setObj = value.map(function (obj) {\n          var newObj = {};\n          Object.keys(obj).forEach(function (k) {\n            var transKey = _this2.transformKey('', '', k.split('.'));\n\n            newObj[transKey] = obj[k];\n          });\n          return newObj;\n        });\n        selector[key] = setObj;\n      } else {\n        var transKey = _this2.transformKey('', '', key.split('.'));\n\n        selector[transKey] = value;\n      }\n    });\n    queryJSON.selector = selector; // sort\n\n    if (queryJSON.sort) {\n      queryJSON.sort = queryJSON.sort.map(function (sortObj) {\n        var key = Object.keys(sortObj)[0];\n        var value = sortObj[key];\n        var ret = {};\n        ret[_this2.transformKey('', '', key.split('.'))] = value;\n        return ret;\n      });\n    }\n\n    return queryJSON;\n  };\n\n  _createClass(KeyCompressor, [{\n    key: \"table\",\n    get: function get() {\n      var _this3 = this;\n\n      if (!this._table) {\n        // create new table\n        var lastKeyNumber = 0;\n\n        var nextKey = function nextKey() {\n          lastKeyNumber++;\n          return numberToLetter(lastKeyNumber - 1);\n        };\n\n        this._table = {};\n        var jsonSchema = this.schema.normalized;\n\n        var propertiesToTable = function propertiesToTable(path, obj) {\n          Object.keys(obj).map(function (key) {\n            var propertyObj = obj[key];\n            var fullPath = key === 'properties' ? path : trimDots(path + '.' + key);\n            if (typeof propertyObj === 'object' && // do not add schema-attributes\n            !Array.isArray(propertyObj) && // do not use arrays\n            !_this3._table[fullPath] && fullPath !== '' && key.length > 3 && // do not compress short keys\n            !fullPath.startsWith('_') // _id/_rev etc should never be compressed\n            ) _this3._table[fullPath] = '|' + nextKey(); // primary-key is always compressed to _id\n\n            if (propertyObj.primary === true) _this3._table[fullPath] = '_id';\n            if (typeof propertyObj === 'object' && !Array.isArray(propertyObj)) propertiesToTable(fullPath, propertyObj);\n          });\n        };\n\n        propertiesToTable('', jsonSchema);\n      }\n\n      return this._table;\n    }\n  }, {\n    key: \"reverseTable\",\n    get: function get() {\n      var _this4 = this;\n\n      if (!this._reverseTable) {\n        var table = this.table;\n        this._reverseTable = {};\n        Object.keys(table).forEach(function (key) {\n          var value = table[key];\n          var fieldName = key.split('.').pop();\n          _this4._reverseTable[value] = fieldName;\n        });\n      }\n\n      return this._reverseTable;\n    }\n  }]);\n\n  return KeyCompressor;\n}();\n\nfunction _compressObj(keyCompressor, obj) {\n  var path = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n  var ret = {};\n  if (typeof obj !== 'object' || obj === null) return obj;\n\n  if (Array.isArray(obj)) {\n    return obj.map(function (o) {\n      return _compressObj(keyCompressor, o, trimDots(path + '.item'));\n    });\n  }\n\n  Object.keys(obj).forEach(function (key) {\n    var propertyObj = obj[key];\n    var fullPath = trimDots(path + '.' + key);\n    var replacedKey = keyCompressor.table[fullPath] ? keyCompressor.table[fullPath] : key;\n    var nextObj = propertyObj;\n    nextObj = _compressObj(keyCompressor, propertyObj, fullPath);\n    ret[replacedKey] = nextObj;\n  });\n  return ret;\n}\n\nexport function create(schema) {\n  return new KeyCompressor(schema);\n}\nexport var rxdb = true;\nexport var prototypes = {};\nexport var overwritable = {\n  createKeyCompressor: create\n};\nexport default {\n  rxdb: rxdb,\n  prototypes: prototypes,\n  overwritable: overwritable\n};\n","module.exports = false;\n\n","/* global WorkerGlobalScope */\nfunction add(fn) {\n  if (typeof WorkerGlobalScope === 'function' && self instanceof WorkerGlobalScope) {// this is run inside of a webworker\n  } else {\n    /**\n     * if we are on react-native, there is no window.addEventListener\n     * @link https://github.com/pubkey/unload/issues/6\n     */\n    if (typeof window.addEventListener !== 'function') return;\n    /**\n     * for normal browser-windows, we use the beforeunload-event\n     */\n\n    window.addEventListener('beforeunload', function () {\n      fn();\n    }, true);\n    /**\n     * for iframes, we have to use the unload-event\n     * @link https://stackoverflow.com/q/47533670/3443137\n     */\n\n    window.addEventListener('unload', function () {\n      fn();\n    }, true);\n  }\n  /**\n   * TODO add fallback for safari-mobile\n   * @link https://stackoverflow.com/a/26193516/3443137\n   */\n\n}\n\nexport default {\n  add: add\n};","import isNode from 'detect-node';\nimport BrowserMethod from './browser.js';\nimport NodeMethod from './node.js';\nvar USE_METHOD = isNode ? NodeMethod : BrowserMethod;\nvar LISTENERS = new Set();\nvar startedListening = false;\n\nfunction startListening() {\n  if (startedListening) return;\n  startedListening = true;\n  USE_METHOD.add(runAll);\n}\n\nexport function add(fn) {\n  startListening();\n  if (typeof fn !== 'function') throw new Error('Listener is no function');\n  LISTENERS.add(fn);\n  var addReturn = {\n    remove: function remove() {\n      return LISTENERS[\"delete\"](fn);\n    },\n    run: function run() {\n      LISTENERS[\"delete\"](fn);\n      return fn();\n    }\n  };\n  return addReturn;\n}\nexport function runAll() {\n  var promises = [];\n  LISTENERS.forEach(function (fn) {\n    promises.push(fn());\n    LISTENERS[\"delete\"](fn);\n  });\n  return Promise.all(promises);\n}\nexport function removeAll() {\n  LISTENERS.clear();\n}\nexport function getSize() {\n  return LISTENERS.size;\n}\nexport default {\n  add: add,\n  runAll: runAll,\n  removeAll: removeAll,\n  getSize: getSize\n};","import { sleep, randomToken } from '../util.js';\nimport unload from 'unload';\n\nvar LeaderElection = function LeaderElection(channel, options) {\n  this._channel = channel;\n  this._options = options;\n  this.isLeader = false;\n  this.isDead = false;\n  this.token = randomToken(10);\n  this._isApl = false; // _isApplying\n\n  this._reApply = false; // things to clean up\n\n  this._unl = []; // _unloads\n\n  this._lstns = []; // _listeners\n\n  this._invs = []; // _intervals\n};\n\nLeaderElection.prototype = {\n  applyOnce: function applyOnce() {\n    var _this = this;\n\n    if (this.isLeader) return Promise.resolve(false);\n    if (this.isDead) return Promise.resolve(false); // do nothing if already running\n\n    if (this._isApl) {\n      this._reApply = true;\n      return Promise.resolve(false);\n    }\n\n    this._isApl = true;\n    var stopCriteria = false;\n    var recieved = [];\n\n    var handleMessage = function handleMessage(msg) {\n      if (msg.context === 'leader' && msg.token != _this.token) {\n        recieved.push(msg);\n\n        if (msg.action === 'apply') {\n          // other is applying\n          if (msg.token > _this.token) {\n            // other has higher token, stop applying\n            stopCriteria = true;\n          }\n        }\n\n        if (msg.action === 'tell') {\n          // other is already leader\n          stopCriteria = true;\n        }\n      }\n    };\n\n    this._channel.addEventListener('internal', handleMessage);\n\n    var ret = _sendMessage(this, 'apply') // send out that this one is applying\n    .then(function () {\n      return sleep(_this._options.responseTime);\n    }) // let others time to respond\n    .then(function () {\n      if (stopCriteria) return Promise.reject(new Error());else return _sendMessage(_this, 'apply');\n    }).then(function () {\n      return sleep(_this._options.responseTime);\n    }) // let others time to respond\n    .then(function () {\n      if (stopCriteria) return Promise.reject(new Error());else return _sendMessage(_this);\n    }).then(function () {\n      return _beLeader(_this);\n    }) // no one disagreed -> this one is now leader\n    .then(function () {\n      return true;\n    })[\"catch\"](function () {\n      return false;\n    }) // apply not successfull\n    .then(function (success) {\n      _this._channel.removeEventListener('internal', handleMessage);\n\n      _this._isApl = false;\n\n      if (!success && _this._reApply) {\n        _this._reApply = false;\n        return _this.applyOnce();\n      } else return success;\n    });\n\n    return ret;\n  },\n  awaitLeadership: function awaitLeadership() {\n    if (\n    /* _awaitLeadershipPromise */\n    !this._aLP) {\n      this._aLP = _awaitLeadershipOnce(this);\n    }\n\n    return this._aLP;\n  },\n  die: function die() {\n    var _this2 = this;\n\n    if (this.isDead) return;\n    this.isDead = true;\n\n    this._lstns.forEach(function (listener) {\n      return _this2._channel.removeEventListener('internal', listener);\n    });\n\n    this._invs.forEach(function (interval) {\n      return clearInterval(interval);\n    });\n\n    this._unl.forEach(function (uFn) {\n      uFn.remove();\n    });\n\n    return _sendMessage(this, 'death');\n  }\n};\n\nfunction _awaitLeadershipOnce(leaderElector) {\n  if (leaderElector.isLeader) return Promise.resolve();\n  return new Promise(function (res) {\n    var resolved = false;\n\n    var finish = function finish() {\n      if (resolved) return;\n      resolved = true;\n      clearInterval(interval);\n\n      leaderElector._channel.removeEventListener('internal', whenDeathListener);\n\n      res(true);\n    }; // try once now\n\n\n    leaderElector.applyOnce().then(function () {\n      if (leaderElector.isLeader) finish();\n    }); // try on fallbackInterval\n\n    var interval = setInterval(function () {\n      leaderElector.applyOnce().then(function () {\n        if (leaderElector.isLeader) finish();\n      });\n    }, leaderElector._options.fallbackInterval);\n\n    leaderElector._invs.push(interval); // try when other leader dies\n\n\n    var whenDeathListener = function whenDeathListener(msg) {\n      if (msg.context === 'leader' && msg.action === 'death') {\n        leaderElector.applyOnce().then(function () {\n          if (leaderElector.isLeader) finish();\n        });\n      }\n    };\n\n    leaderElector._channel.addEventListener('internal', whenDeathListener);\n\n    leaderElector._lstns.push(whenDeathListener);\n  });\n}\n/**\n * sends and internal message over the broadcast-channel\n */\n\n\nfunction _sendMessage(leaderElector, action) {\n  var msgJson = {\n    context: 'leader',\n    action: action,\n    token: leaderElector.token\n  };\n  return leaderElector._channel.postInternal(msgJson);\n}\n\nfunction _beLeader(leaderElector) {\n  leaderElector.isLeader = true;\n  var unloadFn = unload.add(function () {\n    return leaderElector.die();\n  });\n\n  leaderElector._unl.push(unloadFn);\n\n  var isLeaderListener = function isLeaderListener(msg) {\n    if (msg.context === 'leader' && msg.action === 'apply') {\n      _sendMessage(leaderElector, 'tell');\n    }\n  };\n\n  leaderElector._channel.addEventListener('internal', isLeaderListener);\n\n  leaderElector._lstns.push(isLeaderListener);\n\n  return _sendMessage(leaderElector, 'tell');\n}\n\nfunction fillOptionsWithDefaults(options, channel) {\n  if (!options) options = {};\n  options = JSON.parse(JSON.stringify(options));\n\n  if (!options.fallbackInterval) {\n    options.fallbackInterval = 3000;\n  }\n\n  if (!options.responseTime) {\n    options.responseTime = channel.method.averageResponseTime(channel.options);\n  }\n\n  return options;\n}\n\nexport function create(channel, options) {\n  if (channel._leaderElector) {\n    throw new Error('BroadcastChannel already has a leader-elector');\n  }\n\n  options = fillOptionsWithDefaults(options, channel);\n  var elector = new LeaderElection(channel, options);\n\n  channel._befC.push(function () {\n    return elector.die();\n  });\n\n  channel._leaderElector = elector;\n  return elector;\n}\nexport default {\n  create: create\n};","/**\n * this plugin adds the leader-election-capabilities to rxdb\n */\nimport { create as createLeaderElection } from 'broadcast-channel/leader-election';\nexport var LeaderElector =\n/*#__PURE__*/\nfunction () {\n  function LeaderElector(database) {\n    this.destroyed = false;\n    this.isLeader = false;\n    this.isDead = false;\n    this.database = database;\n    this.elector = createLeaderElection(database.broadcastChannel);\n  }\n\n  var _proto = LeaderElector.prototype;\n\n  _proto.die = function die() {\n    return this.elector.die();\n  };\n\n  _proto.waitForLeadership = function waitForLeadership() {\n    var _this = this;\n\n    return this.elector.awaitLeadership().then(function () {\n      _this.isLeader = true;\n      return true;\n    });\n  };\n\n  _proto.destroy = function destroy() {\n    if (this.destroyed) return;\n    this.destroyed = true;\n    this.isDead = true;\n    return this.die();\n  };\n\n  return LeaderElector;\n}();\nexport function create(database) {\n  var elector = new LeaderElector(database);\n  return elector;\n}\nexport var rxdb = true;\nexport var prototypes = {};\nexport var overwritable = {\n  createLeaderElector: create\n};\nvar plugin = {\n  rxdb: rxdb,\n  prototypes: prototypes,\n  overwritable: overwritable\n};\nexport default plugin;\n",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory();\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\troot.CryptoJS = factory();\n\t}\n}(this, function () {\n\n\t/**\n\t * CryptoJS core components.\n\t */\n\tvar CryptoJS = CryptoJS || (function (Math, undefined) {\n\t    /*\n\t     * Local polyfil of Object.create\n\t     */\n\t    var create = Object.create || (function () {\n\t        function F() {};\n\n\t        return function (obj) {\n\t            var subtype;\n\n\t            F.prototype = obj;\n\n\t            subtype = new F();\n\n\t            F.prototype = null;\n\n\t            return subtype;\n\t        };\n\t    }())\n\n\t    /**\n\t     * CryptoJS namespace.\n\t     */\n\t    var C = {};\n\n\t    /**\n\t     * Library namespace.\n\t     */\n\t    var C_lib = C.lib = {};\n\n\t    /**\n\t     * Base object for prototypal inheritance.\n\t     */\n\t    var Base = C_lib.Base = (function () {\n\n\n\t        return {\n\t            /**\n\t             * Creates a new object that inherits from this object.\n\t             *\n\t             * @param {Object} overrides Properties to copy into the new object.\n\t             *\n\t             * @return {Object} The new object.\n\t             *\n\t             * @static\n\t             *\n\t             * @example\n\t             *\n\t             *     var MyType = CryptoJS.lib.Base.extend({\n\t             *         field: 'value',\n\t             *\n\t             *         method: function () {\n\t             *         }\n\t             *     });\n\t             */\n\t            extend: function (overrides) {\n\t                // Spawn\n\t                var subtype = create(this);\n\n\t                // Augment\n\t                if (overrides) {\n\t                    subtype.mixIn(overrides);\n\t                }\n\n\t                // Create default initializer\n\t                if (!subtype.hasOwnProperty('init') || this.init === subtype.init) {\n\t                    subtype.init = function () {\n\t                        subtype.$super.init.apply(this, arguments);\n\t                    };\n\t                }\n\n\t                // Initializer's prototype is the subtype object\n\t                subtype.init.prototype = subtype;\n\n\t                // Reference supertype\n\t                subtype.$super = this;\n\n\t                return subtype;\n\t            },\n\n\t            /**\n\t             * Extends this object and runs the init method.\n\t             * Arguments to create() will be passed to init().\n\t             *\n\t             * @return {Object} The new object.\n\t             *\n\t             * @static\n\t             *\n\t             * @example\n\t             *\n\t             *     var instance = MyType.create();\n\t             */\n\t            create: function () {\n\t                var instance = this.extend();\n\t                instance.init.apply(instance, arguments);\n\n\t                return instance;\n\t            },\n\n\t            /**\n\t             * Initializes a newly created object.\n\t             * Override this method to add some logic when your objects are created.\n\t             *\n\t             * @example\n\t             *\n\t             *     var MyType = CryptoJS.lib.Base.extend({\n\t             *         init: function () {\n\t             *             // ...\n\t             *         }\n\t             *     });\n\t             */\n\t            init: function () {\n\t            },\n\n\t            /**\n\t             * Copies properties into this object.\n\t             *\n\t             * @param {Object} properties The properties to mix in.\n\t             *\n\t             * @example\n\t             *\n\t             *     MyType.mixIn({\n\t             *         field: 'value'\n\t             *     });\n\t             */\n\t            mixIn: function (properties) {\n\t                for (var propertyName in properties) {\n\t                    if (properties.hasOwnProperty(propertyName)) {\n\t                        this[propertyName] = properties[propertyName];\n\t                    }\n\t                }\n\n\t                // IE won't copy toString using the loop above\n\t                if (properties.hasOwnProperty('toString')) {\n\t                    this.toString = properties.toString;\n\t                }\n\t            },\n\n\t            /**\n\t             * Creates a copy of this object.\n\t             *\n\t             * @return {Object} The clone.\n\t             *\n\t             * @example\n\t             *\n\t             *     var clone = instance.clone();\n\t             */\n\t            clone: function () {\n\t                return this.init.prototype.extend(this);\n\t            }\n\t        };\n\t    }());\n\n\t    /**\n\t     * An array of 32-bit words.\n\t     *\n\t     * @property {Array} words The array of 32-bit words.\n\t     * @property {number} sigBytes The number of significant bytes in this word array.\n\t     */\n\t    var WordArray = C_lib.WordArray = Base.extend({\n\t        /**\n\t         * Initializes a newly created word array.\n\t         *\n\t         * @param {Array} words (Optional) An array of 32-bit words.\n\t         * @param {number} sigBytes (Optional) The number of significant bytes in the words.\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.lib.WordArray.create();\n\t         *     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607]);\n\t         *     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607], 6);\n\t         */\n\t        init: function (words, sigBytes) {\n\t            words = this.words = words || [];\n\n\t            if (sigBytes != undefined) {\n\t                this.sigBytes = sigBytes;\n\t            } else {\n\t                this.sigBytes = words.length * 4;\n\t            }\n\t        },\n\n\t        /**\n\t         * Converts this word array to a string.\n\t         *\n\t         * @param {Encoder} encoder (Optional) The encoding strategy to use. Default: CryptoJS.enc.Hex\n\t         *\n\t         * @return {string} The stringified word array.\n\t         *\n\t         * @example\n\t         *\n\t         *     var string = wordArray + '';\n\t         *     var string = wordArray.toString();\n\t         *     var string = wordArray.toString(CryptoJS.enc.Utf8);\n\t         */\n\t        toString: function (encoder) {\n\t            return (encoder || Hex).stringify(this);\n\t        },\n\n\t        /**\n\t         * Concatenates a word array to this word array.\n\t         *\n\t         * @param {WordArray} wordArray The word array to append.\n\t         *\n\t         * @return {WordArray} This word array.\n\t         *\n\t         * @example\n\t         *\n\t         *     wordArray1.concat(wordArray2);\n\t         */\n\t        concat: function (wordArray) {\n\t            // Shortcuts\n\t            var thisWords = this.words;\n\t            var thatWords = wordArray.words;\n\t            var thisSigBytes = this.sigBytes;\n\t            var thatSigBytes = wordArray.sigBytes;\n\n\t            // Clamp excess bits\n\t            this.clamp();\n\n\t            // Concat\n\t            if (thisSigBytes % 4) {\n\t                // Copy one byte at a time\n\t                for (var i = 0; i < thatSigBytes; i++) {\n\t                    var thatByte = (thatWords[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                    thisWords[(thisSigBytes + i) >>> 2] |= thatByte << (24 - ((thisSigBytes + i) % 4) * 8);\n\t                }\n\t            } else {\n\t                // Copy one word at a time\n\t                for (var i = 0; i < thatSigBytes; i += 4) {\n\t                    thisWords[(thisSigBytes + i) >>> 2] = thatWords[i >>> 2];\n\t                }\n\t            }\n\t            this.sigBytes += thatSigBytes;\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Removes insignificant bits.\n\t         *\n\t         * @example\n\t         *\n\t         *     wordArray.clamp();\n\t         */\n\t        clamp: function () {\n\t            // Shortcuts\n\t            var words = this.words;\n\t            var sigBytes = this.sigBytes;\n\n\t            // Clamp\n\t            words[sigBytes >>> 2] &= 0xffffffff << (32 - (sigBytes % 4) * 8);\n\t            words.length = Math.ceil(sigBytes / 4);\n\t        },\n\n\t        /**\n\t         * Creates a copy of this word array.\n\t         *\n\t         * @return {WordArray} The clone.\n\t         *\n\t         * @example\n\t         *\n\t         *     var clone = wordArray.clone();\n\t         */\n\t        clone: function () {\n\t            var clone = Base.clone.call(this);\n\t            clone.words = this.words.slice(0);\n\n\t            return clone;\n\t        },\n\n\t        /**\n\t         * Creates a word array filled with random bytes.\n\t         *\n\t         * @param {number} nBytes The number of random bytes to generate.\n\t         *\n\t         * @return {WordArray} The random word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.lib.WordArray.random(16);\n\t         */\n\t        random: function (nBytes) {\n\t            var words = [];\n\n\t            var r = (function (m_w) {\n\t                var m_w = m_w;\n\t                var m_z = 0x3ade68b1;\n\t                var mask = 0xffffffff;\n\n\t                return function () {\n\t                    m_z = (0x9069 * (m_z & 0xFFFF) + (m_z >> 0x10)) & mask;\n\t                    m_w = (0x4650 * (m_w & 0xFFFF) + (m_w >> 0x10)) & mask;\n\t                    var result = ((m_z << 0x10) + m_w) & mask;\n\t                    result /= 0x100000000;\n\t                    result += 0.5;\n\t                    return result * (Math.random() > .5 ? 1 : -1);\n\t                }\n\t            });\n\n\t            for (var i = 0, rcache; i < nBytes; i += 4) {\n\t                var _r = r((rcache || Math.random()) * 0x100000000);\n\n\t                rcache = _r() * 0x3ade67b7;\n\t                words.push((_r() * 0x100000000) | 0);\n\t            }\n\n\t            return new WordArray.init(words, nBytes);\n\t        }\n\t    });\n\n\t    /**\n\t     * Encoder namespace.\n\t     */\n\t    var C_enc = C.enc = {};\n\n\t    /**\n\t     * Hex encoding strategy.\n\t     */\n\t    var Hex = C_enc.Hex = {\n\t        /**\n\t         * Converts a word array to a hex string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The hex string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var hexString = CryptoJS.enc.Hex.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\n\t            // Convert\n\t            var hexChars = [];\n\t            for (var i = 0; i < sigBytes; i++) {\n\t                var bite = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                hexChars.push((bite >>> 4).toString(16));\n\t                hexChars.push((bite & 0x0f).toString(16));\n\t            }\n\n\t            return hexChars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a hex string to a word array.\n\t         *\n\t         * @param {string} hexStr The hex string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Hex.parse(hexString);\n\t         */\n\t        parse: function (hexStr) {\n\t            // Shortcut\n\t            var hexStrLength = hexStr.length;\n\n\t            // Convert\n\t            var words = [];\n\t            for (var i = 0; i < hexStrLength; i += 2) {\n\t                words[i >>> 3] |= parseInt(hexStr.substr(i, 2), 16) << (24 - (i % 8) * 4);\n\t            }\n\n\t            return new WordArray.init(words, hexStrLength / 2);\n\t        }\n\t    };\n\n\t    /**\n\t     * Latin1 encoding strategy.\n\t     */\n\t    var Latin1 = C_enc.Latin1 = {\n\t        /**\n\t         * Converts a word array to a Latin1 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The Latin1 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var latin1String = CryptoJS.enc.Latin1.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\n\t            // Convert\n\t            var latin1Chars = [];\n\t            for (var i = 0; i < sigBytes; i++) {\n\t                var bite = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                latin1Chars.push(String.fromCharCode(bite));\n\t            }\n\n\t            return latin1Chars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a Latin1 string to a word array.\n\t         *\n\t         * @param {string} latin1Str The Latin1 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Latin1.parse(latin1String);\n\t         */\n\t        parse: function (latin1Str) {\n\t            // Shortcut\n\t            var latin1StrLength = latin1Str.length;\n\n\t            // Convert\n\t            var words = [];\n\t            for (var i = 0; i < latin1StrLength; i++) {\n\t                words[i >>> 2] |= (latin1Str.charCodeAt(i) & 0xff) << (24 - (i % 4) * 8);\n\t            }\n\n\t            return new WordArray.init(words, latin1StrLength);\n\t        }\n\t    };\n\n\t    /**\n\t     * UTF-8 encoding strategy.\n\t     */\n\t    var Utf8 = C_enc.Utf8 = {\n\t        /**\n\t         * Converts a word array to a UTF-8 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The UTF-8 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var utf8String = CryptoJS.enc.Utf8.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            try {\n\t                return decodeURIComponent(escape(Latin1.stringify(wordArray)));\n\t            } catch (e) {\n\t                throw new Error('Malformed UTF-8 data');\n\t            }\n\t        },\n\n\t        /**\n\t         * Converts a UTF-8 string to a word array.\n\t         *\n\t         * @param {string} utf8Str The UTF-8 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Utf8.parse(utf8String);\n\t         */\n\t        parse: function (utf8Str) {\n\t            return Latin1.parse(unescape(encodeURIComponent(utf8Str)));\n\t        }\n\t    };\n\n\t    /**\n\t     * Abstract buffered block algorithm template.\n\t     *\n\t     * The property blockSize must be implemented in a concrete subtype.\n\t     *\n\t     * @property {number} _minBufferSize The number of blocks that should be kept unprocessed in the buffer. Default: 0\n\t     */\n\t    var BufferedBlockAlgorithm = C_lib.BufferedBlockAlgorithm = Base.extend({\n\t        /**\n\t         * Resets this block algorithm's data buffer to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     bufferedBlockAlgorithm.reset();\n\t         */\n\t        reset: function () {\n\t            // Initial values\n\t            this._data = new WordArray.init();\n\t            this._nDataBytes = 0;\n\t        },\n\n\t        /**\n\t         * Adds new data to this block algorithm's buffer.\n\t         *\n\t         * @param {WordArray|string} data The data to append. Strings are converted to a WordArray using UTF-8.\n\t         *\n\t         * @example\n\t         *\n\t         *     bufferedBlockAlgorithm._append('data');\n\t         *     bufferedBlockAlgorithm._append(wordArray);\n\t         */\n\t        _append: function (data) {\n\t            // Convert string to WordArray, else assume WordArray already\n\t            if (typeof data == 'string') {\n\t                data = Utf8.parse(data);\n\t            }\n\n\t            // Append\n\t            this._data.concat(data);\n\t            this._nDataBytes += data.sigBytes;\n\t        },\n\n\t        /**\n\t         * Processes available data blocks.\n\t         *\n\t         * This method invokes _doProcessBlock(offset), which must be implemented by a concrete subtype.\n\t         *\n\t         * @param {boolean} doFlush Whether all blocks and partial blocks should be processed.\n\t         *\n\t         * @return {WordArray} The processed data.\n\t         *\n\t         * @example\n\t         *\n\t         *     var processedData = bufferedBlockAlgorithm._process();\n\t         *     var processedData = bufferedBlockAlgorithm._process(!!'flush');\n\t         */\n\t        _process: function (doFlush) {\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\t            var dataSigBytes = data.sigBytes;\n\t            var blockSize = this.blockSize;\n\t            var blockSizeBytes = blockSize * 4;\n\n\t            // Count blocks ready\n\t            var nBlocksReady = dataSigBytes / blockSizeBytes;\n\t            if (doFlush) {\n\t                // Round up to include partial blocks\n\t                nBlocksReady = Math.ceil(nBlocksReady);\n\t            } else {\n\t                // Round down to include only full blocks,\n\t                // less the number of blocks that must remain in the buffer\n\t                nBlocksReady = Math.max((nBlocksReady | 0) - this._minBufferSize, 0);\n\t            }\n\n\t            // Count words ready\n\t            var nWordsReady = nBlocksReady * blockSize;\n\n\t            // Count bytes ready\n\t            var nBytesReady = Math.min(nWordsReady * 4, dataSigBytes);\n\n\t            // Process blocks\n\t            if (nWordsReady) {\n\t                for (var offset = 0; offset < nWordsReady; offset += blockSize) {\n\t                    // Perform concrete-algorithm logic\n\t                    this._doProcessBlock(dataWords, offset);\n\t                }\n\n\t                // Remove processed words\n\t                var processedWords = dataWords.splice(0, nWordsReady);\n\t                data.sigBytes -= nBytesReady;\n\t            }\n\n\t            // Return processed words\n\t            return new WordArray.init(processedWords, nBytesReady);\n\t        },\n\n\t        /**\n\t         * Creates a copy of this object.\n\t         *\n\t         * @return {Object} The clone.\n\t         *\n\t         * @example\n\t         *\n\t         *     var clone = bufferedBlockAlgorithm.clone();\n\t         */\n\t        clone: function () {\n\t            var clone = Base.clone.call(this);\n\t            clone._data = this._data.clone();\n\n\t            return clone;\n\t        },\n\n\t        _minBufferSize: 0\n\t    });\n\n\t    /**\n\t     * Abstract hasher template.\n\t     *\n\t     * @property {number} blockSize The number of 32-bit words this hasher operates on. Default: 16 (512 bits)\n\t     */\n\t    var Hasher = C_lib.Hasher = BufferedBlockAlgorithm.extend({\n\t        /**\n\t         * Configuration options.\n\t         */\n\t        cfg: Base.extend(),\n\n\t        /**\n\t         * Initializes a newly created hasher.\n\t         *\n\t         * @param {Object} cfg (Optional) The configuration options to use for this hash computation.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hasher = CryptoJS.algo.SHA256.create();\n\t         */\n\t        init: function (cfg) {\n\t            // Apply config defaults\n\t            this.cfg = this.cfg.extend(cfg);\n\n\t            // Set initial values\n\t            this.reset();\n\t        },\n\n\t        /**\n\t         * Resets this hasher to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     hasher.reset();\n\t         */\n\t        reset: function () {\n\t            // Reset data buffer\n\t            BufferedBlockAlgorithm.reset.call(this);\n\n\t            // Perform concrete-hasher logic\n\t            this._doReset();\n\t        },\n\n\t        /**\n\t         * Updates this hasher with a message.\n\t         *\n\t         * @param {WordArray|string} messageUpdate The message to append.\n\t         *\n\t         * @return {Hasher} This hasher.\n\t         *\n\t         * @example\n\t         *\n\t         *     hasher.update('message');\n\t         *     hasher.update(wordArray);\n\t         */\n\t        update: function (messageUpdate) {\n\t            // Append\n\t            this._append(messageUpdate);\n\n\t            // Update the hash\n\t            this._process();\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Finalizes the hash computation.\n\t         * Note that the finalize operation is effectively a destructive, read-once operation.\n\t         *\n\t         * @param {WordArray|string} messageUpdate (Optional) A final message update.\n\t         *\n\t         * @return {WordArray} The hash.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hash = hasher.finalize();\n\t         *     var hash = hasher.finalize('message');\n\t         *     var hash = hasher.finalize(wordArray);\n\t         */\n\t        finalize: function (messageUpdate) {\n\t            // Final message update\n\t            if (messageUpdate) {\n\t                this._append(messageUpdate);\n\t            }\n\n\t            // Perform concrete-hasher logic\n\t            var hash = this._doFinalize();\n\n\t            return hash;\n\t        },\n\n\t        blockSize: 512/32,\n\n\t        /**\n\t         * Creates a shortcut function to a hasher's object interface.\n\t         *\n\t         * @param {Hasher} hasher The hasher to create a helper for.\n\t         *\n\t         * @return {Function} The shortcut function.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var SHA256 = CryptoJS.lib.Hasher._createHelper(CryptoJS.algo.SHA256);\n\t         */\n\t        _createHelper: function (hasher) {\n\t            return function (message, cfg) {\n\t                return new hasher.init(cfg).finalize(message);\n\t            };\n\t        },\n\n\t        /**\n\t         * Creates a shortcut function to the HMAC's object interface.\n\t         *\n\t         * @param {Hasher} hasher The hasher to use in this HMAC helper.\n\t         *\n\t         * @return {Function} The shortcut function.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var HmacSHA256 = CryptoJS.lib.Hasher._createHmacHelper(CryptoJS.algo.SHA256);\n\t         */\n\t        _createHmacHelper: function (hasher) {\n\t            return function (message, key) {\n\t                return new C_algo.HMAC.init(hasher, key).finalize(message);\n\t            };\n\t        }\n\t    });\n\n\t    /**\n\t     * Algorithm namespace.\n\t     */\n\t    var C_algo = C.algo = {};\n\n\t    return C;\n\t}(Math));\n\n\n\treturn CryptoJS;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var C_enc = C.enc;\n\n\t    /**\n\t     * Base64 encoding strategy.\n\t     */\n\t    var Base64 = C_enc.Base64 = {\n\t        /**\n\t         * Converts a word array to a Base64 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The Base64 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var base64String = CryptoJS.enc.Base64.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\t            var map = this._map;\n\n\t            // Clamp excess bits\n\t            wordArray.clamp();\n\n\t            // Convert\n\t            var base64Chars = [];\n\t            for (var i = 0; i < sigBytes; i += 3) {\n\t                var byte1 = (words[i >>> 2]       >>> (24 - (i % 4) * 8))       & 0xff;\n\t                var byte2 = (words[(i + 1) >>> 2] >>> (24 - ((i + 1) % 4) * 8)) & 0xff;\n\t                var byte3 = (words[(i + 2) >>> 2] >>> (24 - ((i + 2) % 4) * 8)) & 0xff;\n\n\t                var triplet = (byte1 << 16) | (byte2 << 8) | byte3;\n\n\t                for (var j = 0; (j < 4) && (i + j * 0.75 < sigBytes); j++) {\n\t                    base64Chars.push(map.charAt((triplet >>> (6 * (3 - j))) & 0x3f));\n\t                }\n\t            }\n\n\t            // Add padding\n\t            var paddingChar = map.charAt(64);\n\t            if (paddingChar) {\n\t                while (base64Chars.length % 4) {\n\t                    base64Chars.push(paddingChar);\n\t                }\n\t            }\n\n\t            return base64Chars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a Base64 string to a word array.\n\t         *\n\t         * @param {string} base64Str The Base64 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Base64.parse(base64String);\n\t         */\n\t        parse: function (base64Str) {\n\t            // Shortcuts\n\t            var base64StrLength = base64Str.length;\n\t            var map = this._map;\n\t            var reverseMap = this._reverseMap;\n\n\t            if (!reverseMap) {\n\t                    reverseMap = this._reverseMap = [];\n\t                    for (var j = 0; j < map.length; j++) {\n\t                        reverseMap[map.charCodeAt(j)] = j;\n\t                    }\n\t            }\n\n\t            // Ignore padding\n\t            var paddingChar = map.charAt(64);\n\t            if (paddingChar) {\n\t                var paddingIndex = base64Str.indexOf(paddingChar);\n\t                if (paddingIndex !== -1) {\n\t                    base64StrLength = paddingIndex;\n\t                }\n\t            }\n\n\t            // Convert\n\t            return parseLoop(base64Str, base64StrLength, reverseMap);\n\n\t        },\n\n\t        _map: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='\n\t    };\n\n\t    function parseLoop(base64Str, base64StrLength, reverseMap) {\n\t      var words = [];\n\t      var nBytes = 0;\n\t      for (var i = 0; i < base64StrLength; i++) {\n\t          if (i % 4) {\n\t              var bits1 = reverseMap[base64Str.charCodeAt(i - 1)] << ((i % 4) * 2);\n\t              var bits2 = reverseMap[base64Str.charCodeAt(i)] >>> (6 - (i % 4) * 2);\n\t              words[nBytes >>> 2] |= (bits1 | bits2) << (24 - (nBytes % 4) * 8);\n\t              nBytes++;\n\t          }\n\t      }\n\t      return WordArray.create(words, nBytes);\n\t    }\n\t}());\n\n\n\treturn CryptoJS.enc.Base64;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function (Math) {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var Hasher = C_lib.Hasher;\n\t    var C_algo = C.algo;\n\n\t    // Constants table\n\t    var T = [];\n\n\t    // Compute constants\n\t    (function () {\n\t        for (var i = 0; i < 64; i++) {\n\t            T[i] = (Math.abs(Math.sin(i + 1)) * 0x100000000) | 0;\n\t        }\n\t    }());\n\n\t    /**\n\t     * MD5 hash algorithm.\n\t     */\n\t    var MD5 = C_algo.MD5 = Hasher.extend({\n\t        _doReset: function () {\n\t            this._hash = new WordArray.init([\n\t                0x67452301, 0xefcdab89,\n\t                0x98badcfe, 0x10325476\n\t            ]);\n\t        },\n\n\t        _doProcessBlock: function (M, offset) {\n\t            // Swap endian\n\t            for (var i = 0; i < 16; i++) {\n\t                // Shortcuts\n\t                var offset_i = offset + i;\n\t                var M_offset_i = M[offset_i];\n\n\t                M[offset_i] = (\n\t                    (((M_offset_i << 8)  | (M_offset_i >>> 24)) & 0x00ff00ff) |\n\t                    (((M_offset_i << 24) | (M_offset_i >>> 8))  & 0xff00ff00)\n\t                );\n\t            }\n\n\t            // Shortcuts\n\t            var H = this._hash.words;\n\n\t            var M_offset_0  = M[offset + 0];\n\t            var M_offset_1  = M[offset + 1];\n\t            var M_offset_2  = M[offset + 2];\n\t            var M_offset_3  = M[offset + 3];\n\t            var M_offset_4  = M[offset + 4];\n\t            var M_offset_5  = M[offset + 5];\n\t            var M_offset_6  = M[offset + 6];\n\t            var M_offset_7  = M[offset + 7];\n\t            var M_offset_8  = M[offset + 8];\n\t            var M_offset_9  = M[offset + 9];\n\t            var M_offset_10 = M[offset + 10];\n\t            var M_offset_11 = M[offset + 11];\n\t            var M_offset_12 = M[offset + 12];\n\t            var M_offset_13 = M[offset + 13];\n\t            var M_offset_14 = M[offset + 14];\n\t            var M_offset_15 = M[offset + 15];\n\n\t            // Working varialbes\n\t            var a = H[0];\n\t            var b = H[1];\n\t            var c = H[2];\n\t            var d = H[3];\n\n\t            // Computation\n\t            a = FF(a, b, c, d, M_offset_0,  7,  T[0]);\n\t            d = FF(d, a, b, c, M_offset_1,  12, T[1]);\n\t            c = FF(c, d, a, b, M_offset_2,  17, T[2]);\n\t            b = FF(b, c, d, a, M_offset_3,  22, T[3]);\n\t            a = FF(a, b, c, d, M_offset_4,  7,  T[4]);\n\t            d = FF(d, a, b, c, M_offset_5,  12, T[5]);\n\t            c = FF(c, d, a, b, M_offset_6,  17, T[6]);\n\t            b = FF(b, c, d, a, M_offset_7,  22, T[7]);\n\t            a = FF(a, b, c, d, M_offset_8,  7,  T[8]);\n\t            d = FF(d, a, b, c, M_offset_9,  12, T[9]);\n\t            c = FF(c, d, a, b, M_offset_10, 17, T[10]);\n\t            b = FF(b, c, d, a, M_offset_11, 22, T[11]);\n\t            a = FF(a, b, c, d, M_offset_12, 7,  T[12]);\n\t            d = FF(d, a, b, c, M_offset_13, 12, T[13]);\n\t            c = FF(c, d, a, b, M_offset_14, 17, T[14]);\n\t            b = FF(b, c, d, a, M_offset_15, 22, T[15]);\n\n\t            a = GG(a, b, c, d, M_offset_1,  5,  T[16]);\n\t            d = GG(d, a, b, c, M_offset_6,  9,  T[17]);\n\t            c = GG(c, d, a, b, M_offset_11, 14, T[18]);\n\t            b = GG(b, c, d, a, M_offset_0,  20, T[19]);\n\t            a = GG(a, b, c, d, M_offset_5,  5,  T[20]);\n\t            d = GG(d, a, b, c, M_offset_10, 9,  T[21]);\n\t            c = GG(c, d, a, b, M_offset_15, 14, T[22]);\n\t            b = GG(b, c, d, a, M_offset_4,  20, T[23]);\n\t            a = GG(a, b, c, d, M_offset_9,  5,  T[24]);\n\t            d = GG(d, a, b, c, M_offset_14, 9,  T[25]);\n\t            c = GG(c, d, a, b, M_offset_3,  14, T[26]);\n\t            b = GG(b, c, d, a, M_offset_8,  20, T[27]);\n\t            a = GG(a, b, c, d, M_offset_13, 5,  T[28]);\n\t            d = GG(d, a, b, c, M_offset_2,  9,  T[29]);\n\t            c = GG(c, d, a, b, M_offset_7,  14, T[30]);\n\t            b = GG(b, c, d, a, M_offset_12, 20, T[31]);\n\n\t            a = HH(a, b, c, d, M_offset_5,  4,  T[32]);\n\t            d = HH(d, a, b, c, M_offset_8,  11, T[33]);\n\t            c = HH(c, d, a, b, M_offset_11, 16, T[34]);\n\t            b = HH(b, c, d, a, M_offset_14, 23, T[35]);\n\t            a = HH(a, b, c, d, M_offset_1,  4,  T[36]);\n\t            d = HH(d, a, b, c, M_offset_4,  11, T[37]);\n\t            c = HH(c, d, a, b, M_offset_7,  16, T[38]);\n\t            b = HH(b, c, d, a, M_offset_10, 23, T[39]);\n\t            a = HH(a, b, c, d, M_offset_13, 4,  T[40]);\n\t            d = HH(d, a, b, c, M_offset_0,  11, T[41]);\n\t            c = HH(c, d, a, b, M_offset_3,  16, T[42]);\n\t            b = HH(b, c, d, a, M_offset_6,  23, T[43]);\n\t            a = HH(a, b, c, d, M_offset_9,  4,  T[44]);\n\t            d = HH(d, a, b, c, M_offset_12, 11, T[45]);\n\t            c = HH(c, d, a, b, M_offset_15, 16, T[46]);\n\t            b = HH(b, c, d, a, M_offset_2,  23, T[47]);\n\n\t            a = II(a, b, c, d, M_offset_0,  6,  T[48]);\n\t            d = II(d, a, b, c, M_offset_7,  10, T[49]);\n\t            c = II(c, d, a, b, M_offset_14, 15, T[50]);\n\t            b = II(b, c, d, a, M_offset_5,  21, T[51]);\n\t            a = II(a, b, c, d, M_offset_12, 6,  T[52]);\n\t            d = II(d, a, b, c, M_offset_3,  10, T[53]);\n\t            c = II(c, d, a, b, M_offset_10, 15, T[54]);\n\t            b = II(b, c, d, a, M_offset_1,  21, T[55]);\n\t            a = II(a, b, c, d, M_offset_8,  6,  T[56]);\n\t            d = II(d, a, b, c, M_offset_15, 10, T[57]);\n\t            c = II(c, d, a, b, M_offset_6,  15, T[58]);\n\t            b = II(b, c, d, a, M_offset_13, 21, T[59]);\n\t            a = II(a, b, c, d, M_offset_4,  6,  T[60]);\n\t            d = II(d, a, b, c, M_offset_11, 10, T[61]);\n\t            c = II(c, d, a, b, M_offset_2,  15, T[62]);\n\t            b = II(b, c, d, a, M_offset_9,  21, T[63]);\n\n\t            // Intermediate hash value\n\t            H[0] = (H[0] + a) | 0;\n\t            H[1] = (H[1] + b) | 0;\n\t            H[2] = (H[2] + c) | 0;\n\t            H[3] = (H[3] + d) | 0;\n\t        },\n\n\t        _doFinalize: function () {\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\n\t            var nBitsTotal = this._nDataBytes * 8;\n\t            var nBitsLeft = data.sigBytes * 8;\n\n\t            // Add padding\n\t            dataWords[nBitsLeft >>> 5] |= 0x80 << (24 - nBitsLeft % 32);\n\n\t            var nBitsTotalH = Math.floor(nBitsTotal / 0x100000000);\n\t            var nBitsTotalL = nBitsTotal;\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 15] = (\n\t                (((nBitsTotalH << 8)  | (nBitsTotalH >>> 24)) & 0x00ff00ff) |\n\t                (((nBitsTotalH << 24) | (nBitsTotalH >>> 8))  & 0xff00ff00)\n\t            );\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 14] = (\n\t                (((nBitsTotalL << 8)  | (nBitsTotalL >>> 24)) & 0x00ff00ff) |\n\t                (((nBitsTotalL << 24) | (nBitsTotalL >>> 8))  & 0xff00ff00)\n\t            );\n\n\t            data.sigBytes = (dataWords.length + 1) * 4;\n\n\t            // Hash final blocks\n\t            this._process();\n\n\t            // Shortcuts\n\t            var hash = this._hash;\n\t            var H = hash.words;\n\n\t            // Swap endian\n\t            for (var i = 0; i < 4; i++) {\n\t                // Shortcut\n\t                var H_i = H[i];\n\n\t                H[i] = (((H_i << 8)  | (H_i >>> 24)) & 0x00ff00ff) |\n\t                       (((H_i << 24) | (H_i >>> 8))  & 0xff00ff00);\n\t            }\n\n\t            // Return final computed hash\n\t            return hash;\n\t        },\n\n\t        clone: function () {\n\t            var clone = Hasher.clone.call(this);\n\t            clone._hash = this._hash.clone();\n\n\t            return clone;\n\t        }\n\t    });\n\n\t    function FF(a, b, c, d, x, s, t) {\n\t        var n = a + ((b & c) | (~b & d)) + x + t;\n\t        return ((n << s) | (n >>> (32 - s))) + b;\n\t    }\n\n\t    function GG(a, b, c, d, x, s, t) {\n\t        var n = a + ((b & d) | (c & ~d)) + x + t;\n\t        return ((n << s) | (n >>> (32 - s))) + b;\n\t    }\n\n\t    function HH(a, b, c, d, x, s, t) {\n\t        var n = a + (b ^ c ^ d) + x + t;\n\t        return ((n << s) | (n >>> (32 - s))) + b;\n\t    }\n\n\t    function II(a, b, c, d, x, s, t) {\n\t        var n = a + (c ^ (b | ~d)) + x + t;\n\t        return ((n << s) | (n >>> (32 - s))) + b;\n\t    }\n\n\t    /**\n\t     * Shortcut function to the hasher's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     *\n\t     * @return {WordArray} The hash.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hash = CryptoJS.MD5('message');\n\t     *     var hash = CryptoJS.MD5(wordArray);\n\t     */\n\t    C.MD5 = Hasher._createHelper(MD5);\n\n\t    /**\n\t     * Shortcut function to the HMAC's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     * @param {WordArray|string} key The secret key.\n\t     *\n\t     * @return {WordArray} The HMAC.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hmac = CryptoJS.HmacMD5(message, key);\n\t     */\n\t    C.HmacMD5 = Hasher._createHmacHelper(MD5);\n\t}(Math));\n\n\n\treturn CryptoJS.MD5;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var Hasher = C_lib.Hasher;\n\t    var C_algo = C.algo;\n\n\t    // Reusable object\n\t    var W = [];\n\n\t    /**\n\t     * SHA-1 hash algorithm.\n\t     */\n\t    var SHA1 = C_algo.SHA1 = Hasher.extend({\n\t        _doReset: function () {\n\t            this._hash = new WordArray.init([\n\t                0x67452301, 0xefcdab89,\n\t                0x98badcfe, 0x10325476,\n\t                0xc3d2e1f0\n\t            ]);\n\t        },\n\n\t        _doProcessBlock: function (M, offset) {\n\t            // Shortcut\n\t            var H = this._hash.words;\n\n\t            // Working variables\n\t            var a = H[0];\n\t            var b = H[1];\n\t            var c = H[2];\n\t            var d = H[3];\n\t            var e = H[4];\n\n\t            // Computation\n\t            for (var i = 0; i < 80; i++) {\n\t                if (i < 16) {\n\t                    W[i] = M[offset + i] | 0;\n\t                } else {\n\t                    var n = W[i - 3] ^ W[i - 8] ^ W[i - 14] ^ W[i - 16];\n\t                    W[i] = (n << 1) | (n >>> 31);\n\t                }\n\n\t                var t = ((a << 5) | (a >>> 27)) + e + W[i];\n\t                if (i < 20) {\n\t                    t += ((b & c) | (~b & d)) + 0x5a827999;\n\t                } else if (i < 40) {\n\t                    t += (b ^ c ^ d) + 0x6ed9eba1;\n\t                } else if (i < 60) {\n\t                    t += ((b & c) | (b & d) | (c & d)) - 0x70e44324;\n\t                } else /* if (i < 80) */ {\n\t                    t += (b ^ c ^ d) - 0x359d3e2a;\n\t                }\n\n\t                e = d;\n\t                d = c;\n\t                c = (b << 30) | (b >>> 2);\n\t                b = a;\n\t                a = t;\n\t            }\n\n\t            // Intermediate hash value\n\t            H[0] = (H[0] + a) | 0;\n\t            H[1] = (H[1] + b) | 0;\n\t            H[2] = (H[2] + c) | 0;\n\t            H[3] = (H[3] + d) | 0;\n\t            H[4] = (H[4] + e) | 0;\n\t        },\n\n\t        _doFinalize: function () {\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\n\t            var nBitsTotal = this._nDataBytes * 8;\n\t            var nBitsLeft = data.sigBytes * 8;\n\n\t            // Add padding\n\t            dataWords[nBitsLeft >>> 5] |= 0x80 << (24 - nBitsLeft % 32);\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 14] = Math.floor(nBitsTotal / 0x100000000);\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 15] = nBitsTotal;\n\t            data.sigBytes = dataWords.length * 4;\n\n\t            // Hash final blocks\n\t            this._process();\n\n\t            // Return final computed hash\n\t            return this._hash;\n\t        },\n\n\t        clone: function () {\n\t            var clone = Hasher.clone.call(this);\n\t            clone._hash = this._hash.clone();\n\n\t            return clone;\n\t        }\n\t    });\n\n\t    /**\n\t     * Shortcut function to the hasher's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     *\n\t     * @return {WordArray} The hash.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hash = CryptoJS.SHA1('message');\n\t     *     var hash = CryptoJS.SHA1(wordArray);\n\t     */\n\t    C.SHA1 = Hasher._createHelper(SHA1);\n\n\t    /**\n\t     * Shortcut function to the HMAC's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     * @param {WordArray|string} key The secret key.\n\t     *\n\t     * @return {WordArray} The HMAC.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hmac = CryptoJS.HmacSHA1(message, key);\n\t     */\n\t    C.HmacSHA1 = Hasher._createHmacHelper(SHA1);\n\t}());\n\n\n\treturn CryptoJS.SHA1;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var Base = C_lib.Base;\n\t    var C_enc = C.enc;\n\t    var Utf8 = C_enc.Utf8;\n\t    var C_algo = C.algo;\n\n\t    /**\n\t     * HMAC algorithm.\n\t     */\n\t    var HMAC = C_algo.HMAC = Base.extend({\n\t        /**\n\t         * Initializes a newly created HMAC.\n\t         *\n\t         * @param {Hasher} hasher The hash algorithm to use.\n\t         * @param {WordArray|string} key The secret key.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hmacHasher = CryptoJS.algo.HMAC.create(CryptoJS.algo.SHA256, key);\n\t         */\n\t        init: function (hasher, key) {\n\t            // Init hasher\n\t            hasher = this._hasher = new hasher.init();\n\n\t            // Convert string to WordArray, else assume WordArray already\n\t            if (typeof key == 'string') {\n\t                key = Utf8.parse(key);\n\t            }\n\n\t            // Shortcuts\n\t            var hasherBlockSize = hasher.blockSize;\n\t            var hasherBlockSizeBytes = hasherBlockSize * 4;\n\n\t            // Allow arbitrary length keys\n\t            if (key.sigBytes > hasherBlockSizeBytes) {\n\t                key = hasher.finalize(key);\n\t            }\n\n\t            // Clamp excess bits\n\t            key.clamp();\n\n\t            // Clone key for inner and outer pads\n\t            var oKey = this._oKey = key.clone();\n\t            var iKey = this._iKey = key.clone();\n\n\t            // Shortcuts\n\t            var oKeyWords = oKey.words;\n\t            var iKeyWords = iKey.words;\n\n\t            // XOR keys with pad constants\n\t            for (var i = 0; i < hasherBlockSize; i++) {\n\t                oKeyWords[i] ^= 0x5c5c5c5c;\n\t                iKeyWords[i] ^= 0x36363636;\n\t            }\n\t            oKey.sigBytes = iKey.sigBytes = hasherBlockSizeBytes;\n\n\t            // Set initial values\n\t            this.reset();\n\t        },\n\n\t        /**\n\t         * Resets this HMAC to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     hmacHasher.reset();\n\t         */\n\t        reset: function () {\n\t            // Shortcut\n\t            var hasher = this._hasher;\n\n\t            // Reset\n\t            hasher.reset();\n\t            hasher.update(this._iKey);\n\t        },\n\n\t        /**\n\t         * Updates this HMAC with a message.\n\t         *\n\t         * @param {WordArray|string} messageUpdate The message to append.\n\t         *\n\t         * @return {HMAC} This HMAC instance.\n\t         *\n\t         * @example\n\t         *\n\t         *     hmacHasher.update('message');\n\t         *     hmacHasher.update(wordArray);\n\t         */\n\t        update: function (messageUpdate) {\n\t            this._hasher.update(messageUpdate);\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Finalizes the HMAC computation.\n\t         * Note that the finalize operation is effectively a destructive, read-once operation.\n\t         *\n\t         * @param {WordArray|string} messageUpdate (Optional) A final message update.\n\t         *\n\t         * @return {WordArray} The HMAC.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hmac = hmacHasher.finalize();\n\t         *     var hmac = hmacHasher.finalize('message');\n\t         *     var hmac = hmacHasher.finalize(wordArray);\n\t         */\n\t        finalize: function (messageUpdate) {\n\t            // Shortcut\n\t            var hasher = this._hasher;\n\n\t            // Compute HMAC\n\t            var innerHash = hasher.finalize(messageUpdate);\n\t            hasher.reset();\n\t            var hmac = hasher.finalize(this._oKey.clone().concat(innerHash));\n\n\t            return hmac;\n\t        }\n\t    });\n\t}());\n\n\n}));",";(function (root, factory, undef) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"), require(\"./sha1\"), require(\"./hmac\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\", \"./sha1\", \"./hmac\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var Base = C_lib.Base;\n\t    var WordArray = C_lib.WordArray;\n\t    var C_algo = C.algo;\n\t    var MD5 = C_algo.MD5;\n\n\t    /**\n\t     * This key derivation function is meant to conform with EVP_BytesToKey.\n\t     * www.openssl.org/docs/crypto/EVP_BytesToKey.html\n\t     */\n\t    var EvpKDF = C_algo.EvpKDF = Base.extend({\n\t        /**\n\t         * Configuration options.\n\t         *\n\t         * @property {number} keySize The key size in words to generate. Default: 4 (128 bits)\n\t         * @property {Hasher} hasher The hash algorithm to use. Default: MD5\n\t         * @property {number} iterations The number of iterations to perform. Default: 1\n\t         */\n\t        cfg: Base.extend({\n\t            keySize: 128/32,\n\t            hasher: MD5,\n\t            iterations: 1\n\t        }),\n\n\t        /**\n\t         * Initializes a newly created key derivation function.\n\t         *\n\t         * @param {Object} cfg (Optional) The configuration options to use for the derivation.\n\t         *\n\t         * @example\n\t         *\n\t         *     var kdf = CryptoJS.algo.EvpKDF.create();\n\t         *     var kdf = CryptoJS.algo.EvpKDF.create({ keySize: 8 });\n\t         *     var kdf = CryptoJS.algo.EvpKDF.create({ keySize: 8, iterations: 1000 });\n\t         */\n\t        init: function (cfg) {\n\t            this.cfg = this.cfg.extend(cfg);\n\t        },\n\n\t        /**\n\t         * Derives a key from a password.\n\t         *\n\t         * @param {WordArray|string} password The password.\n\t         * @param {WordArray|string} salt A salt.\n\t         *\n\t         * @return {WordArray} The derived key.\n\t         *\n\t         * @example\n\t         *\n\t         *     var key = kdf.compute(password, salt);\n\t         */\n\t        compute: function (password, salt) {\n\t            // Shortcut\n\t            var cfg = this.cfg;\n\n\t            // Init hasher\n\t            var hasher = cfg.hasher.create();\n\n\t            // Initial values\n\t            var derivedKey = WordArray.create();\n\n\t            // Shortcuts\n\t            var derivedKeyWords = derivedKey.words;\n\t            var keySize = cfg.keySize;\n\t            var iterations = cfg.iterations;\n\n\t            // Generate key\n\t            while (derivedKeyWords.length < keySize) {\n\t                if (block) {\n\t                    hasher.update(block);\n\t                }\n\t                var block = hasher.update(password).finalize(salt);\n\t                hasher.reset();\n\n\t                // Iterations\n\t                for (var i = 1; i < iterations; i++) {\n\t                    block = hasher.finalize(block);\n\t                    hasher.reset();\n\t                }\n\n\t                derivedKey.concat(block);\n\t            }\n\t            derivedKey.sigBytes = keySize * 4;\n\n\t            return derivedKey;\n\t        }\n\t    });\n\n\t    /**\n\t     * Derives a key from a password.\n\t     *\n\t     * @param {WordArray|string} password The password.\n\t     * @param {WordArray|string} salt A salt.\n\t     * @param {Object} cfg (Optional) The configuration options to use for this computation.\n\t     *\n\t     * @return {WordArray} The derived key.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var key = CryptoJS.EvpKDF(password, salt);\n\t     *     var key = CryptoJS.EvpKDF(password, salt, { keySize: 8 });\n\t     *     var key = CryptoJS.EvpKDF(password, salt, { keySize: 8, iterations: 1000 });\n\t     */\n\t    C.EvpKDF = function (password, salt, cfg) {\n\t        return EvpKDF.create(cfg).compute(password, salt);\n\t    };\n\t}());\n\n\n\treturn CryptoJS.EvpKDF;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t/**\n\t * Cipher core components.\n\t */\n\tCryptoJS.lib.Cipher || (function (undefined) {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var Base = C_lib.Base;\n\t    var WordArray = C_lib.WordArray;\n\t    var BufferedBlockAlgorithm = C_lib.BufferedBlockAlgorithm;\n\t    var C_enc = C.enc;\n\t    var Utf8 = C_enc.Utf8;\n\t    var Base64 = C_enc.Base64;\n\t    var C_algo = C.algo;\n\t    var EvpKDF = C_algo.EvpKDF;\n\n\t    /**\n\t     * Abstract base cipher template.\n\t     *\n\t     * @property {number} keySize This cipher's key size. Default: 4 (128 bits)\n\t     * @property {number} ivSize This cipher's IV size. Default: 4 (128 bits)\n\t     * @property {number} _ENC_XFORM_MODE A constant representing encryption mode.\n\t     * @property {number} _DEC_XFORM_MODE A constant representing decryption mode.\n\t     */\n\t    var Cipher = C_lib.Cipher = BufferedBlockAlgorithm.extend({\n\t        /**\n\t         * Configuration options.\n\t         *\n\t         * @property {WordArray} iv The IV to use for this operation.\n\t         */\n\t        cfg: Base.extend(),\n\n\t        /**\n\t         * Creates this cipher in encryption mode.\n\t         *\n\t         * @param {WordArray} key The key.\n\t         * @param {Object} cfg (Optional) The configuration options to use for this operation.\n\t         *\n\t         * @return {Cipher} A cipher instance.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var cipher = CryptoJS.algo.AES.createEncryptor(keyWordArray, { iv: ivWordArray });\n\t         */\n\t        createEncryptor: function (key, cfg) {\n\t            return this.create(this._ENC_XFORM_MODE, key, cfg);\n\t        },\n\n\t        /**\n\t         * Creates this cipher in decryption mode.\n\t         *\n\t         * @param {WordArray} key The key.\n\t         * @param {Object} cfg (Optional) The configuration options to use for this operation.\n\t         *\n\t         * @return {Cipher} A cipher instance.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var cipher = CryptoJS.algo.AES.createDecryptor(keyWordArray, { iv: ivWordArray });\n\t         */\n\t        createDecryptor: function (key, cfg) {\n\t            return this.create(this._DEC_XFORM_MODE, key, cfg);\n\t        },\n\n\t        /**\n\t         * Initializes a newly created cipher.\n\t         *\n\t         * @param {number} xformMode Either the encryption or decryption transormation mode constant.\n\t         * @param {WordArray} key The key.\n\t         * @param {Object} cfg (Optional) The configuration options to use for this operation.\n\t         *\n\t         * @example\n\t         *\n\t         *     var cipher = CryptoJS.algo.AES.create(CryptoJS.algo.AES._ENC_XFORM_MODE, keyWordArray, { iv: ivWordArray });\n\t         */\n\t        init: function (xformMode, key, cfg) {\n\t            // Apply config defaults\n\t            this.cfg = this.cfg.extend(cfg);\n\n\t            // Store transform mode and key\n\t            this._xformMode = xformMode;\n\t            this._key = key;\n\n\t            // Set initial values\n\t            this.reset();\n\t        },\n\n\t        /**\n\t         * Resets this cipher to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     cipher.reset();\n\t         */\n\t        reset: function () {\n\t            // Reset data buffer\n\t            BufferedBlockAlgorithm.reset.call(this);\n\n\t            // Perform concrete-cipher logic\n\t            this._doReset();\n\t        },\n\n\t        /**\n\t         * Adds data to be encrypted or decrypted.\n\t         *\n\t         * @param {WordArray|string} dataUpdate The data to encrypt or decrypt.\n\t         *\n\t         * @return {WordArray} The data after processing.\n\t         *\n\t         * @example\n\t         *\n\t         *     var encrypted = cipher.process('data');\n\t         *     var encrypted = cipher.process(wordArray);\n\t         */\n\t        process: function (dataUpdate) {\n\t            // Append\n\t            this._append(dataUpdate);\n\n\t            // Process available blocks\n\t            return this._process();\n\t        },\n\n\t        /**\n\t         * Finalizes the encryption or decryption process.\n\t         * Note that the finalize operation is effectively a destructive, read-once operation.\n\t         *\n\t         * @param {WordArray|string} dataUpdate The final data to encrypt or decrypt.\n\t         *\n\t         * @return {WordArray} The data after final processing.\n\t         *\n\t         * @example\n\t         *\n\t         *     var encrypted = cipher.finalize();\n\t         *     var encrypted = cipher.finalize('data');\n\t         *     var encrypted = cipher.finalize(wordArray);\n\t         */\n\t        finalize: function (dataUpdate) {\n\t            // Final data update\n\t            if (dataUpdate) {\n\t                this._append(dataUpdate);\n\t            }\n\n\t            // Perform concrete-cipher logic\n\t            var finalProcessedData = this._doFinalize();\n\n\t            return finalProcessedData;\n\t        },\n\n\t        keySize: 128/32,\n\n\t        ivSize: 128/32,\n\n\t        _ENC_XFORM_MODE: 1,\n\n\t        _DEC_XFORM_MODE: 2,\n\n\t        /**\n\t         * Creates shortcut functions to a cipher's object interface.\n\t         *\n\t         * @param {Cipher} cipher The cipher to create a helper for.\n\t         *\n\t         * @return {Object} An object with encrypt and decrypt shortcut functions.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var AES = CryptoJS.lib.Cipher._createHelper(CryptoJS.algo.AES);\n\t         */\n\t        _createHelper: (function () {\n\t            function selectCipherStrategy(key) {\n\t                if (typeof key == 'string') {\n\t                    return PasswordBasedCipher;\n\t                } else {\n\t                    return SerializableCipher;\n\t                }\n\t            }\n\n\t            return function (cipher) {\n\t                return {\n\t                    encrypt: function (message, key, cfg) {\n\t                        return selectCipherStrategy(key).encrypt(cipher, message, key, cfg);\n\t                    },\n\n\t                    decrypt: function (ciphertext, key, cfg) {\n\t                        return selectCipherStrategy(key).decrypt(cipher, ciphertext, key, cfg);\n\t                    }\n\t                };\n\t            };\n\t        }())\n\t    });\n\n\t    /**\n\t     * Abstract base stream cipher template.\n\t     *\n\t     * @property {number} blockSize The number of 32-bit words this cipher operates on. Default: 1 (32 bits)\n\t     */\n\t    var StreamCipher = C_lib.StreamCipher = Cipher.extend({\n\t        _doFinalize: function () {\n\t            // Process partial blocks\n\t            var finalProcessedBlocks = this._process(!!'flush');\n\n\t            return finalProcessedBlocks;\n\t        },\n\n\t        blockSize: 1\n\t    });\n\n\t    /**\n\t     * Mode namespace.\n\t     */\n\t    var C_mode = C.mode = {};\n\n\t    /**\n\t     * Abstract base block cipher mode template.\n\t     */\n\t    var BlockCipherMode = C_lib.BlockCipherMode = Base.extend({\n\t        /**\n\t         * Creates this mode for encryption.\n\t         *\n\t         * @param {Cipher} cipher A block cipher instance.\n\t         * @param {Array} iv The IV words.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var mode = CryptoJS.mode.CBC.createEncryptor(cipher, iv.words);\n\t         */\n\t        createEncryptor: function (cipher, iv) {\n\t            return this.Encryptor.create(cipher, iv);\n\t        },\n\n\t        /**\n\t         * Creates this mode for decryption.\n\t         *\n\t         * @param {Cipher} cipher A block cipher instance.\n\t         * @param {Array} iv The IV words.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var mode = CryptoJS.mode.CBC.createDecryptor(cipher, iv.words);\n\t         */\n\t        createDecryptor: function (cipher, iv) {\n\t            return this.Decryptor.create(cipher, iv);\n\t        },\n\n\t        /**\n\t         * Initializes a newly created mode.\n\t         *\n\t         * @param {Cipher} cipher A block cipher instance.\n\t         * @param {Array} iv The IV words.\n\t         *\n\t         * @example\n\t         *\n\t         *     var mode = CryptoJS.mode.CBC.Encryptor.create(cipher, iv.words);\n\t         */\n\t        init: function (cipher, iv) {\n\t            this._cipher = cipher;\n\t            this._iv = iv;\n\t        }\n\t    });\n\n\t    /**\n\t     * Cipher Block Chaining mode.\n\t     */\n\t    var CBC = C_mode.CBC = (function () {\n\t        /**\n\t         * Abstract base CBC mode.\n\t         */\n\t        var CBC = BlockCipherMode.extend();\n\n\t        /**\n\t         * CBC encryptor.\n\t         */\n\t        CBC.Encryptor = CBC.extend({\n\t            /**\n\t             * Processes the data block at offset.\n\t             *\n\t             * @param {Array} words The data words to operate on.\n\t             * @param {number} offset The offset where the block starts.\n\t             *\n\t             * @example\n\t             *\n\t             *     mode.processBlock(data.words, offset);\n\t             */\n\t            processBlock: function (words, offset) {\n\t                // Shortcuts\n\t                var cipher = this._cipher;\n\t                var blockSize = cipher.blockSize;\n\n\t                // XOR and encrypt\n\t                xorBlock.call(this, words, offset, blockSize);\n\t                cipher.encryptBlock(words, offset);\n\n\t                // Remember this block to use with next block\n\t                this._prevBlock = words.slice(offset, offset + blockSize);\n\t            }\n\t        });\n\n\t        /**\n\t         * CBC decryptor.\n\t         */\n\t        CBC.Decryptor = CBC.extend({\n\t            /**\n\t             * Processes the data block at offset.\n\t             *\n\t             * @param {Array} words The data words to operate on.\n\t             * @param {number} offset The offset where the block starts.\n\t             *\n\t             * @example\n\t             *\n\t             *     mode.processBlock(data.words, offset);\n\t             */\n\t            processBlock: function (words, offset) {\n\t                // Shortcuts\n\t                var cipher = this._cipher;\n\t                var blockSize = cipher.blockSize;\n\n\t                // Remember this block to use with next block\n\t                var thisBlock = words.slice(offset, offset + blockSize);\n\n\t                // Decrypt and XOR\n\t                cipher.decryptBlock(words, offset);\n\t                xorBlock.call(this, words, offset, blockSize);\n\n\t                // This block becomes the previous block\n\t                this._prevBlock = thisBlock;\n\t            }\n\t        });\n\n\t        function xorBlock(words, offset, blockSize) {\n\t            // Shortcut\n\t            var iv = this._iv;\n\n\t            // Choose mixing block\n\t            if (iv) {\n\t                var block = iv;\n\n\t                // Remove IV for subsequent blocks\n\t                this._iv = undefined;\n\t            } else {\n\t                var block = this._prevBlock;\n\t            }\n\n\t            // XOR blocks\n\t            for (var i = 0; i < blockSize; i++) {\n\t                words[offset + i] ^= block[i];\n\t            }\n\t        }\n\n\t        return CBC;\n\t    }());\n\n\t    /**\n\t     * Padding namespace.\n\t     */\n\t    var C_pad = C.pad = {};\n\n\t    /**\n\t     * PKCS #5/7 padding strategy.\n\t     */\n\t    var Pkcs7 = C_pad.Pkcs7 = {\n\t        /**\n\t         * Pads data using the algorithm defined in PKCS #5/7.\n\t         *\n\t         * @param {WordArray} data The data to pad.\n\t         * @param {number} blockSize The multiple that the data should be padded to.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     CryptoJS.pad.Pkcs7.pad(wordArray, 4);\n\t         */\n\t        pad: function (data, blockSize) {\n\t            // Shortcut\n\t            var blockSizeBytes = blockSize * 4;\n\n\t            // Count padding bytes\n\t            var nPaddingBytes = blockSizeBytes - data.sigBytes % blockSizeBytes;\n\n\t            // Create padding word\n\t            var paddingWord = (nPaddingBytes << 24) | (nPaddingBytes << 16) | (nPaddingBytes << 8) | nPaddingBytes;\n\n\t            // Create padding\n\t            var paddingWords = [];\n\t            for (var i = 0; i < nPaddingBytes; i += 4) {\n\t                paddingWords.push(paddingWord);\n\t            }\n\t            var padding = WordArray.create(paddingWords, nPaddingBytes);\n\n\t            // Add padding\n\t            data.concat(padding);\n\t        },\n\n\t        /**\n\t         * Unpads data that had been padded using the algorithm defined in PKCS #5/7.\n\t         *\n\t         * @param {WordArray} data The data to unpad.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     CryptoJS.pad.Pkcs7.unpad(wordArray);\n\t         */\n\t        unpad: function (data) {\n\t            // Get number of padding bytes from last byte\n\t            var nPaddingBytes = data.words[(data.sigBytes - 1) >>> 2] & 0xff;\n\n\t            // Remove padding\n\t            data.sigBytes -= nPaddingBytes;\n\t        }\n\t    };\n\n\t    /**\n\t     * Abstract base block cipher template.\n\t     *\n\t     * @property {number} blockSize The number of 32-bit words this cipher operates on. Default: 4 (128 bits)\n\t     */\n\t    var BlockCipher = C_lib.BlockCipher = Cipher.extend({\n\t        /**\n\t         * Configuration options.\n\t         *\n\t         * @property {Mode} mode The block mode to use. Default: CBC\n\t         * @property {Padding} padding The padding strategy to use. Default: Pkcs7\n\t         */\n\t        cfg: Cipher.cfg.extend({\n\t            mode: CBC,\n\t            padding: Pkcs7\n\t        }),\n\n\t        reset: function () {\n\t            // Reset cipher\n\t            Cipher.reset.call(this);\n\n\t            // Shortcuts\n\t            var cfg = this.cfg;\n\t            var iv = cfg.iv;\n\t            var mode = cfg.mode;\n\n\t            // Reset block mode\n\t            if (this._xformMode == this._ENC_XFORM_MODE) {\n\t                var modeCreator = mode.createEncryptor;\n\t            } else /* if (this._xformMode == this._DEC_XFORM_MODE) */ {\n\t                var modeCreator = mode.createDecryptor;\n\n\t                // Keep at least one block in the buffer for unpadding\n\t                this._minBufferSize = 1;\n\t            }\n\t            this._mode = modeCreator.call(mode, this, iv && iv.words);\n\t        },\n\n\t        _doProcessBlock: function (words, offset) {\n\t            this._mode.processBlock(words, offset);\n\t        },\n\n\t        _doFinalize: function () {\n\t            // Shortcut\n\t            var padding = this.cfg.padding;\n\n\t            // Finalize\n\t            if (this._xformMode == this._ENC_XFORM_MODE) {\n\t                // Pad data\n\t                padding.pad(this._data, this.blockSize);\n\n\t                // Process final blocks\n\t                var finalProcessedBlocks = this._process(!!'flush');\n\t            } else /* if (this._xformMode == this._DEC_XFORM_MODE) */ {\n\t                // Process final blocks\n\t                var finalProcessedBlocks = this._process(!!'flush');\n\n\t                // Unpad data\n\t                padding.unpad(finalProcessedBlocks);\n\t            }\n\n\t            return finalProcessedBlocks;\n\t        },\n\n\t        blockSize: 128/32\n\t    });\n\n\t    /**\n\t     * A collection of cipher parameters.\n\t     *\n\t     * @property {WordArray} ciphertext The raw ciphertext.\n\t     * @property {WordArray} key The key to this ciphertext.\n\t     * @property {WordArray} iv The IV used in the ciphering operation.\n\t     * @property {WordArray} salt The salt used with a key derivation function.\n\t     * @property {Cipher} algorithm The cipher algorithm.\n\t     * @property {Mode} mode The block mode used in the ciphering operation.\n\t     * @property {Padding} padding The padding scheme used in the ciphering operation.\n\t     * @property {number} blockSize The block size of the cipher.\n\t     * @property {Format} formatter The default formatting strategy to convert this cipher params object to a string.\n\t     */\n\t    var CipherParams = C_lib.CipherParams = Base.extend({\n\t        /**\n\t         * Initializes a newly created cipher params object.\n\t         *\n\t         * @param {Object} cipherParams An object with any of the possible cipher parameters.\n\t         *\n\t         * @example\n\t         *\n\t         *     var cipherParams = CryptoJS.lib.CipherParams.create({\n\t         *         ciphertext: ciphertextWordArray,\n\t         *         key: keyWordArray,\n\t         *         iv: ivWordArray,\n\t         *         salt: saltWordArray,\n\t         *         algorithm: CryptoJS.algo.AES,\n\t         *         mode: CryptoJS.mode.CBC,\n\t         *         padding: CryptoJS.pad.PKCS7,\n\t         *         blockSize: 4,\n\t         *         formatter: CryptoJS.format.OpenSSL\n\t         *     });\n\t         */\n\t        init: function (cipherParams) {\n\t            this.mixIn(cipherParams);\n\t        },\n\n\t        /**\n\t         * Converts this cipher params object to a string.\n\t         *\n\t         * @param {Format} formatter (Optional) The formatting strategy to use.\n\t         *\n\t         * @return {string} The stringified cipher params.\n\t         *\n\t         * @throws Error If neither the formatter nor the default formatter is set.\n\t         *\n\t         * @example\n\t         *\n\t         *     var string = cipherParams + '';\n\t         *     var string = cipherParams.toString();\n\t         *     var string = cipherParams.toString(CryptoJS.format.OpenSSL);\n\t         */\n\t        toString: function (formatter) {\n\t            return (formatter || this.formatter).stringify(this);\n\t        }\n\t    });\n\n\t    /**\n\t     * Format namespace.\n\t     */\n\t    var C_format = C.format = {};\n\n\t    /**\n\t     * OpenSSL formatting strategy.\n\t     */\n\t    var OpenSSLFormatter = C_format.OpenSSL = {\n\t        /**\n\t         * Converts a cipher params object to an OpenSSL-compatible string.\n\t         *\n\t         * @param {CipherParams} cipherParams The cipher params object.\n\t         *\n\t         * @return {string} The OpenSSL-compatible string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var openSSLString = CryptoJS.format.OpenSSL.stringify(cipherParams);\n\t         */\n\t        stringify: function (cipherParams) {\n\t            // Shortcuts\n\t            var ciphertext = cipherParams.ciphertext;\n\t            var salt = cipherParams.salt;\n\n\t            // Format\n\t            if (salt) {\n\t                var wordArray = WordArray.create([0x53616c74, 0x65645f5f]).concat(salt).concat(ciphertext);\n\t            } else {\n\t                var wordArray = ciphertext;\n\t            }\n\n\t            return wordArray.toString(Base64);\n\t        },\n\n\t        /**\n\t         * Converts an OpenSSL-compatible string to a cipher params object.\n\t         *\n\t         * @param {string} openSSLStr The OpenSSL-compatible string.\n\t         *\n\t         * @return {CipherParams} The cipher params object.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var cipherParams = CryptoJS.format.OpenSSL.parse(openSSLString);\n\t         */\n\t        parse: function (openSSLStr) {\n\t            // Parse base64\n\t            var ciphertext = Base64.parse(openSSLStr);\n\n\t            // Shortcut\n\t            var ciphertextWords = ciphertext.words;\n\n\t            // Test for salt\n\t            if (ciphertextWords[0] == 0x53616c74 && ciphertextWords[1] == 0x65645f5f) {\n\t                // Extract salt\n\t                var salt = WordArray.create(ciphertextWords.slice(2, 4));\n\n\t                // Remove salt from ciphertext\n\t                ciphertextWords.splice(0, 4);\n\t                ciphertext.sigBytes -= 16;\n\t            }\n\n\t            return CipherParams.create({ ciphertext: ciphertext, salt: salt });\n\t        }\n\t    };\n\n\t    /**\n\t     * A cipher wrapper that returns ciphertext as a serializable cipher params object.\n\t     */\n\t    var SerializableCipher = C_lib.SerializableCipher = Base.extend({\n\t        /**\n\t         * Configuration options.\n\t         *\n\t         * @property {Formatter} format The formatting strategy to convert cipher param objects to and from a string. Default: OpenSSL\n\t         */\n\t        cfg: Base.extend({\n\t            format: OpenSSLFormatter\n\t        }),\n\n\t        /**\n\t         * Encrypts a message.\n\t         *\n\t         * @param {Cipher} cipher The cipher algorithm to use.\n\t         * @param {WordArray|string} message The message to encrypt.\n\t         * @param {WordArray} key The key.\n\t         * @param {Object} cfg (Optional) The configuration options to use for this operation.\n\t         *\n\t         * @return {CipherParams} A cipher params object.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var ciphertextParams = CryptoJS.lib.SerializableCipher.encrypt(CryptoJS.algo.AES, message, key);\n\t         *     var ciphertextParams = CryptoJS.lib.SerializableCipher.encrypt(CryptoJS.algo.AES, message, key, { iv: iv });\n\t         *     var ciphertextParams = CryptoJS.lib.SerializableCipher.encrypt(CryptoJS.algo.AES, message, key, { iv: iv, format: CryptoJS.format.OpenSSL });\n\t         */\n\t        encrypt: function (cipher, message, key, cfg) {\n\t            // Apply config defaults\n\t            cfg = this.cfg.extend(cfg);\n\n\t            // Encrypt\n\t            var encryptor = cipher.createEncryptor(key, cfg);\n\t            var ciphertext = encryptor.finalize(message);\n\n\t            // Shortcut\n\t            var cipherCfg = encryptor.cfg;\n\n\t            // Create and return serializable cipher params\n\t            return CipherParams.create({\n\t                ciphertext: ciphertext,\n\t                key: key,\n\t                iv: cipherCfg.iv,\n\t                algorithm: cipher,\n\t                mode: cipherCfg.mode,\n\t                padding: cipherCfg.padding,\n\t                blockSize: cipher.blockSize,\n\t                formatter: cfg.format\n\t            });\n\t        },\n\n\t        /**\n\t         * Decrypts serialized ciphertext.\n\t         *\n\t         * @param {Cipher} cipher The cipher algorithm to use.\n\t         * @param {CipherParams|string} ciphertext The ciphertext to decrypt.\n\t         * @param {WordArray} key The key.\n\t         * @param {Object} cfg (Optional) The configuration options to use for this operation.\n\t         *\n\t         * @return {WordArray} The plaintext.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var plaintext = CryptoJS.lib.SerializableCipher.decrypt(CryptoJS.algo.AES, formattedCiphertext, key, { iv: iv, format: CryptoJS.format.OpenSSL });\n\t         *     var plaintext = CryptoJS.lib.SerializableCipher.decrypt(CryptoJS.algo.AES, ciphertextParams, key, { iv: iv, format: CryptoJS.format.OpenSSL });\n\t         */\n\t        decrypt: function (cipher, ciphertext, key, cfg) {\n\t            // Apply config defaults\n\t            cfg = this.cfg.extend(cfg);\n\n\t            // Convert string to CipherParams\n\t            ciphertext = this._parse(ciphertext, cfg.format);\n\n\t            // Decrypt\n\t            var plaintext = cipher.createDecryptor(key, cfg).finalize(ciphertext.ciphertext);\n\n\t            return plaintext;\n\t        },\n\n\t        /**\n\t         * Converts serialized ciphertext to CipherParams,\n\t         * else assumed CipherParams already and returns ciphertext unchanged.\n\t         *\n\t         * @param {CipherParams|string} ciphertext The ciphertext.\n\t         * @param {Formatter} format The formatting strategy to use to parse serialized ciphertext.\n\t         *\n\t         * @return {CipherParams} The unserialized ciphertext.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var ciphertextParams = CryptoJS.lib.SerializableCipher._parse(ciphertextStringOrParams, format);\n\t         */\n\t        _parse: function (ciphertext, format) {\n\t            if (typeof ciphertext == 'string') {\n\t                return format.parse(ciphertext, this);\n\t            } else {\n\t                return ciphertext;\n\t            }\n\t        }\n\t    });\n\n\t    /**\n\t     * Key derivation function namespace.\n\t     */\n\t    var C_kdf = C.kdf = {};\n\n\t    /**\n\t     * OpenSSL key derivation function.\n\t     */\n\t    var OpenSSLKdf = C_kdf.OpenSSL = {\n\t        /**\n\t         * Derives a key and IV from a password.\n\t         *\n\t         * @param {string} password The password to derive from.\n\t         * @param {number} keySize The size in words of the key to generate.\n\t         * @param {number} ivSize The size in words of the IV to generate.\n\t         * @param {WordArray|string} salt (Optional) A 64-bit salt to use. If omitted, a salt will be generated randomly.\n\t         *\n\t         * @return {CipherParams} A cipher params object with the key, IV, and salt.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var derivedParams = CryptoJS.kdf.OpenSSL.execute('Password', 256/32, 128/32);\n\t         *     var derivedParams = CryptoJS.kdf.OpenSSL.execute('Password', 256/32, 128/32, 'saltsalt');\n\t         */\n\t        execute: function (password, keySize, ivSize, salt) {\n\t            // Generate random salt\n\t            if (!salt) {\n\t                salt = WordArray.random(64/8);\n\t            }\n\n\t            // Derive key and IV\n\t            var key = EvpKDF.create({ keySize: keySize + ivSize }).compute(password, salt);\n\n\t            // Separate key and IV\n\t            var iv = WordArray.create(key.words.slice(keySize), ivSize * 4);\n\t            key.sigBytes = keySize * 4;\n\n\t            // Return params\n\t            return CipherParams.create({ key: key, iv: iv, salt: salt });\n\t        }\n\t    };\n\n\t    /**\n\t     * A serializable cipher wrapper that derives the key from a password,\n\t     * and returns ciphertext as a serializable cipher params object.\n\t     */\n\t    var PasswordBasedCipher = C_lib.PasswordBasedCipher = SerializableCipher.extend({\n\t        /**\n\t         * Configuration options.\n\t         *\n\t         * @property {KDF} kdf The key derivation function to use to generate a key and IV from a password. Default: OpenSSL\n\t         */\n\t        cfg: SerializableCipher.cfg.extend({\n\t            kdf: OpenSSLKdf\n\t        }),\n\n\t        /**\n\t         * Encrypts a message using a password.\n\t         *\n\t         * @param {Cipher} cipher The cipher algorithm to use.\n\t         * @param {WordArray|string} message The message to encrypt.\n\t         * @param {string} password The password.\n\t         * @param {Object} cfg (Optional) The configuration options to use for this operation.\n\t         *\n\t         * @return {CipherParams} A cipher params object.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var ciphertextParams = CryptoJS.lib.PasswordBasedCipher.encrypt(CryptoJS.algo.AES, message, 'password');\n\t         *     var ciphertextParams = CryptoJS.lib.PasswordBasedCipher.encrypt(CryptoJS.algo.AES, message, 'password', { format: CryptoJS.format.OpenSSL });\n\t         */\n\t        encrypt: function (cipher, message, password, cfg) {\n\t            // Apply config defaults\n\t            cfg = this.cfg.extend(cfg);\n\n\t            // Derive key and other params\n\t            var derivedParams = cfg.kdf.execute(password, cipher.keySize, cipher.ivSize);\n\n\t            // Add IV to config\n\t            cfg.iv = derivedParams.iv;\n\n\t            // Encrypt\n\t            var ciphertext = SerializableCipher.encrypt.call(this, cipher, message, derivedParams.key, cfg);\n\n\t            // Mix in derived params\n\t            ciphertext.mixIn(derivedParams);\n\n\t            return ciphertext;\n\t        },\n\n\t        /**\n\t         * Decrypts serialized ciphertext using a password.\n\t         *\n\t         * @param {Cipher} cipher The cipher algorithm to use.\n\t         * @param {CipherParams|string} ciphertext The ciphertext to decrypt.\n\t         * @param {string} password The password.\n\t         * @param {Object} cfg (Optional) The configuration options to use for this operation.\n\t         *\n\t         * @return {WordArray} The plaintext.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var plaintext = CryptoJS.lib.PasswordBasedCipher.decrypt(CryptoJS.algo.AES, formattedCiphertext, 'password', { format: CryptoJS.format.OpenSSL });\n\t         *     var plaintext = CryptoJS.lib.PasswordBasedCipher.decrypt(CryptoJS.algo.AES, ciphertextParams, 'password', { format: CryptoJS.format.OpenSSL });\n\t         */\n\t        decrypt: function (cipher, ciphertext, password, cfg) {\n\t            // Apply config defaults\n\t            cfg = this.cfg.extend(cfg);\n\n\t            // Convert string to CipherParams\n\t            ciphertext = this._parse(ciphertext, cfg.format);\n\n\t            // Derive key and other params\n\t            var derivedParams = cfg.kdf.execute(password, cipher.keySize, cipher.ivSize, ciphertext.salt);\n\n\t            // Add IV to config\n\t            cfg.iv = derivedParams.iv;\n\n\t            // Decrypt\n\t            var plaintext = SerializableCipher.decrypt.call(this, cipher, ciphertext, derivedParams.key, cfg);\n\n\t            return plaintext;\n\t        }\n\t    });\n\t}());\n\n\n}));",";(function (root, factory, undef) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"), require(\"./enc-base64\"), require(\"./md5\"), require(\"./evpkdf\"), require(\"./cipher-core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\", \"./enc-base64\", \"./md5\", \"./evpkdf\", \"./cipher-core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var BlockCipher = C_lib.BlockCipher;\n\t    var C_algo = C.algo;\n\n\t    // Lookup tables\n\t    var SBOX = [];\n\t    var INV_SBOX = [];\n\t    var SUB_MIX_0 = [];\n\t    var SUB_MIX_1 = [];\n\t    var SUB_MIX_2 = [];\n\t    var SUB_MIX_3 = [];\n\t    var INV_SUB_MIX_0 = [];\n\t    var INV_SUB_MIX_1 = [];\n\t    var INV_SUB_MIX_2 = [];\n\t    var INV_SUB_MIX_3 = [];\n\n\t    // Compute lookup tables\n\t    (function () {\n\t        // Compute double table\n\t        var d = [];\n\t        for (var i = 0; i < 256; i++) {\n\t            if (i < 128) {\n\t                d[i] = i << 1;\n\t            } else {\n\t                d[i] = (i << 1) ^ 0x11b;\n\t            }\n\t        }\n\n\t        // Walk GF(2^8)\n\t        var x = 0;\n\t        var xi = 0;\n\t        for (var i = 0; i < 256; i++) {\n\t            // Compute sbox\n\t            var sx = xi ^ (xi << 1) ^ (xi << 2) ^ (xi << 3) ^ (xi << 4);\n\t            sx = (sx >>> 8) ^ (sx & 0xff) ^ 0x63;\n\t            SBOX[x] = sx;\n\t            INV_SBOX[sx] = x;\n\n\t            // Compute multiplication\n\t            var x2 = d[x];\n\t            var x4 = d[x2];\n\t            var x8 = d[x4];\n\n\t            // Compute sub bytes, mix columns tables\n\t            var t = (d[sx] * 0x101) ^ (sx * 0x1010100);\n\t            SUB_MIX_0[x] = (t << 24) | (t >>> 8);\n\t            SUB_MIX_1[x] = (t << 16) | (t >>> 16);\n\t            SUB_MIX_2[x] = (t << 8)  | (t >>> 24);\n\t            SUB_MIX_3[x] = t;\n\n\t            // Compute inv sub bytes, inv mix columns tables\n\t            var t = (x8 * 0x1010101) ^ (x4 * 0x10001) ^ (x2 * 0x101) ^ (x * 0x1010100);\n\t            INV_SUB_MIX_0[sx] = (t << 24) | (t >>> 8);\n\t            INV_SUB_MIX_1[sx] = (t << 16) | (t >>> 16);\n\t            INV_SUB_MIX_2[sx] = (t << 8)  | (t >>> 24);\n\t            INV_SUB_MIX_3[sx] = t;\n\n\t            // Compute next counter\n\t            if (!x) {\n\t                x = xi = 1;\n\t            } else {\n\t                x = x2 ^ d[d[d[x8 ^ x2]]];\n\t                xi ^= d[d[xi]];\n\t            }\n\t        }\n\t    }());\n\n\t    // Precomputed Rcon lookup\n\t    var RCON = [0x00, 0x01, 0x02, 0x04, 0x08, 0x10, 0x20, 0x40, 0x80, 0x1b, 0x36];\n\n\t    /**\n\t     * AES block cipher algorithm.\n\t     */\n\t    var AES = C_algo.AES = BlockCipher.extend({\n\t        _doReset: function () {\n\t            // Skip reset of nRounds has been set before and key did not change\n\t            if (this._nRounds && this._keyPriorReset === this._key) {\n\t                return;\n\t            }\n\n\t            // Shortcuts\n\t            var key = this._keyPriorReset = this._key;\n\t            var keyWords = key.words;\n\t            var keySize = key.sigBytes / 4;\n\n\t            // Compute number of rounds\n\t            var nRounds = this._nRounds = keySize + 6;\n\n\t            // Compute number of key schedule rows\n\t            var ksRows = (nRounds + 1) * 4;\n\n\t            // Compute key schedule\n\t            var keySchedule = this._keySchedule = [];\n\t            for (var ksRow = 0; ksRow < ksRows; ksRow++) {\n\t                if (ksRow < keySize) {\n\t                    keySchedule[ksRow] = keyWords[ksRow];\n\t                } else {\n\t                    var t = keySchedule[ksRow - 1];\n\n\t                    if (!(ksRow % keySize)) {\n\t                        // Rot word\n\t                        t = (t << 8) | (t >>> 24);\n\n\t                        // Sub word\n\t                        t = (SBOX[t >>> 24] << 24) | (SBOX[(t >>> 16) & 0xff] << 16) | (SBOX[(t >>> 8) & 0xff] << 8) | SBOX[t & 0xff];\n\n\t                        // Mix Rcon\n\t                        t ^= RCON[(ksRow / keySize) | 0] << 24;\n\t                    } else if (keySize > 6 && ksRow % keySize == 4) {\n\t                        // Sub word\n\t                        t = (SBOX[t >>> 24] << 24) | (SBOX[(t >>> 16) & 0xff] << 16) | (SBOX[(t >>> 8) & 0xff] << 8) | SBOX[t & 0xff];\n\t                    }\n\n\t                    keySchedule[ksRow] = keySchedule[ksRow - keySize] ^ t;\n\t                }\n\t            }\n\n\t            // Compute inv key schedule\n\t            var invKeySchedule = this._invKeySchedule = [];\n\t            for (var invKsRow = 0; invKsRow < ksRows; invKsRow++) {\n\t                var ksRow = ksRows - invKsRow;\n\n\t                if (invKsRow % 4) {\n\t                    var t = keySchedule[ksRow];\n\t                } else {\n\t                    var t = keySchedule[ksRow - 4];\n\t                }\n\n\t                if (invKsRow < 4 || ksRow <= 4) {\n\t                    invKeySchedule[invKsRow] = t;\n\t                } else {\n\t                    invKeySchedule[invKsRow] = INV_SUB_MIX_0[SBOX[t >>> 24]] ^ INV_SUB_MIX_1[SBOX[(t >>> 16) & 0xff]] ^\n\t                                               INV_SUB_MIX_2[SBOX[(t >>> 8) & 0xff]] ^ INV_SUB_MIX_3[SBOX[t & 0xff]];\n\t                }\n\t            }\n\t        },\n\n\t        encryptBlock: function (M, offset) {\n\t            this._doCryptBlock(M, offset, this._keySchedule, SUB_MIX_0, SUB_MIX_1, SUB_MIX_2, SUB_MIX_3, SBOX);\n\t        },\n\n\t        decryptBlock: function (M, offset) {\n\t            // Swap 2nd and 4th rows\n\t            var t = M[offset + 1];\n\t            M[offset + 1] = M[offset + 3];\n\t            M[offset + 3] = t;\n\n\t            this._doCryptBlock(M, offset, this._invKeySchedule, INV_SUB_MIX_0, INV_SUB_MIX_1, INV_SUB_MIX_2, INV_SUB_MIX_3, INV_SBOX);\n\n\t            // Inv swap 2nd and 4th rows\n\t            var t = M[offset + 1];\n\t            M[offset + 1] = M[offset + 3];\n\t            M[offset + 3] = t;\n\t        },\n\n\t        _doCryptBlock: function (M, offset, keySchedule, SUB_MIX_0, SUB_MIX_1, SUB_MIX_2, SUB_MIX_3, SBOX) {\n\t            // Shortcut\n\t            var nRounds = this._nRounds;\n\n\t            // Get input, add round key\n\t            var s0 = M[offset]     ^ keySchedule[0];\n\t            var s1 = M[offset + 1] ^ keySchedule[1];\n\t            var s2 = M[offset + 2] ^ keySchedule[2];\n\t            var s3 = M[offset + 3] ^ keySchedule[3];\n\n\t            // Key schedule row counter\n\t            var ksRow = 4;\n\n\t            // Rounds\n\t            for (var round = 1; round < nRounds; round++) {\n\t                // Shift rows, sub bytes, mix columns, add round key\n\t                var t0 = SUB_MIX_0[s0 >>> 24] ^ SUB_MIX_1[(s1 >>> 16) & 0xff] ^ SUB_MIX_2[(s2 >>> 8) & 0xff] ^ SUB_MIX_3[s3 & 0xff] ^ keySchedule[ksRow++];\n\t                var t1 = SUB_MIX_0[s1 >>> 24] ^ SUB_MIX_1[(s2 >>> 16) & 0xff] ^ SUB_MIX_2[(s3 >>> 8) & 0xff] ^ SUB_MIX_3[s0 & 0xff] ^ keySchedule[ksRow++];\n\t                var t2 = SUB_MIX_0[s2 >>> 24] ^ SUB_MIX_1[(s3 >>> 16) & 0xff] ^ SUB_MIX_2[(s0 >>> 8) & 0xff] ^ SUB_MIX_3[s1 & 0xff] ^ keySchedule[ksRow++];\n\t                var t3 = SUB_MIX_0[s3 >>> 24] ^ SUB_MIX_1[(s0 >>> 16) & 0xff] ^ SUB_MIX_2[(s1 >>> 8) & 0xff] ^ SUB_MIX_3[s2 & 0xff] ^ keySchedule[ksRow++];\n\n\t                // Update state\n\t                s0 = t0;\n\t                s1 = t1;\n\t                s2 = t2;\n\t                s3 = t3;\n\t            }\n\n\t            // Shift rows, sub bytes, add round key\n\t            var t0 = ((SBOX[s0 >>> 24] << 24) | (SBOX[(s1 >>> 16) & 0xff] << 16) | (SBOX[(s2 >>> 8) & 0xff] << 8) | SBOX[s3 & 0xff]) ^ keySchedule[ksRow++];\n\t            var t1 = ((SBOX[s1 >>> 24] << 24) | (SBOX[(s2 >>> 16) & 0xff] << 16) | (SBOX[(s3 >>> 8) & 0xff] << 8) | SBOX[s0 & 0xff]) ^ keySchedule[ksRow++];\n\t            var t2 = ((SBOX[s2 >>> 24] << 24) | (SBOX[(s3 >>> 16) & 0xff] << 16) | (SBOX[(s0 >>> 8) & 0xff] << 8) | SBOX[s1 & 0xff]) ^ keySchedule[ksRow++];\n\t            var t3 = ((SBOX[s3 >>> 24] << 24) | (SBOX[(s0 >>> 16) & 0xff] << 16) | (SBOX[(s1 >>> 8) & 0xff] << 8) | SBOX[s2 & 0xff]) ^ keySchedule[ksRow++];\n\n\t            // Set output\n\t            M[offset]     = t0;\n\t            M[offset + 1] = t1;\n\t            M[offset + 2] = t2;\n\t            M[offset + 3] = t3;\n\t        },\n\n\t        keySize: 256/32\n\t    });\n\n\t    /**\n\t     * Shortcut functions to the cipher's object interface.\n\t     *\n\t     * @example\n\t     *\n\t     *     var ciphertext = CryptoJS.AES.encrypt(message, key, cfg);\n\t     *     var plaintext  = CryptoJS.AES.decrypt(ciphertext, key, cfg);\n\t     */\n\t    C.AES = BlockCipher._createHelper(AES);\n\t}());\n\n\n\treturn CryptoJS.AES;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\treturn CryptoJS.enc.Utf8;\n\n}));","/**\n * this plugin adds the encryption-capabilities to rxdb\n * It's using crypto-js/aes for password-encryption\n * @link https://github.com/brix/crypto-js\n */\nimport AES from 'crypto-js/aes';\nimport * as cryptoEnc from 'crypto-js/enc-utf8';\nimport { newRxTypeError, newRxError } from '../rx-error';\nvar minPassLength = 8;\nexport function encrypt(value, password) {\n  var encrypted = AES.encrypt(value, password);\n  return encrypted.toString();\n}\nexport function decrypt(cipherText, password) {\n  var decrypted = AES.decrypt(cipherText, password);\n  return decrypted.toString(cryptoEnc);\n}\n\nvar _encryptValue = function _encryptValue(value) {\n  return encrypt(JSON.stringify(value), this.password);\n};\n\nvar _decryptValue = function _decryptValue(encryptedValue) {\n  var decrypted = decrypt(encryptedValue, this.password);\n  return JSON.parse(decrypted);\n};\n\nexport var rxdb = true;\nexport var prototypes = {\n  /**\n   * set crypto-functions for the Crypter.prototype\n   */\n  Crypter: function Crypter(proto) {\n    proto._encryptValue = _encryptValue;\n    proto._decryptValue = _decryptValue;\n  }\n};\nexport var overwritable = {\n  validatePassword: function validatePassword(password) {\n    if (password && typeof password !== 'string') {\n      throw newRxTypeError('EN1', {\n        password: password\n      });\n    }\n\n    if (password && password.length < minPassLength) {\n      throw newRxError('EN2', {\n        minPassLength: minPassLength,\n        password: password\n      });\n    }\n  }\n};\nexport default {\n  rxdb: rxdb,\n  prototypes: prototypes,\n  overwritable: overwritable\n};\n","'use strict';\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar clone = _interopDefault(require('clone'));\nvar equal = _interopDefault(require('deep-equal'));\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar isObject = (function (variableToCheck) {\n  return (typeof variableToCheck === \"undefined\" ? \"undefined\" : _typeof(variableToCheck)) === \"object\" && variableToCheck !== null;\n});\n\nvar every = (function (arrayToIterate, cb) {\n  return arrayToIterate.every(function (elem) {\n    return cb && cb(elem) || elem;\n  });\n});\n\nvar has = (function (objectWithKeys, key) {\n  return objectWithKeys.hasOwnProperty(key);\n});\n\nvar keys = (function (objectWithKeys) {\n  return Object.keys(objectWithKeys);\n});\n\nvar each = (function (objectToIterate, cb) {\n  Object.keys(objectToIterate).forEach(function (key) {\n    cb(objectToIterate[key], key);\n  });\n});\n\nvar libIsArray = (function (variableToCheck) {\n  return Array.isArray(variableToCheck);\n});\n\nvar isBinary = (function (variableToCheck) {\n  return !!(typeof Uint8Array !== 'undefined' && variableToCheck instanceof Uint8Array || variableToCheck && variableToCheck.$Uint8ArrayPolyfill);\n});\n\nvar _$1 = { isArray: libIsArray, each: each };\n// Like _.isArray, but doesn't regard polyfilled Uint8Arrays on old browsers as\n// arrays.\n// XXX maybe this should be EJSON.isArray\nvar isArray = function isArray(x) {\n  return _$1.isArray(x) && !isBinary(x);\n};\n\nvar isIndexable = function isIndexable(x) {\n  return isArray(x) || isPlainObject(x);\n};\n\n// Returns true if this is an object with at least one key and all keys begin\n// with $.  Unless inconsistentOK is set, throws if some keys begin with $ and\n// others don't.\nvar isOperatorObject = function isOperatorObject(valueSelector, inconsistentOK) {\n  if (!isPlainObject(valueSelector)) return false;\n\n  var theseAreOperators = undefined;\n  _$1.each(valueSelector, function (value, selKey) {\n    var thisIsOperator = selKey.substr(0, 1) === '$';\n    if (theseAreOperators === undefined) {\n      theseAreOperators = thisIsOperator;\n    } else if (theseAreOperators !== thisIsOperator) {\n      if (!inconsistentOK) throw new Error(\"Inconsistent operator: \" + JSON.stringify(valueSelector));\n      theseAreOperators = false;\n    }\n  });\n  return !!theseAreOperators; // {} has no operators\n};\n\n// string can be converted to integer\nvar isNumericKey = function isNumericKey(s) {\n  return (/^[0-9]+$/.test(s)\n  );\n};\n\nvar isPlainObject = (function (variableToCheck) {\n  if (!variableToCheck) return false;\n  if (typeof variableToCheck === \"number\") return false;\n  if (typeof variableToCheck === \"string\") return false;\n  if (typeof variableToCheck === \"boolean\") return false;\n  if (isArray(variableToCheck)) return false;\n  if (variableToCheck === null) return false;\n  if (variableToCheck instanceof RegExp)\n    // note that typeof(/x/) === \"object\"\n    return false;\n  if (typeof variableToCheck === \"function\") return false;\n  if (variableToCheck instanceof Date) return false;\n  if (isBinary(variableToCheck)) return false;\n\n  return true; // object\n});\n\nvar ModifyJsError = function (message) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (typeof message === \"string\" && options.field) {\n    message += \" for field '\" + options.field + \"'\";\n  }\n\n  var e = new Error(message);\n  e.name = \"ModifyJsError\";\n  return e;\n};\n\nvar _ = { all: every, each: each, keys: keys, has: has, isObject: isObject };\n// XXX need a strategy for passing the binding of $ into this\n// function, from the compiled selector\n//\n// maybe just {key.up.to.just.before.dollarsign: array_index}\n//\n// XXX atomicity: if one modification fails, do we roll back the whole\n// change?\n//\n// options:\n//   - isInsert is set when _modify is being called to compute the document to\n//     insert as part of an upsert operation. We use this primarily to figure\n//     out when to set the fields in $setOnInsert, if present.\nvar modify = function (doc, mod, options) {\n  if (options && options.each) {\n    return;\n  }\n  return _modify(doc, mod, _extends({}, options, { returnInsteadOfReplacing: true }));\n};\n\nvar _modify = function _modify(doc, mod, options) {\n  options = options || {};\n  if (!isPlainObject(mod)) throw ModifyJsError(\"Modifier must be an object\");\n\n  // Make sure the caller can't mutate our data structures.\n  mod = clone(mod);\n\n  var isModifier = isOperatorObject(mod);\n\n  var newDoc;\n\n  if (!isModifier) {\n    // replace the whole document\n    newDoc = mod;\n  } else {\n    // apply modifiers to the doc.\n    newDoc = clone(doc);\n    _.each(mod, function (operand, op) {\n      var modFunc = MODIFIERS[op];\n      // Treat $setOnInsert as $set if this is an insert.\n      if (!modFunc) throw ModifyJsError(\"Invalid modifier specified \" + op);\n      _.each(operand, function (arg, keypath) {\n        if (keypath === '') {\n          throw ModifyJsError(\"An empty update path is not valid.\");\n        }\n\n        var keyparts = keypath.split('.');\n        if (!_.all(keyparts)) {\n          throw ModifyJsError(\"The update path '\" + keypath + \"' contains an empty field name, which is not allowed.\");\n        }\n\n        var target = findModTarget(newDoc, keyparts, {\n          noCreate: NO_CREATE_MODIFIERS[op],\n          forbidArray: op === \"$rename\",\n          arrayIndices: options.arrayIndices\n        });\n        var field = keyparts.pop();\n        modFunc(target, field, arg, keypath, newDoc);\n      });\n    });\n  }\n\n  if (options.returnInsteadOfReplacing) {\n    return newDoc;\n  } else {\n    // move new document into place.\n    _.each(_.keys(doc), function (k) {\n      // Note: this used to be for (var k in doc) however, this does not\n      // work right in Opera. Deleting from a doc while iterating over it\n      // would sometimes cause opera to skip some keys.\n      if (k !== '_id') delete doc[k];\n    });\n    _.each(newDoc, function (v, k) {\n      doc[k] = v;\n    });\n  }\n};\n\n// for a.b.c.2.d.e, keyparts should be ['a', 'b', 'c', '2', 'd', 'e'],\n// and then you would operate on the 'e' property of the returned\n// object.\n//\n// if options.noCreate is falsey, creates intermediate levels of\n// structure as necessary, like mkdir -p (and raises an exception if\n// that would mean giving a non-numeric property to an array.) if\n// options.noCreate is true, return undefined instead.\n//\n// may modify the last element of keyparts to signal to the caller that it needs\n// to use a different value to index into the returned object (for example,\n// ['a', '01'] -> ['a', 1]).\n//\n// if forbidArray is true, return null if the keypath goes through an array.\n//\n// if options.arrayIndices is set, use its first element for the (first) '$' in\n// the path.\nvar findModTarget = function findModTarget(doc, keyparts, options) {\n  options = options || {};\n  var usedArrayIndex = false;\n  for (var i = 0; i < keyparts.length; i++) {\n    var last = i === keyparts.length - 1;\n    var keypart = keyparts[i];\n    var indexable = isIndexable(doc);\n    if (!indexable) {\n      if (options.noCreate) return undefined;\n      var e = ModifyJsError(\"cannot use the part '\" + keypart + \"' to traverse \" + doc);\n      e.setPropertyError = true;\n      throw e;\n    }\n    if (doc instanceof Array) {\n      if (options.forbidArray) return null;\n      if (keypart === '$') {\n        if (usedArrayIndex) throw ModifyJsError(\"Too many positional (i.e. '$') elements\");\n        if (!options.arrayIndices || !options.arrayIndices.length) {\n          throw ModifyJsError(\"The positional operator did not find the \" + \"match needed from the query\");\n        }\n        keypart = options.arrayIndices[0];\n        usedArrayIndex = true;\n      } else if (isNumericKey(keypart)) {\n        keypart = parseInt(keypart);\n      } else {\n        if (options.noCreate) return undefined;\n        throw ModifyJsError(\"can't append to array using string field name [\" + keypart + \"]\");\n      }\n      if (last)\n        // handle 'a.01'\n        keyparts[i] = keypart;\n      if (options.noCreate && keypart >= doc.length) return undefined;\n      while (doc.length < keypart) {\n        doc.push(null);\n      }if (!last) {\n        if (doc.length === keypart) doc.push({});else if (_typeof(doc[keypart]) !== \"object\") throw ModifyJsError(\"can't modify field '\" + keyparts[i + 1] + \"' of list value \" + JSON.stringify(doc[keypart]));\n      }\n    } else {\n      if (!(keypart in doc)) {\n        if (options.noCreate) return undefined;\n        if (!last) doc[keypart] = {};\n      }\n    }\n\n    if (last) return doc;\n    doc = doc[keypart];\n  }\n};\n\nvar NO_CREATE_MODIFIERS = {\n  $unset: true,\n  $pop: true,\n  $rename: true,\n  $pull: true,\n  $pullAll: true\n};\n\nvar MODIFIERS = {\n  $currentDate: function $currentDate(target, field, arg) {\n    if ((typeof arg === 'undefined' ? 'undefined' : _typeof(arg)) === \"object\" && arg.hasOwnProperty(\"$type\")) {\n      if (arg.$type !== \"date\") {\n        throw ModifyJsError(\"Minimongo does currently only support the date type \" + \"in $currentDate modifiers\", { field: field });\n      }\n    } else if (arg !== true) {\n      throw ModifyJsError(\"Invalid $currentDate modifier\", { field: field });\n    }\n    target[field] = new Date();\n  },\n  $min: function $min(target, field, arg) {\n    if (typeof arg !== \"number\") {\n      throw ModifyJsError(\"Modifier $min allowed for numbers only\", { field: field });\n    }\n    if (field in target) {\n      if (typeof target[field] !== \"number\") {\n        throw ModifyJsError(\"Cannot apply $min modifier to non-number\", { field: field });\n      }\n      if (target[field] > arg) {\n        target[field] = arg;\n      }\n    } else {\n      target[field] = arg;\n    }\n  },\n  $max: function $max(target, field, arg) {\n    if (typeof arg !== \"number\") {\n      throw ModifyJsError(\"Modifier $max allowed for numbers only\", { field: field });\n    }\n    if (field in target) {\n      if (typeof target[field] !== \"number\") {\n        throw ModifyJsError(\"Cannot apply $max modifier to non-number\", { field: field });\n      }\n      if (target[field] < arg) {\n        target[field] = arg;\n      }\n    } else {\n      target[field] = arg;\n    }\n  },\n  $inc: function $inc(target, field, arg) {\n    if (typeof arg !== \"number\") throw ModifyJsError(\"Modifier $inc allowed for numbers only\", { field: field });\n    if (field in target) {\n      if (typeof target[field] !== \"number\") throw ModifyJsError(\"Cannot apply $inc modifier to non-number\", { field: field });\n      target[field] += arg;\n    } else {\n      target[field] = arg;\n    }\n  },\n  $set: function $set(target, field, arg) {\n    if (!_.isObject(target)) {\n      // not an array or an object\n      var e = ModifyJsError(\"Cannot set property on non-object field\", { field: field });\n      e.setPropertyError = true;\n      throw e;\n    }\n    if (target === null) {\n      var e = ModifyJsError(\"Cannot set property on null\", { field: field });\n      e.setPropertyError = true;\n      throw e;\n    }\n    target[field] = arg;\n  },\n  $setOnInsert: function $setOnInsert(target, field, arg) {\n    // converted to `$set` in `_modify`\n  },\n  $unset: function $unset(target, field, arg) {\n    if (target !== undefined) {\n      if (target instanceof Array) {\n        if (field in target) target[field] = null;\n      } else delete target[field];\n    }\n  },\n  $push: function $push(target, field, arg) {\n    if (target[field] === undefined) target[field] = [];\n    if (!(target[field] instanceof Array)) throw ModifyJsError(\"Cannot apply $push modifier to non-array\", { field: field });\n\n    if (!(arg && arg.$each)) {\n      // Simple mode: not $each\n      target[field].push(arg);\n      return;\n    }\n\n    // Fancy mode: $each (and maybe $slice and $sort and $position)\n    var toPush = arg.$each;\n    if (!(toPush instanceof Array)) throw ModifyJsError(\"$each must be an array\", { field: field });\n\n    // Parse $position\n    var position = undefined;\n    if ('$position' in arg) {\n      if (typeof arg.$position !== \"number\") throw ModifyJsError(\"$position must be a numeric value\", { field: field });\n      // XXX should check to make sure integer\n      if (arg.$position < 0) throw ModifyJsError(\"$position in $push must be zero or positive\", { field: field });\n      position = arg.$position;\n    }\n\n    // Parse $slice.\n    var slice = undefined;\n    if ('$slice' in arg) {\n      if (typeof arg.$slice !== \"number\") throw ModifyJsError(\"$slice must be a numeric value\", { field: field });\n      // XXX should check to make sure integer\n      if (arg.$slice > 0) throw ModifyJsError(\"$slice in $push must be zero or negative\", { field: field });\n      slice = arg.$slice;\n    }\n\n    // Parse $sort.\n    var sortFunction = undefined;\n    if (arg.$sort) {\n      throw ModifyJsError(\"$sort in $push not implemented yet\");\n      // if (slice === undefined)\n      //   throw ModifyJsError(\"$sort requires $slice to be present\", { field });\n      // // XXX this allows us to use a $sort whose value is an array, but that's\n      // // actually an extension of the Node driver, so it won't work\n      // // server-side. Could be confusing!\n      // // XXX is it correct that we don't do geo-stuff here?\n      // sortFunction = new Minimongo.Sorter(arg.$sort).getComparator();\n      // for (var i = 0; i < toPush.length; i++) {\n      //   if (_f._type(toPush[i]) !== 3) {\n      //     throw ModifyJsError(\"$push like modifiers using $sort \" +\n      //                 \"require all elements to be objects\", { field });\n      //   }\n      // }\n    }\n\n    // Actually push.\n    if (position === undefined) {\n      for (var j = 0; j < toPush.length; j++) {\n        target[field].push(toPush[j]);\n      }\n    } else {\n      var spliceArguments = [position, 0];\n      for (var j = 0; j < toPush.length; j++) {\n        spliceArguments.push(toPush[j]);\n      }Array.prototype.splice.apply(target[field], spliceArguments);\n    }\n\n    // Actually sort.\n    if (sortFunction) target[field].sort(sortFunction);\n\n    // Actually slice.\n    if (slice !== undefined) {\n      if (slice === 0) target[field] = []; // differs from Array.slice!\n      else target[field] = target[field].slice(slice);\n    }\n  },\n  $pushAll: function $pushAll(target, field, arg) {\n    if (!((typeof arg === 'undefined' ? 'undefined' : _typeof(arg)) === \"object\" && arg instanceof Array)) throw ModifyJsError(\"Modifier $pushAll/pullAll allowed for arrays only\");\n    var x = target[field];\n    if (x === undefined) target[field] = arg;else if (!(x instanceof Array)) throw ModifyJsError(\"Cannot apply $pushAll modifier to non-array\", { field: field });else {\n      for (var i = 0; i < arg.length; i++) {\n        x.push(arg[i]);\n      }\n    }\n  },\n  $addToSet: function $addToSet(target, field, arg) {\n    var isEach = false;\n    if ((typeof arg === 'undefined' ? 'undefined' : _typeof(arg)) === \"object\") {\n      //check if first key is '$each'\n      var _keys = Object.keys(arg);\n      if (_keys[0] === \"$each\") {\n        isEach = true;\n      }\n    }\n    var values = isEach ? arg[\"$each\"] : [arg];\n    var x = target[field];\n    if (x === undefined) target[field] = values;else if (!(x instanceof Array)) throw ModifyJsError(\"Cannot apply $addToSet modifier to non-array\", { field: field });else {\n      _.each(values, function (value) {\n        for (var i = 0; i < x.length; i++) {\n          if (equal(value, x[i])) return;\n        }x.push(value);\n      });\n    }\n  },\n  $pop: function $pop(target, field, arg) {\n    if (target === undefined) return;\n    var x = target[field];\n    if (x === undefined) return;else if (!(x instanceof Array)) throw ModifyJsError(\"Cannot apply $pop modifier to non-array\", { field: field });else {\n      if (typeof arg === 'number' && arg < 0) x.splice(0, 1);else x.pop();\n    }\n  },\n  $pull: function $pull(target, field, arg) {\n    if (target === undefined) return;\n    var x = target[field];\n    if (x === undefined) return;else if (!(x instanceof Array)) throw ModifyJsError(\"Cannot apply $pull/pullAll modifier to non-array\", { field: field });else {\n      throw ModifyJsError(\"$pull not implemented yet\");\n      // var out = [];\n      // if (arg != null && typeof arg === \"object\" && !(arg instanceof Array)) {\n      //   // XXX would be much nicer to compile this once, rather than\n      //   // for each document we modify.. but usually we're not\n      //   // modifying that many documents, so we'll let it slide for\n      //   // now\n      //\n      //   // XXX Minimongo.Matcher isn't up for the job, because we need\n      //   // to permit stuff like {$pull: {a: {$gt: 4}}}.. something\n      //   // like {$gt: 4} is not normally a complete selector.\n      //   // same issue as $elemMatch possibly?\n      //   var matcher = new Minimongo.Matcher(arg);\n      //   for (var i = 0; i < x.length; i++)\n      //     if (!matcher.documentMatches(x[i]).result)\n      //       out.push(x[i]);\n      // } else {\n      //   for (var i = 0; i < x.length; i++)\n      //     if (!_f._equal(x[i], arg))\n      //       out.push(x[i]);\n      // }\n      // target[field] = out;\n    }\n  },\n  $pullAll: function $pullAll(target, field, arg) {\n    if (!((typeof arg === 'undefined' ? 'undefined' : _typeof(arg)) === \"object\" && arg instanceof Array)) throw ModifyJsError(\"Modifier $pushAll/pullAll allowed for arrays only\", { field: field });\n    if (target === undefined) return;\n    var x = target[field];\n    if (x === undefined) return;else if (!(x instanceof Array)) throw ModifyJsError(\"Cannot apply $pull/pullAll modifier to non-array\", { field: field });else {\n      var out = [];\n      for (var i = 0; i < x.length; i++) {\n        var exclude = false;\n        for (var j = 0; j < arg.length; j++) {\n          if (equal(x[i], arg[j])) {\n            exclude = true;\n            break;\n          }\n        }\n        if (!exclude) out.push(x[i]);\n      }\n      target[field] = out;\n    }\n  },\n  $rename: function $rename(target, field, arg, keypath, doc) {\n    if (keypath === arg)\n      // no idea why mongo has this restriction..\n      throw ModifyJsError(\"$rename source must differ from target\", { field: field });\n    if (target === null) throw ModifyJsError(\"$rename source field invalid\", { field: field });\n    if (typeof arg !== \"string\") throw ModifyJsError(\"$rename target must be a string\", { field: field });\n    if (arg.indexOf('\\0') > -1) {\n      // Null bytes are not allowed in Mongo field names\n      // https://docs.mongodb.com/manual/reference/limits/#Restrictions-on-Field-Names\n      throw ModifyJsError(\"The 'to' field for $rename cannot contain an embedded null byte\", { field: field });\n    }\n    if (target === undefined) return;\n    var v = target[field];\n    delete target[field];\n\n    var keyparts = arg.split('.');\n    var target2 = findModTarget(doc, keyparts, { forbidArray: true });\n    if (target2 === null) throw ModifyJsError(\"$rename target field invalid\", { field: field });\n    var field2 = keyparts.pop();\n    target2[field2] = v;\n  },\n  $bit: function $bit(target, field, arg) {\n    // XXX mongo only supports $bit on integers, and we only support\n    // native javascript numbers (doubles) so far, so we can't support $bit\n    throw ModifyJsError(\"$bit is not supported\", { field: field });\n  }\n};\n\nmodule.exports = modify;\n","/**\n * this plugin allows delta-updates with mongo-like-syntax\n * It's using modifyjs internally\n * @link https://github.com/lgandecki/modifyjs\n */\nimport modifyjs from 'modifyjs';\nimport { clone } from '../util.js';\nexport function update(updateObj) {\n  var oldDocData = clone(this._data);\n  var newDocData = modifyjs(oldDocData, updateObj);\n  return this._saveData(newDocData, oldDocData);\n}\nexport function RxQueryUpdate(updateObj) {\n  return this.exec().then(function (docs) {\n    if (!docs) return null;\n\n    if (Array.isArray(docs)) {\n      return Promise.all(docs.map(function (doc) {\n        return doc.update(updateObj);\n      })).then(function () {\n        return docs;\n      });\n    } else {\n      // via findOne()\n      return docs.update(updateObj).then(function () {\n        return docs;\n      });\n    }\n  });\n}\nexport var rxdb = true;\nexport var prototypes = {\n  RxDocument: function RxDocument(proto) {\n    proto.update = update;\n  },\n  RxQuery: function RxQuery(proto) {\n    proto.update = RxQueryUpdate;\n  }\n};\nexport default {\n  rxdb: rxdb,\n  prototypes: prototypes\n};\n","import { fromEvent } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { promiseWait, nextTick } from '../util';\nimport { changeEventfromPouchChange } from '../rx-change-event';\n\n/**\n * listens to changes of the internal pouchdb\n * and ensures they are emitted to the internal RxChangeEvent-Stream\n */\nexport function watchForChanges() {\n  var _this = this;\n\n  // do not call twice on same collection\n  if (this.synced) return;\n  this.synced = true;\n  this._watchForChangesUnhandled = new Set();\n  /**\n   * this will grap the changes and publish them to the rx-stream\n   * this is to ensure that changes from 'synced' dbs will be published\n   */\n\n  var pouch$ = fromEvent(this.pouch.changes({\n    since: 'now',\n    live: true,\n    include_docs: true\n  }), 'change').pipe(map(function (ar) {\n    return ar[0];\n  }) // rxjs6.x fires an array for whatever reason\n  ).subscribe(function (change) {\n    var resPromise = _handleSingleChange(_this, change); // add and remove to the Set so RxReplicationState.complete$ can know when all events where handled\n\n\n    _this._watchForChangesUnhandled.add(resPromise);\n\n    resPromise.then(function () {\n      _this._watchForChangesUnhandled[\"delete\"](resPromise);\n    });\n  });\n\n  this._subs.push(pouch$);\n}\n/**\n * handles a single change-event\n * and ensures that it is not already handled\n */\n\nfunction _handleSingleChange(collection, change) {\n  if (change.id.charAt(0) === '_') return Promise.resolve(false); // do not handle changes of internal docs\n  // wait 2 ticks and 20 ms to give the internal event-handling time to run\n\n  return promiseWait(20).then(function () {\n    return nextTick();\n  }).then(function () {\n    return nextTick();\n  }).then(function () {\n    var docData = change.doc; // already handled by internal event-stream\n\n    if (collection._changeEventBuffer.hasChangeWithRevision(docData._rev)) {\n      return false;\n    }\n\n    var cE = changeEventfromPouchChange(docData, collection);\n    collection.$emit(cE);\n    return true;\n  });\n}\n\nexport var rxdb = true;\nexport var prototypes = {\n  RxCollection: function RxCollection(proto) {\n    proto.watchForChanges = watchForChanges;\n  }\n};\nvar plugin = {\n  rxdb: rxdb,\n  prototypes: prototypes\n};\nexport default plugin;\n","import { explainError } from 'pouchdb-utils';\nimport { collate } from 'pouchdb-collate';\n\nvar CHECKPOINT_VERSION = 1;\nvar REPLICATOR = \"pouchdb\";\n// This is an arbitrary number to limit the\n// amount of replication history we save in the checkpoint.\n// If we save too much, the checkpoing docs will become very big,\n// if we save fewer, we'll run a greater risk of having to\n// read all the changes from 0 when checkpoint PUTs fail\n// CouchDB 2.0 has a more involved history pruning,\n// but let's go for the simple version for now.\nvar CHECKPOINT_HISTORY_SIZE = 5;\nvar LOWEST_SEQ = 0;\n\nfunction updateCheckpoint(db, id, checkpoint, session, returnValue) {\n  return db.get(id).catch(function (err) {\n    if (err.status === 404) {\n      if (db.adapter === 'http' || db.adapter === 'https') {\n        explainError(\n          404, 'PouchDB is just checking if a remote checkpoint exists.'\n        );\n      }\n      return {\n        session_id: session,\n        _id: id,\n        history: [],\n        replicator: REPLICATOR,\n        version: CHECKPOINT_VERSION\n      };\n    }\n    throw err;\n  }).then(function (doc) {\n    if (returnValue.cancelled) {\n      return;\n    }\n\n    // if the checkpoint has not changed, do not update\n    if (doc.last_seq === checkpoint) {\n      return;\n    }\n\n    // Filter out current entry for this replication\n    doc.history = (doc.history || []).filter(function (item) {\n      return item.session_id !== session;\n    });\n\n    // Add the latest checkpoint to history\n    doc.history.unshift({\n      last_seq: checkpoint,\n      session_id: session\n    });\n\n    // Just take the last pieces in history, to\n    // avoid really big checkpoint docs.\n    // see comment on history size above\n    doc.history = doc.history.slice(0, CHECKPOINT_HISTORY_SIZE);\n\n    doc.version = CHECKPOINT_VERSION;\n    doc.replicator = REPLICATOR;\n\n    doc.session_id = session;\n    doc.last_seq = checkpoint;\n\n    return db.put(doc).catch(function (err) {\n      if (err.status === 409) {\n        // retry; someone is trying to write a checkpoint simultaneously\n        return updateCheckpoint(db, id, checkpoint, session, returnValue);\n      }\n      throw err;\n    });\n  });\n}\n\nfunction Checkpointer(src, target, id, returnValue, opts) {\n  this.src = src;\n  this.target = target;\n  this.id = id;\n  this.returnValue = returnValue;\n  this.opts = opts || {};\n}\n\nCheckpointer.prototype.writeCheckpoint = function (checkpoint, session) {\n  var self = this;\n  return this.updateTarget(checkpoint, session).then(function () {\n    return self.updateSource(checkpoint, session);\n  });\n};\n\nCheckpointer.prototype.updateTarget = function (checkpoint, session) {\n  if (this.opts.writeTargetCheckpoint) {\n    return updateCheckpoint(this.target, this.id, checkpoint,\n      session, this.returnValue);\n  } else {\n    return Promise.resolve(true);\n  }\n};\n\nCheckpointer.prototype.updateSource = function (checkpoint, session) {\n  if (this.opts.writeSourceCheckpoint) {\n    var self = this;\n    return updateCheckpoint(this.src, this.id, checkpoint,\n      session, this.returnValue)\n      .catch(function (err) {\n        if (isForbiddenError(err)) {\n          self.opts.writeSourceCheckpoint = false;\n          return true;\n        }\n        throw err;\n      });\n  } else {\n    return Promise.resolve(true);\n  }\n};\n\nvar comparisons = {\n  \"undefined\": function (targetDoc, sourceDoc) {\n    // This is the previous comparison function\n    if (collate(targetDoc.last_seq, sourceDoc.last_seq) === 0) {\n      return sourceDoc.last_seq;\n    }\n    /* istanbul ignore next */\n    return 0;\n  },\n  \"1\": function (targetDoc, sourceDoc) {\n    // This is the comparison function ported from CouchDB\n    return compareReplicationLogs(sourceDoc, targetDoc).last_seq;\n  }\n};\n\nCheckpointer.prototype.getCheckpoint = function () {\n  var self = this;\n\n  if (self.opts && self.opts.writeSourceCheckpoint && !self.opts.writeTargetCheckpoint) {\n    return self.src.get(self.id).then(function (sourceDoc) {\n      return sourceDoc.last_seq || LOWEST_SEQ;\n    }).catch(function (err) {\n      /* istanbul ignore if */\n      if (err.status !== 404) {\n        throw err;\n      }\n      return LOWEST_SEQ;\n    });\n  }\n\n  return self.target.get(self.id).then(function (targetDoc) {\n    if (self.opts && self.opts.writeTargetCheckpoint && !self.opts.writeSourceCheckpoint) {\n      return targetDoc.last_seq || LOWEST_SEQ;\n    }\n\n    return self.src.get(self.id).then(function (sourceDoc) {\n      // Since we can't migrate an old version doc to a new one\n      // (no session id), we just go with the lowest seq in this case\n      /* istanbul ignore if */\n      if (targetDoc.version !== sourceDoc.version) {\n        return LOWEST_SEQ;\n      }\n\n      var version;\n      if (targetDoc.version) {\n        version = targetDoc.version.toString();\n      } else {\n        version = \"undefined\";\n      }\n\n      if (version in comparisons) {\n        return comparisons[version](targetDoc, sourceDoc);\n      }\n      /* istanbul ignore next */\n      return LOWEST_SEQ;\n    }, function (err) {\n      if (err.status === 404 && targetDoc.last_seq) {\n        return self.src.put({\n          _id: self.id,\n          last_seq: LOWEST_SEQ\n        }).then(function () {\n          return LOWEST_SEQ;\n        }, function (err) {\n          if (isForbiddenError(err)) {\n            self.opts.writeSourceCheckpoint = false;\n            return targetDoc.last_seq;\n          }\n          /* istanbul ignore next */\n          return LOWEST_SEQ;\n        });\n      }\n      throw err;\n    });\n  }).catch(function (err) {\n    if (err.status !== 404) {\n      throw err;\n    }\n    return LOWEST_SEQ;\n  });\n};\n// This checkpoint comparison is ported from CouchDBs source\n// they come from here:\n// https://github.com/apache/couchdb-couch-replicator/blob/master/src/couch_replicator.erl#L863-L906\n\nfunction compareReplicationLogs(srcDoc, tgtDoc) {\n  if (srcDoc.session_id === tgtDoc.session_id) {\n    return {\n      last_seq: srcDoc.last_seq,\n      history: srcDoc.history\n    };\n  }\n\n  return compareReplicationHistory(srcDoc.history, tgtDoc.history);\n}\n\nfunction compareReplicationHistory(sourceHistory, targetHistory) {\n  // the erlang loop via function arguments is not so easy to repeat in JS\n  // therefore, doing this as recursion\n  var S = sourceHistory[0];\n  var sourceRest = sourceHistory.slice(1);\n  var T = targetHistory[0];\n  var targetRest = targetHistory.slice(1);\n\n  if (!S || targetHistory.length === 0) {\n    return {\n      last_seq: LOWEST_SEQ,\n      history: []\n    };\n  }\n\n  var sourceId = S.session_id;\n  /* istanbul ignore if */\n  if (hasSessionId(sourceId, targetHistory)) {\n    return {\n      last_seq: S.last_seq,\n      history: sourceHistory\n    };\n  }\n\n  var targetId = T.session_id;\n  if (hasSessionId(targetId, sourceRest)) {\n    return {\n      last_seq: T.last_seq,\n      history: targetRest\n    };\n  }\n\n  return compareReplicationHistory(sourceRest, targetRest);\n}\n\nfunction hasSessionId(sessionId, history) {\n  var props = history[0];\n  var rest = history.slice(1);\n\n  if (!sessionId || history.length === 0) {\n    return false;\n  }\n\n  if (sessionId === props.session_id) {\n    return true;\n  }\n\n  return hasSessionId(sessionId, rest);\n}\n\nfunction isForbiddenError(err) {\n  return typeof err.status === 'number' && Math.floor(err.status / 100) === 4;\n}\n\nexport default Checkpointer;\n","import { binaryMd5 } from 'pouchdb-md5';\nimport { collate } from 'pouchdb-collate';\n\nfunction sortObjectPropertiesByKey(queryParams) {\n  return Object.keys(queryParams).sort(collate).reduce(function (result, key) {\n    result[key] = queryParams[key];\n    return result;\n  }, {});\n}\n\n// Generate a unique id particular to this replication.\n// Not guaranteed to align perfectly with CouchDB's rep ids.\nfunction generateReplicationId(src, target, opts) {\n  var docIds = opts.doc_ids ? opts.doc_ids.sort(collate) : '';\n  var filterFun = opts.filter ? opts.filter.toString() : '';\n  var queryParams = '';\n  var filterViewName =  '';\n  var selector = '';\n\n  // possibility for checkpoints to be lost here as behaviour of\n  // JSON.stringify is not stable (see #6226)\n  /* istanbul ignore if */\n  if (opts.selector) {\n    selector = JSON.stringify(opts.selector);\n  }\n\n  if (opts.filter && opts.query_params) {\n    queryParams = JSON.stringify(sortObjectPropertiesByKey(opts.query_params));\n  }\n\n  if (opts.filter && opts.filter === '_view') {\n    filterViewName = opts.view.toString();\n  }\n\n  return Promise.all([src.id(), target.id()]).then(function (res) {\n    var queryData = res[0] + res[1] + filterFun + filterViewName +\n      queryParams + docIds + selector;\n    return new Promise(function (resolve) {\n      binaryMd5(queryData, resolve);\n    });\n  }).then(function (md5sum) {\n    // can't use straight-up md5 alphabet, because\n    // the char '/' is interpreted as being for attachments,\n    // and + is also not url-safe\n    md5sum = md5sum.replace(/\\//g, '.').replace(/\\+/g, '_');\n    return '_local/' + md5sum;\n  });\n}\n\nexport default generateReplicationId;\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","import Checkpointer from 'pouchdb-checkpointer';\nimport generateReplicationId from 'pouchdb-generate-replication-id';\nimport { createError, BAD_REQUEST } from 'pouchdb-errors';\nimport { clone, flatten, isRemote, defaultBackOff, filterChange, nextTick, uuid, assign } from 'pouchdb-utils';\nimport inherits from 'inherits';\nimport { EventEmitter } from 'events';\n\nfunction isGenOne(rev) {\n  return /^1-/.test(rev);\n}\n\nfunction fileHasChanged(localDoc, remoteDoc, filename) {\n  return !localDoc._attachments ||\n         !localDoc._attachments[filename] ||\n         localDoc._attachments[filename].digest !== remoteDoc._attachments[filename].digest;\n}\n\nfunction getDocAttachments(db, doc) {\n  var filenames = Object.keys(doc._attachments);\n  return Promise.all(filenames.map(function (filename) {\n    return db.getAttachment(doc._id, filename, {rev: doc._rev});\n  }));\n}\n\nfunction getDocAttachmentsFromTargetOrSource(target, src, doc) {\n  var doCheckForLocalAttachments = isRemote(src) && !isRemote(target);\n  var filenames = Object.keys(doc._attachments);\n\n  if (!doCheckForLocalAttachments) {\n    return getDocAttachments(src, doc);\n  }\n\n  return target.get(doc._id).then(function (localDoc) {\n    return Promise.all(filenames.map(function (filename) {\n      if (fileHasChanged(localDoc, doc, filename)) {\n        return src.getAttachment(doc._id, filename);\n      }\n\n      return target.getAttachment(localDoc._id, filename);\n    }));\n  }).catch(function (error) {\n    /* istanbul ignore if */\n    if (error.status !== 404) {\n      throw error;\n    }\n\n    return getDocAttachments(src, doc);\n  });\n}\n\nfunction createBulkGetOpts(diffs) {\n  var requests = [];\n  Object.keys(diffs).forEach(function (id) {\n    var missingRevs = diffs[id].missing;\n    missingRevs.forEach(function (missingRev) {\n      requests.push({\n        id: id,\n        rev: missingRev\n      });\n    });\n  });\n\n  return {\n    docs: requests,\n    revs: true,\n    latest: true\n  };\n}\n\n//\n// Fetch all the documents from the src as described in the \"diffs\",\n// which is a mapping of docs IDs to revisions. If the state ever\n// changes to \"cancelled\", then the returned promise will be rejected.\n// Else it will be resolved with a list of fetched documents.\n//\nfunction getDocs(src, target, diffs, state) {\n  diffs = clone(diffs); // we do not need to modify this\n\n  var resultDocs = [],\n      ok = true;\n\n  function getAllDocs() {\n\n    var bulkGetOpts = createBulkGetOpts(diffs);\n\n    if (!bulkGetOpts.docs.length) { // optimization: skip empty requests\n      return;\n    }\n\n    return src.bulkGet(bulkGetOpts).then(function (bulkGetResponse) {\n      /* istanbul ignore if */\n      if (state.cancelled) {\n        throw new Error('cancelled');\n      }\n      return Promise.all(bulkGetResponse.results.map(function (bulkGetInfo) {\n        return Promise.all(bulkGetInfo.docs.map(function (doc) {\n          var remoteDoc = doc.ok;\n\n          if (doc.error) {\n            // when AUTO_COMPACTION is set, docs can be returned which look\n            // like this: {\"missing\":\"1-7c3ac256b693c462af8442f992b83696\"}\n            ok = false;\n          }\n\n          if (!remoteDoc || !remoteDoc._attachments) {\n            return remoteDoc;\n          }\n\n          return getDocAttachmentsFromTargetOrSource(target, src, remoteDoc)\n                   .then(function (attachments) {\n                           var filenames = Object.keys(remoteDoc._attachments);\n                           attachments\n                             .forEach(function (attachment, i) {\n                                        var att = remoteDoc._attachments[filenames[i]];\n                                        delete att.stub;\n                                        delete att.length;\n                                        att.data = attachment;\n                                      });\n\n                                      return remoteDoc;\n                                    });\n        }));\n      }))\n\n      .then(function (results) {\n        resultDocs = resultDocs.concat(flatten(results).filter(Boolean));\n      });\n    });\n  }\n\n  function hasAttachments(doc) {\n    return doc._attachments && Object.keys(doc._attachments).length > 0;\n  }\n\n  function hasConflicts(doc) {\n    return doc._conflicts && doc._conflicts.length > 0;\n  }\n\n  function fetchRevisionOneDocs(ids) {\n    // Optimization: fetch gen-1 docs and attachments in\n    // a single request using _all_docs\n    return src.allDocs({\n      keys: ids,\n      include_docs: true,\n      conflicts: true\n    }).then(function (res) {\n      if (state.cancelled) {\n        throw new Error('cancelled');\n      }\n      res.rows.forEach(function (row) {\n        if (row.deleted || !row.doc || !isGenOne(row.value.rev) ||\n            hasAttachments(row.doc) || hasConflicts(row.doc)) {\n          // if any of these conditions apply, we need to fetch using get()\n          return;\n        }\n\n        // strip _conflicts array to appease CSG (#5793)\n        /* istanbul ignore if */\n        if (row.doc._conflicts) {\n          delete row.doc._conflicts;\n        }\n\n        // the doc we got back from allDocs() is sufficient\n        resultDocs.push(row.doc);\n        delete diffs[row.id];\n      });\n    });\n  }\n\n  function getRevisionOneDocs() {\n    // filter out the generation 1 docs and get them\n    // leaving the non-generation one docs to be got otherwise\n    var ids = Object.keys(diffs).filter(function (id) {\n      var missing = diffs[id].missing;\n      return missing.length === 1 && isGenOne(missing[0]);\n    });\n    if (ids.length > 0) {\n      return fetchRevisionOneDocs(ids);\n    }\n  }\n\n  function returnResult() {\n    return { ok:ok, docs:resultDocs };\n  }\n\n  return Promise.resolve()\n    .then(getRevisionOneDocs)\n    .then(getAllDocs)\n    .then(returnResult);\n}\n\nvar STARTING_BACK_OFF = 0;\n\nfunction backOff(opts, returnValue, error, callback) {\n  if (opts.retry === false) {\n    returnValue.emit('error', error);\n    returnValue.removeAllListeners();\n    return;\n  }\n  /* istanbul ignore if */\n  if (typeof opts.back_off_function !== 'function') {\n    opts.back_off_function = defaultBackOff;\n  }\n  returnValue.emit('requestError', error);\n  if (returnValue.state === 'active' || returnValue.state === 'pending') {\n    returnValue.emit('paused', error);\n    returnValue.state = 'stopped';\n    var backOffSet = function backoffTimeSet() {\n      opts.current_back_off = STARTING_BACK_OFF;\n    };\n    var removeBackOffSetter = function removeBackOffTimeSet() {\n      returnValue.removeListener('active', backOffSet);\n    };\n    returnValue.once('paused', removeBackOffSetter);\n    returnValue.once('active', backOffSet);\n  }\n\n  opts.current_back_off = opts.current_back_off || STARTING_BACK_OFF;\n  opts.current_back_off = opts.back_off_function(opts.current_back_off);\n  setTimeout(callback, opts.current_back_off);\n}\n\nfunction replicate(src, target, opts, returnValue, result) {\n  var batches = [];               // list of batches to be processed\n  var currentBatch;               // the batch currently being processed\n  var pendingBatch = {\n    seq: 0,\n    changes: [],\n    docs: []\n  }; // next batch, not yet ready to be processed\n  var writingCheckpoint = false;  // true while checkpoint is being written\n  var changesCompleted = false;   // true when all changes received\n  var replicationCompleted = false; // true when replication has completed\n  var last_seq = 0;\n  var continuous = opts.continuous || opts.live || false;\n  var batch_size = opts.batch_size || 100;\n  var batches_limit = opts.batches_limit || 10;\n  var changesPending = false;     // true while src.changes is running\n  var doc_ids = opts.doc_ids;\n  var selector = opts.selector;\n  var repId;\n  var checkpointer;\n  var changedDocs = [];\n  // Like couchdb, every replication gets a unique session id\n  var session = uuid();\n\n  result = result || {\n    ok: true,\n    start_time: new Date().toISOString(),\n    docs_read: 0,\n    docs_written: 0,\n    doc_write_failures: 0,\n    errors: []\n  };\n\n  var changesOpts = {};\n  returnValue.ready(src, target);\n\n  function initCheckpointer() {\n    if (checkpointer) {\n      return Promise.resolve();\n    }\n    return generateReplicationId(src, target, opts).then(function (res) {\n      repId = res;\n\n      var checkpointOpts = {};\n      if (opts.checkpoint === false) {\n        checkpointOpts = { writeSourceCheckpoint: false, writeTargetCheckpoint: false };\n      } else if (opts.checkpoint === 'source') {\n        checkpointOpts = { writeSourceCheckpoint: true, writeTargetCheckpoint: false };\n      } else if (opts.checkpoint === 'target') {\n        checkpointOpts = { writeSourceCheckpoint: false, writeTargetCheckpoint: true };\n      } else {\n        checkpointOpts = { writeSourceCheckpoint: true, writeTargetCheckpoint: true };\n      }\n\n      checkpointer = new Checkpointer(src, target, repId, returnValue, checkpointOpts);\n    });\n  }\n\n  function writeDocs() {\n    changedDocs = [];\n\n    if (currentBatch.docs.length === 0) {\n      return;\n    }\n    var docs = currentBatch.docs;\n    var bulkOpts = {timeout: opts.timeout};\n    return target.bulkDocs({docs: docs, new_edits: false}, bulkOpts).then(function (res) {\n      /* istanbul ignore if */\n      if (returnValue.cancelled) {\n        completeReplication();\n        throw new Error('cancelled');\n      }\n\n      // `res` doesn't include full documents (which live in `docs`), so we create a map of \n      // (id -> error), and check for errors while iterating over `docs`\n      var errorsById = Object.create(null);\n      res.forEach(function (res) {\n        if (res.error) {\n          errorsById[res.id] = res;\n        }\n      });\n\n      var errorsNo = Object.keys(errorsById).length;\n      result.doc_write_failures += errorsNo;\n      result.docs_written += docs.length - errorsNo;\n\n      docs.forEach(function (doc) {\n        var error = errorsById[doc._id];\n        if (error) {\n          result.errors.push(error);\n          // Normalize error name. i.e. 'Unauthorized' -> 'unauthorized' (eg Sync Gateway)\n          var errorName = (error.name || '').toLowerCase();\n          if (errorName === 'unauthorized' || errorName === 'forbidden') {\n            returnValue.emit('denied', clone(error));\n          } else {\n            throw error;\n          }\n        } else {\n          changedDocs.push(doc);\n        }\n      });\n\n    }, function (err) {\n      result.doc_write_failures += docs.length;\n      throw err;\n    });\n  }\n\n  function finishBatch() {\n    if (currentBatch.error) {\n      throw new Error('There was a problem getting docs.');\n    }\n    result.last_seq = last_seq = currentBatch.seq;\n    var outResult = clone(result);\n    if (changedDocs.length) {\n      outResult.docs = changedDocs;\n      // Attach 'pending' property if server supports it (CouchDB 2.0+)\n      /* istanbul ignore if */\n      if (typeof currentBatch.pending === 'number') {\n        outResult.pending = currentBatch.pending;\n        delete currentBatch.pending;\n      }\n      returnValue.emit('change', outResult);\n    }\n    writingCheckpoint = true;\n    return checkpointer.writeCheckpoint(currentBatch.seq,\n        session).then(function () {\n      writingCheckpoint = false;\n      /* istanbul ignore if */\n      if (returnValue.cancelled) {\n        completeReplication();\n        throw new Error('cancelled');\n      }\n      currentBatch = undefined;\n      getChanges();\n    }).catch(function (err) {\n      onCheckpointError(err);\n      throw err;\n    });\n  }\n\n  function getDiffs() {\n    var diff = {};\n    currentBatch.changes.forEach(function (change) {\n      // Couchbase Sync Gateway emits these, but we can ignore them\n      /* istanbul ignore if */\n      if (change.id === \"_user/\") {\n        return;\n      }\n      diff[change.id] = change.changes.map(function (x) {\n        return x.rev;\n      });\n    });\n    return target.revsDiff(diff).then(function (diffs) {\n      /* istanbul ignore if */\n      if (returnValue.cancelled) {\n        completeReplication();\n        throw new Error('cancelled');\n      }\n      // currentBatch.diffs elements are deleted as the documents are written\n      currentBatch.diffs = diffs;\n    });\n  }\n\n  function getBatchDocs() {\n    return getDocs(src, target, currentBatch.diffs, returnValue).then(function (got) {\n      currentBatch.error = !got.ok;\n      got.docs.forEach(function (doc) {\n        delete currentBatch.diffs[doc._id];\n        result.docs_read++;\n        currentBatch.docs.push(doc);\n      });\n    });\n  }\n\n  function startNextBatch() {\n    if (returnValue.cancelled || currentBatch) {\n      return;\n    }\n    if (batches.length === 0) {\n      processPendingBatch(true);\n      return;\n    }\n    currentBatch = batches.shift();\n    getDiffs()\n      .then(getBatchDocs)\n      .then(writeDocs)\n      .then(finishBatch)\n      .then(startNextBatch)\n      .catch(function (err) {\n        abortReplication('batch processing terminated with error', err);\n      });\n  }\n\n\n  function processPendingBatch(immediate) {\n    if (pendingBatch.changes.length === 0) {\n      if (batches.length === 0 && !currentBatch) {\n        if ((continuous && changesOpts.live) || changesCompleted) {\n          returnValue.state = 'pending';\n          returnValue.emit('paused');\n        }\n        if (changesCompleted) {\n          completeReplication();\n        }\n      }\n      return;\n    }\n    if (\n      immediate ||\n      changesCompleted ||\n      pendingBatch.changes.length >= batch_size\n    ) {\n      batches.push(pendingBatch);\n      pendingBatch = {\n        seq: 0,\n        changes: [],\n        docs: []\n      };\n      if (returnValue.state === 'pending' || returnValue.state === 'stopped') {\n        returnValue.state = 'active';\n        returnValue.emit('active');\n      }\n      startNextBatch();\n    }\n  }\n\n\n  function abortReplication(reason, err) {\n    if (replicationCompleted) {\n      return;\n    }\n    if (!err.message) {\n      err.message = reason;\n    }\n    result.ok = false;\n    result.status = 'aborting';\n    batches = [];\n    pendingBatch = {\n      seq: 0,\n      changes: [],\n      docs: []\n    };\n    completeReplication(err);\n  }\n\n\n  function completeReplication(fatalError) {\n    if (replicationCompleted) {\n      return;\n    }\n    /* istanbul ignore if */\n    if (returnValue.cancelled) {\n      result.status = 'cancelled';\n      if (writingCheckpoint) {\n        return;\n      }\n    }\n    result.status = result.status || 'complete';\n    result.end_time = new Date().toISOString();\n    result.last_seq = last_seq;\n    replicationCompleted = true;\n\n    if (fatalError) {\n      // need to extend the error because Firefox considers \".result\" read-only\n      fatalError = createError(fatalError);\n      fatalError.result = result;\n\n      // Normalize error name. i.e. 'Unauthorized' -> 'unauthorized' (eg Sync Gateway)\n      var errorName = (fatalError.name || '').toLowerCase();\n      if (errorName === 'unauthorized' || errorName === 'forbidden') {\n        returnValue.emit('error', fatalError);\n        returnValue.removeAllListeners();\n      } else {\n        backOff(opts, returnValue, fatalError, function () {\n          replicate(src, target, opts, returnValue);\n        });\n      }\n    } else {\n      returnValue.emit('complete', result);\n      returnValue.removeAllListeners();\n    }\n  }\n\n\n  function onChange(change, pending, lastSeq) {\n    /* istanbul ignore if */\n    if (returnValue.cancelled) {\n      return completeReplication();\n    }\n    // Attach 'pending' property if server supports it (CouchDB 2.0+)\n    /* istanbul ignore if */\n    if (typeof pending === 'number') {\n      pendingBatch.pending = pending;\n    }\n\n    var filter = filterChange(opts)(change);\n    if (!filter) {\n      return;\n    }\n    pendingBatch.seq = change.seq || lastSeq;\n    pendingBatch.changes.push(change);\n    nextTick(function () {\n      processPendingBatch(batches.length === 0 && changesOpts.live);\n    });\n  }\n\n\n  function onChangesComplete(changes) {\n    changesPending = false;\n    /* istanbul ignore if */\n    if (returnValue.cancelled) {\n      return completeReplication();\n    }\n\n    // if no results were returned then we're done,\n    // else fetch more\n    if (changes.results.length > 0) {\n      changesOpts.since = changes.results[changes.results.length - 1].seq;\n      getChanges();\n      processPendingBatch(true);\n    } else {\n\n      var complete = function () {\n        if (continuous) {\n          changesOpts.live = true;\n          getChanges();\n        } else {\n          changesCompleted = true;\n        }\n        processPendingBatch(true);\n      };\n\n      // update the checkpoint so we start from the right seq next time\n      if (!currentBatch && changes.results.length === 0) {\n        writingCheckpoint = true;\n        checkpointer.writeCheckpoint(changes.last_seq,\n            session).then(function () {\n          writingCheckpoint = false;\n          result.last_seq = last_seq = changes.last_seq;\n          complete();\n        })\n        .catch(onCheckpointError);\n      } else {\n        complete();\n      }\n    }\n  }\n\n\n  function onChangesError(err) {\n    changesPending = false;\n    /* istanbul ignore if */\n    if (returnValue.cancelled) {\n      return completeReplication();\n    }\n    abortReplication('changes rejected', err);\n  }\n\n\n  function getChanges() {\n    if (!(\n      !changesPending &&\n      !changesCompleted &&\n      batches.length < batches_limit\n      )) {\n      return;\n    }\n    changesPending = true;\n    function abortChanges() {\n      changes.cancel();\n    }\n    function removeListener() {\n      returnValue.removeListener('cancel', abortChanges);\n    }\n\n    if (returnValue._changes) { // remove old changes() and listeners\n      returnValue.removeListener('cancel', returnValue._abortChanges);\n      returnValue._changes.cancel();\n    }\n    returnValue.once('cancel', abortChanges);\n\n    var changes = src.changes(changesOpts)\n      .on('change', onChange);\n    changes.then(removeListener, removeListener);\n    changes.then(onChangesComplete)\n      .catch(onChangesError);\n\n    if (opts.retry) {\n      // save for later so we can cancel if necessary\n      returnValue._changes = changes;\n      returnValue._abortChanges = abortChanges;\n    }\n  }\n\n\n  function startChanges() {\n    initCheckpointer().then(function () {\n      /* istanbul ignore if */\n      if (returnValue.cancelled) {\n        completeReplication();\n        return;\n      }\n      return checkpointer.getCheckpoint().then(function (checkpoint) {\n        last_seq = checkpoint;\n        changesOpts = {\n          since: last_seq,\n          limit: batch_size,\n          batch_size: batch_size,\n          style: 'all_docs',\n          doc_ids: doc_ids,\n          selector: selector,\n          return_docs: true // required so we know when we're done\n        };\n        if (opts.filter) {\n          if (typeof opts.filter !== 'string') {\n            // required for the client-side filter in onChange\n            changesOpts.include_docs = true;\n          } else { // ddoc filter\n            changesOpts.filter = opts.filter;\n          }\n        }\n        if ('heartbeat' in opts) {\n          changesOpts.heartbeat = opts.heartbeat;\n        }\n        if ('timeout' in opts) {\n          changesOpts.timeout = opts.timeout;\n        }\n        if (opts.query_params) {\n          changesOpts.query_params = opts.query_params;\n        }\n        if (opts.view) {\n          changesOpts.view = opts.view;\n        }\n        getChanges();\n      });\n    }).catch(function (err) {\n      abortReplication('getCheckpoint rejected with ', err);\n    });\n  }\n\n  /* istanbul ignore next */\n  function onCheckpointError(err) {\n    writingCheckpoint = false;\n    abortReplication('writeCheckpoint completed with error', err);\n  }\n\n  /* istanbul ignore if */\n  if (returnValue.cancelled) { // cancelled immediately\n    completeReplication();\n    return;\n  }\n\n  if (!returnValue._addedListeners) {\n    returnValue.once('cancel', completeReplication);\n\n    if (typeof opts.complete === 'function') {\n      returnValue.once('error', opts.complete);\n      returnValue.once('complete', function (result) {\n        opts.complete(null, result);\n      });\n    }\n    returnValue._addedListeners = true;\n  }\n\n  if (typeof opts.since === 'undefined') {\n    startChanges();\n  } else {\n    initCheckpointer().then(function () {\n      writingCheckpoint = true;\n      return checkpointer.writeCheckpoint(opts.since, session);\n    }).then(function () {\n      writingCheckpoint = false;\n      /* istanbul ignore if */\n      if (returnValue.cancelled) {\n        completeReplication();\n        return;\n      }\n      last_seq = opts.since;\n      startChanges();\n    }).catch(onCheckpointError);\n  }\n}\n\n// We create a basic promise so the caller can cancel the replication possibly\n// before we have actually started listening to changes etc\ninherits(Replication, EventEmitter);\nfunction Replication() {\n  EventEmitter.call(this);\n  this.cancelled = false;\n  this.state = 'pending';\n  var self = this;\n  var promise = new Promise(function (fulfill, reject) {\n    self.once('complete', fulfill);\n    self.once('error', reject);\n  });\n  self.then = function (resolve, reject) {\n    return promise.then(resolve, reject);\n  };\n  self.catch = function (reject) {\n    return promise.catch(reject);\n  };\n  // As we allow error handling via \"error\" event as well,\n  // put a stub in here so that rejecting never throws UnhandledError.\n  self.catch(function () {});\n}\n\nReplication.prototype.cancel = function () {\n  this.cancelled = true;\n  this.state = 'cancelled';\n  this.emit('cancel');\n};\n\nReplication.prototype.ready = function (src, target) {\n  var self = this;\n  if (self._readyCalled) {\n    return;\n  }\n  self._readyCalled = true;\n\n  function onDestroy() {\n    self.cancel();\n  }\n  src.once('destroyed', onDestroy);\n  target.once('destroyed', onDestroy);\n  function cleanup() {\n    src.removeListener('destroyed', onDestroy);\n    target.removeListener('destroyed', onDestroy);\n  }\n  self.once('complete', cleanup);\n};\n\nfunction toPouch(db, opts) {\n  var PouchConstructor = opts.PouchConstructor;\n  if (typeof db === 'string') {\n    return new PouchConstructor(db, opts);\n  } else {\n    return db;\n  }\n}\n\nfunction replicateWrapper(src, target, opts, callback) {\n\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n  if (typeof opts === 'undefined') {\n    opts = {};\n  }\n\n  if (opts.doc_ids && !Array.isArray(opts.doc_ids)) {\n    throw createError(BAD_REQUEST,\n                       \"`doc_ids` filter parameter is not a list.\");\n  }\n\n  opts.complete = callback;\n  opts = clone(opts);\n  opts.continuous = opts.continuous || opts.live;\n  opts.retry = ('retry' in opts) ? opts.retry : false;\n  /*jshint validthis:true */\n  opts.PouchConstructor = opts.PouchConstructor || this;\n  var replicateRet = new Replication(opts);\n  var srcPouch = toPouch(src, opts);\n  var targetPouch = toPouch(target, opts);\n  replicate(srcPouch, targetPouch, opts, replicateRet);\n  return replicateRet;\n}\n\ninherits(Sync, EventEmitter);\nfunction sync(src, target, opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n  if (typeof opts === 'undefined') {\n    opts = {};\n  }\n  opts = clone(opts);\n  /*jshint validthis:true */\n  opts.PouchConstructor = opts.PouchConstructor || this;\n  src = toPouch(src, opts);\n  target = toPouch(target, opts);\n  return new Sync(src, target, opts, callback);\n}\n\nfunction Sync(src, target, opts, callback) {\n  var self = this;\n  this.canceled = false;\n\n  var optsPush = opts.push ? assign({}, opts, opts.push) : opts;\n  var optsPull = opts.pull ? assign({}, opts, opts.pull) : opts;\n\n  this.push = replicateWrapper(src, target, optsPush);\n  this.pull = replicateWrapper(target, src, optsPull);\n\n  this.pushPaused = true;\n  this.pullPaused = true;\n\n  function pullChange(change) {\n    self.emit('change', {\n      direction: 'pull',\n      change: change\n    });\n  }\n  function pushChange(change) {\n    self.emit('change', {\n      direction: 'push',\n      change: change\n    });\n  }\n  function pushDenied(doc) {\n    self.emit('denied', {\n      direction: 'push',\n      doc: doc\n    });\n  }\n  function pullDenied(doc) {\n    self.emit('denied', {\n      direction: 'pull',\n      doc: doc\n    });\n  }\n  function pushPaused() {\n    self.pushPaused = true;\n    /* istanbul ignore if */\n    if (self.pullPaused) {\n      self.emit('paused');\n    }\n  }\n  function pullPaused() {\n    self.pullPaused = true;\n    /* istanbul ignore if */\n    if (self.pushPaused) {\n      self.emit('paused');\n    }\n  }\n  function pushActive() {\n    self.pushPaused = false;\n    /* istanbul ignore if */\n    if (self.pullPaused) {\n      self.emit('active', {\n        direction: 'push'\n      });\n    }\n  }\n  function pullActive() {\n    self.pullPaused = false;\n    /* istanbul ignore if */\n    if (self.pushPaused) {\n      self.emit('active', {\n        direction: 'pull'\n      });\n    }\n  }\n\n  var removed = {};\n\n  function removeAll(type) { // type is 'push' or 'pull'\n    return function (event, func) {\n      var isChange = event === 'change' &&\n        (func === pullChange || func === pushChange);\n      var isDenied = event === 'denied' &&\n        (func === pullDenied || func === pushDenied);\n      var isPaused = event === 'paused' &&\n        (func === pullPaused || func === pushPaused);\n      var isActive = event === 'active' &&\n        (func === pullActive || func === pushActive);\n\n      if (isChange || isDenied || isPaused || isActive) {\n        if (!(event in removed)) {\n          removed[event] = {};\n        }\n        removed[event][type] = true;\n        if (Object.keys(removed[event]).length === 2) {\n          // both push and pull have asked to be removed\n          self.removeAllListeners(event);\n        }\n      }\n    };\n  }\n\n  if (opts.live) {\n    this.push.on('complete', self.pull.cancel.bind(self.pull));\n    this.pull.on('complete', self.push.cancel.bind(self.push));\n  }\n\n  function addOneListener(ee, event, listener) {\n    if (ee.listeners(event).indexOf(listener) == -1) {\n      ee.on(event, listener);\n    }\n  }\n\n  this.on('newListener', function (event) {\n    if (event === 'change') {\n      addOneListener(self.pull, 'change', pullChange);\n      addOneListener(self.push, 'change', pushChange);\n    } else if (event === 'denied') {\n      addOneListener(self.pull, 'denied', pullDenied);\n      addOneListener(self.push, 'denied', pushDenied);\n    } else if (event === 'active') {\n      addOneListener(self.pull, 'active', pullActive);\n      addOneListener(self.push, 'active', pushActive);\n    } else if (event === 'paused') {\n      addOneListener(self.pull, 'paused', pullPaused);\n      addOneListener(self.push, 'paused', pushPaused);\n    }\n  });\n\n  this.on('removeListener', function (event) {\n    if (event === 'change') {\n      self.pull.removeListener('change', pullChange);\n      self.push.removeListener('change', pushChange);\n    } else if (event === 'denied') {\n      self.pull.removeListener('denied', pullDenied);\n      self.push.removeListener('denied', pushDenied);\n    } else if (event === 'active') {\n      self.pull.removeListener('active', pullActive);\n      self.push.removeListener('active', pushActive);\n    } else if (event === 'paused') {\n      self.pull.removeListener('paused', pullPaused);\n      self.push.removeListener('paused', pushPaused);\n    }\n  });\n\n  this.pull.on('removeListener', removeAll('pull'));\n  this.push.on('removeListener', removeAll('push'));\n\n  var promise = Promise.all([\n    this.push,\n    this.pull\n  ]).then(function (resp) {\n    var out = {\n      push: resp[0],\n      pull: resp[1]\n    };\n    self.emit('complete', out);\n    if (callback) {\n      callback(null, out);\n    }\n    self.removeAllListeners();\n    return out;\n  }, function (err) {\n    self.cancel();\n    if (callback) {\n      // if there's a callback, then the callback can receive\n      // the error event\n      callback(err);\n    } else {\n      // if there's no callback, then we're safe to emit an error\n      // event, which would otherwise throw an unhandled error\n      // due to 'error' being a special event in EventEmitters\n      self.emit('error', err);\n    }\n    self.removeAllListeners();\n    if (callback) {\n      // no sense throwing if we're already emitting an 'error' event\n      throw err;\n    }\n  });\n\n  this.then = function (success, err) {\n    return promise.then(success, err);\n  };\n\n  this.catch = function (err) {\n    return promise.catch(err);\n  };\n}\n\nSync.prototype.cancel = function () {\n  if (!this.canceled) {\n    this.canceled = true;\n    this.push.cancel();\n    this.pull.cancel();\n  }\n};\n\nfunction replication(PouchDB) {\n  PouchDB.replicate = replicateWrapper;\n  PouchDB.sync = sync;\n\n  Object.defineProperty(PouchDB.prototype, 'replicate', {\n    get: function () {\n      var self = this;\n      if (typeof this.replicateMethods === 'undefined') {\n        this.replicateMethods = {\n          from: function (other, opts, callback) {\n            return self.constructor.replicate(other, self, opts, callback);\n          },\n          to: function (other, opts, callback) {\n            return self.constructor.replicate(self, other, opts, callback);\n          }\n        };\n      }\n      return this.replicateMethods;\n    }\n  });\n\n  PouchDB.prototype.sync = function (dbName, opts, callback) {\n    return this.constructor.sync(this, dbName, opts, callback);\n  };\n}\n\nexport default replication;\n","/**\n * this plugin adds the RxCollection.sync()-function to rxdb\n * you can use it to sync collections with remote or local couchdb-instances\n */\nimport PouchReplicationPlugin from 'pouchdb-replication';\nimport { BehaviorSubject, Subject, fromEvent } from 'rxjs';\nimport { skipUntil } from 'rxjs/operators';\nimport { promiseWait, clone } from '../util';\nimport Core from '../core';\nimport { newRxError } from '../rx-error';\nimport { pouchReplicationFunction, isInstanceOf as isInstanceOfPouchDB } from '../pouch-db';\nimport RxDBWatchForChangesPlugin from './watch-for-changes';\nimport { isInstanceOf as isRxCollection } from '../rx-collection';\n// add pouchdb-replication-plugin\nCore.plugin(PouchReplicationPlugin); // add the watch-for-changes-plugin\n\nCore.plugin(RxDBWatchForChangesPlugin);\nvar INTERNAL_POUCHDBS = new WeakSet();\nexport var RxReplicationStateBase =\n/*#__PURE__*/\nfunction () {\n  function RxReplicationStateBase(collection) {\n    var _this = this;\n\n    this._subs = [];\n    this._subjects = {\n      change: new Subject(),\n      docs: new Subject(),\n      denied: new Subject(),\n      active: new BehaviorSubject(false),\n      complete: new BehaviorSubject(false),\n      alive: new BehaviorSubject(false),\n      error: new Subject()\n    };\n    this.collection = collection;\n    // create getters\n    Object.keys(this._subjects).forEach(function (key) {\n      Object.defineProperty(_this, key + '$', {\n        get: function get() {\n          return this._subjects[key].asObservable();\n        }\n      });\n    });\n  }\n\n  var _proto = RxReplicationStateBase.prototype;\n\n  _proto.cancel = function cancel() {\n    if (this._pouchEventEmitterObject) this._pouchEventEmitterObject.cancel();\n\n    this._subs.forEach(function (sub) {\n      return sub.unsubscribe();\n    });\n  };\n\n  return RxReplicationStateBase;\n}();\nexport function setPouchEventEmitter(rxRepState, evEmitter) {\n  if (rxRepState._pouchEventEmitterObject) throw newRxError('RC1');\n  rxRepState._pouchEventEmitterObject = evEmitter; // change\n\n  rxRepState._subs.push(fromEvent(evEmitter, 'change').subscribe(function (ev) {\n    return rxRepState._subjects.change.next(ev);\n  })); // denied\n\n\n  rxRepState._subs.push(fromEvent(evEmitter, 'denied').subscribe(function (ev) {\n    return rxRepState._subjects.denied.next(ev);\n  })); // docs\n\n\n  rxRepState._subs.push(fromEvent(evEmitter, 'change').subscribe(function (ev) {\n    if (rxRepState._subjects.docs.observers.length === 0 || ev.direction !== 'pull') return;\n    ev.change.docs.filter(function (doc) {\n      return doc.language !== 'query';\n    }) // remove internal docs\n    .map(function (doc) {\n      return rxRepState.collection._handleFromPouch(doc);\n    }) // do primary-swap and keycompression\n    .forEach(function (doc) {\n      return rxRepState._subjects.docs.next(doc);\n    });\n  })); // error\n\n\n  rxRepState._subs.push(fromEvent(evEmitter, 'error').subscribe(function (ev) {\n    return rxRepState._subjects.error.next(ev);\n  })); // active\n\n\n  rxRepState._subs.push(fromEvent(evEmitter, 'active').subscribe(function () {\n    return rxRepState._subjects.active.next(true);\n  }));\n\n  rxRepState._subs.push(fromEvent(evEmitter, 'paused').subscribe(function () {\n    return rxRepState._subjects.active.next(false);\n  })); // complete\n\n\n  rxRepState._subs.push(fromEvent(evEmitter, 'complete').subscribe(function (info) {\n    /**\n     * when complete fires, it might be that not all changeEvents\n     * have passed throught, because of the delay of .wachtForChanges()\n     * Therefore we have to first ensure that all previous changeEvents have been handled\n     */\n    var unhandledEvents = Array.from(rxRepState.collection._watchForChangesUnhandled);\n    Promise.all(unhandledEvents).then(function () {\n      return rxRepState._subjects.complete.next(info);\n    });\n  }));\n\n  function getIsAlive(emitter) {\n    // \"state\" will live in emitter.state if single direction replication\n    // or in emitter.push.state & emitter.pull.state when syncing for both\n    var state = emitter.state;\n\n    if (!state) {\n      state = [emitter.pull.state, emitter.push.state].reduce(function (acc, val) {\n        if (acc === 'active' || val === 'active') return 'active';\n        return acc === 'stopped' ? acc : val;\n      }, '');\n    } // If it's active, we can't determine whether the connection is active\n    // or not yet\n\n\n    if (state === 'active') {\n      return promiseWait(15).then(function () {\n        return getIsAlive(emitter);\n      });\n    }\n\n    var isAlive = state !== 'stopped';\n    return Promise.resolve(isAlive);\n  }\n\n  rxRepState._subs.push(fromEvent(evEmitter, 'paused').pipe(skipUntil(fromEvent(evEmitter, 'active'))).subscribe(function () {\n    getIsAlive(rxRepState._pouchEventEmitterObject).then(function (isAlive) {\n      return rxRepState._subjects.alive.next(isAlive);\n    });\n  }));\n}\nexport function createRxReplicationState(collection) {\n  return new RxReplicationStateBase(collection);\n}\nexport function sync(_ref) {\n  var _this2 = this;\n\n  var remote = _ref.remote,\n      _ref$waitForLeadershi = _ref.waitForLeadership,\n      waitForLeadership = _ref$waitForLeadershi === void 0 ? true : _ref$waitForLeadershi,\n      _ref$direction = _ref.direction,\n      direction = _ref$direction === void 0 ? {\n    pull: true,\n    push: true\n  } : _ref$direction,\n      _ref$options = _ref.options,\n      options = _ref$options === void 0 ? {\n    live: true,\n    retry: true\n  } : _ref$options,\n      query = _ref.query;\n  var useOptions = clone(options); // prevent #641 by not allowing internal pouchdbs as remote\n\n  if (isInstanceOfPouchDB(remote) && INTERNAL_POUCHDBS.has(remote)) {\n    throw newRxError('RC3', {\n      database: this.database.name,\n      collection: this.name\n    });\n  } // if remote is RxCollection, get internal pouchdb\n\n\n  if (isRxCollection(remote)) {\n    remote.watchForChanges();\n    remote = remote.pouch;\n  }\n\n  if (query && this !== query.collection) {\n    throw newRxError('RC2', {\n      query: query\n    });\n  }\n\n  var syncFun = pouchReplicationFunction(this.pouch, direction);\n  if (query) useOptions.selector = query.keyCompress().selector;\n  var repState = createRxReplicationState(this); // run internal so .sync() does not have to be async\n\n  var waitTillRun = waitForLeadership ? this.database.waitForLeadership() : promiseWait(0);\n  waitTillRun.then(function () {\n    var pouchSync = syncFun(remote, useOptions);\n\n    _this2.watchForChanges();\n\n    setPouchEventEmitter(repState, pouchSync);\n\n    _this2._repStates.push(repState);\n  });\n  return repState;\n}\nexport var rxdb = true;\nexport var prototypes = {\n  RxCollection: function RxCollection(proto) {\n    proto.sync = sync;\n  }\n};\nexport var hooks = {\n  createRxCollection: function createRxCollection(collection) {\n    INTERNAL_POUCHDBS.add(collection.pouch);\n  }\n};\nexport default {\n  rxdb: rxdb,\n  prototypes: prototypes,\n  hooks: hooks,\n  sync: sync\n};\n","/**\n * this plugin adds the checkAdapter-function to rxdb\n * you can use it to check if the given adapter is working in the current environmet\n */\nimport { PouchDB } from '../pouch-db';\nimport { generateId, adapterObject } from '../util';\n\n/**\n * The same pouchdb-location is used on each run\n * To ensure when this is run multiple times,\n * there will not be many created databases\n */\nexport var POUCHDB_LOCATION = 'rxdb-adapter-check';\nexport function checkAdapter(adapter) {\n  // id of the document which is stored and removed to ensure everything works\n  var _id = POUCHDB_LOCATION + '-' + generateId();\n\n  var pouch;\n\n  try {\n    pouch = new PouchDB(POUCHDB_LOCATION, adapterObject(adapter), {\n      auto_compaction: true,\n      revs_limit: 1\n    });\n  } catch (err) {\n    return Promise.resolve(false);\n  }\n\n  var recoveredDoc;\n  return pouch.info() // ensure that we wait until db is useable\n  // ensure write works\n  .then(function () {\n    return pouch.put({\n      _id: _id,\n      value: {\n        ok: true,\n        time: new Date().getTime()\n      }\n    });\n  }) // ensure read works\n  .then(function () {\n    return pouch.get(_id);\n  }).then(function (doc) {\n    return recoveredDoc = doc;\n  }) // ensure remove works\n  .then(function () {\n    return pouch.remove(recoveredDoc);\n  }).then(function () {\n    return true;\n  }).then(function () {\n    if (recoveredDoc && recoveredDoc.value && recoveredDoc.value.ok) return true;else return false;\n  })[\"catch\"](function () {\n    return false;\n  });\n  /**\n   * NOTICE:\n   * Do not remove the pouchdb-instance after the test\n   * The problem is that when this function is call in parallel,\n   * for example when you restore the tabs from a browser-session and open\n   * the same website multiple times at the same time,\n   * calling destroy would possibly crash the other call\n   */\n}\nexport var rxdb = true;\nexport var prototypes = {};\nexport var overwritable = {\n  checkAdapter: checkAdapter\n};\nexport default {\n  rxdb: rxdb,\n  prototypes: prototypes,\n  overwritable: overwritable\n};\n","/**\n * this plugin adds the json export/import capabilities to RxDB\n */\nimport { hash } from '../util';\nimport { createRxQuery } from '../rx-query';\nimport { newRxError } from '../rx-error';\nimport { createChangeEvent } from '../rx-change-event';\n\nfunction dumpRxDatabase() {\n  var _this = this;\n\n  var decrypted = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  var collections = arguments.length > 1 ? arguments[1] : undefined;\n  var json = {\n    name: this.name,\n    instanceToken: this.token,\n    encrypted: false,\n    passwordHash: null,\n    collections: []\n  };\n\n  if (this.password) {\n    json.passwordHash = hash(this.password);\n    if (decrypted) json.encrypted = false;else json.encrypted = true;\n  }\n\n  var useCollections = Object.keys(this.collections).filter(function (colName) {\n    return !collections || collections.includes(colName);\n  }).filter(function (colName) {\n    return colName.charAt(0) !== '_';\n  }).map(function (colName) {\n    return _this.collections[colName];\n  });\n  return Promise.all(useCollections.map(function (col) {\n    return col.dump(decrypted);\n  })).then(function (cols) {\n    json.collections = cols;\n    return json;\n  });\n}\n\nvar importDumpRxDatabase = function importDumpRxDatabase(dump) {\n  var _this2 = this;\n\n  /**\n   * collections must be created before the import\n   * because we do not know about the other collection-settings here\n   */\n  var missingCollections = dump.collections.filter(function (col) {\n    return !_this2.collections[col.name];\n  }).map(function (col) {\n    return col.name;\n  });\n\n  if (missingCollections.length > 0) {\n    throw newRxError('JD1', {\n      missingCollections: missingCollections\n    });\n  }\n\n  return Promise.all(dump.collections.map(function (colDump) {\n    return _this2.collections[colDump.name].importDump(colDump);\n  }));\n};\n\nvar dumpRxCollection = function dumpRxCollection() {\n  var decrypted = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  var encrypted = !decrypted;\n  var json = {\n    name: this.name,\n    schemaHash: this.schema.hash,\n    encrypted: false,\n    passwordHash: null,\n    docs: []\n  };\n\n  if (this.database.password && encrypted) {\n    json.passwordHash = hash(this.database.password);\n    json.encrypted = true;\n  }\n\n  var query = createRxQuery('find', {}, this);\n  return this._pouchFind(query, undefined, encrypted).then(function (docs) {\n    json.docs = docs.map(function (docData) {\n      delete docData._rev;\n      delete docData._attachments;\n      return docData;\n    });\n    return json;\n  });\n};\n\nfunction importDumpRxCollection(exportedJSON) {\n  var _this3 = this;\n\n  // check schemaHash\n  if (exportedJSON.schemaHash !== this.schema.hash) {\n    throw newRxError('JD2', {\n      schemaHash: exportedJSON.schemaHash,\n      own: this.schema.hash\n    });\n  } // check if passwordHash matches own\n\n\n  if (exportedJSON.encrypted && exportedJSON.passwordHash !== hash(this.database.password)) {\n    throw newRxError('JD3', {\n      passwordHash: exportedJSON.passwordHash,\n      own: hash(this.database.password)\n    });\n  }\n\n  var docs = exportedJSON.docs // decrypt\n  .map(function (doc) {\n    return _this3._crypter.decrypt(doc);\n  }) // validate schema\n  .map(function (doc) {\n    return _this3.schema.validate(doc);\n  }) // transform\n  .map(function (doc) {\n    return _this3._handleToPouch(doc);\n  });\n  return this.database.lockedRun( // write to disc\n  function () {\n    return _this3.pouch.bulkDocs(docs);\n  }).then(function () {\n    docs.forEach(function (doc) {\n      // emit change events\n      var primary = doc[_this3.schema.primaryPath];\n      var emitEvent = createChangeEvent('INSERT', _this3.database, _this3, null, doc);\n      emitEvent.data.doc = primary;\n\n      _this3.$emit(emitEvent);\n    });\n  });\n}\n\nexport var rxdb = true;\nexport var prototypes = {\n  RxDatabase: function RxDatabase(proto) {\n    proto.dump = dumpRxDatabase;\n    proto.importDump = importDumpRxDatabase;\n  },\n  RxCollection: function RxCollection(proto) {\n    proto.dump = dumpRxCollection;\n    proto.importDump = importDumpRxCollection;\n  }\n};\nexport var overwritable = {};\nexport default {\n  rxdb: rxdb,\n  prototypes: prototypes,\n  overwritable: overwritable\n};\n","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","import _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\n\n/**\n * This plugin adds RxCollection.inMemory()\n * Which replicates the collection into an in-memory-collection\n * So you can do faster queries and also query over encrypted fields.\n * Writes will still run on the original collection\n */\nimport { Subject, fromEvent as ObservableFromEvent } from 'rxjs';\nimport { filter, map, mergeMap, first } from 'rxjs/operators';\nimport { RxCollectionBase } from '../rx-collection';\nimport { clone, randomCouchString, adapterObject } from '../util';\nimport Core from '../core';\nimport Crypter from '../crypter';\nimport { createChangeEventBuffer } from '../change-event-buffer';\nimport { createRxSchema } from '../rx-schema';\nimport { PouchDB } from '../pouch-db';\nimport { newRxError } from '../rx-error'; // add the watch-for-changes-plugin\n\nimport RxDBWatchForChangesPlugin from '../plugins/watch-for-changes';\nCore.plugin(RxDBWatchForChangesPlugin);\nvar collectionCacheMap = new WeakMap();\nvar collectionPromiseCacheMap = new WeakMap();\nvar BULK_DOC_OPTIONS = {\n  new_edits: true\n};\nvar BULK_DOC_OPTIONS_FALSE = {\n  new_edits: false\n};\nexport var InMemoryRxCollection =\n/*#__PURE__*/\nfunction (_RxCollectionBase) {\n  _inheritsLoose(InMemoryRxCollection, _RxCollectionBase);\n\n  function InMemoryRxCollection(parentCollection) {\n    var _this;\n\n    var pouchSettings = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    _this = _RxCollectionBase.call(this, parentCollection.database, parentCollection.name, toCleanSchema(parentCollection.schema), pouchSettings, // pouchSettings\n    {}, parentCollection._methods) || this;\n    _this._eventCounter = 0;\n    _this._isInMemory = true;\n    _this._parentCollection = parentCollection;\n\n    _this._parentCollection.onDestroy.then(function () {\n      return _this.destroy();\n    });\n\n    _this._crypter = Crypter.create(_this.database.password, _this.schema);\n    _this._changeStreams = [];\n    /**\n     * runs on parentCollection.destroy()\n     * Cleans up everything to free up memory\n     */\n\n    _this.onDestroy.then(function () {\n      _this._changeStreams.forEach(function (stream) {\n        return stream.cancel();\n      });\n\n      _this.pouch.destroy();\n    }); // add orm functions and options from parent\n\n\n    _this.options = parentCollection.options;\n    Object.entries(parentCollection.statics).forEach(function (_ref) {\n      var funName = _ref[0],\n          fun = _ref[1];\n      Object.defineProperty(_assertThisInitialized(_this), funName, {\n        get: function get() {\n          return fun.bind(_assertThisInitialized(_this));\n        }\n      });\n    });\n    _this.pouch = new PouchDB('rxdb-in-memory-' + randomCouchString(10), adapterObject('memory'));\n    _this._observable$ = new Subject();\n    _this._changeEventBuffer = createChangeEventBuffer(_assertThisInitialized(_this));\n    var parentProto = Object.getPrototypeOf(parentCollection);\n    _this._oldPouchPut = parentProto._pouchPut.bind(_assertThisInitialized(_this));\n    _this._nonPersistentRevisions = new Set();\n    _this._nonPersistentRevisionsSubject = new Subject(); // emits Set.size() when Set is changed\n\n    return _this;\n  }\n\n  var _proto = InMemoryRxCollection.prototype;\n\n  _proto.prepareChild = function prepareChild() {\n    var _this2 = this;\n\n    return setIndexes(this.schema, this.pouch).then(function () {\n      _this2._subs.push(_this2._observable$.subscribe(function (cE) {\n        // when data changes, send it to RxDocument in docCache\n        var doc = _this2._docCache.get(cE.data.doc);\n\n        if (doc) doc._handleChangeEvent(cE);\n      }));\n    }) // initial sync parent's docs to own\n    .then(function () {\n      return replicateExistingDocuments(_this2._parentCollection, _this2);\n    }).then(function () {\n      /**\n       * call watchForChanges() on both sides,\n       * to ensure none-rxdb-changes like replication\n       * will fire into the change-event-stream\n       */\n      _this2._parentCollection.watchForChanges();\n\n      _this2.watchForChanges();\n      /**\n       * create an ongoing replications between both sides\n       */\n\n\n      var thisToParentSub = streamChangedDocuments(_this2).pipe(mergeMap(function (doc) {\n        return applyChangedDocumentToPouch(_this2._parentCollection, doc).then(function () {\n          return doc['_rev'];\n        });\n      })).subscribe(function (changeRev) {\n        _this2._nonPersistentRevisions[\"delete\"](changeRev);\n\n        _this2._nonPersistentRevisionsSubject.next(_this2._nonPersistentRevisions.size);\n      });\n\n      _this2._subs.push(thisToParentSub);\n\n      var parentToThisSub = streamChangedDocuments(_this2._parentCollection).subscribe(function (doc) {\n        return applyChangedDocumentToPouch(_this2, doc);\n      });\n\n      _this2._subs.push(parentToThisSub);\n    });\n  }\n  /**\n   * waits until all writes are persistent\n   * in the parent collection\n   */\n  ;\n\n  _proto.awaitPersistence = function awaitPersistence() {\n    var _this3 = this;\n\n    if (this._nonPersistentRevisions.size === 0) return Promise.resolve();\n    return this._nonPersistentRevisionsSubject.pipe(filter(function () {\n      return _this3._nonPersistentRevisions.size === 0;\n    }), first()).toPromise();\n  }\n  /**\n   * To know which events are replicated and which are not,\n   * the _pouchPut is wrapped\n   * @overwrite\n   */\n  ;\n\n  _proto._pouchPut = function _pouchPut(obj, overwrite) {\n    var _this4 = this;\n\n    return this._oldPouchPut(obj, overwrite).then(function (ret) {\n      _this4._nonPersistentRevisions.add(ret.rev);\n\n      return ret;\n    });\n  };\n\n  _proto.$emit = function $emit(changeEvent) {\n    if (this._changeEventBuffer.hasChangeWithRevision(changeEvent.data.v && changeEvent.data.v._rev)) return;\n\n    this._observable$.next(changeEvent); // run compaction each 10 events\n\n\n    this._eventCounter++;\n\n    if (this._eventCounter === 10) {\n      this._eventCounter = 0;\n      this.pouch.compact();\n    }\n  }\n  /**\n   * @overwrite\n   * Replication on the inMemory is dangerous,\n   * replicate with it's parent instead\n   */\n  ;\n\n  _proto.sync = function sync() {\n    throw newRxError('IM2');\n  };\n\n  return InMemoryRxCollection;\n}(RxCollectionBase);\n/**\n * returns a version of the schema that:\n * - disabled the keyCompression\n * - has no encryption\n * - has no attachments\n */\n\nfunction toCleanSchema(rxSchema) {\n  var newSchemaJson = clone(rxSchema.jsonID);\n  newSchemaJson.keyCompression = false;\n  delete newSchemaJson.properties._id;\n  delete newSchemaJson.properties._rev;\n  delete newSchemaJson.properties._attachments;\n\n  var removeEncryption = function removeEncryption(schema, complete) {\n    delete schema.encrypted;\n    Object.values(schema).filter(function (val) {\n      return typeof val === 'object';\n    }).forEach(function (val) {\n      return removeEncryption(val, complete);\n    });\n  };\n\n  removeEncryption(newSchemaJson, newSchemaJson);\n  return createRxSchema(newSchemaJson);\n}\n/**\n * replicates all documents from the parent to the inMemoryCollection\n * @return Promise that resolves with an array of the docs data\n */\n\n\nexport function replicateExistingDocuments(fromCollection, toCollection) {\n  return fromCollection.pouch.allDocs({\n    attachments: false,\n    include_docs: true\n  }).then(function (allRows) {\n    var docs = allRows.rows.map(function (row) {\n      return row.doc;\n    }).filter(function (doc) {\n      return !doc.language;\n    }) // do not replicate design-docs\n    .map(function (doc) {\n      return fromCollection._handleFromPouch(doc);\n    }) // swap back primary because keyCompression:false\n    .map(function (doc) {\n      return fromCollection.schema.swapPrimaryToId(doc);\n    });\n    if (docs.length === 0) return Promise.resolve([]); // nothing to replicate\n    else {\n        return toCollection.pouch.bulkDocs({\n          docs: docs\n        }, BULK_DOC_OPTIONS_FALSE).then(function () {\n          return docs;\n        });\n      }\n  });\n}\n/**\n * sets the indexes from the schema at the pouchdb\n */\n\nexport function setIndexes(schema, pouch) {\n  return Promise.all(schema.indexes.map(function (indexAr) {\n    return pouch.createIndex({\n      index: {\n        fields: indexAr\n      }\n    });\n  }));\n}\n/**\n * returns an observable that streams all changes\n * as plain documents that have no encryption or keyCompression.\n * We use this to replicate changes from one collection to the other\n * @param prevFilter can be used to filter changes before doing anything\n * @return observable that emits document-data\n */\n\nexport function streamChangedDocuments(rxCollection) {\n  var prevFilter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function (i) {\n    return true;\n  };\n  if (!rxCollection._doNotEmitSet) rxCollection._doNotEmitSet = new Set();\n  var observable = ObservableFromEvent(rxCollection.pouch.changes({\n    since: 'now',\n    live: true,\n    include_docs: true\n  }), 'change').pipe(map(function (changeAr) {\n    return changeAr[0];\n  }), // rxjs emits an array for whatever reason\n  filter(function (change) {\n    // changes on the doNotEmit-list shell not be fired\n    var emitFlag = change.id + ':' + change.doc._rev;\n    if (rxCollection._doNotEmitSet.has(emitFlag)) return false;else return true;\n  }), filter(function (change) {\n    return prevFilter(change);\n  }), map(function (change) {\n    return rxCollection._handleFromPouch(change.doc);\n  }));\n  return observable;\n}\n/**\n * writes the doc-data into the pouchdb of the collection\n * without changeing the revision\n */\n\nexport function applyChangedDocumentToPouch(rxCollection, docData) {\n  if (!rxCollection._doNotEmitSet) rxCollection._doNotEmitSet = new Set();\n\n  var transformedDoc = rxCollection._handleToPouch(docData);\n\n  return rxCollection.pouch.get(transformedDoc._id).then(function (oldDoc) {\n    return transformedDoc._rev = oldDoc._rev;\n  })[\"catch\"](function () {\n    // doc not found, do not use a revision\n    delete transformedDoc._rev;\n  }).then(function () {\n    return rxCollection.pouch.bulkDocs({\n      docs: [transformedDoc]\n    }, BULK_DOC_OPTIONS);\n  }).then(function (bulkRet) {\n    if (bulkRet.length > 0 && !bulkRet[0].ok) {\n      throw new Error(JSON.stringify(bulkRet[0]));\n    } // set the flag so this does not appear in the own event-stream again\n\n\n    var emitFlag = transformedDoc._id + ':' + bulkRet[0].rev;\n\n    rxCollection._doNotEmitSet.add(emitFlag); // remove from the list later to not have a memory-leak\n\n\n    setTimeout(function () {\n      return rxCollection._doNotEmitSet[\"delete\"](emitFlag);\n    }, 30 * 1000);\n    return transformedDoc;\n  });\n}\nvar INIT_DONE = false;\n/**\n * called in the proto of RxCollection\n */\n\nexport function spawnInMemory() {\n  var _this5 = this;\n\n  if (!INIT_DONE) {\n    INIT_DONE = true; // ensure memory-adapter is added\n\n    if (!PouchDB.adapters || !PouchDB.adapters.memory) throw newRxError('IM1');\n  }\n\n  if (collectionCacheMap.has(this)) {\n    // already exists for this collection -> wait until synced\n    return collectionPromiseCacheMap.get(this).then(function () {\n      return collectionCacheMap.get(_this5);\n    });\n  }\n\n  var col = new InMemoryRxCollection(this);\n  var preparePromise = col.prepareChild();\n  collectionCacheMap.set(this, col);\n  collectionPromiseCacheMap.set(this, preparePromise);\n  return preparePromise.then(function () {\n    return col;\n  });\n}\nexport var rxdb = true;\nexport var prototypes = {\n  RxCollection: function RxCollection(proto) {\n    proto.inMemory = spawnInMemory;\n  }\n};\nexport var overwritable = {};\nexport default {\n  rxdb: rxdb,\n  prototypes: prototypes,\n  overwritable: overwritable,\n  spawnInMemory: spawnInMemory\n};\n","import { map } from 'rxjs/operators';\nimport { createChangeEvent } from './../rx-change-event';\nimport { nextTick, isElectronRenderer } from './../util';\nimport { newRxError } from '../rx-error';\n\nfunction ensureSchemaSupportsAttachments(doc) {\n  var schemaJson = doc.collection.schema.jsonID;\n\n  if (!schemaJson.attachments) {\n    throw newRxError('AT1', {\n      link: 'https://pubkey.github.io/rxdb/rx-attachment.html'\n    });\n  }\n}\n\nfunction resyncRxDocument(doc) {\n  return doc.collection.pouch.get(doc.primary).then(function (docData) {\n    var data = doc.collection._handleFromPouch(docData);\n\n    var changeEvent = createChangeEvent('UPDATE', doc.collection.database, doc.collection, doc, data);\n    doc.$emit(changeEvent);\n  });\n}\n\nexport var blobBufferUtil = {\n  /**\n   * depending if we are on node or browser,\n   * we have to use Buffer(node) or Blob(browser)\n   */\n  createBlobBuffer: function createBlobBuffer(data, type) {\n    var blobBuffer;\n\n    if (isElectronRenderer) {\n      // if we are inside of electron-renderer, always use the node-buffer\n      return Buffer.from(data, {\n        type: type\n      });\n    }\n\n    try {\n      // for browsers\n      blobBuffer = new Blob([data], {\n        type: type\n      });\n    } catch (e) {\n      // for node\n      blobBuffer = Buffer.from(data, {\n        type: type\n      });\n    }\n\n    return blobBuffer;\n  },\n  toString: function toString(blobBuffer) {\n    if (blobBuffer instanceof Buffer) {\n      // node\n      return nextTick().then(function () {\n        return blobBuffer.toString();\n      });\n    }\n\n    return new Promise(function (res) {\n      // browsers\n      var reader = new FileReader();\n      reader.addEventListener('loadend', function (e) {\n        var text = e.target.result;\n        res(text);\n      });\n      var blobBufferType = Object.prototype.toString.call(blobBuffer);\n      /**\n       * in the electron-renderer we have a typed array insteaf of a blob\n       * so we have to transform it.\n       * @link https://github.com/pubkey/rxdb/issues/1371\n       */\n\n      if (blobBufferType === '[object Uint8Array]') {\n        blobBuffer = new Blob([blobBuffer]);\n      }\n\n      reader.readAsText(blobBuffer);\n    });\n  }\n};\n\nvar _assignMethodsToAttachment = function _assignMethodsToAttachment(attachment) {\n  Object.entries(attachment.doc.collection.attachments).forEach(function (_ref) {\n    var funName = _ref[0],\n        fun = _ref[1];\n    Object.defineProperty(attachment, funName, {\n      get: function get() {\n        return fun.bind(attachment);\n      }\n    });\n  });\n};\n/**\n * an RxAttachment is basically just the attachment-stub\n * wrapped so that you can access the attachment-data\n */\n\n\nexport var RxAttachment =\n/*#__PURE__*/\nfunction () {\n  function RxAttachment(_ref2) {\n    var doc = _ref2.doc,\n        id = _ref2.id,\n        type = _ref2.type,\n        length = _ref2.length,\n        digest = _ref2.digest,\n        rev = _ref2.rev;\n    this.doc = doc;\n    this.id = id;\n    this.type = type;\n    this.length = length;\n    this.digest = digest;\n    this.rev = rev;\n\n    _assignMethodsToAttachment(this);\n  }\n\n  var _proto = RxAttachment.prototype;\n\n  _proto.remove = function remove() {\n    var _this = this;\n\n    return this.doc.collection.pouch.removeAttachment(this.doc.primary, this.id, this.doc._data._rev).then(function () {\n      return resyncRxDocument(_this.doc);\n    });\n  }\n  /**\n   * returns the data for the attachment\n   */\n  ;\n\n  _proto.getData = function getData() {\n    var _this2 = this;\n\n    return this.doc.collection.pouch.getAttachment(this.doc.primary, this.id).then(function (data) {\n      if (shouldEncrypt(_this2.doc)) {\n        return blobBufferUtil.toString(data).then(function (dataString) {\n          return blobBufferUtil.createBlobBuffer(_this2.doc.collection._crypter._decryptValue(dataString), _this2.type);\n        });\n      } else return data;\n    });\n  };\n\n  _proto.getStringData = function getStringData() {\n    return this.getData().then(function (bufferBlob) {\n      return blobBufferUtil.toString(bufferBlob);\n    });\n  };\n\n  return RxAttachment;\n}();\nexport function fromPouchDocument(id, pouchDocAttachment, rxDocument) {\n  return new RxAttachment({\n    doc: rxDocument,\n    id: id,\n    type: pouchDocAttachment.content_type,\n    length: pouchDocAttachment.length,\n    digest: pouchDocAttachment.digest,\n    rev: pouchDocAttachment.revpos\n  });\n}\n\nfunction shouldEncrypt(doc) {\n  return !!doc.collection.schema.jsonID.attachments.encrypted;\n}\n\nexport function putAttachment(_ref3) {\n  var _this3 = this;\n\n  var id = _ref3.id,\n      data = _ref3.data,\n      _ref3$type = _ref3.type,\n      type = _ref3$type === void 0 ? 'text/plain' : _ref3$type;\n  ensureSchemaSupportsAttachments(this);\n  if (shouldEncrypt(this)) data = this.collection._crypter._encryptValue(data);\n  var blobBuffer = blobBufferUtil.createBlobBuffer(data, type);\n  this._atomicQueue = this._atomicQueue.then(function () {\n    return _this3.collection.pouch.putAttachment(_this3.primary, id, _this3._data._rev, blobBuffer, type);\n  }).then(function () {\n    return _this3.collection.pouch.get(_this3.primary);\n  }).then(function (docData) {\n    var attachmentData = docData._attachments[id];\n    var attachment = fromPouchDocument(id, attachmentData, _this3);\n    _this3._data._rev = docData._rev;\n    _this3._data._attachments = docData._attachments;\n    return resyncRxDocument(_this3).then(function () {\n      return attachment;\n    });\n  });\n  return this._atomicQueue;\n}\n/**\n * get an attachment of the document by its id\n */\n\nexport function getAttachment(id) {\n  ensureSchemaSupportsAttachments(this);\n\n  var docData = this._dataSync$.getValue();\n\n  if (!docData._attachments || !docData._attachments[id]) return null;\n  var attachmentData = docData._attachments[id];\n  var attachment = fromPouchDocument(id, attachmentData, this);\n  return attachment;\n}\n/**\n * returns all attachments of the document\n */\n\nexport function allAttachments() {\n  var _this4 = this;\n\n  ensureSchemaSupportsAttachments(this);\n\n  var docData = this._dataSync$.getValue(); // if there are no attachments, the field is missing\n\n\n  if (!docData._attachments) return [];\n  return Object.keys(docData._attachments).map(function (id) {\n    return fromPouchDocument(id, docData._attachments[id], _this4);\n  });\n}\nexport function preMigrateDocument(action) {\n  delete action.migrated._attachments;\n  return action;\n}\nexport function postMigrateDocument(action) {\n  var primaryPath = action.oldCollection.schema.primaryPath;\n  var attachments = action.doc._attachments;\n  if (!attachments) return Promise.resolve(action);\n  var currentPromise = Promise.resolve();\n  Object.keys(attachments).forEach(function (id) {\n    var stubData = attachments[id];\n    var primary = action.doc[primaryPath];\n    currentPromise = currentPromise.then(function () {\n      return action.oldCollection.pouchdb.getAttachment(primary, id);\n    }).then(function (data) {\n      return blobBufferUtil.toString(data);\n    }).then(function (data) {\n      return action.newestCollection.pouch.putAttachment(primary, id, action.res.rev, blobBufferUtil.createBlobBuffer(data, stubData.content_type), stubData.content_type);\n    }).then(function (res) {\n      return action.res = res;\n    });\n  });\n  return currentPromise;\n}\nexport var rxdb = true;\nexport var prototypes = {\n  RxDocument: function RxDocument(proto) {\n    proto.putAttachment = putAttachment;\n    proto.getAttachment = getAttachment;\n    proto.allAttachments = allAttachments;\n    Object.defineProperty(proto, 'allAttachments$', {\n      get: function allAttachments$() {\n        var _this5 = this;\n\n        return this._dataSync$.pipe(map(function (data) {\n          if (!data['_attachments']) return {};\n          return data['_attachments'];\n        }), map(function (attachmentsData) {\n          return Object.entries(attachmentsData);\n        }), map(function (entries) {\n          return entries.map(function (_ref4) {\n            var id = _ref4[0],\n                attachmentData = _ref4[1];\n            return fromPouchDocument(id, attachmentData, _this5);\n          });\n        }));\n      }\n    });\n  }\n};\nexport var overwritable = {};\nexport var hooks = {\n  preMigrateDocument: preMigrateDocument,\n  postMigrateDocument: postMigrateDocument\n};\nexport default {\n  rxdb: rxdb,\n  prototypes: prototypes,\n  overwritable: overwritable,\n  hooks: hooks,\n  blobBufferUtil: blobBufferUtil\n};\n","import _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\n\n/**\n * This plugin adds the local-documents-support\n * Local documents behave equal then with pouchdb\n * @link https://pouchdb.com/guides/local-documents.html\n */\nimport objectPath from 'object-path';\nimport { createRxDocumentConstructor, basePrototype } from '../rx-document';\nimport { createChangeEvent } from '../rx-change-event';\nimport { createDocCache } from '../doc-cache';\nimport { newRxError, newRxTypeError } from '../rx-error';\nimport { clone } from '../util';\nimport { isInstanceOf as isRxDatabase } from '../rx-database';\nimport { isInstanceOf as isRxCollection } from '../rx-collection';\nimport { filter, map, distinctUntilChanged } from 'rxjs/operators';\nvar DOC_CACHE_BY_PARENT = new WeakMap();\n\nvar _getDocCache = function _getDocCache(parent) {\n  if (!DOC_CACHE_BY_PARENT.has(parent)) {\n    DOC_CACHE_BY_PARENT.set(parent, createDocCache());\n  }\n\n  return DOC_CACHE_BY_PARENT.get(parent);\n};\n\nvar CHANGE_SUB_BY_PARENT = new WeakMap();\n\nvar _getChangeSub = function _getChangeSub(parent) {\n  if (!CHANGE_SUB_BY_PARENT.has(parent)) {\n    var sub = parent.$.pipe(filter(function (cE) {\n      return cE.data.isLocal;\n    })).subscribe(function (cE) {\n      var docCache = _getDocCache(parent);\n\n      var doc = docCache.get(cE.data.doc);\n      if (doc) doc._handleChangeEvent(cE);\n    });\n\n    parent._subs.push(sub);\n\n    CHANGE_SUB_BY_PARENT.set(parent, sub);\n  }\n\n  return CHANGE_SUB_BY_PARENT.get(parent);\n};\n\nvar LOCAL_PREFIX = '_local/';\nvar RxDocumentParent = createRxDocumentConstructor();\nexport var RxLocalDocument =\n/*#__PURE__*/\nfunction (_RxDocumentParent) {\n  _inheritsLoose(RxLocalDocument, _RxDocumentParent);\n\n  function RxLocalDocument(id, jsonData, parent) {\n    var _this;\n\n    _this = _RxDocumentParent.call(this, null, jsonData) || this;\n    _this.id = id;\n    _this.parent = parent;\n    return _this;\n  }\n\n  return RxLocalDocument;\n}(RxDocumentParent);\n\nvar _getPouchByParent = function _getPouchByParent(parent) {\n  if (isRxDatabase(parent)) return parent._adminPouch; // database\n  else return parent.pouch; // collection\n};\n\nvar RxLocalDocumentPrototype = {\n  toPouchJson: function toPouchJson() {\n    var data = clone(this._data);\n    data._id = LOCAL_PREFIX + this.id;\n  },\n\n  get isLocal() {\n    return true;\n  },\n\n  get parentPouch() {\n    return _getPouchByParent(this.parent);\n  },\n\n  //\n  // overwrites\n  //\n  _handleChangeEvent: function _handleChangeEvent(changeEvent) {\n    if (changeEvent.data.doc !== this.primary) return;\n\n    switch (changeEvent.data.op) {\n      case 'UPDATE':\n        var newData = clone(changeEvent.data.v);\n\n        this._dataSync$.next(clone(newData));\n\n        break;\n\n      case 'REMOVE':\n        // remove from docCache to assure new upserted RxDocuments will be a new instance\n        var docCache = _getDocCache(this.parent);\n\n        docCache[\"delete\"](this.primary);\n\n        this._deleted$.next(true);\n\n        break;\n    }\n  },\n\n  get allAttachments$() {\n    // this is overwritten here because we cannot re-set getters on the prototype\n    throw newRxError('LD1', {\n      document: this\n    });\n  },\n\n  get primaryPath() {\n    return 'id';\n  },\n\n  get primary() {\n    return this.id;\n  },\n\n  get $() {\n    return this._dataSync$.asObservable();\n  },\n\n  $emit: function $emit(changeEvent) {\n    return this.parent.$emit(changeEvent);\n  },\n  get: function get(objPath) {\n    if (!this._data) return undefined;\n\n    if (typeof objPath !== 'string') {\n      throw newRxTypeError('LD2', {\n        objPath: objPath\n      });\n    }\n\n    var valueObj = objectPath.get(this._data, objPath);\n    valueObj = clone(valueObj);\n    return valueObj;\n  },\n  get$: function get$(path) {\n    if (path.includes('.item.')) {\n      throw newRxError('LD3', {\n        path: path\n      });\n    }\n\n    if (path === this.primaryPath) throw newRxError('LD4');\n    return this._dataSync$.pipe(map(function (data) {\n      return objectPath.get(data, path);\n    }), distinctUntilChanged());\n  },\n  set: function set(objPath, value) {\n    if (!value) {\n      // object path not set, overwrite whole data\n      var data = clone(objPath);\n      data._rev = this._data._rev;\n      this._data = data;\n      return this;\n    }\n\n    if (objPath === '_id') {\n      throw newRxError('LD5', {\n        objPath: objPath,\n        value: value\n      });\n    }\n\n    if (Object.is(this.get(objPath), value)) return;\n    objectPath.set(this._data, objPath, value);\n    return this;\n  },\n  _saveData: function _saveData(newData) {\n    var _this2 = this;\n\n    newData = clone(newData);\n    newData._id = LOCAL_PREFIX + this.id;\n    return this.parentPouch.put(newData).then(function (res) {\n      newData._rev = res.rev;\n\n      _this2._dataSync$.next(newData);\n\n      var changeEvent = createChangeEvent('UPDATE', isRxDatabase(_this2.parent) ? _this2.parent : _this2.parent.database, isRxCollection(_this2.parent) ? _this2.parent : null, _this2, clone(_this2._data), true);\n\n      _this2.$emit(changeEvent);\n    });\n  },\n  remove: function remove() {\n    var _this3 = this;\n\n    var removeId = LOCAL_PREFIX + this.id;\n    return this.parentPouch.remove(removeId, this._data._rev).then(function () {\n      _getDocCache(_this3.parent)[\"delete\"](_this3.id);\n\n      var changeEvent = createChangeEvent('REMOVE', isRxDatabase(_this3.parent) ? _this3.parent : _this3.parent.database, isRxCollection(_this3.parent) ? _this3.parent : null, _this3, clone(_this3._data), true);\n\n      _this3.$emit(changeEvent);\n    });\n  }\n};\nvar INIT_DONE = false;\n\nvar _init = function _init() {\n  if (INIT_DONE) return;else INIT_DONE = true; // add functions of RxDocument\n\n  var docBaseProto = basePrototype;\n  var props = Object.getOwnPropertyNames(docBaseProto);\n  props.forEach(function (key) {\n    var exists = Object.getOwnPropertyDescriptor(RxLocalDocumentPrototype, key);\n    if (exists) return;\n    var desc = Object.getOwnPropertyDescriptor(docBaseProto, key);\n    Object.defineProperty(RxLocalDocumentPrototype, key, desc);\n  });\n  /**\n   * overwrite things that not work on local documents\n   * with throwing function\n   */\n\n  var getThrowingFun = function getThrowingFun(k) {\n    return function () {\n      throw newRxError('LD6', {\n        functionName: k\n      });\n    };\n  };\n\n  ['populate', 'update', 'putAttachment', 'getAttachment', 'allAttachments'].forEach(function (k) {\n    return RxLocalDocumentPrototype[k] = getThrowingFun(k);\n  });\n};\n\nRxLocalDocument.create = function (id, data, parent) {\n  _init();\n\n  _getChangeSub(parent);\n\n  var newDoc = new RxLocalDocument(id, data, parent);\n  newDoc.__proto__ = RxLocalDocumentPrototype;\n\n  _getDocCache(parent).set(id, newDoc);\n\n  return newDoc;\n};\n/**\n * save the local-document-data\n * throws if already exists\n */\n\n\nfunction insertLocal(id, data) {\n  var _this4 = this;\n\n  if (isRxCollection(this) && this._isInMemory) return this._parentCollection.insertLocal(id, data);\n  data = clone(data);\n  return this.getLocal(id).then(function (existing) {\n    if (existing) {\n      throw newRxError('LD7', {\n        id: id,\n        data: data\n      });\n    } // create new one\n\n\n    var pouch = _getPouchByParent(_this4);\n\n    var saveData = clone(data);\n    saveData._id = LOCAL_PREFIX + id;\n    return pouch.put(saveData);\n  }).then(function (res) {\n    data._rev = res.rev;\n    var newDoc = RxLocalDocument.create(id, data, _this4);\n    return newDoc;\n  });\n}\n/**\n * save the local-document-data\n * overwrites existing if exists\n */\n\n\nfunction upsertLocal(id, data) {\n  var _this5 = this;\n\n  if (isRxCollection(this) && this._isInMemory) return this._parentCollection.upsertLocal(id, data);\n  return this.getLocal(id).then(function (existing) {\n    if (!existing) {\n      // create new one\n      var doc = _this5.insertLocal(id, data);\n\n      return doc;\n    } else {\n      // update existing\n      data._rev = existing._data._rev;\n      return existing.atomicUpdate(function () {\n        return data;\n      }).then(function () {\n        return existing;\n      });\n    }\n  });\n}\n\nfunction getLocal(id) {\n  var _this6 = this;\n\n  if (isRxCollection(this) && this._isInMemory) return this._parentCollection.getLocal(id);\n\n  var pouch = _getPouchByParent(this);\n\n  var docCache = _getDocCache(this); // check in doc-cache\n\n\n  var found = docCache.get(id);\n  if (found) return Promise.resolve(found); // if not found, check in pouch\n\n  return pouch.get(LOCAL_PREFIX + id).then(function (docData) {\n    if (!docData) return null;\n    var doc = RxLocalDocument.create(id, docData, _this6);\n    return doc;\n  })[\"catch\"](function () {\n    return null;\n  });\n}\n\nexport var rxdb = true;\nexport var prototypes = {\n  RxCollection: function RxCollection(proto) {\n    proto.insertLocal = insertLocal;\n    proto.upsertLocal = upsertLocal;\n    proto.getLocal = getLocal;\n  },\n  RxDatabase: function RxDatabase(proto) {\n    proto.insertLocal = insertLocal;\n    proto.upsertLocal = upsertLocal;\n    proto.getLocal = getLocal;\n  }\n};\nexport var overwritable = {};\nexport default {\n  rxdb: rxdb,\n  prototypes: prototypes,\n  overwritable: overwritable\n};\n","import { RxQueryBase } from '../rx-query';\n","export * from './pouch';\nexport * from './rx-attachment';\nexport * from './rx-change-event';\nexport * from './rx-collection';\nexport * from './rx-database';\nexport * from './rx-document';\nexport * from './rx-error';\nexport * from './rx-plugin';\nexport * from './rx-query';\nexport * from './rx-schema'; // plugins\n\nexport * from './plugins/replication';\nexport * from './plugins/replication-graphql';\n","/**\n * this is the default rxdb-export\n * It has a batteries-included guarantee.\n * It basically just rxdb-core with some default plugins\n */\nimport Core from './core'; // default plugins\n\nimport SchemaCheckPlugin from './plugins/schema-check';\nCore.plugin(SchemaCheckPlugin);\nimport ErrorMessagesPlugin from './plugins/error-messages';\nCore.plugin(ErrorMessagesPlugin);\nimport ValidatePlugin from './plugins/validate';\nCore.plugin(ValidatePlugin);\nimport KeyCompressionPlugin from './plugins/key-compression';\nCore.plugin(KeyCompressionPlugin);\nimport LeaderElectionPlugin from './plugins/leader-election';\nCore.plugin(LeaderElectionPlugin);\nimport EncryptionPlugin from './plugins/encryption';\nCore.plugin(EncryptionPlugin);\nimport UpdatePlugin from './plugins/update';\nCore.plugin(UpdatePlugin);\nimport WatchForChangesPlugin from './plugins/watch-for-changes';\nCore.plugin(WatchForChangesPlugin);\nimport ReplicationPlugin from './plugins/replication';\nCore.plugin(ReplicationPlugin);\nimport AdapterCheckPlugin from './plugins/adapter-check';\nCore.plugin(AdapterCheckPlugin);\nimport JsonDumpPlugin from './plugins/json-dump';\nCore.plugin(JsonDumpPlugin);\nimport InMemoryPlugin from './plugins/in-memory';\nCore.plugin(InMemoryPlugin);\nimport AttachmentsPlugin from './plugins/attachments';\nCore.plugin(AttachmentsPlugin);\nimport LocalDocumentsPlugin from './plugins/local-documents';\nCore.plugin(LocalDocumentsPlugin);\nexport * from './types'; // re-export things from core\n\nexport * from './core';\nimport { create, removeDatabase, plugin, dbCount, isRxCollection, isRxDatabase, isRxDocument, isRxQuery, isRxSchema, PouchDB, QueryChangeDetector, checkAdapter } from './core'; // TODO no more default exports\n\nexport default {\n  create: create,\n  checkAdapter: checkAdapter,\n  removeDatabase: removeDatabase,\n  plugin: plugin,\n  dbCount: dbCount,\n  isRxDatabase: isRxDatabase,\n  isRxCollection: isRxCollection,\n  isRxDocument: isRxDocument,\n  isRxQuery: isRxQuery,\n  isRxSchema: isRxSchema,\n  PouchDB: PouchDB,\n  QueryChangeDetector: QueryChangeDetector\n};\n","import { assign, uuid, rev, invalidIdError, normalizeDdocFunctionName, parseDdocFunctionName } from 'pouchdb-utils';\nexport { invalidIdError, normalizeDdocFunctionName, parseDdocFunctionName } from 'pouchdb-utils';\nimport { atob, btoa, binaryStringToBlobOrBuffer, blobOrBufferToBinaryString, blobOrBufferToBase64 } from 'pouchdb-binary-utils';\nimport { binaryMd5 } from 'pouchdb-md5';\nimport { Map } from 'pouchdb-collections';\nimport { DOC_VALIDATION, INVALID_REV, createError, BAD_ARG, REV_CONFLICT, MISSING_DOC } from 'pouchdb-errors';\nimport { isDeleted, merge, winningRev, revExists, isLocalId } from 'pouchdb-merge';\nexport { isDeleted, isLocalId } from 'pouchdb-merge';\n\nfunction allDocsKeysQuery(api, opts) {\n  var keys = opts.keys;\n  var finalResults = {\n    offset: opts.skip\n  };\n  return Promise.all(keys.map(function (key) {\n    var subOpts = assign({key: key, deleted: 'ok'}, opts);\n    ['limit', 'skip', 'keys'].forEach(function (optKey) {\n      delete subOpts[optKey];\n    });\n    return new Promise(function (resolve, reject) {\n      api._allDocs(subOpts, function (err, res) {\n        /* istanbul ignore if */\n        if (err) {\n          return reject(err);\n        }\n        /* istanbul ignore if */\n        if (opts.update_seq && res.update_seq !== undefined) {\n          finalResults.update_seq = res.update_seq;\n        }\n        finalResults.total_rows = res.total_rows;\n        resolve(res.rows[0] || {key: key, error: 'not_found'});\n      });\n    });\n  })).then(function (results) {\n    finalResults.rows = results;\n    return finalResults;\n  });\n}\n\nfunction toObject(array) {\n  return array.reduce(function (obj, item) {\n    obj[item] = true;\n    return obj;\n  }, {});\n}\n// List of top level reserved words for doc\nvar reservedWords = toObject([\n  '_id',\n  '_rev',\n  '_attachments',\n  '_deleted',\n  '_revisions',\n  '_revs_info',\n  '_conflicts',\n  '_deleted_conflicts',\n  '_local_seq',\n  '_rev_tree',\n  //replication documents\n  '_replication_id',\n  '_replication_state',\n  '_replication_state_time',\n  '_replication_state_reason',\n  '_replication_stats',\n  // Specific to Couchbase Sync Gateway\n  '_removed'\n]);\n\n// List of reserved words that should end up the document\nvar dataWords = toObject([\n  '_attachments',\n  //replication documents\n  '_replication_id',\n  '_replication_state',\n  '_replication_state_time',\n  '_replication_state_reason',\n  '_replication_stats'\n]);\n\nfunction parseRevisionInfo(rev$$1) {\n  if (!/^\\d+-./.test(rev$$1)) {\n    return createError(INVALID_REV);\n  }\n  var idx = rev$$1.indexOf('-');\n  var left = rev$$1.substring(0, idx);\n  var right = rev$$1.substring(idx + 1);\n  return {\n    prefix: parseInt(left, 10),\n    id: right\n  };\n}\n\nfunction makeRevTreeFromRevisions(revisions, opts) {\n  var pos = revisions.start - revisions.ids.length + 1;\n\n  var revisionIds = revisions.ids;\n  var ids = [revisionIds[0], opts, []];\n\n  for (var i = 1, len = revisionIds.length; i < len; i++) {\n    ids = [revisionIds[i], {status: 'missing'}, [ids]];\n  }\n\n  return [{\n    pos: pos,\n    ids: ids\n  }];\n}\n\n// Preprocess documents, parse their revisions, assign an id and a\n// revision for new writes that are missing them, etc\nfunction parseDoc(doc, newEdits, dbOpts) {\n  if (!dbOpts) {\n    dbOpts = {\n      deterministic_revs: true\n    };\n  }\n\n  var nRevNum;\n  var newRevId;\n  var revInfo;\n  var opts = {status: 'available'};\n  if (doc._deleted) {\n    opts.deleted = true;\n  }\n\n  if (newEdits) {\n    if (!doc._id) {\n      doc._id = uuid();\n    }\n    newRevId = rev(doc, dbOpts.deterministic_revs);\n    if (doc._rev) {\n      revInfo = parseRevisionInfo(doc._rev);\n      if (revInfo.error) {\n        return revInfo;\n      }\n      doc._rev_tree = [{\n        pos: revInfo.prefix,\n        ids: [revInfo.id, {status: 'missing'}, [[newRevId, opts, []]]]\n      }];\n      nRevNum = revInfo.prefix + 1;\n    } else {\n      doc._rev_tree = [{\n        pos: 1,\n        ids : [newRevId, opts, []]\n      }];\n      nRevNum = 1;\n    }\n  } else {\n    if (doc._revisions) {\n      doc._rev_tree = makeRevTreeFromRevisions(doc._revisions, opts);\n      nRevNum = doc._revisions.start;\n      newRevId = doc._revisions.ids[0];\n    }\n    if (!doc._rev_tree) {\n      revInfo = parseRevisionInfo(doc._rev);\n      if (revInfo.error) {\n        return revInfo;\n      }\n      nRevNum = revInfo.prefix;\n      newRevId = revInfo.id;\n      doc._rev_tree = [{\n        pos: nRevNum,\n        ids: [newRevId, opts, []]\n      }];\n    }\n  }\n\n  invalidIdError(doc._id);\n\n  doc._rev = nRevNum + '-' + newRevId;\n\n  var result = {metadata : {}, data : {}};\n  for (var key in doc) {\n    /* istanbul ignore else */\n    if (Object.prototype.hasOwnProperty.call(doc, key)) {\n      var specialKey = key[0] === '_';\n      if (specialKey && !reservedWords[key]) {\n        var error = createError(DOC_VALIDATION, key);\n        error.message = DOC_VALIDATION.message + ': ' + key;\n        throw error;\n      } else if (specialKey && !dataWords[key]) {\n        result.metadata[key.slice(1)] = doc[key];\n      } else {\n        result.data[key] = doc[key];\n      }\n    }\n  }\n  return result;\n}\n\nfunction parseBase64(data) {\n  try {\n    return atob(data);\n  } catch (e) {\n    var err = createError(BAD_ARG,\n      'Attachment is not a valid base64 string');\n    return {error: err};\n  }\n}\n\nfunction preprocessString(att, blobType, callback) {\n  var asBinary = parseBase64(att.data);\n  if (asBinary.error) {\n    return callback(asBinary.error);\n  }\n\n  att.length = asBinary.length;\n  if (blobType === 'blob') {\n    att.data = binaryStringToBlobOrBuffer(asBinary, att.content_type);\n  } else if (blobType === 'base64') {\n    att.data = btoa(asBinary);\n  } else { // binary\n    att.data = asBinary;\n  }\n  binaryMd5(asBinary, function (result) {\n    att.digest = 'md5-' + result;\n    callback();\n  });\n}\n\nfunction preprocessBlob(att, blobType, callback) {\n  binaryMd5(att.data, function (md5) {\n    att.digest = 'md5-' + md5;\n    // size is for blobs (browser), length is for buffers (node)\n    att.length = att.data.size || att.data.length || 0;\n    if (blobType === 'binary') {\n      blobOrBufferToBinaryString(att.data, function (binString) {\n        att.data = binString;\n        callback();\n      });\n    } else if (blobType === 'base64') {\n      blobOrBufferToBase64(att.data, function (b64) {\n        att.data = b64;\n        callback();\n      });\n    } else {\n      callback();\n    }\n  });\n}\n\nfunction preprocessAttachment(att, blobType, callback) {\n  if (att.stub) {\n    return callback();\n  }\n  if (typeof att.data === 'string') { // input is a base64 string\n    preprocessString(att, blobType, callback);\n  } else { // input is a blob\n    preprocessBlob(att, blobType, callback);\n  }\n}\n\nfunction preprocessAttachments(docInfos, blobType, callback) {\n\n  if (!docInfos.length) {\n    return callback();\n  }\n\n  var docv = 0;\n  var overallErr;\n\n  docInfos.forEach(function (docInfo) {\n    var attachments = docInfo.data && docInfo.data._attachments ?\n      Object.keys(docInfo.data._attachments) : [];\n    var recv = 0;\n\n    if (!attachments.length) {\n      return done();\n    }\n\n    function processedAttachment(err) {\n      overallErr = err;\n      recv++;\n      if (recv === attachments.length) {\n        done();\n      }\n    }\n\n    for (var key in docInfo.data._attachments) {\n      if (docInfo.data._attachments.hasOwnProperty(key)) {\n        preprocessAttachment(docInfo.data._attachments[key],\n          blobType, processedAttachment);\n      }\n    }\n  });\n\n  function done() {\n    docv++;\n    if (docInfos.length === docv) {\n      if (overallErr) {\n        callback(overallErr);\n      } else {\n        callback();\n      }\n    }\n  }\n}\n\nfunction updateDoc(revLimit, prev, docInfo, results,\n                   i, cb, writeDoc, newEdits) {\n\n  if (revExists(prev.rev_tree, docInfo.metadata.rev) && !newEdits) {\n    results[i] = docInfo;\n    return cb();\n  }\n\n  // sometimes this is pre-calculated. historically not always\n  var previousWinningRev = prev.winningRev || winningRev(prev);\n  var previouslyDeleted = 'deleted' in prev ? prev.deleted :\n    isDeleted(prev, previousWinningRev);\n  var deleted = 'deleted' in docInfo.metadata ? docInfo.metadata.deleted :\n    isDeleted(docInfo.metadata);\n  var isRoot = /^1-/.test(docInfo.metadata.rev);\n\n  if (previouslyDeleted && !deleted && newEdits && isRoot) {\n    var newDoc = docInfo.data;\n    newDoc._rev = previousWinningRev;\n    newDoc._id = docInfo.metadata.id;\n    docInfo = parseDoc(newDoc, newEdits);\n  }\n\n  var merged = merge(prev.rev_tree, docInfo.metadata.rev_tree[0], revLimit);\n\n  var inConflict = newEdits && ((\n    (previouslyDeleted && deleted && merged.conflicts !== 'new_leaf') ||\n    (!previouslyDeleted && merged.conflicts !== 'new_leaf') ||\n    (previouslyDeleted && !deleted && merged.conflicts === 'new_branch')));\n\n  if (inConflict) {\n    var err = createError(REV_CONFLICT);\n    results[i] = err;\n    return cb();\n  }\n\n  var newRev = docInfo.metadata.rev;\n  docInfo.metadata.rev_tree = merged.tree;\n  docInfo.stemmedRevs = merged.stemmedRevs || [];\n  /* istanbul ignore else */\n  if (prev.rev_map) {\n    docInfo.metadata.rev_map = prev.rev_map; // used only by leveldb\n  }\n\n  // recalculate\n  var winningRev$$1 = winningRev(docInfo.metadata);\n  var winningRevIsDeleted = isDeleted(docInfo.metadata, winningRev$$1);\n\n  // calculate the total number of documents that were added/removed,\n  // from the perspective of total_rows/doc_count\n  var delta = (previouslyDeleted === winningRevIsDeleted) ? 0 :\n    previouslyDeleted < winningRevIsDeleted ? -1 : 1;\n\n  var newRevIsDeleted;\n  if (newRev === winningRev$$1) {\n    // if the new rev is the same as the winning rev, we can reuse that value\n    newRevIsDeleted = winningRevIsDeleted;\n  } else {\n    // if they're not the same, then we need to recalculate\n    newRevIsDeleted = isDeleted(docInfo.metadata, newRev);\n  }\n\n  writeDoc(docInfo, winningRev$$1, winningRevIsDeleted, newRevIsDeleted,\n    true, delta, i, cb);\n}\n\nfunction rootIsMissing(docInfo) {\n  return docInfo.metadata.rev_tree[0].ids[1].status === 'missing';\n}\n\nfunction processDocs(revLimit, docInfos, api, fetchedDocs, tx, results,\n                     writeDoc, opts, overallCallback) {\n\n  // Default to 1000 locally\n  revLimit = revLimit || 1000;\n\n  function insertDoc(docInfo, resultsIdx, callback) {\n    // Cant insert new deleted documents\n    var winningRev$$1 = winningRev(docInfo.metadata);\n    var deleted = isDeleted(docInfo.metadata, winningRev$$1);\n    if ('was_delete' in opts && deleted) {\n      results[resultsIdx] = createError(MISSING_DOC, 'deleted');\n      return callback();\n    }\n\n    // 4712 - detect whether a new document was inserted with a _rev\n    var inConflict = newEdits && rootIsMissing(docInfo);\n\n    if (inConflict) {\n      var err = createError(REV_CONFLICT);\n      results[resultsIdx] = err;\n      return callback();\n    }\n\n    var delta = deleted ? 0 : 1;\n\n    writeDoc(docInfo, winningRev$$1, deleted, deleted, false,\n      delta, resultsIdx, callback);\n  }\n\n  var newEdits = opts.new_edits;\n  var idsToDocs = new Map();\n\n  var docsDone = 0;\n  var docsToDo = docInfos.length;\n\n  function checkAllDocsDone() {\n    if (++docsDone === docsToDo && overallCallback) {\n      overallCallback();\n    }\n  }\n\n  docInfos.forEach(function (currentDoc, resultsIdx) {\n\n    if (currentDoc._id && isLocalId(currentDoc._id)) {\n      var fun = currentDoc._deleted ? '_removeLocal' : '_putLocal';\n      api[fun](currentDoc, {ctx: tx}, function (err, res) {\n        results[resultsIdx] = err || res;\n        checkAllDocsDone();\n      });\n      return;\n    }\n\n    var id = currentDoc.metadata.id;\n    if (idsToDocs.has(id)) {\n      docsToDo--; // duplicate\n      idsToDocs.get(id).push([currentDoc, resultsIdx]);\n    } else {\n      idsToDocs.set(id, [[currentDoc, resultsIdx]]);\n    }\n  });\n\n  // in the case of new_edits, the user can provide multiple docs\n  // with the same id. these need to be processed sequentially\n  idsToDocs.forEach(function (docs, id) {\n    var numDone = 0;\n\n    function docWritten() {\n      if (++numDone < docs.length) {\n        nextDoc();\n      } else {\n        checkAllDocsDone();\n      }\n    }\n    function nextDoc() {\n      var value = docs[numDone];\n      var currentDoc = value[0];\n      var resultsIdx = value[1];\n\n      if (fetchedDocs.has(id)) {\n        updateDoc(revLimit, fetchedDocs.get(id), currentDoc, results,\n          resultsIdx, docWritten, writeDoc, newEdits);\n      } else {\n        // Ensure stemming applies to new writes as well\n        var merged = merge([], currentDoc.metadata.rev_tree[0], revLimit);\n        currentDoc.metadata.rev_tree = merged.tree;\n        currentDoc.stemmedRevs = merged.stemmedRevs || [];\n        insertDoc(currentDoc, resultsIdx, docWritten);\n      }\n    }\n    nextDoc();\n  });\n}\n\nexport { allDocsKeysQuery, parseDoc, preprocessAttachments, processDocs, updateDoc };\n","'use strict';\n\n/**\n * Stringify/parse functions that don't operate\n * recursively, so they avoid call stack exceeded\n * errors.\n */\nexports.stringify = function stringify(input) {\n  var queue = [];\n  queue.push({obj: input});\n\n  var res = '';\n  var next, obj, prefix, val, i, arrayPrefix, keys, k, key, value, objPrefix;\n  while ((next = queue.pop())) {\n    obj = next.obj;\n    prefix = next.prefix || '';\n    val = next.val || '';\n    res += prefix;\n    if (val) {\n      res += val;\n    } else if (typeof obj !== 'object') {\n      res += typeof obj === 'undefined' ? null : JSON.stringify(obj);\n    } else if (obj === null) {\n      res += 'null';\n    } else if (Array.isArray(obj)) {\n      queue.push({val: ']'});\n      for (i = obj.length - 1; i >= 0; i--) {\n        arrayPrefix = i === 0 ? '' : ',';\n        queue.push({obj: obj[i], prefix: arrayPrefix});\n      }\n      queue.push({val: '['});\n    } else { // object\n      keys = [];\n      for (k in obj) {\n        if (obj.hasOwnProperty(k)) {\n          keys.push(k);\n        }\n      }\n      queue.push({val: '}'});\n      for (i = keys.length - 1; i >= 0; i--) {\n        key = keys[i];\n        value = obj[key];\n        objPrefix = (i > 0 ? ',' : '');\n        objPrefix += JSON.stringify(key) + ':';\n        queue.push({obj: value, prefix: objPrefix});\n      }\n      queue.push({val: '{'});\n    }\n  }\n  return res;\n};\n\n// Convenience function for the parse function.\n// This pop function is basically copied from\n// pouchCollate.parseIndexableString\nfunction pop(obj, stack, metaStack) {\n  var lastMetaElement = metaStack[metaStack.length - 1];\n  if (obj === lastMetaElement.element) {\n    // popping a meta-element, e.g. an object whose value is another object\n    metaStack.pop();\n    lastMetaElement = metaStack[metaStack.length - 1];\n  }\n  var element = lastMetaElement.element;\n  var lastElementIndex = lastMetaElement.index;\n  if (Array.isArray(element)) {\n    element.push(obj);\n  } else if (lastElementIndex === stack.length - 2) { // obj with key+value\n    var key = stack.pop();\n    element[key] = obj;\n  } else {\n    stack.push(obj); // obj with key only\n  }\n}\n\nexports.parse = function (str) {\n  var stack = [];\n  var metaStack = []; // stack for arrays and objects\n  var i = 0;\n  var collationIndex,parsedNum,numChar;\n  var parsedString,lastCh,numConsecutiveSlashes,ch;\n  var arrayElement, objElement;\n  while (true) {\n    collationIndex = str[i++];\n    if (collationIndex === '}' ||\n        collationIndex === ']' ||\n        typeof collationIndex === 'undefined') {\n      if (stack.length === 1) {\n        return stack.pop();\n      } else {\n        pop(stack.pop(), stack, metaStack);\n        continue;\n      }\n    }\n    switch (collationIndex) {\n      case ' ':\n      case '\\t':\n      case '\\n':\n      case ':':\n      case ',':\n        break;\n      case 'n':\n        i += 3; // 'ull'\n        pop(null, stack, metaStack);\n        break;\n      case 't':\n        i += 3; // 'rue'\n        pop(true, stack, metaStack);\n        break;\n      case 'f':\n        i += 4; // 'alse'\n        pop(false, stack, metaStack);\n        break;\n      case '0':\n      case '1':\n      case '2':\n      case '3':\n      case '4':\n      case '5':\n      case '6':\n      case '7':\n      case '8':\n      case '9':\n      case '-':\n        parsedNum = '';\n        i--;\n        while (true) {\n          numChar = str[i++];\n          if (/[\\d\\.\\-e\\+]/.test(numChar)) {\n            parsedNum += numChar;\n          } else {\n            i--;\n            break;\n          }\n        }\n        pop(parseFloat(parsedNum), stack, metaStack);\n        break;\n      case '\"':\n        parsedString = '';\n        lastCh = void 0;\n        numConsecutiveSlashes = 0;\n        while (true) {\n          ch = str[i++];\n          if (ch !== '\"' || (lastCh === '\\\\' &&\n              numConsecutiveSlashes % 2 === 1)) {\n            parsedString += ch;\n            lastCh = ch;\n            if (lastCh === '\\\\') {\n              numConsecutiveSlashes++;\n            } else {\n              numConsecutiveSlashes = 0;\n            }\n          } else {\n            break;\n          }\n        }\n        pop(JSON.parse('\"' + parsedString + '\"'), stack, metaStack);\n        break;\n      case '[':\n        arrayElement = { element: [], index: stack.length };\n        stack.push(arrayElement.element);\n        metaStack.push(arrayElement);\n        break;\n      case '{':\n        objElement = { element: {}, index: stack.length };\n        stack.push(objElement.element);\n        metaStack.push(objElement);\n        break;\n      default:\n        throw new Error(\n          'unexpectedly reached end of input: ' + collationIndex);\n    }\n  }\n};\n","import vuvuzela from 'vuvuzela';\n\nfunction safeJsonParse(str) {\n  // This try/catch guards against stack overflow errors.\n  // JSON.parse() is faster than vuvuzela.parse() but vuvuzela\n  // cannot overflow.\n  try {\n    return JSON.parse(str);\n  } catch (e) {\n    /* istanbul ignore next */\n    return vuvuzela.parse(str);\n  }\n}\n\nfunction safeJsonStringify(json) {\n  try {\n    return JSON.stringify(json);\n  } catch (e) {\n    /* istanbul ignore next */\n    return vuvuzela.stringify(json);\n  }\n}\n\nexport { safeJsonParse, safeJsonStringify };\n","import { preprocessAttachments, processDocs, isLocalId, parseDoc } from 'pouchdb-adapter-utils';\nimport { safeJsonParse, safeJsonStringify } from 'pouchdb-json';\nimport { compactTree, collectConflicts, isDeleted, isLocalId as isLocalId$1, traverseRevTree, winningRev, latest } from 'pouchdb-merge';\nimport { btoa, readAsBinaryString, base64StringToBlobOrBuffer, blob } from 'pouchdb-binary-utils';\nimport { createError, IDB_ERROR, MISSING_STUB, MISSING_DOC, REV_CONFLICT } from 'pouchdb-errors';\nimport { Map, Set } from 'pouchdb-collections';\nimport { assign, pick, changesHandler, nextTick, clone, filterChange, uuid, guardedConsole, toPromise, hasLocalStorage } from 'pouchdb-utils';\n\n// IndexedDB requires a versioned database structure, so we use the\n// version here to manage migrations.\nvar ADAPTER_VERSION = 5;\n\n// The object stores created for each database\n// DOC_STORE stores the document meta data, its revision history and state\n// Keyed by document id\nvar DOC_STORE = 'document-store';\n// BY_SEQ_STORE stores a particular version of a document, keyed by its\n// sequence id\nvar BY_SEQ_STORE = 'by-sequence';\n// Where we store attachments\nvar ATTACH_STORE = 'attach-store';\n// Where we store many-to-many relations\n// between attachment digests and seqs\nvar ATTACH_AND_SEQ_STORE = 'attach-seq-store';\n\n// Where we store database-wide meta data in a single record\n// keyed by id: META_STORE\nvar META_STORE = 'meta-store';\n// Where we store local documents\nvar LOCAL_STORE = 'local-store';\n// Where we detect blob support\nvar DETECT_BLOB_SUPPORT_STORE = 'detect-blob-support';\n\nfunction idbError(callback) {\n  return function (evt) {\n    var message = 'unknown_error';\n    if (evt.target && evt.target.error) {\n      message = evt.target.error.name || evt.target.error.message;\n    }\n    callback(createError(IDB_ERROR, message, evt.type));\n  };\n}\n\n// Unfortunately, the metadata has to be stringified\n// when it is put into the database, because otherwise\n// IndexedDB can throw errors for deeply-nested objects.\n// Originally we just used JSON.parse/JSON.stringify; now\n// we use this custom vuvuzela library that avoids recursion.\n// If we could do it all over again, we'd probably use a\n// format for the revision trees other than JSON.\nfunction encodeMetadata(metadata, winningRev$$1, deleted) {\n  return {\n    data: safeJsonStringify(metadata),\n    winningRev: winningRev$$1,\n    deletedOrLocal: deleted ? '1' : '0',\n    seq: metadata.seq, // highest seq for this doc\n    id: metadata.id\n  };\n}\n\nfunction decodeMetadata(storedObject) {\n  if (!storedObject) {\n    return null;\n  }\n  var metadata = safeJsonParse(storedObject.data);\n  metadata.winningRev = storedObject.winningRev;\n  metadata.deleted = storedObject.deletedOrLocal === '1';\n  metadata.seq = storedObject.seq;\n  return metadata;\n}\n\n// read the doc back out from the database. we don't store the\n// _id or _rev because we already have _doc_id_rev.\nfunction decodeDoc(doc) {\n  if (!doc) {\n    return doc;\n  }\n  var idx = doc._doc_id_rev.lastIndexOf(':');\n  doc._id = doc._doc_id_rev.substring(0, idx - 1);\n  doc._rev = doc._doc_id_rev.substring(idx + 1);\n  delete doc._doc_id_rev;\n  return doc;\n}\n\n// Read a blob from the database, encoding as necessary\n// and translating from base64 if the IDB doesn't support\n// native Blobs\nfunction readBlobData(body, type, asBlob, callback) {\n  if (asBlob) {\n    if (!body) {\n      callback(blob([''], {type: type}));\n    } else if (typeof body !== 'string') { // we have blob support\n      callback(body);\n    } else { // no blob support\n      callback(base64StringToBlobOrBuffer(body, type));\n    }\n  } else { // as base64 string\n    if (!body) {\n      callback('');\n    } else if (typeof body !== 'string') { // we have blob support\n      readAsBinaryString(body, function (binary) {\n        callback(btoa(binary));\n      });\n    } else { // no blob support\n      callback(body);\n    }\n  }\n}\n\nfunction fetchAttachmentsIfNecessary(doc, opts, txn, cb) {\n  var attachments = Object.keys(doc._attachments || {});\n  if (!attachments.length) {\n    return cb && cb();\n  }\n  var numDone = 0;\n\n  function checkDone() {\n    if (++numDone === attachments.length && cb) {\n      cb();\n    }\n  }\n\n  function fetchAttachment(doc, att) {\n    var attObj = doc._attachments[att];\n    var digest = attObj.digest;\n    var req = txn.objectStore(ATTACH_STORE).get(digest);\n    req.onsuccess = function (e) {\n      attObj.body = e.target.result.body;\n      checkDone();\n    };\n  }\n\n  attachments.forEach(function (att) {\n    if (opts.attachments && opts.include_docs) {\n      fetchAttachment(doc, att);\n    } else {\n      doc._attachments[att].stub = true;\n      checkDone();\n    }\n  });\n}\n\n// IDB-specific postprocessing necessary because\n// we don't know whether we stored a true Blob or\n// a base64-encoded string, and if it's a Blob it\n// needs to be read outside of the transaction context\nfunction postProcessAttachments(results, asBlob) {\n  return Promise.all(results.map(function (row) {\n    if (row.doc && row.doc._attachments) {\n      var attNames = Object.keys(row.doc._attachments);\n      return Promise.all(attNames.map(function (att) {\n        var attObj = row.doc._attachments[att];\n        if (!('body' in attObj)) { // already processed\n          return;\n        }\n        var body = attObj.body;\n        var type = attObj.content_type;\n        return new Promise(function (resolve) {\n          readBlobData(body, type, asBlob, function (data) {\n            row.doc._attachments[att] = assign(\n              pick(attObj, ['digest', 'content_type']),\n              {data: data}\n            );\n            resolve();\n          });\n        });\n      }));\n    }\n  }));\n}\n\nfunction compactRevs(revs, docId, txn) {\n\n  var possiblyOrphanedDigests = [];\n  var seqStore = txn.objectStore(BY_SEQ_STORE);\n  var attStore = txn.objectStore(ATTACH_STORE);\n  var attAndSeqStore = txn.objectStore(ATTACH_AND_SEQ_STORE);\n  var count = revs.length;\n\n  function checkDone() {\n    count--;\n    if (!count) { // done processing all revs\n      deleteOrphanedAttachments();\n    }\n  }\n\n  function deleteOrphanedAttachments() {\n    if (!possiblyOrphanedDigests.length) {\n      return;\n    }\n    possiblyOrphanedDigests.forEach(function (digest) {\n      var countReq = attAndSeqStore.index('digestSeq').count(\n        IDBKeyRange.bound(\n          digest + '::', digest + '::\\uffff', false, false));\n      countReq.onsuccess = function (e) {\n        var count = e.target.result;\n        if (!count) {\n          // orphaned\n          attStore.delete(digest);\n        }\n      };\n    });\n  }\n\n  revs.forEach(function (rev) {\n    var index = seqStore.index('_doc_id_rev');\n    var key = docId + \"::\" + rev;\n    index.getKey(key).onsuccess = function (e) {\n      var seq = e.target.result;\n      if (typeof seq !== 'number') {\n        return checkDone();\n      }\n      seqStore.delete(seq);\n\n      var cursor = attAndSeqStore.index('seq')\n        .openCursor(IDBKeyRange.only(seq));\n\n      cursor.onsuccess = function (event) {\n        var cursor = event.target.result;\n        if (cursor) {\n          var digest = cursor.value.digestSeq.split('::')[0];\n          possiblyOrphanedDigests.push(digest);\n          attAndSeqStore.delete(cursor.primaryKey);\n          cursor.continue();\n        } else { // done\n          checkDone();\n        }\n      };\n    };\n  });\n}\n\nfunction openTransactionSafely(idb, stores, mode) {\n  try {\n    return {\n      txn: idb.transaction(stores, mode)\n    };\n  } catch (err) {\n    return {\n      error: err\n    };\n  }\n}\n\nvar changesHandler$1 = new changesHandler();\n\nfunction idbBulkDocs(dbOpts, req, opts, api, idb, callback) {\n  var docInfos = req.docs;\n  var txn;\n  var docStore;\n  var bySeqStore;\n  var attachStore;\n  var attachAndSeqStore;\n  var metaStore;\n  var docInfoError;\n  var metaDoc;\n\n  for (var i = 0, len = docInfos.length; i < len; i++) {\n    var doc = docInfos[i];\n    if (doc._id && isLocalId(doc._id)) {\n      continue;\n    }\n    doc = docInfos[i] = parseDoc(doc, opts.new_edits, dbOpts);\n    if (doc.error && !docInfoError) {\n      docInfoError = doc;\n    }\n  }\n\n  if (docInfoError) {\n    return callback(docInfoError);\n  }\n\n  var allDocsProcessed = false;\n  var docCountDelta = 0;\n  var results = new Array(docInfos.length);\n  var fetchedDocs = new Map();\n  var preconditionErrored = false;\n  var blobType = api._meta.blobSupport ? 'blob' : 'base64';\n\n  preprocessAttachments(docInfos, blobType, function (err) {\n    if (err) {\n      return callback(err);\n    }\n    startTransaction();\n  });\n\n  function startTransaction() {\n\n    var stores = [\n      DOC_STORE, BY_SEQ_STORE,\n      ATTACH_STORE,\n      LOCAL_STORE, ATTACH_AND_SEQ_STORE,\n      META_STORE\n    ];\n    var txnResult = openTransactionSafely(idb, stores, 'readwrite');\n    if (txnResult.error) {\n      return callback(txnResult.error);\n    }\n    txn = txnResult.txn;\n    txn.onabort = idbError(callback);\n    txn.ontimeout = idbError(callback);\n    txn.oncomplete = complete;\n    docStore = txn.objectStore(DOC_STORE);\n    bySeqStore = txn.objectStore(BY_SEQ_STORE);\n    attachStore = txn.objectStore(ATTACH_STORE);\n    attachAndSeqStore = txn.objectStore(ATTACH_AND_SEQ_STORE);\n    metaStore = txn.objectStore(META_STORE);\n\n    metaStore.get(META_STORE).onsuccess = function (e) {\n      metaDoc = e.target.result;\n      updateDocCountIfReady();\n    };\n\n    verifyAttachments(function (err) {\n      if (err) {\n        preconditionErrored = true;\n        return callback(err);\n      }\n      fetchExistingDocs();\n    });\n  }\n\n  function onAllDocsProcessed() {\n    allDocsProcessed = true;\n    updateDocCountIfReady();\n  }\n\n  function idbProcessDocs() {\n    processDocs(dbOpts.revs_limit, docInfos, api, fetchedDocs,\n                txn, results, writeDoc, opts, onAllDocsProcessed);\n  }\n\n  function updateDocCountIfReady() {\n    if (!metaDoc || !allDocsProcessed) {\n      return;\n    }\n    // caching the docCount saves a lot of time in allDocs() and\n    // info(), which is why we go to all the trouble of doing this\n    metaDoc.docCount += docCountDelta;\n    metaStore.put(metaDoc);\n  }\n\n  function fetchExistingDocs() {\n\n    if (!docInfos.length) {\n      return;\n    }\n\n    var numFetched = 0;\n\n    function checkDone() {\n      if (++numFetched === docInfos.length) {\n        idbProcessDocs();\n      }\n    }\n\n    function readMetadata(event) {\n      var metadata = decodeMetadata(event.target.result);\n\n      if (metadata) {\n        fetchedDocs.set(metadata.id, metadata);\n      }\n      checkDone();\n    }\n\n    for (var i = 0, len = docInfos.length; i < len; i++) {\n      var docInfo = docInfos[i];\n      if (docInfo._id && isLocalId(docInfo._id)) {\n        checkDone(); // skip local docs\n        continue;\n      }\n      var req = docStore.get(docInfo.metadata.id);\n      req.onsuccess = readMetadata;\n    }\n  }\n\n  function complete() {\n    if (preconditionErrored) {\n      return;\n    }\n\n    changesHandler$1.notify(api._meta.name);\n    callback(null, results);\n  }\n\n  function verifyAttachment(digest, callback) {\n\n    var req = attachStore.get(digest);\n    req.onsuccess = function (e) {\n      if (!e.target.result) {\n        var err = createError(MISSING_STUB,\n          'unknown stub attachment with digest ' +\n          digest);\n        err.status = 412;\n        callback(err);\n      } else {\n        callback();\n      }\n    };\n  }\n\n  function verifyAttachments(finish) {\n\n\n    var digests = [];\n    docInfos.forEach(function (docInfo) {\n      if (docInfo.data && docInfo.data._attachments) {\n        Object.keys(docInfo.data._attachments).forEach(function (filename) {\n          var att = docInfo.data._attachments[filename];\n          if (att.stub) {\n            digests.push(att.digest);\n          }\n        });\n      }\n    });\n    if (!digests.length) {\n      return finish();\n    }\n    var numDone = 0;\n    var err;\n\n    function checkDone() {\n      if (++numDone === digests.length) {\n        finish(err);\n      }\n    }\n    digests.forEach(function (digest) {\n      verifyAttachment(digest, function (attErr) {\n        if (attErr && !err) {\n          err = attErr;\n        }\n        checkDone();\n      });\n    });\n  }\n\n  function writeDoc(docInfo, winningRev$$1, winningRevIsDeleted, newRevIsDeleted,\n                    isUpdate, delta, resultsIdx, callback) {\n\n    docInfo.metadata.winningRev = winningRev$$1;\n    docInfo.metadata.deleted = winningRevIsDeleted;\n\n    var doc = docInfo.data;\n    doc._id = docInfo.metadata.id;\n    doc._rev = docInfo.metadata.rev;\n\n    if (newRevIsDeleted) {\n      doc._deleted = true;\n    }\n\n    var hasAttachments = doc._attachments &&\n      Object.keys(doc._attachments).length;\n    if (hasAttachments) {\n      return writeAttachments(docInfo, winningRev$$1, winningRevIsDeleted,\n        isUpdate, resultsIdx, callback);\n    }\n\n    docCountDelta += delta;\n    updateDocCountIfReady();\n\n    finishDoc(docInfo, winningRev$$1, winningRevIsDeleted,\n      isUpdate, resultsIdx, callback);\n  }\n\n  function finishDoc(docInfo, winningRev$$1, winningRevIsDeleted,\n                     isUpdate, resultsIdx, callback) {\n\n    var doc = docInfo.data;\n    var metadata = docInfo.metadata;\n\n    doc._doc_id_rev = metadata.id + '::' + metadata.rev;\n    delete doc._id;\n    delete doc._rev;\n\n    function afterPutDoc(e) {\n      var revsToDelete = docInfo.stemmedRevs || [];\n\n      if (isUpdate && api.auto_compaction) {\n        revsToDelete = revsToDelete.concat(compactTree(docInfo.metadata));\n      }\n\n      if (revsToDelete && revsToDelete.length) {\n        compactRevs(revsToDelete, docInfo.metadata.id, txn);\n      }\n\n      metadata.seq = e.target.result;\n      // Current _rev is calculated from _rev_tree on read\n      // delete metadata.rev;\n      var metadataToStore = encodeMetadata(metadata, winningRev$$1,\n        winningRevIsDeleted);\n      var metaDataReq = docStore.put(metadataToStore);\n      metaDataReq.onsuccess = afterPutMetadata;\n    }\n\n    function afterPutDocError(e) {\n      // ConstraintError, need to update, not put (see #1638 for details)\n      e.preventDefault(); // avoid transaction abort\n      e.stopPropagation(); // avoid transaction onerror\n      var index = bySeqStore.index('_doc_id_rev');\n      var getKeyReq = index.getKey(doc._doc_id_rev);\n      getKeyReq.onsuccess = function (e) {\n        var putReq = bySeqStore.put(doc, e.target.result);\n        putReq.onsuccess = afterPutDoc;\n      };\n    }\n\n    function afterPutMetadata() {\n      results[resultsIdx] = {\n        ok: true,\n        id: metadata.id,\n        rev: metadata.rev\n      };\n      fetchedDocs.set(docInfo.metadata.id, docInfo.metadata);\n      insertAttachmentMappings(docInfo, metadata.seq, callback);\n    }\n\n    var putReq = bySeqStore.put(doc);\n\n    putReq.onsuccess = afterPutDoc;\n    putReq.onerror = afterPutDocError;\n  }\n\n  function writeAttachments(docInfo, winningRev$$1, winningRevIsDeleted,\n                            isUpdate, resultsIdx, callback) {\n\n\n    var doc = docInfo.data;\n\n    var numDone = 0;\n    var attachments = Object.keys(doc._attachments);\n\n    function collectResults() {\n      if (numDone === attachments.length) {\n        finishDoc(docInfo, winningRev$$1, winningRevIsDeleted,\n          isUpdate, resultsIdx, callback);\n      }\n    }\n\n    function attachmentSaved() {\n      numDone++;\n      collectResults();\n    }\n\n    attachments.forEach(function (key) {\n      var att = docInfo.data._attachments[key];\n      if (!att.stub) {\n        var data = att.data;\n        delete att.data;\n        att.revpos = parseInt(winningRev$$1, 10);\n        var digest = att.digest;\n        saveAttachment(digest, data, attachmentSaved);\n      } else {\n        numDone++;\n        collectResults();\n      }\n    });\n  }\n\n  // map seqs to attachment digests, which\n  // we will need later during compaction\n  function insertAttachmentMappings(docInfo, seq, callback) {\n\n    var attsAdded = 0;\n    var attsToAdd = Object.keys(docInfo.data._attachments || {});\n\n    if (!attsToAdd.length) {\n      return callback();\n    }\n\n    function checkDone() {\n      if (++attsAdded === attsToAdd.length) {\n        callback();\n      }\n    }\n\n    function add(att) {\n      var digest = docInfo.data._attachments[att].digest;\n      var req = attachAndSeqStore.put({\n        seq: seq,\n        digestSeq: digest + '::' + seq\n      });\n\n      req.onsuccess = checkDone;\n      req.onerror = function (e) {\n        // this callback is for a constaint error, which we ignore\n        // because this docid/rev has already been associated with\n        // the digest (e.g. when new_edits == false)\n        e.preventDefault(); // avoid transaction abort\n        e.stopPropagation(); // avoid transaction onerror\n        checkDone();\n      };\n    }\n    for (var i = 0; i < attsToAdd.length; i++) {\n      add(attsToAdd[i]); // do in parallel\n    }\n  }\n\n  function saveAttachment(digest, data, callback) {\n\n\n    var getKeyReq = attachStore.count(digest);\n    getKeyReq.onsuccess = function (e) {\n      var count = e.target.result;\n      if (count) {\n        return callback(); // already exists\n      }\n      var newAtt = {\n        digest: digest,\n        body: data\n      };\n      var putReq = attachStore.put(newAtt);\n      putReq.onsuccess = callback;\n    };\n  }\n}\n\n// Abstraction over IDBCursor and getAll()/getAllKeys() that allows us to batch our operations\n// while falling back to a normal IDBCursor operation on browsers that don't support getAll() or\n// getAllKeys(). This allows for a much faster implementation than just straight-up cursors, because\n// we're not processing each document one-at-a-time.\nfunction runBatchedCursor(objectStore, keyRange, descending, batchSize, onBatch) {\n\n  if (batchSize === -1) {\n    batchSize = 1000;\n  }\n\n  // Bail out of getAll()/getAllKeys() in the following cases:\n  // 1) either method is unsupported - we need both\n  // 2) batchSize is 1 (might as well use IDBCursor)\n  // 3) descending – no real way to do this via getAll()/getAllKeys()\n\n  var useGetAll = typeof objectStore.getAll === 'function' &&\n    typeof objectStore.getAllKeys === 'function' &&\n    batchSize > 1 && !descending;\n\n  var keysBatch;\n  var valuesBatch;\n  var pseudoCursor;\n\n  function onGetAll(e) {\n    valuesBatch = e.target.result;\n    if (keysBatch) {\n      onBatch(keysBatch, valuesBatch, pseudoCursor);\n    }\n  }\n\n  function onGetAllKeys(e) {\n    keysBatch = e.target.result;\n    if (valuesBatch) {\n      onBatch(keysBatch, valuesBatch, pseudoCursor);\n    }\n  }\n\n  function continuePseudoCursor() {\n    if (!keysBatch.length) { // no more results\n      return onBatch();\n    }\n    // fetch next batch, exclusive start\n    var lastKey = keysBatch[keysBatch.length - 1];\n    var newKeyRange;\n    if (keyRange && keyRange.upper) {\n      try {\n        newKeyRange = IDBKeyRange.bound(lastKey, keyRange.upper,\n          true, keyRange.upperOpen);\n      } catch (e) {\n        if (e.name === \"DataError\" && e.code === 0) {\n          return onBatch(); // we're done, startkey and endkey are equal\n        }\n      }\n    } else {\n      newKeyRange = IDBKeyRange.lowerBound(lastKey, true);\n    }\n    keyRange = newKeyRange;\n    keysBatch = null;\n    valuesBatch = null;\n    objectStore.getAll(keyRange, batchSize).onsuccess = onGetAll;\n    objectStore.getAllKeys(keyRange, batchSize).onsuccess = onGetAllKeys;\n  }\n\n  function onCursor(e) {\n    var cursor = e.target.result;\n    if (!cursor) { // done\n      return onBatch();\n    }\n    // regular IDBCursor acts like a batch where batch size is always 1\n    onBatch([cursor.key], [cursor.value], cursor);\n  }\n\n  if (useGetAll) {\n    pseudoCursor = {\"continue\": continuePseudoCursor};\n    objectStore.getAll(keyRange, batchSize).onsuccess = onGetAll;\n    objectStore.getAllKeys(keyRange, batchSize).onsuccess = onGetAllKeys;\n  } else if (descending) {\n    objectStore.openCursor(keyRange, 'prev').onsuccess = onCursor;\n  } else {\n    objectStore.openCursor(keyRange).onsuccess = onCursor;\n  }\n}\n\n// simple shim for objectStore.getAll(), falling back to IDBCursor\nfunction getAll(objectStore, keyRange, onSuccess) {\n  if (typeof objectStore.getAll === 'function') {\n    // use native getAll\n    objectStore.getAll(keyRange).onsuccess = onSuccess;\n    return;\n  }\n  // fall back to cursors\n  var values = [];\n\n  function onCursor(e) {\n    var cursor = e.target.result;\n    if (cursor) {\n      values.push(cursor.value);\n      cursor.continue();\n    } else {\n      onSuccess({\n        target: {\n          result: values\n        }\n      });\n    }\n  }\n\n  objectStore.openCursor(keyRange).onsuccess = onCursor;\n}\n\nfunction allDocsKeys(keys, docStore, onBatch) {\n  // It's not guaranted to be returned in right order  \n  var valuesBatch = new Array(keys.length);\n  var count = 0;\n  keys.forEach(function (key, index) {\n    docStore.get(key).onsuccess = function (event) {\n      if (event.target.result) {\n        valuesBatch[index] = event.target.result;\n      } else {\n        valuesBatch[index] = {key: key, error: 'not_found'};\n      }\n      count++;\n      if (count === keys.length) {\n        onBatch(keys, valuesBatch, {});\n      }\n    };\n  });\n}\n\nfunction createKeyRange(start, end, inclusiveEnd, key, descending) {\n  try {\n    if (start && end) {\n      if (descending) {\n        return IDBKeyRange.bound(end, start, !inclusiveEnd, false);\n      } else {\n        return IDBKeyRange.bound(start, end, false, !inclusiveEnd);\n      }\n    } else if (start) {\n      if (descending) {\n        return IDBKeyRange.upperBound(start);\n      } else {\n        return IDBKeyRange.lowerBound(start);\n      }\n    } else if (end) {\n      if (descending) {\n        return IDBKeyRange.lowerBound(end, !inclusiveEnd);\n      } else {\n        return IDBKeyRange.upperBound(end, !inclusiveEnd);\n      }\n    } else if (key) {\n      return IDBKeyRange.only(key);\n    }\n  } catch (e) {\n    return {error: e};\n  }\n  return null;\n}\n\nfunction idbAllDocs(opts, idb, callback) {\n  var start = 'startkey' in opts ? opts.startkey : false;\n  var end = 'endkey' in opts ? opts.endkey : false;\n  var key = 'key' in opts ? opts.key : false;\n  var keys = 'keys' in opts ? opts.keys : false; \n  var skip = opts.skip || 0;\n  var limit = typeof opts.limit === 'number' ? opts.limit : -1;\n  var inclusiveEnd = opts.inclusive_end !== false;\n\n  var keyRange ; \n  var keyRangeError;\n  if (!keys) {\n    keyRange = createKeyRange(start, end, inclusiveEnd, key, opts.descending);\n    keyRangeError = keyRange && keyRange.error;\n    if (keyRangeError && \n      !(keyRangeError.name === \"DataError\" && keyRangeError.code === 0)) {\n      // DataError with error code 0 indicates start is less than end, so\n      // can just do an empty query. Else need to throw\n      return callback(createError(IDB_ERROR,\n        keyRangeError.name, keyRangeError.message));\n    }\n  }\n\n  var stores = [DOC_STORE, BY_SEQ_STORE, META_STORE];\n\n  if (opts.attachments) {\n    stores.push(ATTACH_STORE);\n  }\n  var txnResult = openTransactionSafely(idb, stores, 'readonly');\n  if (txnResult.error) {\n    return callback(txnResult.error);\n  }\n  var txn = txnResult.txn;\n  txn.oncomplete = onTxnComplete;\n  txn.onabort = idbError(callback);\n  var docStore = txn.objectStore(DOC_STORE);\n  var seqStore = txn.objectStore(BY_SEQ_STORE);\n  var metaStore = txn.objectStore(META_STORE);\n  var docIdRevIndex = seqStore.index('_doc_id_rev');\n  var results = [];\n  var docCount;\n  var updateSeq;\n\n  metaStore.get(META_STORE).onsuccess = function (e) {\n    docCount = e.target.result.docCount;\n  };\n\n  /* istanbul ignore if */\n  if (opts.update_seq) {\n    getMaxUpdateSeq(seqStore, function (e) { \n      if (e.target.result && e.target.result.length > 0) {\n        updateSeq = e.target.result[0];\n      }\n    });\n  }\n\n  function getMaxUpdateSeq(objectStore, onSuccess) {\n    function onCursor(e) {\n      var cursor = e.target.result;\n      var maxKey = undefined;\n      if (cursor && cursor.key) {\n        maxKey = cursor.key;\n      } \n      return onSuccess({\n        target: {\n          result: [maxKey]\n        }\n      });\n    }\n    objectStore.openCursor(null, 'prev').onsuccess = onCursor;\n  }\n\n  // if the user specifies include_docs=true, then we don't\n  // want to block the main cursor while we're fetching the doc\n  function fetchDocAsynchronously(metadata, row, winningRev$$1) {\n    var key = metadata.id + \"::\" + winningRev$$1;\n    docIdRevIndex.get(key).onsuccess =  function onGetDoc(e) {\n      row.doc = decodeDoc(e.target.result) || {};\n      if (opts.conflicts) {\n        var conflicts = collectConflicts(metadata);\n        if (conflicts.length) {\n          row.doc._conflicts = conflicts;\n        }\n      }\n      fetchAttachmentsIfNecessary(row.doc, opts, txn);\n    };\n  }\n\n  function allDocsInner(winningRev$$1, metadata) {\n    var row = {\n      id: metadata.id,\n      key: metadata.id,\n      value: {\n        rev: winningRev$$1\n      }\n    };\n    var deleted = metadata.deleted;\n    if (deleted) {\n      if (keys) {\n        results.push(row);\n        // deleted docs are okay with \"keys\" requests\n        row.value.deleted = true;\n        row.doc = null;\n      }\n    } else if (skip-- <= 0) {\n      results.push(row);\n      if (opts.include_docs) {\n        fetchDocAsynchronously(metadata, row, winningRev$$1);\n      }\n    }\n  }\n\n  function processBatch(batchValues) {\n    for (var i = 0, len = batchValues.length; i < len; i++) {\n      if (results.length === limit) {\n        break;\n      }\n      var batchValue = batchValues[i];\n      if (batchValue.error && keys) {\n        // key was not found with \"keys\" requests\n        results.push(batchValue);\n        continue;\n      }\n      var metadata = decodeMetadata(batchValue);\n      var winningRev$$1 = metadata.winningRev;\n      allDocsInner(winningRev$$1, metadata);\n    }\n  }\n\n  function onBatch(batchKeys, batchValues, cursor) {\n    if (!cursor) {\n      return;\n    }\n    processBatch(batchValues);\n    if (results.length < limit) {\n      cursor.continue();\n    }\n  }\n\n  function onGetAll(e) {\n    var values = e.target.result;\n    if (opts.descending) {\n      values = values.reverse();\n    }\n    processBatch(values);\n  }\n\n  function onResultsReady() {\n    var returnVal = {\n      total_rows: docCount,\n      offset: opts.skip,\n      rows: results\n    };\n    \n    /* istanbul ignore if */\n    if (opts.update_seq && updateSeq !== undefined) {\n      returnVal.update_seq = updateSeq;\n    }\n    callback(null, returnVal);\n  }\n\n  function onTxnComplete() {\n    if (opts.attachments) {\n      postProcessAttachments(results, opts.binary).then(onResultsReady);\n    } else {\n      onResultsReady();\n    }\n  }\n\n  // don't bother doing any requests if start > end or limit === 0\n  if (keyRangeError || limit === 0) {\n    return;\n  }\n  if (keys) {\n    return allDocsKeys(opts.keys, docStore, onBatch);\n  }\n  if (limit === -1) { // just fetch everything\n    return getAll(docStore, keyRange, onGetAll);\n  }\n  // else do a cursor\n  // choose a batch size based on the skip, since we'll need to skip that many\n  runBatchedCursor(docStore, keyRange, opts.descending, limit + skip, onBatch);\n}\n\n//\n// Blobs are not supported in all versions of IndexedDB, notably\n// Chrome <37 and Android <5. In those versions, storing a blob will throw.\n//\n// Various other blob bugs exist in Chrome v37-42 (inclusive).\n// Detecting them is expensive and confusing to users, and Chrome 37-42\n// is at very low usage worldwide, so we do a hacky userAgent check instead.\n//\n// content-type bug: https://code.google.com/p/chromium/issues/detail?id=408120\n// 404 bug: https://code.google.com/p/chromium/issues/detail?id=447916\n// FileReader bug: https://code.google.com/p/chromium/issues/detail?id=447836\n//\nfunction checkBlobSupport(txn) {\n  return new Promise(function (resolve) {\n    var blob$$1 = blob(['']);\n    var req = txn.objectStore(DETECT_BLOB_SUPPORT_STORE).put(blob$$1, 'key');\n\n    req.onsuccess = function () {\n      var matchedChrome = navigator.userAgent.match(/Chrome\\/(\\d+)/);\n      var matchedEdge = navigator.userAgent.match(/Edge\\//);\n      // MS Edge pretends to be Chrome 42:\n      // https://msdn.microsoft.com/en-us/library/hh869301%28v=vs.85%29.aspx\n      resolve(matchedEdge || !matchedChrome ||\n        parseInt(matchedChrome[1], 10) >= 43);\n    };\n\n    req.onerror = txn.onabort = function (e) {\n      // If the transaction aborts now its due to not being able to\n      // write to the database, likely due to the disk being full\n      e.preventDefault();\n      e.stopPropagation();\n      resolve(false);\n    };\n  }).catch(function () {\n    return false; // error, so assume unsupported\n  });\n}\n\nfunction countDocs(txn, cb) {\n  var index = txn.objectStore(DOC_STORE).index('deletedOrLocal');\n  index.count(IDBKeyRange.only('0')).onsuccess = function (e) {\n    cb(e.target.result);\n  };\n}\n\n// This task queue ensures that IDB open calls are done in their own tick\n\nvar running = false;\nvar queue = [];\n\nfunction tryCode(fun, err, res, PouchDB) {\n  try {\n    fun(err, res);\n  } catch (err) {\n    // Shouldn't happen, but in some odd cases\n    // IndexedDB implementations might throw a sync\n    // error, in which case this will at least log it.\n    PouchDB.emit('error', err);\n  }\n}\n\nfunction applyNext() {\n  if (running || !queue.length) {\n    return;\n  }\n  running = true;\n  queue.shift()();\n}\n\nfunction enqueueTask(action, callback, PouchDB) {\n  queue.push(function runAction() {\n    action(function runCallback(err, res) {\n      tryCode(callback, err, res, PouchDB);\n      running = false;\n      nextTick(function runNext() {\n        applyNext(PouchDB);\n      });\n    });\n  });\n  applyNext();\n}\n\nfunction changes(opts, api, dbName, idb) {\n  opts = clone(opts);\n\n  if (opts.continuous) {\n    var id = dbName + ':' + uuid();\n    changesHandler$1.addListener(dbName, id, api, opts);\n    changesHandler$1.notify(dbName);\n    return {\n      cancel: function () {\n        changesHandler$1.removeListener(dbName, id);\n      }\n    };\n  }\n\n  var docIds = opts.doc_ids && new Set(opts.doc_ids);\n\n  opts.since = opts.since || 0;\n  var lastSeq = opts.since;\n\n  var limit = 'limit' in opts ? opts.limit : -1;\n  if (limit === 0) {\n    limit = 1; // per CouchDB _changes spec\n  }\n\n  var results = [];\n  var numResults = 0;\n  var filter = filterChange(opts);\n  var docIdsToMetadata = new Map();\n\n  var txn;\n  var bySeqStore;\n  var docStore;\n  var docIdRevIndex;\n\n  function onBatch(batchKeys, batchValues, cursor) {\n    if (!cursor || !batchKeys.length) { // done\n      return;\n    }\n\n    var winningDocs = new Array(batchKeys.length);\n    var metadatas = new Array(batchKeys.length);\n\n    function processMetadataAndWinningDoc(metadata, winningDoc) {\n      var change = opts.processChange(winningDoc, metadata, opts);\n      lastSeq = change.seq = metadata.seq;\n\n      var filtered = filter(change);\n      if (typeof filtered === 'object') { // anything but true/false indicates error\n        return Promise.reject(filtered);\n      }\n\n      if (!filtered) {\n        return Promise.resolve();\n      }\n      numResults++;\n      if (opts.return_docs) {\n        results.push(change);\n      }\n      // process the attachment immediately\n      // for the benefit of live listeners\n      if (opts.attachments && opts.include_docs) {\n        return new Promise(function (resolve) {\n          fetchAttachmentsIfNecessary(winningDoc, opts, txn, function () {\n            postProcessAttachments([change], opts.binary).then(function () {\n              resolve(change);\n            });\n          });\n        });\n      } else {\n        return Promise.resolve(change);\n      }\n    }\n\n    function onBatchDone() {\n      var promises = [];\n      for (var i = 0, len = winningDocs.length; i < len; i++) {\n        if (numResults === limit) {\n          break;\n        }\n        var winningDoc = winningDocs[i];\n        if (!winningDoc) {\n          continue;\n        }\n        var metadata = metadatas[i];\n        promises.push(processMetadataAndWinningDoc(metadata, winningDoc));\n      }\n\n      Promise.all(promises).then(function (changes) {\n        for (var i = 0, len = changes.length; i < len; i++) {\n          if (changes[i]) {\n            opts.onChange(changes[i]);\n          }\n        }\n      }).catch(opts.complete);\n\n      if (numResults !== limit) {\n        cursor.continue();\n      }\n    }\n\n    // Fetch all metadatas/winningdocs from this batch in parallel, then process\n    // them all only once all data has been collected. This is done in parallel\n    // because it's faster than doing it one-at-a-time.\n    var numDone = 0;\n    batchValues.forEach(function (value, i) {\n      var doc = decodeDoc(value);\n      var seq = batchKeys[i];\n      fetchWinningDocAndMetadata(doc, seq, function (metadata, winningDoc) {\n        metadatas[i] = metadata;\n        winningDocs[i] = winningDoc;\n        if (++numDone === batchKeys.length) {\n          onBatchDone();\n        }\n      });\n    });\n  }\n\n  function onGetMetadata(doc, seq, metadata, cb) {\n    if (metadata.seq !== seq) {\n      // some other seq is later\n      return cb();\n    }\n\n    if (metadata.winningRev === doc._rev) {\n      // this is the winning doc\n      return cb(metadata, doc);\n    }\n\n    // fetch winning doc in separate request\n    var docIdRev = doc._id + '::' + metadata.winningRev;\n    var req = docIdRevIndex.get(docIdRev);\n    req.onsuccess = function (e) {\n      cb(metadata, decodeDoc(e.target.result));\n    };\n  }\n\n  function fetchWinningDocAndMetadata(doc, seq, cb) {\n    if (docIds && !docIds.has(doc._id)) {\n      return cb();\n    }\n\n    var metadata = docIdsToMetadata.get(doc._id);\n    if (metadata) { // cached\n      return onGetMetadata(doc, seq, metadata, cb);\n    }\n    // metadata not cached, have to go fetch it\n    docStore.get(doc._id).onsuccess = function (e) {\n      metadata = decodeMetadata(e.target.result);\n      docIdsToMetadata.set(doc._id, metadata);\n      onGetMetadata(doc, seq, metadata, cb);\n    };\n  }\n\n  function finish() {\n    opts.complete(null, {\n      results: results,\n      last_seq: lastSeq\n    });\n  }\n\n  function onTxnComplete() {\n    if (!opts.continuous && opts.attachments) {\n      // cannot guarantee that postProcessing was already done,\n      // so do it again\n      postProcessAttachments(results).then(finish);\n    } else {\n      finish();\n    }\n  }\n\n  var objectStores = [DOC_STORE, BY_SEQ_STORE];\n  if (opts.attachments) {\n    objectStores.push(ATTACH_STORE);\n  }\n  var txnResult = openTransactionSafely(idb, objectStores, 'readonly');\n  if (txnResult.error) {\n    return opts.complete(txnResult.error);\n  }\n  txn = txnResult.txn;\n  txn.onabort = idbError(opts.complete);\n  txn.oncomplete = onTxnComplete;\n\n  bySeqStore = txn.objectStore(BY_SEQ_STORE);\n  docStore = txn.objectStore(DOC_STORE);\n  docIdRevIndex = bySeqStore.index('_doc_id_rev');\n\n  var keyRange = (opts.since && !opts.descending) ?\n    IDBKeyRange.lowerBound(opts.since, true) : null;\n\n  runBatchedCursor(bySeqStore, keyRange, opts.descending, limit, onBatch);\n}\n\nvar cachedDBs = new Map();\nvar blobSupportPromise;\nvar openReqList = new Map();\n\nfunction IdbPouch(opts, callback) {\n  var api = this;\n\n  enqueueTask(function (thisCallback) {\n    init(api, opts, thisCallback);\n  }, callback, api.constructor);\n}\n\nfunction init(api, opts, callback) {\n\n  var dbName = opts.name;\n\n  var idb = null;\n  api._meta = null;\n\n  // called when creating a fresh new database\n  function createSchema(db) {\n    var docStore = db.createObjectStore(DOC_STORE, {keyPath : 'id'});\n    db.createObjectStore(BY_SEQ_STORE, {autoIncrement: true})\n      .createIndex('_doc_id_rev', '_doc_id_rev', {unique: true});\n    db.createObjectStore(ATTACH_STORE, {keyPath: 'digest'});\n    db.createObjectStore(META_STORE, {keyPath: 'id', autoIncrement: false});\n    db.createObjectStore(DETECT_BLOB_SUPPORT_STORE);\n\n    // added in v2\n    docStore.createIndex('deletedOrLocal', 'deletedOrLocal', {unique : false});\n\n    // added in v3\n    db.createObjectStore(LOCAL_STORE, {keyPath: '_id'});\n\n    // added in v4\n    var attAndSeqStore = db.createObjectStore(ATTACH_AND_SEQ_STORE,\n      {autoIncrement: true});\n    attAndSeqStore.createIndex('seq', 'seq');\n    attAndSeqStore.createIndex('digestSeq', 'digestSeq', {unique: true});\n  }\n\n  // migration to version 2\n  // unfortunately \"deletedOrLocal\" is a misnomer now that we no longer\n  // store local docs in the main doc-store, but whaddyagonnado\n  function addDeletedOrLocalIndex(txn, callback) {\n    var docStore = txn.objectStore(DOC_STORE);\n    docStore.createIndex('deletedOrLocal', 'deletedOrLocal', {unique : false});\n\n    docStore.openCursor().onsuccess = function (event) {\n      var cursor = event.target.result;\n      if (cursor) {\n        var metadata = cursor.value;\n        var deleted = isDeleted(metadata);\n        metadata.deletedOrLocal = deleted ? \"1\" : \"0\";\n        docStore.put(metadata);\n        cursor.continue();\n      } else {\n        callback();\n      }\n    };\n  }\n\n  // migration to version 3 (part 1)\n  function createLocalStoreSchema(db) {\n    db.createObjectStore(LOCAL_STORE, {keyPath: '_id'})\n      .createIndex('_doc_id_rev', '_doc_id_rev', {unique: true});\n  }\n\n  // migration to version 3 (part 2)\n  function migrateLocalStore(txn, cb) {\n    var localStore = txn.objectStore(LOCAL_STORE);\n    var docStore = txn.objectStore(DOC_STORE);\n    var seqStore = txn.objectStore(BY_SEQ_STORE);\n\n    var cursor = docStore.openCursor();\n    cursor.onsuccess = function (event) {\n      var cursor = event.target.result;\n      if (cursor) {\n        var metadata = cursor.value;\n        var docId = metadata.id;\n        var local = isLocalId$1(docId);\n        var rev = winningRev(metadata);\n        if (local) {\n          var docIdRev = docId + \"::\" + rev;\n          // remove all seq entries\n          // associated with this docId\n          var start = docId + \"::\";\n          var end = docId + \"::~\";\n          var index = seqStore.index('_doc_id_rev');\n          var range = IDBKeyRange.bound(start, end, false, false);\n          var seqCursor = index.openCursor(range);\n          seqCursor.onsuccess = function (e) {\n            seqCursor = e.target.result;\n            if (!seqCursor) {\n              // done\n              docStore.delete(cursor.primaryKey);\n              cursor.continue();\n            } else {\n              var data = seqCursor.value;\n              if (data._doc_id_rev === docIdRev) {\n                localStore.put(data);\n              }\n              seqStore.delete(seqCursor.primaryKey);\n              seqCursor.continue();\n            }\n          };\n        } else {\n          cursor.continue();\n        }\n      } else if (cb) {\n        cb();\n      }\n    };\n  }\n\n  // migration to version 4 (part 1)\n  function addAttachAndSeqStore(db) {\n    var attAndSeqStore = db.createObjectStore(ATTACH_AND_SEQ_STORE,\n      {autoIncrement: true});\n    attAndSeqStore.createIndex('seq', 'seq');\n    attAndSeqStore.createIndex('digestSeq', 'digestSeq', {unique: true});\n  }\n\n  // migration to version 4 (part 2)\n  function migrateAttsAndSeqs(txn, callback) {\n    var seqStore = txn.objectStore(BY_SEQ_STORE);\n    var attStore = txn.objectStore(ATTACH_STORE);\n    var attAndSeqStore = txn.objectStore(ATTACH_AND_SEQ_STORE);\n\n    // need to actually populate the table. this is the expensive part,\n    // so as an optimization, check first that this database even\n    // contains attachments\n    var req = attStore.count();\n    req.onsuccess = function (e) {\n      var count = e.target.result;\n      if (!count) {\n        return callback(); // done\n      }\n\n      seqStore.openCursor().onsuccess = function (e) {\n        var cursor = e.target.result;\n        if (!cursor) {\n          return callback(); // done\n        }\n        var doc = cursor.value;\n        var seq = cursor.primaryKey;\n        var atts = Object.keys(doc._attachments || {});\n        var digestMap = {};\n        for (var j = 0; j < atts.length; j++) {\n          var att = doc._attachments[atts[j]];\n          digestMap[att.digest] = true; // uniq digests, just in case\n        }\n        var digests = Object.keys(digestMap);\n        for (j = 0; j < digests.length; j++) {\n          var digest = digests[j];\n          attAndSeqStore.put({\n            seq: seq,\n            digestSeq: digest + '::' + seq\n          });\n        }\n        cursor.continue();\n      };\n    };\n  }\n\n  // migration to version 5\n  // Instead of relying on on-the-fly migration of metadata,\n  // this brings the doc-store to its modern form:\n  // - metadata.winningrev\n  // - metadata.seq\n  // - stringify the metadata when storing it\n  function migrateMetadata(txn) {\n\n    function decodeMetadataCompat(storedObject) {\n      if (!storedObject.data) {\n        // old format, when we didn't store it stringified\n        storedObject.deleted = storedObject.deletedOrLocal === '1';\n        return storedObject;\n      }\n      return decodeMetadata(storedObject);\n    }\n\n    // ensure that every metadata has a winningRev and seq,\n    // which was previously created on-the-fly but better to migrate\n    var bySeqStore = txn.objectStore(BY_SEQ_STORE);\n    var docStore = txn.objectStore(DOC_STORE);\n    var cursor = docStore.openCursor();\n    cursor.onsuccess = function (e) {\n      var cursor = e.target.result;\n      if (!cursor) {\n        return; // done\n      }\n      var metadata = decodeMetadataCompat(cursor.value);\n\n      metadata.winningRev = metadata.winningRev ||\n        winningRev(metadata);\n\n      function fetchMetadataSeq() {\n        // metadata.seq was added post-3.2.0, so if it's missing,\n        // we need to fetch it manually\n        var start = metadata.id + '::';\n        var end = metadata.id + '::\\uffff';\n        var req = bySeqStore.index('_doc_id_rev').openCursor(\n          IDBKeyRange.bound(start, end));\n\n        var metadataSeq = 0;\n        req.onsuccess = function (e) {\n          var cursor = e.target.result;\n          if (!cursor) {\n            metadata.seq = metadataSeq;\n            return onGetMetadataSeq();\n          }\n          var seq = cursor.primaryKey;\n          if (seq > metadataSeq) {\n            metadataSeq = seq;\n          }\n          cursor.continue();\n        };\n      }\n\n      function onGetMetadataSeq() {\n        var metadataToStore = encodeMetadata(metadata,\n          metadata.winningRev, metadata.deleted);\n\n        var req = docStore.put(metadataToStore);\n        req.onsuccess = function () {\n          cursor.continue();\n        };\n      }\n\n      if (metadata.seq) {\n        return onGetMetadataSeq();\n      }\n\n      fetchMetadataSeq();\n    };\n\n  }\n\n  api._remote = false;\n  api.type = function () {\n    return 'idb';\n  };\n\n  api._id = toPromise(function (callback) {\n    callback(null, api._meta.instanceId);\n  });\n\n  api._bulkDocs = function idb_bulkDocs(req, reqOpts, callback) {\n    idbBulkDocs(opts, req, reqOpts, api, idb, callback);\n  };\n\n  // First we look up the metadata in the ids database, then we fetch the\n  // current revision(s) from the by sequence store\n  api._get = function idb_get(id, opts, callback) {\n    var doc;\n    var metadata;\n    var err;\n    var txn = opts.ctx;\n    if (!txn) {\n      var txnResult = openTransactionSafely(idb,\n        [DOC_STORE, BY_SEQ_STORE, ATTACH_STORE], 'readonly');\n      if (txnResult.error) {\n        return callback(txnResult.error);\n      }\n      txn = txnResult.txn;\n    }\n\n    function finish() {\n      callback(err, {doc: doc, metadata: metadata, ctx: txn});\n    }\n\n    txn.objectStore(DOC_STORE).get(id).onsuccess = function (e) {\n      metadata = decodeMetadata(e.target.result);\n      // we can determine the result here if:\n      // 1. there is no such document\n      // 2. the document is deleted and we don't ask about specific rev\n      // When we ask with opts.rev we expect the answer to be either\n      // doc (possibly with _deleted=true) or missing error\n      if (!metadata) {\n        err = createError(MISSING_DOC, 'missing');\n        return finish();\n      }\n\n      var rev;\n      if (!opts.rev) {\n        rev = metadata.winningRev;\n        var deleted = isDeleted(metadata);\n        if (deleted) {\n          err = createError(MISSING_DOC, \"deleted\");\n          return finish();\n        }\n      } else {\n        rev = opts.latest ? latest(opts.rev, metadata) : opts.rev;\n      }\n\n      var objectStore = txn.objectStore(BY_SEQ_STORE);\n      var key = metadata.id + '::' + rev;\n\n      objectStore.index('_doc_id_rev').get(key).onsuccess = function (e) {\n        doc = e.target.result;\n        if (doc) {\n          doc = decodeDoc(doc);\n        }\n        if (!doc) {\n          err = createError(MISSING_DOC, 'missing');\n          return finish();\n        }\n        finish();\n      };\n    };\n  };\n\n  api._getAttachment = function (docId, attachId, attachment, opts, callback) {\n    var txn;\n    if (opts.ctx) {\n      txn = opts.ctx;\n    } else {\n      var txnResult = openTransactionSafely(idb,\n        [DOC_STORE, BY_SEQ_STORE, ATTACH_STORE], 'readonly');\n      if (txnResult.error) {\n        return callback(txnResult.error);\n      }\n      txn = txnResult.txn;\n    }\n    var digest = attachment.digest;\n    var type = attachment.content_type;\n\n    txn.objectStore(ATTACH_STORE).get(digest).onsuccess = function (e) {\n      var body = e.target.result.body;\n      readBlobData(body, type, opts.binary, function (blobData) {\n        callback(null, blobData);\n      });\n    };\n  };\n\n  api._info = function idb_info(callback) {\n    var updateSeq;\n    var docCount;\n\n    var txnResult = openTransactionSafely(idb, [META_STORE, BY_SEQ_STORE], 'readonly');\n    if (txnResult.error) {\n      return callback(txnResult.error);\n    }\n    var txn = txnResult.txn;\n    txn.objectStore(META_STORE).get(META_STORE).onsuccess = function (e) {\n      docCount = e.target.result.docCount;\n    };\n    txn.objectStore(BY_SEQ_STORE).openCursor(null, 'prev').onsuccess = function (e) {\n      var cursor = e.target.result;\n      updateSeq = cursor ? cursor.key : 0;\n    };\n\n    txn.oncomplete = function () {\n      callback(null, {\n        doc_count: docCount,\n        update_seq: updateSeq,\n        // for debugging\n        idb_attachment_format: (api._meta.blobSupport ? 'binary' : 'base64')\n      });\n    };\n  };\n\n  api._allDocs = function idb_allDocs(opts, callback) {\n    idbAllDocs(opts, idb, callback);\n  };\n\n  api._changes = function idbChanges(opts) {\n    return changes(opts, api, dbName, idb);\n  };\n\n  api._close = function (callback) {\n    // https://developer.mozilla.org/en-US/docs/IndexedDB/IDBDatabase#close\n    // \"Returns immediately and closes the connection in a separate thread...\"\n    idb.close();\n    cachedDBs.delete(dbName);\n    callback();\n  };\n\n  api._getRevisionTree = function (docId, callback) {\n    var txnResult = openTransactionSafely(idb, [DOC_STORE], 'readonly');\n    if (txnResult.error) {\n      return callback(txnResult.error);\n    }\n    var txn = txnResult.txn;\n    var req = txn.objectStore(DOC_STORE).get(docId);\n    req.onsuccess = function (event) {\n      var doc = decodeMetadata(event.target.result);\n      if (!doc) {\n        callback(createError(MISSING_DOC));\n      } else {\n        callback(null, doc.rev_tree);\n      }\n    };\n  };\n\n  // This function removes revisions of document docId\n  // which are listed in revs and sets this document\n  // revision to to rev_tree\n  api._doCompaction = function (docId, revs, callback) {\n    var stores = [\n      DOC_STORE,\n      BY_SEQ_STORE,\n      ATTACH_STORE,\n      ATTACH_AND_SEQ_STORE\n    ];\n    var txnResult = openTransactionSafely(idb, stores, 'readwrite');\n    if (txnResult.error) {\n      return callback(txnResult.error);\n    }\n    var txn = txnResult.txn;\n\n    var docStore = txn.objectStore(DOC_STORE);\n\n    docStore.get(docId).onsuccess = function (event) {\n      var metadata = decodeMetadata(event.target.result);\n      traverseRevTree(metadata.rev_tree, function (isLeaf, pos,\n                                                         revHash, ctx, opts) {\n        var rev = pos + '-' + revHash;\n        if (revs.indexOf(rev) !== -1) {\n          opts.status = 'missing';\n        }\n      });\n      compactRevs(revs, docId, txn);\n      var winningRev$$1 = metadata.winningRev;\n      var deleted = metadata.deleted;\n      txn.objectStore(DOC_STORE).put(\n        encodeMetadata(metadata, winningRev$$1, deleted));\n    };\n    txn.onabort = idbError(callback);\n    txn.oncomplete = function () {\n      callback();\n    };\n  };\n\n\n  api._getLocal = function (id, callback) {\n    var txnResult = openTransactionSafely(idb, [LOCAL_STORE], 'readonly');\n    if (txnResult.error) {\n      return callback(txnResult.error);\n    }\n    var tx = txnResult.txn;\n    var req = tx.objectStore(LOCAL_STORE).get(id);\n\n    req.onerror = idbError(callback);\n    req.onsuccess = function (e) {\n      var doc = e.target.result;\n      if (!doc) {\n        callback(createError(MISSING_DOC));\n      } else {\n        delete doc['_doc_id_rev']; // for backwards compat\n        callback(null, doc);\n      }\n    };\n  };\n\n  api._putLocal = function (doc, opts, callback) {\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    delete doc._revisions; // ignore this, trust the rev\n    var oldRev = doc._rev;\n    var id = doc._id;\n    if (!oldRev) {\n      doc._rev = '0-1';\n    } else {\n      doc._rev = '0-' + (parseInt(oldRev.split('-')[1], 10) + 1);\n    }\n\n    var tx = opts.ctx;\n    var ret;\n    if (!tx) {\n      var txnResult = openTransactionSafely(idb, [LOCAL_STORE], 'readwrite');\n      if (txnResult.error) {\n        return callback(txnResult.error);\n      }\n      tx = txnResult.txn;\n      tx.onerror = idbError(callback);\n      tx.oncomplete = function () {\n        if (ret) {\n          callback(null, ret);\n        }\n      };\n    }\n\n    var oStore = tx.objectStore(LOCAL_STORE);\n    var req;\n    if (oldRev) {\n      req = oStore.get(id);\n      req.onsuccess = function (e) {\n        var oldDoc = e.target.result;\n        if (!oldDoc || oldDoc._rev !== oldRev) {\n          callback(createError(REV_CONFLICT));\n        } else { // update\n          var req = oStore.put(doc);\n          req.onsuccess = function () {\n            ret = {ok: true, id: doc._id, rev: doc._rev};\n            if (opts.ctx) { // return immediately\n              callback(null, ret);\n            }\n          };\n        }\n      };\n    } else { // new doc\n      req = oStore.add(doc);\n      req.onerror = function (e) {\n        // constraint error, already exists\n        callback(createError(REV_CONFLICT));\n        e.preventDefault(); // avoid transaction abort\n        e.stopPropagation(); // avoid transaction onerror\n      };\n      req.onsuccess = function () {\n        ret = {ok: true, id: doc._id, rev: doc._rev};\n        if (opts.ctx) { // return immediately\n          callback(null, ret);\n        }\n      };\n    }\n  };\n\n  api._removeLocal = function (doc, opts, callback) {\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    var tx = opts.ctx;\n    if (!tx) {\n      var txnResult = openTransactionSafely(idb, [LOCAL_STORE], 'readwrite');\n      if (txnResult.error) {\n        return callback(txnResult.error);\n      }\n      tx = txnResult.txn;\n      tx.oncomplete = function () {\n        if (ret) {\n          callback(null, ret);\n        }\n      };\n    }\n    var ret;\n    var id = doc._id;\n    var oStore = tx.objectStore(LOCAL_STORE);\n    var req = oStore.get(id);\n\n    req.onerror = idbError(callback);\n    req.onsuccess = function (e) {\n      var oldDoc = e.target.result;\n      if (!oldDoc || oldDoc._rev !== doc._rev) {\n        callback(createError(MISSING_DOC));\n      } else {\n        oStore.delete(id);\n        ret = {ok: true, id: id, rev: '0-0'};\n        if (opts.ctx) { // return immediately\n          callback(null, ret);\n        }\n      }\n    };\n  };\n\n  api._destroy = function (opts, callback) {\n    changesHandler$1.removeAllListeners(dbName);\n\n    //Close open request for \"dbName\" database to fix ie delay.\n    var openReq = openReqList.get(dbName);\n    if (openReq && openReq.result) {\n      openReq.result.close();\n      cachedDBs.delete(dbName);\n    }\n    var req = indexedDB.deleteDatabase(dbName);\n\n    req.onsuccess = function () {\n      //Remove open request from the list.\n      openReqList.delete(dbName);\n      if (hasLocalStorage() && (dbName in localStorage)) {\n        delete localStorage[dbName];\n      }\n      callback(null, { 'ok': true });\n    };\n\n    req.onerror = idbError(callback);\n  };\n\n  var cached = cachedDBs.get(dbName);\n\n  if (cached) {\n    idb = cached.idb;\n    api._meta = cached.global;\n    return nextTick(function () {\n      callback(null, api);\n    });\n  }\n\n  var req = indexedDB.open(dbName, ADAPTER_VERSION);\n  openReqList.set(dbName, req);\n\n  req.onupgradeneeded = function (e) {\n    var db = e.target.result;\n    if (e.oldVersion < 1) {\n      return createSchema(db); // new db, initial schema\n    }\n    // do migrations\n\n    var txn = e.currentTarget.transaction;\n    // these migrations have to be done in this function, before\n    // control is returned to the event loop, because IndexedDB\n\n    if (e.oldVersion < 3) {\n      createLocalStoreSchema(db); // v2 -> v3\n    }\n    if (e.oldVersion < 4) {\n      addAttachAndSeqStore(db); // v3 -> v4\n    }\n\n    var migrations = [\n      addDeletedOrLocalIndex, // v1 -> v2\n      migrateLocalStore,      // v2 -> v3\n      migrateAttsAndSeqs,     // v3 -> v4\n      migrateMetadata         // v4 -> v5\n    ];\n\n    var i = e.oldVersion;\n\n    function next() {\n      var migration = migrations[i - 1];\n      i++;\n      if (migration) {\n        migration(txn, next);\n      }\n    }\n\n    next();\n  };\n\n  req.onsuccess = function (e) {\n\n    idb = e.target.result;\n\n    idb.onversionchange = function () {\n      idb.close();\n      cachedDBs.delete(dbName);\n    };\n\n    idb.onabort = function (e) {\n      guardedConsole('error', 'Database has a global failure', e.target.error);\n      idb.close();\n      cachedDBs.delete(dbName);\n    };\n\n    // Do a few setup operations (in parallel as much as possible):\n    // 1. Fetch meta doc\n    // 2. Check blob support\n    // 3. Calculate docCount\n    // 4. Generate an instanceId if necessary\n    // 5. Store docCount and instanceId on meta doc\n\n    var txn = idb.transaction([\n      META_STORE,\n      DETECT_BLOB_SUPPORT_STORE,\n      DOC_STORE\n    ], 'readwrite');\n\n    var storedMetaDoc = false;\n    var metaDoc;\n    var docCount;\n    var blobSupport;\n    var instanceId;\n\n    function completeSetup() {\n      if (typeof blobSupport === 'undefined' || !storedMetaDoc) {\n        return;\n      }\n      api._meta = {\n        name: dbName,\n        instanceId: instanceId,\n        blobSupport: blobSupport\n      };\n\n      cachedDBs.set(dbName, {\n        idb: idb,\n        global: api._meta\n      });\n      callback(null, api);\n    }\n\n    function storeMetaDocIfReady() {\n      if (typeof docCount === 'undefined' || typeof metaDoc === 'undefined') {\n        return;\n      }\n      var instanceKey = dbName + '_id';\n      if (instanceKey in metaDoc) {\n        instanceId = metaDoc[instanceKey];\n      } else {\n        metaDoc[instanceKey] = instanceId = uuid();\n      }\n      metaDoc.docCount = docCount;\n      txn.objectStore(META_STORE).put(metaDoc);\n    }\n\n    //\n    // fetch or generate the instanceId\n    //\n    txn.objectStore(META_STORE).get(META_STORE).onsuccess = function (e) {\n      metaDoc = e.target.result || { id: META_STORE };\n      storeMetaDocIfReady();\n    };\n\n    //\n    // countDocs\n    //\n    countDocs(txn, function (count) {\n      docCount = count;\n      storeMetaDocIfReady();\n    });\n\n    //\n    // check blob support\n    //\n    if (!blobSupportPromise) {\n      // make sure blob support is only checked once\n      blobSupportPromise = checkBlobSupport(txn);\n    }\n\n    blobSupportPromise.then(function (val) {\n      blobSupport = val;\n      completeSetup();\n    });\n\n    // only when the metadata put transaction has completed,\n    // consider the setup done\n    txn.oncomplete = function () {\n      storedMetaDoc = true;\n      completeSetup();\n    };\n    txn.onabort = idbError(callback);\n  };\n\n  req.onerror = function () {\n    var msg = 'Failed to open indexedDB, are you in private browsing mode?';\n    guardedConsole('error', msg);\n    callback(createError(IDB_ERROR, msg));\n  };\n}\n\nIdbPouch.valid = function () {\n  // Following #7085 buggy idb versions (typically Safari < 10.1) are\n  // considered valid.\n\n  // On Firefox SecurityError is thrown while referencing indexedDB if cookies\n  // are not allowed. `typeof indexedDB` also triggers the error.\n  try {\n    // some outdated implementations of IDB that appear on Samsung\n    // and HTC Android devices <4.4 are missing IDBKeyRange\n    return typeof indexedDB !== 'undefined' && typeof IDBKeyRange !== 'undefined';\n  } catch (e) {\n    return false;\n  }\n};\n\nfunction index (PouchDB) {\n  PouchDB.adapter('idb', IdbPouch, true);\n}\n\nexport default index;\n","function AbstractIterator (db) {\n  if (typeof db !== 'object' || db === null) {\n    throw new TypeError('First argument must be an abstract-leveldown compliant store')\n  }\n\n  this.db = db\n  this._ended = false\n  this._nexting = false\n}\n\nAbstractIterator.prototype.next = function (callback) {\n  var self = this\n\n  if (typeof callback !== 'function') {\n    throw new Error('next() requires a callback argument')\n  }\n\n  if (self._ended) {\n    process.nextTick(callback, new Error('cannot call next() after end()'))\n    return self\n  }\n\n  if (self._nexting) {\n    process.nextTick(callback, new Error('cannot call next() before previous next() has completed'))\n    return self\n  }\n\n  self._nexting = true\n  self._next(function () {\n    self._nexting = false\n    callback.apply(null, arguments)\n  })\n\n  return self\n}\n\nAbstractIterator.prototype._next = function (callback) {\n  process.nextTick(callback)\n}\n\nAbstractIterator.prototype.seek = function (target) {\n  if (this._ended) {\n    throw new Error('cannot call seek() after end()')\n  }\n  if (this._nexting) {\n    throw new Error('cannot call seek() before next() has completed')\n  }\n\n  target = this.db._serializeKey(target)\n  this._seek(target)\n}\n\nAbstractIterator.prototype._seek = function (target) {}\n\nAbstractIterator.prototype.end = function (callback) {\n  if (typeof callback !== 'function') {\n    throw new Error('end() requires a callback argument')\n  }\n\n  if (this._ended) {\n    return process.nextTick(callback, new Error('end() already called on iterator'))\n  }\n\n  this._ended = true\n  this._end(callback)\n}\n\nAbstractIterator.prototype._end = function (callback) {\n  process.nextTick(callback)\n}\n\nmodule.exports = AbstractIterator\n","function AbstractChainedBatch (db) {\n  if (typeof db !== 'object' || db === null) {\n    throw new TypeError('First argument must be an abstract-leveldown compliant store')\n  }\n\n  this.db = db\n  this._operations = []\n  this._written = false\n}\n\nAbstractChainedBatch.prototype._checkWritten = function () {\n  if (this._written) {\n    throw new Error('write() already called on this batch')\n  }\n}\n\nAbstractChainedBatch.prototype.put = function (key, value) {\n  this._checkWritten()\n\n  var err = this.db._checkKey(key) || this.db._checkValue(value)\n  if (err) throw err\n\n  key = this.db._serializeKey(key)\n  value = this.db._serializeValue(value)\n\n  this._put(key, value)\n\n  return this\n}\n\nAbstractChainedBatch.prototype._put = function (key, value) {\n  this._operations.push({ type: 'put', key: key, value: value })\n}\n\nAbstractChainedBatch.prototype.del = function (key) {\n  this._checkWritten()\n\n  var err = this.db._checkKey(key)\n  if (err) throw err\n\n  key = this.db._serializeKey(key)\n  this._del(key)\n\n  return this\n}\n\nAbstractChainedBatch.prototype._del = function (key) {\n  this._operations.push({ type: 'del', key: key })\n}\n\nAbstractChainedBatch.prototype.clear = function () {\n  this._checkWritten()\n  this._clear()\n\n  return this\n}\n\nAbstractChainedBatch.prototype._clear = function () {\n  this._operations = []\n}\n\nAbstractChainedBatch.prototype.write = function (options, callback) {\n  this._checkWritten()\n\n  if (typeof options === 'function') { callback = options }\n  if (typeof callback !== 'function') {\n    throw new Error('write() requires a callback argument')\n  }\n  if (typeof options !== 'object' || options === null) {\n    options = {}\n  }\n\n  this._written = true\n  this._write(options, callback)\n}\n\nAbstractChainedBatch.prototype._write = function (options, callback) {\n  this.db._batch(this._operations, options, callback)\n}\n\nmodule.exports = AbstractChainedBatch\n","var xtend = require('xtend')\nvar AbstractIterator = require('./abstract-iterator')\nvar AbstractChainedBatch = require('./abstract-chained-batch')\nvar hasOwnProperty = Object.prototype.hasOwnProperty\nvar rangeOptions = 'start end gt gte lt lte'.split(' ')\n\nfunction AbstractLevelDOWN () {\n  this.status = 'new'\n}\n\nAbstractLevelDOWN.prototype.open = function (options, callback) {\n  var self = this\n  var oldStatus = this.status\n\n  if (typeof options === 'function') callback = options\n\n  if (typeof callback !== 'function') {\n    throw new Error('open() requires a callback argument')\n  }\n\n  if (typeof options !== 'object' || options === null) options = {}\n\n  options.createIfMissing = options.createIfMissing !== false\n  options.errorIfExists = !!options.errorIfExists\n\n  this.status = 'opening'\n  this._open(options, function (err) {\n    if (err) {\n      self.status = oldStatus\n      return callback(err)\n    }\n    self.status = 'open'\n    callback()\n  })\n}\n\nAbstractLevelDOWN.prototype._open = function (options, callback) {\n  process.nextTick(callback)\n}\n\nAbstractLevelDOWN.prototype.close = function (callback) {\n  var self = this\n  var oldStatus = this.status\n\n  if (typeof callback !== 'function') {\n    throw new Error('close() requires a callback argument')\n  }\n\n  this.status = 'closing'\n  this._close(function (err) {\n    if (err) {\n      self.status = oldStatus\n      return callback(err)\n    }\n    self.status = 'closed'\n    callback()\n  })\n}\n\nAbstractLevelDOWN.prototype._close = function (callback) {\n  process.nextTick(callback)\n}\n\nAbstractLevelDOWN.prototype.get = function (key, options, callback) {\n  if (typeof options === 'function') callback = options\n\n  if (typeof callback !== 'function') {\n    throw new Error('get() requires a callback argument')\n  }\n\n  var err = this._checkKey(key)\n  if (err) return process.nextTick(callback, err)\n\n  key = this._serializeKey(key)\n\n  if (typeof options !== 'object' || options === null) options = {}\n\n  options.asBuffer = options.asBuffer !== false\n\n  this._get(key, options, callback)\n}\n\nAbstractLevelDOWN.prototype._get = function (key, options, callback) {\n  process.nextTick(function () { callback(new Error('NotFound')) })\n}\n\nAbstractLevelDOWN.prototype.put = function (key, value, options, callback) {\n  if (typeof options === 'function') callback = options\n\n  if (typeof callback !== 'function') {\n    throw new Error('put() requires a callback argument')\n  }\n\n  var err = this._checkKey(key) || this._checkValue(value)\n  if (err) return process.nextTick(callback, err)\n\n  key = this._serializeKey(key)\n  value = this._serializeValue(value)\n\n  if (typeof options !== 'object' || options === null) options = {}\n\n  this._put(key, value, options, callback)\n}\n\nAbstractLevelDOWN.prototype._put = function (key, value, options, callback) {\n  process.nextTick(callback)\n}\n\nAbstractLevelDOWN.prototype.del = function (key, options, callback) {\n  if (typeof options === 'function') callback = options\n\n  if (typeof callback !== 'function') {\n    throw new Error('del() requires a callback argument')\n  }\n\n  var err = this._checkKey(key)\n  if (err) return process.nextTick(callback, err)\n\n  key = this._serializeKey(key)\n\n  if (typeof options !== 'object' || options === null) options = {}\n\n  this._del(key, options, callback)\n}\n\nAbstractLevelDOWN.prototype._del = function (key, options, callback) {\n  process.nextTick(callback)\n}\n\nAbstractLevelDOWN.prototype.batch = function (array, options, callback) {\n  if (!arguments.length) return this._chainedBatch()\n\n  if (typeof options === 'function') callback = options\n\n  if (typeof array === 'function') callback = array\n\n  if (typeof callback !== 'function') {\n    throw new Error('batch(array) requires a callback argument')\n  }\n\n  if (!Array.isArray(array)) {\n    return process.nextTick(callback, new Error('batch(array) requires an array argument'))\n  }\n\n  if (array.length === 0) {\n    return process.nextTick(callback)\n  }\n\n  if (typeof options !== 'object' || options === null) options = {}\n\n  var serialized = new Array(array.length)\n\n  for (var i = 0; i < array.length; i++) {\n    if (typeof array[i] !== 'object' || array[i] === null) {\n      return process.nextTick(callback, new Error('batch(array) element must be an object and not `null`'))\n    }\n\n    var e = xtend(array[i])\n\n    if (e.type !== 'put' && e.type !== 'del') {\n      return process.nextTick(callback, new Error(\"`type` must be 'put' or 'del'\"))\n    }\n\n    var err = this._checkKey(e.key)\n    if (err) return process.nextTick(callback, err)\n\n    e.key = this._serializeKey(e.key)\n\n    if (e.type === 'put') {\n      var valueErr = this._checkValue(e.value)\n      if (valueErr) return process.nextTick(callback, valueErr)\n\n      e.value = this._serializeValue(e.value)\n    }\n\n    serialized[i] = e\n  }\n\n  this._batch(serialized, options, callback)\n}\n\nAbstractLevelDOWN.prototype._batch = function (array, options, callback) {\n  process.nextTick(callback)\n}\n\nAbstractLevelDOWN.prototype._setupIteratorOptions = function (options) {\n  options = cleanRangeOptions(this, options)\n\n  options.reverse = !!options.reverse\n  options.keys = options.keys !== false\n  options.values = options.values !== false\n  options.limit = 'limit' in options ? options.limit : -1\n  options.keyAsBuffer = options.keyAsBuffer !== false\n  options.valueAsBuffer = options.valueAsBuffer !== false\n\n  return options\n}\n\nfunction cleanRangeOptions (db, options) {\n  var result = {}\n\n  for (var k in options) {\n    if (!hasOwnProperty.call(options, k)) continue\n\n    var opt = options[k]\n\n    if (isRangeOption(k)) {\n      // Note that we don't reject nullish and empty options here. While\n      // those types are invalid as keys, they are valid as range options.\n      opt = db._serializeKey(opt)\n    }\n\n    result[k] = opt\n  }\n\n  return result\n}\n\nfunction isRangeOption (k) {\n  return rangeOptions.indexOf(k) !== -1\n}\n\nAbstractLevelDOWN.prototype.iterator = function (options) {\n  if (typeof options !== 'object' || options === null) options = {}\n  options = this._setupIteratorOptions(options)\n  return this._iterator(options)\n}\n\nAbstractLevelDOWN.prototype._iterator = function (options) {\n  return new AbstractIterator(this)\n}\n\nAbstractLevelDOWN.prototype._chainedBatch = function () {\n  return new AbstractChainedBatch(this)\n}\n\nAbstractLevelDOWN.prototype._serializeKey = function (key) {\n  return key\n}\n\nAbstractLevelDOWN.prototype._serializeValue = function (value) {\n  return value\n}\n\nAbstractLevelDOWN.prototype._checkKey = function (key) {\n  if (key === null || key === undefined) {\n    return new Error('key cannot be `null` or `undefined`')\n  } else if (Buffer.isBuffer(key) && key.length === 0) {\n    return new Error('key cannot be an empty Buffer')\n  } else if (key === '') {\n    return new Error('key cannot be an empty String')\n  } else if (Array.isArray(key) && key.length === 0) {\n    return new Error('key cannot be an empty Array')\n  }\n}\n\nAbstractLevelDOWN.prototype._checkValue = function (value) {\n  if (value === null || value === undefined) {\n    return new Error('value cannot be `null` or `undefined`')\n  }\n}\n\nmodule.exports = AbstractLevelDOWN\n","exports.AbstractLevelDOWN = require('./abstract-leveldown')\nexports.AbstractIterator = require('./abstract-iterator')\nexports.AbstractChainedBatch = require('./abstract-chained-batch')\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","var AbstractIterator = require('abstract-leveldown').AbstractIterator\nvar inherits = require('inherits')\n\nfunction DeferredIterator (options) {\n  AbstractIterator.call(this, options)\n\n  this._options = options\n  this._iterator = null\n  this._operations = []\n}\n\ninherits(DeferredIterator, AbstractIterator)\n\nDeferredIterator.prototype.setDb = function (db) {\n  var it = this._iterator = db.iterator(this._options)\n  this._operations.forEach(function (op) {\n    it[op.method].apply(it, op.args)\n  })\n}\n\nDeferredIterator.prototype._operation = function (method, args) {\n  if (this._iterator) return this._iterator[method].apply(this._iterator, args)\n  this._operations.push({ method: method, args: args })\n}\n\n'next end'.split(' ').forEach(function (m) {\n  DeferredIterator.prototype['_' + m] = function () {\n    this._operation(m, arguments)\n  }\n})\n\nmodule.exports = DeferredIterator\n","var AbstractLevelDOWN = require('abstract-leveldown').AbstractLevelDOWN\nvar inherits = require('inherits')\nvar DeferredIterator = require('./deferred-iterator')\nvar deferrables = 'put get del batch'.split(' ')\n\nfunction DeferredLevelDOWN (db) {\n  AbstractLevelDOWN.call(this, '')\n  this._db = db\n  this._operations = []\n  this._iterators = []\n  closed(this)\n}\n\ninherits(DeferredLevelDOWN, AbstractLevelDOWN)\n\nDeferredLevelDOWN.prototype._open = function (options, callback) {\n  var self = this\n\n  this._db.open(options, function (err) {\n    if (err) return callback(err)\n\n    self._operations.forEach(function (op) {\n      self._db[op.method].apply(self._db, op.args)\n    })\n    self._operations = []\n    self._iterators.forEach(function (it) {\n      it.setDb(self._db)\n    })\n    self._iterators = []\n    open(self)\n    callback()\n  })\n}\n\nDeferredLevelDOWN.prototype._close = function (callback) {\n  var self = this\n\n  this._db.close(function (err) {\n    if (err) return callback(err)\n    closed(self)\n    callback()\n  })\n}\n\nfunction open (self) {\n  deferrables.concat('iterator').forEach(function (m) {\n    self['_' + m] = function () {\n      return this._db[m].apply(this._db, arguments)\n    }\n  })\n  if (self._db.approximateSize) {\n    self.approximateSize = function () {\n      return this._db.approximateSize.apply(this._db, arguments)\n    }\n  }\n}\n\nfunction closed (self) {\n  deferrables.forEach(function (m) {\n    self['_' + m] = function () {\n      this._operations.push({ method: m, args: arguments })\n    }\n  })\n  if (typeof self._db.approximateSize === 'function') {\n    self.approximateSize = function () {\n      this._operations.push({\n        method: 'approximateSize',\n        args: arguments\n      })\n    }\n  }\n  self._iterator = function (options) {\n    var it = new DeferredIterator(options)\n    this._iterators.push(it)\n    return it\n  }\n}\n\nDeferredLevelDOWN.prototype._serializeKey = function (key) {\n  return key\n}\n\nDeferredLevelDOWN.prototype._serializeValue = function (value) {\n  return value\n}\n\nmodule.exports = DeferredLevelDOWN\nmodule.exports.DeferredIterator = DeferredIterator\n","module.exports = require('events').EventEmitter;\n","'use strict';\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar _require = require('buffer'),\n    Buffer = _require.Buffer;\n\nvar _require2 = require('util'),\n    inspect = _require2.inspect;\n\nvar custom = inspect && inspect.custom || 'inspect';\n\nfunction copyBuffer(src, target, offset) {\n  Buffer.prototype.copy.call(src, target, offset);\n}\n\nmodule.exports =\n/*#__PURE__*/\nfunction () {\n  function BufferList() {\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  var _proto = BufferList.prototype;\n\n  _proto.push = function push(v) {\n    var entry = {\n      data: v,\n      next: null\n    };\n    if (this.length > 0) this.tail.next = entry;else this.head = entry;\n    this.tail = entry;\n    ++this.length;\n  };\n\n  _proto.unshift = function unshift(v) {\n    var entry = {\n      data: v,\n      next: this.head\n    };\n    if (this.length === 0) this.tail = entry;\n    this.head = entry;\n    ++this.length;\n  };\n\n  _proto.shift = function shift() {\n    if (this.length === 0) return;\n    var ret = this.head.data;\n    if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n    --this.length;\n    return ret;\n  };\n\n  _proto.clear = function clear() {\n    this.head = this.tail = null;\n    this.length = 0;\n  };\n\n  _proto.join = function join(s) {\n    if (this.length === 0) return '';\n    var p = this.head;\n    var ret = '' + p.data;\n\n    while (p = p.next) {\n      ret += s + p.data;\n    }\n\n    return ret;\n  };\n\n  _proto.concat = function concat(n) {\n    if (this.length === 0) return Buffer.alloc(0);\n    var ret = Buffer.allocUnsafe(n >>> 0);\n    var p = this.head;\n    var i = 0;\n\n    while (p) {\n      copyBuffer(p.data, ret, i);\n      i += p.data.length;\n      p = p.next;\n    }\n\n    return ret;\n  } // Consumes a specified amount of bytes or characters from the buffered data.\n  ;\n\n  _proto.consume = function consume(n, hasStrings) {\n    var ret;\n\n    if (n < this.head.data.length) {\n      // `slice` is the same for buffers and strings.\n      ret = this.head.data.slice(0, n);\n      this.head.data = this.head.data.slice(n);\n    } else if (n === this.head.data.length) {\n      // First chunk is a perfect match.\n      ret = this.shift();\n    } else {\n      // Result spans more than one buffer.\n      ret = hasStrings ? this._getString(n) : this._getBuffer(n);\n    }\n\n    return ret;\n  };\n\n  _proto.first = function first() {\n    return this.head.data;\n  } // Consumes a specified amount of characters from the buffered data.\n  ;\n\n  _proto._getString = function _getString(n) {\n    var p = this.head;\n    var c = 1;\n    var ret = p.data;\n    n -= ret.length;\n\n    while (p = p.next) {\n      var str = p.data;\n      var nb = n > str.length ? str.length : n;\n      if (nb === str.length) ret += str;else ret += str.slice(0, n);\n      n -= nb;\n\n      if (n === 0) {\n        if (nb === str.length) {\n          ++c;\n          if (p.next) this.head = p.next;else this.head = this.tail = null;\n        } else {\n          this.head = p;\n          p.data = str.slice(nb);\n        }\n\n        break;\n      }\n\n      ++c;\n    }\n\n    this.length -= c;\n    return ret;\n  } // Consumes a specified amount of bytes from the buffered data.\n  ;\n\n  _proto._getBuffer = function _getBuffer(n) {\n    var ret = Buffer.allocUnsafe(n);\n    var p = this.head;\n    var c = 1;\n    p.data.copy(ret);\n    n -= p.data.length;\n\n    while (p = p.next) {\n      var buf = p.data;\n      var nb = n > buf.length ? buf.length : n;\n      buf.copy(ret, ret.length - n, 0, nb);\n      n -= nb;\n\n      if (n === 0) {\n        if (nb === buf.length) {\n          ++c;\n          if (p.next) this.head = p.next;else this.head = this.tail = null;\n        } else {\n          this.head = p;\n          p.data = buf.slice(nb);\n        }\n\n        break;\n      }\n\n      ++c;\n    }\n\n    this.length -= c;\n    return ret;\n  } // Make sure the linked list only shows the minimal necessary information.\n  ;\n\n  _proto[custom] = function (_, options) {\n    return inspect(this, _objectSpread({}, options, {\n      // Only inspect one level.\n      depth: 0,\n      // It should not recurse.\n      customInspect: false\n    }));\n  };\n\n  return BufferList;\n}();","'use strict'; // undocumented cb() API, needed for core, not for public API\n\nfunction destroy(err, cb) {\n  var _this = this;\n\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err && (!this._writableState || !this._writableState.errorEmitted)) {\n      process.nextTick(emitErrorNT, this, err);\n    }\n\n    return this;\n  } // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  } // if this is a duplex stream mark the writable part as destroyed as well\n\n\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      process.nextTick(emitErrorAndCloseNT, _this, err);\n\n      if (_this._writableState) {\n        _this._writableState.errorEmitted = true;\n      }\n    } else if (cb) {\n      process.nextTick(emitCloseNT, _this);\n      cb(err);\n    } else {\n      process.nextTick(emitCloseNT, _this);\n    }\n  });\n\n  return this;\n}\n\nfunction emitErrorAndCloseNT(self, err) {\n  emitErrorNT(self, err);\n  emitCloseNT(self);\n}\n\nfunction emitCloseNT(self) {\n  if (self._writableState && !self._writableState.emitClose) return;\n  if (self._readableState && !self._readableState.emitClose) return;\n  self.emit('close');\n}\n\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finalCalled = false;\n    this._writableState.prefinished = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy\n};","'use strict';\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar codes = {};\n\nfunction createErrorType(code, message, Base) {\n  if (!Base) {\n    Base = Error;\n  }\n\n  function getMessage(arg1, arg2, arg3) {\n    if (typeof message === 'string') {\n      return message;\n    } else {\n      return message(arg1, arg2, arg3);\n    }\n  }\n\n  var NodeError =\n  /*#__PURE__*/\n  function (_Base) {\n    _inheritsLoose(NodeError, _Base);\n\n    function NodeError(arg1, arg2, arg3) {\n      return _Base.call(this, getMessage(arg1, arg2, arg3)) || this;\n    }\n\n    return NodeError;\n  }(Base);\n\n  NodeError.prototype.name = Base.name;\n  NodeError.prototype.code = code;\n  codes[code] = NodeError;\n} // https://github.com/nodejs/node/blob/v10.8.0/lib/internal/errors.js\n\n\nfunction oneOf(expected, thing) {\n  if (Array.isArray(expected)) {\n    var len = expected.length;\n    expected = expected.map(function (i) {\n      return String(i);\n    });\n\n    if (len > 2) {\n      return \"one of \".concat(thing, \" \").concat(expected.slice(0, len - 1).join(', '), \", or \") + expected[len - 1];\n    } else if (len === 2) {\n      return \"one of \".concat(thing, \" \").concat(expected[0], \" or \").concat(expected[1]);\n    } else {\n      return \"of \".concat(thing, \" \").concat(expected[0]);\n    }\n  } else {\n    return \"of \".concat(thing, \" \").concat(String(expected));\n  }\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\n\n\nfunction startsWith(str, search, pos) {\n  return str.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith\n\n\nfunction endsWith(str, search, this_len) {\n  if (this_len === undefined || this_len > str.length) {\n    this_len = str.length;\n  }\n\n  return str.substring(this_len - search.length, this_len) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes\n\n\nfunction includes(str, search, start) {\n  if (typeof start !== 'number') {\n    start = 0;\n  }\n\n  if (start + search.length > str.length) {\n    return false;\n  } else {\n    return str.indexOf(search, start) !== -1;\n  }\n}\n\ncreateErrorType('ERR_INVALID_OPT_VALUE', function (name, value) {\n  return 'The value \"' + value + '\" is invalid for option \"' + name + '\"';\n}, TypeError);\ncreateErrorType('ERR_INVALID_ARG_TYPE', function (name, expected, actual) {\n  // determiner: 'must be' or 'must not be'\n  var determiner;\n\n  if (typeof expected === 'string' && startsWith(expected, 'not ')) {\n    determiner = 'must not be';\n    expected = expected.replace(/^not /, '');\n  } else {\n    determiner = 'must be';\n  }\n\n  var msg;\n\n  if (endsWith(name, ' argument')) {\n    // For cases like 'first argument'\n    msg = \"The \".concat(name, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  } else {\n    var type = includes(name, '.') ? 'property' : 'argument';\n    msg = \"The \\\"\".concat(name, \"\\\" \").concat(type, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  }\n\n  msg += \". Received type \".concat(typeof actual);\n  return msg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_PUSH_AFTER_EOF', 'stream.push() after EOF');\ncreateErrorType('ERR_METHOD_NOT_IMPLEMENTED', function (name) {\n  return 'The ' + name + ' method is not implemented';\n});\ncreateErrorType('ERR_STREAM_PREMATURE_CLOSE', 'Premature close');\ncreateErrorType('ERR_STREAM_DESTROYED', function (name) {\n  return 'Cannot call ' + name + ' after a stream was destroyed';\n});\ncreateErrorType('ERR_MULTIPLE_CALLBACK', 'Callback called multiple times');\ncreateErrorType('ERR_STREAM_CANNOT_PIPE', 'Cannot pipe, not readable');\ncreateErrorType('ERR_STREAM_WRITE_AFTER_END', 'write after end');\ncreateErrorType('ERR_STREAM_NULL_VALUES', 'May not write null values to stream', TypeError);\ncreateErrorType('ERR_UNKNOWN_ENCODING', function (arg) {\n  return 'Unknown encoding: ' + arg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_UNSHIFT_AFTER_END_EVENT', 'stream.unshift() after end event');\nmodule.exports.codes = codes;\n","'use strict';\n\nvar ERR_INVALID_OPT_VALUE = require('../../../errors').codes.ERR_INVALID_OPT_VALUE;\n\nfunction highWaterMarkFrom(options, isDuplex, duplexKey) {\n  return options.highWaterMark != null ? options.highWaterMark : isDuplex ? options[duplexKey] : null;\n}\n\nfunction getHighWaterMark(state, options, duplexKey, isDuplex) {\n  var hwm = highWaterMarkFrom(options, isDuplex, duplexKey);\n\n  if (hwm != null) {\n    if (!(isFinite(hwm) && Math.floor(hwm) === hwm) || hwm < 0) {\n      var name = isDuplex ? duplexKey : 'highWaterMark';\n      throw new ERR_INVALID_OPT_VALUE(name, hwm);\n    }\n\n    return Math.floor(hwm);\n  } // Default value\n\n\n  return state.objectMode ? 16 : 16 * 1024;\n}\n\nmodule.exports = {\n  getHighWaterMark: getHighWaterMark\n};","'use strict'\n\nvar experimentalWarnings = new Set();\n\nfunction emitExperimentalWarning(feature) {\n  if (experimentalWarnings.has(feature)) return;\n  var msg = feature + ' is an experimental feature. This feature could ' +\n       'change at any time';\n  experimentalWarnings.add(feature);\n  process.emitWarning(msg, 'ExperimentalWarning');\n}\n\nfunction noop() {}\n\nmodule.exports.emitExperimentalWarning = process.emitWarning\n  ? emitExperimentalWarning\n  : noop;\n","\n/**\n * Module exports.\n */\n\nmodule.exports = deprecate;\n\n/**\n * Mark that a method should not be used.\n * Returns a modified function which warns once by default.\n *\n * If `localStorage.noDeprecation = true` is set, then it is a no-op.\n *\n * If `localStorage.throwDeprecation = true` is set, then deprecated functions\n * will throw an Error when invoked.\n *\n * If `localStorage.traceDeprecation = true` is set, then deprecated functions\n * will invoke `console.trace()` instead of `console.error()`.\n *\n * @param {Function} fn - the function to deprecate\n * @param {String} msg - the string to print to the console when `fn` is invoked\n * @returns {Function} a new \"deprecated\" version of `fn`\n * @api public\n */\n\nfunction deprecate (fn, msg) {\n  if (config('noDeprecation')) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (config('throwDeprecation')) {\n        throw new Error(msg);\n      } else if (config('traceDeprecation')) {\n        console.trace(msg);\n      } else {\n        console.warn(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n}\n\n/**\n * Checks `localStorage` for boolean values for the given `name`.\n *\n * @param {String} name\n * @returns {Boolean}\n * @api private\n */\n\nfunction config (name) {\n  // accessing global.localStorage can trigger a DOMException in sandboxed iframes\n  try {\n    if (!global.localStorage) return false;\n  } catch (_) {\n    return false;\n  }\n  var val = global.localStorage[name];\n  if (null == val) return false;\n  return String(val).toLowerCase() === 'true';\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n'use strict';\n\nmodule.exports = Writable;\n/* <replacement> */\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n} // It seems a linked list but it is not\n// there will be only 2 of these for each stream\n\n\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\n\n\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n/*<replacement>*/\n\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n\nvar Buffer = require('buffer').Buffer;\n\nvar OurUint8Array = global.Uint8Array || function () {};\n\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\n\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nvar _require = require('./internal/streams/state'),\n    getHighWaterMark = _require.getHighWaterMark;\n\nvar _require$codes = require('../errors').codes,\n    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n    ERR_STREAM_CANNOT_PIPE = _require$codes.ERR_STREAM_CANNOT_PIPE,\n    ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED,\n    ERR_STREAM_NULL_VALUES = _require$codes.ERR_STREAM_NULL_VALUES,\n    ERR_STREAM_WRITE_AFTER_END = _require$codes.ERR_STREAM_WRITE_AFTER_END,\n    ERR_UNKNOWN_ENCODING = _require$codes.ERR_UNKNOWN_ENCODING;\n\nrequire('inherits')(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {}; // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream,\n  // e.g. options.readableObjectMode vs. options.writableObjectMode, etc.\n\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex; // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode; // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n\n  this.highWaterMark = getHighWaterMark(this, options, 'writableHighWaterMark', isDuplex); // if _final has been called\n\n  this.finalCalled = false; // drain event flag.\n\n  this.needDrain = false; // at the start of calling end()\n\n  this.ending = false; // when end() has been called, and returned\n\n  this.ended = false; // when 'finish' is emitted\n\n  this.finished = false; // has it been destroyed\n\n  this.destroyed = false; // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode; // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n\n  this.defaultEncoding = options.defaultEncoding || 'utf8'; // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n\n  this.length = 0; // a flag to see when we're in the middle of a write.\n\n  this.writing = false; // when true all writes will be buffered until .uncork() call\n\n  this.corked = 0; // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n\n  this.sync = true; // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n\n  this.bufferProcessing = false; // the callback that's passed to _write(chunk,cb)\n\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  }; // the callback that the user supplies to write(chunk,encoding,cb)\n\n\n  this.writecb = null; // the amount that is being written when _write is called.\n\n  this.writelen = 0;\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null; // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n\n  this.pendingcb = 0; // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n\n  this.prefinished = false; // True if the error was already emitted and should not be thrown again\n\n  this.errorEmitted = false; // Should close be emitted on destroy. Defaults to true.\n\n  this.emitClose = options.emitClose !== false; // count buffered requests\n\n  this.bufferedRequestCount = 0; // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function writableStateBufferGetter() {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})(); // Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\n\n\nvar realHasInstance;\n\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function value(object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function realHasInstance(object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex'); // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the WritableState constructor, at least with V8 6.5\n\n  var isDuplex = this instanceof Duplex;\n  if (!isDuplex && !realHasInstance.call(Writable, this)) return new Writable(options);\n  this._writableState = new WritableState(options, this, isDuplex); // legacy.\n\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n    if (typeof options.writev === 'function') this._writev = options.writev;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n} // Otherwise people can pipe Writable streams, which is just wrong.\n\n\nWritable.prototype.pipe = function () {\n  this.emit('error', new ERR_STREAM_CANNOT_PIPE());\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new ERR_STREAM_WRITE_AFTER_END(); // TODO: defer error events consistently everywhere, not just the cb\n\n  stream.emit('error', er);\n  process.nextTick(cb, er);\n} // Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\n\n\nfunction validChunk(stream, state, chunk, cb) {\n  var er;\n\n  if (chunk === null) {\n    er = new ERR_STREAM_NULL_VALUES();\n  } else if (typeof chunk !== 'string' && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer'], chunk);\n  }\n\n  if (er) {\n    stream.emit('error', er);\n    process.nextTick(cb, er);\n    return false;\n  }\n\n  return true;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n  if (typeof cb !== 'function') cb = nop;\n  if (state.ending) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  this._writableState.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n    if (!state.writing && !state.corked && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new ERR_UNKNOWN_ENCODING(encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nObject.defineProperty(Writable.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n\n  return chunk;\n}\n\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n}); // if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\n\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n\n  var len = state.objectMode ? 1 : chunk.length;\n  state.length += len;\n  var ret = state.length < state.highWaterMark; // we must ensure that previous needDrain will not be reset to false.\n\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (state.destroyed) state.onwrite(new ERR_STREAM_DESTROYED('write'));else if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    process.nextTick(cb, er); // this can emit finish, and it will always happen\n    // after error\n\n    process.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er); // this can emit finish, but finish must\n    // always follow error\n\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n  if (typeof cb !== 'function') throw new ERR_MULTIPLE_CALLBACK();\n  onwriteStateUpdate(state);\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state) || stream.destroyed;\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      process.nextTick(afterWrite, stream, state, finished, cb);\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n} // Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\n\n\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n} // if there's something in the buffer waiting, then process it\n\n\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n    var count = 0;\n    var allBuffers = true;\n\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n\n    buffer.allBuffers = allBuffers;\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish); // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--; // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_write()'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding); // .end() fully uncorks\n\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  } // ignore unnecessary end() calls.\n\n\n  if (!state.ending) endWritable(this, state, cb);\n  return this;\n};\n\nObject.defineProperty(Writable.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.length;\n  }\n});\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\n\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n\n    if (err) {\n      stream.emit('error', err);\n    }\n\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\n\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function' && !state.destroyed) {\n      state.pendingcb++;\n      state.finalCalled = true;\n      process.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n\n  if (need) {\n    prefinish(stream, state);\n\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n    }\n  }\n\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n\n  if (cb) {\n    if (state.finished) process.nextTick(cb);else stream.once('finish', cb);\n  }\n\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  } // reuse the free corkReq.\n\n\n  state.corkedRequestsFree.next = corkReq;\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._writableState === undefined) {\n      return false;\n    }\n\n    return this._writableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._writableState.destroyed = value;\n  }\n});\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\n\nWritable.prototype._destroy = function (err, cb) {\n  cb(err);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n'use strict';\n/*<replacement>*/\n\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n\n  for (var key in obj) {\n    keys.push(key);\n  }\n\n  return keys;\n};\n/*</replacement>*/\n\n\nmodule.exports = Duplex;\n\nvar Readable = require('./_stream_readable');\n\nvar Writable = require('./_stream_writable');\n\nrequire('inherits')(Duplex, Readable);\n\n{\n  // Allow the keys array to be GC'ed.\n  var keys = objectKeys(Writable.prototype);\n\n  for (var v = 0; v < keys.length; v++) {\n    var method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n  Readable.call(this, options);\n  Writable.call(this, options);\n  this.allowHalfOpen = true;\n\n  if (options) {\n    if (options.readable === false) this.readable = false;\n    if (options.writable === false) this.writable = false;\n\n    if (options.allowHalfOpen === false) {\n      this.allowHalfOpen = false;\n      this.once('end', onend);\n    }\n  }\n}\n\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.length;\n  }\n}); // the no-half-open enforcer\n\nfunction onend() {\n  // If the writable side ended, then we're ok.\n  if (this._writableState.ended) return; // no more data can be written.\n  // But allow more writes to happen in this tick.\n\n  process.nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});","/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.prototype = Object.create(Buffer.prototype)\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n      default:\n        if (retried) return; // undefined\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n};\n\n// Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\nexports.StringDecoder = StringDecoder;\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End;\n\n// Returns only complete characters in a Buffer\nStringDecoder.prototype.text = utf8Text;\n\n// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n};\n\n// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n}\n\n// Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n    return nb;\n  }\n  return 0;\n}\n\n// Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return '\\ufffd';\n  }\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return '\\ufffd';\n    }\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return '\\ufffd';\n      }\n    }\n  }\n}\n\n// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n}\n\n// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n}\n\n// For UTF-8, a replacement character is added when ending on a partial\n// character.\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + '\\ufffd';\n  return r;\n}\n\n// UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n    return r;\n  }\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n}\n\n// For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n}\n\n// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}","// Ported from https://github.com/mafintosh/end-of-stream with\n// permission from the author, Mathias Buus (@mafintosh).\n'use strict';\n\nvar ERR_STREAM_PREMATURE_CLOSE = require('../../../errors').codes.ERR_STREAM_PREMATURE_CLOSE;\n\nfunction once(callback) {\n  var called = false;\n  return function () {\n    if (called) return;\n    called = true;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    callback.apply(this, args);\n  };\n}\n\nfunction noop() {}\n\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\n\nfunction eos(stream, opts, callback) {\n  if (typeof opts === 'function') return eos(stream, null, opts);\n  if (!opts) opts = {};\n  callback = once(callback || noop);\n  var readable = opts.readable || opts.readable !== false && stream.readable;\n  var writable = opts.writable || opts.writable !== false && stream.writable;\n\n  var onlegacyfinish = function onlegacyfinish() {\n    if (!stream.writable) onfinish();\n  };\n\n  var writableEnded = stream._writableState && stream._writableState.finished;\n\n  var onfinish = function onfinish() {\n    writable = false;\n    writableEnded = true;\n    if (!readable) callback.call(stream);\n  };\n\n  var readableEnded = stream._readableState && stream._readableState.endEmitted;\n\n  var onend = function onend() {\n    readable = false;\n    readableEnded = true;\n    if (!writable) callback.call(stream);\n  };\n\n  var onerror = function onerror(err) {\n    callback.call(stream, err);\n  };\n\n  var onclose = function onclose() {\n    var err;\n\n    if (readable && !readableEnded) {\n      if (!stream._readableState || !stream._readableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n\n    if (writable && !writableEnded) {\n      if (!stream._writableState || !stream._writableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n  };\n\n  var onrequest = function onrequest() {\n    stream.req.on('finish', onfinish);\n  };\n\n  if (isRequest(stream)) {\n    stream.on('complete', onfinish);\n    stream.on('abort', onclose);\n    if (stream.req) onrequest();else stream.on('request', onrequest);\n  } else if (writable && !stream._writableState) {\n    // legacy streams\n    stream.on('end', onlegacyfinish);\n    stream.on('close', onlegacyfinish);\n  }\n\n  stream.on('end', onend);\n  stream.on('finish', onfinish);\n  if (opts.error !== false) stream.on('error', onerror);\n  stream.on('close', onclose);\n  return function () {\n    stream.removeListener('complete', onfinish);\n    stream.removeListener('abort', onclose);\n    stream.removeListener('request', onrequest);\n    if (stream.req) stream.req.removeListener('finish', onfinish);\n    stream.removeListener('end', onlegacyfinish);\n    stream.removeListener('close', onlegacyfinish);\n    stream.removeListener('finish', onfinish);\n    stream.removeListener('end', onend);\n    stream.removeListener('error', onerror);\n    stream.removeListener('close', onclose);\n  };\n}\n\nmodule.exports = eos;","'use strict';\n\nvar _Object$setPrototypeO;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar finished = require('./end-of-stream');\n\nvar kLastResolve = Symbol('lastResolve');\nvar kLastReject = Symbol('lastReject');\nvar kError = Symbol('error');\nvar kEnded = Symbol('ended');\nvar kLastPromise = Symbol('lastPromise');\nvar kHandlePromise = Symbol('handlePromise');\nvar kStream = Symbol('stream');\n\nfunction createIterResult(value, done) {\n  return {\n    value: value,\n    done: done\n  };\n}\n\nfunction readAndResolve(iter) {\n  var resolve = iter[kLastResolve];\n\n  if (resolve !== null) {\n    var data = iter[kStream].read(); // we defer if data is null\n    // we can be expecting either 'end' or\n    // 'error'\n\n    if (data !== null) {\n      iter[kLastPromise] = null;\n      iter[kLastResolve] = null;\n      iter[kLastReject] = null;\n      resolve(createIterResult(data, false));\n    }\n  }\n}\n\nfunction onReadable(iter) {\n  // we wait for the next tick, because it might\n  // emit an error with process.nextTick\n  process.nextTick(readAndResolve, iter);\n}\n\nfunction wrapForNext(lastPromise, iter) {\n  return function (resolve, reject) {\n    lastPromise.then(function () {\n      if (iter[kEnded]) {\n        resolve(createIterResult(undefined, true));\n        return;\n      }\n\n      iter[kHandlePromise](resolve, reject);\n    }, reject);\n  };\n}\n\nvar AsyncIteratorPrototype = Object.getPrototypeOf(function () {});\nvar ReadableStreamAsyncIteratorPrototype = Object.setPrototypeOf((_Object$setPrototypeO = {\n  get stream() {\n    return this[kStream];\n  },\n\n  next: function next() {\n    var _this = this;\n\n    // if we have detected an error in the meanwhile\n    // reject straight away\n    var error = this[kError];\n\n    if (error !== null) {\n      return Promise.reject(error);\n    }\n\n    if (this[kEnded]) {\n      return Promise.resolve(createIterResult(undefined, true));\n    }\n\n    if (this[kStream].destroyed) {\n      // We need to defer via nextTick because if .destroy(err) is\n      // called, the error will be emitted via nextTick, and\n      // we cannot guarantee that there is no error lingering around\n      // waiting to be emitted.\n      return new Promise(function (resolve, reject) {\n        process.nextTick(function () {\n          if (_this[kError]) {\n            reject(_this[kError]);\n          } else {\n            resolve(createIterResult(undefined, true));\n          }\n        });\n      });\n    } // if we have multiple next() calls\n    // we will wait for the previous Promise to finish\n    // this logic is optimized to support for await loops,\n    // where next() is only called once at a time\n\n\n    var lastPromise = this[kLastPromise];\n    var promise;\n\n    if (lastPromise) {\n      promise = new Promise(wrapForNext(lastPromise, this));\n    } else {\n      // fast path needed to support multiple this.push()\n      // without triggering the next() queue\n      var data = this[kStream].read();\n\n      if (data !== null) {\n        return Promise.resolve(createIterResult(data, false));\n      }\n\n      promise = new Promise(this[kHandlePromise]);\n    }\n\n    this[kLastPromise] = promise;\n    return promise;\n  }\n}, _defineProperty(_Object$setPrototypeO, Symbol.asyncIterator, function () {\n  return this;\n}), _defineProperty(_Object$setPrototypeO, \"return\", function _return() {\n  var _this2 = this;\n\n  // destroy(err, cb) is a private API\n  // we can guarantee we have that here, because we control the\n  // Readable class this is attached to\n  return new Promise(function (resolve, reject) {\n    _this2[kStream].destroy(null, function (err) {\n      if (err) {\n        reject(err);\n        return;\n      }\n\n      resolve(createIterResult(undefined, true));\n    });\n  });\n}), _Object$setPrototypeO), AsyncIteratorPrototype);\n\nvar createReadableStreamAsyncIterator = function createReadableStreamAsyncIterator(stream) {\n  var _Object$create;\n\n  var iterator = Object.create(ReadableStreamAsyncIteratorPrototype, (_Object$create = {}, _defineProperty(_Object$create, kStream, {\n    value: stream,\n    writable: true\n  }), _defineProperty(_Object$create, kLastResolve, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kLastReject, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kError, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kEnded, {\n    value: stream._readableState.endEmitted,\n    writable: true\n  }), _defineProperty(_Object$create, kHandlePromise, {\n    value: function value(resolve, reject) {\n      var data = iterator[kStream].read();\n\n      if (data) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        resolve(createIterResult(data, false));\n      } else {\n        iterator[kLastResolve] = resolve;\n        iterator[kLastReject] = reject;\n      }\n    },\n    writable: true\n  }), _Object$create));\n  iterator[kLastPromise] = null;\n  finished(stream, function (err) {\n    if (err && err.code !== 'ERR_STREAM_PREMATURE_CLOSE') {\n      var reject = iterator[kLastReject]; // reject if we are waiting for data in the Promise\n      // returned by next() and store the error\n\n      if (reject !== null) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        reject(err);\n      }\n\n      iterator[kError] = err;\n      return;\n    }\n\n    var resolve = iterator[kLastResolve];\n\n    if (resolve !== null) {\n      iterator[kLastPromise] = null;\n      iterator[kLastResolve] = null;\n      iterator[kLastReject] = null;\n      resolve(createIterResult(undefined, true));\n    }\n\n    iterator[kEnded] = true;\n  });\n  stream.on('readable', onReadable.bind(null, iterator));\n  return iterator;\n};\n\nmodule.exports = createReadableStreamAsyncIterator;","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict';\n\nmodule.exports = Readable;\n/*<replacement>*/\n\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n/*<replacement>*/\n\nvar EE = require('events').EventEmitter;\n\nvar EElistenerCount = function EElistenerCount(emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\n\n\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n\nvar Buffer = require('buffer').Buffer;\n\nvar OurUint8Array = global.Uint8Array || function () {};\n\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\n\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n/*<replacement>*/\n\n\nvar debugUtil = require('util');\n\nvar debug;\n\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function debug() {};\n}\n/*</replacement>*/\n\n\nvar BufferList = require('./internal/streams/buffer_list');\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nvar _require = require('./internal/streams/state'),\n    getHighWaterMark = _require.getHighWaterMark;\n\nvar _require$codes = require('../errors').codes,\n    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n    ERR_STREAM_PUSH_AFTER_EOF = _require$codes.ERR_STREAM_PUSH_AFTER_EOF,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_STREAM_UNSHIFT_AFTER_END_EVENT = _require$codes.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;\n\nvar _require2 = require('../experimentalWarning'),\n    emitExperimentalWarning = _require2.emitExperimentalWarning; // Lazy loaded to improve the startup performance.\n\n\nvar StringDecoder;\nvar createReadableStreamAsyncIterator;\n\nrequire('inherits')(Readable, Stream);\n\nvar kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn); // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (Array.isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\n\nfunction ReadableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {}; // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex; // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode; // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n\n  this.highWaterMark = getHighWaterMark(this, options, 'readableHighWaterMark', isDuplex); // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false; // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n\n  this.sync = true; // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n  this.paused = true; // Should close be emitted on destroy. Defaults to true.\n\n  this.emitClose = options.emitClose !== false; // has it been destroyed\n\n  this.destroyed = false; // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n\n  this.defaultEncoding = options.defaultEncoding || 'utf8'; // the number of writers that are awaiting a drain event in .pipe()s\n\n  this.awaitDrain = 0; // if true, a maybeReadMore has been scheduled\n\n  this.readingMore = false;\n  this.decoder = null;\n  this.encoding = null;\n\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n  if (!(this instanceof Readable)) return new Readable(options); // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the ReadableState constructor, at least with V8 6.5\n\n  var isDuplex = this instanceof Duplex;\n  this._readableState = new ReadableState(options, this, isDuplex); // legacy\n\n  this.readable = true;\n\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n\n  Stream.call(this);\n}\n\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._readableState === undefined) {\n      return false;\n    }\n\n    return this._readableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._readableState.destroyed = value;\n  }\n});\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\n\nReadable.prototype._destroy = function (err, cb) {\n  cb(err);\n}; // Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\n\n\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n}; // Unshift should *always* be something directly out of read()\n\n\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\n\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  debug('readableAddChunk', chunk);\n  var state = stream._readableState;\n\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n\n    if (er) {\n      stream.emit('error', er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n\n      if (addToFront) {\n        if (state.endEmitted) stream.emit('error', new ERR_STREAM_UNSHIFT_AFTER_END_EVENT());else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        stream.emit('error', new ERR_STREAM_PUSH_AFTER_EOF());\n      } else if (state.destroyed) {\n        return false;\n      } else {\n        state.reading = false;\n\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n      maybeReadMore(stream, state);\n    }\n  } // We can push more data if we are below the highWaterMark.\n  // Also, if we have no data yet, we can stand some more bytes.\n  // This is to work around cases where hwm=0, such as the repl.\n\n\n  return !state.ended && (state.length < state.highWaterMark || state.length === 0);\n}\n\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    state.awaitDrain = 0;\n    stream.emit('data', chunk);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n    if (state.needReadable) emitReadable(stream);\n  }\n\n  maybeReadMore(stream, state);\n}\n\nfunction chunkInvalid(state, chunk) {\n  var er;\n\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array'], chunk);\n  }\n\n  return er;\n}\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n}; // backwards compatibility.\n\n\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc); // if setEncoding(null), decoder.encoding equals utf8\n\n  this._readableState.encoding = this._readableState.decoder.encoding;\n  return this;\n}; // Don't raise the hwm > 8MB\n\n\nvar MAX_HWM = 0x800000;\n\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n\n  return n;\n} // This function is designed to be inlinable, so please take care when making\n// changes to the function body.\n\n\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  } // If we're asking for more than the current hwm, then raise the hwm.\n\n\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n; // Don't have enough\n\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n\n  return state.length;\n} // you can override either this method, or the async _read(n) below.\n\n\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n  if (n !== 0) state.emittedReadable = false; // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n\n  if (n === 0 && state.needReadable && ((state.highWaterMark !== 0 ? state.length >= state.highWaterMark : state.length > 0) || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state); // if we've ended, and we're now clear, then finish it up.\n\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  } // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n  // if we need a readable event, then we need to do some reading.\n\n\n  var doRead = state.needReadable;\n  debug('need readable', doRead); // if we currently have less than the highWaterMark, then also read some\n\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  } // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n\n\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true; // if the length is currently zero, then we *need* a readable event.\n\n    if (state.length === 0) state.needReadable = true; // call internal read method\n\n    this._read(state.highWaterMark);\n\n    state.sync = false; // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = true;\n    n = 0;\n  } else {\n    state.length -= n;\n    state.awaitDrain = 0;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true; // If we tried to read() past the EOF, then emit end on the next tick.\n\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n  return ret;\n};\n\nfunction onEofChunk(stream, state) {\n  if (state.ended) return;\n\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n\n  state.ended = true;\n\n  if (state.sync) {\n    // if we are sync, wait until next tick to emit the data.\n    // Otherwise we risk emitting data in the flow()\n    // the readable code triggers during a read() call\n    emitReadable(stream);\n  } else {\n    // emit 'readable' now to make sure it gets picked up.\n    state.needReadable = false;\n\n    if (!state.emittedReadable) {\n      state.emittedReadable = true;\n      emitReadable_(stream);\n    }\n  }\n} // Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\n\n\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    process.nextTick(emitReadable_, stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  var state = stream._readableState;\n  debug('emitReadable_', state.destroyed, state.length, state.ended);\n\n  if (!state.destroyed && (state.length || state.ended)) {\n    stream.emit('readable');\n  } // The stream needs another readable event if\n  // 1. It is not flowing, as the flow mechanism will take\n  //    care of it.\n  // 2. It is not ended.\n  // 3. It is below the highWaterMark, so we can schedule\n  //    another readable later.\n\n\n  state.needReadable = !state.flowing && !state.ended && state.length <= state.highWaterMark;\n  flow(stream);\n} // at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\n\n\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    process.nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  // Attempt to read more data if we should.\n  //\n  // The conditions for reading more data are (one of):\n  // - Not enough data buffered (state.length < state.highWaterMark). The loop\n  //   is responsible for filling the buffer with enough data if such data\n  //   is available. If highWaterMark is 0 and we are not in the flowing mode\n  //   we should _not_ attempt to buffer any extra data. We'll get more data\n  //   when the stream consumer calls read() instead.\n  // - No data in the buffer, and the stream is in flowing mode. In this mode\n  //   the loop below is responsible for ensuring read() is called. Failing to\n  //   call read here would abort the flow and there's no other mechanism for\n  //   continuing the flow if the stream consumer has just subscribed to the\n  //   'data' event.\n  //\n  // In addition to the above conditions to keep reading data, the following\n  // conditions prevent the data from being read:\n  // - The stream has ended (state.ended).\n  // - There is already a pending 'read' operation (state.reading). This is a\n  //   case where the the stream has called the implementation defined _read()\n  //   method, but they are processing the call asynchronously and have _not_\n  //   called push() with new data. In this case we skip performing more\n  //   read()s. The execution ends in this method again after the _read() ends\n  //   up calling push() with more data.\n  while (!state.reading && !state.ended && (state.length < state.highWaterMark || state.flowing && state.length === 0)) {\n    var len = state.length;\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length) // didn't get any data, stop spinning.\n      break;\n  }\n\n  state.readingMore = false;\n} // abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\n\n\nReadable.prototype._read = function (n) {\n  this.emit('error', new ERR_METHOD_NOT_IMPLEMENTED('_read()'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) process.nextTick(endFn);else src.once('end', endFn);\n  dest.on('unpipe', onunpipe);\n\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  } // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n\n\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n  var cleanedUp = false;\n\n  function cleanup() {\n    debug('cleanup'); // cleanup event handlers once the pipe is broken\n\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n    cleanedUp = true; // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  src.on('data', ondata);\n\n  function ondata(chunk) {\n    debug('ondata');\n    var ret = dest.write(chunk);\n    debug('dest.write', ret);\n\n    if (ret === false) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', state.awaitDrain);\n        state.awaitDrain++;\n      }\n\n      src.pause();\n    }\n  } // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n\n\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) dest.emit('error', er);\n  } // Make sure our error handler is attached before userland ones.\n\n\n  prependListener(dest, 'error', onerror); // Both close and finish should trigger unpipe, but only once.\n\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n\n  dest.once('close', onclose);\n\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  } // tell the dest that it's being piped to\n\n\n  dest.emit('pipe', src); // start the flow if it hasn't been started already.\n\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function pipeOnDrainFunctionResult() {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = {\n    hasUnpiped: false\n  }; // if we're not piping anywhere, then do nothing.\n\n  if (state.pipesCount === 0) return this; // just one destination.  most common case.\n\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n    if (!dest) dest = state.pipes; // got a match.\n\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  } // slow case. multiple pipe destinations.\n\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++) {\n      dests[i].emit('unpipe', this, {\n        hasUnpiped: false\n      });\n    }\n\n    return this;\n  } // try to find the right one.\n\n\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n  dest.emit('unpipe', this, unpipeInfo);\n  return this;\n}; // set up data events if they are asked for\n// Ensure readable listeners eventually get something\n\n\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n  var state = this._readableState;\n\n  if (ev === 'data') {\n    // update readableListening so that resume() may be a no-op\n    // a few lines down. This is needed to support once('readable').\n    state.readableListening = this.listenerCount('readable') > 0; // Try start flowing on next tick if stream isn't explicitly paused\n\n    if (state.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.flowing = false;\n      state.emittedReadable = false;\n      debug('on readable', state.length, state.reading);\n\n      if (state.length) {\n        emitReadable(this);\n      } else if (!state.reading) {\n        process.nextTick(nReadingNextTick, this);\n      }\n    }\n  }\n\n  return res;\n};\n\nReadable.prototype.addListener = Readable.prototype.on;\n\nReadable.prototype.removeListener = function (ev, fn) {\n  var res = Stream.prototype.removeListener.call(this, ev, fn);\n\n  if (ev === 'readable') {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n\n  return res;\n};\n\nReadable.prototype.removeAllListeners = function (ev) {\n  var res = Stream.prototype.removeAllListeners.apply(this, arguments);\n\n  if (ev === 'readable' || ev === undefined) {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n\n  return res;\n};\n\nfunction updateReadableListening(self) {\n  var state = self._readableState;\n  state.readableListening = self.listenerCount('readable') > 0;\n\n  if (state.resumeScheduled && !state.paused) {\n    // flowing needs to be set to true now, otherwise\n    // the upcoming resume will not flow.\n    state.flowing = true; // crude way to check if we should resume\n  } else if (self.listenerCount('data') > 0) {\n    self.resume();\n  }\n}\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n} // pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\n\n\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n\n  if (!state.flowing) {\n    debug('resume'); // we flow only if there is no one listening\n    // for readable, but we still have to call\n    // resume()\n\n    state.flowing = !state.readableListening;\n    resume(this, state);\n  }\n\n  state.paused = false;\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    process.nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  debug('resume', state.reading);\n\n  if (!state.reading) {\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n\n  if (this._readableState.flowing !== false) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n\n  this._readableState.paused = true;\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n\n  while (state.flowing && stream.read() !== null) {\n    ;\n  }\n} // wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\n\n\nReadable.prototype.wrap = function (stream) {\n  var _this = this;\n\n  var state = this._readableState;\n  var paused = false;\n  stream.on('end', function () {\n    debug('wrapped end');\n\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) _this.push(chunk);\n    }\n\n    _this.push(null);\n  });\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk); // don't skip over falsy values in objectMode\n\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = _this.push(chunk);\n\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  }); // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function methodWrap(method) {\n        return function methodWrapReturnFunction() {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  } // proxy certain important events.\n\n\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  } // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n\n\n  this._read = function (n) {\n    debug('wrapped _read', n);\n\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return this;\n};\n\nif (typeof Symbol === 'function') {\n  Readable.prototype[Symbol.asyncIterator] = function () {\n    emitExperimentalWarning('Readable[Symbol.asyncIterator]');\n\n    if (createReadableStreamAsyncIterator === undefined) {\n      createReadableStreamAsyncIterator = require('./internal/streams/async_iterator');\n    }\n\n    return createReadableStreamAsyncIterator(this);\n  };\n}\n\nObject.defineProperty(Readable.prototype, 'readableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.highWaterMark;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState && this._readableState.buffer;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableFlowing', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.flowing;\n  },\n  set: function set(state) {\n    if (this._readableState) {\n      this._readableState.flowing = state;\n    }\n  }\n}); // exposed for testing purposes only.\n\nReadable._fromList = fromList;\nObject.defineProperty(Readable.prototype, 'readableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.length;\n  }\n}); // Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\n\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.first();else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = state.buffer.consume(n, state.decoder);\n  }\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n  debug('endReadable', state.endEmitted);\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    process.nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  debug('endReadableNT', state.endEmitted, state.length); // Check that we didn't get one last unshift.\n\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n  }\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n\n  return -1;\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n'use strict';\n\nmodule.exports = Transform;\n\nvar _require$codes = require('../errors').codes,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n    ERR_TRANSFORM_ALREADY_TRANSFORMING = _require$codes.ERR_TRANSFORM_ALREADY_TRANSFORMING,\n    ERR_TRANSFORM_WITH_LENGTH_0 = _require$codes.ERR_TRANSFORM_WITH_LENGTH_0;\n\nvar Duplex = require('./_stream_duplex');\n\nrequire('inherits')(Transform, Duplex);\n\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n  var cb = ts.writecb;\n\n  if (cb === null) {\n    return this.emit('error', new ERR_MULTIPLE_CALLBACK());\n  }\n\n  ts.writechunk = null;\n  ts.writecb = null;\n  if (data != null) // single equals check for both `null` and `undefined`\n    this.push(data);\n  cb(er);\n  var rs = this._readableState;\n  rs.reading = false;\n\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n  Duplex.call(this, options);\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  }; // start out asking for a readable event once data is transformed.\n\n  this._readableState.needReadable = true; // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  } // When the writable side finishes, then flush out anything remaining.\n\n\n  this.on('prefinish', prefinish);\n}\n\nfunction prefinish() {\n  var _this = this;\n\n  if (typeof this._flush === 'function' && !this._readableState.destroyed) {\n    this._flush(function (er, data) {\n      done(_this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n}; // This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\n\n\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_transform()'));\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n}; // Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\n\n\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && !ts.transforming) {\n    ts.transforming = true;\n\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nTransform.prototype._destroy = function (err, cb) {\n  Duplex.prototype._destroy.call(this, err, function (err2) {\n    cb(err2);\n  });\n};\n\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n  if (data != null) // single equals check for both `null` and `undefined`\n    stream.push(data); // TODO(BridgeAR): Write a test for these two error cases\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n\n  if (stream._writableState.length) throw new ERR_TRANSFORM_WITH_LENGTH_0();\n  if (stream._transformState.transforming) throw new ERR_TRANSFORM_ALREADY_TRANSFORMING();\n  return stream.push(null);\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n'use strict';\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\nrequire('inherits')(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};","// Ported from https://github.com/mafintosh/pump with\n// permission from the author, Mathias Buus (@mafintosh).\n'use strict';\n\nvar eos;\n\nfunction once(callback) {\n  var called = false;\n  return function () {\n    if (called) return;\n    called = true;\n    callback.apply(void 0, arguments);\n  };\n}\n\nvar _require$codes = require('../../../errors').codes,\n    ERR_MISSING_ARGS = _require$codes.ERR_MISSING_ARGS,\n    ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED;\n\nfunction noop(err) {\n  // Rethrow the error if it exists to avoid swallowing it\n  if (err) throw err;\n}\n\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\n\nfunction destroyer(stream, reading, writing, callback) {\n  callback = once(callback);\n  var closed = false;\n  stream.on('close', function () {\n    closed = true;\n  });\n  if (eos === undefined) eos = require('./end-of-stream');\n  eos(stream, {\n    readable: reading,\n    writable: writing\n  }, function (err) {\n    if (err) return callback(err);\n    closed = true;\n    callback();\n  });\n  var destroyed = false;\n  return function (err) {\n    if (closed) return;\n    if (destroyed) return;\n    destroyed = true; // request.destroy just do .end - .abort is what we want\n\n    if (isRequest(stream)) return stream.abort();\n    if (typeof stream.destroy === 'function') return stream.destroy();\n    callback(err || new ERR_STREAM_DESTROYED('pipe'));\n  };\n}\n\nfunction call(fn) {\n  fn();\n}\n\nfunction pipe(from, to) {\n  return from.pipe(to);\n}\n\nfunction popCallback(streams) {\n  if (!streams.length) return noop;\n  if (typeof streams[streams.length - 1] !== 'function') return noop;\n  return streams.pop();\n}\n\nfunction pipeline() {\n  for (var _len = arguments.length, streams = new Array(_len), _key = 0; _key < _len; _key++) {\n    streams[_key] = arguments[_key];\n  }\n\n  var callback = popCallback(streams);\n  if (Array.isArray(streams[0])) streams = streams[0];\n\n  if (streams.length < 2) {\n    throw new ERR_MISSING_ARGS('streams');\n  }\n\n  var error;\n  var destroys = streams.map(function (stream, i) {\n    var reading = i < streams.length - 1;\n    var writing = i > 0;\n    return destroyer(stream, reading, writing, function (err) {\n      if (!error) error = err;\n      if (err) destroys.forEach(call);\n      if (reading) return;\n      destroys.forEach(call);\n      callback(error);\n    });\n  });\n  return streams.reduce(pipe);\n}\n\nmodule.exports = pipeline;","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = exports;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\nexports.finished = require('./lib/internal/streams/end-of-stream.js');\nexports.pipeline = require('./lib/internal/streams/pipeline.js');\n","var inherits = require('inherits')\nvar Readable = require('readable-stream').Readable\nvar extend = require('xtend')\n\nmodule.exports = ReadStream\ninherits(ReadStream, Readable)\n\nfunction ReadStream (iterator, options) {\n  if (!(this instanceof ReadStream)) return new ReadStream(iterator, options)\n  options = options || {}\n  Readable.call(this, extend(options, {\n    objectMode: true\n  }))\n  this._iterator = iterator\n  this._options = options\n  this.on('end', this.destroy.bind(this, null, null))\n}\n\nReadStream.prototype._read = function () {\n  var self = this\n  var options = this._options\n  if (this.destroyed) return\n\n  this._iterator.next(function (err, key, value) {\n    if (self.destroyed) return\n    if (err) return self.destroy(err)\n\n    if (key === undefined && value === undefined) {\n      self.push(null)\n    } else if (options.keys !== false && options.values === false) {\n      self.push(key)\n    } else if (options.keys === false && options.values !== false) {\n      self.push(value)\n    } else {\n      self.push({ key: key, value: value })\n    }\n  })\n}\n\nReadStream.prototype._destroy = function (err, callback) {\n  this._iterator.end(function (err2) {\n    callback(err || err2)\n  })\n}\n","/*!\n  * prr\n  * (c) 2013 Rod Vagg <rod@vagg.org>\n  * https://github.com/rvagg/prr\n  * License: MIT\n  */\n\n(function (name, context, definition) {\n  if (typeof module != 'undefined' && module.exports)\n    module.exports = definition()\n  else\n    context[name] = definition()\n})('prr', this, function() {\n\n  var setProperty = typeof Object.defineProperty == 'function'\n      ? function (obj, key, options) {\n          Object.defineProperty(obj, key, options)\n          return obj\n        }\n      : function (obj, key, options) { // < es5\n          obj[key] = options.value\n          return obj\n        }\n\n    , makeOptions = function (value, options) {\n        var oo = typeof options == 'object'\n          , os = !oo && typeof options == 'string'\n          , op = function (p) {\n              return oo\n                ? !!options[p]\n                : os\n                  ? options.indexOf(p[0]) > -1\n                  : false\n            }\n\n        return {\n            enumerable   : op('enumerable')\n          , configurable : op('configurable')\n          , writable     : op('writable')\n          , value        : value\n        }\n      }\n\n    , prr = function (obj, key, value, options) {\n        var k\n\n        options = makeOptions(value, options)\n\n        if (typeof key == 'object') {\n          for (k in key) {\n            if (Object.hasOwnProperty.call(key, k)) {\n              options.value = key[k]\n              setProperty(obj, k, options)\n            }\n          }\n          return obj\n        }\n\n        return setProperty(obj, key, options)\n      }\n\n  return prr\n})","var prr = require('prr')\n\nfunction init (type, message, cause) {\n  if (!!message && typeof message != 'string') {\n    message = message.message || message.name\n  }\n  prr(this, {\n      type    : type\n    , name    : type\n      // can be passed just a 'cause'\n    , cause   : typeof message != 'string' ? message : cause\n    , message : message\n  }, 'ewr')\n}\n\n// generic prototype, not intended to be actually used - helpful for `instanceof`\nfunction CustomError (message, cause) {\n  Error.call(this)\n  if (Error.captureStackTrace)\n    Error.captureStackTrace(this, this.constructor)\n  init.call(this, 'CustomError', message, cause)\n}\n\nCustomError.prototype = new Error()\n\nfunction createError (errno, type, proto) {\n  var err = function (message, cause) {\n    init.call(this, type, message, cause)\n    //TODO: the specificity here is stupid, errno should be available everywhere\n    if (type == 'FilesystemError') {\n      this.code    = this.cause.code\n      this.path    = this.cause.path\n      this.errno   = this.cause.errno\n      this.message =\n        (errno.errno[this.cause.errno]\n          ? errno.errno[this.cause.errno].description\n          : this.cause.message)\n        + (this.cause.path ? ' [' + this.cause.path + ']' : '')\n    }\n    Error.call(this)\n    if (Error.captureStackTrace)\n      Error.captureStackTrace(this, err)\n  }\n  err.prototype = !!proto ? new proto() : new CustomError()\n  return err\n}\n\nmodule.exports = function (errno) {\n  var ce = function (type, proto) {\n    return createError(errno, type, proto)\n  }\n  return {\n      CustomError     : CustomError\n    , FilesystemError : ce('FilesystemError')\n    , createError     : ce\n  }\n}\n","var all = module.exports.all = [\n  {\n    errno: -2,\n    code: 'ENOENT',\n    description: 'no such file or directory'\n  },\n  {\n    errno: -1,\n    code: 'UNKNOWN',\n    description: 'unknown error'\n  },\n  {\n    errno: 0,\n    code: 'OK',\n    description: 'success'\n  },\n  {\n    errno: 1,\n    code: 'EOF',\n    description: 'end of file'\n  },\n  {\n    errno: 2,\n    code: 'EADDRINFO',\n    description: 'getaddrinfo error'\n  },\n  {\n    errno: 3,\n    code: 'EACCES',\n    description: 'permission denied'\n  },\n  {\n    errno: 4,\n    code: 'EAGAIN',\n    description: 'resource temporarily unavailable'\n  },\n  {\n    errno: 5,\n    code: 'EADDRINUSE',\n    description: 'address already in use'\n  },\n  {\n    errno: 6,\n    code: 'EADDRNOTAVAIL',\n    description: 'address not available'\n  },\n  {\n    errno: 7,\n    code: 'EAFNOSUPPORT',\n    description: 'address family not supported'\n  },\n  {\n    errno: 8,\n    code: 'EALREADY',\n    description: 'connection already in progress'\n  },\n  {\n    errno: 9,\n    code: 'EBADF',\n    description: 'bad file descriptor'\n  },\n  {\n    errno: 10,\n    code: 'EBUSY',\n    description: 'resource busy or locked'\n  },\n  {\n    errno: 11,\n    code: 'ECONNABORTED',\n    description: 'software caused connection abort'\n  },\n  {\n    errno: 12,\n    code: 'ECONNREFUSED',\n    description: 'connection refused'\n  },\n  {\n    errno: 13,\n    code: 'ECONNRESET',\n    description: 'connection reset by peer'\n  },\n  {\n    errno: 14,\n    code: 'EDESTADDRREQ',\n    description: 'destination address required'\n  },\n  {\n    errno: 15,\n    code: 'EFAULT',\n    description: 'bad address in system call argument'\n  },\n  {\n    errno: 16,\n    code: 'EHOSTUNREACH',\n    description: 'host is unreachable'\n  },\n  {\n    errno: 17,\n    code: 'EINTR',\n    description: 'interrupted system call'\n  },\n  {\n    errno: 18,\n    code: 'EINVAL',\n    description: 'invalid argument'\n  },\n  {\n    errno: 19,\n    code: 'EISCONN',\n    description: 'socket is already connected'\n  },\n  {\n    errno: 20,\n    code: 'EMFILE',\n    description: 'too many open files'\n  },\n  {\n    errno: 21,\n    code: 'EMSGSIZE',\n    description: 'message too long'\n  },\n  {\n    errno: 22,\n    code: 'ENETDOWN',\n    description: 'network is down'\n  },\n  {\n    errno: 23,\n    code: 'ENETUNREACH',\n    description: 'network is unreachable'\n  },\n  {\n    errno: 24,\n    code: 'ENFILE',\n    description: 'file table overflow'\n  },\n  {\n    errno: 25,\n    code: 'ENOBUFS',\n    description: 'no buffer space available'\n  },\n  {\n    errno: 26,\n    code: 'ENOMEM',\n    description: 'not enough memory'\n  },\n  {\n    errno: 27,\n    code: 'ENOTDIR',\n    description: 'not a directory'\n  },\n  {\n    errno: 28,\n    code: 'EISDIR',\n    description: 'illegal operation on a directory'\n  },\n  {\n    errno: 29,\n    code: 'ENONET',\n    description: 'machine is not on the network'\n  },\n  {\n    errno: 31,\n    code: 'ENOTCONN',\n    description: 'socket is not connected'\n  },\n  {\n    errno: 32,\n    code: 'ENOTSOCK',\n    description: 'socket operation on non-socket'\n  },\n  {\n    errno: 33,\n    code: 'ENOTSUP',\n    description: 'operation not supported on socket'\n  },\n  {\n    errno: 34,\n    code: 'ENOENT',\n    description: 'no such file or directory'\n  },\n  {\n    errno: 35,\n    code: 'ENOSYS',\n    description: 'function not implemented'\n  },\n  {\n    errno: 36,\n    code: 'EPIPE',\n    description: 'broken pipe'\n  },\n  {\n    errno: 37,\n    code: 'EPROTO',\n    description: 'protocol error'\n  },\n  {\n    errno: 38,\n    code: 'EPROTONOSUPPORT',\n    description: 'protocol not supported'\n  },\n  {\n    errno: 39,\n    code: 'EPROTOTYPE',\n    description: 'protocol wrong type for socket'\n  },\n  {\n    errno: 40,\n    code: 'ETIMEDOUT',\n    description: 'connection timed out'\n  },\n  {\n    errno: 41,\n    code: 'ECHARSET',\n    description: 'invalid Unicode character'\n  },\n  {\n    errno: 42,\n    code: 'EAIFAMNOSUPPORT',\n    description: 'address family for hostname not supported'\n  },\n  {\n    errno: 44,\n    code: 'EAISERVICE',\n    description: 'servname not supported for ai_socktype'\n  },\n  {\n    errno: 45,\n    code: 'EAISOCKTYPE',\n    description: 'ai_socktype not supported'\n  },\n  {\n    errno: 46,\n    code: 'ESHUTDOWN',\n    description: 'cannot send after transport endpoint shutdown'\n  },\n  {\n    errno: 47,\n    code: 'EEXIST',\n    description: 'file already exists'\n  },\n  {\n    errno: 48,\n    code: 'ESRCH',\n    description: 'no such process'\n  },\n  {\n    errno: 49,\n    code: 'ENAMETOOLONG',\n    description: 'name too long'\n  },\n  {\n    errno: 50,\n    code: 'EPERM',\n    description: 'operation not permitted'\n  },\n  {\n    errno: 51,\n    code: 'ELOOP',\n    description: 'too many symbolic links encountered'\n  },\n  {\n    errno: 52,\n    code: 'EXDEV',\n    description: 'cross-device link not permitted'\n  },\n  {\n    errno: 53,\n    code: 'ENOTEMPTY',\n    description: 'directory not empty'\n  },\n  {\n    errno: 54,\n    code: 'ENOSPC',\n    description: 'no space left on device'\n  },\n  {\n    errno: 55,\n    code: 'EIO',\n    description: 'i/o error'\n  },\n  {\n    errno: 56,\n    code: 'EROFS',\n    description: 'read-only file system'\n  },\n  {\n    errno: 57,\n    code: 'ENODEV',\n    description: 'no such device'\n  },\n  {\n    errno: 58,\n    code: 'ESPIPE',\n    description: 'invalid seek'\n  },\n  {\n    errno: 59,\n    code: 'ECANCELED',\n    description: 'operation canceled'\n  }\n]\n\nmodule.exports.errno = {}\nmodule.exports.code = {}\n\nall.forEach(function (error) {\n  module.exports.errno[error.errno] = error\n  module.exports.code[error.code] = error\n})\n\nmodule.exports.custom = require('./custom')(module.exports)\nmodule.exports.create = module.exports.custom.createError\n","var createError = require('errno').create\nvar LevelUPError = createError('LevelUPError')\nvar NotFoundError = createError('NotFoundError', LevelUPError)\n\nNotFoundError.prototype.notFound = true\nNotFoundError.prototype.status = 404\n\nmodule.exports = {\n  LevelUPError: LevelUPError,\n  InitializationError: createError('InitializationError', LevelUPError),\n  OpenError: createError('OpenError', LevelUPError),\n  ReadError: createError('ReadError', LevelUPError),\n  WriteError: createError('WriteError', LevelUPError),\n  NotFoundError: NotFoundError,\n  EncodingError: createError('EncodingError', LevelUPError)\n}\n","function promisify () {\n  var callback\n  var promise = new Promise(function (resolve, reject) {\n    callback = function callback (err, value) {\n      if (err) reject(err)\n      else resolve(value)\n    }\n  })\n  callback.promise = promise\n  return callback\n}\n\nmodule.exports = promisify\n","exports.getCallback = function (options, callback) {\n  return typeof options === 'function' ? options : callback\n}\n\nexports.getOptions = function (options) {\n  return typeof options === 'object' && options !== null ? options : {}\n}\n","var WriteError = require('level-errors').WriteError\nvar promisify = require('./promisify')\nvar getCallback = require('./common').getCallback\nvar getOptions = require('./common').getOptions\n\nfunction Batch (levelup) {\n  this._levelup = levelup\n  this.batch = levelup.db.batch()\n  this.ops = []\n  this.length = 0\n}\n\nBatch.prototype.put = function (key, value) {\n  try {\n    this.batch.put(key, value)\n  } catch (e) {\n    throw new WriteError(e)\n  }\n\n  this.ops.push({ type: 'put', key: key, value: value })\n  this.length++\n\n  return this\n}\n\nBatch.prototype.del = function (key) {\n  try {\n    this.batch.del(key)\n  } catch (err) {\n    throw new WriteError(err)\n  }\n\n  this.ops.push({ type: 'del', key: key })\n  this.length++\n\n  return this\n}\n\nBatch.prototype.clear = function () {\n  try {\n    this.batch.clear()\n  } catch (err) {\n    throw new WriteError(err)\n  }\n\n  this.ops = []\n  this.length = 0\n\n  return this\n}\n\nBatch.prototype.write = function (options, callback) {\n  var levelup = this._levelup\n  var ops = this.ops\n  var promise\n\n  callback = getCallback(options, callback)\n\n  if (!callback) {\n    callback = promisify()\n    promise = callback.promise\n  }\n\n  options = getOptions(options)\n\n  try {\n    this.batch.write(options, function (err) {\n      if (err) { return callback(new WriteError(err)) }\n      levelup.emit('batch', ops)\n      callback()\n    })\n  } catch (err) {\n    throw new WriteError(err)\n  }\n\n  return promise\n}\n\nmodule.exports = Batch\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n","'use strict';\n\nvar objectAssign = require('object-assign');\n\n// compare and isBuffer taken from https://github.com/feross/buffer/blob/680e9e5e488f22aac27599a57dc844a6315928dd/index.js\n// original notice:\n\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\nfunction compare(a, b) {\n  if (a === b) {\n    return 0;\n  }\n\n  var x = a.length;\n  var y = b.length;\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i];\n      y = b[i];\n      break;\n    }\n  }\n\n  if (x < y) {\n    return -1;\n  }\n  if (y < x) {\n    return 1;\n  }\n  return 0;\n}\nfunction isBuffer(b) {\n  if (global.Buffer && typeof global.Buffer.isBuffer === 'function') {\n    return global.Buffer.isBuffer(b);\n  }\n  return !!(b != null && b._isBuffer);\n}\n\n// based on node assert, original notice:\n// NB: The URL to the CommonJS spec is kept just for tradition.\n//     node-assert has evolved a lot since then, both in API and behavior.\n\n// http://wiki.commonjs.org/wiki/Unit_Testing/1.0\n//\n// THIS IS NOT TESTED NOR LIKELY TO WORK OUTSIDE V8!\n//\n// Originally from narwhal.js (http://narwhaljs.org)\n// Copyright (c) 2009 Thomas Robinson <280north.com>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the 'Software'), to\n// deal in the Software without restriction, including without limitation the\n// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n// sell copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN\n// ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar util = require('util/');\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar pSlice = Array.prototype.slice;\nvar functionsHaveNames = (function () {\n  return function foo() {}.name === 'foo';\n}());\nfunction pToString (obj) {\n  return Object.prototype.toString.call(obj);\n}\nfunction isView(arrbuf) {\n  if (isBuffer(arrbuf)) {\n    return false;\n  }\n  if (typeof global.ArrayBuffer !== 'function') {\n    return false;\n  }\n  if (typeof ArrayBuffer.isView === 'function') {\n    return ArrayBuffer.isView(arrbuf);\n  }\n  if (!arrbuf) {\n    return false;\n  }\n  if (arrbuf instanceof DataView) {\n    return true;\n  }\n  if (arrbuf.buffer && arrbuf.buffer instanceof ArrayBuffer) {\n    return true;\n  }\n  return false;\n}\n// 1. The assert module provides functions that throw\n// AssertionError's when particular conditions are not met. The\n// assert module must conform to the following interface.\n\nvar assert = module.exports = ok;\n\n// 2. The AssertionError is defined in assert.\n// new assert.AssertionError({ message: message,\n//                             actual: actual,\n//                             expected: expected })\n\nvar regex = /\\s*function\\s+([^\\(\\s]*)\\s*/;\n// based on https://github.com/ljharb/function.prototype.name/blob/adeeeec8bfcc6068b187d7d9fb3d5bb1d3a30899/implementation.js\nfunction getName(func) {\n  if (!util.isFunction(func)) {\n    return;\n  }\n  if (functionsHaveNames) {\n    return func.name;\n  }\n  var str = func.toString();\n  var match = str.match(regex);\n  return match && match[1];\n}\nassert.AssertionError = function AssertionError(options) {\n  this.name = 'AssertionError';\n  this.actual = options.actual;\n  this.expected = options.expected;\n  this.operator = options.operator;\n  if (options.message) {\n    this.message = options.message;\n    this.generatedMessage = false;\n  } else {\n    this.message = getMessage(this);\n    this.generatedMessage = true;\n  }\n  var stackStartFunction = options.stackStartFunction || fail;\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, stackStartFunction);\n  } else {\n    // non v8 browsers so we can have a stacktrace\n    var err = new Error();\n    if (err.stack) {\n      var out = err.stack;\n\n      // try to strip useless frames\n      var fn_name = getName(stackStartFunction);\n      var idx = out.indexOf('\\n' + fn_name);\n      if (idx >= 0) {\n        // once we have located the function frame\n        // we need to strip out everything before it (and its line)\n        var next_line = out.indexOf('\\n', idx + 1);\n        out = out.substring(next_line + 1);\n      }\n\n      this.stack = out;\n    }\n  }\n};\n\n// assert.AssertionError instanceof Error\nutil.inherits(assert.AssertionError, Error);\n\nfunction truncate(s, n) {\n  if (typeof s === 'string') {\n    return s.length < n ? s : s.slice(0, n);\n  } else {\n    return s;\n  }\n}\nfunction inspect(something) {\n  if (functionsHaveNames || !util.isFunction(something)) {\n    return util.inspect(something);\n  }\n  var rawname = getName(something);\n  var name = rawname ? ': ' + rawname : '';\n  return '[Function' +  name + ']';\n}\nfunction getMessage(self) {\n  return truncate(inspect(self.actual), 128) + ' ' +\n         self.operator + ' ' +\n         truncate(inspect(self.expected), 128);\n}\n\n// At present only the three keys mentioned above are used and\n// understood by the spec. Implementations or sub modules can pass\n// other keys to the AssertionError's constructor - they will be\n// ignored.\n\n// 3. All of the following functions must throw an AssertionError\n// when a corresponding condition is not met, with a message that\n// may be undefined if not provided.  All assertion methods provide\n// both the actual and expected values to the assertion error for\n// display purposes.\n\nfunction fail(actual, expected, message, operator, stackStartFunction) {\n  throw new assert.AssertionError({\n    message: message,\n    actual: actual,\n    expected: expected,\n    operator: operator,\n    stackStartFunction: stackStartFunction\n  });\n}\n\n// EXTENSION! allows for well behaved errors defined elsewhere.\nassert.fail = fail;\n\n// 4. Pure assertion tests whether a value is truthy, as determined\n// by !!guard.\n// assert.ok(guard, message_opt);\n// This statement is equivalent to assert.equal(true, !!guard,\n// message_opt);. To test strictly for the value true, use\n// assert.strictEqual(true, guard, message_opt);.\n\nfunction ok(value, message) {\n  if (!value) fail(value, true, message, '==', assert.ok);\n}\nassert.ok = ok;\n\n// 5. The equality assertion tests shallow, coercive equality with\n// ==.\n// assert.equal(actual, expected, message_opt);\n\nassert.equal = function equal(actual, expected, message) {\n  if (actual != expected) fail(actual, expected, message, '==', assert.equal);\n};\n\n// 6. The non-equality assertion tests for whether two objects are not equal\n// with != assert.notEqual(actual, expected, message_opt);\n\nassert.notEqual = function notEqual(actual, expected, message) {\n  if (actual == expected) {\n    fail(actual, expected, message, '!=', assert.notEqual);\n  }\n};\n\n// 7. The equivalence assertion tests a deep equality relation.\n// assert.deepEqual(actual, expected, message_opt);\n\nassert.deepEqual = function deepEqual(actual, expected, message) {\n  if (!_deepEqual(actual, expected, false)) {\n    fail(actual, expected, message, 'deepEqual', assert.deepEqual);\n  }\n};\n\nassert.deepStrictEqual = function deepStrictEqual(actual, expected, message) {\n  if (!_deepEqual(actual, expected, true)) {\n    fail(actual, expected, message, 'deepStrictEqual', assert.deepStrictEqual);\n  }\n};\n\nfunction _deepEqual(actual, expected, strict, memos) {\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n  } else if (isBuffer(actual) && isBuffer(expected)) {\n    return compare(actual, expected) === 0;\n\n  // 7.2. If the expected value is a Date object, the actual value is\n  // equivalent if it is also a Date object that refers to the same time.\n  } else if (util.isDate(actual) && util.isDate(expected)) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3 If the expected value is a RegExp object, the actual value is\n  // equivalent if it is also a RegExp object with the same source and\n  // properties (`global`, `multiline`, `lastIndex`, `ignoreCase`).\n  } else if (util.isRegExp(actual) && util.isRegExp(expected)) {\n    return actual.source === expected.source &&\n           actual.global === expected.global &&\n           actual.multiline === expected.multiline &&\n           actual.lastIndex === expected.lastIndex &&\n           actual.ignoreCase === expected.ignoreCase;\n\n  // 7.4. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if ((actual === null || typeof actual !== 'object') &&\n             (expected === null || typeof expected !== 'object')) {\n    return strict ? actual === expected : actual == expected;\n\n  // If both values are instances of typed arrays, wrap their underlying\n  // ArrayBuffers in a Buffer each to increase performance\n  // This optimization requires the arrays to have the same type as checked by\n  // Object.prototype.toString (aka pToString). Never perform binary\n  // comparisons for Float*Arrays, though, since e.g. +0 === -0 but their\n  // bit patterns are not identical.\n  } else if (isView(actual) && isView(expected) &&\n             pToString(actual) === pToString(expected) &&\n             !(actual instanceof Float32Array ||\n               actual instanceof Float64Array)) {\n    return compare(new Uint8Array(actual.buffer),\n                   new Uint8Array(expected.buffer)) === 0;\n\n  // 7.5 For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else if (isBuffer(actual) !== isBuffer(expected)) {\n    return false;\n  } else {\n    memos = memos || {actual: [], expected: []};\n\n    var actualIndex = memos.actual.indexOf(actual);\n    if (actualIndex !== -1) {\n      if (actualIndex === memos.expected.indexOf(expected)) {\n        return true;\n      }\n    }\n\n    memos.actual.push(actual);\n    memos.expected.push(expected);\n\n    return objEquiv(actual, expected, strict, memos);\n  }\n}\n\nfunction isArguments(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n}\n\nfunction objEquiv(a, b, strict, actualVisitedObjects) {\n  if (a === null || a === undefined || b === null || b === undefined)\n    return false;\n  // if one is a primitive, the other must be same\n  if (util.isPrimitive(a) || util.isPrimitive(b))\n    return a === b;\n  if (strict && Object.getPrototypeOf(a) !== Object.getPrototypeOf(b))\n    return false;\n  var aIsArgs = isArguments(a);\n  var bIsArgs = isArguments(b);\n  if ((aIsArgs && !bIsArgs) || (!aIsArgs && bIsArgs))\n    return false;\n  if (aIsArgs) {\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return _deepEqual(a, b, strict);\n  }\n  var ka = objectKeys(a);\n  var kb = objectKeys(b);\n  var key, i;\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length !== kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] !== kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!_deepEqual(a[key], b[key], strict, actualVisitedObjects))\n      return false;\n  }\n  return true;\n}\n\n// 8. The non-equivalence assertion tests for any deep inequality.\n// assert.notDeepEqual(actual, expected, message_opt);\n\nassert.notDeepEqual = function notDeepEqual(actual, expected, message) {\n  if (_deepEqual(actual, expected, false)) {\n    fail(actual, expected, message, 'notDeepEqual', assert.notDeepEqual);\n  }\n};\n\nassert.notDeepStrictEqual = notDeepStrictEqual;\nfunction notDeepStrictEqual(actual, expected, message) {\n  if (_deepEqual(actual, expected, true)) {\n    fail(actual, expected, message, 'notDeepStrictEqual', notDeepStrictEqual);\n  }\n}\n\n\n// 9. The strict equality assertion tests strict equality, as determined by ===.\n// assert.strictEqual(actual, expected, message_opt);\n\nassert.strictEqual = function strictEqual(actual, expected, message) {\n  if (actual !== expected) {\n    fail(actual, expected, message, '===', assert.strictEqual);\n  }\n};\n\n// 10. The strict non-equality assertion tests for strict inequality, as\n// determined by !==.  assert.notStrictEqual(actual, expected, message_opt);\n\nassert.notStrictEqual = function notStrictEqual(actual, expected, message) {\n  if (actual === expected) {\n    fail(actual, expected, message, '!==', assert.notStrictEqual);\n  }\n};\n\nfunction expectedException(actual, expected) {\n  if (!actual || !expected) {\n    return false;\n  }\n\n  if (Object.prototype.toString.call(expected) == '[object RegExp]') {\n    return expected.test(actual);\n  }\n\n  try {\n    if (actual instanceof expected) {\n      return true;\n    }\n  } catch (e) {\n    // Ignore.  The instanceof check doesn't work for arrow functions.\n  }\n\n  if (Error.isPrototypeOf(expected)) {\n    return false;\n  }\n\n  return expected.call({}, actual) === true;\n}\n\nfunction _tryBlock(block) {\n  var error;\n  try {\n    block();\n  } catch (e) {\n    error = e;\n  }\n  return error;\n}\n\nfunction _throws(shouldThrow, block, expected, message) {\n  var actual;\n\n  if (typeof block !== 'function') {\n    throw new TypeError('\"block\" argument must be a function');\n  }\n\n  if (typeof expected === 'string') {\n    message = expected;\n    expected = null;\n  }\n\n  actual = _tryBlock(block);\n\n  message = (expected && expected.name ? ' (' + expected.name + ').' : '.') +\n            (message ? ' ' + message : '.');\n\n  if (shouldThrow && !actual) {\n    fail(actual, expected, 'Missing expected exception' + message);\n  }\n\n  var userProvidedMessage = typeof message === 'string';\n  var isUnwantedException = !shouldThrow && util.isError(actual);\n  var isUnexpectedException = !shouldThrow && actual && !expected;\n\n  if ((isUnwantedException &&\n      userProvidedMessage &&\n      expectedException(actual, expected)) ||\n      isUnexpectedException) {\n    fail(actual, expected, 'Got unwanted exception' + message);\n  }\n\n  if ((shouldThrow && actual && expected &&\n      !expectedException(actual, expected)) || (!shouldThrow && actual)) {\n    throw actual;\n  }\n}\n\n// 11. Expected to throw an error:\n// assert.throws(block, Error_opt, message_opt);\n\nassert.throws = function(block, /*optional*/error, /*optional*/message) {\n  _throws(true, block, error, message);\n};\n\n// EXTENSION! This is annoying to write outside this module.\nassert.doesNotThrow = function(block, /*optional*/error, /*optional*/message) {\n  _throws(false, block, error, message);\n};\n\nassert.ifError = function(err) { if (err) throw err; };\n\n// Expose a strict only variant of assert\nfunction strict(value, message) {\n  if (!value) fail(value, true, message, '==', strict);\n}\nassert.strict = objectAssign(strict, assert, {\n  equal: assert.strictEqual,\n  deepEqual: assert.deepStrictEqual,\n  notEqual: assert.notStrictEqual,\n  notDeepEqual: assert.notDeepStrictEqual\n});\nassert.strict.strict = assert.strict;\n\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    if (hasOwn.call(obj, key)) keys.push(key);\n  }\n  return keys;\n};\n","var EventEmitter = require('events').EventEmitter\nvar inherits = require('util').inherits\nvar extend = require('xtend')\nvar DeferredLevelDOWN = require('deferred-leveldown')\nvar IteratorStream = require('level-iterator-stream')\nvar Batch = require('./batch')\nvar errors = require('level-errors')\nvar assert = require('assert')\nvar promisify = require('./promisify')\nvar getCallback = require('./common').getCallback\nvar getOptions = require('./common').getOptions\n\nvar WriteError = errors.WriteError\nvar ReadError = errors.ReadError\nvar NotFoundError = errors.NotFoundError\nvar OpenError = errors.OpenError\nvar InitializationError = errors.InitializationError\n\n// Possible AbstractLevelDOWN#status values:\n//  - 'new'     - newly created, not opened or closed\n//  - 'opening' - waiting for the database to be opened, post open()\n//  - 'open'    - successfully opened the database, available for use\n//  - 'closing' - waiting for the database to be closed, post close()\n//  - 'closed'  - database has been successfully closed, should not be\n//                 used except for another open() operation\n\nfunction LevelUP (db, options, callback) {\n  if (!(this instanceof LevelUP)) {\n    return new LevelUP(db, options, callback)\n  }\n\n  var error\n\n  EventEmitter.call(this)\n  this.setMaxListeners(Infinity)\n\n  if (typeof options === 'function') {\n    callback = options\n    options = {}\n  }\n\n  options = options || {}\n\n  if (!db || typeof db !== 'object') {\n    error = new InitializationError('First argument must be an abstract-leveldown compliant store')\n    if (typeof callback === 'function') {\n      return process.nextTick(callback, error)\n    }\n    throw error\n  }\n\n  assert.strictEqual(typeof db.status, 'string', '.status required, old abstract-leveldown')\n\n  this.options = getOptions(options)\n  this._db = db\n  this.db = new DeferredLevelDOWN(db)\n  this.open(callback)\n}\n\nLevelUP.prototype.emit = EventEmitter.prototype.emit\nLevelUP.prototype.once = EventEmitter.prototype.once\ninherits(LevelUP, EventEmitter)\n\nLevelUP.prototype.open = function (callback) {\n  var self = this\n  var promise\n\n  if (!callback) {\n    callback = promisify()\n    promise = callback.promise\n  }\n\n  if (this.isOpen()) {\n    process.nextTick(callback, null, self)\n    return promise\n  }\n\n  if (this._isOpening()) {\n    this.once('open', function () { callback(null, self) })\n    return promise\n  }\n\n  this.emit('opening')\n\n  this.db.open(this.options, function (err) {\n    if (err) {\n      return callback(new OpenError(err))\n    }\n    self.db = self._db\n    callback(null, self)\n    self.emit('open')\n    self.emit('ready')\n  })\n\n  return promise\n}\n\nLevelUP.prototype.close = function (callback) {\n  var self = this\n  var promise\n\n  if (!callback) {\n    callback = promisify()\n    promise = callback.promise\n  }\n\n  if (this.isOpen()) {\n    this.db.close(function () {\n      self.emit('closed')\n      callback.apply(null, arguments)\n    })\n    this.emit('closing')\n    this.db = new DeferredLevelDOWN(this._db)\n  } else if (this.isClosed()) {\n    process.nextTick(callback)\n  } else if (this.db.status === 'closing') {\n    this.once('closed', callback)\n  } else if (this._isOpening()) {\n    this.once('open', function () {\n      self.close(callback)\n    })\n  }\n\n  return promise\n}\n\nLevelUP.prototype.isOpen = function () {\n  return this.db.status === 'open'\n}\n\nLevelUP.prototype._isOpening = function () {\n  return this.db.status === 'opening'\n}\n\nLevelUP.prototype.isClosed = function () {\n  return (/^clos|new/).test(this.db.status)\n}\n\nLevelUP.prototype.get = function (key, options, callback) {\n  if (key === null || key === undefined) {\n    throw new ReadError('get() requires a key argument')\n  }\n\n  var promise\n\n  callback = getCallback(options, callback)\n\n  if (!callback) {\n    callback = promisify()\n    promise = callback.promise\n  }\n\n  if (maybeError(this, callback)) { return promise }\n\n  options = getOptions(options)\n\n  this.db.get(key, options, function (err, value) {\n    if (err) {\n      if ((/notfound/i).test(err) || err.notFound) {\n        err = new NotFoundError('Key not found in database [' + key + ']', err)\n      } else {\n        err = new ReadError(err)\n      }\n      return callback(err)\n    }\n    callback(null, value)\n  })\n\n  return promise\n}\n\nLevelUP.prototype.put = function (key, value, options, callback) {\n  if (key === null || key === undefined) {\n    throw new WriteError('put() requires a key argument')\n  }\n\n  var self = this\n  var promise\n\n  callback = getCallback(options, callback)\n\n  if (!callback) {\n    callback = promisify()\n    promise = callback.promise\n  }\n\n  if (maybeError(this, callback)) { return promise }\n\n  options = getOptions(options)\n\n  this.db.put(key, value, options, function (err) {\n    if (err) {\n      return callback(new WriteError(err))\n    }\n    self.emit('put', key, value)\n    callback()\n  })\n\n  return promise\n}\n\nLevelUP.prototype.del = function (key, options, callback) {\n  if (key === null || key === undefined) {\n    throw new WriteError('del() requires a key argument')\n  }\n\n  var self = this\n  var promise\n\n  callback = getCallback(options, callback)\n\n  if (!callback) {\n    callback = promisify()\n    promise = callback.promise\n  }\n\n  if (maybeError(this, callback)) { return promise }\n\n  options = getOptions(options)\n\n  this.db.del(key, options, function (err) {\n    if (err) {\n      return callback(new WriteError(err))\n    }\n    self.emit('del', key)\n    callback()\n  })\n\n  return promise\n}\n\nLevelUP.prototype.batch = function (arr, options, callback) {\n  if (!arguments.length) {\n    return new Batch(this)\n  }\n\n  if (!Array.isArray(arr)) {\n    throw new WriteError('batch() requires an array argument')\n  }\n\n  var self = this\n  var promise\n\n  callback = getCallback(options, callback)\n\n  if (!callback) {\n    callback = promisify()\n    promise = callback.promise\n  }\n\n  if (maybeError(this, callback)) { return promise }\n\n  options = getOptions(options)\n\n  this.db.batch(arr, options, function (err) {\n    if (err) {\n      return callback(new WriteError(err))\n    }\n    self.emit('batch', arr)\n    callback()\n  })\n\n  return promise\n}\n\nLevelUP.prototype.iterator = function (options) {\n  return this.db.iterator(options)\n}\n\nLevelUP.prototype.readStream =\nLevelUP.prototype.createReadStream = function (options) {\n  options = extend({ keys: true, values: true }, options)\n  if (typeof options.limit !== 'number') { options.limit = -1 }\n  return new IteratorStream(this.db.iterator(options), options)\n}\n\nLevelUP.prototype.keyStream =\nLevelUP.prototype.createKeyStream = function (options) {\n  return this.createReadStream(extend(options, { keys: true, values: false }))\n}\n\nLevelUP.prototype.valueStream =\nLevelUP.prototype.createValueStream = function (options) {\n  return this.createReadStream(extend(options, { keys: false, values: true }))\n}\n\nLevelUP.prototype.toString = function () {\n  return 'LevelUP'\n}\n\nfunction maybeError (db, callback) {\n  if (!db._isOpening() && !db.isOpen()) {\n    process.nextTick(callback, new ReadError('Database is not open'))\n    return true\n  }\n}\n\nLevelUP.errors = errors\nmodule.exports = LevelUP.default = LevelUP\n","\nexports.compare = function (a, b) {\n\n  if(Buffer.isBuffer(a)) {\n    var l = Math.min(a.length, b.length)\n    for(var i = 0; i < l; i++) {\n      var cmp = a[i] - b[i]\n      if(cmp) return cmp\n    }\n    return a.length - b.length\n  }\n\n  return a < b ? -1 : a > b ? 1 : 0\n}\n\n// to be compatible with the current abstract-leveldown tests\n// nullish or empty strings.\n// I could use !!val but I want to permit numbers and booleans,\n// if possible.\n\nfunction isDef (val) {\n  return val !== undefined && val !== ''\n}\n\nfunction has (range, name) {\n  return Object.hasOwnProperty.call(range, name)\n}\n\nfunction hasKey(range, name) {\n  return Object.hasOwnProperty.call(range, name) && name\n}\n\nvar lowerBoundKey = exports.lowerBoundKey = function (range) {\n    return (\n       hasKey(range, 'gt')\n    || hasKey(range, 'gte')\n    || hasKey(range, 'min')\n    || (range.reverse ? hasKey(range, 'end') : hasKey(range, 'start'))\n    || undefined\n    )\n}\n\nvar lowerBound = exports.lowerBound = function (range, def) {\n  var k = lowerBoundKey(range)\n  return k ? range[k] : def\n}\n\nvar lowerBoundInclusive = exports.lowerBoundInclusive = function (range) {\n  return has(range, 'gt') ? false : true\n}\n\nvar upperBoundInclusive = exports.upperBoundInclusive =\n  function (range) {\n    return (has(range, 'lt') /*&& !range.maxEx*/) ? false : true\n  }\n\nvar lowerBoundExclusive = exports.lowerBoundExclusive =\n  function (range) {\n    return !lowerBoundInclusive(range)\n  }\n\nvar upperBoundExclusive = exports.upperBoundExclusive =\n  function (range) {\n    return !upperBoundInclusive(range)\n  }\n\nvar upperBoundKey = exports.upperBoundKey = function (range) {\n    return (\n       hasKey(range, 'lt')\n    || hasKey(range, 'lte')\n    || hasKey(range, 'max')\n    || (range.reverse ? hasKey(range, 'start') : hasKey(range, 'end'))\n    || undefined\n    )\n}\n\nvar upperBound = exports.upperBound = function (range, def) {\n  var k = upperBoundKey(range)\n  return k ? range[k] : def\n}\n\nexports.start = function (range, def) {\n  return range.reverse ? upperBound(range, def) : lowerBound(range, def)\n}\nexports.end = function (range, def) {\n  return range.reverse ? lowerBound(range, def) : upperBound(range, def)\n}\nexports.startInclusive = function (range) {\n  return (\n    range.reverse\n  ? upperBoundInclusive(range)\n  : lowerBoundInclusive(range)\n  )\n}\nexports.endInclusive = function (range) {\n  return (\n    range.reverse\n  ? lowerBoundInclusive(range)\n  : upperBoundInclusive(range)\n  )\n}\n\nfunction id (e) { return e }\n\nexports.toLtgt = function (range, _range, map, lower, upper) {\n  _range = _range || {}\n  map = map || id\n  var defaults = arguments.length > 3\n  var lb = exports.lowerBoundKey(range)\n  var ub = exports.upperBoundKey(range)\n  if(lb) {\n    if(lb === 'gt') _range.gt = map(range.gt, false)\n    else            _range.gte = map(range[lb], false)\n  }\n  else if(defaults)\n    _range.gte = map(lower, false)\n\n  if(ub) {\n    if(ub === 'lt') _range.lt = map(range.lt, true)\n    else            _range.lte = map(range[ub], true)\n  }\n  else if(defaults)\n    _range.lte = map(upper, true)\n\n  if(range.reverse != null)\n    _range.reverse = !!range.reverse\n\n  //if range was used mutably\n  //(in level-sublevel it's part of an options object\n  //that has more properties on it.)\n  if(has(_range, 'max'))   delete _range.max\n  if(has(_range, 'min'))   delete _range.min\n  if(has(_range, 'start')) delete _range.start\n  if(has(_range, 'end'))   delete _range.end\n\n  return _range\n}\n\nexports.contains = function (range, key, compare) {\n  compare = compare || exports.compare\n\n  var lb = lowerBound(range)\n  if(isDef(lb)) {\n    var cmp = compare(key, lb)\n    if(cmp < 0 || (cmp === 0 && lowerBoundExclusive(range)))\n      return false\n  }\n\n  var ub = upperBound(range)\n  if(isDef(ub)) {\n    var cmp = compare(key, ub)\n    if(cmp > 0 || (cmp === 0) && upperBoundExclusive(range))\n      return false\n  }\n\n  return true\n}\n\nexports.filter = function (range, compare) {\n  return function (key) {\n    return exports.contains(range, key, compare)\n  }\n}\n\n\n","exports.utf8 = exports['utf-8'] = {\n  encode: function (data) {\n    return isBinary(data) ? data : String(data)\n  },\n  decode: identity,\n  buffer: false,\n  type: 'utf8'\n}\n\nexports.json = {\n  encode: JSON.stringify,\n  decode: JSON.parse,\n  buffer: false,\n  type: 'json'\n}\n\nexports.binary = {\n  encode: function (data) {\n    return isBinary(data) ? data : Buffer.from(data)\n  },\n  decode: identity,\n  buffer: true,\n  type: 'binary'\n}\n\nexports.none = {\n  encode: identity,\n  decode: identity,\n  buffer: false,\n  type: 'id'\n}\n\nexports.id = exports.none\n\nvar bufferEncodings = [\n  'hex',\n  'ascii',\n  'base64',\n  'ucs2',\n  'ucs-2',\n  'utf16le',\n  'utf-16le'\n]\n\nbufferEncodings.forEach(function (type) {\n  exports[type] = {\n    encode: function (data) {\n      return isBinary(data) ? data : Buffer.from(data, type)\n    },\n    decode: function (buffer) {\n      return buffer.toString(type)\n    },\n    buffer: true,\n    type: type\n  }\n})\n\nfunction identity (value) {\n  return value\n}\n\nfunction isBinary (data) {\n  return data === undefined || data === null || Buffer.isBuffer(data)\n}\n","var encodings = require('./lib/encodings')\n\nmodule.exports = Codec\n\nfunction Codec (opts) {\n  if (!(this instanceof Codec)) {\n    return new Codec(opts)\n  }\n  this.opts = opts || {}\n  this.encodings = encodings\n}\n\nCodec.prototype._encoding = function (encoding) {\n  if (typeof encoding === 'string') encoding = encodings[encoding]\n  if (!encoding) encoding = encodings.id\n  return encoding\n}\n\nCodec.prototype._keyEncoding = function (opts, batchOpts) {\n  return this._encoding((batchOpts && batchOpts.keyEncoding) ||\n                        (opts && opts.keyEncoding) ||\n                        this.opts.keyEncoding)\n}\n\nCodec.prototype._valueEncoding = function (opts, batchOpts) {\n  return this._encoding((batchOpts && (batchOpts.valueEncoding || batchOpts.encoding)) ||\n                        (opts && (opts.valueEncoding || opts.encoding)) ||\n                        (this.opts.valueEncoding || this.opts.encoding))\n}\n\nCodec.prototype.encodeKey = function (key, opts, batchOpts) {\n  return this._keyEncoding(opts, batchOpts).encode(key)\n}\n\nCodec.prototype.encodeValue = function (value, opts, batchOpts) {\n  return this._valueEncoding(opts, batchOpts).encode(value)\n}\n\nCodec.prototype.decodeKey = function (key, opts) {\n  return this._keyEncoding(opts).decode(key)\n}\n\nCodec.prototype.decodeValue = function (value, opts) {\n  return this._valueEncoding(opts).decode(value)\n}\n\nCodec.prototype.encodeBatch = function (ops, opts) {\n  var self = this\n\n  return ops.map(function (_op) {\n    var op = {\n      type: _op.type,\n      key: self.encodeKey(_op.key, opts, _op)\n    }\n    if (self.keyAsBuffer(opts, _op)) op.keyEncoding = 'binary'\n    if (_op.prefix) op.prefix = _op.prefix\n    if ('value' in _op) {\n      op.value = self.encodeValue(_op.value, opts, _op)\n      if (self.valueAsBuffer(opts, _op)) op.valueEncoding = 'binary'\n    }\n    return op\n  })\n}\n\nvar ltgtKeys = ['lt', 'gt', 'lte', 'gte', 'start', 'end']\n\nCodec.prototype.encodeLtgt = function (ltgt) {\n  var self = this\n  var ret = {}\n  Object.keys(ltgt).forEach(function (key) {\n    ret[key] = ltgtKeys.indexOf(key) > -1\n      ? self.encodeKey(ltgt[key], ltgt)\n      : ltgt[key]\n  })\n  return ret\n}\n\nCodec.prototype.createStreamDecoder = function (opts) {\n  var self = this\n\n  if (opts.keys && opts.values) {\n    return function (key, value) {\n      return {\n        key: self.decodeKey(key, opts),\n        value: self.decodeValue(value, opts)\n      }\n    }\n  } else if (opts.keys) {\n    return function (key) {\n      return self.decodeKey(key, opts)\n    }\n  } else if (opts.values) {\n    return function (_, value) {\n      return self.decodeValue(value, opts)\n    }\n  } else {\n    return function () {}\n  }\n}\n\nCodec.prototype.keyAsBuffer = function (opts) {\n  return this._keyEncoding(opts).buffer\n}\n\nCodec.prototype.valueAsBuffer = function (opts) {\n  return this._valueEncoding(opts).buffer\n}\n","'use strict';\n\nif (typeof process === 'undefined' ||\n    !process.version ||\n    process.version.indexOf('v0.') === 0 ||\n    process.version.indexOf('v1.') === 0 && process.version.indexOf('v1.8.') !== 0) {\n  module.exports = { nextTick: nextTick };\n} else {\n  module.exports = process\n}\n\nfunction nextTick(fn, arg1, arg2, arg3) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('\"callback\" argument must be a function');\n  }\n  var len = arguments.length;\n  var args, i;\n  switch (len) {\n  case 0:\n  case 1:\n    return process.nextTick(fn);\n  case 2:\n    return process.nextTick(function afterTickOne() {\n      fn.call(null, arg1);\n    });\n  case 3:\n    return process.nextTick(function afterTickTwo() {\n      fn.call(null, arg1, arg2);\n    });\n  case 4:\n    return process.nextTick(function afterTickThree() {\n      fn.call(null, arg1, arg2, arg3);\n    });\n  default:\n    args = new Array(len - 1);\n    i = 0;\n    while (i < args.length) {\n      args[i++] = arguments[i];\n    }\n    return process.nextTick(function afterTick() {\n      fn.apply(null, args);\n    });\n  }\n}\n\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","module.exports = require('events').EventEmitter;\n","/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\n\nfunction isArray(arg) {\n  if (Array.isArray) {\n    return Array.isArray(arg);\n  }\n  return objectToString(arg) === '[object Array]';\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = Buffer.isBuffer;\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n","'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Buffer = require('safe-buffer').Buffer;\nvar util = require('util');\n\nfunction copyBuffer(src, target, offset) {\n  src.copy(target, offset);\n}\n\nmodule.exports = function () {\n  function BufferList() {\n    _classCallCheck(this, BufferList);\n\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  BufferList.prototype.push = function push(v) {\n    var entry = { data: v, next: null };\n    if (this.length > 0) this.tail.next = entry;else this.head = entry;\n    this.tail = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.unshift = function unshift(v) {\n    var entry = { data: v, next: this.head };\n    if (this.length === 0) this.tail = entry;\n    this.head = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.shift = function shift() {\n    if (this.length === 0) return;\n    var ret = this.head.data;\n    if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n    --this.length;\n    return ret;\n  };\n\n  BufferList.prototype.clear = function clear() {\n    this.head = this.tail = null;\n    this.length = 0;\n  };\n\n  BufferList.prototype.join = function join(s) {\n    if (this.length === 0) return '';\n    var p = this.head;\n    var ret = '' + p.data;\n    while (p = p.next) {\n      ret += s + p.data;\n    }return ret;\n  };\n\n  BufferList.prototype.concat = function concat(n) {\n    if (this.length === 0) return Buffer.alloc(0);\n    if (this.length === 1) return this.head.data;\n    var ret = Buffer.allocUnsafe(n >>> 0);\n    var p = this.head;\n    var i = 0;\n    while (p) {\n      copyBuffer(p.data, ret, i);\n      i += p.data.length;\n      p = p.next;\n    }\n    return ret;\n  };\n\n  return BufferList;\n}();\n\nif (util && util.inspect && util.inspect.custom) {\n  module.exports.prototype[util.inspect.custom] = function () {\n    var obj = util.inspect({ length: this.length });\n    return this.constructor.name + ' ' + obj;\n  };\n}","'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\n// undocumented cb() API, needed for core, not for public API\nfunction destroy(err, cb) {\n  var _this = this;\n\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err && (!this._writableState || !this._writableState.errorEmitted)) {\n      pna.nextTick(emitErrorNT, this, err);\n    }\n    return this;\n  }\n\n  // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  }\n\n  // if this is a duplex stream mark the writable part as destroyed as well\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      pna.nextTick(emitErrorNT, _this, err);\n      if (_this._writableState) {\n        _this._writableState.errorEmitted = true;\n      }\n    } else if (cb) {\n      cb(err);\n    }\n  });\n\n  return this;\n}\n\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Writable;\n\n/* <replacement> */\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n}\n\n// It seems a linked list but it is not\n// there will be only 2 of these for each stream\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\nvar asyncWrite = !process.browser && ['v0.10', 'v0.9.'].indexOf(process.version.slice(0, 5)) > -1 ? setImmediate : pna.nextTick;\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = global.Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nutil.inherits(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var writableHwm = options.writableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (writableHwm || writableHwm === 0)) this.highWaterMark = writableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // if _final has been called\n  this.finalCalled = false;\n\n  // drain event flag.\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null;\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n\n  // count buffered requests\n  this.bufferedRequestCount = 0;\n\n  // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function () {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})();\n\n// Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\nvar realHasInstance;\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function (object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function (object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  if (!realHasInstance.call(Writable, this) && !(this instanceof Duplex)) {\n    return new Writable(options);\n  }\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n\n    if (typeof options.writev === 'function') this._writev = options.writev;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  this.emit('error', new Error('Cannot pipe, not readable'));\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  pna.nextTick(cb, er);\n}\n\n// Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  var er = false;\n\n  if (chunk === null) {\n    er = new TypeError('May not write null values to stream');\n  } else if (typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  if (er) {\n    stream.emit('error', er);\n    pna.nextTick(cb, er);\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n\n  if (typeof cb !== 'function') cb = nop;\n\n  if (state.ended) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing && !state.corked && !state.finished && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new TypeError('Unknown encoding: ' + encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n  return chunk;\n}\n\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    pna.nextTick(cb, er);\n    // this can emit finish, and it will always happen\n    // after error\n    pna.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n    // this can emit finish, but finish must\n    // always follow error\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state);\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      /*<replacement>*/\n      asyncWrite(afterWrite, stream, state, finished, cb);\n      /*</replacement>*/\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n\n    var count = 0;\n    var allBuffers = true;\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n    buffer.allBuffers = allBuffers;\n\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish);\n\n    // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--;\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new Error('_write() is not implemented'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished) endWritable(this, state, cb);\n};\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n    if (err) {\n      stream.emit('error', err);\n    }\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function') {\n      state.pendingcb++;\n      state.finalCalled = true;\n      pna.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n  if (need) {\n    prefinish(stream, state);\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n    }\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished) pna.nextTick(cb);else stream.once('finish', cb);\n  }\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  }\n  if (state.corkedRequestsFree) {\n    state.corkedRequestsFree.next = corkReq;\n  } else {\n    state.corkedRequestsFree = corkReq;\n  }\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  get: function () {\n    if (this._writableState === undefined) {\n      return false;\n    }\n    return this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._writableState.destroyed = value;\n  }\n});\n\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\nWritable.prototype._destroy = function (err, cb) {\n  this.end();\n  cb(err);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    keys.push(key);\n  }return keys;\n};\n/*</replacement>*/\n\nmodule.exports = Duplex;\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\n\nutil.inherits(Duplex, Readable);\n\n{\n  // avoid scope creep, the keys array can then be collected\n  var keys = objectKeys(Writable.prototype);\n  for (var v = 0; v < keys.length; v++) {\n    var method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false) this.readable = false;\n\n  if (options && options.writable === false) this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false) this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended) return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  pna.nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});\n\nDuplex.prototype._destroy = function (err, cb) {\n  this.push(null);\n  this.end();\n\n  pna.nextTick(cb, err);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n      default:\n        if (retried) return; // undefined\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n};\n\n// Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\nexports.StringDecoder = StringDecoder;\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End;\n\n// Returns only complete characters in a Buffer\nStringDecoder.prototype.text = utf8Text;\n\n// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n};\n\n// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n}\n\n// Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n    return nb;\n  }\n  return 0;\n}\n\n// Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return '\\ufffd';\n  }\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return '\\ufffd';\n    }\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return '\\ufffd';\n      }\n    }\n  }\n}\n\n// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n}\n\n// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n}\n\n// For UTF-8, a replacement character is added when ending on a partial\n// character.\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + '\\ufffd';\n  return r;\n}\n\n// UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n    return r;\n  }\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n}\n\n// For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n}\n\n// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar isArray = require('isarray');\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\n/*<replacement>*/\nvar EE = require('events').EventEmitter;\n\nvar EElistenerCount = function (emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = global.Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar debugUtil = require('util');\nvar debug = void 0;\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function () {};\n}\n/*</replacement>*/\n\nvar BufferList = require('./internal/streams/BufferList');\nvar destroyImpl = require('./internal/streams/destroy');\nvar StringDecoder;\n\nutil.inherits(Readable, Stream);\n\nvar kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn);\n\n  // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\n\nfunction ReadableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  var readableHwm = options.readableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (readableHwm || readableHwm === 0)) this.highWaterMark = readableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  if (!(this instanceof Readable)) return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n\n  Stream.call(this);\n}\n\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n  }\n});\n\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\nReadable.prototype._destroy = function (err, cb) {\n  this.push(null);\n  cb(err);\n};\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\n\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  var state = stream._readableState;\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n    if (er) {\n      stream.emit('error', er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n\n      if (addToFront) {\n        if (state.endEmitted) stream.emit('error', new Error('stream.unshift() after end event'));else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        stream.emit('error', new Error('stream.push() after EOF'));\n      } else {\n        state.reading = false;\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n    }\n  }\n\n  return needMoreData(state);\n}\n\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    stream.emit('data', chunk);\n    stream.read(0);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n\n    if (state.needReadable) emitReadable(stream);\n  }\n  maybeReadMore(stream, state);\n}\n\nfunction chunkInvalid(state, chunk) {\n  var er;\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended && (state.needReadable || state.length < state.highWaterMark || state.length === 0);\n}\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n};\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n  return this;\n};\n\n// Don't raise the hwm > 8MB\nvar MAX_HWM = 0x800000;\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n  return n;\n}\n\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  }\n  // If we're asking for more than the current hwm, then raise the hwm.\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n;\n  // Don't have enough\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n  return state.length;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n\n  if (n !== 0) state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 && state.needReadable && (state.length >= state.highWaterMark || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0) state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n    // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = true;\n    n = 0;\n  } else {\n    state.length -= n;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true;\n\n    // If we tried to read() past the EOF, then emit end on the next tick.\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n\n  return ret;\n};\n\nfunction onEofChunk(stream, state) {\n  if (state.ended) return;\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // emit 'readable' now to make sure it gets picked up.\n  emitReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    if (state.sync) pna.nextTick(emitReadable_, stream);else emitReadable_(stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  debug('emit readable');\n  stream.emit('readable');\n  flow(stream);\n}\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    pna.nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended && state.length < state.highWaterMark) {\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;else len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function (n) {\n  this.emit('error', new Error('_read() is not implemented'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) pna.nextTick(endFn);else src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  var cleanedUp = false;\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n\n    cleanedUp = true;\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  // If the user pushes more data while we're writing to dest then we'll end up\n  // in ondata again. However, we only want to increase awaitDrain once because\n  // dest will only emit one 'drain' event for the multiple writes.\n  // => Introduce a guard on increasing awaitDrain.\n  var increasedAwaitDrain = false;\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    increasedAwaitDrain = false;\n    var ret = dest.write(chunk);\n    if (false === ret && !increasedAwaitDrain) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', src._readableState.awaitDrain);\n        src._readableState.awaitDrain++;\n        increasedAwaitDrain = true;\n      }\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) dest.emit('error', er);\n  }\n\n  // Make sure our error handler is attached before userland ones.\n  prependListener(dest, 'error', onerror);\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function () {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = { hasUnpiped: false };\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0) return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n\n    if (!dest) dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++) {\n      dests[i].emit('unpipe', this, unpipeInfo);\n    }return this;\n  }\n\n  // try to find the right one.\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this, unpipeInfo);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n\n  if (ev === 'data') {\n    // Start flowing on next tick if stream isn't explicitly paused\n    if (this._readableState.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    var state = this._readableState;\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.emittedReadable = false;\n      if (!state.reading) {\n        pna.nextTick(nReadingNextTick, this);\n      } else if (state.length) {\n        emitReadable(this);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n}\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    state.flowing = true;\n    resume(this, state);\n  }\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    pna.nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  if (!state.reading) {\n    debug('resume read 0');\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  state.awaitDrain = 0;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (false !== this._readableState.flowing) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  while (state.flowing && stream.read() !== null) {}\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function (stream) {\n  var _this = this;\n\n  var state = this._readableState;\n  var paused = false;\n\n  stream.on('end', function () {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) _this.push(chunk);\n    }\n\n    _this.push(null);\n  });\n\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk);\n\n    // don't skip over falsy values in objectMode\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = _this.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function (method) {\n        return function () {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  }\n\n  // proxy certain important events.\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  }\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  this._read = function (n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return this;\n};\n\nObject.defineProperty(Readable.prototype, 'readableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._readableState.highWaterMark;\n  }\n});\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.head.data;else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = fromListPartial(n, state.buffer, state.decoder);\n  }\n\n  return ret;\n}\n\n// Extracts only enough buffered data to satisfy the amount requested.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromListPartial(n, list, hasStrings) {\n  var ret;\n  if (n < list.head.data.length) {\n    // slice is the same for buffers and strings\n    ret = list.head.data.slice(0, n);\n    list.head.data = list.head.data.slice(n);\n  } else if (n === list.head.data.length) {\n    // first chunk is a perfect match\n    ret = list.shift();\n  } else {\n    // result spans more than one buffer\n    ret = hasStrings ? copyFromBufferString(n, list) : copyFromBuffer(n, list);\n  }\n  return ret;\n}\n\n// Copies a specified amount of characters from the list of buffered data\n// chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBufferString(n, list) {\n  var p = list.head;\n  var c = 1;\n  var ret = p.data;\n  n -= ret.length;\n  while (p = p.next) {\n    var str = p.data;\n    var nb = n > str.length ? str.length : n;\n    if (nb === str.length) ret += str;else ret += str.slice(0, n);\n    n -= nb;\n    if (n === 0) {\n      if (nb === str.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = str.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\n// Copies a specified amount of bytes from the list of buffered data chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBuffer(n, list) {\n  var ret = Buffer.allocUnsafe(n);\n  var p = list.head;\n  var c = 1;\n  p.data.copy(ret);\n  n -= p.data.length;\n  while (p = p.next) {\n    var buf = p.data;\n    var nb = n > buf.length ? buf.length : n;\n    buf.copy(ret, ret.length - n, 0, nb);\n    n -= nb;\n    if (n === 0) {\n      if (nb === buf.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = buf.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0) throw new Error('\"endReadable()\" called on non-empty stream');\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    pna.nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  // Check that we didn't get one last unshift.\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n  }\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\n'use strict';\n\nmodule.exports = Transform;\n\nvar Duplex = require('./_stream_duplex');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(Transform, Duplex);\n\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb) {\n    return this.emit('error', new Error('write callback called multiple times'));\n  }\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (data != null) // single equals check for both `null` and `undefined`\n    this.push(data);\n\n  cb(er);\n\n  var rs = this._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n\n  Duplex.call(this, options);\n\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  };\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  }\n\n  // When the writable side finishes, then flush out anything remaining.\n  this.on('prefinish', prefinish);\n}\n\nfunction prefinish() {\n  var _this = this;\n\n  if (typeof this._flush === 'function') {\n    this._flush(function (er, data) {\n      done(_this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  throw new Error('_transform() is not implemented');\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nTransform.prototype._destroy = function (err, cb) {\n  var _this2 = this;\n\n  Duplex.prototype._destroy.call(this, err, function (err2) {\n    cb(err2);\n    _this2.emit('close');\n  });\n};\n\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n\n  if (data != null) // single equals check for both `null` and `undefined`\n    stream.push(data);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  if (stream._writableState.length) throw new Error('Calling transform done when ws.length != 0');\n\n  if (stream._transformState.transforming) throw new Error('Calling transform done when still transforming');\n\n  return stream.push(null);\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\n'use strict';\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = exports;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\n","module.exports = require('./lib/_stream_writable.js');\n","module.exports = require('./lib/_stream_duplex.js');\n","module.exports = require('./readable').Transform\n","module.exports = require('./readable').PassThrough\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nmodule.exports = Stream;\n\nvar EE = require('events').EventEmitter;\nvar inherits = require('inherits');\n\ninherits(Stream, EE);\nStream.Readable = require('readable-stream/readable.js');\nStream.Writable = require('readable-stream/writable.js');\nStream.Duplex = require('readable-stream/duplex.js');\nStream.Transform = require('readable-stream/transform.js');\nStream.PassThrough = require('readable-stream/passthrough.js');\n\n// Backwards-compat with node 0.4.x\nStream.Stream = Stream;\n\n\n\n// old-style streams.  Note that the pipe method (the only relevant\n// part of this class) is overridden in the Readable class.\n\nfunction Stream() {\n  EE.call(this);\n}\n\nStream.prototype.pipe = function(dest, options) {\n  var source = this;\n\n  function ondata(chunk) {\n    if (dest.writable) {\n      if (false === dest.write(chunk) && source.pause) {\n        source.pause();\n      }\n    }\n  }\n\n  source.on('data', ondata);\n\n  function ondrain() {\n    if (source.readable && source.resume) {\n      source.resume();\n    }\n  }\n\n  dest.on('drain', ondrain);\n\n  // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n  if (!dest._isStdio && (!options || options.end !== false)) {\n    source.on('end', onend);\n    source.on('close', onclose);\n  }\n\n  var didOnEnd = false;\n  function onend() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    dest.end();\n  }\n\n\n  function onclose() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    if (typeof dest.destroy === 'function') dest.destroy();\n  }\n\n  // don't leave dangling pipes when there are errors.\n  function onerror(er) {\n    cleanup();\n    if (EE.listenerCount(this, 'error') === 0) {\n      throw er; // Unhandled stream error in pipe.\n    }\n  }\n\n  source.on('error', onerror);\n  dest.on('error', onerror);\n\n  // remove all the event listeners that were added.\n  function cleanup() {\n    source.removeListener('data', ondata);\n    dest.removeListener('drain', ondrain);\n\n    source.removeListener('end', onend);\n    source.removeListener('close', onclose);\n\n    source.removeListener('error', onerror);\n    dest.removeListener('error', onerror);\n\n    source.removeListener('end', cleanup);\n    source.removeListener('close', cleanup);\n\n    dest.removeListener('close', cleanup);\n  }\n\n  source.on('end', cleanup);\n  source.on('close', cleanup);\n\n  dest.on('close', cleanup);\n\n  dest.emit('pipe', source);\n\n  // Allow for unix-like usage: A.pipe(B).pipe(C)\n  return dest;\n};\n","module.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar Buffer = require('buffer').Buffer;\n\nvar isBufferEncoding = Buffer.isEncoding\n  || function(encoding) {\n       switch (encoding && encoding.toLowerCase()) {\n         case 'hex': case 'utf8': case 'utf-8': case 'ascii': case 'binary': case 'base64': case 'ucs2': case 'ucs-2': case 'utf16le': case 'utf-16le': case 'raw': return true;\n         default: return false;\n       }\n     }\n\n\nfunction assertEncoding(encoding) {\n  if (encoding && !isBufferEncoding(encoding)) {\n    throw new Error('Unknown encoding: ' + encoding);\n  }\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters. CESU-8 is handled as part of the UTF-8 encoding.\n//\n// @TODO Handling all encodings inside a single object makes it very difficult\n// to reason about this code, so it should be split up in the future.\n// @TODO There should be a utf8-strict encoding that rejects invalid UTF-8 code\n// points as used by CESU-8.\nvar StringDecoder = exports.StringDecoder = function(encoding) {\n  this.encoding = (encoding || 'utf8').toLowerCase().replace(/[-_]/, '');\n  assertEncoding(encoding);\n  switch (this.encoding) {\n    case 'utf8':\n      // CESU-8 represents each of Surrogate Pair by 3-bytes\n      this.surrogateSize = 3;\n      break;\n    case 'ucs2':\n    case 'utf16le':\n      // UTF-16 represents each of Surrogate Pair by 2-bytes\n      this.surrogateSize = 2;\n      this.detectIncompleteChar = utf16DetectIncompleteChar;\n      break;\n    case 'base64':\n      // Base-64 stores 3 bytes in 4 chars, and pads the remainder.\n      this.surrogateSize = 3;\n      this.detectIncompleteChar = base64DetectIncompleteChar;\n      break;\n    default:\n      this.write = passThroughWrite;\n      return;\n  }\n\n  // Enough space to store all bytes of a single character. UTF-8 needs 4\n  // bytes, but CESU-8 may require up to 6 (3 bytes per surrogate).\n  this.charBuffer = new Buffer(6);\n  // Number of bytes received for the current incomplete multi-byte character.\n  this.charReceived = 0;\n  // Number of bytes expected for the current incomplete multi-byte character.\n  this.charLength = 0;\n};\n\n\n// write decodes the given buffer and returns it as JS string that is\n// guaranteed to not contain any partial multi-byte characters. Any partial\n// character found at the end of the buffer is buffered up, and will be\n// returned when calling write again with the remaining bytes.\n//\n// Note: Converting a Buffer containing an orphan surrogate to a String\n// currently works, but converting a String to a Buffer (via `new Buffer`, or\n// Buffer#write) will replace incomplete surrogates with the unicode\n// replacement character. See https://codereview.chromium.org/121173009/ .\nStringDecoder.prototype.write = function(buffer) {\n  var charStr = '';\n  // if our last write ended with an incomplete multibyte character\n  while (this.charLength) {\n    // determine how many remaining bytes this buffer has to offer for this char\n    var available = (buffer.length >= this.charLength - this.charReceived) ?\n        this.charLength - this.charReceived :\n        buffer.length;\n\n    // add the new bytes to the char buffer\n    buffer.copy(this.charBuffer, this.charReceived, 0, available);\n    this.charReceived += available;\n\n    if (this.charReceived < this.charLength) {\n      // still not enough chars in this buffer? wait for more ...\n      return '';\n    }\n\n    // remove bytes belonging to the current character from the buffer\n    buffer = buffer.slice(available, buffer.length);\n\n    // get the character that was split\n    charStr = this.charBuffer.slice(0, this.charLength).toString(this.encoding);\n\n    // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n    var charCode = charStr.charCodeAt(charStr.length - 1);\n    if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n      this.charLength += this.surrogateSize;\n      charStr = '';\n      continue;\n    }\n    this.charReceived = this.charLength = 0;\n\n    // if there are no more bytes in this buffer, just emit our char\n    if (buffer.length === 0) {\n      return charStr;\n    }\n    break;\n  }\n\n  // determine and set charLength / charReceived\n  this.detectIncompleteChar(buffer);\n\n  var end = buffer.length;\n  if (this.charLength) {\n    // buffer the incomplete character bytes we got\n    buffer.copy(this.charBuffer, 0, buffer.length - this.charReceived, end);\n    end -= this.charReceived;\n  }\n\n  charStr += buffer.toString(this.encoding, 0, end);\n\n  var end = charStr.length - 1;\n  var charCode = charStr.charCodeAt(end);\n  // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n  if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n    var size = this.surrogateSize;\n    this.charLength += size;\n    this.charReceived += size;\n    this.charBuffer.copy(this.charBuffer, size, 0, size);\n    buffer.copy(this.charBuffer, 0, 0, size);\n    return charStr.substring(0, end);\n  }\n\n  // or just emit the charStr\n  return charStr;\n};\n\n// detectIncompleteChar determines if there is an incomplete UTF-8 character at\n// the end of the given buffer. If so, it sets this.charLength to the byte\n// length that character, and sets this.charReceived to the number of bytes\n// that are available for this character.\nStringDecoder.prototype.detectIncompleteChar = function(buffer) {\n  // determine how many bytes we have to check at the end of this buffer\n  var i = (buffer.length >= 3) ? 3 : buffer.length;\n\n  // Figure out if one of the last i bytes of our buffer announces an\n  // incomplete char.\n  for (; i > 0; i--) {\n    var c = buffer[buffer.length - i];\n\n    // See http://en.wikipedia.org/wiki/UTF-8#Description\n\n    // 110XXXXX\n    if (i == 1 && c >> 5 == 0x06) {\n      this.charLength = 2;\n      break;\n    }\n\n    // 1110XXXX\n    if (i <= 2 && c >> 4 == 0x0E) {\n      this.charLength = 3;\n      break;\n    }\n\n    // 11110XXX\n    if (i <= 3 && c >> 3 == 0x1E) {\n      this.charLength = 4;\n      break;\n    }\n  }\n  this.charReceived = i;\n};\n\nStringDecoder.prototype.end = function(buffer) {\n  var res = '';\n  if (buffer && buffer.length)\n    res = this.write(buffer);\n\n  if (this.charReceived) {\n    var cr = this.charReceived;\n    var buf = this.charBuffer;\n    var enc = this.encoding;\n    res += buf.slice(0, cr).toString(enc);\n  }\n\n  return res;\n};\n\nfunction passThroughWrite(buffer) {\n  return buffer.toString(this.encoding);\n}\n\nfunction utf16DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 2;\n  this.charLength = this.charReceived ? 2 : 0;\n}\n\nfunction base64DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 3;\n  this.charLength = this.charReceived ? 3 : 0;\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar isArray = require('isarray');\n/*</replacement>*/\n\n\n/*<replacement>*/\nvar Buffer = require('buffer').Buffer;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\nvar EE = require('events').EventEmitter;\n\n/*<replacement>*/\nif (!EE.listenerCount) EE.listenerCount = function(emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\nvar Stream = require('stream');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar StringDecoder;\n\nutil.inherits(Readable, Stream);\n\nfunction ReadableState(options, stream) {\n  options = options || {};\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  this.highWaterMark = (hwm || hwm === 0) ? hwm : 16 * 1024;\n\n  // cast to ints.\n  this.highWaterMark = ~~this.highWaterMark;\n\n  this.buffer = [];\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = false;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // In streams that never have any data, and do push(null) right away,\n  // the consumer can miss the 'end' event if they do some I/O before\n  // consuming the stream.  So, we don't emit('end') until some reading\n  // happens.\n  this.calledRead = false;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, becuase any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // when piping, we only care about 'readable' events that happen\n  // after read()ing all the bytes and not getting any pushback.\n  this.ranOut = false;\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder)\n      StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  if (!(this instanceof Readable))\n    return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  Stream.call(this);\n}\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function(chunk, encoding) {\n  var state = this._readableState;\n\n  if (typeof chunk === 'string' && !state.objectMode) {\n    encoding = encoding || state.defaultEncoding;\n    if (encoding !== state.encoding) {\n      chunk = new Buffer(chunk, encoding);\n      encoding = '';\n    }\n  }\n\n  return readableAddChunk(this, state, chunk, encoding, false);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function(chunk) {\n  var state = this._readableState;\n  return readableAddChunk(this, state, chunk, '', true);\n};\n\nfunction readableAddChunk(stream, state, chunk, encoding, addToFront) {\n  var er = chunkInvalid(state, chunk);\n  if (er) {\n    stream.emit('error', er);\n  } else if (chunk === null || chunk === undefined) {\n    state.reading = false;\n    if (!state.ended)\n      onEofChunk(stream, state);\n  } else if (state.objectMode || chunk && chunk.length > 0) {\n    if (state.ended && !addToFront) {\n      var e = new Error('stream.push() after EOF');\n      stream.emit('error', e);\n    } else if (state.endEmitted && addToFront) {\n      var e = new Error('stream.unshift() after end event');\n      stream.emit('error', e);\n    } else {\n      if (state.decoder && !addToFront && !encoding)\n        chunk = state.decoder.write(chunk);\n\n      // update the buffer info.\n      state.length += state.objectMode ? 1 : chunk.length;\n      if (addToFront) {\n        state.buffer.unshift(chunk);\n      } else {\n        state.reading = false;\n        state.buffer.push(chunk);\n      }\n\n      if (state.needReadable)\n        emitReadable(stream);\n\n      maybeReadMore(stream, state);\n    }\n  } else if (!addToFront) {\n    state.reading = false;\n  }\n\n  return needMoreData(state);\n}\n\n\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended &&\n         (state.needReadable ||\n          state.length < state.highWaterMark ||\n          state.length === 0);\n}\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function(enc) {\n  if (!StringDecoder)\n    StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n};\n\n// Don't raise the hwm > 128MB\nvar MAX_HWM = 0x800000;\nfunction roundUpToNextPowerOf2(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2\n    n--;\n    for (var p = 1; p < 32; p <<= 1) n |= n >> p;\n    n++;\n  }\n  return n;\n}\n\nfunction howMuchToRead(n, state) {\n  if (state.length === 0 && state.ended)\n    return 0;\n\n  if (state.objectMode)\n    return n === 0 ? 0 : 1;\n\n  if (n === null || isNaN(n)) {\n    // only flow one buffer at a time\n    if (state.flowing && state.buffer.length)\n      return state.buffer[0].length;\n    else\n      return state.length;\n  }\n\n  if (n <= 0)\n    return 0;\n\n  // If we're asking for more than the target buffer level,\n  // then raise the water mark.  Bump up to the next highest\n  // power of 2, to prevent increasing it excessively in tiny\n  // amounts.\n  if (n > state.highWaterMark)\n    state.highWaterMark = roundUpToNextPowerOf2(n);\n\n  // don't have that much.  return null, unless we've ended.\n  if (n > state.length) {\n    if (!state.ended) {\n      state.needReadable = true;\n      return 0;\n    } else\n      return state.length;\n  }\n\n  return n;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function(n) {\n  var state = this._readableState;\n  state.calledRead = true;\n  var nOrig = n;\n  var ret;\n\n  if (typeof n !== 'number' || n > 0)\n    state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 &&\n      state.needReadable &&\n      (state.length >= state.highWaterMark || state.ended)) {\n    emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    ret = null;\n\n    // In cases where the decoder did not receive enough data\n    // to produce a full chunk, then immediately received an\n    // EOF, state.buffer will contain [<Buffer >, <Buffer 00 ...>].\n    // howMuchToRead will see this and coerce the amount to\n    // read to zero (because it's looking at the length of the\n    // first <Buffer > in state.buffer), and we'll end up here.\n    //\n    // This can only happen via state.decoder -- no other venue\n    // exists for pushing a zero-length chunk into state.buffer\n    // and triggering this behavior. In this case, we return our\n    // remaining data and end the stream, if appropriate.\n    if (state.length > 0 && state.decoder) {\n      ret = fromList(n, state);\n      state.length -= ret.length;\n    }\n\n    if (state.length === 0)\n      endReadable(this);\n\n    return ret;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length - n <= state.highWaterMark)\n    doRead = true;\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading)\n    doRead = false;\n\n  if (doRead) {\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0)\n      state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n  }\n\n  // If _read called its callback synchronously, then `reading`\n  // will be false, and we need to re-evaluate how much data we\n  // can return to the user.\n  if (doRead && !state.reading)\n    n = howMuchToRead(nOrig, state);\n\n  if (n > 0)\n    ret = fromList(n, state);\n  else\n    ret = null;\n\n  if (ret === null) {\n    state.needReadable = true;\n    n = 0;\n  }\n\n  state.length -= n;\n\n  // If we have nothing in the buffer, then we want to know\n  // as soon as we *do* get something into the buffer.\n  if (state.length === 0 && !state.ended)\n    state.needReadable = true;\n\n  // If we happened to read() exactly the remaining amount in the\n  // buffer, and the EOF has been seen at this point, then make sure\n  // that we emit 'end' on the very next tick.\n  if (state.ended && !state.endEmitted && state.length === 0)\n    endReadable(this);\n\n  return ret;\n};\n\nfunction chunkInvalid(state, chunk) {\n  var er = null;\n  if (!Buffer.isBuffer(chunk) &&\n      'string' !== typeof chunk &&\n      chunk !== null &&\n      chunk !== undefined &&\n      !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\n\nfunction onEofChunk(stream, state) {\n  if (state.decoder && !state.ended) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // if we've ended and we have some data left, then emit\n  // 'readable' now to make sure it gets picked up.\n  if (state.length > 0)\n    emitReadable(stream);\n  else\n    endReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (state.emittedReadable)\n    return;\n\n  state.emittedReadable = true;\n  if (state.sync)\n    process.nextTick(function() {\n      emitReadable_(stream);\n    });\n  else\n    emitReadable_(stream);\n}\n\nfunction emitReadable_(stream) {\n  stream.emit('readable');\n}\n\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    process.nextTick(function() {\n      maybeReadMore_(stream, state);\n    });\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended &&\n         state.length < state.highWaterMark) {\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;\n    else\n      len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function(n) {\n  this.emit('error', new Error('not implemented'));\n};\n\nReadable.prototype.pipe = function(dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) &&\n              dest !== process.stdout &&\n              dest !== process.stderr;\n\n  var endFn = doEnd ? onend : cleanup;\n  if (state.endEmitted)\n    process.nextTick(endFn);\n  else\n    src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable) {\n    if (readable !== src) return;\n    cleanup();\n  }\n\n  function onend() {\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  function cleanup() {\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', cleanup);\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (!dest._writableState || dest._writableState.needDrain)\n      ondrain();\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EE.listenerCount(dest, 'error') === 0)\n      dest.emit('error', er);\n  }\n  // This is a brutally ugly hack to make sure that our error handler\n  // is attached before any userland ones.  NEVER DO THIS.\n  if (!dest._events || !dest._events.error)\n    dest.on('error', onerror);\n  else if (isArray(dest._events.error))\n    dest._events.error.unshift(onerror);\n  else\n    dest._events.error = [onerror, dest._events.error];\n\n\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    // the handler that waits for readable events after all\n    // the data gets sucked out in flow.\n    // This would be easier to follow with a .once() handler\n    // in flow(), but that is too slow.\n    this.on('readable', pipeOnReadable);\n\n    state.flowing = true;\n    process.nextTick(function() {\n      flow(src);\n    });\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function() {\n    var dest = this;\n    var state = src._readableState;\n    state.awaitDrain--;\n    if (state.awaitDrain === 0)\n      flow(src);\n  };\n}\n\nfunction flow(src) {\n  var state = src._readableState;\n  var chunk;\n  state.awaitDrain = 0;\n\n  function write(dest, i, list) {\n    var written = dest.write(chunk);\n    if (false === written) {\n      state.awaitDrain++;\n    }\n  }\n\n  while (state.pipesCount && null !== (chunk = src.read())) {\n\n    if (state.pipesCount === 1)\n      write(state.pipes, 0, null);\n    else\n      forEach(state.pipes, write);\n\n    src.emit('data', chunk);\n\n    // if anyone needs a drain, then we have to wait for that.\n    if (state.awaitDrain > 0)\n      return;\n  }\n\n  // if every destination was unpiped, either before entering this\n  // function, or in the while loop, then stop flowing.\n  //\n  // NB: This is a pretty rare edge case.\n  if (state.pipesCount === 0) {\n    state.flowing = false;\n\n    // if there were data event listeners added, then switch to old mode.\n    if (EE.listenerCount(src, 'data') > 0)\n      emitDataEvents(src);\n    return;\n  }\n\n  // at this point, no one needed a drain, so we just ran out of data\n  // on the next readable event, start it over again.\n  state.ranOut = true;\n}\n\nfunction pipeOnReadable() {\n  if (this._readableState.ranOut) {\n    this._readableState.ranOut = false;\n    flow(this);\n  }\n}\n\n\nReadable.prototype.unpipe = function(dest) {\n  var state = this._readableState;\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0)\n    return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes)\n      return this;\n\n    if (!dest)\n      dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    this.removeListener('readable', pipeOnReadable);\n    state.flowing = false;\n    if (dest)\n      dest.emit('unpipe', this);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    this.removeListener('readable', pipeOnReadable);\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++)\n      dests[i].emit('unpipe', this);\n    return this;\n  }\n\n  // try to find the right one.\n  var i = indexOf(state.pipes, dest);\n  if (i === -1)\n    return this;\n\n  state.pipes.splice(i, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1)\n    state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function(ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n\n  if (ev === 'data' && !this._readableState.flowing)\n    emitDataEvents(this);\n\n  if (ev === 'readable' && this.readable) {\n    var state = this._readableState;\n    if (!state.readableListening) {\n      state.readableListening = true;\n      state.emittedReadable = false;\n      state.needReadable = true;\n      if (!state.reading) {\n        this.read(0);\n      } else if (state.length) {\n        emitReadable(this, state);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function() {\n  emitDataEvents(this);\n  this.read(0);\n  this.emit('resume');\n};\n\nReadable.prototype.pause = function() {\n  emitDataEvents(this, true);\n  this.emit('pause');\n};\n\nfunction emitDataEvents(stream, startPaused) {\n  var state = stream._readableState;\n\n  if (state.flowing) {\n    // https://github.com/isaacs/readable-stream/issues/16\n    throw new Error('Cannot switch to old mode now.');\n  }\n\n  var paused = startPaused || false;\n  var readable = false;\n\n  // convert to an old-style stream.\n  stream.readable = true;\n  stream.pipe = Stream.prototype.pipe;\n  stream.on = stream.addListener = Stream.prototype.on;\n\n  stream.on('readable', function() {\n    readable = true;\n\n    var c;\n    while (!paused && (null !== (c = stream.read())))\n      stream.emit('data', c);\n\n    if (c === null) {\n      readable = false;\n      stream._readableState.needReadable = true;\n    }\n  });\n\n  stream.pause = function() {\n    paused = true;\n    this.emit('pause');\n  };\n\n  stream.resume = function() {\n    paused = false;\n    if (readable)\n      process.nextTick(function() {\n        stream.emit('readable');\n      });\n    else\n      this.read(0);\n    this.emit('resume');\n  };\n\n  // now make it start, just in case it hadn't already.\n  stream.emit('readable');\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function(stream) {\n  var state = this._readableState;\n  var paused = false;\n\n  var self = this;\n  stream.on('end', function() {\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length)\n        self.push(chunk);\n    }\n\n    self.push(null);\n  });\n\n  stream.on('data', function(chunk) {\n    if (state.decoder)\n      chunk = state.decoder.write(chunk);\n\n    // don't skip over falsy values in objectMode\n    //if (state.objectMode && util.isNullOrUndefined(chunk))\n    if (state.objectMode && (chunk === null || chunk === undefined))\n      return;\n    else if (!state.objectMode && (!chunk || !chunk.length))\n      return;\n\n    var ret = self.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (typeof stream[i] === 'function' &&\n        typeof this[i] === 'undefined') {\n      this[i] = function(method) { return function() {\n        return stream[method].apply(stream, arguments);\n      }}(i);\n    }\n  }\n\n  // proxy certain important events.\n  var events = ['error', 'close', 'destroy', 'pause', 'resume'];\n  forEach(events, function(ev) {\n    stream.on(ev, self.emit.bind(self, ev));\n  });\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  self._read = function(n) {\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return self;\n};\n\n\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\nfunction fromList(n, state) {\n  var list = state.buffer;\n  var length = state.length;\n  var stringMode = !!state.decoder;\n  var objectMode = !!state.objectMode;\n  var ret;\n\n  // nothing in the list, definitely empty.\n  if (list.length === 0)\n    return null;\n\n  if (length === 0)\n    ret = null;\n  else if (objectMode)\n    ret = list.shift();\n  else if (!n || n >= length) {\n    // read it all, truncate the array.\n    if (stringMode)\n      ret = list.join('');\n    else\n      ret = Buffer.concat(list, length);\n    list.length = 0;\n  } else {\n    // read just some of it.\n    if (n < list[0].length) {\n      // just take a part of the first list item.\n      // slice is the same for buffers and strings.\n      var buf = list[0];\n      ret = buf.slice(0, n);\n      list[0] = buf.slice(n);\n    } else if (n === list[0].length) {\n      // first list is a perfect match\n      ret = list.shift();\n    } else {\n      // complex case.\n      // we have enough to cover it, but it spans past the first buffer.\n      if (stringMode)\n        ret = '';\n      else\n        ret = new Buffer(n);\n\n      var c = 0;\n      for (var i = 0, l = list.length; i < l && c < n; i++) {\n        var buf = list[0];\n        var cpy = Math.min(n - c, buf.length);\n\n        if (stringMode)\n          ret += buf.slice(0, cpy);\n        else\n          buf.copy(ret, c, 0, cpy);\n\n        if (cpy < buf.length)\n          list[0] = buf.slice(cpy);\n        else\n          list.shift();\n\n        c += cpy;\n      }\n    }\n  }\n\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0)\n    throw new Error('endReadable called on non-empty stream');\n\n  if (!state.endEmitted && state.calledRead) {\n    state.ended = true;\n    process.nextTick(function() {\n      // Check that we didn't get one last unshift.\n      if (!state.endEmitted && state.length === 0) {\n        state.endEmitted = true;\n        stream.readable = false;\n        stream.emit('end');\n      }\n    });\n  }\n}\n\nfunction forEach (xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n\nfunction indexOf (xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\nmodule.exports = Duplex;\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n}\n/*</replacement>*/\n\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\n\nutil.inherits(Duplex, Readable);\n\nforEach(objectKeys(Writable.prototype), function(method) {\n  if (!Duplex.prototype[method])\n    Duplex.prototype[method] = Writable.prototype[method];\n});\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex))\n    return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false)\n    this.readable = false;\n\n  if (options && options.writable === false)\n    this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false)\n    this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended)\n    return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  process.nextTick(this.end.bind(this));\n}\n\nfunction forEach (xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, cb), and it'll handle all\n// the drain event emission and buffering.\n\nmodule.exports = Writable;\n\n/*<replacement>*/\nvar Buffer = require('buffer').Buffer;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Stream = require('stream');\n\nutil.inherits(Writable, Stream);\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n}\n\nfunction WritableState(options, stream) {\n  options = options || {};\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  this.highWaterMark = (hwm || hwm === 0) ? hwm : 16 * 1024;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  // cast to ints.\n  this.highWaterMark = ~~this.highWaterMark;\n\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, becuase any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function(er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.buffer = [];\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n}\n\nfunction Writable(options) {\n  var Duplex = require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, though they're not\n  // instanceof Writable, they're instanceof Readable.\n  if (!(this instanceof Writable) && !(this instanceof Duplex))\n    return new Writable(options);\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function() {\n  this.emit('error', new Error('Cannot pipe. Not readable.'));\n};\n\n\nfunction writeAfterEnd(stream, state, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  process.nextTick(function() {\n    cb(er);\n  });\n}\n\n// If we get something that is not a buffer, string, null, or undefined,\n// and we're not in objectMode, then that's an error.\n// Otherwise stream chunks are all considered to be of length=1, and the\n// watermarks determine how many objects to keep in the buffer, rather than\n// how many bytes or characters.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  if (!Buffer.isBuffer(chunk) &&\n      'string' !== typeof chunk &&\n      chunk !== null &&\n      chunk !== undefined &&\n      !state.objectMode) {\n    var er = new TypeError('Invalid non-string/buffer chunk');\n    stream.emit('error', er);\n    process.nextTick(function() {\n      cb(er);\n    });\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function(chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (Buffer.isBuffer(chunk))\n    encoding = 'buffer';\n  else if (!encoding)\n    encoding = state.defaultEncoding;\n\n  if (typeof cb !== 'function')\n    cb = function() {};\n\n  if (state.ended)\n    writeAfterEnd(this, state, cb);\n  else if (validChunk(this, state, chunk, cb))\n    ret = writeOrBuffer(this, state, chunk, encoding, cb);\n\n  return ret;\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode &&\n      state.decodeStrings !== false &&\n      typeof chunk === 'string') {\n    chunk = new Buffer(chunk, encoding);\n  }\n  return chunk;\n}\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, chunk, encoding, cb) {\n  chunk = decodeChunk(state, chunk, encoding);\n  if (Buffer.isBuffer(chunk))\n    encoding = 'buffer';\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret)\n    state.needDrain = true;\n\n  if (state.writing)\n    state.buffer.push(new WriteReq(chunk, encoding, cb));\n  else\n    doWrite(stream, state, len, chunk, encoding, cb);\n\n  return ret;\n}\n\nfunction doWrite(stream, state, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  if (sync)\n    process.nextTick(function() {\n      cb(er);\n    });\n  else\n    cb(er);\n\n  stream._writableState.errorEmitted = true;\n  stream.emit('error', er);\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er)\n    onwriteError(stream, state, sync, er, cb);\n  else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(stream, state);\n\n    if (!finished && !state.bufferProcessing && state.buffer.length)\n      clearBuffer(stream, state);\n\n    if (sync) {\n      process.nextTick(function() {\n        afterWrite(stream, state, finished, cb);\n      });\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished)\n    onwriteDrain(stream, state);\n  cb();\n  if (finished)\n    finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n\n  for (var c = 0; c < state.buffer.length; c++) {\n    var entry = state.buffer[c];\n    var chunk = entry.chunk;\n    var encoding = entry.encoding;\n    var cb = entry.callback;\n    var len = state.objectMode ? 1 : chunk.length;\n\n    doWrite(stream, state, len, chunk, encoding, cb);\n\n    // if we didn't call the onwrite immediately, then\n    // it means that we need to wait until it does.\n    // also, that means that the chunk and cb are currently\n    // being processed, so move the buffer counter past them.\n    if (state.writing) {\n      c++;\n      break;\n    }\n  }\n\n  state.bufferProcessing = false;\n  if (c < state.buffer.length)\n    state.buffer = state.buffer.slice(c);\n  else\n    state.buffer.length = 0;\n}\n\nWritable.prototype._write = function(chunk, encoding, cb) {\n  cb(new Error('not implemented'));\n};\n\nWritable.prototype.end = function(chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (typeof chunk !== 'undefined' && chunk !== null)\n    this.write(chunk, encoding);\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished)\n    endWritable(this, state, cb);\n};\n\n\nfunction needFinish(stream, state) {\n  return (state.ending &&\n          state.length === 0 &&\n          !state.finished &&\n          !state.writing);\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(stream, state);\n  if (need) {\n    state.finished = true;\n    stream.emit('finish');\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished)\n      process.nextTick(cb);\n    else\n      stream.once('finish', cb);\n  }\n  state.ended = true;\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\nmodule.exports = Transform;\n\nvar Duplex = require('./_stream_duplex');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(Transform, Duplex);\n\n\nfunction TransformState(options, stream) {\n  this.afterTransform = function(er, data) {\n    return afterTransform(stream, er, data);\n  };\n\n  this.needTransform = false;\n  this.transforming = false;\n  this.writecb = null;\n  this.writechunk = null;\n}\n\nfunction afterTransform(stream, er, data) {\n  var ts = stream._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb)\n    return stream.emit('error', new Error('no writecb in Transform class'));\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (data !== null && data !== undefined)\n    stream.push(data);\n\n  if (cb)\n    cb(er);\n\n  var rs = stream._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    stream._read(rs.highWaterMark);\n  }\n}\n\n\nfunction Transform(options) {\n  if (!(this instanceof Transform))\n    return new Transform(options);\n\n  Duplex.call(this, options);\n\n  var ts = this._transformState = new TransformState(options, this);\n\n  // when the writable side finishes, then flush out anything remaining.\n  var stream = this;\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  this.once('finish', function() {\n    if ('function' === typeof this._flush)\n      this._flush(function(er) {\n        done(stream, er);\n      });\n    else\n      done(stream);\n  });\n}\n\nTransform.prototype.push = function(chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function(chunk, encoding, cb) {\n  throw new Error('not implemented');\n};\n\nTransform.prototype._write = function(chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform ||\n        rs.needReadable ||\n        rs.length < rs.highWaterMark)\n      this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function(n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\n\nfunction done(stream, er) {\n  if (er)\n    return stream.emit('error', er);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  var ws = stream._writableState;\n  var rs = stream._readableState;\n  var ts = stream._transformState;\n\n  if (ws.length)\n    throw new Error('calling transform done when ws.length != 0');\n\n  if (ts.transforming)\n    throw new Error('calling transform done when still transforming');\n\n  return stream.push(null);\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough))\n    return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function(chunk, encoding, cb) {\n  cb(null, chunk);\n};\n","var Stream = require('stream'); // hack to fix a circular dependency issue when used with browserify\nexports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = Stream;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\n","import ltgt from 'ltgt';\nimport events from 'events';\nimport Codec from 'level-codec';\nimport ReadableStreamCore from 'readable-stream';\nimport inherits from 'inherits';\n\nfunction isFunction(f) {\n  return 'function' === typeof f;\n}\n\nfunction getPrefix(db) {\n  if (isFunction(db.prefix)) {\n    return db.prefix();\n  }\n  return db;\n}\n\nfunction clone(_obj) {\n  var obj = {};\n  for (var k in _obj) {\n    obj[k] = _obj[k];\n  }\n  return obj;\n}\n\nfunction nut(db, precodec, codec) {\n  function encodePrefix(prefix, key, opts1, opts2) {\n    return precodec.encode([ prefix, codec.encodeKey(key, opts1, opts2 ) ]);\n  }\n\n  function addEncodings(op, prefix) {\n    if (prefix && prefix.options) {\n      op.keyEncoding =\n        op.keyEncoding || prefix.options.keyEncoding;\n      op.valueEncoding =\n        op.valueEncoding || prefix.options.valueEncoding;\n    }\n    return op;\n  }\n\n  db.open(function () { /* no-op */});\n\n  return {\n    apply: function (ops, opts, cb) {\n      opts = opts || {};\n\n      var batch = [];\n      var i = -1;\n      var len = ops.length;\n\n      while (++i < len) {\n        var op = ops[i];\n        addEncodings(op, op.prefix);\n        op.prefix = getPrefix(op.prefix);\n        batch.push({\n          key: encodePrefix(op.prefix, op.key, opts, op),\n          value: op.type !== 'del' && codec.encodeValue(op.value, opts, op),\n          type: op.type\n        });\n      }\n      db.db.batch(batch, opts, cb);\n    },\n    get: function (key, prefix, opts, cb) {\n      opts.asBuffer = codec.valueAsBuffer(opts);\n      return db.db.get(\n        encodePrefix(prefix, key, opts),\n        opts,\n        function (err, value) {\n          if (err) {\n            cb(err);\n          } else {\n            cb(null, codec.decodeValue(value, opts));\n          }\n        }\n      );\n    },\n    createDecoder: function (opts) {\n      return function (key, value) {\n        return {\n          key: codec.decodeKey(precodec.decode(key)[1], opts),\n          value: codec.decodeValue(value, opts)\n        };\n      };\n    },\n    isClosed: function isClosed() {\n      return db.isClosed();\n    },\n    close: function close(cb) {\n      return db.close(cb);\n    },\n    iterator: function (_opts) {\n      var opts = clone(_opts || {});\n      var prefix = _opts.prefix || [];\n\n      function encodeKey(key) {\n        return encodePrefix(prefix, key, opts, {});\n      }\n\n      ltgt.toLtgt(_opts, opts, encodeKey, precodec.lowerBound, precodec.upperBound);\n\n      // if these legacy values are in the options, remove them\n\n      opts.prefix = null;\n\n      //************************************************\n      //hard coded defaults, for now...\n      //TODO: pull defaults and encoding out of levelup.\n      opts.keyAsBuffer = opts.valueAsBuffer = false;\n      //************************************************\n\n\n      //this is vital, otherwise limit: undefined will\n      //create an empty stream.\n      /* istanbul ignore next */\n      if ('number' !== typeof opts.limit) {\n        opts.limit = -1;\n      }\n\n      opts.keyAsBuffer = precodec.buffer;\n      opts.valueAsBuffer = codec.valueAsBuffer(opts);\n\n      function wrapIterator(iterator) {\n        return {\n          next: function (cb) {\n            return iterator.next(cb);\n          },\n          end: function (cb) {\n            iterator.end(cb);\n          }\n        };\n      }\n\n      return wrapIterator(db.db.iterator(opts));\n    }\n  };\n}\n\nfunction NotFoundError() {\n  Error.call(this);\n}\n\ninherits(NotFoundError, Error);\n\nNotFoundError.prototype.name = 'NotFoundError';\n\nvar EventEmitter = events.EventEmitter;\nvar version = \"6.5.4\";\n\nvar NOT_FOUND_ERROR = new NotFoundError();\n\nvar sublevel = function (nut, prefix, createStream, options) {\n  var emitter = new EventEmitter();\n  emitter.sublevels = {};\n  emitter.options = options;\n\n  emitter.version = version;\n\n  emitter.methods = {};\n  prefix = prefix || [];\n\n  function mergeOpts(opts) {\n    var o = {};\n    var k;\n    if (options) {\n      for (k in options) {\n        if (typeof options[k] !== 'undefined') {\n          o[k] = options[k];\n        }\n      }\n    }\n    if (opts) {\n      for (k in opts) {\n        if (typeof opts[k] !== 'undefined') {\n          o[k] = opts[k];\n        }\n      }\n    }\n    return o;\n  }\n\n  emitter.put = function (key, value, opts, cb) {\n    if ('function' === typeof opts) {\n      cb = opts;\n      opts = {};\n    }\n\n    nut.apply([{\n      key: key, value: value,\n      prefix: prefix.slice(), type: 'put'\n    }], mergeOpts(opts), function (err) {\n      /* istanbul ignore next */\n      if (err) {\n        return cb(err);\n      }\n      emitter.emit('put', key, value);\n      cb(null);\n    });\n  };\n\n  emitter.prefix = function () {\n    return prefix.slice();\n  };\n\n  emitter.batch = function (ops, opts, cb) {\n    if ('function' === typeof opts) {\n      cb = opts;\n      opts = {};\n    }\n\n    ops = ops.map(function (op) {\n      return {\n        key: op.key,\n        value: op.value,\n        prefix: op.prefix || prefix,\n        keyEncoding: op.keyEncoding,    // *\n        valueEncoding: op.valueEncoding,  // * (TODO: encodings on sublevel)\n        type: op.type\n      };\n    });\n\n    nut.apply(ops, mergeOpts(opts), function (err) {\n      /* istanbul ignore next */\n      if (err) {\n        return cb(err);\n      }\n      emitter.emit('batch', ops);\n      cb(null);\n    });\n  };\n\n  emitter.get = function (key, opts, cb) {\n    /* istanbul ignore else */\n    if ('function' === typeof opts) {\n      cb = opts;\n      opts = {};\n    }\n    nut.get(key, prefix, mergeOpts(opts), function (err, value) {\n      if (err) {\n        cb(NOT_FOUND_ERROR);\n      } else {\n        cb(null, value);\n      }\n    });\n  };\n\n  emitter.sublevel = function (name, opts) {\n    return emitter.sublevels[name] =\n      emitter.sublevels[name] || sublevel(nut, prefix.concat(name), createStream, mergeOpts(opts));\n  };\n\n  emitter.readStream = emitter.createReadStream = function (opts) {\n    opts = mergeOpts(opts);\n    opts.prefix = prefix;\n    var stream;\n    var it = nut.iterator(opts);\n\n    stream = createStream(opts, nut.createDecoder(opts));\n    stream.setIterator(it);\n\n    return stream;\n  };\n\n  emitter.close = function (cb) {\n    nut.close(cb);\n  };\n\n  emitter.isOpen = nut.isOpen;\n  emitter.isClosed = nut.isClosed;\n\n  return emitter;\n};\n\n/* Copyright (c) 2012-2014 LevelUP contributors\n * See list at <https://github.com/rvagg/node-levelup#contributing>\n * MIT License <https://github.com/rvagg/node-levelup/blob/master/LICENSE.md>\n */\n\nvar Readable = ReadableStreamCore.Readable;\n\nfunction ReadStream(options, makeData) {\n  if (!(this instanceof ReadStream)) {\n    return new ReadStream(options, makeData);\n  }\n\n  Readable.call(this, { objectMode: true, highWaterMark: options.highWaterMark });\n\n  // purely to keep `db` around until we're done so it's not GCed if the user doesn't keep a ref\n\n  this._waiting = false;\n  this._options = options;\n  this._makeData = makeData;\n}\n\ninherits(ReadStream, Readable);\n\nReadStream.prototype.setIterator = function (it) {\n  this._iterator = it;\n  /* istanbul ignore if */\n  if (this._destroyed) {\n    return it.end(function () {});\n  }\n  /* istanbul ignore if */\n  if (this._waiting) {\n    this._waiting = false;\n    return this._read();\n  }\n  return this;\n};\n\nReadStream.prototype._read = function read() {\n  var self = this;\n  /* istanbul ignore if */\n  if (self._destroyed) {\n    return;\n  }\n  /* istanbul ignore if */\n  if (!self._iterator) {\n    return this._waiting = true;\n  }\n\n  self._iterator.next(function (err, key, value) {\n    if (err || (key === undefined && value === undefined)) {\n      if (!err && !self._destroyed) {\n        self.push(null);\n      }\n      return self._cleanup(err);\n    }\n\n\n    value = self._makeData(key, value);\n    if (!self._destroyed) {\n      self.push(value);\n    }\n  });\n};\n\nReadStream.prototype._cleanup = function (err) {\n  if (this._destroyed) {\n    return;\n  }\n\n  this._destroyed = true;\n\n  var self = this;\n  /* istanbul ignore if */\n  if (err && err.message !== 'iterator has ended') {\n    self.emit('error', err);\n  }\n\n  /* istanbul ignore else */\n  if (self._iterator) {\n    self._iterator.end(function () {\n      self._iterator = null;\n      self.emit('close');\n    });\n  } else {\n    self.emit('close');\n  }\n};\n\nReadStream.prototype.destroy = function () {\n  this._cleanup();\n};\n\nvar precodec = {\n  encode: function (decodedKey) {\n    return '\\xff' + decodedKey[0] + '\\xff' + decodedKey[1];\n  },\n  decode: function (encodedKeyAsBuffer) {\n    var str = encodedKeyAsBuffer.toString();\n    var idx = str.indexOf('\\xff', 1);\n    return [str.substring(1, idx), str.substring(idx + 1)];\n  },\n  lowerBound: '\\x00',\n  upperBound: '\\xff'\n};\n\nvar codec = new Codec();\n\nfunction sublevelPouch(db) {\n  return sublevel(nut(db, precodec, codec), [], ReadStream, db.options);\n}\n\nexport default sublevelPouch;\n","module.exports = require('events').EventEmitter;\n","'use strict';\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar _require = require('buffer'),\n    Buffer = _require.Buffer;\n\nvar _require2 = require('util'),\n    inspect = _require2.inspect;\n\nvar custom = inspect && inspect.custom || 'inspect';\n\nfunction copyBuffer(src, target, offset) {\n  Buffer.prototype.copy.call(src, target, offset);\n}\n\nmodule.exports =\n/*#__PURE__*/\nfunction () {\n  function BufferList() {\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  var _proto = BufferList.prototype;\n\n  _proto.push = function push(v) {\n    var entry = {\n      data: v,\n      next: null\n    };\n    if (this.length > 0) this.tail.next = entry;else this.head = entry;\n    this.tail = entry;\n    ++this.length;\n  };\n\n  _proto.unshift = function unshift(v) {\n    var entry = {\n      data: v,\n      next: this.head\n    };\n    if (this.length === 0) this.tail = entry;\n    this.head = entry;\n    ++this.length;\n  };\n\n  _proto.shift = function shift() {\n    if (this.length === 0) return;\n    var ret = this.head.data;\n    if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n    --this.length;\n    return ret;\n  };\n\n  _proto.clear = function clear() {\n    this.head = this.tail = null;\n    this.length = 0;\n  };\n\n  _proto.join = function join(s) {\n    if (this.length === 0) return '';\n    var p = this.head;\n    var ret = '' + p.data;\n\n    while (p = p.next) {\n      ret += s + p.data;\n    }\n\n    return ret;\n  };\n\n  _proto.concat = function concat(n) {\n    if (this.length === 0) return Buffer.alloc(0);\n    var ret = Buffer.allocUnsafe(n >>> 0);\n    var p = this.head;\n    var i = 0;\n\n    while (p) {\n      copyBuffer(p.data, ret, i);\n      i += p.data.length;\n      p = p.next;\n    }\n\n    return ret;\n  } // Consumes a specified amount of bytes or characters from the buffered data.\n  ;\n\n  _proto.consume = function consume(n, hasStrings) {\n    var ret;\n\n    if (n < this.head.data.length) {\n      // `slice` is the same for buffers and strings.\n      ret = this.head.data.slice(0, n);\n      this.head.data = this.head.data.slice(n);\n    } else if (n === this.head.data.length) {\n      // First chunk is a perfect match.\n      ret = this.shift();\n    } else {\n      // Result spans more than one buffer.\n      ret = hasStrings ? this._getString(n) : this._getBuffer(n);\n    }\n\n    return ret;\n  };\n\n  _proto.first = function first() {\n    return this.head.data;\n  } // Consumes a specified amount of characters from the buffered data.\n  ;\n\n  _proto._getString = function _getString(n) {\n    var p = this.head;\n    var c = 1;\n    var ret = p.data;\n    n -= ret.length;\n\n    while (p = p.next) {\n      var str = p.data;\n      var nb = n > str.length ? str.length : n;\n      if (nb === str.length) ret += str;else ret += str.slice(0, n);\n      n -= nb;\n\n      if (n === 0) {\n        if (nb === str.length) {\n          ++c;\n          if (p.next) this.head = p.next;else this.head = this.tail = null;\n        } else {\n          this.head = p;\n          p.data = str.slice(nb);\n        }\n\n        break;\n      }\n\n      ++c;\n    }\n\n    this.length -= c;\n    return ret;\n  } // Consumes a specified amount of bytes from the buffered data.\n  ;\n\n  _proto._getBuffer = function _getBuffer(n) {\n    var ret = Buffer.allocUnsafe(n);\n    var p = this.head;\n    var c = 1;\n    p.data.copy(ret);\n    n -= p.data.length;\n\n    while (p = p.next) {\n      var buf = p.data;\n      var nb = n > buf.length ? buf.length : n;\n      buf.copy(ret, ret.length - n, 0, nb);\n      n -= nb;\n\n      if (n === 0) {\n        if (nb === buf.length) {\n          ++c;\n          if (p.next) this.head = p.next;else this.head = this.tail = null;\n        } else {\n          this.head = p;\n          p.data = buf.slice(nb);\n        }\n\n        break;\n      }\n\n      ++c;\n    }\n\n    this.length -= c;\n    return ret;\n  } // Make sure the linked list only shows the minimal necessary information.\n  ;\n\n  _proto[custom] = function (_, options) {\n    return inspect(this, _objectSpread({}, options, {\n      // Only inspect one level.\n      depth: 0,\n      // It should not recurse.\n      customInspect: false\n    }));\n  };\n\n  return BufferList;\n}();","'use strict'; // undocumented cb() API, needed for core, not for public API\n\nfunction destroy(err, cb) {\n  var _this = this;\n\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err && (!this._writableState || !this._writableState.errorEmitted)) {\n      process.nextTick(emitErrorNT, this, err);\n    }\n\n    return this;\n  } // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  } // if this is a duplex stream mark the writable part as destroyed as well\n\n\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      process.nextTick(emitErrorAndCloseNT, _this, err);\n\n      if (_this._writableState) {\n        _this._writableState.errorEmitted = true;\n      }\n    } else if (cb) {\n      process.nextTick(emitCloseNT, _this);\n      cb(err);\n    } else {\n      process.nextTick(emitCloseNT, _this);\n    }\n  });\n\n  return this;\n}\n\nfunction emitErrorAndCloseNT(self, err) {\n  emitErrorNT(self, err);\n  emitCloseNT(self);\n}\n\nfunction emitCloseNT(self) {\n  if (self._writableState && !self._writableState.emitClose) return;\n  if (self._readableState && !self._readableState.emitClose) return;\n  self.emit('close');\n}\n\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finalCalled = false;\n    this._writableState.prefinished = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy\n};","'use strict';\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar codes = {};\n\nfunction createErrorType(code, message, Base) {\n  if (!Base) {\n    Base = Error;\n  }\n\n  function getMessage(arg1, arg2, arg3) {\n    if (typeof message === 'string') {\n      return message;\n    } else {\n      return message(arg1, arg2, arg3);\n    }\n  }\n\n  var NodeError =\n  /*#__PURE__*/\n  function (_Base) {\n    _inheritsLoose(NodeError, _Base);\n\n    function NodeError(arg1, arg2, arg3) {\n      return _Base.call(this, getMessage(arg1, arg2, arg3)) || this;\n    }\n\n    return NodeError;\n  }(Base);\n\n  NodeError.prototype.name = Base.name;\n  NodeError.prototype.code = code;\n  codes[code] = NodeError;\n} // https://github.com/nodejs/node/blob/v10.8.0/lib/internal/errors.js\n\n\nfunction oneOf(expected, thing) {\n  if (Array.isArray(expected)) {\n    var len = expected.length;\n    expected = expected.map(function (i) {\n      return String(i);\n    });\n\n    if (len > 2) {\n      return \"one of \".concat(thing, \" \").concat(expected.slice(0, len - 1).join(', '), \", or \") + expected[len - 1];\n    } else if (len === 2) {\n      return \"one of \".concat(thing, \" \").concat(expected[0], \" or \").concat(expected[1]);\n    } else {\n      return \"of \".concat(thing, \" \").concat(expected[0]);\n    }\n  } else {\n    return \"of \".concat(thing, \" \").concat(String(expected));\n  }\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\n\n\nfunction startsWith(str, search, pos) {\n  return str.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith\n\n\nfunction endsWith(str, search, this_len) {\n  if (this_len === undefined || this_len > str.length) {\n    this_len = str.length;\n  }\n\n  return str.substring(this_len - search.length, this_len) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes\n\n\nfunction includes(str, search, start) {\n  if (typeof start !== 'number') {\n    start = 0;\n  }\n\n  if (start + search.length > str.length) {\n    return false;\n  } else {\n    return str.indexOf(search, start) !== -1;\n  }\n}\n\ncreateErrorType('ERR_INVALID_OPT_VALUE', function (name, value) {\n  return 'The value \"' + value + '\" is invalid for option \"' + name + '\"';\n}, TypeError);\ncreateErrorType('ERR_INVALID_ARG_TYPE', function (name, expected, actual) {\n  // determiner: 'must be' or 'must not be'\n  var determiner;\n\n  if (typeof expected === 'string' && startsWith(expected, 'not ')) {\n    determiner = 'must not be';\n    expected = expected.replace(/^not /, '');\n  } else {\n    determiner = 'must be';\n  }\n\n  var msg;\n\n  if (endsWith(name, ' argument')) {\n    // For cases like 'first argument'\n    msg = \"The \".concat(name, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  } else {\n    var type = includes(name, '.') ? 'property' : 'argument';\n    msg = \"The \\\"\".concat(name, \"\\\" \").concat(type, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  }\n\n  msg += \". Received type \".concat(typeof actual);\n  return msg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_PUSH_AFTER_EOF', 'stream.push() after EOF');\ncreateErrorType('ERR_METHOD_NOT_IMPLEMENTED', function (name) {\n  return 'The ' + name + ' method is not implemented';\n});\ncreateErrorType('ERR_STREAM_PREMATURE_CLOSE', 'Premature close');\ncreateErrorType('ERR_STREAM_DESTROYED', function (name) {\n  return 'Cannot call ' + name + ' after a stream was destroyed';\n});\ncreateErrorType('ERR_MULTIPLE_CALLBACK', 'Callback called multiple times');\ncreateErrorType('ERR_STREAM_CANNOT_PIPE', 'Cannot pipe, not readable');\ncreateErrorType('ERR_STREAM_WRITE_AFTER_END', 'write after end');\ncreateErrorType('ERR_STREAM_NULL_VALUES', 'May not write null values to stream', TypeError);\ncreateErrorType('ERR_UNKNOWN_ENCODING', function (arg) {\n  return 'Unknown encoding: ' + arg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_UNSHIFT_AFTER_END_EVENT', 'stream.unshift() after end event');\nmodule.exports.codes = codes;\n","'use strict';\n\nvar ERR_INVALID_OPT_VALUE = require('../../../errors').codes.ERR_INVALID_OPT_VALUE;\n\nfunction highWaterMarkFrom(options, isDuplex, duplexKey) {\n  return options.highWaterMark != null ? options.highWaterMark : isDuplex ? options[duplexKey] : null;\n}\n\nfunction getHighWaterMark(state, options, duplexKey, isDuplex) {\n  var hwm = highWaterMarkFrom(options, isDuplex, duplexKey);\n\n  if (hwm != null) {\n    if (!(isFinite(hwm) && Math.floor(hwm) === hwm) || hwm < 0) {\n      var name = isDuplex ? duplexKey : 'highWaterMark';\n      throw new ERR_INVALID_OPT_VALUE(name, hwm);\n    }\n\n    return Math.floor(hwm);\n  } // Default value\n\n\n  return state.objectMode ? 16 : 16 * 1024;\n}\n\nmodule.exports = {\n  getHighWaterMark: getHighWaterMark\n};","'use strict'\n\nvar experimentalWarnings = new Set();\n\nfunction emitExperimentalWarning(feature) {\n  if (experimentalWarnings.has(feature)) return;\n  var msg = feature + ' is an experimental feature. This feature could ' +\n       'change at any time';\n  experimentalWarnings.add(feature);\n  process.emitWarning(msg, 'ExperimentalWarning');\n}\n\nfunction noop() {}\n\nmodule.exports.emitExperimentalWarning = process.emitWarning\n  ? emitExperimentalWarning\n  : noop;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n'use strict';\n\nmodule.exports = Writable;\n/* <replacement> */\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n} // It seems a linked list but it is not\n// there will be only 2 of these for each stream\n\n\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\n\n\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n/*<replacement>*/\n\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n\nvar Buffer = require('buffer').Buffer;\n\nvar OurUint8Array = global.Uint8Array || function () {};\n\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\n\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nvar _require = require('./internal/streams/state'),\n    getHighWaterMark = _require.getHighWaterMark;\n\nvar _require$codes = require('../errors').codes,\n    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n    ERR_STREAM_CANNOT_PIPE = _require$codes.ERR_STREAM_CANNOT_PIPE,\n    ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED,\n    ERR_STREAM_NULL_VALUES = _require$codes.ERR_STREAM_NULL_VALUES,\n    ERR_STREAM_WRITE_AFTER_END = _require$codes.ERR_STREAM_WRITE_AFTER_END,\n    ERR_UNKNOWN_ENCODING = _require$codes.ERR_UNKNOWN_ENCODING;\n\nrequire('inherits')(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {}; // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream,\n  // e.g. options.readableObjectMode vs. options.writableObjectMode, etc.\n\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex; // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode; // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n\n  this.highWaterMark = getHighWaterMark(this, options, 'writableHighWaterMark', isDuplex); // if _final has been called\n\n  this.finalCalled = false; // drain event flag.\n\n  this.needDrain = false; // at the start of calling end()\n\n  this.ending = false; // when end() has been called, and returned\n\n  this.ended = false; // when 'finish' is emitted\n\n  this.finished = false; // has it been destroyed\n\n  this.destroyed = false; // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode; // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n\n  this.defaultEncoding = options.defaultEncoding || 'utf8'; // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n\n  this.length = 0; // a flag to see when we're in the middle of a write.\n\n  this.writing = false; // when true all writes will be buffered until .uncork() call\n\n  this.corked = 0; // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n\n  this.sync = true; // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n\n  this.bufferProcessing = false; // the callback that's passed to _write(chunk,cb)\n\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  }; // the callback that the user supplies to write(chunk,encoding,cb)\n\n\n  this.writecb = null; // the amount that is being written when _write is called.\n\n  this.writelen = 0;\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null; // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n\n  this.pendingcb = 0; // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n\n  this.prefinished = false; // True if the error was already emitted and should not be thrown again\n\n  this.errorEmitted = false; // Should close be emitted on destroy. Defaults to true.\n\n  this.emitClose = options.emitClose !== false; // count buffered requests\n\n  this.bufferedRequestCount = 0; // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function writableStateBufferGetter() {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})(); // Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\n\n\nvar realHasInstance;\n\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function value(object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function realHasInstance(object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex'); // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the WritableState constructor, at least with V8 6.5\n\n  var isDuplex = this instanceof Duplex;\n  if (!isDuplex && !realHasInstance.call(Writable, this)) return new Writable(options);\n  this._writableState = new WritableState(options, this, isDuplex); // legacy.\n\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n    if (typeof options.writev === 'function') this._writev = options.writev;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n} // Otherwise people can pipe Writable streams, which is just wrong.\n\n\nWritable.prototype.pipe = function () {\n  this.emit('error', new ERR_STREAM_CANNOT_PIPE());\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new ERR_STREAM_WRITE_AFTER_END(); // TODO: defer error events consistently everywhere, not just the cb\n\n  stream.emit('error', er);\n  process.nextTick(cb, er);\n} // Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\n\n\nfunction validChunk(stream, state, chunk, cb) {\n  var er;\n\n  if (chunk === null) {\n    er = new ERR_STREAM_NULL_VALUES();\n  } else if (typeof chunk !== 'string' && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer'], chunk);\n  }\n\n  if (er) {\n    stream.emit('error', er);\n    process.nextTick(cb, er);\n    return false;\n  }\n\n  return true;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n  if (typeof cb !== 'function') cb = nop;\n  if (state.ending) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  this._writableState.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n    if (!state.writing && !state.corked && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new ERR_UNKNOWN_ENCODING(encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nObject.defineProperty(Writable.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n\n  return chunk;\n}\n\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n}); // if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\n\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n\n  var len = state.objectMode ? 1 : chunk.length;\n  state.length += len;\n  var ret = state.length < state.highWaterMark; // we must ensure that previous needDrain will not be reset to false.\n\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (state.destroyed) state.onwrite(new ERR_STREAM_DESTROYED('write'));else if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    process.nextTick(cb, er); // this can emit finish, and it will always happen\n    // after error\n\n    process.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er); // this can emit finish, but finish must\n    // always follow error\n\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n  if (typeof cb !== 'function') throw new ERR_MULTIPLE_CALLBACK();\n  onwriteStateUpdate(state);\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state) || stream.destroyed;\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      process.nextTick(afterWrite, stream, state, finished, cb);\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n} // Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\n\n\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n} // if there's something in the buffer waiting, then process it\n\n\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n    var count = 0;\n    var allBuffers = true;\n\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n\n    buffer.allBuffers = allBuffers;\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish); // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--; // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_write()'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding); // .end() fully uncorks\n\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  } // ignore unnecessary end() calls.\n\n\n  if (!state.ending) endWritable(this, state, cb);\n  return this;\n};\n\nObject.defineProperty(Writable.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.length;\n  }\n});\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\n\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n\n    if (err) {\n      stream.emit('error', err);\n    }\n\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\n\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function' && !state.destroyed) {\n      state.pendingcb++;\n      state.finalCalled = true;\n      process.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n\n  if (need) {\n    prefinish(stream, state);\n\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n    }\n  }\n\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n\n  if (cb) {\n    if (state.finished) process.nextTick(cb);else stream.once('finish', cb);\n  }\n\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  } // reuse the free corkReq.\n\n\n  state.corkedRequestsFree.next = corkReq;\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._writableState === undefined) {\n      return false;\n    }\n\n    return this._writableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._writableState.destroyed = value;\n  }\n});\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\n\nWritable.prototype._destroy = function (err, cb) {\n  cb(err);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n'use strict';\n/*<replacement>*/\n\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n\n  for (var key in obj) {\n    keys.push(key);\n  }\n\n  return keys;\n};\n/*</replacement>*/\n\n\nmodule.exports = Duplex;\n\nvar Readable = require('./_stream_readable');\n\nvar Writable = require('./_stream_writable');\n\nrequire('inherits')(Duplex, Readable);\n\n{\n  // Allow the keys array to be GC'ed.\n  var keys = objectKeys(Writable.prototype);\n\n  for (var v = 0; v < keys.length; v++) {\n    var method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n  Readable.call(this, options);\n  Writable.call(this, options);\n  this.allowHalfOpen = true;\n\n  if (options) {\n    if (options.readable === false) this.readable = false;\n    if (options.writable === false) this.writable = false;\n\n    if (options.allowHalfOpen === false) {\n      this.allowHalfOpen = false;\n      this.once('end', onend);\n    }\n  }\n}\n\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.length;\n  }\n}); // the no-half-open enforcer\n\nfunction onend() {\n  // If the writable side ended, then we're ok.\n  if (this._writableState.ended) return; // no more data can be written.\n  // But allow more writes to happen in this tick.\n\n  process.nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n      default:\n        if (retried) return; // undefined\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n};\n\n// Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\nexports.StringDecoder = StringDecoder;\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End;\n\n// Returns only complete characters in a Buffer\nStringDecoder.prototype.text = utf8Text;\n\n// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n};\n\n// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n}\n\n// Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n    return nb;\n  }\n  return 0;\n}\n\n// Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return '\\ufffd';\n  }\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return '\\ufffd';\n    }\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return '\\ufffd';\n      }\n    }\n  }\n}\n\n// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n}\n\n// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n}\n\n// For UTF-8, a replacement character is added when ending on a partial\n// character.\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + '\\ufffd';\n  return r;\n}\n\n// UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n    return r;\n  }\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n}\n\n// For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n}\n\n// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}","// Ported from https://github.com/mafintosh/end-of-stream with\n// permission from the author, Mathias Buus (@mafintosh).\n'use strict';\n\nvar ERR_STREAM_PREMATURE_CLOSE = require('../../../errors').codes.ERR_STREAM_PREMATURE_CLOSE;\n\nfunction once(callback) {\n  var called = false;\n  return function () {\n    if (called) return;\n    called = true;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    callback.apply(this, args);\n  };\n}\n\nfunction noop() {}\n\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\n\nfunction eos(stream, opts, callback) {\n  if (typeof opts === 'function') return eos(stream, null, opts);\n  if (!opts) opts = {};\n  callback = once(callback || noop);\n  var readable = opts.readable || opts.readable !== false && stream.readable;\n  var writable = opts.writable || opts.writable !== false && stream.writable;\n\n  var onlegacyfinish = function onlegacyfinish() {\n    if (!stream.writable) onfinish();\n  };\n\n  var writableEnded = stream._writableState && stream._writableState.finished;\n\n  var onfinish = function onfinish() {\n    writable = false;\n    writableEnded = true;\n    if (!readable) callback.call(stream);\n  };\n\n  var readableEnded = stream._readableState && stream._readableState.endEmitted;\n\n  var onend = function onend() {\n    readable = false;\n    readableEnded = true;\n    if (!writable) callback.call(stream);\n  };\n\n  var onerror = function onerror(err) {\n    callback.call(stream, err);\n  };\n\n  var onclose = function onclose() {\n    var err;\n\n    if (readable && !readableEnded) {\n      if (!stream._readableState || !stream._readableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n\n    if (writable && !writableEnded) {\n      if (!stream._writableState || !stream._writableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n  };\n\n  var onrequest = function onrequest() {\n    stream.req.on('finish', onfinish);\n  };\n\n  if (isRequest(stream)) {\n    stream.on('complete', onfinish);\n    stream.on('abort', onclose);\n    if (stream.req) onrequest();else stream.on('request', onrequest);\n  } else if (writable && !stream._writableState) {\n    // legacy streams\n    stream.on('end', onlegacyfinish);\n    stream.on('close', onlegacyfinish);\n  }\n\n  stream.on('end', onend);\n  stream.on('finish', onfinish);\n  if (opts.error !== false) stream.on('error', onerror);\n  stream.on('close', onclose);\n  return function () {\n    stream.removeListener('complete', onfinish);\n    stream.removeListener('abort', onclose);\n    stream.removeListener('request', onrequest);\n    if (stream.req) stream.req.removeListener('finish', onfinish);\n    stream.removeListener('end', onlegacyfinish);\n    stream.removeListener('close', onlegacyfinish);\n    stream.removeListener('finish', onfinish);\n    stream.removeListener('end', onend);\n    stream.removeListener('error', onerror);\n    stream.removeListener('close', onclose);\n  };\n}\n\nmodule.exports = eos;","'use strict';\n\nvar _Object$setPrototypeO;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar finished = require('./end-of-stream');\n\nvar kLastResolve = Symbol('lastResolve');\nvar kLastReject = Symbol('lastReject');\nvar kError = Symbol('error');\nvar kEnded = Symbol('ended');\nvar kLastPromise = Symbol('lastPromise');\nvar kHandlePromise = Symbol('handlePromise');\nvar kStream = Symbol('stream');\n\nfunction createIterResult(value, done) {\n  return {\n    value: value,\n    done: done\n  };\n}\n\nfunction readAndResolve(iter) {\n  var resolve = iter[kLastResolve];\n\n  if (resolve !== null) {\n    var data = iter[kStream].read(); // we defer if data is null\n    // we can be expecting either 'end' or\n    // 'error'\n\n    if (data !== null) {\n      iter[kLastPromise] = null;\n      iter[kLastResolve] = null;\n      iter[kLastReject] = null;\n      resolve(createIterResult(data, false));\n    }\n  }\n}\n\nfunction onReadable(iter) {\n  // we wait for the next tick, because it might\n  // emit an error with process.nextTick\n  process.nextTick(readAndResolve, iter);\n}\n\nfunction wrapForNext(lastPromise, iter) {\n  return function (resolve, reject) {\n    lastPromise.then(function () {\n      if (iter[kEnded]) {\n        resolve(createIterResult(undefined, true));\n        return;\n      }\n\n      iter[kHandlePromise](resolve, reject);\n    }, reject);\n  };\n}\n\nvar AsyncIteratorPrototype = Object.getPrototypeOf(function () {});\nvar ReadableStreamAsyncIteratorPrototype = Object.setPrototypeOf((_Object$setPrototypeO = {\n  get stream() {\n    return this[kStream];\n  },\n\n  next: function next() {\n    var _this = this;\n\n    // if we have detected an error in the meanwhile\n    // reject straight away\n    var error = this[kError];\n\n    if (error !== null) {\n      return Promise.reject(error);\n    }\n\n    if (this[kEnded]) {\n      return Promise.resolve(createIterResult(undefined, true));\n    }\n\n    if (this[kStream].destroyed) {\n      // We need to defer via nextTick because if .destroy(err) is\n      // called, the error will be emitted via nextTick, and\n      // we cannot guarantee that there is no error lingering around\n      // waiting to be emitted.\n      return new Promise(function (resolve, reject) {\n        process.nextTick(function () {\n          if (_this[kError]) {\n            reject(_this[kError]);\n          } else {\n            resolve(createIterResult(undefined, true));\n          }\n        });\n      });\n    } // if we have multiple next() calls\n    // we will wait for the previous Promise to finish\n    // this logic is optimized to support for await loops,\n    // where next() is only called once at a time\n\n\n    var lastPromise = this[kLastPromise];\n    var promise;\n\n    if (lastPromise) {\n      promise = new Promise(wrapForNext(lastPromise, this));\n    } else {\n      // fast path needed to support multiple this.push()\n      // without triggering the next() queue\n      var data = this[kStream].read();\n\n      if (data !== null) {\n        return Promise.resolve(createIterResult(data, false));\n      }\n\n      promise = new Promise(this[kHandlePromise]);\n    }\n\n    this[kLastPromise] = promise;\n    return promise;\n  }\n}, _defineProperty(_Object$setPrototypeO, Symbol.asyncIterator, function () {\n  return this;\n}), _defineProperty(_Object$setPrototypeO, \"return\", function _return() {\n  var _this2 = this;\n\n  // destroy(err, cb) is a private API\n  // we can guarantee we have that here, because we control the\n  // Readable class this is attached to\n  return new Promise(function (resolve, reject) {\n    _this2[kStream].destroy(null, function (err) {\n      if (err) {\n        reject(err);\n        return;\n      }\n\n      resolve(createIterResult(undefined, true));\n    });\n  });\n}), _Object$setPrototypeO), AsyncIteratorPrototype);\n\nvar createReadableStreamAsyncIterator = function createReadableStreamAsyncIterator(stream) {\n  var _Object$create;\n\n  var iterator = Object.create(ReadableStreamAsyncIteratorPrototype, (_Object$create = {}, _defineProperty(_Object$create, kStream, {\n    value: stream,\n    writable: true\n  }), _defineProperty(_Object$create, kLastResolve, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kLastReject, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kError, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kEnded, {\n    value: stream._readableState.endEmitted,\n    writable: true\n  }), _defineProperty(_Object$create, kHandlePromise, {\n    value: function value(resolve, reject) {\n      var data = iterator[kStream].read();\n\n      if (data) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        resolve(createIterResult(data, false));\n      } else {\n        iterator[kLastResolve] = resolve;\n        iterator[kLastReject] = reject;\n      }\n    },\n    writable: true\n  }), _Object$create));\n  iterator[kLastPromise] = null;\n  finished(stream, function (err) {\n    if (err && err.code !== 'ERR_STREAM_PREMATURE_CLOSE') {\n      var reject = iterator[kLastReject]; // reject if we are waiting for data in the Promise\n      // returned by next() and store the error\n\n      if (reject !== null) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        reject(err);\n      }\n\n      iterator[kError] = err;\n      return;\n    }\n\n    var resolve = iterator[kLastResolve];\n\n    if (resolve !== null) {\n      iterator[kLastPromise] = null;\n      iterator[kLastResolve] = null;\n      iterator[kLastReject] = null;\n      resolve(createIterResult(undefined, true));\n    }\n\n    iterator[kEnded] = true;\n  });\n  stream.on('readable', onReadable.bind(null, iterator));\n  return iterator;\n};\n\nmodule.exports = createReadableStreamAsyncIterator;","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict';\n\nmodule.exports = Readable;\n/*<replacement>*/\n\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n/*<replacement>*/\n\nvar EE = require('events').EventEmitter;\n\nvar EElistenerCount = function EElistenerCount(emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\n\n\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n\nvar Buffer = require('buffer').Buffer;\n\nvar OurUint8Array = global.Uint8Array || function () {};\n\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\n\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n/*<replacement>*/\n\n\nvar debugUtil = require('util');\n\nvar debug;\n\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function debug() {};\n}\n/*</replacement>*/\n\n\nvar BufferList = require('./internal/streams/buffer_list');\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nvar _require = require('./internal/streams/state'),\n    getHighWaterMark = _require.getHighWaterMark;\n\nvar _require$codes = require('../errors').codes,\n    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n    ERR_STREAM_PUSH_AFTER_EOF = _require$codes.ERR_STREAM_PUSH_AFTER_EOF,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_STREAM_UNSHIFT_AFTER_END_EVENT = _require$codes.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;\n\nvar _require2 = require('../experimentalWarning'),\n    emitExperimentalWarning = _require2.emitExperimentalWarning; // Lazy loaded to improve the startup performance.\n\n\nvar StringDecoder;\nvar createReadableStreamAsyncIterator;\n\nrequire('inherits')(Readable, Stream);\n\nvar kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn); // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (Array.isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\n\nfunction ReadableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {}; // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex; // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode; // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n\n  this.highWaterMark = getHighWaterMark(this, options, 'readableHighWaterMark', isDuplex); // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false; // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n\n  this.sync = true; // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n  this.paused = true; // Should close be emitted on destroy. Defaults to true.\n\n  this.emitClose = options.emitClose !== false; // has it been destroyed\n\n  this.destroyed = false; // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n\n  this.defaultEncoding = options.defaultEncoding || 'utf8'; // the number of writers that are awaiting a drain event in .pipe()s\n\n  this.awaitDrain = 0; // if true, a maybeReadMore has been scheduled\n\n  this.readingMore = false;\n  this.decoder = null;\n  this.encoding = null;\n\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n  if (!(this instanceof Readable)) return new Readable(options); // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the ReadableState constructor, at least with V8 6.5\n\n  var isDuplex = this instanceof Duplex;\n  this._readableState = new ReadableState(options, this, isDuplex); // legacy\n\n  this.readable = true;\n\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n\n  Stream.call(this);\n}\n\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._readableState === undefined) {\n      return false;\n    }\n\n    return this._readableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._readableState.destroyed = value;\n  }\n});\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\n\nReadable.prototype._destroy = function (err, cb) {\n  cb(err);\n}; // Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\n\n\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n}; // Unshift should *always* be something directly out of read()\n\n\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\n\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  debug('readableAddChunk', chunk);\n  var state = stream._readableState;\n\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n\n    if (er) {\n      stream.emit('error', er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n\n      if (addToFront) {\n        if (state.endEmitted) stream.emit('error', new ERR_STREAM_UNSHIFT_AFTER_END_EVENT());else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        stream.emit('error', new ERR_STREAM_PUSH_AFTER_EOF());\n      } else if (state.destroyed) {\n        return false;\n      } else {\n        state.reading = false;\n\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n      maybeReadMore(stream, state);\n    }\n  } // We can push more data if we are below the highWaterMark.\n  // Also, if we have no data yet, we can stand some more bytes.\n  // This is to work around cases where hwm=0, such as the repl.\n\n\n  return !state.ended && (state.length < state.highWaterMark || state.length === 0);\n}\n\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    state.awaitDrain = 0;\n    stream.emit('data', chunk);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n    if (state.needReadable) emitReadable(stream);\n  }\n\n  maybeReadMore(stream, state);\n}\n\nfunction chunkInvalid(state, chunk) {\n  var er;\n\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array'], chunk);\n  }\n\n  return er;\n}\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n}; // backwards compatibility.\n\n\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc); // if setEncoding(null), decoder.encoding equals utf8\n\n  this._readableState.encoding = this._readableState.decoder.encoding;\n  return this;\n}; // Don't raise the hwm > 8MB\n\n\nvar MAX_HWM = 0x800000;\n\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n\n  return n;\n} // This function is designed to be inlinable, so please take care when making\n// changes to the function body.\n\n\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  } // If we're asking for more than the current hwm, then raise the hwm.\n\n\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n; // Don't have enough\n\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n\n  return state.length;\n} // you can override either this method, or the async _read(n) below.\n\n\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n  if (n !== 0) state.emittedReadable = false; // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n\n  if (n === 0 && state.needReadable && ((state.highWaterMark !== 0 ? state.length >= state.highWaterMark : state.length > 0) || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state); // if we've ended, and we're now clear, then finish it up.\n\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  } // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n  // if we need a readable event, then we need to do some reading.\n\n\n  var doRead = state.needReadable;\n  debug('need readable', doRead); // if we currently have less than the highWaterMark, then also read some\n\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  } // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n\n\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true; // if the length is currently zero, then we *need* a readable event.\n\n    if (state.length === 0) state.needReadable = true; // call internal read method\n\n    this._read(state.highWaterMark);\n\n    state.sync = false; // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = true;\n    n = 0;\n  } else {\n    state.length -= n;\n    state.awaitDrain = 0;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true; // If we tried to read() past the EOF, then emit end on the next tick.\n\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n  return ret;\n};\n\nfunction onEofChunk(stream, state) {\n  if (state.ended) return;\n\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n\n  state.ended = true;\n\n  if (state.sync) {\n    // if we are sync, wait until next tick to emit the data.\n    // Otherwise we risk emitting data in the flow()\n    // the readable code triggers during a read() call\n    emitReadable(stream);\n  } else {\n    // emit 'readable' now to make sure it gets picked up.\n    state.needReadable = false;\n\n    if (!state.emittedReadable) {\n      state.emittedReadable = true;\n      emitReadable_(stream);\n    }\n  }\n} // Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\n\n\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    process.nextTick(emitReadable_, stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  var state = stream._readableState;\n  debug('emitReadable_', state.destroyed, state.length, state.ended);\n\n  if (!state.destroyed && (state.length || state.ended)) {\n    stream.emit('readable');\n  } // The stream needs another readable event if\n  // 1. It is not flowing, as the flow mechanism will take\n  //    care of it.\n  // 2. It is not ended.\n  // 3. It is below the highWaterMark, so we can schedule\n  //    another readable later.\n\n\n  state.needReadable = !state.flowing && !state.ended && state.length <= state.highWaterMark;\n  flow(stream);\n} // at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\n\n\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    process.nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  // Attempt to read more data if we should.\n  //\n  // The conditions for reading more data are (one of):\n  // - Not enough data buffered (state.length < state.highWaterMark). The loop\n  //   is responsible for filling the buffer with enough data if such data\n  //   is available. If highWaterMark is 0 and we are not in the flowing mode\n  //   we should _not_ attempt to buffer any extra data. We'll get more data\n  //   when the stream consumer calls read() instead.\n  // - No data in the buffer, and the stream is in flowing mode. In this mode\n  //   the loop below is responsible for ensuring read() is called. Failing to\n  //   call read here would abort the flow and there's no other mechanism for\n  //   continuing the flow if the stream consumer has just subscribed to the\n  //   'data' event.\n  //\n  // In addition to the above conditions to keep reading data, the following\n  // conditions prevent the data from being read:\n  // - The stream has ended (state.ended).\n  // - There is already a pending 'read' operation (state.reading). This is a\n  //   case where the the stream has called the implementation defined _read()\n  //   method, but they are processing the call asynchronously and have _not_\n  //   called push() with new data. In this case we skip performing more\n  //   read()s. The execution ends in this method again after the _read() ends\n  //   up calling push() with more data.\n  while (!state.reading && !state.ended && (state.length < state.highWaterMark || state.flowing && state.length === 0)) {\n    var len = state.length;\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length) // didn't get any data, stop spinning.\n      break;\n  }\n\n  state.readingMore = false;\n} // abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\n\n\nReadable.prototype._read = function (n) {\n  this.emit('error', new ERR_METHOD_NOT_IMPLEMENTED('_read()'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) process.nextTick(endFn);else src.once('end', endFn);\n  dest.on('unpipe', onunpipe);\n\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  } // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n\n\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n  var cleanedUp = false;\n\n  function cleanup() {\n    debug('cleanup'); // cleanup event handlers once the pipe is broken\n\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n    cleanedUp = true; // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  src.on('data', ondata);\n\n  function ondata(chunk) {\n    debug('ondata');\n    var ret = dest.write(chunk);\n    debug('dest.write', ret);\n\n    if (ret === false) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', state.awaitDrain);\n        state.awaitDrain++;\n      }\n\n      src.pause();\n    }\n  } // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n\n\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) dest.emit('error', er);\n  } // Make sure our error handler is attached before userland ones.\n\n\n  prependListener(dest, 'error', onerror); // Both close and finish should trigger unpipe, but only once.\n\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n\n  dest.once('close', onclose);\n\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  } // tell the dest that it's being piped to\n\n\n  dest.emit('pipe', src); // start the flow if it hasn't been started already.\n\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function pipeOnDrainFunctionResult() {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = {\n    hasUnpiped: false\n  }; // if we're not piping anywhere, then do nothing.\n\n  if (state.pipesCount === 0) return this; // just one destination.  most common case.\n\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n    if (!dest) dest = state.pipes; // got a match.\n\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  } // slow case. multiple pipe destinations.\n\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++) {\n      dests[i].emit('unpipe', this, {\n        hasUnpiped: false\n      });\n    }\n\n    return this;\n  } // try to find the right one.\n\n\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n  dest.emit('unpipe', this, unpipeInfo);\n  return this;\n}; // set up data events if they are asked for\n// Ensure readable listeners eventually get something\n\n\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n  var state = this._readableState;\n\n  if (ev === 'data') {\n    // update readableListening so that resume() may be a no-op\n    // a few lines down. This is needed to support once('readable').\n    state.readableListening = this.listenerCount('readable') > 0; // Try start flowing on next tick if stream isn't explicitly paused\n\n    if (state.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.flowing = false;\n      state.emittedReadable = false;\n      debug('on readable', state.length, state.reading);\n\n      if (state.length) {\n        emitReadable(this);\n      } else if (!state.reading) {\n        process.nextTick(nReadingNextTick, this);\n      }\n    }\n  }\n\n  return res;\n};\n\nReadable.prototype.addListener = Readable.prototype.on;\n\nReadable.prototype.removeListener = function (ev, fn) {\n  var res = Stream.prototype.removeListener.call(this, ev, fn);\n\n  if (ev === 'readable') {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n\n  return res;\n};\n\nReadable.prototype.removeAllListeners = function (ev) {\n  var res = Stream.prototype.removeAllListeners.apply(this, arguments);\n\n  if (ev === 'readable' || ev === undefined) {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n\n  return res;\n};\n\nfunction updateReadableListening(self) {\n  var state = self._readableState;\n  state.readableListening = self.listenerCount('readable') > 0;\n\n  if (state.resumeScheduled && !state.paused) {\n    // flowing needs to be set to true now, otherwise\n    // the upcoming resume will not flow.\n    state.flowing = true; // crude way to check if we should resume\n  } else if (self.listenerCount('data') > 0) {\n    self.resume();\n  }\n}\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n} // pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\n\n\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n\n  if (!state.flowing) {\n    debug('resume'); // we flow only if there is no one listening\n    // for readable, but we still have to call\n    // resume()\n\n    state.flowing = !state.readableListening;\n    resume(this, state);\n  }\n\n  state.paused = false;\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    process.nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  debug('resume', state.reading);\n\n  if (!state.reading) {\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n\n  if (this._readableState.flowing !== false) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n\n  this._readableState.paused = true;\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n\n  while (state.flowing && stream.read() !== null) {\n    ;\n  }\n} // wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\n\n\nReadable.prototype.wrap = function (stream) {\n  var _this = this;\n\n  var state = this._readableState;\n  var paused = false;\n  stream.on('end', function () {\n    debug('wrapped end');\n\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) _this.push(chunk);\n    }\n\n    _this.push(null);\n  });\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk); // don't skip over falsy values in objectMode\n\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = _this.push(chunk);\n\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  }); // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function methodWrap(method) {\n        return function methodWrapReturnFunction() {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  } // proxy certain important events.\n\n\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  } // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n\n\n  this._read = function (n) {\n    debug('wrapped _read', n);\n\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return this;\n};\n\nif (typeof Symbol === 'function') {\n  Readable.prototype[Symbol.asyncIterator] = function () {\n    emitExperimentalWarning('Readable[Symbol.asyncIterator]');\n\n    if (createReadableStreamAsyncIterator === undefined) {\n      createReadableStreamAsyncIterator = require('./internal/streams/async_iterator');\n    }\n\n    return createReadableStreamAsyncIterator(this);\n  };\n}\n\nObject.defineProperty(Readable.prototype, 'readableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.highWaterMark;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState && this._readableState.buffer;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableFlowing', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.flowing;\n  },\n  set: function set(state) {\n    if (this._readableState) {\n      this._readableState.flowing = state;\n    }\n  }\n}); // exposed for testing purposes only.\n\nReadable._fromList = fromList;\nObject.defineProperty(Readable.prototype, 'readableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.length;\n  }\n}); // Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\n\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.first();else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = state.buffer.consume(n, state.decoder);\n  }\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n  debug('endReadable', state.endEmitted);\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    process.nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  debug('endReadableNT', state.endEmitted, state.length); // Check that we didn't get one last unshift.\n\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n  }\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n\n  return -1;\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n'use strict';\n\nmodule.exports = Transform;\n\nvar _require$codes = require('../errors').codes,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n    ERR_TRANSFORM_ALREADY_TRANSFORMING = _require$codes.ERR_TRANSFORM_ALREADY_TRANSFORMING,\n    ERR_TRANSFORM_WITH_LENGTH_0 = _require$codes.ERR_TRANSFORM_WITH_LENGTH_0;\n\nvar Duplex = require('./_stream_duplex');\n\nrequire('inherits')(Transform, Duplex);\n\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n  var cb = ts.writecb;\n\n  if (cb === null) {\n    return this.emit('error', new ERR_MULTIPLE_CALLBACK());\n  }\n\n  ts.writechunk = null;\n  ts.writecb = null;\n  if (data != null) // single equals check for both `null` and `undefined`\n    this.push(data);\n  cb(er);\n  var rs = this._readableState;\n  rs.reading = false;\n\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n  Duplex.call(this, options);\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  }; // start out asking for a readable event once data is transformed.\n\n  this._readableState.needReadable = true; // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  } // When the writable side finishes, then flush out anything remaining.\n\n\n  this.on('prefinish', prefinish);\n}\n\nfunction prefinish() {\n  var _this = this;\n\n  if (typeof this._flush === 'function' && !this._readableState.destroyed) {\n    this._flush(function (er, data) {\n      done(_this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n}; // This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\n\n\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_transform()'));\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n}; // Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\n\n\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && !ts.transforming) {\n    ts.transforming = true;\n\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nTransform.prototype._destroy = function (err, cb) {\n  Duplex.prototype._destroy.call(this, err, function (err2) {\n    cb(err2);\n  });\n};\n\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n  if (data != null) // single equals check for both `null` and `undefined`\n    stream.push(data); // TODO(BridgeAR): Write a test for these two error cases\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n\n  if (stream._writableState.length) throw new ERR_TRANSFORM_WITH_LENGTH_0();\n  if (stream._transformState.transforming) throw new ERR_TRANSFORM_ALREADY_TRANSFORMING();\n  return stream.push(null);\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n'use strict';\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\nrequire('inherits')(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};","// Ported from https://github.com/mafintosh/pump with\n// permission from the author, Mathias Buus (@mafintosh).\n'use strict';\n\nvar eos;\n\nfunction once(callback) {\n  var called = false;\n  return function () {\n    if (called) return;\n    called = true;\n    callback.apply(void 0, arguments);\n  };\n}\n\nvar _require$codes = require('../../../errors').codes,\n    ERR_MISSING_ARGS = _require$codes.ERR_MISSING_ARGS,\n    ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED;\n\nfunction noop(err) {\n  // Rethrow the error if it exists to avoid swallowing it\n  if (err) throw err;\n}\n\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\n\nfunction destroyer(stream, reading, writing, callback) {\n  callback = once(callback);\n  var closed = false;\n  stream.on('close', function () {\n    closed = true;\n  });\n  if (eos === undefined) eos = require('./end-of-stream');\n  eos(stream, {\n    readable: reading,\n    writable: writing\n  }, function (err) {\n    if (err) return callback(err);\n    closed = true;\n    callback();\n  });\n  var destroyed = false;\n  return function (err) {\n    if (closed) return;\n    if (destroyed) return;\n    destroyed = true; // request.destroy just do .end - .abort is what we want\n\n    if (isRequest(stream)) return stream.abort();\n    if (typeof stream.destroy === 'function') return stream.destroy();\n    callback(err || new ERR_STREAM_DESTROYED('pipe'));\n  };\n}\n\nfunction call(fn) {\n  fn();\n}\n\nfunction pipe(from, to) {\n  return from.pipe(to);\n}\n\nfunction popCallback(streams) {\n  if (!streams.length) return noop;\n  if (typeof streams[streams.length - 1] !== 'function') return noop;\n  return streams.pop();\n}\n\nfunction pipeline() {\n  for (var _len = arguments.length, streams = new Array(_len), _key = 0; _key < _len; _key++) {\n    streams[_key] = arguments[_key];\n  }\n\n  var callback = popCallback(streams);\n  if (Array.isArray(streams[0])) streams = streams[0];\n\n  if (streams.length < 2) {\n    throw new ERR_MISSING_ARGS('streams');\n  }\n\n  var error;\n  var destroys = streams.map(function (stream, i) {\n    var reading = i < streams.length - 1;\n    var writing = i > 0;\n    return destroyer(stream, reading, writing, function (err) {\n      if (!error) error = err;\n      if (err) destroys.forEach(call);\n      if (reading) return;\n      destroys.forEach(call);\n      callback(error);\n    });\n  });\n  return streams.reduce(pipe);\n}\n\nmodule.exports = pipeline;","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = exports;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\nexports.finished = require('./lib/internal/streams/end-of-stream.js');\nexports.pipeline = require('./lib/internal/streams/pipeline.js');\n","var Transform = require('readable-stream').Transform\n  , inherits  = require('util').inherits\n\nfunction DestroyableTransform(opts) {\n  Transform.call(this, opts)\n  this._destroyed = false\n}\n\ninherits(DestroyableTransform, Transform)\n\nDestroyableTransform.prototype.destroy = function(err) {\n  if (this._destroyed) return\n  this._destroyed = true\n  \n  var self = this\n  process.nextTick(function() {\n    if (err)\n      self.emit('error', err)\n    self.emit('close')\n  })\n}\n\n// a noop _transform function\nfunction noop (chunk, enc, callback) {\n  callback(null, chunk)\n}\n\n\n// create a new export function, used by both the main export and\n// the .ctor export, contains common logic for dealing with arguments\nfunction through2 (construct) {\n  return function (options, transform, flush) {\n    if (typeof options == 'function') {\n      flush     = transform\n      transform = options\n      options   = {}\n    }\n\n    if (typeof transform != 'function')\n      transform = noop\n\n    if (typeof flush != 'function')\n      flush = null\n\n    return construct(options, transform, flush)\n  }\n}\n\n\n// main export, just make me a transform stream!\nmodule.exports = through2(function (options, transform, flush) {\n  var t2 = new DestroyableTransform(options)\n\n  t2._transform = transform\n\n  if (flush)\n    t2._flush = flush\n\n  return t2\n})\n\n\n// make me a reusable prototype that I can `new`, or implicitly `new`\n// with a constructor call\nmodule.exports.ctor = through2(function (options, transform, flush) {\n  function Through2 (override) {\n    if (!(this instanceof Through2))\n      return new Through2(override)\n\n    this.options = Object.assign({}, options, override)\n\n    DestroyableTransform.call(this, this.options)\n  }\n\n  inherits(Through2, DestroyableTransform)\n\n  Through2.prototype._transform = transform\n\n  if (flush)\n    Through2.prototype._flush = flush\n\n  return Through2\n})\n\n\nmodule.exports.obj = through2(function (options, transform, flush) {\n  var t2 = new DestroyableTransform(Object.assign({ objectMode: true, highWaterMark: 16 }, options))\n\n  t2._transform = transform\n\n  if (flush)\n    t2._flush = flush\n\n  return t2\n})\n","/**\n * Copyright (c) 2013 Petka Antonov\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:</p>\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\"use strict\";\nfunction Deque(capacity) {\n    this._capacity = getCapacity(capacity);\n    this._length = 0;\n    this._front = 0;\n    if (isArray(capacity)) {\n        var len = capacity.length;\n        for (var i = 0; i < len; ++i) {\n            this[i] = capacity[i];\n        }\n        this._length = len;\n    }\n}\n\nDeque.prototype.toArray = function Deque$toArray() {\n    var len = this._length;\n    var ret = new Array(len);\n    var front = this._front;\n    var capacity = this._capacity;\n    for (var j = 0; j < len; ++j) {\n        ret[j] = this[(front + j) & (capacity - 1)];\n    }\n    return ret;\n};\n\nDeque.prototype.push = function Deque$push(item) {\n    var argsLength = arguments.length;\n    var length = this._length;\n    if (argsLength > 1) {\n        var capacity = this._capacity;\n        if (length + argsLength > capacity) {\n            for (var i = 0; i < argsLength; ++i) {\n                this._checkCapacity(length + 1);\n                var j = (this._front + length) & (this._capacity - 1);\n                this[j] = arguments[i];\n                length++;\n                this._length = length;\n            }\n            return length;\n        }\n        else {\n            var j = this._front;\n            for (var i = 0; i < argsLength; ++i) {\n                this[(j + length) & (capacity - 1)] = arguments[i];\n                j++;\n            }\n            this._length = length + argsLength;\n            return length + argsLength;\n        }\n\n    }\n\n    if (argsLength === 0) return length;\n\n    this._checkCapacity(length + 1);\n    var i = (this._front + length) & (this._capacity - 1);\n    this[i] = item;\n    this._length = length + 1;\n    return length + 1;\n};\n\nDeque.prototype.pop = function Deque$pop() {\n    var length = this._length;\n    if (length === 0) {\n        return void 0;\n    }\n    var i = (this._front + length - 1) & (this._capacity - 1);\n    var ret = this[i];\n    this[i] = void 0;\n    this._length = length - 1;\n    return ret;\n};\n\nDeque.prototype.shift = function Deque$shift() {\n    var length = this._length;\n    if (length === 0) {\n        return void 0;\n    }\n    var front = this._front;\n    var ret = this[front];\n    this[front] = void 0;\n    this._front = (front + 1) & (this._capacity - 1);\n    this._length = length - 1;\n    return ret;\n};\n\nDeque.prototype.unshift = function Deque$unshift(item) {\n    var length = this._length;\n    var argsLength = arguments.length;\n\n\n    if (argsLength > 1) {\n        var capacity = this._capacity;\n        if (length + argsLength > capacity) {\n            for (var i = argsLength - 1; i >= 0; i--) {\n                this._checkCapacity(length + 1);\n                var capacity = this._capacity;\n                var j = (((( this._front - 1 ) &\n                    ( capacity - 1) ) ^ capacity ) - capacity );\n                this[j] = arguments[i];\n                length++;\n                this._length = length;\n                this._front = j;\n            }\n            return length;\n        }\n        else {\n            var front = this._front;\n            for (var i = argsLength - 1; i >= 0; i--) {\n                var j = (((( front - 1 ) &\n                    ( capacity - 1) ) ^ capacity ) - capacity );\n                this[j] = arguments[i];\n                front = j;\n            }\n            this._front = front;\n            this._length = length + argsLength;\n            return length + argsLength;\n        }\n    }\n\n    if (argsLength === 0) return length;\n\n    this._checkCapacity(length + 1);\n    var capacity = this._capacity;\n    var i = (((( this._front - 1 ) &\n        ( capacity - 1) ) ^ capacity ) - capacity );\n    this[i] = item;\n    this._length = length + 1;\n    this._front = i;\n    return length + 1;\n};\n\nDeque.prototype.peekBack = function Deque$peekBack() {\n    var length = this._length;\n    if (length === 0) {\n        return void 0;\n    }\n    var index = (this._front + length - 1) & (this._capacity - 1);\n    return this[index];\n};\n\nDeque.prototype.peekFront = function Deque$peekFront() {\n    if (this._length === 0) {\n        return void 0;\n    }\n    return this[this._front];\n};\n\nDeque.prototype.get = function Deque$get(index) {\n    var i = index;\n    if ((i !== (i | 0))) {\n        return void 0;\n    }\n    var len = this._length;\n    if (i < 0) {\n        i = i + len;\n    }\n    if (i < 0 || i >= len) {\n        return void 0;\n    }\n    return this[(this._front + i) & (this._capacity - 1)];\n};\n\nDeque.prototype.isEmpty = function Deque$isEmpty() {\n    return this._length === 0;\n};\n\nDeque.prototype.clear = function Deque$clear() {\n    var len = this._length;\n    var front = this._front;\n    var capacity = this._capacity;\n    for (var j = 0; j < len; ++j) {\n        this[(front + j) & (capacity - 1)] = void 0;\n    }\n    this._length = 0;\n    this._front = 0;\n};\n\nDeque.prototype.toString = function Deque$toString() {\n    return this.toArray().toString();\n};\n\nDeque.prototype.valueOf = Deque.prototype.toString;\nDeque.prototype.removeFront = Deque.prototype.shift;\nDeque.prototype.removeBack = Deque.prototype.pop;\nDeque.prototype.insertFront = Deque.prototype.unshift;\nDeque.prototype.insertBack = Deque.prototype.push;\nDeque.prototype.enqueue = Deque.prototype.push;\nDeque.prototype.dequeue = Deque.prototype.shift;\nDeque.prototype.toJSON = Deque.prototype.toArray;\n\nObject.defineProperty(Deque.prototype, \"length\", {\n    get: function() {\n        return this._length;\n    },\n    set: function() {\n        throw new RangeError(\"\");\n    }\n});\n\nDeque.prototype._checkCapacity = function Deque$_checkCapacity(size) {\n    if (this._capacity < size) {\n        this._resizeTo(getCapacity(this._capacity * 1.5 + 16));\n    }\n};\n\nDeque.prototype._resizeTo = function Deque$_resizeTo(capacity) {\n    var oldCapacity = this._capacity;\n    this._capacity = capacity;\n    var front = this._front;\n    var length = this._length;\n    if (front + length > oldCapacity) {\n        var moveItemsCount = (front + length) & (oldCapacity - 1);\n        arrayMove(this, 0, this, oldCapacity, moveItemsCount);\n    }\n};\n\n\nvar isArray = Array.isArray;\n\nfunction arrayMove(src, srcIndex, dst, dstIndex, len) {\n    for (var j = 0; j < len; ++j) {\n        dst[j + dstIndex] = src[j + srcIndex];\n        src[j + srcIndex] = void 0;\n    }\n}\n\nfunction pow2AtLeast(n) {\n    n = n >>> 0;\n    n = n - 1;\n    n = n | (n >> 1);\n    n = n | (n >> 2);\n    n = n | (n >> 4);\n    n = n | (n >> 8);\n    n = n | (n >> 16);\n    return n + 1;\n}\n\nfunction getCapacity(capacity) {\n    if (typeof capacity !== \"number\") {\n        if (isArray(capacity)) {\n            capacity = capacity.length;\n        }\n        else {\n            return 16;\n        }\n    }\n    return pow2AtLeast(\n        Math.min(\n            Math.max(16, capacity), 1073741824)\n    );\n}\n\nmodule.exports = Deque;\n","var toString = Object.prototype.toString\n\nvar isModern = (\n  typeof Buffer.alloc === 'function' &&\n  typeof Buffer.allocUnsafe === 'function' &&\n  typeof Buffer.from === 'function'\n)\n\nfunction isArrayBuffer (input) {\n  return toString.call(input).slice(8, -1) === 'ArrayBuffer'\n}\n\nfunction fromArrayBuffer (obj, byteOffset, length) {\n  byteOffset >>>= 0\n\n  var maxLength = obj.byteLength - byteOffset\n\n  if (maxLength < 0) {\n    throw new RangeError(\"'offset' is out of bounds\")\n  }\n\n  if (length === undefined) {\n    length = maxLength\n  } else {\n    length >>>= 0\n\n    if (length > maxLength) {\n      throw new RangeError(\"'length' is out of bounds\")\n    }\n  }\n\n  return isModern\n    ? Buffer.from(obj.slice(byteOffset, byteOffset + length))\n    : new Buffer(new Uint8Array(obj.slice(byteOffset, byteOffset + length)))\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  return isModern\n    ? Buffer.from(string, encoding)\n    : new Buffer(string, encoding)\n}\n\nfunction bufferFrom (value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (isArrayBuffer(value)) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  return isModern\n    ? Buffer.from(value)\n    : new Buffer(value)\n}\n\nmodule.exports = bufferFrom\n","import levelup from 'levelup';\nimport sublevel from 'sublevel-pouchdb';\nimport { obj } from 'through2';\nimport getArguments from 'argsarray';\nimport Deque from 'double-ended-queue';\nimport bufferFrom from 'buffer-from';\nimport { allDocsKeysQuery, isDeleted, isLocalId, parseDoc, processDocs } from 'pouchdb-adapter-utils';\nimport { winningRev, traverseRevTree, compactTree, collectConflicts, latest } from 'pouchdb-merge';\nimport { safeJsonParse, safeJsonStringify } from 'pouchdb-json';\nimport { binaryMd5 } from 'pouchdb-md5';\nimport { blob, readAsBinaryString, atob, binaryStringToBlobOrBuffer } from 'pouchdb-binary-utils';\nimport { Map, Set } from 'pouchdb-collections';\nimport { nextTick, clone, changesHandler, filterChange, functionName, uuid } from 'pouchdb-utils';\nimport { MISSING_DOC, REV_CONFLICT, NOT_OPEN, BAD_ARG, MISSING_STUB, createError } from 'pouchdb-errors';\n\nfunction readAsBlobOrBuffer(storedObject, type) {\n  // In the browser, we've stored a binary string. This now comes back as a\n  // browserified Node-style Buffer (implemented as a typed array),\n  // but we want a Blob instead.\n  var byteArray = new Uint8Array(storedObject);\n  return blob([byteArray], {type: type});\n}\n\n// In the browser, we store a binary string\nfunction prepareAttachmentForStorage(attData, cb) {\n  readAsBinaryString(attData, cb);\n}\n\nfunction createEmptyBlobOrBuffer(type) {\n  return blob([''], {type: type});\n}\n\nfunction getCacheFor(transaction, store) {\n  var prefix = store.prefix()[0];\n  var cache = transaction._cache;\n  var subCache = cache.get(prefix);\n  if (!subCache) {\n    subCache = new Map();\n    cache.set(prefix, subCache);\n  }\n  return subCache;\n}\n\nfunction LevelTransaction() {\n  this._batch = [];\n  this._cache = new Map();\n}\n\nLevelTransaction.prototype.get = function (store, key, callback) {\n  var cache = getCacheFor(this, store);\n  var exists = cache.get(key);\n  if (exists) {\n    return nextTick(function () {\n      callback(null, exists);\n    });\n  } else if (exists === null) { // deleted marker\n    /* istanbul ignore next */\n    return nextTick(function () {\n      callback({name: 'NotFoundError'});\n    });\n  }\n  store.get(key, function (err, res) {\n    if (err) {\n      /* istanbul ignore else */\n      if (err.name === 'NotFoundError') {\n        cache.set(key, null);\n      }\n      return callback(err);\n    }\n    cache.set(key, res);\n    callback(null, res);\n  });\n};\n\nLevelTransaction.prototype.batch = function (batch) {\n  for (var i = 0, len = batch.length; i < len; i++) {\n    var operation = batch[i];\n\n    var cache = getCacheFor(this, operation.prefix);\n\n    if (operation.type === 'put') {\n      cache.set(operation.key, operation.value);\n    } else {\n      cache.set(operation.key, null);\n    }\n  }\n  this._batch = this._batch.concat(batch);\n};\n\nLevelTransaction.prototype.execute = function (db, callback) {\n\n  var keys = new Set();\n  var uniqBatches = [];\n\n  // remove duplicates; last one wins\n  for (var i = this._batch.length - 1; i >= 0; i--) {\n    var operation = this._batch[i];\n    var lookupKey = operation.prefix.prefix()[0] + '\\xff' + operation.key;\n    if (keys.has(lookupKey)) {\n      continue;\n    }\n    keys.add(lookupKey);\n    uniqBatches.push(operation);\n  }\n\n  db.batch(uniqBatches, callback);\n};\n\nvar DOC_STORE = 'document-store';\nvar BY_SEQ_STORE = 'by-sequence';\nvar ATTACHMENT_STORE = 'attach-store';\nvar BINARY_STORE = 'attach-binary-store';\nvar LOCAL_STORE = 'local-store';\nvar META_STORE = 'meta-store';\n\n// leveldb barks if we try to open a db multiple times\n// so we cache opened connections here for initstore()\nvar dbStores = new Map();\n\n// store the value of update_seq in the by-sequence store the key name will\n// never conflict, since the keys in the by-sequence store are integers\nvar UPDATE_SEQ_KEY = '_local_last_update_seq';\nvar DOC_COUNT_KEY = '_local_doc_count';\nvar UUID_KEY = '_local_uuid';\n\nvar MD5_PREFIX = 'md5-';\n\nvar safeJsonEncoding = {\n  encode: safeJsonStringify,\n  decode: safeJsonParse,\n  buffer: false,\n  type: 'cheap-json'\n};\n\nvar levelChanges = new changesHandler();\n\n// winningRev and deleted are performance-killers, but\n// in newer versions of PouchDB, they are cached on the metadata\nfunction getWinningRev(metadata) {\n  return 'winningRev' in metadata ?\n    metadata.winningRev : winningRev(metadata);\n}\n\nfunction getIsDeleted(metadata, winningRev$$1) {\n  return 'deleted' in metadata ?\n    metadata.deleted : isDeleted(metadata, winningRev$$1);\n}\n\nfunction fetchAttachment(att, stores, opts) {\n  var type = att.content_type;\n  return new Promise(function (resolve, reject) {\n    stores.binaryStore.get(att.digest, function (err, buffer) {\n      var data;\n      if (err) {\n        /* istanbul ignore if */\n        if (err.name !== 'NotFoundError') {\n          return reject(err);\n        } else {\n          // empty\n          if (!opts.binary) {\n            data = '';\n          } else {\n            data = binaryStringToBlobOrBuffer('', type);\n          }\n        }\n      } else { // non-empty\n        if (opts.binary) {\n          data = readAsBlobOrBuffer(buffer, type);\n        } else {\n          data = buffer.toString('base64');\n        }\n      }\n      delete att.stub;\n      delete att.length;\n      att.data = data;\n      resolve();\n    });\n  });\n}\n\nfunction fetchAttachments(results, stores, opts) {\n  var atts = [];\n  results.forEach(function (row) {\n    if (!(row.doc && row.doc._attachments)) {\n      return;\n    }\n    var attNames = Object.keys(row.doc._attachments);\n    attNames.forEach(function (attName) {\n      var att = row.doc._attachments[attName];\n      if (!('data' in att)) {\n        atts.push(att);\n      }\n    });\n  });\n\n  return Promise.all(atts.map(function (att) {\n    return fetchAttachment(att, stores, opts);\n  }));\n}\n\nfunction LevelPouch(opts, callback) {\n  opts = clone(opts);\n  var api = this;\n  var instanceId;\n  var stores = {};\n  var revLimit = opts.revs_limit;\n  var db;\n  var name = opts.name;\n  // TODO: this is undocumented and unused probably\n  /* istanbul ignore else */\n  if (typeof opts.createIfMissing === 'undefined') {\n    opts.createIfMissing = true;\n  }\n\n  var leveldown = opts.db;\n\n  var dbStore;\n  var leveldownName = functionName(leveldown);\n  if (dbStores.has(leveldownName)) {\n    dbStore = dbStores.get(leveldownName);\n  } else {\n    dbStore = new Map();\n    dbStores.set(leveldownName, dbStore);\n  }\n  if (dbStore.has(name)) {\n    db = dbStore.get(name);\n    afterDBCreated();\n  } else {\n    dbStore.set(name, sublevel(levelup(leveldown(name), opts, function (err) {\n      /* istanbul ignore if */\n      if (err) {\n        dbStore.delete(name);\n        return callback(err);\n      }\n      db = dbStore.get(name);\n      db._docCount  = -1;\n      db._queue = new Deque();\n      /* istanbul ignore else */\n      if (typeof opts.migrate === 'object') { // migration for leveldown\n        opts.migrate.doMigrationOne(name, db, afterDBCreated);\n      } else {\n        afterDBCreated();\n      }\n    })));\n  }\n\n  function afterDBCreated() {\n    stores.docStore = db.sublevel(DOC_STORE, {valueEncoding: safeJsonEncoding});\n    stores.bySeqStore = db.sublevel(BY_SEQ_STORE, {valueEncoding: 'json'});\n    stores.attachmentStore =\n      db.sublevel(ATTACHMENT_STORE, {valueEncoding: 'json'});\n    stores.binaryStore = db.sublevel(BINARY_STORE, {valueEncoding: 'binary'});\n    stores.localStore = db.sublevel(LOCAL_STORE, {valueEncoding: 'json'});\n    stores.metaStore = db.sublevel(META_STORE, {valueEncoding: 'json'});\n    /* istanbul ignore else */\n    if (typeof opts.migrate === 'object') { // migration for leveldown\n      opts.migrate.doMigrationTwo(db, stores, afterLastMigration);\n    } else {\n      afterLastMigration();\n    }\n  }\n\n  function afterLastMigration() {\n    stores.metaStore.get(UPDATE_SEQ_KEY, function (err, value) {\n      if (typeof db._updateSeq === 'undefined') {\n        db._updateSeq = value || 0;\n      }\n      stores.metaStore.get(DOC_COUNT_KEY, function (err, value) {\n        db._docCount = !err ? value : 0;\n        stores.metaStore.get(UUID_KEY, function (err, value) {\n          instanceId = !err ? value : uuid();\n          stores.metaStore.put(UUID_KEY, instanceId, function () {\n            nextTick(function () {\n              callback(null, api);\n            });\n          });\n        });\n      });\n    });\n  }\n\n  function countDocs(callback) {\n    /* istanbul ignore if */\n    if (db.isClosed()) {\n      return callback(new Error('database is closed'));\n    }\n    return callback(null, db._docCount); // use cached value\n  }\n\n  api._remote = false;\n  /* istanbul ignore next */\n  api.type = function () {\n    return 'leveldb';\n  };\n\n  api._id = function (callback) {\n    callback(null, instanceId);\n  };\n\n  api._info = function (callback) {\n    var res = {\n      doc_count: db._docCount,\n      update_seq: db._updateSeq,\n      backend_adapter: functionName(leveldown)\n    };\n    return nextTick(function () {\n      callback(null, res);\n    });\n  };\n\n  function tryCode(fun, args) {\n    try {\n      fun.apply(null, args);\n    } catch (err) {\n      args[args.length - 1](err);\n    }\n  }\n\n  function executeNext() {\n    var firstTask = db._queue.peekFront();\n\n    if (firstTask.type === 'read') {\n      runReadOperation(firstTask);\n    } else { // write, only do one at a time\n      runWriteOperation(firstTask);\n    }\n  }\n\n  function runReadOperation(firstTask) {\n    // do multiple reads at once simultaneously, because it's safe\n\n    var readTasks = [firstTask];\n    var i = 1;\n    var nextTask = db._queue.get(i);\n    while (typeof nextTask !== 'undefined' && nextTask.type === 'read') {\n      readTasks.push(nextTask);\n      i++;\n      nextTask = db._queue.get(i);\n    }\n\n    var numDone = 0;\n\n    readTasks.forEach(function (readTask) {\n      var args = readTask.args;\n      var callback = args[args.length - 1];\n      args[args.length - 1] = getArguments(function (cbArgs) {\n        callback.apply(null, cbArgs);\n        if (++numDone === readTasks.length) {\n          nextTick(function () {\n            // all read tasks have finished\n            readTasks.forEach(function () {\n              db._queue.shift();\n            });\n            if (db._queue.length) {\n              executeNext();\n            }\n          });\n        }\n      });\n      tryCode(readTask.fun, args);\n    });\n  }\n\n  function runWriteOperation(firstTask) {\n    var args = firstTask.args;\n    var callback = args[args.length - 1];\n    args[args.length - 1] = getArguments(function (cbArgs) {\n      callback.apply(null, cbArgs);\n      nextTick(function () {\n        db._queue.shift();\n        if (db._queue.length) {\n          executeNext();\n        }\n      });\n    });\n    tryCode(firstTask.fun, args);\n  }\n\n  // all read/write operations to the database are done in a queue,\n  // similar to how websql/idb works. this avoids problems such\n  // as e.g. compaction needing to have a lock on the database while\n  // it updates stuff. in the future we can revisit this.\n  function writeLock(fun) {\n    return getArguments(function (args) {\n      db._queue.push({\n        fun: fun,\n        args: args,\n        type: 'write'\n      });\n\n      if (db._queue.length === 1) {\n        nextTick(executeNext);\n      }\n    });\n  }\n\n  // same as the writelock, but multiple can run at once\n  function readLock(fun) {\n    return getArguments(function (args) {\n      db._queue.push({\n        fun: fun,\n        args: args,\n        type: 'read'\n      });\n\n      if (db._queue.length === 1) {\n        nextTick(executeNext);\n      }\n    });\n  }\n\n  function formatSeq(n) {\n    return ('0000000000000000' + n).slice(-16);\n  }\n\n  function parseSeq(s) {\n    return parseInt(s, 10);\n  }\n\n  api._get = readLock(function (id, opts, callback) {\n    opts = clone(opts);\n\n    stores.docStore.get(id, function (err, metadata) {\n\n      if (err || !metadata) {\n        return callback(createError(MISSING_DOC, 'missing'));\n      }\n\n      var rev;\n      if (!opts.rev) {\n        rev = getWinningRev(metadata);\n        var deleted = getIsDeleted(metadata, rev);\n        if (deleted) {\n          return callback(createError(MISSING_DOC, \"deleted\"));\n        }\n      } else {\n        rev = opts.latest ? latest(opts.rev, metadata) : opts.rev;\n      }\n\n      var seq = metadata.rev_map[rev];\n\n      stores.bySeqStore.get(formatSeq(seq), function (err, doc) {\n        if (!doc) {\n          return callback(createError(MISSING_DOC));\n        }\n        /* istanbul ignore if */\n        if ('_id' in doc && doc._id !== metadata.id) {\n          // this failing implies something very wrong\n          return callback(new Error('wrong doc returned'));\n        }\n        doc._id = metadata.id;\n        if ('_rev' in doc) {\n          /* istanbul ignore if */\n          if (doc._rev !== rev) {\n            // this failing implies something very wrong\n            return callback(new Error('wrong doc returned'));\n          }\n        } else {\n          // we didn't always store this\n          doc._rev = rev;\n        }\n        return callback(null, {doc: doc, metadata: metadata});\n      });\n    });\n  });\n\n  // not technically part of the spec, but if putAttachment has its own\n  // method...\n  api._getAttachment = function (docId, attachId, attachment, opts, callback) {\n    var digest = attachment.digest;\n    var type = attachment.content_type;\n\n    stores.binaryStore.get(digest, function (err, attach) {\n      if (err) {\n        /* istanbul ignore if */\n        if (err.name !== 'NotFoundError') {\n          return callback(err);\n        }\n        // Empty attachment\n        return callback(null, opts.binary ? createEmptyBlobOrBuffer(type) : '');\n      }\n\n      if (opts.binary) {\n        callback(null, readAsBlobOrBuffer(attach, type));\n      } else {\n        callback(null, attach.toString('base64'));\n      }\n    });\n  };\n\n  api._bulkDocs = writeLock(function (req, opts, callback) {\n    var newEdits = opts.new_edits;\n    var results = new Array(req.docs.length);\n    var fetchedDocs = new Map();\n    var stemmedRevs = new Map();\n\n    var txn = new LevelTransaction();\n    var docCountDelta = 0;\n    var newUpdateSeq = db._updateSeq;\n\n    // parse the docs and give each a sequence number\n    var userDocs = req.docs;\n    var docInfos = userDocs.map(function (doc) {\n      if (doc._id && isLocalId(doc._id)) {\n        return doc;\n      }\n      var newDoc = parseDoc(doc, newEdits, api.__opts);\n\n      if (newDoc.metadata && !newDoc.metadata.rev_map) {\n        newDoc.metadata.rev_map = {};\n      }\n\n      return newDoc;\n    });\n    var infoErrors = docInfos.filter(function (doc) {\n      return doc.error;\n    });\n\n    if (infoErrors.length) {\n      return callback(infoErrors[0]);\n    }\n\n    // verify any stub attachments as a precondition test\n\n    function verifyAttachment(digest, callback) {\n      txn.get(stores.attachmentStore, digest, function (levelErr) {\n        if (levelErr) {\n          var err = createError(MISSING_STUB,\n                                'unknown stub attachment with digest ' +\n                                digest);\n          callback(err);\n        } else {\n          callback();\n        }\n      });\n    }\n\n    function verifyAttachments(finish) {\n      var digests = [];\n      userDocs.forEach(function (doc) {\n        if (doc && doc._attachments) {\n          Object.keys(doc._attachments).forEach(function (filename) {\n            var att = doc._attachments[filename];\n            if (att.stub) {\n              digests.push(att.digest);\n            }\n          });\n        }\n      });\n      if (!digests.length) {\n        return finish();\n      }\n      var numDone = 0;\n      var err;\n\n      digests.forEach(function (digest) {\n        verifyAttachment(digest, function (attErr) {\n          if (attErr && !err) {\n            err = attErr;\n          }\n\n          if (++numDone === digests.length) {\n            finish(err);\n          }\n        });\n      });\n    }\n\n    function fetchExistingDocs(finish) {\n      var numDone = 0;\n      var overallErr;\n      function checkDone() {\n        if (++numDone === userDocs.length) {\n          return finish(overallErr);\n        }\n      }\n\n      userDocs.forEach(function (doc) {\n        if (doc._id && isLocalId(doc._id)) {\n          // skip local docs\n          return checkDone();\n        }\n        txn.get(stores.docStore, doc._id, function (err, info) {\n          if (err) {\n            /* istanbul ignore if */\n            if (err.name !== 'NotFoundError') {\n              overallErr = err;\n            }\n          } else {\n            fetchedDocs.set(doc._id, info);\n          }\n          checkDone();\n        });\n      });\n    }\n\n    function compact(revsMap, callback) {\n      var promise = Promise.resolve();\n      revsMap.forEach(function (revs, docId) {\n        // TODO: parallelize, for now need to be sequential to\n        // pass orphaned attachment tests\n        promise = promise.then(function () {\n          return new Promise(function (resolve, reject) {\n            api._doCompactionNoLock(docId, revs, {ctx: txn}, function (err) {\n              /* istanbul ignore if */\n              if (err) {\n                return reject(err);\n              }\n              resolve();\n            });\n          });\n        });\n      });\n\n      promise.then(function () {\n        callback();\n      }, callback);\n    }\n\n    function autoCompact(callback) {\n      var revsMap = new Map();\n      fetchedDocs.forEach(function (metadata, docId) {\n        revsMap.set(docId, compactTree(metadata));\n      });\n      compact(revsMap, callback);\n    }\n\n    function finish() {\n      compact(stemmedRevs, function (error) {\n        /* istanbul ignore if */\n        if (error) {\n          complete(error);\n        }\n        if (api.auto_compaction) {\n          return autoCompact(complete);\n        }\n        complete();\n      });\n    }\n\n    function writeDoc(docInfo, winningRev$$1, winningRevIsDeleted, newRevIsDeleted,\n                      isUpdate, delta, resultsIdx, callback2) {\n      docCountDelta += delta;\n\n      var err = null;\n      var recv = 0;\n\n      docInfo.metadata.winningRev = winningRev$$1;\n      docInfo.metadata.deleted = winningRevIsDeleted;\n\n      docInfo.data._id = docInfo.metadata.id;\n      docInfo.data._rev = docInfo.metadata.rev;\n\n      if (newRevIsDeleted) {\n        docInfo.data._deleted = true;\n      }\n\n      if (docInfo.stemmedRevs.length) {\n        stemmedRevs.set(docInfo.metadata.id, docInfo.stemmedRevs);\n      }\n\n      var attachments = docInfo.data._attachments ?\n        Object.keys(docInfo.data._attachments) :\n        [];\n\n      function attachmentSaved(attachmentErr) {\n        recv++;\n        if (!err) {\n          /* istanbul ignore if */\n          if (attachmentErr) {\n            err = attachmentErr;\n            callback2(err);\n          } else if (recv === attachments.length) {\n            finish();\n          }\n        }\n      }\n\n      function onMD5Load(doc, key, data, attachmentSaved) {\n        return function (result) {\n          saveAttachment(doc, MD5_PREFIX + result, key, data, attachmentSaved);\n        };\n      }\n\n      function doMD5(doc, key, attachmentSaved) {\n        return function (data) {\n          binaryMd5(data, onMD5Load(doc, key, data, attachmentSaved));\n        };\n      }\n\n      for (var i = 0; i < attachments.length; i++) {\n        var key = attachments[i];\n        var att = docInfo.data._attachments[key];\n\n        if (att.stub) {\n          // still need to update the refs mapping\n          var id = docInfo.data._id;\n          var rev = docInfo.data._rev;\n          saveAttachmentRefs(id, rev, att.digest, attachmentSaved);\n          continue;\n        }\n        var data;\n        if (typeof att.data === 'string') {\n          // input is assumed to be a base64 string\n          try {\n            data = atob(att.data);\n          } catch (e) {\n            callback(createError(BAD_ARG,\n                     'Attachment is not a valid base64 string'));\n            return;\n          }\n          doMD5(docInfo, key, attachmentSaved)(data);\n        } else {\n          prepareAttachmentForStorage(att.data,\n            doMD5(docInfo, key, attachmentSaved));\n        }\n      }\n\n      function finish() {\n        var seq = docInfo.metadata.rev_map[docInfo.metadata.rev];\n        /* istanbul ignore if */\n        if (seq) {\n          // check that there aren't any existing revisions with the same\n          // revision id, else we shouldn't do anything\n          return callback2();\n        }\n        seq = ++newUpdateSeq;\n        docInfo.metadata.rev_map[docInfo.metadata.rev] =\n          docInfo.metadata.seq = seq;\n        var seqKey = formatSeq(seq);\n        var batch = [{\n          key: seqKey,\n          value: docInfo.data,\n          prefix: stores.bySeqStore,\n          type: 'put'\n        }, {\n          key: docInfo.metadata.id,\n          value: docInfo.metadata,\n          prefix: stores.docStore,\n          type: 'put'\n        }];\n        txn.batch(batch);\n        results[resultsIdx] = {\n          ok: true,\n          id: docInfo.metadata.id,\n          rev: docInfo.metadata.rev\n        };\n        fetchedDocs.set(docInfo.metadata.id, docInfo.metadata);\n        callback2();\n      }\n\n      if (!attachments.length) {\n        finish();\n      }\n    }\n\n    // attachments are queued per-digest, otherwise the refs could be\n    // overwritten by concurrent writes in the same bulkDocs session\n    var attachmentQueues = {};\n\n    function saveAttachmentRefs(id, rev, digest, callback) {\n\n      function fetchAtt() {\n        return new Promise(function (resolve, reject) {\n          txn.get(stores.attachmentStore, digest, function (err, oldAtt) {\n            /* istanbul ignore if */\n            if (err && err.name !== 'NotFoundError') {\n              return reject(err);\n            }\n            resolve(oldAtt);\n          });\n        });\n      }\n\n      function saveAtt(oldAtt) {\n        var ref = [id, rev].join('@');\n        var newAtt = {};\n\n        if (oldAtt) {\n          if (oldAtt.refs) {\n            // only update references if this attachment already has them\n            // since we cannot migrate old style attachments here without\n            // doing a full db scan for references\n            newAtt.refs = oldAtt.refs;\n            newAtt.refs[ref] = true;\n          }\n        } else {\n          newAtt.refs = {};\n          newAtt.refs[ref] = true;\n        }\n\n        return new Promise(function (resolve) {\n          txn.batch([{\n            type: 'put',\n            prefix: stores.attachmentStore,\n            key: digest,\n            value: newAtt\n          }]);\n          resolve(!oldAtt);\n        });\n      }\n\n      // put attachments in a per-digest queue, to avoid two docs with the same\n      // attachment overwriting each other\n      var queue = attachmentQueues[digest] || Promise.resolve();\n      attachmentQueues[digest] = queue.then(function () {\n        return fetchAtt().then(saveAtt).then(function (isNewAttachment) {\n          callback(null, isNewAttachment);\n        }, callback);\n      });\n    }\n\n    function saveAttachment(docInfo, digest, key, data, callback) {\n      var att = docInfo.data._attachments[key];\n      delete att.data;\n      att.digest = digest;\n      att.length = data.length;\n      var id = docInfo.metadata.id;\n      var rev = docInfo.metadata.rev;\n      att.revpos = parseInt(rev, 10);\n\n      saveAttachmentRefs(id, rev, digest, function (err, isNewAttachment) {\n        /* istanbul ignore if */\n        if (err) {\n          return callback(err);\n        }\n        // do not try to store empty attachments\n        if (data.length === 0) {\n          return callback(err);\n        }\n        if (!isNewAttachment) {\n          // small optimization - don't bother writing it again\n          return callback(err);\n        }\n        txn.batch([{\n          type: 'put',\n          prefix: stores.binaryStore,\n          key: digest,\n          value: bufferFrom(data, 'binary')\n        }]);\n        callback();\n      });\n    }\n\n    function complete(err) {\n      /* istanbul ignore if */\n      if (err) {\n        return nextTick(function () {\n          callback(err);\n        });\n      }\n      txn.batch([\n        {\n          prefix: stores.metaStore,\n          type: 'put',\n          key: UPDATE_SEQ_KEY,\n          value: newUpdateSeq\n        },\n        {\n          prefix: stores.metaStore,\n          type: 'put',\n          key: DOC_COUNT_KEY,\n          value: db._docCount + docCountDelta\n        }\n      ]);\n      txn.execute(db, function (err) {\n        /* istanbul ignore if */\n        if (err) {\n          return callback(err);\n        }\n        db._docCount += docCountDelta;\n        db._updateSeq = newUpdateSeq;\n        levelChanges.notify(name);\n        nextTick(function () {\n          callback(null, results);\n        });\n      });\n    }\n\n    if (!docInfos.length) {\n      return callback(null, []);\n    }\n\n    verifyAttachments(function (err) {\n      if (err) {\n        return callback(err);\n      }\n      fetchExistingDocs(function (err) {\n        /* istanbul ignore if */\n        if (err) {\n          return callback(err);\n        }\n        processDocs(revLimit, docInfos, api, fetchedDocs, txn, results,\n                    writeDoc, opts, finish);\n      });\n    });\n  });\n  api._allDocs = function (opts, callback) {\n    if ('keys' in opts) {\n      return allDocsKeysQuery(this, opts);\n    }\n    return readLock(function (opts, callback) {\n      opts = clone(opts);\n      countDocs(function (err, docCount) {\n        /* istanbul ignore if */\n        if (err) {\n          return callback(err);\n        }\n        var readstreamOpts = {};\n        var skip = opts.skip || 0;\n        if (opts.startkey) {\n          readstreamOpts.gte = opts.startkey;\n        }\n        if (opts.endkey) {\n          readstreamOpts.lte = opts.endkey;\n        }\n        if (opts.key) {\n          readstreamOpts.gte = readstreamOpts.lte = opts.key;\n        }\n        if (opts.descending) {\n          readstreamOpts.reverse = true;\n          // switch start and ends\n          var tmp = readstreamOpts.lte;\n          readstreamOpts.lte = readstreamOpts.gte;\n          readstreamOpts.gte = tmp;\n        }\n        var limit;\n        if (typeof opts.limit === 'number') {\n          limit = opts.limit;\n        }\n        if (limit === 0 ||\n            ('gte' in readstreamOpts && 'lte' in readstreamOpts &&\n            readstreamOpts.gte > readstreamOpts.lte)) {\n          // should return 0 results when start is greater than end.\n          // normally level would \"fix\" this for us by reversing the order,\n          // so short-circuit instead\n          var returnVal = {\n            total_rows: docCount,\n            offset: opts.skip,\n            rows: []\n          };\n          /* istanbul ignore if */\n          if (opts.update_seq) {\n            returnVal.update_seq = db._updateSeq;\n          }\n          return callback(null, returnVal);\n        }\n        var results = [];\n        var docstream = stores.docStore.readStream(readstreamOpts);\n\n        var throughStream = obj(function (entry, _, next) {\n          var metadata = entry.value;\n          // winningRev and deleted are performance-killers, but\n          // in newer versions of PouchDB, they are cached on the metadata\n          var winningRev$$1 = getWinningRev(metadata);\n          var deleted = getIsDeleted(metadata, winningRev$$1);\n          if (!deleted) {\n            if (skip-- > 0) {\n              next();\n              return;\n            } else if (typeof limit === 'number' && limit-- <= 0) {\n              docstream.unpipe();\n              docstream.destroy();\n              next();\n              return;\n            }\n          } else if (opts.deleted !== 'ok') {\n            next();\n            return;\n          }\n          function allDocsInner(data) {\n            var doc = {\n              id: metadata.id,\n              key: metadata.id,\n              value: {\n                rev: winningRev$$1\n              }\n            };\n            if (opts.include_docs) {\n              doc.doc = data;\n              doc.doc._rev = doc.value.rev;\n              if (opts.conflicts) {\n                var conflicts = collectConflicts(metadata);\n                if (conflicts.length) {\n                  doc.doc._conflicts = conflicts;\n                }\n              }\n              for (var att in doc.doc._attachments) {\n                if (doc.doc._attachments.hasOwnProperty(att)) {\n                  doc.doc._attachments[att].stub = true;\n                }\n              }\n            }\n            if (opts.inclusive_end === false && metadata.id === opts.endkey) {\n              return next();\n            } else if (deleted) {\n              if (opts.deleted === 'ok') {\n                doc.value.deleted = true;\n                doc.doc = null;\n              } else {\n                /* istanbul ignore next */\n                return next();\n              }\n            }\n            results.push(doc);\n            next();\n          }\n          if (opts.include_docs) {\n            var seq = metadata.rev_map[winningRev$$1];\n            stores.bySeqStore.get(formatSeq(seq), function (err, data) {\n              allDocsInner(data);\n            });\n          }\n          else {\n            allDocsInner();\n          }\n        }, function (next) {\n          Promise.resolve().then(function () {\n            if (opts.include_docs && opts.attachments) {\n              return fetchAttachments(results, stores, opts);\n            }\n          }).then(function () {\n            var returnVal = {\n              total_rows: docCount,\n              offset: opts.skip,\n              rows: results\n            };\n\n            /* istanbul ignore if */\n            if (opts.update_seq) {\n              returnVal.update_seq = db._updateSeq;\n            }\n            callback(null, returnVal);\n          }, callback);\n          next();\n        }).on('unpipe', function () {\n          throughStream.end();\n        });\n\n        docstream.on('error', callback);\n\n        docstream.pipe(throughStream);\n      });\n    })(opts, callback);\n  };\n\n  api._changes = function (opts) {\n    opts = clone(opts);\n\n    if (opts.continuous) {\n      var id = name + ':' + uuid();\n      levelChanges.addListener(name, id, api, opts);\n      levelChanges.notify(name);\n      return {\n        cancel: function () {\n          levelChanges.removeListener(name, id);\n        }\n      };\n    }\n\n    var descending = opts.descending;\n    var results = [];\n    var lastSeq = opts.since || 0;\n    var called = 0;\n    var streamOpts = {\n      reverse: descending\n    };\n    var limit;\n    if ('limit' in opts && opts.limit > 0) {\n      limit = opts.limit;\n    }\n    if (!streamOpts.reverse) {\n      streamOpts.start = formatSeq(opts.since || 0);\n    }\n\n    var docIds = opts.doc_ids && new Set(opts.doc_ids);\n    var filter = filterChange(opts);\n    var docIdsToMetadata = new Map();\n\n    function complete() {\n      opts.done = true;\n      if (opts.return_docs && opts.limit) {\n        /* istanbul ignore if */\n        if (opts.limit < results.length) {\n          results.length = opts.limit;\n        }\n      }\n      changeStream.unpipe(throughStream);\n      changeStream.destroy();\n      if (!opts.continuous && !opts.cancelled) {\n        if (opts.include_docs && opts.attachments && opts.return_docs) {\n          fetchAttachments(results, stores, opts).then(function () {\n            opts.complete(null, {results: results, last_seq: lastSeq});\n          });\n        } else {\n          opts.complete(null, {results: results, last_seq: lastSeq});\n        }\n      }\n    }\n    var changeStream = stores.bySeqStore.readStream(streamOpts);\n    var throughStream = obj(function (data, _, next) {\n      if (limit && called >= limit) {\n        complete();\n        return next();\n      }\n      if (opts.cancelled || opts.done) {\n        return next();\n      }\n\n      var seq = parseSeq(data.key);\n      var doc = data.value;\n\n      if (seq === opts.since && !descending) {\n        // couchdb ignores `since` if descending=true\n        return next();\n      }\n\n      if (docIds && !docIds.has(doc._id)) {\n        return next();\n      }\n\n      var metadata;\n\n      function onGetMetadata(metadata) {\n        var winningRev$$1 = getWinningRev(metadata);\n\n        function onGetWinningDoc(winningDoc) {\n\n          var change = opts.processChange(winningDoc, metadata, opts);\n          change.seq = metadata.seq;\n\n          var filtered = filter(change);\n          if (typeof filtered === 'object') {\n            return opts.complete(filtered);\n          }\n\n          if (filtered) {\n            called++;\n\n            if (opts.attachments && opts.include_docs) {\n              // fetch attachment immediately for the benefit\n              // of live listeners\n              fetchAttachments([change], stores, opts).then(function () {\n                opts.onChange(change);\n              });\n            } else {\n              opts.onChange(change);\n            }\n\n            if (opts.return_docs) {\n              results.push(change);\n            }\n          }\n          next();\n        }\n\n        if (metadata.seq !== seq) {\n          // some other seq is later\n          return next();\n        }\n\n        lastSeq = seq;\n\n        if (winningRev$$1 === doc._rev) {\n          return onGetWinningDoc(doc);\n        }\n\n        // fetch the winner\n\n        var winningSeq = metadata.rev_map[winningRev$$1];\n\n        stores.bySeqStore.get(formatSeq(winningSeq), function (err, doc) {\n          onGetWinningDoc(doc);\n        });\n      }\n\n      metadata = docIdsToMetadata.get(doc._id);\n      if (metadata) { // cached\n        return onGetMetadata(metadata);\n      }\n      // metadata not cached, have to go fetch it\n      stores.docStore.get(doc._id, function (err, metadata) {\n        /* istanbul ignore if */\n        if (opts.cancelled || opts.done || db.isClosed() ||\n          isLocalId(metadata.id)) {\n          return next();\n        }\n        docIdsToMetadata.set(doc._id, metadata);\n        onGetMetadata(metadata);\n      });\n    }, function (next) {\n      if (opts.cancelled) {\n        return next();\n      }\n      if (opts.return_docs && opts.limit) {\n        /* istanbul ignore if */\n        if (opts.limit < results.length) {\n          results.length = opts.limit;\n        }\n      }\n\n      next();\n    }).on('unpipe', function () {\n      throughStream.end();\n      complete();\n    });\n    changeStream.pipe(throughStream);\n    return {\n      cancel: function () {\n        opts.cancelled = true;\n        complete();\n      }\n    };\n  };\n\n  api._close = function (callback) {\n    /* istanbul ignore if */\n    if (db.isClosed()) {\n      return callback(createError(NOT_OPEN));\n    }\n    db.close(function (err) {\n      /* istanbul ignore if */\n      if (err) {\n        callback(err);\n      } else {\n        dbStore.delete(name);\n        callback();\n      }\n    });\n  };\n\n  api._getRevisionTree = function (docId, callback) {\n    stores.docStore.get(docId, function (err, metadata) {\n      if (err) {\n        callback(createError(MISSING_DOC));\n      } else {\n        callback(null, metadata.rev_tree);\n      }\n    });\n  };\n\n  api._doCompaction = writeLock(function (docId, revs, opts, callback) {\n    api._doCompactionNoLock(docId, revs, opts, callback);\n  });\n\n  // the NoLock version is for use by bulkDocs\n  api._doCompactionNoLock = function (docId, revs, opts, callback) {\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n\n    if (!revs.length) {\n      return callback();\n    }\n    var txn = opts.ctx || new LevelTransaction();\n\n    txn.get(stores.docStore, docId, function (err, metadata) {\n      /* istanbul ignore if */\n      if (err) {\n        return callback(err);\n      }\n      var seqs = revs.map(function (rev) {\n        var seq = metadata.rev_map[rev];\n        delete metadata.rev_map[rev];\n        return seq;\n      });\n      traverseRevTree(metadata.rev_tree, function (isLeaf, pos,\n                                                         revHash, ctx, opts) {\n        var rev = pos + '-' + revHash;\n        if (revs.indexOf(rev) !== -1) {\n          opts.status = 'missing';\n        }\n      });\n\n      var batch = [];\n      batch.push({\n        key: metadata.id,\n        value: metadata,\n        type: 'put',\n        prefix: stores.docStore\n      });\n\n      var digestMap = {};\n      var numDone = 0;\n      var overallErr;\n      function checkDone(err) {\n        /* istanbul ignore if */\n        if (err) {\n          overallErr = err;\n        }\n        if (++numDone === revs.length) { // done\n          /* istanbul ignore if */\n          if (overallErr) {\n            return callback(overallErr);\n          }\n          deleteOrphanedAttachments();\n        }\n      }\n\n      function finish(err) {\n        /* istanbul ignore if */\n        if (err) {\n          return callback(err);\n        }\n        txn.batch(batch);\n        if (opts.ctx) {\n          // don't execute immediately\n          return callback();\n        }\n        txn.execute(db, callback);\n      }\n\n      function deleteOrphanedAttachments() {\n        var possiblyOrphanedAttachments = Object.keys(digestMap);\n        if (!possiblyOrphanedAttachments.length) {\n          return finish();\n        }\n        var numDone = 0;\n        var overallErr;\n        function checkDone(err) {\n          /* istanbul ignore if */\n          if (err) {\n            overallErr = err;\n          }\n          if (++numDone === possiblyOrphanedAttachments.length) {\n            finish(overallErr);\n          }\n        }\n        var refsToDelete = new Map();\n        revs.forEach(function (rev) {\n          refsToDelete.set(docId + '@' + rev, true);\n        });\n        possiblyOrphanedAttachments.forEach(function (digest) {\n          txn.get(stores.attachmentStore, digest, function (err, attData) {\n            /* istanbul ignore if */\n            if (err) {\n              if (err.name === 'NotFoundError') {\n                return checkDone();\n              } else {\n                return checkDone(err);\n              }\n            }\n            var refs = Object.keys(attData.refs || {}).filter(function (ref) {\n              return !refsToDelete.has(ref);\n            });\n            var newRefs = {};\n            refs.forEach(function (ref) {\n              newRefs[ref] = true;\n            });\n            if (refs.length) { // not orphaned\n              batch.push({\n                key: digest,\n                type: 'put',\n                value: {refs: newRefs},\n                prefix: stores.attachmentStore\n              });\n            } else { // orphaned, can safely delete\n              batch = batch.concat([{\n                key: digest,\n                type: 'del',\n                prefix: stores.attachmentStore\n              }, {\n                key: digest,\n                type: 'del',\n                prefix: stores.binaryStore\n              }]);\n            }\n            checkDone();\n          });\n        });\n      }\n\n      seqs.forEach(function (seq) {\n        batch.push({\n          key: formatSeq(seq),\n          type: 'del',\n          prefix: stores.bySeqStore\n        });\n        txn.get(stores.bySeqStore, formatSeq(seq), function (err, doc) {\n          /* istanbul ignore if */\n          if (err) {\n            if (err.name === 'NotFoundError') {\n              return checkDone();\n            } else {\n              return checkDone(err);\n            }\n          }\n          var atts = Object.keys(doc._attachments || {});\n          atts.forEach(function (attName) {\n            var digest = doc._attachments[attName].digest;\n            digestMap[digest] = true;\n          });\n          checkDone();\n        });\n      });\n    });\n  };\n\n  api._getLocal = function (id, callback) {\n    stores.localStore.get(id, function (err, doc) {\n      if (err) {\n        callback(createError(MISSING_DOC));\n      } else {\n        callback(null, doc);\n      }\n    });\n  };\n\n  api._putLocal = function (doc, opts, callback) {\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    if (opts.ctx) {\n      api._putLocalNoLock(doc, opts, callback);\n    } else {\n      api._putLocalWithLock(doc, opts, callback);\n    }\n  };\n\n  api._putLocalWithLock = writeLock(function (doc, opts, callback) {\n    api._putLocalNoLock(doc, opts, callback);\n  });\n\n  // the NoLock version is for use by bulkDocs\n  api._putLocalNoLock = function (doc, opts, callback) {\n    delete doc._revisions; // ignore this, trust the rev\n    var oldRev = doc._rev;\n    var id = doc._id;\n\n    var txn = opts.ctx || new LevelTransaction();\n\n    txn.get(stores.localStore, id, function (err, resp) {\n      if (err && oldRev) {\n        return callback(createError(REV_CONFLICT));\n      }\n      if (resp && resp._rev !== oldRev) {\n        return callback(createError(REV_CONFLICT));\n      }\n      doc._rev =\n          oldRev ? '0-' + (parseInt(oldRev.split('-')[1], 10) + 1) : '0-1';\n      var batch = [\n        {\n          type: 'put',\n          prefix: stores.localStore,\n          key: id,\n          value: doc\n        }\n      ];\n\n      txn.batch(batch);\n      var ret = {ok: true, id: doc._id, rev: doc._rev};\n\n      if (opts.ctx) {\n        // don't execute immediately\n        return callback(null, ret);\n      }\n      txn.execute(db, function (err) {\n        /* istanbul ignore if */\n        if (err) {\n          return callback(err);\n        }\n        callback(null, ret);\n      });\n    });\n  };\n\n  api._removeLocal = function (doc, opts, callback) {\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    if (opts.ctx) {\n      api._removeLocalNoLock(doc, opts, callback);\n    } else {\n      api._removeLocalWithLock(doc, opts, callback);\n    }\n  };\n\n  api._removeLocalWithLock = writeLock(function (doc, opts, callback) {\n    api._removeLocalNoLock(doc, opts, callback);\n  });\n\n  // the NoLock version is for use by bulkDocs\n  api._removeLocalNoLock = function (doc, opts, callback) {\n    var txn = opts.ctx || new LevelTransaction();\n    txn.get(stores.localStore, doc._id, function (err, resp) {\n      if (err) {\n        /* istanbul ignore if */\n        if (err.name !== 'NotFoundError') {\n          return callback(err);\n        } else {\n          return callback(createError(MISSING_DOC));\n        }\n      }\n      if (resp._rev !== doc._rev) {\n        return callback(createError(REV_CONFLICT));\n      }\n      txn.batch([{\n        prefix: stores.localStore,\n        type: 'del',\n        key: doc._id\n      }]);\n      var ret = {ok: true, id: doc._id, rev: '0-0'};\n      if (opts.ctx) {\n        // don't execute immediately\n        return callback(null, ret);\n      }\n      txn.execute(db, function (err) {\n        /* istanbul ignore if */\n        if (err) {\n          return callback(err);\n        }\n        callback(null, ret);\n      });\n    });\n  };\n\n  // close and delete open leveldb stores\n  api._destroy = function (opts, callback) {\n    var dbStore;\n    var leveldownName = functionName(leveldown);\n    /* istanbul ignore else */\n    if (dbStores.has(leveldownName)) {\n      dbStore = dbStores.get(leveldownName);\n    } else {\n      return callDestroy(name, callback);\n    }\n\n    /* istanbul ignore else */\n    if (dbStore.has(name)) {\n      levelChanges.removeAllListeners(name);\n\n      dbStore.get(name).close(function () {\n        dbStore.delete(name);\n        callDestroy(name, callback);\n      });\n    } else {\n      callDestroy(name, callback);\n    }\n  };\n  function callDestroy(name, cb) {\n    // May not exist if leveldown is backed by memory adapter\n    /* istanbul ignore else */\n    if ('destroy' in leveldown) {\n      leveldown.destroy(name, cb);\n    } else {\n      cb(null);\n    }\n  }\n}\n\nexport default LevelPouch;\n","/* Copyright (c) 2013 Rod Vagg, MIT License */\n\nfunction AbstractIterator (db) {\n  this.db = db\n  this._ended = false\n  this._nexting = false\n}\n\nAbstractIterator.prototype.next = function (callback) {\n  var self = this\n\n  if (typeof callback != 'function')\n    throw new Error('next() requires a callback argument')\n\n  if (self._ended)\n    return callback(new Error('cannot call next() after end()'))\n  if (self._nexting)\n    return callback(new Error('cannot call next() before previous next() has completed'))\n\n  self._nexting = true\n  if (typeof self._next == 'function') {\n    return self._next(function () {\n      self._nexting = false\n      callback.apply(null, arguments)\n    })\n  }\n\n  process.nextTick(function () {\n    self._nexting = false\n    callback()\n  })\n}\n\nAbstractIterator.prototype.end = function (callback) {\n  if (typeof callback != 'function')\n    throw new Error('end() requires a callback argument')\n\n  if (this._ended)\n    return callback(new Error('end() already called on iterator'))\n\n  this._ended = true\n\n  if (typeof this._end == 'function')\n    return this._end(callback)\n\n  process.nextTick(callback)\n}\n\nmodule.exports = AbstractIterator\n","/* Copyright (c) 2013 Rod Vagg, MIT License */\n\nfunction AbstractChainedBatch (db) {\n  this._db         = db\n  this._operations = []\n  this._written    = false\n}\n\nAbstractChainedBatch.prototype._checkWritten = function () {\n  if (this._written)\n    throw new Error('write() already called on this batch')\n}\n\nAbstractChainedBatch.prototype.put = function (key, value) {\n  this._checkWritten()\n\n  var err = this._db._checkKey(key, 'key', this._db._isBuffer)\n  if (err)\n    throw err\n\n  if (!this._db._isBuffer(key)) key = String(key)\n  if (!this._db._isBuffer(value)) value = String(value)\n\n  if (typeof this._put == 'function' )\n    this._put(key, value)\n  else\n    this._operations.push({ type: 'put', key: key, value: value })\n\n  return this\n}\n\nAbstractChainedBatch.prototype.del = function (key) {\n  this._checkWritten()\n\n  var err = this._db._checkKey(key, 'key', this._db._isBuffer)\n  if (err) throw err\n\n  if (!this._db._isBuffer(key)) key = String(key)\n\n  if (typeof this._del == 'function' )\n    this._del(key)\n  else\n    this._operations.push({ type: 'del', key: key })\n\n  return this\n}\n\nAbstractChainedBatch.prototype.clear = function () {\n  this._checkWritten()\n\n  this._operations = []\n\n  if (typeof this._clear == 'function' )\n    this._clear()\n\n  return this\n}\n\nAbstractChainedBatch.prototype.write = function (options, callback) {\n  this._checkWritten()\n\n  if (typeof options == 'function')\n    callback = options\n  if (typeof callback != 'function')\n    throw new Error('write() requires a callback argument')\n  if (typeof options != 'object')\n    options = {}\n\n  this._written = true\n\n  if (typeof this._write == 'function' )\n    return this._write(callback)\n\n  if (typeof this._db._batch == 'function')\n    return this._db._batch(this._operations, options, callback)\n\n  process.nextTick(callback)\n}\n\nmodule.exports = AbstractChainedBatch","/* Copyright (c) 2013 Rod Vagg, MIT License */\n\nvar xtend                = require('xtend')\n  , AbstractIterator     = require('./abstract-iterator')\n  , AbstractChainedBatch = require('./abstract-chained-batch')\n\nfunction AbstractLevelDOWN (location) {\n  if (!arguments.length || location === undefined)\n    throw new Error('constructor requires at least a location argument')\n\n  if (typeof location != 'string')\n    throw new Error('constructor requires a location string argument')\n\n  this.location = location\n  this.status = 'new'\n}\n\nAbstractLevelDOWN.prototype.open = function (options, callback) {\n  var self      = this\n    , oldStatus = this.status\n\n  if (typeof options == 'function')\n    callback = options\n\n  if (typeof callback != 'function')\n    throw new Error('open() requires a callback argument')\n\n  if (typeof options != 'object')\n    options = {}\n\n  options.createIfMissing = options.createIfMissing != false\n  options.errorIfExists = !!options.errorIfExists\n\n  if (typeof this._open == 'function') {\n    this.status = 'opening'\n    this._open(options, function (err) {\n      if (err) {\n        self.status = oldStatus\n        return callback(err)\n      }\n      self.status = 'open'\n      callback()\n    })\n  } else {\n    this.status = 'open'\n    process.nextTick(callback)\n  }\n}\n\nAbstractLevelDOWN.prototype.close = function (callback) {\n  var self      = this\n    , oldStatus = this.status\n\n  if (typeof callback != 'function')\n    throw new Error('close() requires a callback argument')\n\n  if (typeof this._close == 'function') {\n    this.status = 'closing'\n    this._close(function (err) {\n      if (err) {\n        self.status = oldStatus\n        return callback(err)\n      }\n      self.status = 'closed'\n      callback()\n    })\n  } else {\n    this.status = 'closed'\n    process.nextTick(callback)\n  }\n}\n\nAbstractLevelDOWN.prototype.get = function (key, options, callback) {\n  var err\n\n  if (typeof options == 'function')\n    callback = options\n\n  if (typeof callback != 'function')\n    throw new Error('get() requires a callback argument')\n\n  if (err = this._checkKey(key, 'key', this._isBuffer))\n    return callback(err)\n\n  if (!this._isBuffer(key))\n    key = String(key)\n\n  if (typeof options != 'object')\n    options = {}\n\n  options.asBuffer = options.asBuffer != false\n\n  if (typeof this._get == 'function')\n    return this._get(key, options, callback)\n\n  process.nextTick(function () { callback(new Error('NotFound')) })\n}\n\nAbstractLevelDOWN.prototype.put = function (key, value, options, callback) {\n  var err\n\n  if (typeof options == 'function')\n    callback = options\n\n  if (typeof callback != 'function')\n    throw new Error('put() requires a callback argument')\n\n  if (err = this._checkKey(key, 'key', this._isBuffer))\n    return callback(err)\n\n  if (!this._isBuffer(key))\n    key = String(key)\n\n  // coerce value to string in node, don't touch it in browser\n  // (indexeddb can store any JS type)\n  if (value != null && !this._isBuffer(value) && !process.browser)\n    value = String(value)\n\n  if (typeof options != 'object')\n    options = {}\n\n  if (typeof this._put == 'function')\n    return this._put(key, value, options, callback)\n\n  process.nextTick(callback)\n}\n\nAbstractLevelDOWN.prototype.del = function (key, options, callback) {\n  var err\n\n  if (typeof options == 'function')\n    callback = options\n\n  if (typeof callback != 'function')\n    throw new Error('del() requires a callback argument')\n\n  if (err = this._checkKey(key, 'key', this._isBuffer))\n    return callback(err)\n\n  if (!this._isBuffer(key))\n    key = String(key)\n\n  if (typeof options != 'object')\n    options = {}\n\n  if (typeof this._del == 'function')\n    return this._del(key, options, callback)\n\n  process.nextTick(callback)\n}\n\nAbstractLevelDOWN.prototype.batch = function (array, options, callback) {\n  if (!arguments.length)\n    return this._chainedBatch()\n\n  if (typeof options == 'function')\n    callback = options\n\n  if (typeof array == 'function')\n    callback = array\n\n  if (typeof callback != 'function')\n    throw new Error('batch(array) requires a callback argument')\n\n  if (!Array.isArray(array))\n    return callback(new Error('batch(array) requires an array argument'))\n\n  if (!options || typeof options != 'object')\n    options = {}\n\n  var i = 0\n    , l = array.length\n    , e\n    , err\n\n  for (; i < l; i++) {\n    e = array[i]\n    if (typeof e != 'object')\n      continue\n\n    if (err = this._checkKey(e.type, 'type', this._isBuffer))\n      return callback(err)\n\n    if (err = this._checkKey(e.key, 'key', this._isBuffer))\n      return callback(err)\n  }\n\n  if (typeof this._batch == 'function')\n    return this._batch(array, options, callback)\n\n  process.nextTick(callback)\n}\n\n//TODO: remove from here, not a necessary primitive\nAbstractLevelDOWN.prototype.approximateSize = function (start, end, callback) {\n  if (   start == null\n      || end == null\n      || typeof start == 'function'\n      || typeof end == 'function') {\n    throw new Error('approximateSize() requires valid `start`, `end` and `callback` arguments')\n  }\n\n  if (typeof callback != 'function')\n    throw new Error('approximateSize() requires a callback argument')\n\n  if (!this._isBuffer(start))\n    start = String(start)\n\n  if (!this._isBuffer(end))\n    end = String(end)\n\n  if (typeof this._approximateSize == 'function')\n    return this._approximateSize(start, end, callback)\n\n  process.nextTick(function () {\n    callback(null, 0)\n  })\n}\n\nAbstractLevelDOWN.prototype._setupIteratorOptions = function (options) {\n  var self = this\n\n  options = xtend(options)\n\n  ;[ 'start', 'end', 'gt', 'gte', 'lt', 'lte' ].forEach(function (o) {\n    if (options[o] && self._isBuffer(options[o]) && options[o].length === 0)\n      delete options[o]\n  })\n\n  options.reverse = !!options.reverse\n  options.keys = options.keys != false\n  options.values = options.values != false\n  options.limit = 'limit' in options ? options.limit : -1\n  options.keyAsBuffer = options.keyAsBuffer != false\n  options.valueAsBuffer = options.valueAsBuffer != false\n\n  return options\n}\n\nAbstractLevelDOWN.prototype.iterator = function (options) {\n  if (typeof options != 'object')\n    options = {}\n\n  options = this._setupIteratorOptions(options)\n\n  if (typeof this._iterator == 'function')\n    return this._iterator(options)\n\n  return new AbstractIterator(this)\n}\n\nAbstractLevelDOWN.prototype._chainedBatch = function () {\n  return new AbstractChainedBatch(this)\n}\n\nAbstractLevelDOWN.prototype._isBuffer = function (obj) {\n  return Buffer.isBuffer(obj)\n}\n\nAbstractLevelDOWN.prototype._checkKey = function (obj, type) {\n\n  if (obj === null || obj === undefined)\n    return new Error(type + ' cannot be `null` or `undefined`')\n\n  if (this._isBuffer(obj)) {\n    if (obj.length === 0)\n      return new Error(type + ' cannot be an empty Buffer')\n  } else if (String(obj) === '')\n    return new Error(type + ' cannot be an empty String')\n}\n\nmodule.exports = AbstractLevelDOWN\n","var AbstractLevelDOWN = require('./abstract-leveldown')\n\nfunction isLevelDOWN (db) {\n  if (!db || typeof db !== 'object')\n    return false\n  return Object.keys(AbstractLevelDOWN.prototype).filter(function (name) {\n    // TODO remove approximateSize check when method is gone\n    return name[0] != '_' && name != 'approximateSize'\n  }).every(function (name) {\n    return typeof db[name] == 'function'\n  })\n}\n\nmodule.exports = isLevelDOWN\n","exports.AbstractLevelDOWN    = require('./abstract-leveldown')\nexports.AbstractIterator     = require('./abstract-iterator')\nexports.AbstractChainedBatch = require('./abstract-chained-batch')\nexports.isLevelDOWN          = require('./is-leveldown')\n","\nexports.compare = function (a, b) {\n\n  if(Buffer.isBuffer(a)) {\n    var l = Math.min(a.length, b.length)\n    for(var i = 0; i < l; i++) {\n      var cmp = a[i] - b[i]\n      if(cmp) return cmp\n    }\n    return a.length - b.length\n  }\n\n  return a < b ? -1 : a > b ? 1 : 0\n}\n\nfunction has(obj, key) {\n  return Object.hasOwnProperty.call(obj, key)\n}\n\n// to be compatible with the current abstract-leveldown tests\n// nullish or empty strings.\n// I could use !!val but I want to permit numbers and booleans,\n// if possible.\n\nfunction isDef (val) {\n  return val !== undefined && val !== ''\n}\n\nfunction has (range, name) {\n  return Object.hasOwnProperty.call(range, name)\n}\n\nfunction hasKey(range, name) {\n  return Object.hasOwnProperty.call(range, name) && name\n}\n\nvar lowerBoundKey = exports.lowerBoundKey = function (range) {\n    return (\n       hasKey(range, 'gt')\n    || hasKey(range, 'gte')\n    || hasKey(range, 'min')\n    || (range.reverse ? hasKey(range, 'end') : hasKey(range, 'start'))\n    || undefined\n    )\n}\n\nvar lowerBound = exports.lowerBound = function (range) {\n  var k = lowerBoundKey(range)\n  return k && range[k]\n}\n\nvar lowerBoundInclusive = exports.lowerBoundInclusive = function (range) {\n  return has(range, 'gt') ? false : true\n}\n\nvar upperBoundInclusive = exports.upperBoundInclusive =\n  function (range) {\n    return (has(range, 'lt') /*&& !range.maxEx*/) ? false : true\n  }\n\nvar lowerBoundExclusive = exports.lowerBoundExclusive =\n  function (range) {\n    return !lowerBoundInclusive(range)\n  }\n\nvar upperBoundExclusive = exports.upperBoundExclusive =\n  function (range) {\n    return !upperBoundInclusive(range)\n  }\n\nvar upperBoundKey = exports.upperBoundKey = function (range) {\n    return (\n       hasKey(range, 'lt')\n    || hasKey(range, 'lte')\n    || hasKey(range, 'max')\n    || (range.reverse ? hasKey(range, 'start') : hasKey(range, 'end'))\n    || undefined\n    )\n}\n\nvar upperBound = exports.upperBound = function (range) {\n  var k = upperBoundKey(range)\n  return k && range[k]\n}\n\nfunction id (e) { return e }\n\nexports.toLtgt = function (range, _range, map, lower, upper) {\n  _range = _range || {}\n  map = map || id\n  var defaults = arguments.length > 3\n  var lb = exports.lowerBoundKey(range)\n  var ub = exports.upperBoundKey(range)\n  if(lb) {\n    if(lb === 'gt') _range.gt = map(range.gt, false)\n    else            _range.gte = map(range[lb], false)\n  }\n  else if(defaults)\n    _range.gte = map(lower, false)\n\n  if(ub) {\n    if(ub === 'lt') _range.lt = map(range.lt, true)\n    else            _range.lte = map(range[ub], true)\n  }\n  else if(defaults)\n    _range.lte = map(upper, true)\n\n  if(range.reverse != null)\n    _range.reverse = !!range.reverse\n\n  //if range was used mutably\n  //(in level-sublevel it's part of an options object\n  //that has more properties on it.)\n  if(has(_range, 'max'))   delete _range.max\n  if(has(_range, 'min'))   delete _range.min\n  if(has(_range, 'start')) delete _range.start\n  if(has(_range, 'end'))   delete _range.end\n\n  return _range\n}\n\nexports.contains = function (range, key, compare) {\n  compare = compare || exports.compare\n\n  var lb = lowerBound(range)\n  if(isDef(lb)) {\n    var cmp = compare(key, lb)\n    if(cmp < 0 || (cmp === 0 && lowerBoundExclusive(range)))\n      return false\n  }\n\n  var ub = upperBound(range)\n  if(isDef(ub)) {\n    var cmp = compare(key, ub)\n    if(cmp > 0 || (cmp === 0) && upperBoundExclusive(range))\n      return false\n  }\n\n  return true\n}\n\nexports.filter = function (range, compare) {\n  return function (key) {\n    return exports.contains(range, key, compare)\n  }\n}\n\n\n\n\n\n","\"use strict\"\n\nmodule.exports = createRBTree\n\nvar RED   = 0\nvar BLACK = 1\n\nfunction RBNode(color, key, value, left, right, count) {\n  this._color = color\n  this.key = key\n  this.value = value\n  this.left = left\n  this.right = right\n  this._count = count\n}\n\nfunction cloneNode(node) {\n  return new RBNode(node._color, node.key, node.value, node.left, node.right, node._count)\n}\n\nfunction repaint(color, node) {\n  return new RBNode(color, node.key, node.value, node.left, node.right, node._count)\n}\n\nfunction recount(node) {\n  node._count = 1 + (node.left ? node.left._count : 0) + (node.right ? node.right._count : 0)\n}\n\nfunction RedBlackTree(compare, root) {\n  this._compare = compare\n  this.root = root\n}\n\nvar proto = RedBlackTree.prototype\n\nObject.defineProperty(proto, \"keys\", {\n  get: function() {\n    var result = []\n    this.forEach(function(k,v) {\n      result.push(k)\n    })\n    return result\n  }\n})\n\nObject.defineProperty(proto, \"values\", {\n  get: function() {\n    var result = []\n    this.forEach(function(k,v) {\n      result.push(v)\n    })\n    return result\n  }\n})\n\n//Returns the number of nodes in the tree\nObject.defineProperty(proto, \"length\", {\n  get: function() {\n    if(this.root) {\n      return this.root._count\n    }\n    return 0\n  }\n})\n\n//Insert a new item into the tree\nproto.insert = function(key, value) {\n  var cmp = this._compare\n  //Find point to insert new node at\n  var n = this.root\n  var n_stack = []\n  var d_stack = []\n  while(n) {\n    var d = cmp(key, n.key)\n    n_stack.push(n)\n    d_stack.push(d)\n    if(d <= 0) {\n      n = n.left\n    } else {\n      n = n.right\n    }\n  }\n  //Rebuild path to leaf node\n  n_stack.push(new RBNode(RED, key, value, null, null, 1))\n  for(var s=n_stack.length-2; s>=0; --s) {\n    var n = n_stack[s]\n    if(d_stack[s] <= 0) {\n      n_stack[s] = new RBNode(n._color, n.key, n.value, n_stack[s+1], n.right, n._count+1)\n    } else {\n      n_stack[s] = new RBNode(n._color, n.key, n.value, n.left, n_stack[s+1], n._count+1)\n    }\n  }\n  //Rebalance tree using rotations\n  //console.log(\"start insert\", key, d_stack)\n  for(var s=n_stack.length-1; s>1; --s) {\n    var p = n_stack[s-1]\n    var n = n_stack[s]\n    if(p._color === BLACK || n._color === BLACK) {\n      break\n    }\n    var pp = n_stack[s-2]\n    if(pp.left === p) {\n      if(p.left === n) {\n        var y = pp.right\n        if(y && y._color === RED) {\n          //console.log(\"LLr\")\n          p._color = BLACK\n          pp.right = repaint(BLACK, y)\n          pp._color = RED\n          s -= 1\n        } else {\n          //console.log(\"LLb\")\n          pp._color = RED\n          pp.left = p.right\n          p._color = BLACK\n          p.right = pp\n          n_stack[s-2] = p\n          n_stack[s-1] = n\n          recount(pp)\n          recount(p)\n          if(s >= 3) {\n            var ppp = n_stack[s-3]\n            if(ppp.left === pp) {\n              ppp.left = p\n            } else {\n              ppp.right = p\n            }\n          }\n          break\n        }\n      } else {\n        var y = pp.right\n        if(y && y._color === RED) {\n          //console.log(\"LRr\")\n          p._color = BLACK\n          pp.right = repaint(BLACK, y)\n          pp._color = RED\n          s -= 1\n        } else {\n          //console.log(\"LRb\")\n          p.right = n.left\n          pp._color = RED\n          pp.left = n.right\n          n._color = BLACK\n          n.left = p\n          n.right = pp\n          n_stack[s-2] = n\n          n_stack[s-1] = p\n          recount(pp)\n          recount(p)\n          recount(n)\n          if(s >= 3) {\n            var ppp = n_stack[s-3]\n            if(ppp.left === pp) {\n              ppp.left = n\n            } else {\n              ppp.right = n\n            }\n          }\n          break\n        }\n      }\n    } else {\n      if(p.right === n) {\n        var y = pp.left\n        if(y && y._color === RED) {\n          //console.log(\"RRr\", y.key)\n          p._color = BLACK\n          pp.left = repaint(BLACK, y)\n          pp._color = RED\n          s -= 1\n        } else {\n          //console.log(\"RRb\")\n          pp._color = RED\n          pp.right = p.left\n          p._color = BLACK\n          p.left = pp\n          n_stack[s-2] = p\n          n_stack[s-1] = n\n          recount(pp)\n          recount(p)\n          if(s >= 3) {\n            var ppp = n_stack[s-3]\n            if(ppp.right === pp) {\n              ppp.right = p\n            } else {\n              ppp.left = p\n            }\n          }\n          break\n        }\n      } else {\n        var y = pp.left\n        if(y && y._color === RED) {\n          //console.log(\"RLr\")\n          p._color = BLACK\n          pp.left = repaint(BLACK, y)\n          pp._color = RED\n          s -= 1\n        } else {\n          //console.log(\"RLb\")\n          p.left = n.right\n          pp._color = RED\n          pp.right = n.left\n          n._color = BLACK\n          n.right = p\n          n.left = pp\n          n_stack[s-2] = n\n          n_stack[s-1] = p\n          recount(pp)\n          recount(p)\n          recount(n)\n          if(s >= 3) {\n            var ppp = n_stack[s-3]\n            if(ppp.right === pp) {\n              ppp.right = n\n            } else {\n              ppp.left = n\n            }\n          }\n          break\n        }\n      }\n    }\n  }\n  //Return new tree\n  n_stack[0]._color = BLACK\n  return new RedBlackTree(cmp, n_stack[0])\n}\n\n\n//Visit all nodes inorder\nfunction doVisitFull(visit, node) {\n  if(node.left) {\n    var v = doVisitFull(visit, node.left)\n    if(v) { return v }\n  }\n  var v = visit(node.key, node.value)\n  if(v) { return v }\n  if(node.right) {\n    return doVisitFull(visit, node.right)\n  }\n}\n\n//Visit half nodes in order\nfunction doVisitHalf(lo, compare, visit, node) {\n  var l = compare(lo, node.key)\n  if(l <= 0) {\n    if(node.left) {\n      var v = doVisitHalf(lo, compare, visit, node.left)\n      if(v) { return v }\n    }\n    var v = visit(node.key, node.value)\n    if(v) { return v }\n  }\n  if(node.right) {\n    return doVisitHalf(lo, compare, visit, node.right)\n  }\n}\n\n//Visit all nodes within a range\nfunction doVisit(lo, hi, compare, visit, node) {\n  var l = compare(lo, node.key)\n  var h = compare(hi, node.key)\n  var v\n  if(l <= 0) {\n    if(node.left) {\n      v = doVisit(lo, hi, compare, visit, node.left)\n      if(v) { return v }\n    }\n    if(h > 0) {\n      v = visit(node.key, node.value)\n      if(v) { return v }\n    }\n  }\n  if(h > 0 && node.right) {\n    return doVisit(lo, hi, compare, visit, node.right)\n  }\n}\n\n\nproto.forEach = function rbTreeForEach(visit, lo, hi) {\n  if(!this.root) {\n    return\n  }\n  switch(arguments.length) {\n    case 1:\n      return doVisitFull(visit, this.root)\n    break\n\n    case 2:\n      return doVisitHalf(lo, this._compare, visit, this.root)\n    break\n\n    case 3:\n      if(this._compare(lo, hi) >= 0) {\n        return\n      }\n      return doVisit(lo, hi, this._compare, visit, this.root)\n    break\n  }\n}\n\n//First item in list\nObject.defineProperty(proto, \"begin\", {\n  get: function() {\n    var stack = []\n    var n = this.root\n    while(n) {\n      stack.push(n)\n      n = n.left\n    }\n    return new RedBlackTreeIterator(this, stack)\n  }\n})\n\n//Last item in list\nObject.defineProperty(proto, \"end\", {\n  get: function() {\n    var stack = []\n    var n = this.root\n    while(n) {\n      stack.push(n)\n      n = n.right\n    }\n    return new RedBlackTreeIterator(this, stack)\n  }\n})\n\n//Find the ith item in the tree\nproto.at = function(idx) {\n  if(idx < 0) {\n    return new RedBlackTreeIterator(this, [])\n  }\n  var n = this.root\n  var stack = []\n  while(true) {\n    stack.push(n)\n    if(n.left) {\n      if(idx < n.left._count) {\n        n = n.left\n        continue\n      }\n      idx -= n.left._count\n    }\n    if(!idx) {\n      return new RedBlackTreeIterator(this, stack)\n    }\n    idx -= 1\n    if(n.right) {\n      if(idx >= n.right._count) {\n        break\n      }\n      n = n.right\n    } else {\n      break\n    }\n  }\n  return new RedBlackTreeIterator(this, [])\n}\n\nproto.ge = function(key) {\n  var cmp = this._compare\n  var n = this.root\n  var stack = []\n  var last_ptr = 0\n  while(n) {\n    var d = cmp(key, n.key)\n    stack.push(n)\n    if(d <= 0) {\n      last_ptr = stack.length\n    }\n    if(d <= 0) {\n      n = n.left\n    } else {\n      n = n.right\n    }\n  }\n  stack.length = last_ptr\n  return new RedBlackTreeIterator(this, stack)\n}\n\nproto.gt = function(key) {\n  var cmp = this._compare\n  var n = this.root\n  var stack = []\n  var last_ptr = 0\n  while(n) {\n    var d = cmp(key, n.key)\n    stack.push(n)\n    if(d < 0) {\n      last_ptr = stack.length\n    }\n    if(d < 0) {\n      n = n.left\n    } else {\n      n = n.right\n    }\n  }\n  stack.length = last_ptr\n  return new RedBlackTreeIterator(this, stack)\n}\n\nproto.lt = function(key) {\n  var cmp = this._compare\n  var n = this.root\n  var stack = []\n  var last_ptr = 0\n  while(n) {\n    var d = cmp(key, n.key)\n    stack.push(n)\n    if(d > 0) {\n      last_ptr = stack.length\n    }\n    if(d <= 0) {\n      n = n.left\n    } else {\n      n = n.right\n    }\n  }\n  stack.length = last_ptr\n  return new RedBlackTreeIterator(this, stack)\n}\n\nproto.le = function(key) {\n  var cmp = this._compare\n  var n = this.root\n  var stack = []\n  var last_ptr = 0\n  while(n) {\n    var d = cmp(key, n.key)\n    stack.push(n)\n    if(d >= 0) {\n      last_ptr = stack.length\n    }\n    if(d < 0) {\n      n = n.left\n    } else {\n      n = n.right\n    }\n  }\n  stack.length = last_ptr\n  return new RedBlackTreeIterator(this, stack)\n}\n\n//Finds the item with key if it exists\nproto.find = function(key) {\n  var cmp = this._compare\n  var n = this.root\n  var stack = []\n  while(n) {\n    var d = cmp(key, n.key)\n    stack.push(n)\n    if(d === 0) {\n      return new RedBlackTreeIterator(this, stack)\n    }\n    if(d <= 0) {\n      n = n.left\n    } else {\n      n = n.right\n    }\n  }\n  return new RedBlackTreeIterator(this, [])\n}\n\n//Removes item with key from tree\nproto.remove = function(key) {\n  var iter = this.find(key)\n  if(iter) {\n    return iter.remove()\n  }\n  return this\n}\n\n//Returns the item at `key`\nproto.get = function(key) {\n  var cmp = this._compare\n  var n = this.root\n  while(n) {\n    var d = cmp(key, n.key)\n    if(d === 0) {\n      return n.value\n    }\n    if(d <= 0) {\n      n = n.left\n    } else {\n      n = n.right\n    }\n  }\n  return\n}\n\n//Iterator for red black tree\nfunction RedBlackTreeIterator(tree, stack) {\n  this.tree = tree\n  this._stack = stack\n}\n\nvar iproto = RedBlackTreeIterator.prototype\n\n//Test if iterator is valid\nObject.defineProperty(iproto, \"valid\", {\n  get: function() {\n    return this._stack.length > 0\n  }\n})\n\n//Node of the iterator\nObject.defineProperty(iproto, \"node\", {\n  get: function() {\n    if(this._stack.length > 0) {\n      return this._stack[this._stack.length-1]\n    }\n    return null\n  },\n  enumerable: true\n})\n\n//Makes a copy of an iterator\niproto.clone = function() {\n  return new RedBlackTreeIterator(this.tree, this._stack.slice())\n}\n\n//Swaps two nodes\nfunction swapNode(n, v) {\n  n.key = v.key\n  n.value = v.value\n  n.left = v.left\n  n.right = v.right\n  n._color = v._color\n  n._count = v._count\n}\n\n//Fix up a double black node in a tree\nfunction fixDoubleBlack(stack) {\n  var n, p, s, z\n  for(var i=stack.length-1; i>=0; --i) {\n    n = stack[i]\n    if(i === 0) {\n      n._color = BLACK\n      return\n    }\n    //console.log(\"visit node:\", n.key, i, stack[i].key, stack[i-1].key)\n    p = stack[i-1]\n    if(p.left === n) {\n      //console.log(\"left child\")\n      s = p.right\n      if(s.right && s.right._color === RED) {\n        //console.log(\"case 1: right sibling child red\")\n        s = p.right = cloneNode(s)\n        z = s.right = cloneNode(s.right)\n        p.right = s.left\n        s.left = p\n        s.right = z\n        s._color = p._color\n        n._color = BLACK\n        p._color = BLACK\n        z._color = BLACK\n        recount(p)\n        recount(s)\n        if(i > 1) {\n          var pp = stack[i-2]\n          if(pp.left === p) {\n            pp.left = s\n          } else {\n            pp.right = s\n          }\n        }\n        stack[i-1] = s\n        return\n      } else if(s.left && s.left._color === RED) {\n        //console.log(\"case 1: left sibling child red\")\n        s = p.right = cloneNode(s)\n        z = s.left = cloneNode(s.left)\n        p.right = z.left\n        s.left = z.right\n        z.left = p\n        z.right = s\n        z._color = p._color\n        p._color = BLACK\n        s._color = BLACK\n        n._color = BLACK\n        recount(p)\n        recount(s)\n        recount(z)\n        if(i > 1) {\n          var pp = stack[i-2]\n          if(pp.left === p) {\n            pp.left = z\n          } else {\n            pp.right = z\n          }\n        }\n        stack[i-1] = z\n        return\n      }\n      if(s._color === BLACK) {\n        if(p._color === RED) {\n          //console.log(\"case 2: black sibling, red parent\", p.right.value)\n          p._color = BLACK\n          p.right = repaint(RED, s)\n          return\n        } else {\n          //console.log(\"case 2: black sibling, black parent\", p.right.value)\n          p.right = repaint(RED, s)\n          continue  \n        }\n      } else {\n        //console.log(\"case 3: red sibling\")\n        s = cloneNode(s)\n        p.right = s.left\n        s.left = p\n        s._color = p._color\n        p._color = RED\n        recount(p)\n        recount(s)\n        if(i > 1) {\n          var pp = stack[i-2]\n          if(pp.left === p) {\n            pp.left = s\n          } else {\n            pp.right = s\n          }\n        }\n        stack[i-1] = s\n        stack[i] = p\n        if(i+1 < stack.length) {\n          stack[i+1] = n\n        } else {\n          stack.push(n)\n        }\n        i = i+2\n      }\n    } else {\n      //console.log(\"right child\")\n      s = p.left\n      if(s.left && s.left._color === RED) {\n        //console.log(\"case 1: left sibling child red\", p.value, p._color)\n        s = p.left = cloneNode(s)\n        z = s.left = cloneNode(s.left)\n        p.left = s.right\n        s.right = p\n        s.left = z\n        s._color = p._color\n        n._color = BLACK\n        p._color = BLACK\n        z._color = BLACK\n        recount(p)\n        recount(s)\n        if(i > 1) {\n          var pp = stack[i-2]\n          if(pp.right === p) {\n            pp.right = s\n          } else {\n            pp.left = s\n          }\n        }\n        stack[i-1] = s\n        return\n      } else if(s.right && s.right._color === RED) {\n        //console.log(\"case 1: right sibling child red\")\n        s = p.left = cloneNode(s)\n        z = s.right = cloneNode(s.right)\n        p.left = z.right\n        s.right = z.left\n        z.right = p\n        z.left = s\n        z._color = p._color\n        p._color = BLACK\n        s._color = BLACK\n        n._color = BLACK\n        recount(p)\n        recount(s)\n        recount(z)\n        if(i > 1) {\n          var pp = stack[i-2]\n          if(pp.right === p) {\n            pp.right = z\n          } else {\n            pp.left = z\n          }\n        }\n        stack[i-1] = z\n        return\n      }\n      if(s._color === BLACK) {\n        if(p._color === RED) {\n          //console.log(\"case 2: black sibling, red parent\")\n          p._color = BLACK\n          p.left = repaint(RED, s)\n          return\n        } else {\n          //console.log(\"case 2: black sibling, black parent\")\n          p.left = repaint(RED, s)\n          continue  \n        }\n      } else {\n        //console.log(\"case 3: red sibling\")\n        s = cloneNode(s)\n        p.left = s.right\n        s.right = p\n        s._color = p._color\n        p._color = RED\n        recount(p)\n        recount(s)\n        if(i > 1) {\n          var pp = stack[i-2]\n          if(pp.right === p) {\n            pp.right = s\n          } else {\n            pp.left = s\n          }\n        }\n        stack[i-1] = s\n        stack[i] = p\n        if(i+1 < stack.length) {\n          stack[i+1] = n\n        } else {\n          stack.push(n)\n        }\n        i = i+2\n      }\n    }\n  }\n}\n\n//Removes item at iterator from tree\niproto.remove = function() {\n  var stack = this._stack\n  if(stack.length === 0) {\n    return this.tree\n  }\n  //First copy path to node\n  var cstack = new Array(stack.length)\n  var n = stack[stack.length-1]\n  cstack[cstack.length-1] = new RBNode(n._color, n.key, n.value, n.left, n.right, n._count)\n  for(var i=stack.length-2; i>=0; --i) {\n    var n = stack[i]\n    if(n.left === stack[i+1]) {\n      cstack[i] = new RBNode(n._color, n.key, n.value, cstack[i+1], n.right, n._count)\n    } else {\n      cstack[i] = new RBNode(n._color, n.key, n.value, n.left, cstack[i+1], n._count)\n    }\n  }\n\n  //Get node\n  n = cstack[cstack.length-1]\n  //console.log(\"start remove: \", n.value)\n\n  //If not leaf, then swap with previous node\n  if(n.left && n.right) {\n    //console.log(\"moving to leaf\")\n\n    //First walk to previous leaf\n    var split = cstack.length\n    n = n.left\n    while(n.right) {\n      cstack.push(n)\n      n = n.right\n    }\n    //Copy path to leaf\n    var v = cstack[split-1]\n    cstack.push(new RBNode(n._color, v.key, v.value, n.left, n.right, n._count))\n    cstack[split-1].key = n.key\n    cstack[split-1].value = n.value\n\n    //Fix up stack\n    for(var i=cstack.length-2; i>=split; --i) {\n      n = cstack[i]\n      cstack[i] = new RBNode(n._color, n.key, n.value, n.left, cstack[i+1], n._count)\n    }\n    cstack[split-1].left = cstack[split]\n  }\n  //console.log(\"stack=\", cstack.map(function(v) { return v.value }))\n\n  //Remove leaf node\n  n = cstack[cstack.length-1]\n  if(n._color === RED) {\n    //Easy case: removing red leaf\n    //console.log(\"RED leaf\")\n    var p = cstack[cstack.length-2]\n    if(p.left === n) {\n      p.left = null\n    } else if(p.right === n) {\n      p.right = null\n    }\n    cstack.pop()\n    for(var i=0; i<cstack.length; ++i) {\n      cstack[i]._count--\n    }\n    return new RedBlackTree(this.tree._compare, cstack[0])\n  } else {\n    if(n.left || n.right) {\n      //Second easy case:  Single child black parent\n      //console.log(\"BLACK single child\")\n      if(n.left) {\n        swapNode(n, n.left)\n      } else if(n.right) {\n        swapNode(n, n.right)\n      }\n      //Child must be red, so repaint it black to balance color\n      n._color = BLACK\n      for(var i=0; i<cstack.length-1; ++i) {\n        cstack[i]._count--\n      }\n      return new RedBlackTree(this.tree._compare, cstack[0])\n    } else if(cstack.length === 1) {\n      //Third easy case: root\n      //console.log(\"ROOT\")\n      return new RedBlackTree(this.tree._compare, null)\n    } else {\n      //Hard case: Repaint n, and then do some nasty stuff\n      //console.log(\"BLACK leaf no children\")\n      for(var i=0; i<cstack.length; ++i) {\n        cstack[i]._count--\n      }\n      var parent = cstack[cstack.length-2]\n      fixDoubleBlack(cstack)\n      //Fix up links\n      if(parent.left === n) {\n        parent.left = null\n      } else {\n        parent.right = null\n      }\n    }\n  }\n  return new RedBlackTree(this.tree._compare, cstack[0])\n}\n\n//Returns key\nObject.defineProperty(iproto, \"key\", {\n  get: function() {\n    if(this._stack.length > 0) {\n      return this._stack[this._stack.length-1].key\n    }\n    return\n  },\n  enumerable: true\n})\n\n//Returns value\nObject.defineProperty(iproto, \"value\", {\n  get: function() {\n    if(this._stack.length > 0) {\n      return this._stack[this._stack.length-1].value\n    }\n    return\n  },\n  enumerable: true\n})\n\n\n//Returns the position of this iterator in the sorted list\nObject.defineProperty(iproto, \"index\", {\n  get: function() {\n    var idx = 0\n    var stack = this._stack\n    if(stack.length === 0) {\n      var r = this.tree.root\n      if(r) {\n        return r._count\n      }\n      return 0\n    } else if(stack[stack.length-1].left) {\n      idx = stack[stack.length-1].left._count\n    }\n    for(var s=stack.length-2; s>=0; --s) {\n      if(stack[s+1] === stack[s].right) {\n        ++idx\n        if(stack[s].left) {\n          idx += stack[s].left._count\n        }\n      }\n    }\n    return idx\n  },\n  enumerable: true\n})\n\n//Advances iterator to next element in list\niproto.next = function() {\n  var stack = this._stack\n  if(stack.length === 0) {\n    return\n  }\n  var n = stack[stack.length-1]\n  if(n.right) {\n    n = n.right\n    while(n) {\n      stack.push(n)\n      n = n.left\n    }\n  } else {\n    stack.pop()\n    while(stack.length > 0 && stack[stack.length-1].right === n) {\n      n = stack[stack.length-1]\n      stack.pop()\n    }\n  }\n}\n\n//Checks if iterator is at end of tree\nObject.defineProperty(iproto, \"hasNext\", {\n  get: function() {\n    var stack = this._stack\n    if(stack.length === 0) {\n      return false\n    }\n    if(stack[stack.length-1].right) {\n      return true\n    }\n    for(var s=stack.length-1; s>0; --s) {\n      if(stack[s-1].left === stack[s]) {\n        return true\n      }\n    }\n    return false\n  }\n})\n\n//Update value\niproto.update = function(value) {\n  var stack = this._stack\n  if(stack.length === 0) {\n    throw new Error(\"Can't update empty node!\")\n  }\n  var cstack = new Array(stack.length)\n  var n = stack[stack.length-1]\n  cstack[cstack.length-1] = new RBNode(n._color, n.key, value, n.left, n.right, n._count)\n  for(var i=stack.length-2; i>=0; --i) {\n    n = stack[i]\n    if(n.left === stack[i+1]) {\n      cstack[i] = new RBNode(n._color, n.key, n.value, cstack[i+1], n.right, n._count)\n    } else {\n      cstack[i] = new RBNode(n._color, n.key, n.value, n.left, cstack[i+1], n._count)\n    }\n  }\n  return new RedBlackTree(this.tree._compare, cstack[0])\n}\n\n//Moves iterator backward one element\niproto.prev = function() {\n  var stack = this._stack\n  if(stack.length === 0) {\n    return\n  }\n  var n = stack[stack.length-1]\n  if(n.left) {\n    n = n.left\n    while(n) {\n      stack.push(n)\n      n = n.right\n    }\n  } else {\n    stack.pop()\n    while(stack.length > 0 && stack[stack.length-1].left === n) {\n      n = stack[stack.length-1]\n      stack.pop()\n    }\n  }\n}\n\n//Checks if iterator is at start of tree\nObject.defineProperty(iproto, \"hasPrev\", {\n  get: function() {\n    var stack = this._stack\n    if(stack.length === 0) {\n      return false\n    }\n    if(stack[stack.length-1].left) {\n      return true\n    }\n    for(var s=stack.length-1; s>0; --s) {\n      if(stack[s-1].right === stack[s]) {\n        return true\n      }\n    }\n    return false\n  }\n})\n\n//Default comparison function\nfunction defaultCompare(a, b) {\n  if(a < b) {\n    return -1\n  }\n  if(a > b) {\n    return 1\n  }\n  return 0\n}\n\n//Build a tree\nfunction createRBTree(compare) {\n  return new RedBlackTree(compare || defaultCompare, null)\n}","'use strict';\nexports.test = function () {\n  // Don't get fooled by e.g. browserify environments.\n  return (typeof process !== 'undefined') && !process.browser;\n};\n\nexports.install = function (func) {\n  return function () {\n    process.nextTick(func);\n  };\n};\n","'use strict';\n//based off rsvp https://github.com/tildeio/rsvp.js\n//license https://github.com/tildeio/rsvp.js/blob/master/LICENSE\n//https://github.com/tildeio/rsvp.js/blob/master/lib/rsvp/asap.js\n\nvar Mutation = global.MutationObserver || global.WebKitMutationObserver;\n\nexports.test = function () {\n  return Mutation;\n};\n\nexports.install = function (handle) {\n  var called = 0;\n  var observer = new Mutation(handle);\n  var element = global.document.createTextNode('');\n  observer.observe(element, {\n    characterData: true\n  });\n  return function () {\n    element.data = (called = ++called % 2);\n  };\n};","'use strict';\n\nexports.test = function () {\n  if (global.setImmediate) {\n    // we can only get here in IE10\n    // which doesn't handel postMessage well\n    return false;\n  }\n  return typeof global.MessageChannel !== 'undefined';\n};\n\nexports.install = function (func) {\n  var channel = new global.MessageChannel();\n  channel.port1.onmessage = func;\n  return function () {\n    channel.port2.postMessage(0);\n  };\n};","'use strict';\n\nexports.test = function () {\n  return 'document' in global && 'onreadystatechange' in global.document.createElement('script');\n};\n\nexports.install = function (handle) {\n  return function () {\n\n    // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n    // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n    var scriptEl = global.document.createElement('script');\n    scriptEl.onreadystatechange = function () {\n      handle();\n\n      scriptEl.onreadystatechange = null;\n      scriptEl.parentNode.removeChild(scriptEl);\n      scriptEl = null;\n    };\n    global.document.documentElement.appendChild(scriptEl);\n\n    return handle;\n  };\n};","'use strict';\nexports.test = function () {\n  return true;\n};\n\nexports.install = function (t) {\n  return function () {\n    setTimeout(t, 0);\n  };\n};","'use strict';\nvar types = [\n  require('./nextTick'),\n  require('./mutation.js'),\n  require('./messageChannel'),\n  require('./stateChange'),\n  require('./timeout')\n];\nvar draining;\nvar currentQueue;\nvar queueIndex = -1;\nvar queue = [];\nvar scheduled = false;\nfunction cleanUpNextTick() {\n  if (!draining || !currentQueue) {\n    return;\n  }\n  draining = false;\n  if (currentQueue.length) {\n    queue = currentQueue.concat(queue);\n  } else {\n    queueIndex = -1;\n  }\n  if (queue.length) {\n    nextTick();\n  }\n}\n\n//named nextTick for less confusing stack traces\nfunction nextTick() {\n  if (draining) {\n    return;\n  }\n  scheduled = false;\n  draining = true;\n  var len = queue.length;\n  var timeout = setTimeout(cleanUpNextTick);\n  while (len) {\n    currentQueue = queue;\n    queue = [];\n    while (currentQueue && ++queueIndex < len) {\n      currentQueue[queueIndex].run();\n    }\n    queueIndex = -1;\n    len = queue.length;\n  }\n  currentQueue = null;\n  queueIndex = -1;\n  draining = false;\n  clearTimeout(timeout);\n}\nvar scheduleDrain;\nvar i = -1;\nvar len = types.length;\nwhile (++i < len) {\n  if (types[i] && types[i].test && types[i].test()) {\n    scheduleDrain = types[i].install(nextTick);\n    break;\n  }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n  this.fun = fun;\n  this.array = array;\n}\nItem.prototype.run = function () {\n  var fun = this.fun;\n  var array = this.array;\n  switch (array.length) {\n  case 0:\n    return fun();\n  case 1:\n    return fun(array[0]);\n  case 2:\n    return fun(array[0], array[1]);\n  case 3:\n    return fun(array[0], array[1], array[2]);\n  default:\n    return fun.apply(null, array);\n  }\n\n};\nmodule.exports = immediate;\nfunction immediate(task) {\n  var args = new Array(arguments.length - 1);\n  if (arguments.length > 1) {\n    for (var i = 1; i < arguments.length; i++) {\n      args[i - 1] = arguments[i];\n    }\n  }\n  queue.push(new Item(task, args));\n  if (!scheduled && !draining) {\n    scheduled = true;\n    scheduleDrain();\n  }\n}\n","module.exports = require('immediate')\n","var inherits          = require('inherits')\n  , AbstractLevelDOWN = require('abstract-leveldown').AbstractLevelDOWN\n  , AbstractIterator  = require('abstract-leveldown').AbstractIterator\n  , ltgt              = require('ltgt')\n  , createRBT = require('functional-red-black-tree')\n  , globalStore       = {}\n\n// In Node, use global.setImmediate. In the browser, use a consistent\n// microtask library to give consistent microtask experience to all browsers\nvar setImmediate = require('./immediate')\n\nfunction gt(value) {\n  return ltgt.compare(value, this._end) > 0\n}\n\nfunction gte(value) {\n  return ltgt.compare(value, this._end) >= 0\n}\n\nfunction lt(value) {\n  return ltgt.compare(value, this._end) < 0\n}\n\nfunction lte(value) {\n  return ltgt.compare(value, this._end) <= 0\n}\n\n\nfunction MemIterator (db, options) {\n  AbstractIterator.call(this, db)\n  this._limit   = options.limit\n\n  if (this._limit === -1)\n    this._limit = Infinity\n\n  var tree = db._store[db._location]\n\n  this.keyAsBuffer = options.keyAsBuffer !== false\n  this.valueAsBuffer = options.valueAsBuffer !== false\n  this._reverse   = options.reverse\n  this._options = options\n  this._done = 0\n\n  if (!this._reverse) {\n    this._incr = 'next'\n    this._start = ltgt.lowerBound(options)\n    this._end = ltgt.upperBound(options)\n\n    if (typeof this._start === 'undefined')\n      this._tree = tree.begin\n    else if (ltgt.lowerBoundInclusive(options))\n      this._tree = tree.ge(this._start)\n    else\n      this._tree = tree.gt(this._start)\n\n    if (this._end) {\n      if (ltgt.upperBoundInclusive(options))\n        this._test = lte\n      else\n        this._test = lt\n    }\n\n  } else {\n    this._incr = 'prev'\n    this._start = ltgt.upperBound(options)\n    this._end = ltgt.lowerBound(options)\n\n    if (typeof this._start === 'undefined')\n      this._tree = tree.end\n    else if (ltgt.upperBoundInclusive(options))\n      this._tree = tree.le(this._start)\n    else\n      this._tree = tree.lt(this._start)\n\n    if (this._end) {\n      if (ltgt.lowerBoundInclusive(options))\n        this._test = gte\n      else\n        this._test = gt\n    }\n\n  }\n\n}\n\ninherits(MemIterator, AbstractIterator)\n\nMemIterator.prototype._next = function (callback) {\n  var key\n    , value\n\n  if (this._done++ >= this._limit)\n    return setImmediate(callback)\n\n  if (!this._tree.valid)\n    return setImmediate(callback)\n\n  key = this._tree.key\n  value = this._tree.value\n\n  if (!this._test(key))\n    return setImmediate(callback)\n\n  if (this.keyAsBuffer)\n    key = new Buffer(key)\n\n  if (this.valueAsBuffer)\n    value = new Buffer(value)\n\n  this._tree[this._incr]()\n\n  setImmediate(function callNext() {\n    callback(null, key, value)\n  })\n}\n\nMemIterator.prototype._test = function () {return true}\n\nfunction MemDOWN (location) {\n  if (!(this instanceof MemDOWN))\n    return new MemDOWN(location)\n\n  AbstractLevelDOWN.call(this, typeof location == 'string' ? location : '')\n\n  this._location = this.location ? ('$' + this.location) : '_tree'\n  this._store = this.location ? globalStore: this\n  this._store[this._location] = this._store[this._location] || createRBT(ltgt.compare)\n}\n\nMemDOWN.clearGlobalStore = function (strict) {\n  if (strict) {\n    Object.keys(globalStore).forEach(function (key) {\n      delete globalStore[key]\n    })\n  } else {\n    globalStore = {}\n  }\n}\n\ninherits(MemDOWN, AbstractLevelDOWN)\n\nMemDOWN.prototype._open = function (options, callback) {\n  var self = this\n  setImmediate(function callNext() { callback(null, self) })\n}\n\nMemDOWN.prototype._put = function (key, value, options, callback) {\n  if (typeof value === 'undefined' || value === null) value = ''\n\n  var iter = this._store[this._location].find(key)\n\n  if (iter.valid) {\n    this._store[this._location] = iter.update(value)\n  } else {\n    this._store[this._location] = this._store[this._location].insert(key, value)\n  }\n\n  setImmediate(callback)\n}\n\nMemDOWN.prototype._get = function (key, options, callback) {\n  var value = this._store[this._location].get(key)\n\n  if (typeof value === 'undefined') {\n    // 'NotFound' error, consistent with LevelDOWN API\n    return setImmediate(function callNext() { callback(new Error('NotFound')) })\n  }\n\n  if (options.asBuffer !== false && !this._isBuffer(value))\n    value = new Buffer(String(value))\n\n  setImmediate(function callNext () {\n    callback(null, value)\n  })\n\n}\n\nMemDOWN.prototype._del = function (key, options, callback) {\n  this._store[this._location] = this._store[this._location].remove(key)\n  setImmediate(callback)\n}\n\nMemDOWN.prototype._batch = function (array, options, callback) {\n  var i = -1\n    , key\n    , value\n    , iter\n    , len = array.length\n    , tree = this._store[this._location]\n\n  while (++i < len) {\n    if (!array[i])\n      continue\n\n    key = this._isBuffer(array[i].key) ? array[i].key : String(array[i].key)\n    iter = tree.find(key)\n\n    if (array[i].type === 'put') {\n      value = this._isBuffer(array[i].value) ? array[i].value : String(array[i].value)\n      tree = iter.valid ? iter.update(value) : tree.insert(key, value)\n    } else {\n      tree = iter.remove()\n    }\n  }\n\n  this._store[this._location] = tree\n\n  setImmediate(callback)\n}\n\nMemDOWN.prototype._iterator = function (options) {\n  return new MemIterator(this, options)\n}\n\nMemDOWN.prototype._isBuffer = function (obj) {\n  return Buffer.isBuffer(obj)\n}\n\nMemDOWN.destroy = function (name, callback) {\n  var key = '$' + name\n\n  if (key in globalStore)\n    delete globalStore[key]\n\n  setImmediate(callback)\n}\n\nmodule.exports = MemDOWN\n","import { assign } from 'pouchdb-utils';\nimport CoreLevelPouch from 'pouchdb-adapter-leveldb-core';\nimport memdown from 'memdown';\n\nfunction MemDownPouch(opts, callback) {\n  var _opts = assign({\n    db: memdown\n  }, opts);\n\n  CoreLevelPouch.call(this, _opts, callback);\n}\n\n// overrides for normal LevelDB behavior on Node\nMemDownPouch.valid = function () {\n  return true;\n};\nMemDownPouch.use_prefix = false;\n\nfunction index (PouchDB) {\n  PouchDB.adapter('memory', MemDownPouch, true);\n}\n\nexport default index;\n","import RxDB from \"rxdb\";\n\nimport {VisicraftDatastore, VisicraftCollections} from \"./datastore\";\n\nRxDB.plugin(require(\"pouchdb-adapter-idb\"));\nRxDB.plugin(require(\"pouchdb-adapter-memory\"));\n\n/**\n * Represents the interface of options used to configured the initialized datastore\n */\nexport interface IDatastoreOptions {\n    /**\n     * Represents what type of adapter will be used for persistence, (check out plugins for RxDB)\n     */\n    adapter?: string;\n\n    /**\n     * Represents the namespace that the datastore will be persisted as\n     */\n    namespace?: string;\n}\n\n/**\n * Represents the interface of options used to configure a `VisicraftClient` instance\n */\nexport interface IVisicraftClientOptions {\n    /**\n     * Represents the options passed into configuring the datastore\n     */\n    datastore?: IDatastoreOptions;\n}\n\n/**\n * Represents the normalized options used to configure the initialized datastore\n */\nexport class DatastoreOptions implements IDatastoreOptions {\n    adapter = \"memory\";\n\n    namespace = \"visicraft_v1\";\n\n    /**\n     * Constructor for `DatastoreOptions`\n     */\n    constructor(options: IDatastoreOptions = {}) {\n        Object.assign(this, options);\n    }\n}\n\n/**\n * Represents the options used to configure a `VisicraftClient` instance\n */\nexport class VisicraftClientOptions implements IVisicraftClientOptions {\n    datastore: DatastoreOptions;\n\n    /**\n     * Constructor for `VisicraftClientOptions`\n     */\n    constructor(options: IVisicraftClientOptions = {}) {\n        this.datastore = new DatastoreOptions(options.datastore);\n    }\n\n    /**\n     * Returns the initialized datastore instance\n     */\n    create_datastore(): Promise<VisicraftDatastore> {\n        const {adapter, namespace} = this.datastore;\n\n        return RxDB.create<VisicraftCollections>({\n            adapter: adapter,\n            name: namespace,\n            queryChangeDetection: true\n        });\n    }\n}\n","import {VisicraftDatastore, create_collections} from \"./datastore\";\nimport {IVisicraftClientOptions, VisicraftClientOptions} from \"./visicraft_client_options\";\n\n/**\n * Represents the class used for base functionality of Visicraft clients\n */\nexport class VisicraftClient {\n    /**\n     * Represents the initialized datastore, if previously opened\n     */\n    datastore?: VisicraftDatastore;\n\n    /**\n     * Represents the options that `VisicraftClient` was constructed with\n     */\n    options: VisicraftClientOptions;\n\n    /**\n     * Constructor for `VisicraftClient`\n     * @param opts - Configurable options to pass in\n     */\n    constructor(opts: IVisicraftClientOptions = {}) {\n        this.options = new VisicraftClientOptions(opts);\n    }\n\n    /**\n     * Closes the connection to the current datastore\n     */\n    async close_datastore(): Promise<boolean> {\n        const datastore = this.get_datastore();\n\n        const destroyed = await datastore.destroy();\n        if (destroyed) this.datastore = undefined;\n\n        return destroyed;\n    }\n\n    /**\n     * Initializes a new connection to the configured datastore\n     */\n    async open_datastore(): Promise<VisicraftDatastore> {\n        if (this.datastore) {\n            throw new Error(\n                \"bad dispatch to 'VisicraftClient.open_datastore' (datastore already initialized)\"\n            );\n        }\n\n        const datastore = await this.options.create_datastore();\n        await create_collections(datastore);\n\n        this.datastore = datastore;\n        return datastore;\n    }\n\n    /**\n     * Returns the current datastore connection, if any, otherwise throws an exception\n     */\n    get_datastore(): VisicraftDatastore {\n        if (this.datastore) return this.datastore;\n\n        throw new Error(\"bad dispatch to 'get_datastore' (datastore not initialized)\");\n    }\n}\n","export {VisicraftClient} from \"./visicraft_client\";\nexport {DatastoreOptions, VisicraftClientOptions} from \"./visicraft_client_options\";\n"]}
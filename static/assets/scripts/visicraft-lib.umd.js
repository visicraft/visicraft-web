parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"eKch":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3];const e=(()=>"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:void 0)(),o=t=>{const e=new DataView(t);let o="";for(let n=0;n<e.byteLength;n+=4)o+=e.getUint32(n).toString(16).padStart(8,"0");return o},n=t=>async(n,r)=>{"string"==typeof n&&(n=(new e.TextEncoder).encode(n)),r={outputFormat:"hex",...r};const s=await e.crypto.subtle.digest(t,n);return"hex"===r.outputFormat?o(s):s};exports.sha1=n("SHA-1"),exports.sha256=n("SHA-256"),exports.sha384=n("SHA-384"),exports.sha512=n("SHA-512");
},{}],"HBXZ":[function(require,module,exports) {
var define;
var e;!function(a,o,r){"object"==typeof exports?(module.exports=r(),module.exports.default=r()):"function"==typeof e&&e.amd?e(r):o.slugify=r()}(0,this,function(){var e=JSON.parse('{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","¢":"cent","£":"pound","¤":"currency","¥":"yen","©":"(c)","ª":"a","®":"(r)","º":"o","À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ý":"Y","Þ":"TH","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"u","ý":"y","þ":"th","ÿ":"y","Ā":"A","ā":"a","Ă":"A","ă":"a","Ą":"A","ą":"a","Ć":"C","ć":"c","Č":"C","č":"c","Ď":"D","ď":"d","Đ":"DJ","đ":"dj","Ē":"E","ē":"e","Ė":"E","ė":"e","Ę":"e","ę":"e","Ě":"E","ě":"e","Ğ":"G","ğ":"g","Ģ":"G","ģ":"g","Ĩ":"I","ĩ":"i","Ī":"i","ī":"i","Į":"I","į":"i","İ":"I","ı":"i","Ķ":"k","ķ":"k","Ļ":"L","ļ":"l","Ľ":"L","ľ":"l","Ł":"L","ł":"l","Ń":"N","ń":"n","Ņ":"N","ņ":"n","Ň":"N","ň":"n","Ő":"O","ő":"o","Œ":"OE","œ":"oe","Ŕ":"R","ŕ":"r","Ř":"R","ř":"r","Ś":"S","ś":"s","Ş":"S","ş":"s","Š":"S","š":"s","Ţ":"T","ţ":"t","Ť":"T","ť":"t","Ũ":"U","ũ":"u","Ū":"u","ū":"u","Ů":"U","ů":"u","Ű":"U","ű":"u","Ų":"U","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","ź":"z","Ż":"Z","ż":"z","Ž":"Z","ž":"z","ƒ":"f","Ơ":"O","ơ":"o","Ư":"U","ư":"u","ǈ":"LJ","ǉ":"lj","ǋ":"NJ","ǌ":"nj","Ș":"S","ș":"s","Ț":"T","ț":"t","˚":"o","Ά":"A","Έ":"E","Ή":"H","Ί":"I","Ό":"O","Ύ":"Y","Ώ":"W","ΐ":"i","Α":"A","Β":"B","Γ":"G","Δ":"D","Ε":"E","Ζ":"Z","Η":"H","Θ":"8","Ι":"I","Κ":"K","Λ":"L","Μ":"M","Ν":"N","Ξ":"3","Ο":"O","Π":"P","Ρ":"R","Σ":"S","Τ":"T","Υ":"Y","Φ":"F","Χ":"X","Ψ":"PS","Ω":"W","Ϊ":"I","Ϋ":"Y","ά":"a","έ":"e","ή":"h","ί":"i","ΰ":"y","α":"a","β":"b","γ":"g","δ":"d","ε":"e","ζ":"z","η":"h","θ":"8","ι":"i","κ":"k","λ":"l","μ":"m","ν":"n","ξ":"3","ο":"o","π":"p","ρ":"r","ς":"s","σ":"s","τ":"t","υ":"y","φ":"f","χ":"x","ψ":"ps","ω":"w","ϊ":"i","ϋ":"y","ό":"o","ύ":"y","ώ":"w","Ё":"Yo","Ђ":"DJ","Є":"Ye","І":"I","Ї":"Yi","Ј":"J","Љ":"LJ","Њ":"NJ","Ћ":"C","Џ":"DZ","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ж":"Zh","З":"Z","И":"I","Й":"J","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"H","Ц":"C","Ч":"Ch","Ш":"Sh","Щ":"Sh","Ъ":"U","Ы":"Y","Ь":"","Э":"E","Ю":"Yu","Я":"Ya","а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ж":"zh","з":"z","и":"i","й":"j","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"h","ц":"c","ч":"ch","ш":"sh","щ":"sh","ъ":"u","ы":"y","ь":"","э":"e","ю":"yu","я":"ya","ё":"yo","ђ":"dj","є":"ye","і":"i","ї":"yi","ј":"j","љ":"lj","њ":"nj","ћ":"c","ѝ":"u","џ":"dz","Ґ":"G","ґ":"g","Ғ":"GH","ғ":"gh","Қ":"KH","қ":"kh","Ң":"NG","ң":"ng","Ү":"UE","ү":"ue","Ұ":"U","ұ":"u","Һ":"H","һ":"h","Ә":"AE","ә":"ae","Ө":"OE","ө":"oe","฿":"baht","ა":"a","ბ":"b","გ":"g","დ":"d","ე":"e","ვ":"v","ზ":"z","თ":"t","ი":"i","კ":"k","ლ":"l","მ":"m","ნ":"n","ო":"o","პ":"p","ჟ":"zh","რ":"r","ს":"s","ტ":"t","უ":"u","ფ":"f","ქ":"k","ღ":"gh","ყ":"q","შ":"sh","ჩ":"ch","ც":"ts","ძ":"dz","წ":"ts","ჭ":"ch","ხ":"kh","ჯ":"j","ჰ":"h","Ẁ":"W","ẁ":"w","Ẃ":"W","ẃ":"w","Ẅ":"W","ẅ":"w","ẞ":"SS","Ạ":"A","ạ":"a","Ả":"A","ả":"a","Ấ":"A","ấ":"a","Ầ":"A","ầ":"a","Ẩ":"A","ẩ":"a","Ẫ":"A","ẫ":"a","Ậ":"A","ậ":"a","Ắ":"A","ắ":"a","Ằ":"A","ằ":"a","Ẳ":"A","ẳ":"a","Ẵ":"A","ẵ":"a","Ặ":"A","ặ":"a","Ẹ":"E","ẹ":"e","Ẻ":"E","ẻ":"e","Ẽ":"E","ẽ":"e","Ế":"E","ế":"e","Ề":"E","ề":"e","Ể":"E","ể":"e","Ễ":"E","ễ":"e","Ệ":"E","ệ":"e","Ỉ":"I","ỉ":"i","Ị":"I","ị":"i","Ọ":"O","ọ":"o","Ỏ":"O","ỏ":"o","Ố":"O","ố":"o","Ồ":"O","ồ":"o","Ổ":"O","ổ":"o","Ỗ":"O","ỗ":"o","Ộ":"O","ộ":"o","Ớ":"O","ớ":"o","Ờ":"O","ờ":"o","Ở":"O","ở":"o","Ỡ":"O","ỡ":"o","Ợ":"O","ợ":"o","Ụ":"U","ụ":"u","Ủ":"U","ủ":"u","Ứ":"U","ứ":"u","Ừ":"U","ừ":"u","Ử":"U","ử":"u","Ữ":"U","ữ":"u","Ự":"U","ự":"u","Ỳ":"Y","ỳ":"y","Ỵ":"Y","ỵ":"y","Ỷ":"Y","ỷ":"y","Ỹ":"Y","ỹ":"y","‘":"\'","’":"\'","“":"\\"","”":"\\"","†":"+","•":"*","…":"...","₠":"ecu","₢":"cruzeiro","₣":"french franc","₤":"lira","₥":"mill","₦":"naira","₧":"peseta","₨":"rupee","₩":"won","₪":"new shequel","₫":"dong","€":"euro","₭":"kip","₮":"tugrik","₯":"drachma","₰":"penny","₱":"peso","₲":"guarani","₳":"austral","₴":"hryvnia","₵":"cedi","₸":"kazakhstani tenge","₹":"indian rupee","₽":"russian ruble","₿":"bitcoin","℠":"sm","™":"tm","∂":"d","∆":"delta","∑":"sum","∞":"infinity","♥":"love","元":"yuan","円":"yen","﷼":"rial"}'),a=JSON.parse('{"vi":{"Đ":"D","đ":"d"}}');function o(o,r){if("string"!=typeof o)throw new Error("slugify: string argument expected");var n=a[(r="string"==typeof r?{replacement:r}:r||{}).locale]||{},u=o.split("").reduce(function(a,o){return a+(n[o]||e[o]||o).replace(r.remove||/[^\w\s$*_+~.()'"!\-:@]/g,"")},"").trim().replace(/[-\s]+/g,r.replacement||"-");return r.lower?u.toLowerCase():u}return o.extend=function(a){for(var o in a)e[o]=a[o]},o});
},{}],"mfLK":[function(require,module,exports) {
"use strict";var e,E,T;Object.defineProperty(exports,"__esModule",{value:!0}),function(e){e.powers="TYPE_POWER",e.races="TYPE_RACE",e.shopitems="TYPE_SHOPITEM"}(e=exports.CONTENT_TYPES||(exports.CONTENT_TYPES={})),function(e){e.ascending="DIRECTION_ASCEND",e.decending="DIRECTION_DECEND"}(E=exports.SORTING_DIRECTIONS||(exports.SORTING_DIRECTIONS={})),function(e){e.alphabetical="MODE_ALPHABETICAL",e.recent="MODE_RECENT"}(T=exports.SORTING_MODES||(exports.SORTING_MODES={}));
},{}],"o8D6":[function(require,module,exports) {
"use strict";function e(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.escape_regex=e;
},{}],"a2gz":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(s,a)}c((n=n.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var n=require("crypto-hash"),i=r(require("slugify")),o=require("../util/constants"),s=require("../util/string");function a(r){return e(this,void 0,Promise,function(){var e;return t(this,function(t){switch(t.label){case 0:return e=r,[4,u(r)];case 1:return e.identifier=t.sent(),[2]}})})}function c(r){return e(this,void 0,Promise,function(){var e;return t(this,function(t){switch(t.label){case 0:return e=r,[4,u(r)];case 1:return e.identifier=t.sent(),[2]}})})}function u(e){var t=e.contributors,r=e.title;(t=t.map(function(e){return i.default(e)})).sort();t.join("");return r=i.default(r),n.sha1(r+t)}function l(r){return e(this,void 0,Promise,function(){var e;return t(this,function(t){switch(t.label){case 0:return[4,r.collection({name:"races",methods:exports.RACE_DOCUMENT_METHODS,schema:exports.RACE_DOCUMENT_SCHEMA,statics:exports.RACE_COLLECTION_METHODS})];case 1:return(e=t.sent()).preInsert(a,!1),e.preSave(c,!1),[2]}})})}exports.RACE_COLLECTION_METHODS={query_race:function(e){},query_races:function(e){void 0===e&&(e={});var t,r=Object.assign({filter:"",sorting_direction:o.SORTING_DIRECTIONS.ascending,sorting_mode:o.SORTING_MODES.recent},e),n=r.filter,i=r.sorting_direction,a=r.sorting_mode;if(i===o.SORTING_DIRECTIONS.ascending)t="";else{if(i!==o.SORTING_DIRECTIONS.decending)throw new Error("bad dispatch to 'RaceCollection.query_races' (bad sorting direction "+i+")");t="-"}var c=this.find();if(a===o.SORTING_MODES.alphabetical)c=c.sort(t+"title");else{if(a!==o.SORTING_MODES.recent)throw new Error("bad dispatch to 'RaceCollection.query_races' (bad sorting mode "+a+")");c=c.sort(t+"identifier")}if(n){var u=s.escape_regex(n),l=new RegExp(".*"+u+".*","i");c=c.or([{title:{$regex:l}},{contributors:{$regex:l}}])}return c}},exports.RACE_DOCUMENT_METHODS={get_short_identifier:function(){return this.identifier.substr(0,8)},get_title_slug:function(){return i.default(this.title)}},exports.RACE_DOCUMENT_SCHEMA={title:"races",description:"Schema for validating internally stored WCS Races",version:0,keyCompression:!0,required:["contributors","description","summary","title"],type:"object",properties:{identifier:{type:"string",primary:!0},description:{type:"string"},summary:{type:"string"},content_type:{type:"string",default:o.CONTENT_TYPES.races,index:!0,final:!0,enum:[o.CONTENT_TYPES.races]},contributors:{type:"array",final:!0,items:{type:"string"}},title:{type:"string",index:!0}}},exports.generate_identifier=u,exports.create_collection=l;
},{"crypto-hash":"eKch","slugify":"HBXZ","../util/constants":"mfLK","../util/string":"o8D6"}],"qF1w":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./races");function r(r){return Promise.all([e.create_collection(r)])}exports.create_collections=r;
},{"./races":"a2gz"}],"I5Ig":[function(require,module,exports) {
"use strict";function r(r){return function(){var t=arguments.length;if(t){for(var n=[],e=-1;++e<t;)n[e]=arguments[e];return r.call(this,n)}return r.call(this,[])}}module.exports=r;
},{}],"qpbW":[function(require,module,exports) {
"use strict";function t(t){return"$"+t}function e(t){return t.substring(1)}function r(){this._store={}}function o(t){if(this._store=new r,t&&Array.isArray(t))for(var e=0,o=t.length;e<o;e++)this.add(t[e])}function n(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var t=Object.getOwnPropertyDescriptor(Map,Symbol.species);return t&&"get"in t&&Map[Symbol.species]===Map}var s,i;Object.defineProperty(exports,"__esModule",{value:!0}),exports.Map=exports.Set=void 0,r.prototype.get=function(e){var r=t(e);return this._store[r]},r.prototype.set=function(e,r){var o=t(e);return this._store[o]=r,!0},r.prototype.has=function(e){return t(e)in this._store},r.prototype.delete=function(e){var r=t(e),o=r in this._store;return delete this._store[r],o},r.prototype.forEach=function(t){for(var r=Object.keys(this._store),o=0,n=r.length;o<n;o++){var s=r[o];t(this._store[s],s=e(s))}},Object.defineProperty(r.prototype,"size",{get:function(){return Object.keys(this._store).length}}),o.prototype.add=function(t){return this._store.set(t,!0)},o.prototype.has=function(t){return this._store.has(t)},o.prototype.forEach=function(t){this._store.forEach(function(e,r){t(r)})},Object.defineProperty(o.prototype,"size",{get:function(){return this._store.size}}),exports.Set=s,exports.Map=i,n()?(exports.Set=s=Set,exports.Map=i=Map):(exports.Set=s=o,exports.Map=i=r);
},{}],"pyp0":[function(require,module,exports) {
"function"==typeof Object.create?module.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(t,e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t};
},{}],"uUPe":[function(require,module,exports) {
var global = arguments[3];
var e,t,n=arguments[3],a=n.MutationObserver||n.WebKitMutationObserver;if(a){var o=0,r=new a(u),s=n.document.createTextNode("");r.observe(s,{characterData:!0}),e=function(){s.data=o=++o%2}}else if(n.setImmediate||void 0===n.MessageChannel)e="document"in n&&"onreadystatechange"in n.document.createElement("script")?function(){var e=n.document.createElement("script");e.onreadystatechange=function(){u(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},n.document.documentElement.appendChild(e)}:function(){setTimeout(u,0)};else{var c=new n.MessageChannel;c.port1.onmessage=u,e=function(){c.port2.postMessage(0)}}var i=[];function u(){var e,n;t=!0;for(var a=i.length;a;){for(n=i,i=[],e=-1;++e<a;)n[e]();a=i.length}t=!1}function d(n){1!==i.push(n)||t||e()}module.exports=d;
},{}],"qncM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createError=A,exports.generateErrorFromResponse=L,exports.INVALID_URL=exports.IDB_ERROR=exports.MISSING_STUB=exports.FILE_EXISTS=exports.INVALID_REV=exports.FORBIDDEN=exports.LDB_ERROR=exports.WSQ_ERROR=exports.DB_MISSING=exports.NOT_AN_OBJECT=exports.BAD_REQUEST=exports.DOC_VALIDATION=exports.QUERY_PARSE_ERROR=exports.INVALID_REQUEST=exports.BAD_ARG=exports.UNKNOWN_ERROR=exports.NOT_OPEN=exports.RESERVED_ID=exports.MISSING_ID=exports.INVALID_ID=exports.REV_CONFLICT=exports.MISSING_DOC=exports.MISSING_BULK_DOCS=exports.UNAUTHORIZED=void 0;var e=r(require("inherits"));function r(e){return e&&e.__esModule?e:{default:e}}function t(e,r,t){Error.call(this,t),this.status=e,this.name=r,this.message=t,this.error=!0}(0,e.default)(t,Error),t.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};var s=new t(401,"unauthorized","Name or password is incorrect.");exports.UNAUTHORIZED=s;var o=new t(400,"bad_request","Missing JSON list of 'docs'");exports.MISSING_BULK_DOCS=o;var n=new t(404,"not_found","missing");exports.MISSING_DOC=n;var a=new t(409,"conflict","Document update conflict");exports.REV_CONFLICT=a;var i=new t(400,"bad_request","_id field must contain a string");exports.INVALID_ID=i;var _=new t(412,"missing_id","_id is required for puts");exports.MISSING_ID=_;var p=new t(400,"bad_request","Only reserved document ids may start with underscore.");exports.RESERVED_ID=p;var d=new t(412,"precondition_failed","Database not open");exports.NOT_OPEN=d;var u=new t(500,"unknown_error","Database encountered an unknown error");exports.UNKNOWN_ERROR=u;var I=new t(500,"badarg","Some query argument is invalid");exports.BAD_ARG=I;var R=new t(400,"invalid_request","Request was invalid");exports.INVALID_REQUEST=R;var x=new t(400,"query_parse_error","Some query parameter is invalid");exports.QUERY_PARSE_ERROR=x;var E=new t(500,"doc_validation","Bad special document member");exports.DOC_VALIDATION=E;var D=new t(400,"bad_request","Something wrong with the request");exports.BAD_REQUEST=D;var S=new t(400,"bad_request","Document must be a JSON object");exports.NOT_AN_OBJECT=S;var N=new t(404,"not_found","Database not found");exports.DB_MISSING=N;var v=new t(500,"indexed_db_went_bad","unknown");exports.IDB_ERROR=v;var w=new t(500,"web_sql_went_bad","unknown");exports.WSQ_ERROR=w;var c=new t(500,"levelDB_went_went_bad","unknown");exports.LDB_ERROR=c;var O=new t(403,"forbidden","Forbidden by design doc validate_doc_update function");exports.FORBIDDEN=O;var l=new t(400,"bad_request","Invalid rev format");exports.INVALID_REV=l;var m=new t(412,"file_exists","The database could not be created, the file already exists.");exports.FILE_EXISTS=m;var f=new t(412,"missing_stub","A pre-existing attachment stub wasn't found");exports.MISSING_STUB=f;var b=new t(413,"invalid_url","Provided URL is invalid");function A(e,r){function s(r){for(var t in e)"function"!=typeof e[t]&&(this[t]=e[t]);void 0!==r&&(this.reason=r)}return s.prototype=t.prototype,new s(r)}function L(e){if("object"!=typeof e){var r=e;(e=u).data=r}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}exports.INVALID_URL=b;
},{"inherits":"pyp0"}],"FRpO":[function(require,module,exports) {
"use strict";var e,t="object"==typeof Reflect?Reflect:null,n=t&&"function"==typeof t.apply?t.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};function r(e){console&&console.warn&&console.warn(e)}e=t&&"function"==typeof t.ownKeys?t.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}module.exports=o,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function u(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function f(e,t,n,i){var o,s,f;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),f=s[t]),void 0===f)f=s[t]=n,++e._eventsCount;else if("function"==typeof f?f=s[t]=i?[n,f]:[f,n]:i?f.unshift(n):f.push(n),(o=u(e))>0&&f.length>o&&!f.warned){f.warned=!0;var p=new Error("Possible EventEmitter memory leak detected. "+f.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");p.name="MaxListenersExceededWarning",p.emitter=e,p.type=t,p.count=f.length,r(p)}return e}function p(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,n(this.listener,this.target,e))}function v(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=p.bind(r);return i.listener=n,r.wrapFn=i,i}function h(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?y(i):c(i,i.length)}function a(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function c(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function l(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function y(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var u=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw u.context=s,u}var f=o[e];if(void 0===f)return!1;if("function"==typeof f)n(f,this,t);else{var p=f.length,v=c(f,p);for(r=0;r<p;++r)n(v[r],this,t)}return!0},o.prototype.addListener=function(e,t){return f(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return f(this,e,t,!0)},o.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,v(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,v(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,s;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():l(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return h(this,e,!0)},o.prototype.rawListeners=function(e){return h(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):a.call(e,t)},o.prototype.listenerCount=a,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]};
},{}],"OdJ5":[function(require,module,exports) {
var r="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(r){var e=new Uint8Array(16);module.exports=function(){return r(e),e}}else{var n=new Array(16);module.exports=function(){for(var r,e=0;e<16;e++)0==(3&e)&&(r=4294967296*Math.random()),n[e]=r>>>((3&e)<<3)&255;return n}}
},{}],"KHHX":[function(require,module,exports) {
for(var r=[],t=0;t<256;++t)r[t]=(t+256).toString(16).substr(1);function o(t,o){var n=o||0,u=r;return u[t[n++]]+u[t[n++]]+u[t[n++]]+u[t[n++]]+"-"+u[t[n++]]+u[t[n++]]+"-"+u[t[n++]]+u[t[n++]]+"-"+u[t[n++]]+u[t[n++]]+"-"+u[t[n++]]+u[t[n++]]+u[t[n++]]+u[t[n++]]+u[t[n++]]+u[t[n++]]}module.exports=o;
},{}],"uD0D":[function(require,module,exports) {
var e,r,o=require("./lib/rng"),s=require("./lib/bytesToUuid"),i=0,n=0;function c(c,l,u){var v=l&&u||0,a=l||[],d=(c=c||{}).node||e,t=void 0!==c.clockseq?c.clockseq:r;if(null==d||null==t){var m=o();null==d&&(d=e=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==t&&(t=r=16383&(m[6]<<8|m[7]))}var q=void 0!==c.msecs?c.msecs:(new Date).getTime(),f=void 0!==c.nsecs?c.nsecs:n+1,b=q-i+(f-n)/1e4;if(b<0&&void 0===c.clockseq&&(t=t+1&16383),(b<0||q>i)&&void 0===c.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");i=q,n=f,r=t;var k=(1e4*(268435455&(q+=122192928e5))+f)%4294967296;a[v++]=k>>>24&255,a[v++]=k>>>16&255,a[v++]=k>>>8&255,a[v++]=255&k;var w=q/4294967296*1e4&268435455;a[v++]=w>>>8&255,a[v++]=255&w,a[v++]=w>>>24&15|16,a[v++]=w>>>16&255,a[v++]=t>>>8|128,a[v++]=255&t;for(var g=0;g<6;++g)a[v+g]=d[g];return l||s(a)}module.exports=c;
},{"./lib/rng":"OdJ5","./lib/bytesToUuid":"KHHX"}],"jj8U":[function(require,module,exports) {
var r=require("./lib/rng"),n=require("./lib/bytesToUuid");function e(e,i,u){var a=i&&u||0;"string"==typeof e&&(i="binary"===e?new Array(16):null,e=null);var l=(e=e||{}).random||(e.rng||r)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,i)for(var o=0;o<16;++o)i[a+o]=l[o];return i||n(l)}module.exports=e;
},{"./lib/rng":"OdJ5","./lib/bytesToUuid":"KHHX"}],"CJAf":[function(require,module,exports) {
var e=require("./v1"),r=require("./v4"),v=r;v.v1=e,v.v4=r,module.exports=v;
},{"./v1":"uD0D","./v4":"jj8U"}],"WfYg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.base64StringToBlobOrBuffer=f,exports.binaryStringToArrayBuffer=t,exports.binaryStringToBlobOrBuffer=o,exports.blob=n,exports.blobOrBufferToBase64=B,exports.blobOrBufferToBinaryString=a,exports.readAsArrayBuffer=d,exports.readAsBinaryString=i,exports.typedBuffer=l,exports.btoa=exports.atob=void 0;var r=function(r){return atob(r)};exports.atob=r;var e=function(r){return btoa(r)};function n(r,e){r=r||[],e=e||{};try{return new Blob(r,e)}catch(o){if("TypeError"!==o.name)throw o;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),t=0;t<r.length;t+=1)n.append(r[t]);return n.getBlob(e.type)}}function t(r){for(var e=r.length,n=new ArrayBuffer(e),t=new Uint8Array(n),o=0;o<e;o++)t[o]=r.charCodeAt(o);return n}function o(r,e){return n([t(r)],{type:e})}function f(e,n){return o(r(e),n)}function u(r){for(var e="",n=new Uint8Array(r),t=n.byteLength,o=0;o<t;o++)e+=String.fromCharCode(n[o]);return e}function i(r,e){var n=new FileReader,t="function"==typeof n.readAsBinaryString;n.onloadend=function(r){var n=r.target.result||"";if(t)return e(n);e(u(n))},t?n.readAsBinaryString(r):n.readAsArrayBuffer(r)}function a(r,e){i(r,function(r){e(r)})}function B(r,n){a(r,function(r){n(e(r))})}function d(r,e){var n=new FileReader;n.onloadend=function(r){var n=r.target.result||new ArrayBuffer(0);e(n)},n.readAsArrayBuffer(r)}function l(){}exports.btoa=e;
},{}],"nbIu":[function(require,module,exports) {
var define;
var t;!function(r){if("object"==typeof exports)module.exports=r();else if("function"==typeof t&&t.amd)t(r);else{var e;try{e=window}catch(n){e=self}e.SparkMD5=r()}}(function(t){"use strict";var r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function e(t,r){var e=t[0],n=t[1],f=t[2],i=t[3];n=((n+=((f=((f+=((i=((i+=((e=((e+=(n&f|~n&i)+r[0]-680876936|0)<<7|e>>>25)+n|0)&n|~e&f)+r[1]-389564586|0)<<12|i>>>20)+e|0)&e|~i&n)+r[2]+606105819|0)<<17|f>>>15)+i|0)&i|~f&e)+r[3]-1044525330|0)<<22|n>>>10)+f|0,n=((n+=((f=((f+=((i=((i+=((e=((e+=(n&f|~n&i)+r[4]-176418897|0)<<7|e>>>25)+n|0)&n|~e&f)+r[5]+1200080426|0)<<12|i>>>20)+e|0)&e|~i&n)+r[6]-1473231341|0)<<17|f>>>15)+i|0)&i|~f&e)+r[7]-45705983|0)<<22|n>>>10)+f|0,n=((n+=((f=((f+=((i=((i+=((e=((e+=(n&f|~n&i)+r[8]+1770035416|0)<<7|e>>>25)+n|0)&n|~e&f)+r[9]-1958414417|0)<<12|i>>>20)+e|0)&e|~i&n)+r[10]-42063|0)<<17|f>>>15)+i|0)&i|~f&e)+r[11]-1990404162|0)<<22|n>>>10)+f|0,n=((n+=((f=((f+=((i=((i+=((e=((e+=(n&f|~n&i)+r[12]+1804603682|0)<<7|e>>>25)+n|0)&n|~e&f)+r[13]-40341101|0)<<12|i>>>20)+e|0)&e|~i&n)+r[14]-1502002290|0)<<17|f>>>15)+i|0)&i|~f&e)+r[15]+1236535329|0)<<22|n>>>10)+f|0,n=((n+=((f=((f+=((i=((i+=((e=((e+=(n&i|f&~i)+r[1]-165796510|0)<<5|e>>>27)+n|0)&f|n&~f)+r[6]-1069501632|0)<<9|i>>>23)+e|0)&n|e&~n)+r[11]+643717713|0)<<14|f>>>18)+i|0)&e|i&~e)+r[0]-373897302|0)<<20|n>>>12)+f|0,n=((n+=((f=((f+=((i=((i+=((e=((e+=(n&i|f&~i)+r[5]-701558691|0)<<5|e>>>27)+n|0)&f|n&~f)+r[10]+38016083|0)<<9|i>>>23)+e|0)&n|e&~n)+r[15]-660478335|0)<<14|f>>>18)+i|0)&e|i&~e)+r[4]-405537848|0)<<20|n>>>12)+f|0,n=((n+=((f=((f+=((i=((i+=((e=((e+=(n&i|f&~i)+r[9]+568446438|0)<<5|e>>>27)+n|0)&f|n&~f)+r[14]-1019803690|0)<<9|i>>>23)+e|0)&n|e&~n)+r[3]-187363961|0)<<14|f>>>18)+i|0)&e|i&~e)+r[8]+1163531501|0)<<20|n>>>12)+f|0,n=((n+=((f=((f+=((i=((i+=((e=((e+=(n&i|f&~i)+r[13]-1444681467|0)<<5|e>>>27)+n|0)&f|n&~f)+r[2]-51403784|0)<<9|i>>>23)+e|0)&n|e&~n)+r[7]+1735328473|0)<<14|f>>>18)+i|0)&e|i&~e)+r[12]-1926607734|0)<<20|n>>>12)+f|0,n=((n+=((f=((f+=((i=((i+=((e=((e+=(n^f^i)+r[5]-378558|0)<<4|e>>>28)+n|0)^n^f)+r[8]-2022574463|0)<<11|i>>>21)+e|0)^e^n)+r[11]+1839030562|0)<<16|f>>>16)+i|0)^i^e)+r[14]-35309556|0)<<23|n>>>9)+f|0,n=((n+=((f=((f+=((i=((i+=((e=((e+=(n^f^i)+r[1]-1530992060|0)<<4|e>>>28)+n|0)^n^f)+r[4]+1272893353|0)<<11|i>>>21)+e|0)^e^n)+r[7]-155497632|0)<<16|f>>>16)+i|0)^i^e)+r[10]-1094730640|0)<<23|n>>>9)+f|0,n=((n+=((f=((f+=((i=((i+=((e=((e+=(n^f^i)+r[13]+681279174|0)<<4|e>>>28)+n|0)^n^f)+r[0]-358537222|0)<<11|i>>>21)+e|0)^e^n)+r[3]-722521979|0)<<16|f>>>16)+i|0)^i^e)+r[6]+76029189|0)<<23|n>>>9)+f|0,n=((n+=((f=((f+=((i=((i+=((e=((e+=(n^f^i)+r[9]-640364487|0)<<4|e>>>28)+n|0)^n^f)+r[12]-421815835|0)<<11|i>>>21)+e|0)^e^n)+r[15]+530742520|0)<<16|f>>>16)+i|0)^i^e)+r[2]-995338651|0)<<23|n>>>9)+f|0,n=((n+=((i=((i+=(n^((e=((e+=(f^(n|~i))+r[0]-198630844|0)<<6|e>>>26)+n|0)|~f))+r[7]+1126891415|0)<<10|i>>>22)+e|0)^((f=((f+=(e^(i|~n))+r[14]-1416354905|0)<<15|f>>>17)+i|0)|~e))+r[5]-57434055|0)<<21|n>>>11)+f|0,n=((n+=((i=((i+=(n^((e=((e+=(f^(n|~i))+r[12]+1700485571|0)<<6|e>>>26)+n|0)|~f))+r[3]-1894986606|0)<<10|i>>>22)+e|0)^((f=((f+=(e^(i|~n))+r[10]-1051523|0)<<15|f>>>17)+i|0)|~e))+r[1]-2054922799|0)<<21|n>>>11)+f|0,n=((n+=((i=((i+=(n^((e=((e+=(f^(n|~i))+r[8]+1873313359|0)<<6|e>>>26)+n|0)|~f))+r[15]-30611744|0)<<10|i>>>22)+e|0)^((f=((f+=(e^(i|~n))+r[6]-1560198380|0)<<15|f>>>17)+i|0)|~e))+r[13]+1309151649|0)<<21|n>>>11)+f|0,n=((n+=((i=((i+=(n^((e=((e+=(f^(n|~i))+r[4]-145523070|0)<<6|e>>>26)+n|0)|~f))+r[11]-1120210379|0)<<10|i>>>22)+e|0)^((f=((f+=(e^(i|~n))+r[2]+718787259|0)<<15|f>>>17)+i|0)|~e))+r[9]-343485551|0)<<21|n>>>11)+f|0,t[0]=e+t[0]|0,t[1]=n+t[1]|0,t[2]=f+t[2]|0,t[3]=i+t[3]|0}function n(t){var r,e=[];for(r=0;r<64;r+=4)e[r>>2]=t.charCodeAt(r)+(t.charCodeAt(r+1)<<8)+(t.charCodeAt(r+2)<<16)+(t.charCodeAt(r+3)<<24);return e}function f(t){var r,e=[];for(r=0;r<64;r+=4)e[r>>2]=t[r]+(t[r+1]<<8)+(t[r+2]<<16)+(t[r+3]<<24);return e}function i(t){var r,f,i,h,o,s,a=t.length,u=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=a;r+=64)e(u,n(t.substring(r-64,r)));for(f=(t=t.substring(r-64)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0;r<f;r+=1)i[r>>2]|=t.charCodeAt(r)<<(r%4<<3);if(i[r>>2]|=128<<(r%4<<3),r>55)for(e(u,i),r=0;r<16;r+=1)i[r]=0;return h=(h=8*a).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(h[2],16),s=parseInt(h[1],16)||0,i[14]=o,i[15]=s,e(u,i),u}function h(t){var e,n="";for(e=0;e<4;e+=1)n+=r[t>>8*e+4&15]+r[t>>8*e&15];return n}function o(t){var r;for(r=0;r<t.length;r+=1)t[r]=h(t[r]);return t.join("")}function s(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function a(t){var r,e=[],n=t.length;for(r=0;r<n-1;r+=2)e.push(parseInt(t.substr(r,2),16));return String.fromCharCode.apply(String,e)}function u(){this.reset()}return"5d41402abc4b2a76b9719d911017c592"!==o(i("hello"))&&function(t,r){var e=(65535&t)+(65535&r);return(t>>16)+(r>>16)+(e>>16)<<16|65535&e},"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function r(t,r){return(t=0|t||0)<0?Math.max(t+r,0):Math.min(t,r)}ArrayBuffer.prototype.slice=function(e,n){var f,i,h,o,s=this.byteLength,a=r(e,s),u=s;return n!==t&&(u=r(n,s)),a>u?new ArrayBuffer(0):(f=u-a,i=new ArrayBuffer(f),h=new Uint8Array(i),o=new Uint8Array(this,a,f),h.set(o),i)}}(),u.prototype.append=function(t){return this.appendBinary(s(t)),this},u.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var r,f=this._buff.length;for(r=64;r<=f;r+=64)e(this._hash,n(this._buff.substring(r-64,r)));return this._buff=this._buff.substring(r-64),this},u.prototype.end=function(t){var r,e,n=this._buff,f=n.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<f;r+=1)i[r>>2]|=n.charCodeAt(r)<<(r%4<<3);return this._finish(i,f),e=o(this._hash),t&&(e=a(e)),this.reset(),e},u.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},u.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},u.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},u.prototype._finish=function(t,r){var n,f,i,h=r;if(t[h>>2]|=128<<(h%4<<3),h>55)for(e(this._hash,t),h=0;h<16;h+=1)t[h]=0;n=(n=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),f=parseInt(n[2],16),i=parseInt(n[1],16)||0,t[14]=f,t[15]=i,e(this._hash,t)},u.hash=function(t,r){return u.hashBinary(s(t),r)},u.hashBinary=function(t,r){var e=o(i(t));return r?a(e):e},u.ArrayBuffer=function(){this.reset()},u.ArrayBuffer.prototype.append=function(t){var r,n,i,h,o,s=(n=this._buff.buffer,i=t,h=!0,(o=new Uint8Array(n.byteLength+i.byteLength)).set(new Uint8Array(n)),o.set(new Uint8Array(i),n.byteLength),h?o:o.buffer),a=s.length;for(this._length+=t.byteLength,r=64;r<=a;r+=64)e(this._hash,f(s.subarray(r-64,r)));return this._buff=r-64<a?new Uint8Array(s.buffer.slice(r-64)):new Uint8Array(0),this},u.ArrayBuffer.prototype.end=function(t){var r,e,n=this._buff,f=n.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<f;r+=1)i[r>>2]|=n[r]<<(r%4<<3);return this._finish(i,f),e=o(this._hash),t&&(e=a(e)),this.reset(),e},u.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.ArrayBuffer.prototype.getState=function(){var t,r=u.prototype.getState.call(this);return r.buff=(t=r.buff,String.fromCharCode.apply(null,new Uint8Array(t))),r},u.ArrayBuffer.prototype.setState=function(t){return t.buff=function(t,r){var e,n=t.length,f=new ArrayBuffer(n),i=new Uint8Array(f);for(e=0;e<n;e+=1)i[e]=t.charCodeAt(e);return r?i:f}(t.buff,!0),u.prototype.setState.call(this,t)},u.ArrayBuffer.prototype.destroy=u.prototype.destroy,u.ArrayBuffer.prototype._finish=u.prototype._finish,u.ArrayBuffer.hash=function(t,r){var n=o(function(t){var r,n,i,h,o,s,a=t.length,u=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=a;r+=64)e(u,f(t.subarray(r-64,r)));for(n=(t=r-64<a?t.subarray(r-64):new Uint8Array(0)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0;r<n;r+=1)i[r>>2]|=t[r]<<(r%4<<3);if(i[r>>2]|=128<<(r%4<<3),r>55)for(e(u,i),r=0;r<16;r+=1)i[r]=0;return h=(h=8*a).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(h[2],16),s=parseInt(h[1],16)||0,i[14]=o,i[15]=s,e(u,i),u}(new Uint8Array(t)));return r?a(n):n},u});
},{}],"ZfEw":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.binaryMd5=c,exports.stringMd5=d;var n=require("pouchdb-binary-utils"),t=r(require("spark-md5"));function r(e){return e&&e.__esModule?e:{default:e}}var i=e.setImmediate||e.setTimeout,u=32768;function a(e){return(0,n.btoa)(e)}function o(e,n,t){return e.webkitSlice?e.webkitSlice(n,t):e.slice(n,t)}function f(e,t,r,i,u){(r>0||i<t.size)&&(t=o(t,r,i)),(0,n.readAsArrayBuffer)(t,function(n){e.append(n),u()})}function s(e,n,t,r,i){(t>0||r<n.length)&&(n=n.substring(t,r)),e.appendBinary(n),i()}function c(e,n){var r="string"==typeof e,o=r?e.length:e.size,c=Math.min(u,o),d=Math.ceil(o/c),l=0,p=r?new t.default:new t.default.ArrayBuffer,b=r?s:f;function y(){i(v)}function h(){var e=a(p.end(!0));n(e),p.destroy()}function v(){var n=l*c,t=n+c;b(p,e,n,t,++l<d?y:h)}v()}function d(e){return t.default.hash(e)}
},{"pouchdb-binary-utils":"WfYg","spark-md5":"nbIu"}],"mY35":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.adapterFun=_,exports.bulkGetShim=q,exports.changesHandler=P,exports.clone=v,exports.defaultBackOff=D,exports.explainError=L,exports.filterChange=M,exports.flatten=N,exports.guardedConsole=k,exports.hasLocalStorage=j,exports.invalidIdError=z,exports.isRemote=G,exports.listenerCount=V,exports.normalizeDdocFunctionName=H,exports.once=y,exports.parseDdocFunctionName=W,exports.parseUri=X,exports.pick=x,exports.rev=te,exports.scopeEval=Y,exports.toPromise=g,exports.upsert=Z,Object.defineProperty(exports,"nextTick",{enumerable:!0,get:function(){return n.default}}),exports.uuid=exports.functionName=exports.assign=void 0;var e=c(require("argsarray")),t=require("pouchdb-collections"),r=c(require("inherits")),n=c(require("immediate")),o=require("pouchdb-errors"),i=require("events"),u=c(require("uuid")),a=require("pouchdb-md5");function c(e){return e&&e.__esModule?e:{default:e}}function s(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}function f(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),r=new Uint8Array(t),n=new Uint8Array(e);return r.set(n),t}function l(e){if(e instanceof ArrayBuffer)return f(e);var t=e.size,r=e.type;return"function"==typeof e.slice?e.slice(0,t,r):e.webkitSlice(0,t,r)}var p=Function.prototype.toString,d=p.call(Object);function h(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=t.constructor;return"function"==typeof r&&r instanceof r&&p.call(r)==d}function v(e){var t,r,n;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],r=0,n=e.length;r<n;r++)t[r]=v(e[r]);return t}if(e instanceof Date)return e.toISOString();if(s(e))return l(e);if(!h(e))return e;for(r in t={},e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=v(e[r]);void 0!==o&&(t[r]=o)}return t}function y(t){var r=!1;return(0,e.default)(function(e){if(r)throw new Error("once called more than once");r=!0,t.apply(this,e)})}function g(t){return(0,e.default)(function(e){e=v(e);var r=this,n="function"==typeof e[e.length-1]&&e.pop(),o=new Promise(function(n,o){var i;try{var u=y(function(e,t){e?o(e):n(t)});e.push(u),(i=t.apply(r,e))&&"function"==typeof i.then&&n(i)}catch(a){o(a)}});return n&&o.then(function(e){n(null,e)},n),o})}function m(e,t,r){if(e.constructor.listeners("debug").length){for(var n=["api",e.name,t],o=0;o<r.length-1;o++)n.push(r[o]);e.constructor.emit("debug",n);var i=r[r.length-1];r[r.length-1]=function(r,n){var o=["api",e.name,t];o=o.concat(r?["error",r]:["success",n]),e.constructor.emit("debug",o),i(r,n)}}}function _(t,r){return g((0,e.default)(function(e){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var n=this;return m(n,t,e),this.taskqueue.isReady?r.apply(this,e):new Promise(function(r,o){n.taskqueue.addTask(function(i){i?o(i):r(n[t].apply(n,e))})})}))}function x(e,t){for(var r={},n=0,o=t.length;n<o;n++){var i=t[n];i in e&&(r[i]=e[i])}return r}var b,w,E=6;function O(e){return e}function S(e){return[{ok:e}]}function q(e,r,n){var o=r.docs,i=new t.Map;o.forEach(function(e){i.has(e.id)?i.get(e.id).push(e):i.set(e.id,[e])});var u=i.size,a=0,c=new Array(u);function s(){var e;++a===u&&(e=[],c.forEach(function(t){t.docs.forEach(function(r){e.push({id:t.id,docs:[r]})})}),n(null,{results:e}))}var f=[];i.forEach(function(e,t){f.push(t)});var l=0;function p(){if(!(l>=f.length)){var t=Math.min(l+E,f.length),n=f.slice(l,t);!function(t,n){t.forEach(function(t,o){var u=n+o,a=i.get(t),f=x(a[0],["atts_since","attachments"]);f.open_revs=a.map(function(e){return e.rev}),f.open_revs=f.open_revs.filter(O);var l=O;0===f.open_revs.length&&(delete f.open_revs,l=S),["revs","attachments","binary","ajax","latest"].forEach(function(e){e in r&&(f[e]=r[e])}),e.get(t,f,function(e,r){var n,o,i;n=e?[{error:e}]:l(r),o=t,i=n,c[u]={id:o,docs:i},s(),p()})})}(n,l),l+=n.length}}p()}try{localStorage.setItem("_pouch_check_localstorage",1),b=!!localStorage.getItem("_pouch_check_localstorage")}catch(ne){b=!1}function j(){return b}function I(e){j()&&addEventListener("storage",function(t){e.emit(t.key)})}function P(){i.EventEmitter.call(this),this._listeners={},I(this)}function k(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function A(e,t){return e=parseInt(e,10)||0,(t=parseInt(t,10))!=t||t<=e?t=(e||1)<<1:t+=1,t>6e5&&(e=3e5,t=6e5),~~((t-e)*Math.random()+e)}function D(e){var t=0;return e||(t=2e3),A(e,t)}function L(e,t){k("info","The above "+e+" is totally normal. "+t)}(0,r.default)(P,i.EventEmitter),P.prototype.addListener=function(e,t,r,o){if(!this._listeners[t]){var i=this,u=!1;this._listeners[t]=a,this.on(e,a)}function a(){if(i._listeners[t])if(u)u="waiting";else{u=!0;var e=x(o,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);r.changes(e).on("change",function(e){e.seq>o.since&&!o.cancelled&&(o.since=e.seq,o.onChange(e))}).on("complete",function(){"waiting"===u&&(0,n.default)(a),u=!1}).on("error",function(){u=!1})}}},P.prototype.removeListener=function(e,t){t in this._listeners&&(i.EventEmitter.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},P.prototype.notifyLocalWindows=function(e){j()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},P.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var B=w="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t};function C(e,t,r){try{return!e(t,r)}catch(i){var n="Filter function threw: "+i.toString();return(0,o.createError)(o.BAD_REQUEST,n)}}function M(e){var t={},r=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(n){n.doc||(n.doc={});var o=r&&C(e.filter,n.doc,t);if("object"==typeof o)return o;if(o)return!1;if(e.include_docs){if(!e.attachments)for(var i in n.doc._attachments)n.doc._attachments.hasOwnProperty(i)&&(n.doc._attachments[i].stub=!0)}else delete n.doc;return!0}}function N(e){for(var t=[],r=0,n=e.length;r<n;r++)t=t.concat(e[r]);return t}function F(){}exports.assign=B;var R,U=F.name,T=R=U?function(e){return e.name}:function(e){var t=e.toString().match(/^\s*function\s*(?:(\S+)\s*)?\(/);return t&&t[1]?t[1]:""};function z(e){var t;if(e?"string"!=typeof e?t=(0,o.createError)(o.INVALID_ID):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=(0,o.createError)(o.RESERVED_ID)):t=(0,o.createError)(o.MISSING_ID),t)throw t}function G(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(k("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function V(e,t){return"listenerCount"in e?e.listenerCount(t):i.EventEmitter.listenerCount(e,t)}function W(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function H(e){var t=W(e);return t?t.join("/"):null}exports.functionName=T;var J=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],K="queryKey",Q=/(?:^|&)([^&=]*)=?([^&]*)/g,$=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function X(e){for(var t=$.exec(e),r={},n=14;n--;){var o=J[n],i=t[n]||"",u=-1!==["user","password"].indexOf(o);r[o]=u?decodeURIComponent(i):i}return r[K]={},r[J[12]].replace(Q,function(e,t,n){t&&(r[K][t]=n)}),r}function Y(e,t){var r=[],n=[];for(var o in t)t.hasOwnProperty(o)&&(r.push(o),n.push(t[o]));return r.push(e),Function.apply(null,r).apply(null,n)}function Z(e,t,r){return new Promise(function(n,o){e.get(t,function(i,u){if(i){if(404!==i.status)return o(i);u={}}var a=u._rev,c=r(u);if(!c)return n({updated:!1,rev:a});c._id=t,c._rev=a,n(ee(e,c,r))})})}function ee(e,t,r){return e.put(t).then(function(e){return{updated:!0,rev:e.rev}},function(n){if(409!==n.status)throw n;return Z(e,t._id,r)})}function te(e,t){var r=v(e);return t?(delete r._rev_tree,(0,a.stringMd5)(JSON.stringify(r))):u.default.v4().replace(/-/g,"").toLowerCase()}var re=u.default.v4;exports.uuid=re;
},{"argsarray":"I5Ig","pouchdb-collections":"qpbW","inherits":"pyp0","immediate":"uUPe","pouchdb-errors":"qncM","events":"FRpO","uuid":"CJAf","pouchdb-md5":"ZfEw"}],"XVUJ":[function(require,module,exports) {
"use strict";function e(e,r,n){for(var t="",a=n-e.length;t.length<a;)t+=r;return t}function r(r,n,t){return e(r,n,t)+r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.collate=u,exports.normalizeKey=l,exports.toIndexableString=s,exports.parseIndexableString=f;var n=-324,t=3,a="";function u(e,r){if(e===r)return 0;e=l(e),r=l(r);var n=v(e),t=v(r);if(n-t!=0)return n-t;switch(typeof e){case"number":return e-r;case"boolean":return e<r?-1:1;case"string":return h(e,r)}return Array.isArray(e)?p(e,r):g(e,r)}function l(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var r=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var t=0;t<n;t++)e[t]=l(r[t])}else{if(e instanceof Date)return e.toJSON();if(null!==e)for(var a in e={},r)if(r.hasOwnProperty(a)){var u=r[a];void 0!==u&&(e[a]=l(u))}}}return e}function i(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return b(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var r=Array.isArray(e),n=r?e:Object.keys(e),t=-1,a=n.length,u="";if(r)for(;++t<a;)u+=s(n[t]);else for(;++t<a;){var l=n[t];u+=s(l)+s(e[l])}return u}return""}function s(e){return v(e=l(e))+a+i(e)+"\0"}function o(e,r){var a,u=r;if("1"===e[r])a=0,r++;else{var l="0"===e[r];r++;var i="",s=e.substring(r,r+t),o=parseInt(s,10)+n;for(l&&(o=-o),r+=t;;){var c=e[r];if("\0"===c)break;i+=c,r++}a=1===(i=i.split(".")).length?parseInt(i,10):parseFloat(i[0]+"."+i[1]),l&&(a-=10),0!==o&&(a=parseFloat(a+"e"+o))}return{num:a,length:r-u}}function c(e,r){var n=e.pop();if(r.length){var t=r[r.length-1];n===t.element&&(r.pop(),t=r[r.length-1]);var a=t.element,u=t.index;if(Array.isArray(a))a.push(n);else if(u===e.length-2){a[e.pop()]=n}else e.push(n)}}function f(e){for(var r=[],n=[],t=0;;){var a=e[t++];if("\0"!==a)switch(a){case"1":r.push(null);break;case"2":r.push("1"===e[t]),t++;break;case"3":var u=o(e,t);r.push(u.num),t+=u.length;break;case"4":for(var l="";;){var i=e[t];if("\0"===i)break;l+=i,t++}l=l.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),r.push(l);break;case"5":var s={element:[],index:r.length};r.push(s.element),n.push(s);break;case"6":var f={element:{},index:r.length};r.push(f.element),n.push(f);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+a)}else{if(1===r.length)return r.pop();c(r,n)}}}function p(e,r){for(var n=Math.min(e.length,r.length),t=0;t<n;t++){var a=u(e[t],r[t]);if(0!==a)return a}return e.length===r.length?0:e.length>r.length?1:-1}function h(e,r){return e===r?0:e>r?1:-1}function g(e,r){for(var n=Object.keys(e),t=Object.keys(r),a=Math.min(n.length,t.length),l=0;l<a;l++){var i=u(n[l],t[l]);if(0!==i)return i;if(0!==(i=u(e[n[l]],r[t[l]])))return i}return n.length===t.length?0:n.length>t.length?1:-1}function v(e){var r=["boolean","number","string","object"].indexOf(typeof e);return~r?null===e?1:Array.isArray(e)?5:r<3?r+2:r+3:Array.isArray(e)?5:void 0}function b(e){if(0===e)return"1";var u=e.toExponential().split(/e\+?/),l=parseInt(u[1],10),i=e<0,s=i?"0":"2",o=r(((i?-l:l)-n).toString(),"0",t);s+=a+o;var c=Math.abs(parseFloat(u[0]));i&&(c=10-c);var f=c.toFixed(20);return f=f.replace(/\.?0+$/,""),s+=a+f}
},{}],"C9XX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.massageSelector=v,exports.matchesSelector=_,exports.filterInMemoryFields=h,exports.createFieldSorter=b,exports.rowFilter=j,exports.isCombinationalField=c,exports.getKey=f,exports.getValue=l,exports.getFieldFromDoc=n,exports.setFieldInDoc=r,exports.compare=o,exports.parseField=i;var e=require("pouchdb-utils"),t=require("pouchdb-collate");function n(e,t){for(var n=e,r=0,o=t.length;r<o;r++){if(!(n=n[t[r]]))break}return n}function r(e,t,n){for(var r=0,o=t.length;r<o-1;r++){e=e[t[r]]={}}e[t[o-1]]=n}function o(e,t){return e<t?-1:e>t?1:0}function i(e){for(var t=[],n="",r=0,o=e.length;r<o;r++){var i=e[r];"."===i?r>0&&"\\"===e[r-1]?n=n.substring(0,n.length-1)+".":(t.push(n),n=""):n+=i}return t.push(n),t}var u=["$or","$nor","$not"];function c(e){return u.indexOf(e)>-1}function f(e){return Object.keys(e)[0]}function l(e){return e[f(e)]}function a(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(n){var r=e[n];if("object"!=typeof r&&(r={$eq:r}),c(n))r instanceof Array?t[n]=r.map(function(e){return a([e])}):t[n]=a([r]);else{var o=t[n]=t[n]||{};Object.keys(r).forEach(function(e){var t=r[e];return"$gt"===e||"$gte"===e?$(e,t,o):"$lt"===e||"$lte"===e?s(e,t,o):"$ne"===e?d(t,o):"$eq"===e?y(t,o):void(o[e]=t)})}})}),t}function $(e,t,n){void 0===n.$eq&&(void 0!==n.$gte?"$gte"===e?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):void 0!==n.$gt?"$gte"===e?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t)}function s(e,t,n){void 0===n.$eq&&(void 0!==n.$lte?"$lte"===e?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):void 0!==n.$lt?"$lte"===e?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t)}function d(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}function y(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}function p(e){for(var t in e){if(Array.isArray(e))for(var n in e)e[n].$and&&(e[n]=a(e[n].$and));var r=e[t];"object"==typeof r&&p(r)}return e}function g(e,t){for(var n in e){"$and"===n&&(t=!0);var r=e[n];"object"==typeof r&&(t=g(r,t))}return t}function v(t){var n=(0,e.clone)(t),r=!1;g(n,!1)&&("$and"in(n=p(n))&&(n=a(n.$and)),r=!0),["$or","$nor"].forEach(function(e){e in n&&n[e].forEach(function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n],o=e[r];"object"==typeof o&&null!==o||(e[r]={$eq:o})}})}),"$not"in n&&(n.$not=a([n.$not]));for(var o=Object.keys(n),i=0;i<o.length;i++){var u=o[i],c=n[u];"object"!=typeof c||null===c?c={$eq:c}:"$ne"in c&&!r&&(c.$ne=[c.$ne]),n[u]=c}return n}function b(e){function r(t){return e.map(function(e){var r=i(f(e));return n(t,r)})}return function(e,n){var i=r(e.doc),u=r(n.doc),c=(0,t.collate)(i,u);return 0!==c?c:o(e.doc._id,n.doc._id)}}function h(e,t,n){if(e=e.filter(function(e){return j(e.doc,t.selector,n)}),t.sort){var r=b(t.sort);e=e.sort(r),"string"!=typeof t.sort[0]&&"desc"===l(t.sort[0])&&(e=e.reverse())}if("limit"in t||"skip"in t){var o=t.skip||0,i=("limit"in t?t.limit:e.length)+o;e=e.slice(o,i)}return e}function j(e,t,r){return r.every(function(r){var o=t[r],u=i(r),f=n(e,u);return c(r)?x(r,o,e):m(o,e,u,f)})}function m(e,t,n,r){return!e||("object"==typeof e?Object.keys(e).every(function(o){var i=e[o];return O(o,t,i,n,r)}):e===r)}function x(e,t,n){return"$or"===e?t.some(function(e){return j(n,e,Object.keys(e))}):"$not"===e?!j(n,t,Object.keys(t)):!t.find(function(e){return j(n,e,Object.keys(e))})}function O(e,t,n,r,o){if(!I[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return I[e](t,n,r,o)}function k(e){return null!=e}function w(e){return void 0!==e}function E(e,t){var n=t[0],r=t[1];if(0===n)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(n,10)!==n)throw new Error("Divisor is not an integer");if(parseInt(r,10)!==r)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%n===r}function q(e,t){return t.some(function(t){return e instanceof Array?e.indexOf(t)>-1:e===t})}function A(e,t){return t.every(function(t){return e.indexOf(t)>-1})}function F(e,t){return e.length===t}function M(e,t){return new RegExp(t).test(e)}function S(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}var I={$elemMatch:function(e,t,n,r){return!!Array.isArray(r)&&(0!==r.length&&("object"==typeof r[0]?r.some(function(e){return j(e,t,Object.keys(t))}):r.some(function(r){return m(t,e,n,r)})))},$allMatch:function(e,t,n,r){return!!Array.isArray(r)&&(0!==r.length&&("object"==typeof r[0]?r.every(function(e){return j(e,t,Object.keys(t))}):r.every(function(r){return m(t,e,n,r)})))},$eq:function(e,n,r,o){return w(o)&&0===(0,t.collate)(o,n)},$gte:function(e,n,r,o){return w(o)&&(0,t.collate)(o,n)>=0},$gt:function(e,n,r,o){return w(o)&&(0,t.collate)(o,n)>0},$lte:function(e,n,r,o){return w(o)&&(0,t.collate)(o,n)<=0},$lt:function(e,n,r,o){return w(o)&&(0,t.collate)(o,n)<0},$exists:function(e,t,n,r){return t?w(r):!w(r)},$mod:function(e,t,n,r){return k(r)&&E(r,t)},$ne:function(e,n,r,o){return n.every(function(e){return 0!==(0,t.collate)(o,e)})},$in:function(e,t,n,r){return k(r)&&q(r,t)},$nin:function(e,t,n,r){return k(r)&&!q(r,t)},$size:function(e,t,n,r){return k(r)&&F(r,t)},$all:function(e,t,n,r){return Array.isArray(r)&&A(r,t)},$regex:function(e,t,n,r){return k(r)&&M(r,t)},$type:function(e,t,n,r){return S(r,t)}};function _(e,t){if("object"!=typeof t)throw new Error("Selector error: expected a JSON object");var n=h([{doc:e}],{selector:t=v(t)},Object.keys(t));return n&&1===n.length}
},{"pouchdb-utils":"mY35","pouchdb-collate":"XVUJ"}],"kzoD":[function(require,module,exports) {
var define;
var t;!function(e,r){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=r():"function"==typeof t&&t.amd?t([],r):e.objectPath=r()}(this,function(){"use strict";var t=Object.prototype.toString;function e(t,e){return null!=t&&Object.prototype.hasOwnProperty.call(t,e)}function r(t){if(!t)return!0;if(u(t)&&0===t.length)return!0;if("string"!=typeof t){for(var r in t)if(e(t,r))return!1;return!0}return!1}function n(e){return t.call(e)}var u=Array.isArray||function(e){return"[object Array]"===t.call(e)};function i(t){var e=parseInt(t);return e.toString()===t?e:t}function o(t){t=t||{};var o=function(t){return Object.keys(o).reduce(function(e,r){return"create"===r?e:("function"==typeof o[r]&&(e[r]=o[r].bind(o,t)),e)},{})};function f(r,n){return t.includeInheritedProps||"number"==typeof n&&Array.isArray(r)||e(r,n)}function c(t,e){if(f(t,e))return t[e]}function l(t,e,r,n){if("number"==typeof e&&(e=[e]),!e||0===e.length)return t;if("string"==typeof e)return l(t,e.split(".").map(i),r,n);var u=e[0],o=c(t,u);return 1===e.length?(void 0!==o&&n||(t[u]=r),o):(void 0===o&&("number"==typeof e[1]?t[u]=[]:t[u]={}),l(t[u],e.slice(1),r,n))}return o.has=function(r,n){if("number"==typeof n?n=[n]:"string"==typeof n&&(n=n.split(".")),!n||0===n.length)return!!r;for(var o=0;o<n.length;o++){var f=i(n[o]);if(!("number"==typeof f&&u(r)&&f<r.length||(t.includeInheritedProps?f in Object(r):e(r,f))))return!1;r=r[f]}return!0},o.ensureExists=function(t,e,r){return l(t,e,r,!0)},o.set=function(t,e,r,n){return l(t,e,r,n)},o.insert=function(t,e,r,n){var i=o.get(t,e);n=~~n,u(i)||(i=[],o.set(t,e,i)),i.splice(n,0,r)},o.empty=function(t,e){var i,c;if(!r(e)&&(null!=t&&(i=o.get(t,e)))){if("string"==typeof i)return o.set(t,e,"");if(function(t){return"boolean"==typeof t||"[object Boolean]"===n(t)}(i))return o.set(t,e,!1);if("number"==typeof i)return o.set(t,e,0);if(u(i))i.length=0;else{if(!function(t){return"object"==typeof t&&"[object Object]"===n(t)}(i))return o.set(t,e,null);for(c in i)f(i,c)&&delete i[c]}}},o.push=function(t,e){var r=o.get(t,e);u(r)||(r=[],o.set(t,e,r)),r.push.apply(r,Array.prototype.slice.call(arguments,2))},o.coalesce=function(t,e,r){for(var n,u=0,i=e.length;u<i;u++)if(void 0!==(n=o.get(t,e[u])))return n;return r},o.get=function(t,e,r){if("number"==typeof e&&(e=[e]),!e||0===e.length)return t;if(null==t)return r;if("string"==typeof e)return o.get(t,e.split("."),r);var n=i(e[0]),u=c(t,n);return void 0===u?r:1===e.length?u:o.get(t[n],e.slice(1),r)},o.del=function(t,e){if("number"==typeof e&&(e=[e]),null==t)return t;if(r(e))return t;if("string"==typeof e)return o.del(t,e.split("."));var n=i(e[0]);return f(t,n)?1!==e.length?o.del(t[n],e.slice(1)):(u(t)?t.splice(n,1):delete t[n],t):t},o}var f=o();return f.create=o,f.withInheritedProps=o({includeInheritedProps:!0}),f});
},{}],"gYd7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports._resortDocData=a,exports._isSortedBefore=s,exports._sortFieldChanged=u,exports._getSortOptions=l,exports._isDocInResultData=c,exports.enableDebugging=h,exports.create=f,exports.default=exports.QueryChangeDetector=void 0;var e=require("pouchdb-selector-core"),t=r(require("object-path"));function r(e){return e&&e.__esModule?e:{default:e}}var n=!1,i=function(){function e(e){this.query=e,this.primaryKey=e.collection.schema.primaryPath}var t=e.prototype;return t.runChangeDetection=function(e){var t=this;if(0===e.length)return!1;if(!this.query.collection.database.queryChangeDetection)return!0;var r=this.query._resultsData,n=!1;return!!e.find(function(e){var i=t.handleSingleChange(r,e);return Array.isArray(i)?(n=!0,r=i,!1):!!i||void 0})||!!n&&r},t.handleSingleChange=function(e,t){var r=this,i=e.slice(0),l=this.query.toJSON(),h=t.data.v,f=c(this,h,e),y=this.query.doesDocumentDataMatch(h),d=!l.limit||l.limit&&e.length>=l.limit,p=l.limit&&e.length>=l.limit;n&&(console.log("QueryChangeDetector.handleSingleChange()"),o(this,"start",t.data.v,"handleSingleChange()"),console.log("changeEvent.data:"),console.dir(t.data),console.log("wasDocInResults: "+f),console.log("doesMatchNow: "+y),console.log("isFilled: "+d),console.log("options:"+JSON.stringify(l)));var g=null,m=null,v=null;if("REMOVE"===t.data.op){if(!f&&!y)return o(this,"R1",h),!1;if(l.skip&&y&&(null===m&&(m=s(r,h,i[0])),m)&&!d)return o(this,"R2",h),i.shift(),i;if(y&&f&&!d)return o(this,"R3",h),i=i.filter(function(e){return e[r.primaryKey]!==h[r.primaryKey]});if(1===l.limit&&!y&&f)return o(this,"R3.05",h),!0;if(y&&f&&!l.limit&&!l.skip)return o(this,"R3.1",h),i=i.filter(function(e){return e[r.primaryKey]!==h[r.primaryKey]});if(y&&l.limit&&(null===g&&(g=s(r,i[i.length-1],h)),g))return o(this,"R4",h),!1}else{if(!l.skip&&!f&&!y)return o(this,"U1",h),!1;if(!l.skip&&!l.limit&&f&&y){var q=i.find(function(e){return e[r.primaryKey]===h[r.primaryKey]}),D=i.indexOf(q);return i[D]=h,function(){if(null===v){var t=e.find(function(e){return e[r.primaryKey]===h[r.primaryKey]});v=u(r,t,h)}return u}()?(o(this,"U2 - resort",h),a(this,i)):(o(this,"U2 - no-resort",h),i)}if(!l.skip&&!p&&!f&&y)return o(this,"U3",h),i.push(h),a(this,i)}return o(this,"NO_MATCH",h),!0},e}();function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"optimized";n&&console.dir({name:"QueryChangeDetector",title:i,query:e.query.toString(),key:t,changeEventData:r})}function a(t,r){var n=l(t),i=r.map(function(e){return{doc:t.query.collection.schema.swapPrimaryToId(e)}}),o=Object.keys(t.query.toJSON().selector);return(0,e.filterInMemoryFields)(i,{selector:t.query.massageSelector,sort:n},o).map(function(e){return e.doc}).map(function(e){return t.query.collection.schema.swapIdToPrimary(e)})}function s(t,r,n){var i=l(t),o=Object.keys(t.query.toJSON().selector),a=t.query.collection.schema.swapPrimaryToId(r),s=[a,t.query.collection.schema.swapPrimaryToId(n)].map(function(e){return{id:e._id,doc:e}});return(0,e.filterInMemoryFields)(s,{selector:t.query.massageSelector,sort:i},o)[0].id===a._id}function u(e,r,n){var i=l(e).map(function(e){return Object.keys(e).pop()}),o=!1;return i.find(function(e){return t.default.get(r,e)!==t.default.get(n,e)&&(o=!0,!0)}),o}function l(e){if(!e._sortOptions){var t=e.query.toJSON().sort;t||(t=[{_id:"asc"}]),e._sortOptions=t}return e._sortOptions}function c(e,t,r){var n=e.query.collection.schema.primaryPath;return!!r.find(function(e){return e[n]===t[n]})}function h(){console.log("QueryChangeDetector.enableDebugging()"),n=!0}function f(e){return new i(e)}exports.QueryChangeDetector=i;var y={create:f,enableDebugging:h};exports.default=y;
},{"pouchdb-selector-core":"C9XX","object-path":"kzoD"}],"MCuf":[function(require,module,exports) {
function e(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function r(r,n,t){return n&&e(r.prototype,n),t&&e(r,t),r}module.exports=r;
},{}],"uTT0":[function(require,module,exports) {
"use strict";var t=Object.prototype.toString;module.exports=function(e){var o=t.call(e),r="[object Arguments]"===o;return r||(r="[object Array]"!==o&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),r};
},{}],"orz8":[function(require,module,exports) {
"use strict";var t;if(!Object.keys){var r=Object.prototype.hasOwnProperty,e=Object.prototype.toString,o=require("./isArguments"),n=Object.prototype.propertyIsEnumerable,l=!n.call({toString:null},"toString"),c=n.call(function(){},"prototype"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],a=function(t){var r=t.constructor;return r&&r.prototype===t},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},u=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!f["$"+t]&&r.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{a(window[t])}catch(e){return!0}}catch(e){return!0}return!1}(),p=function(t){if("undefined"==typeof window||!u)return a(t);try{return a(t)}catch(r){return!1}};t=function(t){var n=null!==t&&"object"==typeof t,a="[object Function]"===e.call(t),f=o(t),u=n&&"[object String]"===e.call(t),s=[];if(!n&&!a&&!f)throw new TypeError("Object.keys called on a non-object");var $=c&&a;if(u&&t.length>0&&!r.call(t,0))for(var w=0;w<t.length;++w)s.push(String(w));if(f&&t.length>0)for(var g=0;g<t.length;++g)s.push(String(g));else for(var h in t)$&&"prototype"===h||!r.call(t,h)||s.push(String(h));if(l)for(var y=p(t),d=0;d<i.length;++d)y&&"constructor"===i[d]||!r.call(t,i[d])||s.push(i[d]);return s}}module.exports=t;
},{"./isArguments":"uTT0"}],"ywQn":[function(require,module,exports) {
"use strict";var e=Array.prototype.slice,t=require("./isArguments"),r=Object.keys,n=r?function(e){return r(e)}:require("./implementation"),c=Object.keys;n.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(r){return t(r)?c(e.call(r)):c(r)}):Object.keys=n;return Object.keys||n},module.exports=n;
},{"./isArguments":"uTT0","./implementation":"orz8"}],"ordk":[function(require,module,exports) {
"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,e=Object.prototype.toString,o=function(o){return!(t&&o&&"object"==typeof o&&Symbol.toStringTag in o)&&"[object Arguments]"===e.call(o)},n=function(t){return!!o(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==e.call(t)&&"[object Function]"===e.call(t.callee)},r=function(){return o(arguments)}();o.isLegacyArguments=n,module.exports=r?o:n;
},{}],"pTr6":[function(require,module,exports) {
"use strict";var r=function(r){return r!=r};module.exports=function(t,n){return 0===t&&0===n?1/t==1/n:t===n||!(!r(t)||!r(n))};
},{}],"B6OE":[function(require,module,exports) {
"use strict";var t="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,o=Object.prototype.toString,r="[object Function]";module.exports=function(e){var p=this;if("function"!=typeof p||o.call(p)!==r)throw new TypeError(t+p);for(var i,c=n.call(arguments,1),a=Math.max(0,p.length-c.length),l=[],u=0;u<a;u++)l.push("$"+u);if(i=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof i){var t=p.apply(this,c.concat(n.call(arguments)));return Object(t)===t?t:this}return p.apply(e,c.concat(n.call(arguments)))}),p.prototype){var y=function(){};y.prototype=p.prototype,i.prototype=new y,y.prototype=null}return i};
},{}],"TiwC":[function(require,module,exports) {
"use strict";var e=require("./implementation");module.exports=Function.prototype.bind||e;
},{"./implementation":"B6OE"}],"ar57":[function(require,module,exports) {
"use strict";var t=require("function-bind");module.exports=t.call(Function.call,Object.prototype.hasOwnProperty);
},{"function-bind":"TiwC"}],"DhUb":[function(require,module,exports) {
"use strict";var t=require("has"),e=RegExp.prototype.exec,r=Object.getOwnPropertyDescriptor,o=function(t){try{var r=t.lastIndex;return t.lastIndex=0,e.call(t),!0}catch(o){return!1}finally{t.lastIndex=r}},n=Object.prototype.toString,l="[object RegExp]",a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;module.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!a)return n.call(e)===l;var c=r(e,"lastIndex");return!(!c||!t(c,"value"))&&o(e)};
},{"has":"ar57"}],"VxKF":[function(require,module,exports) {
"use strict";var t=require("object-keys"),e="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),r=Object.prototype.toString,o=Array.prototype.concat,n=Object.defineProperty,c=function(t){return"function"==typeof t&&"[object Function]"===r.call(t)},u=function(){var t={};try{for(var e in n(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(r){return!1}},l=n&&u(),a=function(t,e,r,o){(!(e in t)||c(o)&&o())&&(l?n(t,e,{configurable:!0,enumerable:!1,value:r,writable:!0}):t[e]=r)},i=function(r,n){var c=arguments.length>2?arguments[2]:{},u=t(n);e&&(u=o.call(u,Object.getOwnPropertySymbols(n)));for(var l=0;l<u.length;l+=1)a(r,u[l],n[u[l]],c[u[l]])};i.supportsDescriptors=!!l,module.exports=i;
},{"object-keys":"ywQn"}],"HmkM":[function(require,module,exports) {
"use strict";var t=Object,i=TypeError;module.exports=function(){if(null!=this&&this!==t(this))throw new i("RegExp.prototype.flags getter called on non-object");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e};
},{}],"YWiL":[function(require,module,exports) {
"use strict";var e=require("./implementation"),r=require("define-properties").supportsDescriptors,t=Object.getOwnPropertyDescriptor,o=TypeError;module.exports=function(){if(!r)throw new o("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var p=t(RegExp.prototype,"flags");if(p&&"function"==typeof p.get&&"boolean"==typeof/a/.dotAll)return p.get}return e};
},{"./implementation":"HmkM","define-properties":"VxKF"}],"Kszl":[function(require,module,exports) {
"use strict";var e=require("define-properties").supportsDescriptors,r=require("./polyfill"),t=Object.getOwnPropertyDescriptor,o=Object.defineProperty,p=TypeError,s=Object.getPrototypeOf,i=/a/;module.exports=function(){if(!e||!s)throw new p("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var n=r(),u=s(i),a=t(u,"flags");return a&&a.get===n||o(u,"flags",{configurable:!0,enumerable:!1,get:n}),n};
},{"define-properties":"VxKF","./polyfill":"YWiL"}],"DbQL":[function(require,module,exports) {

"use strict";var e=require("define-properties"),i=require("./implementation"),r=require("./polyfill"),l=require("./shim"),t=Function.call.bind(i);e(t,{getPolyfill:r,implementation:i,shim:l}),module.exports=t;
},{"define-properties":"VxKF","./implementation":"HmkM","./polyfill":"YWiL","./shim":"Kszl"}],"NyUK":[function(require,module,exports) {
"use strict";var t=Date.prototype.getDay,o=function(o){try{return t.call(o),!0}catch(e){return!1}},e=Object.prototype.toString,r="[object Date]",n="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;module.exports=function(t){return"object"==typeof t&&null!==t&&(n?o(t):e.call(t)===r)};
},{}],"koiw":[function(require,module,exports) {
var e=require("object-keys"),r=require("is-arguments"),t=require("object-is"),n=require("is-regex"),o=require("regexp.prototype.flags"),u=require("is-date-object"),f=Date.prototype.getTime;function i(e,r,n){var o=n||{};return!(o.strict?!t(e,r):e!==r)||(!e||!r||"object"!=typeof e&&"object"!=typeof r?o.strict?t(e,r):e==r:l(e,r,o))}function c(e){return null==e}function p(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}function l(t,l,y){var s,g;if(typeof t!=typeof l)return!1;if(c(t)||c(l))return!1;if(t.prototype!==l.prototype)return!1;if(r(t)!==r(l))return!1;var a=n(t),h=n(l);if(a!==h)return!1;if(a||h)return t.source===l.source&&o(t)===o(l);if(u(t)&&u(l))return f.call(t)===f.call(l);var b=p(t),j=p(l);if(b!==j)return!1;if(b||j){if(t.length!==l.length)return!1;for(s=0;s<t.length;s++)if(t[s]!==l[s])return!1;return!0}if(typeof t!=typeof l)return!1;try{var q=e(t),v=e(l)}catch(m){return!1}if(q.length!==v.length)return!1;for(q.sort(),v.sort(),s=q.length-1;s>=0;s--)if(q[s]!=v[s])return!1;for(s=q.length-1;s>=0;s--)if(!i(t[g=q[s]],l[g],y))return!1;return!0}module.exports=i;
},{"object-keys":"ywQn","is-arguments":"ordk","object-is":"pTr6","is-regex":"DhUb","regexp.prototype.flags":"DbQL","is-date-object":"NyUK"}],"vS6c":[function(require,module,exports) {
!function(n){var t=function(n,t){return isNaN(t)?void 0:t<1?void 0:function(n,t){for(var r,o="",e=n.length;t--;)o+=n[(r=e,Math.floor(Math.random()*r))];return o}(n,t)};function r(n){n="string"==typeof n&&n.length>0?n:"abcdefghijklmnopqrstuvwxzy0123456789";var o=t.bind(t,n);return o.salt=function(){return n},o.create=r,o.gen=r,o}t.gen=r,module.exports=r()}();
},{}],"yh9p":[function(require,module,exports) {
"use strict";exports.byteLength=u,exports.toByteArray=i,exports.fromByteArray=d;for(var r=[],t=[],e="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=n.length;o<a;++o)r[o]=n[o],t[n.charCodeAt(o)]=o;function h(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=r.indexOf("=");return-1===e&&(e=t),[e,e===t?0:4-e%4]}function u(r){var t=h(r),e=t[0],n=t[1];return 3*(e+n)/4-n}function c(r,t,e){return 3*(t+e)/4-e}function i(r){var n,o,a=h(r),u=a[0],i=a[1],f=new e(c(r,u,i)),A=0,d=i>0?u-4:u;for(o=0;o<d;o+=4)n=t[r.charCodeAt(o)]<<18|t[r.charCodeAt(o+1)]<<12|t[r.charCodeAt(o+2)]<<6|t[r.charCodeAt(o+3)],f[A++]=n>>16&255,f[A++]=n>>8&255,f[A++]=255&n;return 2===i&&(n=t[r.charCodeAt(o)]<<2|t[r.charCodeAt(o+1)]>>4,f[A++]=255&n),1===i&&(n=t[r.charCodeAt(o)]<<10|t[r.charCodeAt(o+1)]<<4|t[r.charCodeAt(o+2)]>>2,f[A++]=n>>8&255,f[A++]=255&n),f}function f(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function A(r,t,e){for(var n,o=[],a=t;a<e;a+=3)n=(r[a]<<16&16711680)+(r[a+1]<<8&65280)+(255&r[a+2]),o.push(f(n));return o.join("")}function d(t){for(var e,n=t.length,o=n%3,a=[],h=0,u=n-o;h<u;h+=16383)a.push(A(t,h,h+16383>u?u:h+16383));return 1===o?(e=t[n-1],a.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],a.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),a.join("")}t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63;
},{}],"JgNJ":[function(require,module,exports) {
exports.read=function(a,o,t,r,h){var M,p,w=8*h-r-1,f=(1<<w)-1,e=f>>1,i=-7,N=t?h-1:0,n=t?-1:1,s=a[o+N];for(N+=n,M=s&(1<<-i)-1,s>>=-i,i+=w;i>0;M=256*M+a[o+N],N+=n,i-=8);for(p=M&(1<<-i)-1,M>>=-i,i+=r;i>0;p=256*p+a[o+N],N+=n,i-=8);if(0===M)M=1-e;else{if(M===f)return p?NaN:1/0*(s?-1:1);p+=Math.pow(2,r),M-=e}return(s?-1:1)*p*Math.pow(2,M-r)},exports.write=function(a,o,t,r,h,M){var p,w,f,e=8*M-h-1,i=(1<<e)-1,N=i>>1,n=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,s=r?0:M-1,u=r?1:-1,l=o<0||0===o&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(w=isNaN(o)?1:0,p=i):(p=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-p))<1&&(p--,f*=2),(o+=p+N>=1?n/f:n*Math.pow(2,1-N))*f>=2&&(p++,f/=2),p+N>=i?(w=0,p=i):p+N>=1?(w=(o*f-1)*Math.pow(2,h),p+=N):(w=o*Math.pow(2,N-1)*Math.pow(2,h),p=0));h>=8;a[t+s]=255&w,s+=u,w/=256,h-=8);for(p=p<<h|w,e+=h;e>0;a[t+s]=255&p,s+=u,p/=256,e-=8);a[t+s-u]|=128*l};
},{}],"seLU":[function(require,module,exports) {
var r={}.toString;module.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)};
},{}],"dskh":[function(require,module,exports) {

var global = arguments[3];
var t=arguments[3],r=require("base64-js"),e=require("ieee754"),n=require("isarray");function i(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(r){return!1}}function o(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(t,r){if(o()<r)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(r)).__proto__=f.prototype:(null===t&&(t=new f(r)),t.length=r),t}function f(t,r,e){if(!(f.TYPED_ARRAY_SUPPORT||this instanceof f))return new f(t,r,e);if("number"==typeof t){if("string"==typeof r)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return s(this,t,r,e)}function s(t,r,e,n){if("number"==typeof r)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer?g(t,r,e,n):"string"==typeof r?l(t,r,e):y(t,r)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function a(t,r,e,n){return h(r),r<=0?u(t,r):void 0!==e?"string"==typeof n?u(t,r).fill(e,n):u(t,r).fill(e):u(t,r)}function c(t,r){if(h(r),t=u(t,r<0?0:0|w(r)),!f.TYPED_ARRAY_SUPPORT)for(var e=0;e<r;++e)t[e]=0;return t}function l(t,r,e){if("string"==typeof e&&""!==e||(e="utf8"),!f.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var n=0|v(r,e),i=(t=u(t,n)).write(r,e);return i!==n&&(t=t.slice(0,i)),t}function p(t,r){var e=r.length<0?0:0|w(r.length);t=u(t,e);for(var n=0;n<e;n+=1)t[n]=255&r[n];return t}function g(t,r,e,n){if(r.byteLength,e<0||r.byteLength<e)throw new RangeError("'offset' is out of bounds");if(r.byteLength<e+(n||0))throw new RangeError("'length' is out of bounds");return r=void 0===e&&void 0===n?new Uint8Array(r):void 0===n?new Uint8Array(r,e):new Uint8Array(r,e,n),f.TYPED_ARRAY_SUPPORT?(t=r).__proto__=f.prototype:t=p(t,r),t}function y(t,r){if(f.isBuffer(r)){var e=0|w(r.length);return 0===(t=u(t,e)).length?t:(r.copy(t,0,0,e),t)}if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||W(r.length)?u(t,0):p(t,r);if("Buffer"===r.type&&n(r.data))return p(t,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function w(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function d(t){return+t!=t&&(t=0),f.alloc(+t)}function v(t,r){if(f.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var e=t.length;if(0===e)return 0;for(var n=!1;;)switch(r){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return $(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return K(t).length;default:if(n)return $(t).length;r=(""+r).toLowerCase(),n=!0}}function E(t,r,e){var n=!1;if((void 0===r||r<0)&&(r=0),r>this.length)return"";if((void 0===e||e>this.length)&&(e=this.length),e<=0)return"";if((e>>>=0)<=(r>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return x(this,r,e);case"utf8":case"utf-8":return Y(this,r,e);case"ascii":return L(this,r,e);case"latin1":case"binary":return D(this,r,e);case"base64":return S(this,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,r,e);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function b(t,r,e){var n=t[r];t[r]=t[e],t[e]=n}function R(t,r,e,n,i){if(0===t.length)return-1;if("string"==typeof e?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=i?0:t.length-1),e<0&&(e=t.length+e),e>=t.length){if(i)return-1;e=t.length-1}else if(e<0){if(!i)return-1;e=0}if("string"==typeof r&&(r=f.from(r,n)),f.isBuffer(r))return 0===r.length?-1:_(t,r,e,n,i);if("number"==typeof r)return r&=255,f.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,r,e):Uint8Array.prototype.lastIndexOf.call(t,r,e):_(t,[r],e,n,i);throw new TypeError("val must be string, number or Buffer")}function _(t,r,e,n,i){var o,u=1,f=t.length,s=r.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||r.length<2)return-1;u=2,f/=2,s/=2,e/=2}function h(t,r){return 1===u?t[r]:t.readUInt16BE(r*u)}if(i){var a=-1;for(o=e;o<f;o++)if(h(t,o)===h(r,-1===a?0:o-a)){if(-1===a&&(a=o),o-a+1===s)return a*u}else-1!==a&&(o-=o-a),a=-1}else for(e+s>f&&(e=f-s),o=e;o>=0;o--){for(var c=!0,l=0;l<s;l++)if(h(t,o+l)!==h(r,l)){c=!1;break}if(c)return o}return-1}function A(t,r,e,n){e=Number(e)||0;var i=t.length-e;n?(n=Number(n))>i&&(n=i):n=i;var o=r.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var u=0;u<n;++u){var f=parseInt(r.substr(2*u,2),16);if(isNaN(f))return u;t[e+u]=f}return u}function m(t,r,e,n){return Q($(r,t.length-e),t,e,n)}function P(t,r,e,n){return Q(G(r),t,e,n)}function T(t,r,e,n){return P(t,r,e,n)}function B(t,r,e,n){return Q(K(r),t,e,n)}function U(t,r,e,n){return Q(H(r,t.length-e),t,e,n)}function S(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function Y(t,r,e){e=Math.min(t.length,e);for(var n=[],i=r;i<e;){var o,u,f,s,h=t[i],a=null,c=h>239?4:h>223?3:h>191?2:1;if(i+c<=e)switch(c){case 1:h<128&&(a=h);break;case 2:128==(192&(o=t[i+1]))&&(s=(31&h)<<6|63&o)>127&&(a=s);break;case 3:o=t[i+1],u=t[i+2],128==(192&o)&&128==(192&u)&&(s=(15&h)<<12|(63&o)<<6|63&u)>2047&&(s<55296||s>57343)&&(a=s);break;case 4:o=t[i+1],u=t[i+2],f=t[i+3],128==(192&o)&&128==(192&u)&&128==(192&f)&&(s=(15&h)<<18|(63&o)<<12|(63&u)<<6|63&f)>65535&&s<1114112&&(a=s)}null===a?(a=65533,c=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=c}return O(n)}exports.Buffer=f,exports.SlowBuffer=d,exports.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:i(),exports.kMaxLength=o(),f.poolSize=8192,f._augment=function(t){return t.__proto__=f.prototype,t},f.from=function(t,r,e){return s(null,t,r,e)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0})),f.alloc=function(t,r,e){return a(null,t,r,e)},f.allocUnsafe=function(t){return c(null,t)},f.allocUnsafeSlow=function(t){return c(null,t)},f.isBuffer=function(t){return!(null==t||!t._isBuffer)},f.compare=function(t,r){if(!f.isBuffer(t)||!f.isBuffer(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var e=t.length,n=r.length,i=0,o=Math.min(e,n);i<o;++i)if(t[i]!==r[i]){e=t[i],n=r[i];break}return e<n?-1:n<e?1:0},f.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(t,r){if(!n(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return f.alloc(0);var e;if(void 0===r)for(r=0,e=0;e<t.length;++e)r+=t[e].length;var i=f.allocUnsafe(r),o=0;for(e=0;e<t.length;++e){var u=t[e];if(!f.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(i,o),o+=u.length}return i},f.byteLength=v,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)b(this,r,r+1);return this},f.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)b(this,r,r+3),b(this,r+1,r+2);return this},f.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)b(this,r,r+7),b(this,r+1,r+6),b(this,r+2,r+5),b(this,r+3,r+4);return this},f.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?Y(this,0,t):E.apply(this,arguments)},f.prototype.equals=function(t){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===f.compare(this,t)},f.prototype.inspect=function(){var t="",r=exports.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},f.prototype.compare=function(t,r,e,n,i){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===r&&(r=0),void 0===e&&(e=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),r<0||e>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&r>=e)return 0;if(n>=i)return-1;if(r>=e)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),u=(e>>>=0)-(r>>>=0),s=Math.min(o,u),h=this.slice(n,i),a=t.slice(r,e),c=0;c<s;++c)if(h[c]!==a[c]){o=h[c],u=a[c];break}return o<u?-1:u<o?1:0},f.prototype.includes=function(t,r,e){return-1!==this.indexOf(t,r,e)},f.prototype.indexOf=function(t,r,e){return R(this,t,r,e,!0)},f.prototype.lastIndexOf=function(t,r,e){return R(this,t,r,e,!1)},f.prototype.write=function(t,r,e,n){if(void 0===r)n="utf8",e=this.length,r=0;else if(void 0===e&&"string"==typeof r)n=r,e=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r|=0,isFinite(e)?(e|=0,void 0===n&&(n="utf8")):(n=e,e=void 0)}var i=this.length-r;if((void 0===e||e>i)&&(e=i),t.length>0&&(e<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return A(this,t,r,e);case"utf8":case"utf-8":return m(this,t,r,e);case"ascii":return P(this,t,r,e);case"latin1":case"binary":return T(this,t,r,e);case"base64":return B(this,t,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,t,r,e);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function O(t){var r=t.length;if(r<=I)return String.fromCharCode.apply(String,t);for(var e="",n=0;n<r;)e+=String.fromCharCode.apply(String,t.slice(n,n+=I));return e}function L(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(127&t[i]);return n}function D(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(t[i]);return n}function x(t,r,e){var n=t.length;(!r||r<0)&&(r=0),(!e||e<0||e>n)&&(e=n);for(var i="",o=r;o<e;++o)i+=Z(t[o]);return i}function C(t,r,e){for(var n=t.slice(r,e),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function M(t,r,e){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+r>e)throw new RangeError("Trying to access beyond buffer length")}function k(t,r,e,n,i,o){if(!f.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>i||r<o)throw new RangeError('"value" argument is out of bounds');if(e+n>t.length)throw new RangeError("Index out of range")}function N(t,r,e,n){r<0&&(r=65535+r+1);for(var i=0,o=Math.min(t.length-e,2);i<o;++i)t[e+i]=(r&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function z(t,r,e,n){r<0&&(r=4294967295+r+1);for(var i=0,o=Math.min(t.length-e,4);i<o;++i)t[e+i]=r>>>8*(n?i:3-i)&255}function F(t,r,e,n,i,o){if(e+n>t.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function j(t,r,n,i,o){return o||F(t,r,n,4,3.4028234663852886e38,-3.4028234663852886e38),e.write(t,r,n,i,23,4),n+4}function q(t,r,n,i,o){return o||F(t,r,n,8,1.7976931348623157e308,-1.7976931348623157e308),e.write(t,r,n,i,52,8),n+8}f.prototype.slice=function(t,r){var e,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(r=void 0===r?n:~~r)<0?(r+=n)<0&&(r=0):r>n&&(r=n),r<t&&(r=t),f.TYPED_ARRAY_SUPPORT)(e=this.subarray(t,r)).__proto__=f.prototype;else{var i=r-t;e=new f(i,void 0);for(var o=0;o<i;++o)e[o]=this[o+t]}return e},f.prototype.readUIntLE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n},f.prototype.readUIntBE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t+--r],i=1;r>0&&(i*=256);)n+=this[t+--r]*i;return n},f.prototype.readUInt8=function(t,r){return r||M(t,1,this.length),this[t]},f.prototype.readUInt16LE=function(t,r){return r||M(t,2,this.length),this[t]|this[t+1]<<8},f.prototype.readUInt16BE=function(t,r){return r||M(t,2,this.length),this[t]<<8|this[t+1]},f.prototype.readUInt32LE=function(t,r){return r||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},f.prototype.readUInt32BE=function(t,r){return r||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},f.prototype.readIntLE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*r)),n},f.prototype.readIntBE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=r,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*r)),o},f.prototype.readInt8=function(t,r){return r||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},f.prototype.readInt16LE=function(t,r){r||M(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},f.prototype.readInt16BE=function(t,r){r||M(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},f.prototype.readInt32LE=function(t,r){return r||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},f.prototype.readInt32BE=function(t,r){return r||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},f.prototype.readFloatLE=function(t,r){return r||M(t,4,this.length),e.read(this,t,!0,23,4)},f.prototype.readFloatBE=function(t,r){return r||M(t,4,this.length),e.read(this,t,!1,23,4)},f.prototype.readDoubleLE=function(t,r){return r||M(t,8,this.length),e.read(this,t,!0,52,8)},f.prototype.readDoubleBE=function(t,r){return r||M(t,8,this.length),e.read(this,t,!1,52,8)},f.prototype.writeUIntLE=function(t,r,e,n){(t=+t,r|=0,e|=0,n)||k(this,t,r,e,Math.pow(2,8*e)-1,0);var i=1,o=0;for(this[r]=255&t;++o<e&&(i*=256);)this[r+o]=t/i&255;return r+e},f.prototype.writeUIntBE=function(t,r,e,n){(t=+t,r|=0,e|=0,n)||k(this,t,r,e,Math.pow(2,8*e)-1,0);var i=e-1,o=1;for(this[r+i]=255&t;--i>=0&&(o*=256);)this[r+i]=t/o&255;return r+e},f.prototype.writeUInt8=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,1,255,0),f.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=255&t,r+1},f.prototype.writeUInt16LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):N(this,t,r,!0),r+2},f.prototype.writeUInt16BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):N(this,t,r,!1),r+2},f.prototype.writeUInt32LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t):z(this,t,r,!0),r+4},f.prototype.writeUInt32BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):z(this,t,r,!1),r+4},f.prototype.writeIntLE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);k(this,t,r,e,i-1,-i)}var o=0,u=1,f=0;for(this[r]=255&t;++o<e&&(u*=256);)t<0&&0===f&&0!==this[r+o-1]&&(f=1),this[r+o]=(t/u>>0)-f&255;return r+e},f.prototype.writeIntBE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);k(this,t,r,e,i-1,-i)}var o=e-1,u=1,f=0;for(this[r+o]=255&t;--o>=0&&(u*=256);)t<0&&0===f&&0!==this[r+o+1]&&(f=1),this[r+o]=(t/u>>0)-f&255;return r+e},f.prototype.writeInt8=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,1,127,-128),f.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[r]=255&t,r+1},f.prototype.writeInt16LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):N(this,t,r,!0),r+2},f.prototype.writeInt16BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):N(this,t,r,!1),r+2},f.prototype.writeInt32LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):z(this,t,r,!0),r+4},f.prototype.writeInt32BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):z(this,t,r,!1),r+4},f.prototype.writeFloatLE=function(t,r,e){return j(this,t,r,!0,e)},f.prototype.writeFloatBE=function(t,r,e){return j(this,t,r,!1,e)},f.prototype.writeDoubleLE=function(t,r,e){return q(this,t,r,!0,e)},f.prototype.writeDoubleBE=function(t,r,e){return q(this,t,r,!1,e)},f.prototype.copy=function(t,r,e,n){if(e||(e=0),n||0===n||(n=this.length),r>=t.length&&(r=t.length),r||(r=0),n>0&&n<e&&(n=e),n===e)return 0;if(0===t.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-r<n-e&&(n=t.length-r+e);var i,o=n-e;if(this===t&&e<r&&r<n)for(i=o-1;i>=0;--i)t[i+r]=this[i+e];else if(o<1e3||!f.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+r]=this[i+e];else Uint8Array.prototype.set.call(t,this.subarray(e,e+o),r);return o},f.prototype.fill=function(t,r,e,n){if("string"==typeof t){if("string"==typeof r?(n=r,r=0,e=this.length):"string"==typeof e&&(n=e,e=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!f.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(r<0||this.length<r||this.length<e)throw new RangeError("Out of range index");if(e<=r)return this;var o;if(r>>>=0,e=void 0===e?this.length:e>>>0,t||(t=0),"number"==typeof t)for(o=r;o<e;++o)this[o]=t;else{var u=f.isBuffer(t)?t:$(new f(t,n).toString()),s=u.length;for(o=0;o<e-r;++o)this[o+r]=u[o%s]}return this};var V=/[^+\/0-9A-Za-z-_]/g;function X(t){if((t=J(t).replace(V,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function J(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Z(t){return t<16?"0"+t.toString(16):t.toString(16)}function $(t,r){var e;r=r||1/0;for(var n=t.length,i=null,o=[],u=0;u<n;++u){if((e=t.charCodeAt(u))>55295&&e<57344){if(!i){if(e>56319){(r-=3)>-1&&o.push(239,191,189);continue}if(u+1===n){(r-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(r-=3)>-1&&o.push(239,191,189),i=e;continue}e=65536+(i-55296<<10|e-56320)}else i&&(r-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((r-=1)<0)break;o.push(e)}else if(e<2048){if((r-=2)<0)break;o.push(e>>6|192,63&e|128)}else if(e<65536){if((r-=3)<0)break;o.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return o}function G(t){for(var r=[],e=0;e<t.length;++e)r.push(255&t.charCodeAt(e));return r}function H(t,r){for(var e,n,i,o=[],u=0;u<t.length&&!((r-=2)<0);++u)n=(e=t.charCodeAt(u))>>8,i=e%256,o.push(i),o.push(n);return o}function K(t){return r.toByteArray(X(t))}function Q(t,r,e,n){for(var i=0;i<n&&!(i+e>=r.length||i>=t.length);++i)r[i+e]=t[i];return i}function W(t){return t!=t}
},{"base64-js":"yh9p","ieee754":"JgNJ","isarray":"seLU","buffer":"dskh"}],"nTXV":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,t=function(){"use strict";function t(e,t){return null!=t&&e instanceof t}var r,n,o;try{r=Map}catch(f){r=function(){}}try{n=Set}catch(f){n=function(){}}try{o=Promise}catch(f){o=function(){}}function c(i,f,a,l,p){"object"==typeof f&&(a=f.depth,l=f.prototype,p=f.includeNonEnumerable,f=f.circular);var s=[],b=[],y=void 0!==e;return void 0===f&&(f=!0),void 0===a&&(a=1/0),function i(a,g){if(null===a)return null;if(0===g)return a;var j,O;if("object"!=typeof a)return a;if(t(a,r))j=new r;else if(t(a,n))j=new n;else if(t(a,o))j=new o(function(e,t){a.then(function(t){e(i(t,g-1))},function(e){t(i(e,g-1))})});else if(c.__isArray(a))j=[];else if(c.__isRegExp(a))j=new RegExp(a.source,u(a)),a.lastIndex&&(j.lastIndex=a.lastIndex);else if(c.__isDate(a))j=new Date(a.getTime());else{if(y&&e.isBuffer(a))return j=e.allocUnsafe?e.allocUnsafe(a.length):new e(a.length),a.copy(j),j;t(a,Error)?j=Object.create(a):void 0===l?(O=Object.getPrototypeOf(a),j=Object.create(O)):(j=Object.create(l),O=l)}if(f){var v=s.indexOf(a);if(-1!=v)return b[v];s.push(a),b.push(j)}for(var d in t(a,r)&&a.forEach(function(e,t){var r=i(t,g-1),n=i(e,g-1);j.set(r,n)}),t(a,n)&&a.forEach(function(e){var t=i(e,g-1);j.add(t)}),a){var m;O&&(m=Object.getOwnPropertyDescriptor(O,d)),m&&null==m.set||(j[d]=i(a[d],g-1))}if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(a);for(d=0;d<_.length;d++){var h=_[d];(!(x=Object.getOwnPropertyDescriptor(a,h))||x.enumerable||p)&&(j[h]=i(a[h],g-1),x.enumerable||Object.defineProperty(j,h,{enumerable:!1}))}}if(p){var w=Object.getOwnPropertyNames(a);for(d=0;d<w.length;d++){var x,P=w[d];(x=Object.getOwnPropertyDescriptor(a,P))&&x.enumerable||(j[P]=i(a[P],g-1),Object.defineProperty(j,P,{enumerable:!1}))}}return j}(i,a)}function i(e){return Object.prototype.toString.call(e)}function u(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return c.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},c.__objToStr=i,c.__isDate=function(e){return"object"==typeof e&&"[object Date]"===i(e)},c.__isArray=function(e){return"object"==typeof e&&"[object Array]"===i(e)},c.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===i(e)},c.__getRegExpFlags=u,c}();"object"==typeof module&&module.exports&&(module.exports=t);
},{"buffer":"dskh"}],"pBGv":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(n){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(n){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"iUrj":[function(require,module,exports) {
var process = require("process");
var e=require("process");function o(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||(!(void 0===e||"object"!=typeof e.versions||!e.versions.electron)||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}module.exports=o;
},{"process":"pBGv"}],"fx0o":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pluginMissing=i,exports.fastUnsecureHash=u,exports.hash=s,exports.generateId=a,exports.nextTick=f,exports.promiseWait=c,exports.toPromise=l,exports.requestIdlePromise=p,exports.promiseSeries=d,exports.requestIdleCallbackIfAvailable=h,exports.ucfirst=g,exports.numberToLetter=m,exports.trimDots=b,exports.sortObject=w,exports.stringifyFilter=y,exports.randomCouchString=P,exports.shuffleArray=q,exports.adapterObject=j,exports.flattenObject=A,exports.getHeightOfRevision=I,exports.LOCAL_PREFIX=exports.isElectronRenderer=exports.clone=void 0;var e=o(require("random-token")),r=o(require("clone")),t=o(require("spark-md5")),n=o(require("is-electron"));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return new Error("You are using a function which must be overwritten by a plugin.\n        You should either prevent the usage of this function or add the plugin via:\n          - es5-require:\n            RxDB.plugin(require('rxdb/plugins/"+e+"'))\n          - es6-import:\n            import "+g(e)+"Plugin from 'rxdb/plugins/"+e+"';\n            RxDB.plugin("+g(e)+"Plugin);\n        ")}function u(e){"string"!=typeof e&&(e=JSON.stringify(e));var r,t,n=0;if(0===e.length)return n;for(r=0,t=e.length;r<t;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;return n<0&&(n*=-1),n}function s(e){var r=e;return"string"!=typeof e&&(r=JSON.stringify(e)),t.default.hash(r)}function a(){return(0,e.default)(10)+":"+(new Date).getTime()}function f(){return new Promise(function(e){return setTimeout(e,0)})}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(r){return setTimeout(r,e)})}function l(e){return e&&"function"==typeof e.then?e:Promise.resolve(e)}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return"object"==typeof window&&window.requestIdleCallback?new Promise(function(r){return window.requestIdleCallback(r,{timeout:e})}):Promise.resolve()}function d(e,r){return e.reduce(function(e,r){return e.then(r)},Promise.resolve(r))}function h(e){"object"==typeof window&&window.requestIdleCallback&&window.requestIdleCallback(e)}function g(e){return(e+="").charAt(0).toUpperCase()+e.substr(1)}var v="abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ123456789",x=v.length;function m(e){var r=[];do{var t=e%x;r.push(t),e=Math.floor(e/x)}while(e-- >0);return r.reverse().map(function(e){return v[e]}).join("")}function b(e){for(;"."===e.charAt(0);)e=e.substr(1);for(;"."===e.slice(-1);)e=e.slice(0,-1);return e}function w(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return e;if(!r&&Array.isArray(e))return e.sort(function(e,r){return"string"==typeof e&&"string"==typeof r?e.localeCompare(r):"object"==typeof e?1:-1}).map(function(e){return w(e)});if("object"==typeof e){if(e instanceof RegExp)return e;var t={};return Object.keys(e).sort(function(e,r){return e.localeCompare(r)}).forEach(function(r){t[r]=w(e[r])}),t}return e}function y(e,r){return r instanceof RegExp?r.toString():r}function P(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,r="",t="abcdefghijklmnopqrstuvwxyz",n=0;n<e;n++)r+=t.charAt(Math.floor(Math.random()*t.length));return r}function q(e){return e.sort(function(){return Math.random()-.5})}function j(e){var r={db:e};return"string"==typeof e&&(r={adapter:e}),r}function C(e){return e?(0,r.default)(e,!1):e}var O=C;exports.clone=O;var k=(0,n.default)();function A(e){var r={};for(var t in e)if(e.hasOwnProperty(t))if("object"==typeof e[t]){var n=A(e[t]);for(var o in n)n.hasOwnProperty(o)&&(r[t+"."+o]=n[o])}else r[t]=e[t];return r}function I(e){var r=e.split("-")[0];return parseInt(r,10)}exports.isElectronRenderer=k;var R="_local/";exports.LOCAL_PREFIX=R;
},{"random-token":"vS6c","clone":"nTXV","spark-md5":"nbIu","is-electron":"iUrj"}],"HDHM":[function(require,module,exports) {
function o(o,t){o.prototype=Object.create(t.prototype),o.prototype.constructor=o,o.__proto__=t}module.exports=o;
},{}],"zlfo":[function(require,module,exports) {
function t(e){return module.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},t(e)}module.exports=t;
},{}],"owOY":[function(require,module,exports) {
function t(o,e){return module.exports=t=Object.setPrototypeOf||function(t,o){return t.__proto__=o,t},t(o,e)}module.exports=t;
},{}],"nZ7P":[function(require,module,exports) {
function n(n){return-1!==Function.toString.call(n).indexOf("[native code]")}module.exports=n;
},{}],"KXwo":[function(require,module,exports) {
var t=require("./setPrototypeOf");function e(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function r(n,o,u){return e()?module.exports=r=Reflect.construct:module.exports=r=function(e,r,n){var o=[null];o.push.apply(o,r);var u=new(Function.bind.apply(e,o));return n&&t(u,n.prototype),u},r.apply(null,arguments)}module.exports=r;
},{"./setPrototypeOf":"owOY"}],"QpWH":[function(require,module,exports) {
var e=require("./getPrototypeOf"),r=require("./setPrototypeOf"),t=require("./isNativeFunction"),o=require("./construct");function n(u){var i="function"==typeof Map?new Map:void 0;return module.exports=n=function(n){if(null===n||!t(n))return n;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(void 0!==i){if(i.has(n))return i.get(n);i.set(n,u)}function u(){return o(n,arguments,e(this).constructor)}return u.prototype=Object.create(n.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),r(u,n)},n(u)}module.exports=n;
},{"./getPrototypeOf":"zlfo","./setPrototypeOf":"owOY","./isNativeFunction":"nZ7P","./construct":"KXwo"}],"Iri2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./util"),r={validatePassword:function(r){throw(0,e.pluginMissing)("encryption")},createKeyCompressor:function(r){throw(0,e.pluginMissing)("key-compression")},createLeaderElector:function(r){throw(0,e.pluginMissing)("leader-election")},checkAdapter:function(r){throw(0,e.pluginMissing)("adapter-check")},tunnelErrorMessage:function(e){return"RxDB Error-Code "+e+".\n        - To find out what this means, use the error-messages-plugin https://pubkey.github.io/rxdb/custom-build.html#error-messages\n        - Or search for this code https://github.com/pubkey/rxdb/search?q="+e+"\n        "}},t=r;exports.default=t;
},{"./util":"fx0o"}],"iwQ4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.newRxError=l,exports.newRxTypeError=c,exports.RxTypeError=exports.RxError=void 0;var r=o(require("@babel/runtime/helpers/createClass")),e=o(require("@babel/runtime/helpers/inheritsLoose")),t=o(require("@babel/runtime/helpers/wrapNativeSuper")),n=o(require("./overwritable"));function o(r){return r&&r.__esModule?r:{default:r}}function u(r){var e="";return 0===Object.keys(r).length?e:(e+="Given parameters: {\n",e+=Object.keys(r).map(function(e){var t="[object Object]";try{t=JSON.stringify(r[e],function(r,e){return void 0===e?null:e},2)}catch(n){}return e+":"+t}).join("\n"),e+="}")}function i(r,e){return"RxError:\n"+r+"\n"+u(e)}var a=function(t){function n(r,e){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=i(e,o);return(n=t.call(this,u)||this).code=r,n.message=u,n.parameters=o,n.rxdb=!0,n}return(0,e.default)(n,t),n.prototype.toString=function(){return this.message},(0,r.default)(n,[{key:"name",get:function(){return"RxError"}},{key:"typeError",get:function(){return!1}}]),n}((0,t.default)(Error));exports.RxError=a;var s=function(t){function n(r,e){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=i(e,o);return(n=t.call(this,u)||this).code=r,n.message=u,n.parameters=o,n.rxdb=!0,n}return(0,e.default)(n,t),n.prototype.toString=function(){return this.message},(0,r.default)(n,[{key:"name",get:function(){return"RxError"}},{key:"typeError",get:function(){return!0}}]),n}((0,t.default)(TypeError));function l(r,e){return new a(r,n.default.tunnelErrorMessage(r),e)}function c(r,e){return new s(r,n.default.tunnelErrorMessage(r),e)}exports.RxTypeError=s;
},{"@babel/runtime/helpers/createClass":"MCuf","@babel/runtime/helpers/inheritsLoose":"HDHM","@babel/runtime/helpers/wrapNativeSuper":"QpWH","./overwritable":"Iri2"}],"ZLkX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.runPluginHooks=t,exports.runAsyncPluginHooks=r,exports.clearHook=o,exports.HOOKS=void 0;var e={createRxDatabase:[],preCreateRxCollection:[],createRxCollection:[],preCreateRxSchema:[],createRxSchema:[],createRxQuery:[],createRxDocument:[],postCreateRxDocument:[],preCreatePouchDb:[],preMigrateDocument:[],postMigrateDocument:[],preDestroyRxDatabase:[]};function t(t,r){e[t].forEach(function(e){return e(r)})}function r(t,r){return Promise.all(e[t].map(function(e){return e(r)}))}function o(t,r){e[t]=e[t].filter(function(e){return e!==r})}exports.HOOKS=e;
},{}],"vCxL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.__extends=e,exports.__rest=n,exports.__decorate=o,exports.__param=a,exports.__metadata=u,exports.__awaiter=i,exports.__generator=c,exports.__exportStar=f,exports.__values=l,exports.__read=s,exports.__spread=p,exports.__spreadArrays=y,exports.__await=_,exports.__asyncGenerator=h,exports.__asyncDelegator=v,exports.__asyncValues=b,exports.__makeTemplateObject=d,exports.__importStar=x,exports.__importDefault=w,exports.__assign=void 0;var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};function e(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}var r=function(){return exports.__assign=r=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},r.apply(this,arguments)};function n(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r}function o(t,e,r,n){var o,a=arguments.length,u=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(t,e,r,n);else for(var i=t.length-1;i>=0;i--)(o=t[i])&&(u=(a<3?o(u):a>3?o(e,r,u):o(e,r))||u);return a>3&&u&&Object.defineProperty(e,r,u),u}function a(t,e){return function(r,n){e(r,n,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function i(t,e,r,n){return new(r||(r=Promise))(function(o,a){function u(t){try{c(n.next(t))}catch(e){a(e)}}function i(t){try{c(n.throw(t))}catch(e){a(e)}}function c(t){t.done?o(t.value):new r(function(e){e(t.value)}).then(u,i)}c((n=n.apply(t,e||[])).next())})}function c(t,e){var r,n,o,a,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,n=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=e.call(t,u)}catch(i){a=[6,i],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}function f(t,e){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}function l(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}function s(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,a=r.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(n=a.next()).done;)u.push(n.value)}catch(i){o={error:i}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return u}function p(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t}function y(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<r;e++)for(var a=arguments[e],u=0,i=a.length;u<i;u++,o++)n[o]=a[u];return n}function _(t){return this instanceof _?(this.v=t,this):new _(t)}function h(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(t,e||[]),a=[];return n={},u("next"),u("throw"),u("return"),n[Symbol.asyncIterator]=function(){return this},n;function u(t){o[t]&&(n[t]=function(e){return new Promise(function(r,n){a.push([t,e,r,n])>1||i(t,e)})})}function i(t,e){try{(r=o[t](e)).value instanceof _?Promise.resolve(r.value.v).then(c,f):l(a[0][2],r)}catch(n){l(a[0][3],n)}var r}function c(t){i("next",t)}function f(t){i("throw",t)}function l(t,e){t(e),a.shift(),a.length&&i(a[0][0],a[0][1])}}function v(t){var e,r;return e={},n("next"),n("throw",function(t){throw t}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,o){e[n]=t[n]?function(e){return(r=!r)?{value:_(t[n](e)),done:"return"===n}:o?o(e):e}:o}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t="function"==typeof l?l(t):t[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise(function(n,o){(function(t,e,r,n){Promise.resolve(n).then(function(e){t({value:e,done:r})},e)})(n,o,(e=t[r](e)).done,e.value)})}}}function d(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function x(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function w(t){return t&&t.__esModule?t:{default:t}}exports.__assign=r;
},{}],"Qnsq":[function(require,module,exports) {
"use strict";function e(e){return"function"==typeof e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isFunction=e;
},{}],"Q3iD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.config=void 0;var e=!1,r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(r){r&&(new Error).stack;e=r},get useDeprecatedSynchronousErrorHandling(){return e}};exports.config=r;
},{}],"JfKC":[function(require,module,exports) {
"use strict";function e(e){setTimeout(function(){throw e},0)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.hostReportError=e;
},{}],"wIlR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.empty=void 0;var e=require("./config"),r=require("./util/hostReportError"),o={closed:!0,next:function(e){},error:function(o){if(e.config.useDeprecatedSynchronousErrorHandling)throw o;(0,r.hostReportError)(o)},complete:function(){}};exports.empty=o;
},{"./config":"Q3iD","./util/hostReportError":"JfKC"}],"KeTG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isArray=void 0;var r=function(){return Array.isArray||function(r){return r&&"number"==typeof r.length}}();exports.isArray=r;
},{}],"nU7r":[function(require,module,exports) {
"use strict";function e(e){return null!==e&&"object"==typeof e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isObject=e;
},{}],"pMaL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UnsubscriptionError=void 0;var r=function(){function r(r){return Error.call(this),this.message=r?r.length+" errors occurred during unsubscription:\n"+r.map(function(r,t){return t+1+") "+r.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=r,this}return r.prototype=Object.create(Error.prototype),r}(),t=r;exports.UnsubscriptionError=t;
},{}],"I8KM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Subscription=void 0;var r=require("./util/isArray"),i=require("./util/isObject"),s=require("./util/isFunction"),t=require("./util/UnsubscriptionError"),n=function(){function n(r){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,r&&(this._unsubscribe=r)}var o;return n.prototype.unsubscribe=function(){var o;if(!this.closed){var u=this._parentOrParents,c=this._unsubscribe,a=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,u instanceof n)u.remove(this);else if(null!==u)for(var f=0;f<u.length;++f){u[f].remove(this)}if((0,s.isFunction)(c))try{c.call(this)}catch(h){o=h instanceof t.UnsubscriptionError?e(h.errors):[h]}if((0,r.isArray)(a)){f=-1;for(var p=a.length;++f<p;){var l=a[f];if((0,i.isObject)(l))try{l.unsubscribe()}catch(h){o=o||[],h instanceof t.UnsubscriptionError?o=o.concat(e(h.errors)):o.push(h)}}}if(o)throw new t.UnsubscriptionError(o)}},n.prototype.add=function(r){var i=r;if(!r)return n.EMPTY;switch(typeof r){case"function":i=new n(r);case"object":if(i===this||i.closed||"function"!=typeof i.unsubscribe)return i;if(this.closed)return i.unsubscribe(),i;if(!(i instanceof n)){var s=i;(i=new n)._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+r+" added to Subscription.")}var t=i._parentOrParents;if(null===t)i._parentOrParents=this;else if(t instanceof n){if(t===this)return i;i._parentOrParents=[t,this]}else{if(-1!==t.indexOf(this))return i;t.push(this)}var e=this._subscriptions;return null===e?this._subscriptions=[i]:e.push(i),i},n.prototype.remove=function(r){var i=this._subscriptions;if(i){var s=i.indexOf(r);-1!==s&&i.splice(s,1)}},n.EMPTY=((o=new n).closed=!0,o),n}();function e(r){return r.reduce(function(r,i){return r.concat(i instanceof t.UnsubscriptionError?i.errors:i)},[])}exports.Subscription=n;
},{"./util/isArray":"KeTG","./util/isObject":"nU7r","./util/isFunction":"Qnsq","./util/UnsubscriptionError":"pMaL"}],"yAZp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.$$rxSubscriber=exports.rxSubscriber=void 0;var r=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}();exports.rxSubscriber=r;var e=r;exports.$$rxSubscriber=e;
},{}],"RaFB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SafeSubscriber=exports.Subscriber=void 0;var r=u(require("tslib")),t=require("./util/isFunction"),e=require("./Observer"),n=require("./Subscription"),o=require("../internal/symbol/rxSubscriber"),i=require("./config"),s=require("./util/hostReportError");function c(){if("function"!=typeof WeakMap)return null;var r=new WeakMap;return c=function(){return r},r}function u(r){if(r&&r.__esModule)return r;if(null===r||"object"!=typeof r&&"function"!=typeof r)return{default:r};var t=c();if(t&&t.has(r))return t.get(r);var e={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in r)if(Object.prototype.hasOwnProperty.call(r,o)){var i=n?Object.getOwnPropertyDescriptor(r,o):null;i&&(i.get||i.set)?Object.defineProperty(e,o,i):e[o]=r[o]}return e.default=r,t&&t.set(r,e),e}var p=function(t){function n(r,o,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=e.empty;break;case 1:if(!r){s.destination=e.empty;break}if("object"==typeof r){r instanceof n?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new b(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new b(s,r,o,i)}return s}return r.__extends(n,t),n.prototype[o.rxSubscriber]=function(){return this},n.create=function(r,t,e){var o=new n(r,t,e);return o.syncErrorThrowable=!1,o},n.prototype.next=function(r){this.isStopped||this._next(r)},n.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},n.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},n.prototype._next=function(r){this.destination.next(r)},n.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},n.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},n.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},n}(n.Subscription);exports.Subscriber=p;var b=function(n){function o(r,o,i,s){var c,u=n.call(this)||this;u._parentSubscriber=r;var p=u;return(0,t.isFunction)(o)?c=o:o&&(c=o.next,i=o.error,s=o.complete,o!==e.empty&&(p=Object.create(o),(0,t.isFunction)(p.unsubscribe)&&u.add(p.unsubscribe.bind(p)),p.unsubscribe=u.unsubscribe.bind(u))),u._context=p,u._next=c,u._error=i,u._complete=s,u}return r.__extends(o,n),o.prototype.next=function(r){if(!this.isStopped&&this._next){var t=this._parentSubscriber;i.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,r)&&this.unsubscribe():this.__tryOrUnsub(this._next,r)}},o.prototype.error=function(r){if(!this.isStopped){var t=this._parentSubscriber,e=i.config.useDeprecatedSynchronousErrorHandling;if(this._error)e&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,r),this.unsubscribe()):(this.__tryOrUnsub(this._error,r),this.unsubscribe());else if(t.syncErrorThrowable)e?(t.syncErrorValue=r,t.syncErrorThrown=!0):(0,s.hostReportError)(r),this.unsubscribe();else{if(this.unsubscribe(),e)throw r;(0,s.hostReportError)(r)}}},o.prototype.complete=function(){var r=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var e=function(){return r._complete.call(r._context)};i.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}},o.prototype.__tryOrUnsub=function(r,t){try{r.call(this._context,t)}catch(e){if(this.unsubscribe(),i.config.useDeprecatedSynchronousErrorHandling)throw e;(0,s.hostReportError)(e)}},o.prototype.__tryOrSetError=function(r,t,e){if(!i.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,e)}catch(n){return i.config.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=n,r.syncErrorThrown=!0,!0):((0,s.hostReportError)(n),!0)}return!1},o.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},o}(p);exports.SafeSubscriber=b;
},{"tslib":"vCxL","./util/isFunction":"Qnsq","./Observer":"wIlR","./Subscription":"I8KM","../internal/symbol/rxSubscriber":"yAZp","./config":"Q3iD","./util/hostReportError":"JfKC"}],"wHmS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.canReportError=e;var r=require("../Subscriber");function e(e){for(;e;){var t=e,o=t.closed,i=t.destination,n=t.isStopped;if(o||n)return!1;e=i&&i instanceof r.Subscriber?i:null}return!0}
},{"../Subscriber":"RaFB"}],"SEU0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.toSubscriber=i;var r=require("../Subscriber"),e=require("../symbol/rxSubscriber"),b=require("../Observer");function i(i,u,s){if(i){if(i instanceof r.Subscriber)return i;if(i[e.rxSubscriber])return i[e.rxSubscriber]()}return i||u||s?new r.Subscriber(i,u,s):new r.Subscriber(b.empty)}
},{"../Subscriber":"RaFB","../symbol/rxSubscriber":"yAZp","../Observer":"wIlR"}],"tjV3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.observable=void 0;var e=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();exports.observable=e;
},{}],"rXfM":[function(require,module,exports) {
"use strict";function e(){}Object.defineProperty(exports,"__esModule",{value:!0}),exports.noop=e;
},{}],"HQCS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pipe=r,exports.pipeFromArray=n;var e=require("./noop");function r(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return n(e)}function n(r){return r?1===r.length?r[0]:function(e){return r.reduce(function(e,r){return r(e)},e)}:e.noop}
},{"./noop":"rXfM"}],"wbSE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Observable=void 0;var r=require("./util/canReportError"),e=require("./util/toSubscriber"),o=require("./symbol/observable"),t=require("./util/pipe"),n=require("./config"),i=function(){function i(r){this._isScalar=!1,r&&(this._subscribe=r)}return i.prototype.lift=function(r){var e=new i;return e.source=this,e.operator=r,e},i.prototype.subscribe=function(r,o,t){var i=this.operator,s=(0,e.toSubscriber)(r,o,t);if(i?s.add(i.call(s,this.source)):s.add(this.source||n.config.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),n.config.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},i.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(o){n.config.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=o),(0,r.canReportError)(e)?e.error(o):console.warn(o)}},i.prototype.forEach=function(r,e){var o=this;return new(e=s(e))(function(e,t){var n;n=o.subscribe(function(e){try{r(e)}catch(o){t(o),n&&n.unsubscribe()}},t,e)})},i.prototype._subscribe=function(r){var e=this.source;return e&&e.subscribe(r)},i.prototype[o.observable]=function(){return this},i.prototype.pipe=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return 0===r.length?this:(0,t.pipeFromArray)(r)(this)},i.prototype.toPromise=function(r){var e=this;return new(r=s(r))(function(r,o){var t;e.subscribe(function(r){return t=r},function(r){return o(r)},function(){return r(t)})})},i.create=function(r){return new i(r)},i}();function s(r){if(r||(r=n.config.Promise||Promise),!r)throw new Error("no Promise impl found");return r}exports.Observable=i;
},{"./util/canReportError":"wHmS","./util/toSubscriber":"SEU0","./symbol/observable":"tjV3","./util/pipe":"HQCS","./config":"Q3iD"}],"xQEi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ObjectUnsubscribedError=void 0;var r=function(){function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return r.prototype=Object.create(Error.prototype),r}(),e=r;exports.ObjectUnsubscribedError=e;
},{}],"fyc3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SubjectSubscription=void 0;var e=i(require("tslib")),t=require("./Subscription");function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function i(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var u=n?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=e[s]}return i.default=e,t&&t.set(e,i),i}var n=function(t){function r(e,r){var i=t.call(this)||this;return i.subject=e,i.subscriber=r,i.closed=!1,i}return e.__extends(r,t),r.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var r=t.indexOf(this.subscriber);-1!==r&&t.splice(r,1)}}},r}(t.Subscription);exports.SubjectSubscription=n;
},{"tslib":"vCxL","./Subscription":"I8KM"}],"r9t1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AnonymousSubject=exports.Subject=exports.SubjectSubscriber=void 0;var r=c(require("tslib")),e=require("./Observable"),t=require("./Subscriber"),o=require("./Subscription"),s=require("./util/ObjectUnsubscribedError"),i=require("./SubjectSubscription"),n=require("../internal/symbol/rxSubscriber");function u(){if("function"!=typeof WeakMap)return null;var r=new WeakMap;return u=function(){return r},r}function c(r){if(r&&r.__esModule)return r;if(null===r||"object"!=typeof r&&"function"!=typeof r)return{default:r};var e=u();if(e&&e.has(r))return e.get(r);var t={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){var i=o?Object.getOwnPropertyDescriptor(r,s):null;i&&(i.get||i.set)?Object.defineProperty(t,s,i):t[s]=r[s]}return t.default=r,e&&e.set(r,t),t}var b=function(e){function t(r){var t=e.call(this,r)||this;return t.destination=r,t}return r.__extends(t,e),t}(t.Subscriber);exports.SubjectSubscriber=b;var p=function(t){function u(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return r.__extends(u,t),u.prototype[n.rxSubscriber]=function(){return new b(this)},u.prototype.lift=function(r){var e=new h(this,this);return e.operator=r,e},u.prototype.next=function(r){if(this.closed)throw new s.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,t=e.length,o=e.slice(),i=0;i<t;i++)o[i].next(r)},u.prototype.error=function(r){if(this.closed)throw new s.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var e=this.observers,t=e.length,o=e.slice(),i=0;i<t;i++)o[i].error(r);this.observers.length=0},u.prototype.complete=function(){if(this.closed)throw new s.ObjectUnsubscribedError;this.isStopped=!0;for(var r=this.observers,e=r.length,t=r.slice(),o=0;o<e;o++)t[o].complete();this.observers.length=0},u.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},u.prototype._trySubscribe=function(r){if(this.closed)throw new s.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,r)},u.prototype._subscribe=function(r){if(this.closed)throw new s.ObjectUnsubscribedError;return this.hasError?(r.error(this.thrownError),o.Subscription.EMPTY):this.isStopped?(r.complete(),o.Subscription.EMPTY):(this.observers.push(r),new i.SubjectSubscription(this,r))},u.prototype.asObservable=function(){var r=new e.Observable;return r.source=this,r},u.create=function(r,e){return new h(r,e)},u}(e.Observable);exports.Subject=p;var h=function(e){function t(r,t){var o=e.call(this)||this;return o.destination=r,o.source=t,o}return r.__extends(t,e),t.prototype.next=function(r){var e=this.destination;e&&e.next&&e.next(r)},t.prototype.error=function(r){var e=this.destination;e&&e.error&&this.destination.error(r)},t.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},t.prototype._subscribe=function(r){return this.source?this.source.subscribe(r):o.Subscription.EMPTY},t}(p);exports.AnonymousSubject=h;
},{"tslib":"vCxL","./Observable":"wbSE","./Subscriber":"RaFB","./Subscription":"I8KM","./util/ObjectUnsubscribedError":"xQEi","./SubjectSubscription":"fyc3","../internal/symbol/rxSubscriber":"yAZp"}],"vT9o":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.refCount=o;var e=r(require("tslib")),n=require("../Subscriber");function t(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return t=function(){return e},e}function r(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t();if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){var i=o?Object.getOwnPropertyDescriptor(e,c):null;i&&(i.get||i.set)?Object.defineProperty(r,c,i):r[c]=e[c]}return r.default=e,n&&n.set(e,r),r}function o(){return function(e){return e.lift(new c(e))}}var c=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,n){var t=this.connectable;t._refCount++;var r=new i(e,t),o=n.subscribe(r);return r.closed||(r.connection=t.connect()),o},e}(),i=function(n){function t(e,t){var r=n.call(this,e)||this;return r.connectable=t,r}return e.__extends(t,n),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var n=e._refCount;if(n<=0)this.connection=null;else if(e._refCount=n-1,n>1)this.connection=null;else{var t=this.connection,r=e._connection;this.connection=null,!r||t&&r!==t||r.unsubscribe()}}else this.connection=null},t}(n.Subscriber);
},{"tslib":"vCxL","../Subscriber":"RaFB"}],"kkfD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.connectableObservableDescriptor=exports.ConnectableObservable=void 0;var e=i(require("tslib")),t=require("../Subject"),n=require("../Observable"),r=require("../Subscriber"),o=require("../Subscription"),c=require("../operators/refCount");function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function i(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var c=r?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(n,o,c):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}var s=function(t){function n(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return e.__extends(n,t),n.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},n.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},n.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new o.Subscription).add(this.source.subscribe(new b(this.getSubject(),this))),e.closed&&(this._connection=null,e=o.Subscription.EMPTY)),e},n.prototype.refCount=function(){return(0,c.refCount)()(this)},n}(n.Observable);exports.ConnectableObservable=s;var l=function(){var e=s.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}();exports.connectableObservableDescriptor=l;var b=function(t){function n(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return e.__extends(n,t),n.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},n.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},n.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},n}(t.SubjectSubscriber),a=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new p(e,n),o=t.subscribe(r);return r.closed||(r.connection=n.connect()),o},e}(),p=function(t){function n(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return e.__extends(n,t),n.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},n}(r.Subscriber);
},{"tslib":"vCxL","../Subject":"r9t1","../Observable":"wbSE","../Subscriber":"RaFB","../Subscription":"I8KM","../operators/refCount":"vT9o"}],"dNgG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.groupBy=s,exports.GroupedObservable=void 0;var t=u(require("tslib")),e=require("../Subscriber"),r=require("../Subscription"),o=require("../Observable"),n=require("../Subject");function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function u(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=i();if(e&&e.has(t))return e.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var u=o?Object.getOwnPropertyDescriptor(t,n):null;u&&(u.get||u.set)?Object.defineProperty(r,n,u):r[n]=t[n]}return r.default=t,e&&e.set(t,r),r}function s(t,e,r,o){return function(n){return n.lift(new c(t,e,r,o))}}var c=function(){function t(t,e,r,o){this.keySelector=t,this.elementSelector=e,this.durationSelector=r,this.subjectSelector=o}return t.prototype.call=function(t,e){return e.subscribe(new p(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),p=function(e){function r(t,r,o,n,i){var u=e.call(this,t)||this;return u.keySelector=r,u.elementSelector=o,u.durationSelector=n,u.subjectSelector=i,u.groups=null,u.attemptedToUnsubscribe=!1,u.count=0,u}return t.__extends(r,e),r.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(r){return void this.error(r)}this._group(t,e)},r.prototype._group=function(t,e){var r=this.groups;r||(r=this.groups=new Map);var o,i=r.get(e);if(this.elementSelector)try{o=this.elementSelector(t)}catch(c){this.error(c)}else o=t;if(!i){i=this.subjectSelector?this.subjectSelector():new n.Subject,r.set(e,i);var u=new a(e,i,this);if(this.destination.next(u),this.durationSelector){var s=void 0;try{s=this.durationSelector(new a(e,i))}catch(c){return void this.error(c)}this.add(s.subscribe(new l(e,i,this)))}}i.closed||i.next(o)},r.prototype._error=function(t){var e=this.groups;e&&(e.forEach(function(e,r){e.error(t)}),e.clear()),this.destination.error(t)},r.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(t,e){t.complete()}),t.clear()),this.destination.complete()},r.prototype.removeGroup=function(t){this.groups.delete(t)},r.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},r}(e.Subscriber),l=function(e){function r(t,r,o){var n=e.call(this,r)||this;return n.key=t,n.group=r,n.parent=o,n}return t.__extends(r,e),r.prototype._next=function(t){this.complete()},r.prototype._unsubscribe=function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)},r}(e.Subscriber),a=function(e){function o(t,r,o){var n=e.call(this)||this;return n.key=t,n.groupSubject=r,n.refCountSubscription=o,n}return t.__extends(o,e),o.prototype._subscribe=function(t){var e=new r.Subscription,o=this.refCountSubscription,n=this.groupSubject;return o&&!o.closed&&e.add(new b(o)),e.add(n.subscribe(t)),e},o}(o.Observable);exports.GroupedObservable=a;var b=function(e){function r(t){var r=e.call(this)||this;return r.parent=t,t.count++,r}return t.__extends(r,e),r.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},r}(r.Subscription);
},{"tslib":"vCxL","../Subscriber":"RaFB","../Subscription":"I8KM","../Observable":"wbSE","../Subject":"r9t1"}],"MPU6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BehaviorSubject=void 0;var e=n(require("tslib")),t=require("./Subject"),r=require("./util/ObjectUnsubscribedError");function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=n?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}return r.default=e,t&&t.set(e,r),r}var u=function(t){function o(e){var r=t.call(this)||this;return r._value=e,r}return e.__extends(o,t),Object.defineProperty(o.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),o.prototype._subscribe=function(e){var r=t.prototype._subscribe.call(this,e);return r&&!r.closed&&e.next(this._value),r},o.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new r.ObjectUnsubscribedError;return this._value},o.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},o}(t.Subject);exports.BehaviorSubject=u;
},{"tslib":"vCxL","./Subject":"r9t1","./util/ObjectUnsubscribedError":"xQEi"}],"arqX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Action=void 0;var e=n(require("tslib")),t=require("../Subscription");function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(n,i,u):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}var o=function(t){function r(e,r){return t.call(this)||this}return e.__extends(r,t),r.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},r}(t.Subscription);exports.Action=o;
},{"tslib":"vCxL","../Subscription":"I8KM"}],"llYF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AsyncAction=void 0;var t=r(require("tslib")),e=require("./Action");function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=i();if(e&&e.has(t))return e.get(t);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var c=n?Object.getOwnPropertyDescriptor(t,s):null;c&&(c.get||c.set)?Object.defineProperty(r,s,c):r[s]=t[s]}return r.default=t,e&&e.set(t,r),r}var n=function(e){function i(t,i){var r=e.call(this,t,i)||this;return r.scheduler=t,r.work=i,r.pending=!1,r}return t.__extends(i,e),i.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},i.prototype.requestAsyncId=function(t,e,i){return void 0===i&&(i=0),setInterval(t.flush.bind(t,this),i)},i.prototype.recycleAsyncId=function(t,e,i){if(void 0===i&&(i=0),null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)},i.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},i.prototype._execute=function(t,e){var i=!1,r=void 0;try{this.work(t)}catch(n){i=!0,r=!!n&&n||new Error(n)}if(i)return this.unsubscribe(),r},i.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,i=e.actions,r=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&i.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},i}(e.Action);exports.AsyncAction=n;
},{"tslib":"vCxL","./Action":"arqX"}],"pLkv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.QueueAction=void 0;var e=n(require("tslib")),t=require("./AsyncAction");function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,t&&t.set(e,n),n}var o=function(t){function r(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n}return e.__extends(r,t),r.prototype.schedule=function(e,r){return void 0===r&&(r=0),r>0?t.prototype.schedule.call(this,e,r):(this.delay=r,this.state=e,this.scheduler.flush(this),this)},r.prototype.execute=function(e,r){return r>0||this.closed?t.prototype.execute.call(this,e,r):this._execute(e,r)},r.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0?t.prototype.requestAsyncId.call(this,e,r,n):e.flush(this)},r}(t.AsyncAction);exports.QueueAction=o;
},{"tslib":"vCxL","./AsyncAction":"llYF"}],"QglZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Scheduler=void 0;var e=function(){function e(t,o){void 0===o&&(o=e.now),this.SchedulerAction=t,this.now=o}return e.prototype.schedule=function(e,t,o){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(o,t)},e.now=function(){return Date.now()},e}();exports.Scheduler=e;
},{}],"hnPK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AsyncScheduler=void 0;var e=i(require("tslib")),t=require("../Scheduler");function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function i(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(i,o,u):i[o]=e[o]}return i.default=e,t&&t.set(e,i),i}var n=function(r){function i(e,n){void 0===n&&(n=t.Scheduler.now);var o=r.call(this,e,function(){return i.delegate&&i.delegate!==o?i.delegate.now():n()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return e.__extends(i,r),i.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),i.delegate&&i.delegate!==this?i.delegate.schedule(e,t,n):r.prototype.schedule.call(this,e,t,n)},i.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}},i}(t.Scheduler);exports.AsyncScheduler=n;
},{"tslib":"vCxL","../Scheduler":"QglZ"}],"j0lZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.QueueScheduler=void 0;var e=n(require("tslib")),r=require("./AsyncScheduler");function t(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return t=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=t();if(r&&r.has(e))return r.get(e);var n={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=u?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}var u=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return e.__extends(t,r),t}(r.AsyncScheduler);exports.QueueScheduler=u;
},{"tslib":"vCxL","./AsyncScheduler":"hnPK"}],"HGOP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.queue=void 0;var e=require("./QueueAction"),u=require("./QueueScheduler"),r=new u.QueueScheduler(e.QueueAction);exports.queue=r;
},{"./QueueAction":"pLkv","./QueueScheduler":"j0lZ"}],"XsKQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.empty=t,exports.EMPTY=void 0;var e=require("../Observable"),r=new e.Observable(function(e){return e.complete()});function t(e){return e?n(e):r}function n(r){return new e.Observable(function(e){return r.schedule(function(){return e.complete()})})}exports.EMPTY=r;
},{"../Observable":"wbSE"}],"VqoH":[function(require,module,exports) {
"use strict";function e(e){return e&&"function"==typeof e.schedule}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isScheduler=e;
},{}],"lrFe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.subscribeToArray=void 0;var e=function(e){return function(r){for(var o=0,t=e.length;o<t&&!r.closed;o++)r.next(e[o]);r.complete()}};exports.subscribeToArray=e;
},{}],"ZGwk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.scheduleArray=t;var e=require("../Observable"),r=require("../Subscription");function t(t,n){return new e.Observable(function(e){var u=new r.Subscription,s=0;return u.add(n.schedule(function(){s!==t.length?(e.next(t[s++]),e.closed||u.add(this.schedule())):e.complete()})),u})}
},{"../Observable":"wbSE","../Subscription":"I8KM"}],"PJGF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fromArray=u;var e=require("../Observable"),r=require("../util/subscribeToArray"),s=require("../scheduled/scheduleArray");function u(u,a){return a?(0,s.scheduleArray)(u,a):new e.Observable((0,r.subscribeToArray)(u))}
},{"../Observable":"wbSE","../util/subscribeToArray":"lrFe","../scheduled/scheduleArray":"ZGwk"}],"wZuk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.of=t;var e=require("../util/isScheduler"),r=require("./fromArray"),u=require("../scheduled/scheduleArray");function t(){for(var t=[],l=0;l<arguments.length;l++)t[l]=arguments[l];var o=t[t.length-1];return(0,e.isScheduler)(o)?(t.pop(),(0,u.scheduleArray)(t,o)):(0,r.fromArray)(t)}
},{"../util/isScheduler":"VqoH","./fromArray":"PJGF","../scheduled/scheduleArray":"ZGwk"}],"FdIu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.throwError=e;var r=require("../Observable");function e(e,o){return o?new r.Observable(function(r){return o.schedule(n,0,{error:e,subscriber:r})}):new r.Observable(function(r){return r.error(e)})}function n(r){var e=r.error;r.subscriber.error(e)}
},{"../Observable":"wbSE"}],"n7Mc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Notification=exports.NotificationKind=void 0;var e,t=require("./observable/empty"),r=require("./observable/of"),o=require("./observable/throwError");exports.NotificationKind=e,function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"}(e||(exports.NotificationKind=e={}));var i=function(){function e(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,r){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return r&&r()}},e.prototype.accept=function(e,t,r){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,r)},e.prototype.toObservable=function(){switch(this.kind){case"N":return(0,r.of)(this.value);case"E":return(0,o.throwError)(this.error);case"C":return(0,t.empty)()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();exports.Notification=i;
},{"./observable/empty":"XsKQ","./observable/of":"wZuk","./observable/throwError":"FdIu"}],"ezNs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.observeOn=s,exports.ObserveOnMessage=exports.ObserveOnSubscriber=exports.ObserveOnOperator=void 0;var e=n(require("tslib")),t=require("../Subscriber"),r=require("../Notification");function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=n?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,t&&t.set(e,r),r}function s(e,t){return void 0===t&&(t=0),function(r){return r.lift(new o(e,t))}}var o=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.scheduler,this.delay))},e}();exports.ObserveOnOperator=o;var u=function(t){function i(e,r,i){void 0===i&&(i=0);var n=t.call(this,e)||this;return n.scheduler=r,n.delay=i,n}return e.__extends(i,t),i.dispatch=function(e){var t=e.notification,r=e.destination;t.observe(r),this.unsubscribe()},i.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(i.dispatch,this.delay,new c(e,this.destination)))},i.prototype._next=function(e){this.scheduleMessage(r.Notification.createNext(e))},i.prototype._error=function(e){this.scheduleMessage(r.Notification.createError(e)),this.unsubscribe()},i.prototype._complete=function(){this.scheduleMessage(r.Notification.createComplete()),this.unsubscribe()},i}(t.Subscriber);exports.ObserveOnSubscriber=u;var c=function(){return function(e,t){this.notification=e,this.destination=t}}();exports.ObserveOnMessage=c;
},{"tslib":"vCxL","../Subscriber":"RaFB","../Notification":"n7Mc"}],"Cp6P":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ReplaySubject=void 0;var e=c(require("tslib")),t=require("./Subject"),r=require("./scheduler/queue"),i=require("./Subscription"),n=require("./operators/observeOn"),o=require("./util/ObjectUnsubscribedError"),s=require("./SubjectSubscription");function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function c(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=i?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n]}return r.default=e,t&&t.set(e,r),r}var f=function(t){function u(e,r,i){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY);var n=t.call(this)||this;return n.scheduler=i,n._events=[],n._infiniteTimeWindow=!1,n._bufferSize=e<1?1:e,n._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(n._infiniteTimeWindow=!0,n.next=n.nextInfiniteTimeWindow):n.next=n.nextTimeWindow,n}return e.__extends(u,t),u.prototype.nextInfiniteTimeWindow=function(e){var r=this._events;r.push(e),r.length>this._bufferSize&&r.shift(),t.prototype.next.call(this,e)},u.prototype.nextTimeWindow=function(e){this._events.push(new h(this._getNow(),e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},u.prototype._subscribe=function(e){var t,r=this._infiniteTimeWindow,u=r?this._events:this._trimBufferThenGetEvents(),c=this.scheduler,f=u.length;if(this.closed)throw new o.ObjectUnsubscribedError;if(this.isStopped||this.hasError?t=i.Subscription.EMPTY:(this.observers.push(e),t=new s.SubjectSubscription(this,e)),c&&e.add(e=new n.ObserveOnSubscriber(e,c)),r)for(var h=0;h<f&&!e.closed;h++)e.next(u[h]);else for(h=0;h<f&&!e.closed;h++)e.next(u[h].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},u.prototype._getNow=function(){return(this.scheduler||r.queue).now()},u.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,r=this._windowTime,i=this._events,n=i.length,o=0;o<n&&!(e-i[o].time<r);)o++;return n>t&&(o=Math.max(o,n-t)),o>0&&i.splice(0,o),i},u}(t.Subject);exports.ReplaySubject=f;var h=function(){return function(e,t){this.time=e,this.value=t}}();
},{"tslib":"vCxL","./Subject":"r9t1","./scheduler/queue":"HGOP","./Subscription":"I8KM","./operators/observeOn":"ezNs","./util/ObjectUnsubscribedError":"xQEi","./SubjectSubscription":"fyc3"}],"Scvc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AsyncSubject=void 0;var t=n(require("tslib")),e=require("./Subject"),r=require("./Subscription");function o(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}function n(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=o();if(e&&e.has(t))return e.get(t);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=n?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=t[i]}return r.default=t,e&&e.set(t,r),r}var i=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return t.__extends(o,e),o.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),r.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),r.Subscription.EMPTY):e.prototype._subscribe.call(this,t)},o.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},o.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},o.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},o}(e.Subject);exports.AsyncSubject=i;
},{"tslib":"vCxL","./Subject":"r9t1","./Subscription":"I8KM"}],"Z56L":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Immediate=void 0;var e=1,t={};function r(e){var r=t[e];r&&r()}var i={setImmediate:function(i){var n=e++;return t[n]=i,Promise.resolve().then(function(){return r(n)}),n},clearImmediate:function(e){delete t[e]}};exports.Immediate=i;
},{}],"k3eS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AsapAction=void 0;var e=i(require("tslib")),t=require("../util/Immediate"),r=require("./AsyncAction");function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function i(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=i?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}var o=function(r){function n(e,t){var n=r.call(this,e,t)||this;return n.scheduler=e,n.work=t,n}return e.__extends(n,r),n.prototype.requestAsyncId=function(e,n,i){return void 0===i&&(i=0),null!==i&&i>0?r.prototype.requestAsyncId.call(this,e,n,i):(e.actions.push(this),e.scheduled||(e.scheduled=t.Immediate.setImmediate(e.flush.bind(e,null))))},n.prototype.recycleAsyncId=function(e,n,i){if(void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0)return r.prototype.recycleAsyncId.call(this,e,n,i);0===e.actions.length&&(t.Immediate.clearImmediate(n),e.scheduled=void 0)},n}(r.AsyncAction);exports.AsapAction=o;
},{"tslib":"vCxL","../util/Immediate":"Z56L","./AsyncAction":"llYF"}],"czze":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AsapScheduler=void 0;var e=n(require("tslib")),t=require("./AsyncScheduler");function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var o=i?Object.getOwnPropertyDescriptor(e,u):null;o&&(o.get||o.set)?Object.defineProperty(n,u,o):n[u]=e[u]}return n.default=e,t&&t.set(e,n),n}var i=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e.__extends(r,t),r.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,r=this.actions,n=-1,i=r.length;e=e||r.shift();do{if(t=e.execute(e.state,e.delay))break}while(++n<i&&(e=r.shift()));if(this.active=!1,t){for(;++n<i&&(e=r.shift());)e.unsubscribe();throw t}},r}(t.AsyncScheduler);exports.AsapScheduler=i;
},{"tslib":"vCxL","./AsyncScheduler":"hnPK"}],"ZqYc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.asap=void 0;var e=require("./AsapAction"),r=require("./AsapScheduler"),s=new r.AsapScheduler(e.AsapAction);exports.asap=s;
},{"./AsapAction":"k3eS","./AsapScheduler":"czze"}],"jun6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.async=void 0;var e=require("./AsyncAction"),r=require("./AsyncScheduler"),c=new r.AsyncScheduler(e.AsyncAction);exports.async=c;
},{"./AsyncAction":"llYF","./AsyncScheduler":"hnPK"}],"m8qQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AnimationFrameAction=void 0;var e=n(require("tslib")),t=require("./AsyncAction");function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var c=o?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(n,i,c):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}var o=function(t){function r(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n}return e.__extends(r,t),r.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0?t.prototype.requestAsyncId.call(this,e,r,n):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(function(){return e.flush(null)})))},r.prototype.recycleAsyncId=function(e,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,r,n);0===e.actions.length&&(cancelAnimationFrame(r),e.scheduled=void 0)},r}(t.AsyncAction);exports.AnimationFrameAction=o;
},{"tslib":"vCxL","./AsyncAction":"llYF"}],"gboY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AnimationFrameScheduler=void 0;var e=n(require("tslib")),t=require("./AsyncScheduler");function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=i?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(n,o,u):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}var i=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e.__extends(r,t),r.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,r=this.actions,n=-1,i=r.length;e=e||r.shift();do{if(t=e.execute(e.state,e.delay))break}while(++n<i&&(e=r.shift()));if(this.active=!1,t){for(;++n<i&&(e=r.shift());)e.unsubscribe();throw t}},r}(t.AsyncScheduler);exports.AnimationFrameScheduler=i;
},{"tslib":"vCxL","./AsyncScheduler":"hnPK"}],"zUKp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.animationFrame=void 0;var e=require("./AnimationFrameAction"),i=require("./AnimationFrameScheduler"),r=new i.AnimationFrameScheduler(e.AnimationFrameAction);exports.animationFrame=r;
},{"./AnimationFrameAction":"m8qQ","./AnimationFrameScheduler":"gboY"}],"RuMO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.VirtualAction=exports.VirtualTimeScheduler=void 0;var e=n(require("tslib")),t=require("./AsyncAction"),r=require("./AsyncScheduler");function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}var o=function(t){function r(e,r){void 0===e&&(e=u),void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e,function(){return i.frame})||this;return i.maxFrames=r,i.frame=0,i.index=-1,i}return e.__extends(r,t),r.prototype.flush=function(){for(var e,t,r=this.actions,i=this.maxFrames;(t=r[0])&&t.delay<=i&&(r.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=r.shift();)t.unsubscribe();throw e}},r.frameTimeFactor=10,r}(r.AsyncScheduler);exports.VirtualTimeScheduler=o;var u=function(t){function r(e,r,i){void 0===i&&(i=e.index+=1);var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n.index=i,n.active=!0,n.index=e.index=i,n}return e.__extends(r,t),r.prototype.schedule=function(e,i){if(void 0===i&&(i=0),!this.id)return t.prototype.schedule.call(this,e,i);this.active=!1;var n=new r(this.scheduler,this.work);return this.add(n),n.schedule(e,i)},r.prototype.requestAsyncId=function(e,t,i){void 0===i&&(i=0),this.delay=e.frame+i;var n=e.actions;return n.push(this),n.sort(r.sortActions),!0},r.prototype.recycleAsyncId=function(e,t,r){void 0===r&&(r=0)},r.prototype._execute=function(e,r){if(!0===this.active)return t.prototype._execute.call(this,e,r)},r.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},r}(t.AsyncAction);exports.VirtualAction=u;
},{"tslib":"vCxL","./AsyncAction":"llYF","./AsyncScheduler":"hnPK"}],"LXph":[function(require,module,exports) {
"use strict";function e(e){return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.identity=e;
},{}],"cUXi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isObservable=r;var e=require("../Observable");function r(r){return!!r&&(r instanceof e.Observable||"function"==typeof r.lift&&"function"==typeof r.subscribe)}
},{"../Observable":"wbSE"}],"Qh4I":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ArgumentOutOfRangeError=void 0;var r=function(){function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return r.prototype=Object.create(Error.prototype),r}(),e=r;exports.ArgumentOutOfRangeError=e;
},{}],"vsl0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EmptyError=void 0;var r=function(){function r(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return r.prototype=Object.create(Error.prototype),r}(),e=r;exports.EmptyError=e;
},{}],"SZK7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TimeoutError=void 0;var r=function(){function r(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return r.prototype=Object.create(Error.prototype),r}(),e=r;exports.TimeoutError=e;
},{}],"dNh5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.map=o,exports.MapOperator=void 0;var t=n(require("tslib")),r=require("../Subscriber");function e(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return e=function(){return t},t}function n(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=e();if(r&&r.has(t))return r.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var u=o?Object.getOwnPropertyDescriptor(t,i):null;u&&(u.get||u.set)?Object.defineProperty(n,i,u):n[i]=t[i]}return n.default=t,r&&r.set(t,n),n}function o(t,r){return function(e){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return e.lift(new i(t,r))}}var i=function(){function t(t,r){this.project=t,this.thisArg=r}return t.prototype.call=function(t,r){return r.subscribe(new u(t,this.project,this.thisArg))},t}();exports.MapOperator=i;var u=function(r){function e(t,e,n){var o=r.call(this,t)||this;return o.project=e,o.count=0,o.thisArg=n||o,o}return t.__extends(e,r),e.prototype._next=function(t){var r;try{r=this.project.call(this.thisArg,t,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(r)},e}(r.Subscriber);
},{"tslib":"vCxL","../Subscriber":"RaFB"}],"lxDK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bindCallback=a;var r=require("../Observable"),e=require("../AsyncSubject"),t=require("../operators/map"),c=require("../util/canReportError"),n=require("../util/isArray"),u=require("../util/isScheduler");function a(s,o,l){if(o){if(!(0,u.isScheduler)(o))return function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return a(s,l).apply(void 0,r).pipe((0,t.map)(function(r){return(0,n.isArray)(r)?o.apply(void 0,r):o(r)}))};l=o}return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var u,a=this,o={context:a,subject:u,callbackFunc:s,scheduler:l};return new r.Observable(function(r){if(l){var n={args:t,subscriber:r,params:o};return l.schedule(i,0,n)}if(!u){u=new e.AsyncSubject;try{s.apply(a,t.concat([function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];u.next(r.length<=1?r[0]:r),u.complete()}]))}catch(b){(0,c.canReportError)(u)?u.error(b):console.warn(b)}}return u.subscribe(r)})}}function i(r){var t=this,c=r.args,n=r.subscriber,u=r.params,a=u.callbackFunc,i=u.context,o=u.scheduler,l=u.subject;if(!l){l=u.subject=new e.AsyncSubject;try{a.apply(i,c.concat([function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var c=r.length<=1?r[0]:r;t.add(o.schedule(s,0,{value:c,subject:l}))}]))}catch(b){l.error(b)}}this.add(l.subscribe(n))}function s(r){var e=r.value,t=r.subject;t.next(e),t.complete()}function o(r){var e=r.err;r.subject.error(e)}
},{"../Observable":"wbSE","../AsyncSubject":"Scvc","../operators/map":"dNh5","../util/canReportError":"wHmS","../util/isArray":"KeTG","../util/isScheduler":"VqoH"}],"uTDa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bindNodeCallback=s;var e=require("../Observable"),r=require("../AsyncSubject"),t=require("../operators/map"),c=require("../util/canReportError"),u=require("../util/isScheduler"),n=require("../util/isArray");function s(i,o,l){if(o){if(!(0,u.isScheduler)(o))return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return s(i,l).apply(void 0,e).pipe((0,t.map)(function(e){return(0,n.isArray)(e)?o.apply(void 0,e):o(e)}))};l=o}return function(){for(var t=[],u=0;u<arguments.length;u++)t[u]=arguments[u];var n={subject:void 0,args:t,callbackFunc:i,scheduler:l,context:this};return new e.Observable(function(e){var u=n.context,s=n.subject;if(l)return l.schedule(a,0,{params:n,subscriber:e,context:u});if(!s){s=n.subject=new r.AsyncSubject;try{i.apply(u,t.concat([function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=e.shift();t?s.error(t):(s.next(e.length<=1?e[0]:e),s.complete())}]))}catch(o){(0,c.canReportError)(s)?s.error(o):console.warn(o)}}return s.subscribe(e)})}}function a(e){var t=this,c=e.params,u=e.subscriber,n=e.context,s=c.callbackFunc,a=c.args,l=c.scheduler,b=c.subject;if(!b){b=c.subject=new r.AsyncSubject;try{s.apply(n,a.concat([function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var c=e.shift();if(c)t.add(l.schedule(o,0,{err:c,subject:b}));else{var u=e.length<=1?e[0]:e;t.add(l.schedule(i,0,{value:u,subject:b}))}}]))}catch(d){this.add(l.schedule(o,0,{err:d,subject:b}))}}this.add(b.subscribe(u))}function i(e){var r=e.value,t=e.subject;t.next(r),t.complete()}function o(e){var r=e.err;e.subject.error(r)}
},{"../Observable":"wbSE","../AsyncSubject":"Scvc","../operators/map":"dNh5","../util/canReportError":"wHmS","../util/isScheduler":"VqoH","../util/isArray":"KeTG"}],"hZYI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.OuterSubscriber=void 0;var t=n(require("tslib")),e=require("./Subscriber");function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function n(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=r();if(e&&e.has(t))return e.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var u=o?Object.getOwnPropertyDescriptor(t,i):null;u&&(u.get||u.set)?Object.defineProperty(n,i,u):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}var o=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return t.__extends(r,e),r.prototype.notifyNext=function(t,e,r,n,o){this.destination.next(e)},r.prototype.notifyError=function(t,e){this.destination.error(t)},r.prototype.notifyComplete=function(t){this.destination.complete()},r}(e.Subscriber);exports.OuterSubscriber=o;
},{"tslib":"vCxL","./Subscriber":"RaFB"}],"aQbR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.InnerSubscriber=void 0;var e=n(require("tslib")),t=require("./Subscriber");function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=i?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(n,o,u):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}var i=function(t){function r(e,r,n){var i=t.call(this)||this;return i.parent=e,i.outerValue=r,i.outerIndex=n,i.index=0,i}return e.__extends(r,t),r.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},r.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},r.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},r}(t.Subscriber);exports.InnerSubscriber=i;
},{"tslib":"vCxL","./Subscriber":"RaFB"}],"eggw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.subscribeToPromise=void 0;var r=require("./hostReportError"),e=function(e){return function(o){return e.then(function(r){o.closed||(o.next(r),o.complete())},function(r){return o.error(r)}).then(null,r.hostReportError),o}};exports.subscribeToPromise=e;
},{"./hostReportError":"JfKC"}],"AqTP":[function(require,module,exports) {
"use strict";function t(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getSymbolIterator=t,exports.$$iterator=exports.iterator=void 0;var r=t();exports.iterator=r;var e=r;exports.$$iterator=e;
},{}],"QEdH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.subscribeToIterable=void 0;var e=require("../symbol/iterator"),r=function(r){return function(t){for(var o=r[e.iterator]();;){var n=o.next();if(n.done){t.complete();break}if(t.next(n.value),t.closed)break}return"function"==typeof o.return&&t.add(function(){o.return&&o.return()}),t}};exports.subscribeToIterable=r;
},{"../symbol/iterator":"AqTP"}],"buzG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.subscribeToObservable=void 0;var e=require("../symbol/observable"),r=function(r){return function(o){var b=r[e.observable]();if("function"!=typeof b.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return b.subscribe(o)}};exports.subscribeToObservable=r;
},{"../symbol/observable":"tjV3"}],"LS84":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isArrayLike=void 0;var e=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};exports.isArrayLike=e;
},{}],"Ok8F":[function(require,module,exports) {
"use strict";function e(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isPromise=e;
},{}],"vq9L":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.subscribeTo=void 0;var e=require("./subscribeToArray"),r=require("./subscribeToPromise"),i=require("./subscribeToIterable"),s=require("./subscribeToObservable"),o=require("./isArrayLike"),b=require("./isPromise"),u=require("./isObject"),t=require("../symbol/iterator"),a=require("../symbol/observable"),c=function(c){if(c&&"function"==typeof c[a.observable])return(0,s.subscribeToObservable)(c);if((0,o.isArrayLike)(c))return(0,e.subscribeToArray)(c);if((0,b.isPromise)(c))return(0,r.subscribeToPromise)(c);if(c&&"function"==typeof c[t.iterator])return(0,i.subscribeToIterable)(c);var n=(0,u.isObject)(c)?"an invalid object":"'"+c+"'";throw new TypeError("You provided "+n+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};exports.subscribeTo=c;
},{"./subscribeToArray":"lrFe","./subscribeToPromise":"eggw","./subscribeToIterable":"QEdH","./subscribeToObservable":"buzG","./isArrayLike":"LS84","./isPromise":"Ok8F","./isObject":"nU7r","../symbol/iterator":"AqTP","../symbol/observable":"tjV3"}],"JM7e":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.subscribeToResult=b;var e=require("../InnerSubscriber"),r=require("./subscribeTo"),s=require("../Observable");function b(b,i,u,c,n){if(void 0===n&&(n=new e.InnerSubscriber(b,u,c)),!n.closed)return i instanceof s.Observable?i.subscribe(n):(0,r.subscribeTo)(i)(n)}
},{"../InnerSubscriber":"aQbR","./subscribeTo":"vq9L","../Observable":"wbSE"}],"omVc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.combineLatest=a,exports.CombineLatestSubscriber=exports.CombineLatestOperator=void 0;var t=u(require("tslib")),e=require("../util/isScheduler"),r=require("../util/isArray"),i=require("../OuterSubscriber"),o=require("../util/subscribeToResult"),s=require("./fromArray");function n(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return n=function(){return t},t}function u(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=n();if(e&&e.has(t))return e.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,e&&e.set(t,r),r}var l={};function a(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o=null,n=null;return(0,e.isScheduler)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(o=t.pop()),1===t.length&&(0,r.isArray)(t[0])&&(t=t[0]),(0,s.fromArray)(t,n).lift(new c(o))}var c=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new p(t,this.resultSelector))},t}();exports.CombineLatestOperator=c;var p=function(e){function r(t,r){var i=e.call(this,t)||this;return i.resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return t.__extends(r,e),r.prototype._next=function(t){this.values.push(l),this.observables.push(t)},r.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var r=0;r<e;r++){var i=t[r];this.add((0,o.subscribeToResult)(this,i,i,r))}}},r.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},r.prototype.notifyNext=function(t,e,r,i,o){var s=this.values,n=s[r],u=this.toRespond?n===l?--this.toRespond:this.toRespond:0;s[r]=e,0===u&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},r.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)},r}(i.OuterSubscriber);exports.CombineLatestSubscriber=p;
},{"tslib":"vCxL","../util/isScheduler":"VqoH","../util/isArray":"KeTG","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e","./fromArray":"PJGF"}],"lgBy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.scheduleObservable=u;var e=require("../Observable"),r=require("../Subscription"),n=require("../symbol/observable");function u(u,t){return new e.Observable(function(e){var o=new r.Subscription;return o.add(t.schedule(function(){var r=u[n.observable]();o.add(r.subscribe({next:function(r){o.add(t.schedule(function(){return e.next(r)}))},error:function(r){o.add(t.schedule(function(){return e.error(r)}))},complete:function(){o.add(t.schedule(function(){return e.complete()}))}}))})),o})}
},{"../Observable":"wbSE","../Subscription":"I8KM","../symbol/observable":"tjV3"}],"aPE6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.schedulePromise=n;var e=require("../Observable"),r=require("../Subscription");function n(n,u){return new e.Observable(function(e){var t=new r.Subscription;return t.add(u.schedule(function(){return n.then(function(r){t.add(u.schedule(function(){e.next(r),t.add(u.schedule(function(){return e.complete()}))}))},function(r){t.add(u.schedule(function(){return e.error(r)}))})})),t})}
},{"../Observable":"wbSE","../Subscription":"I8KM"}],"XzIO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.scheduleIterable=n;var e=require("../Observable"),r=require("../Subscription"),t=require("../symbol/iterator");function n(n,u){if(!n)throw new Error("Iterable cannot be null");return new e.Observable(function(e){var o,i=new r.Subscription;return i.add(function(){o&&"function"==typeof o.return&&o.return()}),i.add(u.schedule(function(){o=n[t.iterator](),i.add(u.schedule(function(){if(!e.closed){var r,t;try{var n=o.next();r=n.value,t=n.done}catch(u){return void e.error(u)}t?e.complete():(e.next(r),this.schedule())}}))})),i})}
},{"../Observable":"wbSE","../Subscription":"I8KM","../symbol/iterator":"AqTP"}],"CTP2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isInteropObservable=r;var e=require("../symbol/observable");function r(r){return r&&"function"==typeof r[e.observable]}
},{"../symbol/observable":"tjV3"}],"NjuQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isIterable=r;var e=require("../symbol/iterator");function r(r){return r&&"function"==typeof r[e.iterator]}
},{"../symbol/iterator":"AqTP"}],"mNZE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.scheduled=a;var e=require("./scheduleObservable"),r=require("./schedulePromise"),i=require("./scheduleArray"),s=require("./scheduleIterable"),u=require("../util/isInteropObservable"),l=require("../util/isPromise"),t=require("../util/isArrayLike"),o=require("../util/isIterable");function a(a,b){if(null!=a){if((0,u.isInteropObservable)(a))return(0,e.scheduleObservable)(a,b);if((0,l.isPromise)(a))return(0,r.schedulePromise)(a,b);if((0,t.isArrayLike)(a))return(0,i.scheduleArray)(a,b);if((0,o.isIterable)(a)||"string"==typeof a)return(0,s.scheduleIterable)(a,b)}throw new TypeError((null!==a&&typeof a||a)+" is not observable")}
},{"./scheduleObservable":"lgBy","./schedulePromise":"aPE6","./scheduleArray":"ZGwk","./scheduleIterable":"XzIO","../util/isInteropObservable":"CTP2","../util/isPromise":"Ok8F","../util/isArrayLike":"LS84","../util/isIterable":"NjuQ"}],"WXUl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.from=u;var e=require("../Observable"),r=require("../util/subscribeTo"),s=require("../scheduled/scheduled");function u(u,b){return b?(0,s.scheduled)(u,b):u instanceof e.Observable?u:new e.Observable((0,r.subscribeTo)(u))}
},{"../Observable":"wbSE","../util/subscribeTo":"vq9L","../scheduled/scheduled":"mNZE"}],"nFsM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mergeMap=c,exports.MergeMapSubscriber=exports.MergeMapOperator=void 0;var e=s(require("tslib")),t=require("../util/subscribeToResult"),r=require("../OuterSubscriber"),i=require("../InnerSubscriber"),n=require("./map"),o=require("../observable/from");function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function s(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=i?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n]}return r.default=e,t&&t.set(e,r),r}function c(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof t?function(i){return i.pipe(c(function(r,i){return(0,o.from)(e(r,i)).pipe((0,n.map)(function(e,n){return t(r,e,i,n)}))},r))}:("number"==typeof t&&(r=t),function(t){return t.lift(new p(e,r))})}var p=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.project,this.concurrent))},e}();exports.MergeMapOperator=p;var f=function(r){function n(e,t,i){void 0===i&&(i=Number.POSITIVE_INFINITY);var n=r.call(this,e)||this;return n.project=t,n.concurrent=i,n.hasCompleted=!1,n.buffer=[],n.active=0,n.index=0,n}return e.__extends(n,r),n.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},n.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t,e,r)},n.prototype._innerSub=function(e,r,n){var o=new i.InnerSubscriber(this,void 0,void 0);this.destination.add(o),(0,t.subscribeToResult)(this,e,r,n,o)},n.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},n.prototype.notifyNext=function(e,t,r,i,n){this.destination.next(t)},n.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},n}(r.OuterSubscriber);exports.MergeMapSubscriber=f;
},{"tslib":"vCxL","../util/subscribeToResult":"JM7e","../OuterSubscriber":"hZYI","../InnerSubscriber":"aQbR","./map":"dNh5","../observable/from":"WXUl"}],"Nkv4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mergeAll=t;var e=require("./mergeMap"),r=require("../util/identity");function t(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),(0,e.mergeMap)(r.identity,t)}
},{"./mergeMap":"nFsM","../util/identity":"LXph"}],"Yxey":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.concatAll=r;var e=require("./mergeAll");function r(){return(0,e.mergeAll)(1)}
},{"./mergeAll":"Nkv4"}],"CsdO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.concat=o;var e=require("./of"),r=require("../operators/concatAll");function o(){for(var o=[],t=0;t<arguments.length;t++)o[t]=arguments[t];return(0,r.concatAll)()(e.of.apply(void 0,o))}
},{"./of":"wZuk","../operators/concatAll":"Yxey"}],"w9G6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defer=u;var e=require("../Observable"),r=require("./from"),t=require("./empty");function u(u){return new e.Observable(function(e){var o;try{o=u()}catch(i){return void e.error(i)}return(o?(0,r.from)(o):(0,t.empty)()).subscribe(e)})}
},{"../Observable":"wbSE","./from":"WXUl","./empty":"XsKQ"}],"R2GC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.forkJoin=u;var r=require("../Observable"),e=require("../util/isArray"),t=require("../operators/map"),n=require("../util/isObject"),o=require("./from");function u(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(1===r.length){var u=r[0];if((0,e.isArray)(u))return i(u,null);if((0,n.isObject)(u)&&Object.getPrototypeOf(u)===Object.prototype){var f=Object.keys(u);return i(f.map(function(r){return u[r]}),f)}}if("function"==typeof r[r.length-1]){var c=r.pop();return i(r=1===r.length&&(0,e.isArray)(r[0])?r[0]:r,null).pipe((0,t.map)(function(r){return c.apply(void 0,r)}))}return i(r,null)}function i(e,t){return new r.Observable(function(r){var n=e.length;if(0!==n)for(var u=new Array(n),i=0,f=0,c=function(c){var l=(0,o.from)(e[c]),a=!1;r.add(l.subscribe({next:function(r){a||(a=!0,f++),u[c]=r},error:function(e){return r.error(e)},complete:function(){++i!==n&&a||(f===n&&r.next(t?t.reduce(function(r,e,t){return r[e]=u[t],r},{}):u),r.complete())}}))},l=0;l<n;l++)c(l);else r.complete()})}
},{"../Observable":"wbSE","../util/isArray":"KeTG","../operators/map":"dNh5","../util/isObject":"nU7r","./from":"WXUl"}],"ZHZV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fromEvent=i;var e=require("../Observable"),n=require("../util/isArray"),t=require("../util/isFunction"),r=require("../operators/map"),o=function(){return Object.prototype.toString}();function i(o,f,c,a){return(0,t.isFunction)(c)&&(a=c,c=void 0),a?i(o,f,c).pipe((0,r.map)(function(e){return(0,n.isArray)(e)?a.apply(void 0,e):a(e)})):new e.Observable(function(e){u(o,f,function(n){arguments.length>1?e.next(Array.prototype.slice.call(arguments)):e.next(n)},e,c)})}function u(e,n,t,r,o){var i;if(a(e)){var s=e;e.addEventListener(n,t,o),i=function(){return s.removeEventListener(n,t,o)}}else if(c(e)){var v=e;e.on(n,t),i=function(){return v.off(n,t)}}else if(f(e)){var p=e;e.addListener(n,t),i=function(){return p.removeListener(n,t)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,d=e.length;l<d;l++)u(e[l],n,t,r,o)}r.add(i)}function f(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}function c(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}function a(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}
},{"../Observable":"wbSE","../util/isArray":"KeTG","../util/isFunction":"Qnsq","../operators/map":"dNh5"}],"HFE7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fromEventPattern=i;var r=require("../Observable"),e=require("../util/isArray"),t=require("../util/isFunction"),n=require("../operators/map");function i(u,o,a){return a?i(u,o).pipe((0,n.map)(function(r){return(0,e.isArray)(r)?a.apply(void 0,r):a(r)})):new r.Observable(function(r){var e,n=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.next(1===e.length?e[0]:e)};try{e=u(n)}catch(i){return void r.error(i)}if((0,t.isFunction)(o))return function(){return o(n,e)}})}
},{"../Observable":"wbSE","../util/isArray":"KeTG","../util/isFunction":"Qnsq","../operators/map":"dNh5"}],"xNZb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.generate=i;var e=require("../Observable"),r=require("../util/identity"),t=require("../util/isScheduler");function i(i,c,n,a,s){var u,d;if(1==arguments.length){var l=i;d=l.initialState,c=l.condition,n=l.iterate,u=l.resultSelector||r.identity,s=l.scheduler}else void 0===a||(0,t.isScheduler)(a)?(d=i,u=r.identity,s=a):(d=i,u=a);return new e.Observable(function(e){var r=d;if(s)return s.schedule(o,0,{subscriber:e,iterate:n,condition:c,resultSelector:u,state:r});for(;;){if(c){var t=void 0;try{t=c(r)}catch(a){return void e.error(a)}if(!t){e.complete();break}}var i=void 0;try{i=u(r)}catch(a){return void e.error(a)}if(e.next(i),e.closed)break;try{r=n(r)}catch(a){return void e.error(a)}}})}function o(e){var r=e.subscriber,t=e.condition;if(!r.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(c){return void r.error(c)}else e.needIterate=!0;if(t){var i=void 0;try{i=t(e.state)}catch(c){return void r.error(c)}if(!i)return void r.complete();if(r.closed)return}var o;try{o=e.resultSelector(e.state)}catch(c){return void r.error(c)}if(!r.closed&&(r.next(o),!r.closed))return this.schedule(e)}}
},{"../Observable":"wbSE","../util/identity":"LXph","../util/isScheduler":"VqoH"}],"SXp5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.iif=t;var e=require("./defer"),r=require("./empty");function t(t,i,u){return void 0===i&&(i=r.EMPTY),void 0===u&&(u=r.EMPTY),(0,e.defer)(function(){return t()?i:u})}
},{"./defer":"w9G6","./empty":"XsKQ"}],"wBpm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNumeric=e;var r=require("./isArray");function e(e){return!(0,r.isArray)(e)&&e-parseFloat(e)+1>=0}
},{"./isArray":"KeTG"}],"QHLS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.interval=i;var e=require("../Observable"),r=require("../scheduler/async"),u=require("../util/isNumeric");function i(i,c){return void 0===i&&(i=0),void 0===c&&(c=r.async),(!(0,u.isNumeric)(i)||i<0)&&(i=0),c&&"function"==typeof c.schedule||(c=r.async),new e.Observable(function(e){return e.add(c.schedule(s,i,{subscriber:e,counter:0,period:i})),e})}function s(e){var r=e.subscriber,u=e.counter,i=e.period;r.next(u),this.schedule({subscriber:r,counter:u+1,period:i},i)}
},{"../Observable":"wbSE","../scheduler/async":"jun6","../util/isNumeric":"wBpm"}],"DQig":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.merge=u;var e=require("../Observable"),r=require("../util/isScheduler"),l=require("../operators/mergeAll"),t=require("./fromArray");function u(){for(var u=[],o=0;o<arguments.length;o++)u[o]=arguments[o];var n=Number.POSITIVE_INFINITY,p=null,i=u[u.length-1];return(0,r.isScheduler)(i)?(p=u.pop(),u.length>1&&"number"==typeof u[u.length-1]&&(n=u.pop())):"number"==typeof i&&(n=u.pop()),null===p&&1===u.length&&u[0]instanceof e.Observable?u[0]:(0,l.mergeAll)(n)((0,t.fromArray)(u,p))}
},{"../Observable":"wbSE","../util/isScheduler":"VqoH","../operators/mergeAll":"Nkv4","./fromArray":"PJGF"}],"TBTl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.never=t,exports.NEVER=void 0;var e=require("../Observable"),r=require("../util/noop"),o=new e.Observable(r.noop);function t(){return o}exports.NEVER=o;
},{"../Observable":"wbSE","../util/noop":"rXfM"}],"VCq5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.onErrorResumeNext=i;var e=require("../Observable"),r=require("./from"),t=require("../util/isArray"),n=require("./empty");function i(){for(var u=[],o=0;o<arguments.length;o++)u[o]=arguments[o];if(0===u.length)return n.EMPTY;var s=u[0],a=u.slice(1);return 1===u.length&&(0,t.isArray)(s)?i.apply(void 0,s):new e.Observable(function(e){var t=function(){return e.add(i.apply(void 0,a).subscribe(e))};return(0,r.from)(s).subscribe({next:function(r){e.next(r)},error:t,complete:t})})}
},{"../Observable":"wbSE","./from":"WXUl","../util/isArray":"KeTG","./empty":"XsKQ"}],"QHfc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pairs=s,exports.dispatch=i;var e=require("../Observable"),r=require("../Subscription");function s(s,t){return t?new e.Observable(function(e){var n=Object.keys(s),b=new r.Subscription;return b.add(t.schedule(i,0,{keys:n,index:0,subscriber:e,subscription:b,obj:s})),b}):new e.Observable(function(e){for(var r=Object.keys(s),i=0;i<r.length&&!e.closed;i++){var t=r[i];s.hasOwnProperty(t)&&e.next([t,s[t]])}e.complete()})}function i(e){var r=e.keys,s=e.index,i=e.subscriber,t=e.subscription,n=e.obj;if(!i.closed)if(s<r.length){var b=r[s];i.next([b,n[b]]),t.add(this.schedule({keys:r,index:s+1,subscriber:i,subscription:t,obj:n}))}else i.complete()}
},{"../Observable":"wbSE","../Subscription":"I8KM"}],"nij6":[function(require,module,exports) {
"use strict";function e(e,r){function t(){return!t.pred.apply(t.thisArg,arguments)}return t.pred=e,t.thisArg=r,t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.not=e;
},{}],"HKzi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.filter=i;var t=n(require("tslib")),e=require("../Subscriber");function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function n(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=r();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if(Object.prototype.hasOwnProperty.call(t,u)){var o=i?Object.getOwnPropertyDescriptor(t,u):null;o&&(o.get||o.set)?Object.defineProperty(n,u,o):n[u]=t[u]}return n.default=t,e&&e.set(t,n),n}function i(t,e){return function(r){return r.lift(new u(t,e))}}var u=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new o(t,this.predicate,this.thisArg))},t}(),o=function(e){function r(t,r,n){var i=e.call(this,t)||this;return i.predicate=r,i.thisArg=n,i.count=0,i}return t.__extends(r,e),r.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}e&&this.destination.next(t)},r}(e.Subscriber);
},{"tslib":"vCxL","../Subscriber":"RaFB"}],"wJ9V":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.partition=s;var e=require("../util/not"),r=require("../util/subscribeTo"),t=require("../operators/filter"),i=require("../Observable");function s(s,u,b){return[(0,t.filter)(u,b)(new i.Observable((0,r.subscribeTo)(s))),(0,t.filter)((0,e.not)(u,b))(new i.Observable((0,r.subscribeTo)(s)))]}
},{"../util/not":"nij6","../util/subscribeTo":"vq9L","../operators/filter":"HKzi","../Observable":"wbSE"}],"bwYX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.race=u,exports.RaceSubscriber=exports.RaceOperator=void 0;var r=o(require("tslib")),t=require("../util/isArray"),e=require("./fromArray"),i=require("../OuterSubscriber"),s=require("../util/subscribeToResult");function n(){if("function"!=typeof WeakMap)return null;var r=new WeakMap;return n=function(){return r},r}function o(r){if(r&&r.__esModule)return r;if(null===r||"object"!=typeof r&&"function"!=typeof r)return{default:r};var t=n();if(t&&t.has(r))return t.get(r);var e={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){var o=i?Object.getOwnPropertyDescriptor(r,s):null;o&&(o.get||o.set)?Object.defineProperty(e,s,o):e[s]=r[s]}return e.default=r,t&&t.set(r,e),e}function u(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(1===r.length){if(!(0,t.isArray)(r[0]))return r[0];r=r[0]}return(0,e.fromArray)(r,void 0).lift(new a)}var a=function(){function r(){}return r.prototype.call=function(r,t){return t.subscribe(new c(r))},r}();exports.RaceOperator=a;var c=function(t){function e(r){var e=t.call(this,r)||this;return e.hasFirst=!1,e.observables=[],e.subscriptions=[],e}return r.__extends(e,t),e.prototype._next=function(r){this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,t=r.length;if(0===t)this.destination.complete();else{for(var e=0;e<t&&!this.hasFirst;e++){var i=r[e],n=(0,s.subscribeToResult)(this,i,i,e);this.subscriptions&&this.subscriptions.push(n),this.add(n)}this.observables=null}},e.prototype.notifyNext=function(r,t,e,i,s){if(!this.hasFirst){this.hasFirst=!0;for(var n=0;n<this.subscriptions.length;n++)if(n!==e){var o=this.subscriptions[n];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(t)},e}(i.OuterSubscriber);exports.RaceSubscriber=c;
},{"tslib":"vCxL","../util/isArray":"KeTG","./fromArray":"PJGF","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],"N84r":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.range=r,exports.dispatch=t;var e=require("../Observable");function r(r,s,i){return void 0===r&&(r=0),new e.Observable(function(e){void 0===s&&(s=r,r=0);var n=0,o=r;if(i)return i.schedule(t,0,{index:n,count:s,start:r,subscriber:e});for(;;){if(n++>=s){e.complete();break}if(e.next(o++),e.closed)break}})}function t(e){var r=e.start,t=e.index,s=e.count,i=e.subscriber;t>=s?i.complete():(i.next(r),i.closed||(e.index=t+1,e.start=r+1,this.schedule(e)))}
},{"../Observable":"wbSE"}],"RPvN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.timer=s;var e=require("../Observable"),r=require("../scheduler/async"),i=require("../util/isNumeric"),u=require("../util/isScheduler");function s(s,n,t){void 0===s&&(s=0);var d=-1;return(0,i.isNumeric)(n)?d=Number(n)<1?1:Number(n):(0,u.isScheduler)(n)&&(t=n),(0,u.isScheduler)(t)||(t=r.async),new e.Observable(function(e){var r=(0,i.isNumeric)(s)?s:+s-t.now();return t.schedule(c,r,{index:0,period:d,subscriber:e})})}function c(e){var r=e.index,i=e.period,u=e.subscriber;if(u.next(r),!u.closed){if(-1===i)return u.complete();e.index=r+1,this.schedule(e,i)}}
},{"../Observable":"wbSE","../scheduler/async":"jun6","../util/isNumeric":"wBpm","../util/isScheduler":"VqoH"}],"gc1W":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.using=t;var r=require("../Observable"),e=require("./from"),u=require("./empty");function t(t,n){return new r.Observable(function(r){var i,s;try{i=t()}catch(c){return void r.error(c)}try{s=n(i)}catch(c){return void r.error(c)}var o=(s?(0,e.from)(s):u.EMPTY).subscribe(r);return function(){o.unsubscribe(),i&&i.unsubscribe()}})}
},{"../Observable":"wbSE","./from":"WXUl","./empty":"XsKQ"}],"ff2A":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.zip=l,exports.ZipSubscriber=exports.ZipOperator=void 0;var t=a(require("tslib")),e=require("./fromArray"),r=require("../util/isArray"),i=require("../Subscriber"),n=require("../OuterSubscriber"),o=require("../util/subscribeToResult"),s=require("../../internal/symbol/iterator");function u(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return u=function(){return t},t}function a(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=u();if(e&&e.has(t))return e.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=i?Object.getOwnPropertyDescriptor(t,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=t[n]}return r.default=t,e&&e.set(t,r),r}function l(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=t[t.length-1];return"function"==typeof i&&t.pop(),(0,e.fromArray)(t,void 0).lift(new p(i))}var p=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.resultSelector))},t}();exports.ZipOperator=p;var c=function(e){function i(t,r,i){void 0===i&&(i=Object.create(null));var n=e.call(this,t)||this;return n.iterators=[],n.active=0,n.resultSelector="function"==typeof r?r:null,n.values=i,n}return t.__extends(i,e),i.prototype._next=function(t){var e=this.iterators;(0,r.isArray)(t)?e.push(new f(t)):"function"==typeof t[s.iterator]?e.push(new h(t[s.iterator]())):e.push(new y(this.destination,this,t))},i.prototype._complete=function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var r=0;r<e;r++){var i=t[r];if(i.stillUnsubscribed)this.destination.add(i.subscribe(i,r));else this.active--}}else this.destination.complete()},i.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},i.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,r=this.destination,i=0;i<e;i++){if("function"==typeof(s=t[i]).hasValue&&!s.hasValue())return}var n=!1,o=[];for(i=0;i<e;i++){var s,u=(s=t[i]).next();if(s.hasCompleted()&&(n=!0),u.done)return void r.complete();o.push(u.value)}this.resultSelector?this._tryresultSelector(o):r.next(o),n&&r.complete()},i.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)},i}(i.Subscriber);exports.ZipSubscriber=c;var h=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),f=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[s.iterator]=function(){return this},t.prototype.next=function(t){var e=this.index++,r=this.array;return e<this.length?{value:r[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),y=function(e){function r(t,r,i){var n=e.call(this,t)||this;return n.parent=r,n.observable=i,n.stillUnsubscribed=!0,n.buffer=[],n.isComplete=!1,n}return t.__extends(r,e),r.prototype[s.iterator]=function(){return this},r.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},r.prototype.hasValue=function(){return this.buffer.length>0},r.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},r.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},r.prototype.notifyNext=function(t,e,r,i,n){this.buffer.push(e),this.parent.checkIterators()},r.prototype.subscribe=function(t,e){return(0,o.subscribeToResult)(this,this.observable,this,e)},r}(n.OuterSubscriber);
},{"tslib":"vCxL","./fromArray":"PJGF","../util/isArray":"KeTG","../Subscriber":"RaFB","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e","../../internal/symbol/iterator":"AqTP"}],"iRqj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"Observable",{enumerable:!0,get:function(){return e.Observable}}),Object.defineProperty(exports,"ConnectableObservable",{enumerable:!0,get:function(){return r.ConnectableObservable}}),Object.defineProperty(exports,"GroupedObservable",{enumerable:!0,get:function(){return t.GroupedObservable}}),Object.defineProperty(exports,"observable",{enumerable:!0,get:function(){return n.observable}}),Object.defineProperty(exports,"Subject",{enumerable:!0,get:function(){return i.Subject}}),Object.defineProperty(exports,"BehaviorSubject",{enumerable:!0,get:function(){return u.BehaviorSubject}}),Object.defineProperty(exports,"ReplaySubject",{enumerable:!0,get:function(){return o.ReplaySubject}}),Object.defineProperty(exports,"AsyncSubject",{enumerable:!0,get:function(){return b.AsyncSubject}}),Object.defineProperty(exports,"asapScheduler",{enumerable:!0,get:function(){return a.asap}}),Object.defineProperty(exports,"asyncScheduler",{enumerable:!0,get:function(){return l.async}}),Object.defineProperty(exports,"queueScheduler",{enumerable:!0,get:function(){return c.queue}}),Object.defineProperty(exports,"animationFrameScheduler",{enumerable:!0,get:function(){return p.animationFrame}}),Object.defineProperty(exports,"VirtualTimeScheduler",{enumerable:!0,get:function(){return s.VirtualTimeScheduler}}),Object.defineProperty(exports,"VirtualAction",{enumerable:!0,get:function(){return s.VirtualAction}}),Object.defineProperty(exports,"Scheduler",{enumerable:!0,get:function(){return f.Scheduler}}),Object.defineProperty(exports,"Subscription",{enumerable:!0,get:function(){return d.Subscription}}),Object.defineProperty(exports,"Subscriber",{enumerable:!0,get:function(){return m.Subscriber}}),Object.defineProperty(exports,"Notification",{enumerable:!0,get:function(){return g.Notification}}),Object.defineProperty(exports,"NotificationKind",{enumerable:!0,get:function(){return g.NotificationKind}}),Object.defineProperty(exports,"pipe",{enumerable:!0,get:function(){return y.pipe}}),Object.defineProperty(exports,"noop",{enumerable:!0,get:function(){return O.noop}}),Object.defineProperty(exports,"identity",{enumerable:!0,get:function(){return j.identity}}),Object.defineProperty(exports,"isObservable",{enumerable:!0,get:function(){return P.isObservable}}),Object.defineProperty(exports,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return x.ArgumentOutOfRangeError}}),Object.defineProperty(exports,"EmptyError",{enumerable:!0,get:function(){return v.EmptyError}}),Object.defineProperty(exports,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return q.ObjectUnsubscribedError}}),Object.defineProperty(exports,"UnsubscriptionError",{enumerable:!0,get:function(){return E.UnsubscriptionError}}),Object.defineProperty(exports,"TimeoutError",{enumerable:!0,get:function(){return S.TimeoutError}}),Object.defineProperty(exports,"bindCallback",{enumerable:!0,get:function(){return h.bindCallback}}),Object.defineProperty(exports,"bindNodeCallback",{enumerable:!0,get:function(){return N.bindNodeCallback}}),Object.defineProperty(exports,"combineLatest",{enumerable:!0,get:function(){return R.combineLatest}}),Object.defineProperty(exports,"concat",{enumerable:!0,get:function(){return k.concat}}),Object.defineProperty(exports,"defer",{enumerable:!0,get:function(){return C.defer}}),Object.defineProperty(exports,"empty",{enumerable:!0,get:function(){return A.empty}}),Object.defineProperty(exports,"EMPTY",{enumerable:!0,get:function(){return A.EMPTY}}),Object.defineProperty(exports,"forkJoin",{enumerable:!0,get:function(){return T.forkJoin}}),Object.defineProperty(exports,"from",{enumerable:!0,get:function(){return V.from}}),Object.defineProperty(exports,"fromEvent",{enumerable:!0,get:function(){return U.fromEvent}}),Object.defineProperty(exports,"fromEventPattern",{enumerable:!0,get:function(){return B.fromEventPattern}}),Object.defineProperty(exports,"generate",{enumerable:!0,get:function(){return w.generate}}),Object.defineProperty(exports,"iif",{enumerable:!0,get:function(){return z.iif}}),Object.defineProperty(exports,"interval",{enumerable:!0,get:function(){return F.interval}}),Object.defineProperty(exports,"merge",{enumerable:!0,get:function(){return J.merge}}),Object.defineProperty(exports,"never",{enumerable:!0,get:function(){return L.never}}),Object.defineProperty(exports,"NEVER",{enumerable:!0,get:function(){return L.NEVER}}),Object.defineProperty(exports,"of",{enumerable:!0,get:function(){return M.of}}),Object.defineProperty(exports,"onErrorResumeNext",{enumerable:!0,get:function(){return G.onErrorResumeNext}}),Object.defineProperty(exports,"pairs",{enumerable:!0,get:function(){return K.pairs}}),Object.defineProperty(exports,"partition",{enumerable:!0,get:function(){return Y.partition}}),Object.defineProperty(exports,"race",{enumerable:!0,get:function(){return _.race}}),Object.defineProperty(exports,"range",{enumerable:!0,get:function(){return D.range}}),Object.defineProperty(exports,"throwError",{enumerable:!0,get:function(){return H.throwError}}),Object.defineProperty(exports,"timer",{enumerable:!0,get:function(){return I.timer}}),Object.defineProperty(exports,"using",{enumerable:!0,get:function(){return Q.using}}),Object.defineProperty(exports,"zip",{enumerable:!0,get:function(){return W.zip}}),Object.defineProperty(exports,"scheduled",{enumerable:!0,get:function(){return X.scheduled}}),Object.defineProperty(exports,"config",{enumerable:!0,get:function(){return Z.config}});var e=require("./internal/Observable"),r=require("./internal/observable/ConnectableObservable"),t=require("./internal/operators/groupBy"),n=require("./internal/symbol/observable"),i=require("./internal/Subject"),u=require("./internal/BehaviorSubject"),o=require("./internal/ReplaySubject"),b=require("./internal/AsyncSubject"),a=require("./internal/scheduler/asap"),l=require("./internal/scheduler/async"),c=require("./internal/scheduler/queue"),p=require("./internal/scheduler/animationFrame"),s=require("./internal/scheduler/VirtualTimeScheduler"),f=require("./internal/Scheduler"),d=require("./internal/Subscription"),m=require("./internal/Subscriber"),g=require("./internal/Notification"),y=require("./internal/util/pipe"),O=require("./internal/util/noop"),j=require("./internal/util/identity"),P=require("./internal/util/isObservable"),x=require("./internal/util/ArgumentOutOfRangeError"),v=require("./internal/util/EmptyError"),q=require("./internal/util/ObjectUnsubscribedError"),E=require("./internal/util/UnsubscriptionError"),S=require("./internal/util/TimeoutError"),h=require("./internal/observable/bindCallback"),N=require("./internal/observable/bindNodeCallback"),R=require("./internal/observable/combineLatest"),k=require("./internal/observable/concat"),C=require("./internal/observable/defer"),A=require("./internal/observable/empty"),T=require("./internal/observable/forkJoin"),V=require("./internal/observable/from"),U=require("./internal/observable/fromEvent"),B=require("./internal/observable/fromEventPattern"),w=require("./internal/observable/generate"),z=require("./internal/observable/iif"),F=require("./internal/observable/interval"),J=require("./internal/observable/merge"),L=require("./internal/observable/never"),M=require("./internal/observable/of"),G=require("./internal/observable/onErrorResumeNext"),K=require("./internal/observable/pairs"),Y=require("./internal/observable/partition"),_=require("./internal/observable/race"),D=require("./internal/observable/range"),H=require("./internal/observable/throwError"),I=require("./internal/observable/timer"),Q=require("./internal/observable/using"),W=require("./internal/observable/zip"),X=require("./internal/scheduled/scheduled"),Z=require("./internal/config");
},{"./internal/Observable":"wbSE","./internal/observable/ConnectableObservable":"kkfD","./internal/operators/groupBy":"dNgG","./internal/symbol/observable":"tjV3","./internal/Subject":"r9t1","./internal/BehaviorSubject":"MPU6","./internal/ReplaySubject":"Cp6P","./internal/AsyncSubject":"Scvc","./internal/scheduler/asap":"ZqYc","./internal/scheduler/async":"jun6","./internal/scheduler/queue":"HGOP","./internal/scheduler/animationFrame":"zUKp","./internal/scheduler/VirtualTimeScheduler":"RuMO","./internal/Scheduler":"QglZ","./internal/Subscription":"I8KM","./internal/Subscriber":"RaFB","./internal/Notification":"n7Mc","./internal/util/pipe":"HQCS","./internal/util/noop":"rXfM","./internal/util/identity":"LXph","./internal/util/isObservable":"cUXi","./internal/util/ArgumentOutOfRangeError":"Qh4I","./internal/util/EmptyError":"vsl0","./internal/util/ObjectUnsubscribedError":"xQEi","./internal/util/UnsubscriptionError":"pMaL","./internal/util/TimeoutError":"SZK7","./internal/observable/bindCallback":"lxDK","./internal/observable/bindNodeCallback":"uTDa","./internal/observable/combineLatest":"omVc","./internal/observable/concat":"CsdO","./internal/observable/defer":"w9G6","./internal/observable/empty":"XsKQ","./internal/observable/forkJoin":"R2GC","./internal/observable/from":"WXUl","./internal/observable/fromEvent":"ZHZV","./internal/observable/fromEventPattern":"HFE7","./internal/observable/generate":"xNZb","./internal/observable/iif":"SXp5","./internal/observable/interval":"QHLS","./internal/observable/merge":"DQig","./internal/observable/never":"TBTl","./internal/observable/of":"wZuk","./internal/observable/onErrorResumeNext":"VCq5","./internal/observable/pairs":"QHfc","./internal/observable/partition":"wJ9V","./internal/observable/race":"bwYX","./internal/observable/range":"N84r","./internal/observable/throwError":"FdIu","./internal/observable/timer":"RPvN","./internal/observable/using":"gc1W","./internal/observable/zip":"ff2A","./internal/scheduled/scheduled":"mNZE","./internal/config":"Q3iD"}],"Pdg2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.audit=o;var t=n(require("tslib")),e=require("../OuterSubscriber"),r=require("../util/subscribeToResult");function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function n(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=i();if(e&&e.has(t))return e.get(t);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var u=n?Object.getOwnPropertyDescriptor(t,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=t[o]}return r.default=t,e&&e.set(t,r),r}function o(t){return function(e){return e.lift(new u(t))}}var u=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.durationSelector))},t}(),s=function(e){function i(t,r){var i=e.call(this,t)||this;return i.durationSelector=r,i.hasValue=!1,i}return t.__extends(i,e),i.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=void 0;try{e=(0,this.durationSelector)(t)}catch(n){return this.destination.error(n)}var i=(0,r.subscribeToResult)(this,e);!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}},i.prototype.clearThrottle=function(){var t=this.value,e=this.hasValue,r=this.throttled;r&&(this.remove(r),this.throttled=null,r.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))},i.prototype.notifyNext=function(t,e,r,i){this.clearThrottle()},i.prototype.notifyComplete=function(){this.clearThrottle()},i}(e.OuterSubscriber);
},{"tslib":"vCxL","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],"jcYn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.auditTime=i;var e=require("../scheduler/async"),r=require("./audit"),t=require("../observable/timer");function i(i,u){return void 0===u&&(u=e.async),(0,r.audit)(function(){return(0,t.timer)(i,u)})}
},{"../scheduler/async":"jun6","./audit":"Pdg2","../observable/timer":"RPvN"}],"mG6b":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.buffer=i;var e=u(require("tslib")),t=require("../OuterSubscriber"),r=require("../util/subscribeToResult");function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=u?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}function i(e){return function(t){return t.lift(new o(e))}}var o=function(){function e(e){this.closingNotifier=e}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.closingNotifier))},e}(),f=function(t){function n(e,n){var u=t.call(this,e)||this;return u.buffer=[],u.add((0,r.subscribeToResult)(u,n)),u}return e.__extends(n,t),n.prototype._next=function(e){this.buffer.push(e)},n.prototype.notifyNext=function(e,t,r,n,u){var i=this.buffer;this.buffer=[],this.destination.next(i)},n}(t.OuterSubscriber);
},{"tslib":"vCxL","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],"f9IP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bufferCount=i;var t=n(require("tslib")),e=require("../Subscriber");function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function n(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=r();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if(Object.prototype.hasOwnProperty.call(t,u)){var f=i?Object.getOwnPropertyDescriptor(t,u):null;f&&(f.get||f.set)?Object.defineProperty(n,u,f):n[u]=t[u]}return n.default=t,e&&e.set(t,n),n}function i(t,e){return void 0===e&&(e=null),function(r){return r.lift(new u(t,e))}}var u=function(){function t(t,e){this.bufferSize=t,this.startBufferEvery=e,this.subscriberClass=e&&t!==e?s:f}return t.prototype.call=function(t,e){return e.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))},t}(),f=function(e){function r(t,r){var n=e.call(this,t)||this;return n.bufferSize=r,n.buffer=[],n}return t.__extends(r,e),r.prototype._next=function(t){var e=this.buffer;e.push(t),e.length==this.bufferSize&&(this.destination.next(e),this.buffer=[])},r.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},r}(e.Subscriber),s=function(e){function r(t,r,n){var i=e.call(this,t)||this;return i.bufferSize=r,i.startBufferEvery=n,i.buffers=[],i.count=0,i}return t.__extends(r,e),r.prototype._next=function(t){var e=this.bufferSize,r=this.startBufferEvery,n=this.buffers,i=this.count;this.count++,i%r==0&&n.push([]);for(var u=n.length;u--;){var f=n[u];f.push(t),f.length===e&&(n.splice(u,1),this.destination.next(f))}},r.prototype._complete=function(){for(var t=this.buffers,r=this.destination;t.length>0;){var n=t.shift();n.length>0&&r.next(n)}e.prototype._complete.call(this)},r}(e.Subscriber);
},{"tslib":"vCxL","../Subscriber":"RaFB"}],"Axj2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bufferTime=s;var e=o(require("tslib")),t=require("../scheduler/async"),r=require("../Subscriber"),n=require("../util/isScheduler");function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function o(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function s(e){var r=arguments.length,i=t.async;(0,n.isScheduler)(arguments[arguments.length-1])&&(i=arguments[arguments.length-1],r--);var o=null;r>=2&&(o=arguments[1]);var s=Number.POSITIVE_INFINITY;return r>=3&&(s=arguments[2]),function(t){return t.lift(new u(e,o,s,i))}}var u=function(){function e(e,t,r,n){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=r,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),c=function(){return function(){this.buffer=[]}}(),f=function(t){function r(e,r,n,i,o){var s=t.call(this,e)||this;s.bufferTimeSpan=r,s.bufferCreationInterval=n,s.maxBufferSize=i,s.scheduler=o,s.contexts=[];var u=s.openContext();if(s.timespanOnly=null==n||n<0,s.timespanOnly){var c={subscriber:s,context:u,bufferTimeSpan:r};s.add(u.closeAction=o.schedule(l,r,c))}else{var f={subscriber:s,context:u},p={bufferTimeSpan:r,bufferCreationInterval:n,subscriber:s,scheduler:o};s.add(u.closeAction=o.schedule(h,r,f)),s.add(o.schedule(a,n,p))}return s}return e.__extends(r,t),r.prototype._next=function(e){for(var t,r=this.contexts,n=r.length,i=0;i<n;i++){var o=r[i],s=o.buffer;s.push(e),s.length==this.maxBufferSize&&(t=o)}t&&this.onBufferFull(t)},r.prototype._error=function(e){this.contexts.length=0,t.prototype._error.call(this,e)},r.prototype._complete=function(){for(var e=this.contexts,r=this.destination;e.length>0;){var n=e.shift();r.next(n.buffer)}t.prototype._complete.call(this)},r.prototype._unsubscribe=function(){this.contexts=null},r.prototype.onBufferFull=function(e){this.closeContext(e);var t=e.closeAction;if(t.unsubscribe(),this.remove(t),!this.closed&&this.timespanOnly){e=this.openContext();var r=this.bufferTimeSpan,n={subscriber:this,context:e,bufferTimeSpan:r};this.add(e.closeAction=this.scheduler.schedule(l,r,n))}},r.prototype.openContext=function(){var e=new c;return this.contexts.push(e),e},r.prototype.closeContext=function(e){this.destination.next(e.buffer);var t=this.contexts;(t?t.indexOf(e):-1)>=0&&t.splice(t.indexOf(e),1)},r}(r.Subscriber);function l(e){var t=e.subscriber,r=e.context;r&&t.closeContext(r),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function a(e){var t=e.bufferCreationInterval,r=e.bufferTimeSpan,n=e.subscriber,i=e.scheduler,o=n.openContext();n.closed||(n.add(o.closeAction=i.schedule(h,r,{subscriber:n,context:o})),this.schedule(e,t))}function h(e){var t=e.subscriber,r=e.context;t.closeContext(r)}
},{"tslib":"vCxL","../scheduler/async":"jun6","../Subscriber":"RaFB","../util/isScheduler":"VqoH"}],"ZTTP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bufferToggle=s;var t=i(require("tslib")),e=require("../Subscription"),r=require("../util/subscribeToResult"),n=require("../OuterSubscriber");function o(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}function i(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=o();if(e&&e.has(t))return e.get(t);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=n?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=t[i]}return r.default=t,e&&e.set(t,r),r}function s(t,e){return function(r){return r.lift(new u(t,e))}}var u=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.openings,this.closingSelector))},t}(),c=function(n){function o(t,e,o){var i=n.call(this,t)||this;return i.openings=e,i.closingSelector=o,i.contexts=[],i.add((0,r.subscribeToResult)(i,e)),i}return t.__extends(o,n),o.prototype._next=function(t){for(var e=this.contexts,r=e.length,n=0;n<r;n++)e[n].buffer.push(t)},o.prototype._error=function(t){for(var e=this.contexts;e.length>0;){var r=e.shift();r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,n.prototype._error.call(this,t)},o.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var e=t.shift();this.destination.next(e.buffer),e.subscription.unsubscribe(),e.buffer=null,e.subscription=null}this.contexts=null,n.prototype._complete.call(this)},o.prototype.notifyNext=function(t,e,r,n,o){t?this.closeBuffer(t):this.openBuffer(e)},o.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},o.prototype.openBuffer=function(t){try{var e=this.closingSelector.call(this,t);e&&this.trySubscribe(e)}catch(r){this._error(r)}},o.prototype.closeBuffer=function(t){var e=this.contexts;if(e&&t){var r=t.buffer,n=t.subscription;this.destination.next(r),e.splice(e.indexOf(t),1),this.remove(n),n.unsubscribe()}},o.prototype.trySubscribe=function(t){var n=this.contexts,o=new e.Subscription,i={buffer:[],subscription:o};n.push(i);var s=(0,r.subscribeToResult)(this,t,i);!s||s.closed?this.closeBuffer(i):(s.context=i,this.add(s),o.add(s))},o}(n.OuterSubscriber);
},{"tslib":"vCxL","../Subscription":"I8KM","../util/subscribeToResult":"JM7e","../OuterSubscriber":"hZYI"}],"Ul3A":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bufferWhen=u;var t=o(require("tslib")),e=require("../Subscription"),r=require("../OuterSubscriber"),i=require("../util/subscribeToResult");function n(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return n=function(){return t},t}function o(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=n();if(e&&e.has(t))return e.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var u=i?Object.getOwnPropertyDescriptor(t,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=t[o]}return r.default=t,e&&e.set(t,r),r}function u(t){return function(e){return e.lift(new s(t))}}var s=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.closingSelector))},t}(),c=function(r){function n(t,e){var i=r.call(this,t)||this;return i.closingSelector=e,i.subscribing=!1,i.openBuffer(),i}return t.__extends(n,r),n.prototype._next=function(t){this.buffer.push(t)},n.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),r.prototype._complete.call(this)},n.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},n.prototype.notifyNext=function(t,e,r,i,n){this.openBuffer()},n.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},n.prototype.openBuffer=function(){var t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe());var r,n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];try{r=(0,this.closingSelector)()}catch(o){return this.error(o)}t=new e.Subscription,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add((0,i.subscribeToResult)(this,r)),this.subscribing=!1},n}(r.OuterSubscriber);
},{"tslib":"vCxL","../Subscription":"I8KM","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],"THoY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.catchError=o;var e=u(require("tslib")),r=require("../OuterSubscriber"),t=require("../InnerSubscriber"),i=require("../util/subscribeToResult");function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n();if(r&&r.has(e))return r.get(e);var t={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var o=i?Object.getOwnPropertyDescriptor(e,u):null;o&&(o.get||o.set)?Object.defineProperty(t,u,o):t[u]=e[u]}return t.default=e,r&&r.set(e,t),t}function o(e){return function(r){var t=new c(e),i=r.lift(t);return t.caught=i}}var c=function(){function e(e){this.selector=e}return e.prototype.call=function(e,r){return r.subscribe(new s(e,this.selector,this.caught))},e}(),s=function(r){function n(e,t,i){var n=r.call(this,e)||this;return n.selector=t,n.caught=i,n}return e.__extends(n,r),n.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(o){return void r.prototype.error.call(this,o)}this._unsubscribeAndRecycle();var u=new t.InnerSubscriber(this,void 0,void 0);this.add(u),(0,i.subscribeToResult)(this,n,void 0,void 0,u)}},n}(r.OuterSubscriber);
},{"tslib":"vCxL","../OuterSubscriber":"hZYI","../InnerSubscriber":"aQbR","../util/subscribeToResult":"JM7e"}],"TMFF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.combineAll=t;var e=require("../observable/combineLatest");function t(t){return function(r){return r.lift(new e.CombineLatestOperator(t))}}
},{"../observable/combineLatest":"omVc"}],"DJQm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.combineLatest=n;var e=require("../util/isArray"),r=require("../observable/combineLatest"),t=require("../observable/from"),o={};function n(){for(var o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];var i=null;return"function"==typeof o[o.length-1]&&(i=o.pop()),1===o.length&&(0,e.isArray)(o[0])&&(o=o[0].slice()),function(e){return e.lift.call((0,t.from)([e].concat(o)),new r.CombineLatestOperator(i))}}
},{"../util/isArray":"KeTG","../observable/combineLatest":"omVc","../observable/from":"WXUl"}],"ZHmI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.concat=t;var e=require("../observable/concat");function t(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return function(r){return r.lift.call(e.concat.apply(void 0,[r].concat(t)))}}
},{"../observable/concat":"CsdO"}],"DoUK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.concatMap=r;var e=require("./mergeMap");function r(r,t){return(0,e.mergeMap)(r,t,1)}
},{"./mergeMap":"nFsM"}],"APQq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.concatMapTo=t;var e=require("./concatMap");function t(t,r){return(0,e.concatMap)(function(){return t},r)}
},{"./concatMap":"DoUK"}],"U1Ln":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.count=i;var t=n(require("tslib")),e=require("../Subscriber");function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function n(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=r();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var u=i?Object.getOwnPropertyDescriptor(t,o):null;u&&(u.get||u.set)?Object.defineProperty(n,o,u):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}function i(t){return function(e){return e.lift(new o(t,e))}}var o=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.predicate,this.source))},t}(),u=function(e){function r(t,r,n){var i=e.call(this,t)||this;return i.predicate=r,i.source=n,i.count=0,i.index=0,i}return t.__extends(r,e),r.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},r.prototype._tryPredicate=function(t){var e;try{e=this.predicate(t,this.index++,this.source)}catch(r){return void this.destination.error(r)}e&&this.count++},r.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},r}(e.Subscriber);
},{"tslib":"vCxL","../Subscriber":"RaFB"}],"y9EZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.debounce=u;var t=n(require("tslib")),e=require("../OuterSubscriber"),r=require("../util/subscribeToResult");function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function n(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=i();if(e&&e.has(t))return e.get(t);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if(Object.prototype.hasOwnProperty.call(t,u)){var o=n?Object.getOwnPropertyDescriptor(t,u):null;o&&(o.get||o.set)?Object.defineProperty(r,u,o):r[u]=t[u]}return r.default=t,e&&e.set(t,r),r}function u(t){return function(e){return e.lift(new o(t))}}var o=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.durationSelector))},t}(),s=function(e){function i(t,r){var i=e.call(this,t)||this;return i.durationSelector=r,i.hasValue=!1,i.durationSubscription=null,i}return t.__extends(i,e),i.prototype._next=function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(r){this.destination.error(r)}},i.prototype._complete=function(){this.emitValue(),this.destination.complete()},i.prototype._tryNext=function(t,e){var i=this.durationSubscription;this.value=t,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),(i=(0,r.subscribeToResult)(this,e))&&!i.closed&&this.add(this.durationSubscription=i)},i.prototype.notifyNext=function(t,e,r,i,n){this.emitValue()},i.prototype.notifyComplete=function(){this.emitValue()},i.prototype.emitValue=function(){if(this.hasValue){var t=this.value,r=this.durationSubscription;r&&(this.durationSubscription=null,r.unsubscribe(),this.remove(r)),this.value=null,this.hasValue=!1,e.prototype._next.call(this,t)}},i}(e.OuterSubscriber);
},{"tslib":"vCxL","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],"KBFO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.debounceTime=i;var e=u(require("tslib")),t=require("../Subscriber"),n=require("../scheduler/async");function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=u?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function i(e,t){return void 0===t&&(t=n.async),function(n){return n.lift(new o(e,t))}}var o=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.dueTime,this.scheduler))},e}(),s=function(t){function n(e,n,r){var u=t.call(this,e)||this;return u.dueTime=n,u.scheduler=r,u.debouncedSubscription=null,u.lastValue=null,u.hasValue=!1,u}return e.__extends(n,t),n.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(c,this.dueTime,this))},n.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},n.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},n.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},n}(t.Subscriber);function c(e){e.debouncedNext()}
},{"tslib":"vCxL","../Subscriber":"RaFB","../scheduler/async":"jun6"}],"YBdz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultIfEmpty=i;var t=n(require("tslib")),e=require("../Subscriber");function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function n(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=r();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if(Object.prototype.hasOwnProperty.call(t,u)){var o=i?Object.getOwnPropertyDescriptor(t,u):null;o&&(o.get||o.set)?Object.defineProperty(n,u,o):n[u]=t[u]}return n.default=t,e&&e.set(t,n),n}function i(t){return void 0===t&&(t=null),function(e){return e.lift(new u(t))}}var u=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new o(t,this.defaultValue))},t}(),o=function(e){function r(t,r){var n=e.call(this,t)||this;return n.defaultValue=r,n.isEmpty=!0,n}return t.__extends(r,e),r.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},r.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},r}(e.Subscriber);
},{"tslib":"vCxL","../Subscriber":"RaFB"}],"rxSS":[function(require,module,exports) {
"use strict";function e(e){return e instanceof Date&&!isNaN(+e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isDate=e;
},{}],"zkgx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.delay=u;var e=s(require("tslib")),t=require("../scheduler/async"),i=require("../util/isDate"),r=require("../Subscriber"),n=require("../Notification");function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function s(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var s=r?Object.getOwnPropertyDescriptor(e,n):null;s&&(s.get||s.set)?Object.defineProperty(i,n,s):i[n]=e[n]}return i.default=e,t&&t.set(e,i),i}function u(e,r){void 0===r&&(r=t.async);var n=(0,i.isDate)(e)?+e-r.now():Math.abs(e);return function(e){return e.lift(new c(n,r))}}var c=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.delay,this.scheduler))},e}(),a=function(t){function i(e,i,r){var n=t.call(this,e)||this;return n.delay=i,n.scheduler=r,n.queue=[],n.active=!1,n.errored=!1,n}return e.__extends(i,t),i.dispatch=function(e){for(var t=e.source,i=t.queue,r=e.scheduler,n=e.destination;i.length>0&&i[0].time-r.now()<=0;)i.shift().notification.observe(n);if(i.length>0){var o=Math.max(0,i[0].time-r.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1},i.prototype._schedule=function(e){this.active=!0,this.destination.add(e.schedule(i.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},i.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,i=new h(t.now()+this.delay,e);this.queue.push(i),!1===this.active&&this._schedule(t)}},i.prototype._next=function(e){this.scheduleNotification(n.Notification.createNext(e))},i.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},i.prototype._complete=function(){this.scheduleNotification(n.Notification.createComplete()),this.unsubscribe()},i}(r.Subscriber),h=function(){return function(e,t){this.time=e,this.notification=t}}();
},{"tslib":"vCxL","../scheduler/async":"jun6","../util/isDate":"rxSS","../Subscriber":"RaFB","../Notification":"n7Mc"}],"iVuv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.delayWhen=u;var t=s(require("tslib")),e=require("../Subscriber"),r=require("../Observable"),i=require("../OuterSubscriber"),o=require("../util/subscribeToResult");function n(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return n=function(){return t},t}function s(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=n();if(e&&e.has(t))return e.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,e&&e.set(t,r),r}function u(t,e){return e?function(r){return new b(r,e).lift(new c(t))}:function(e){return e.lift(new c(t))}}var c=function(){function t(t){this.delayDurationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new p(t,this.delayDurationSelector))},t}(),p=function(e){function r(t,r){var i=e.call(this,t)||this;return i.delayDurationSelector=r,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return t.__extends(r,e),r.prototype.notifyNext=function(t,e,r,i,o){this.destination.next(t),this.removeSubscription(o),this.tryComplete()},r.prototype.notifyError=function(t,e){this._error(t)},r.prototype.notifyComplete=function(t){var e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()},r.prototype._next=function(t){var e=this.index++;try{var r=this.delayDurationSelector(t,e);r&&this.tryDelay(r,t)}catch(i){this.destination.error(i)}},r.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},r.prototype.removeSubscription=function(t){t.unsubscribe();var e=this.delayNotifierSubscriptions.indexOf(t);return-1!==e&&this.delayNotifierSubscriptions.splice(e,1),t.outerValue},r.prototype.tryDelay=function(t,e){var r=(0,o.subscribeToResult)(this,t,e);r&&!r.closed&&(this.destination.add(r),this.delayNotifierSubscriptions.push(r))},r.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},r}(i.OuterSubscriber),b=function(e){function r(t,r){var i=e.call(this)||this;return i.source=t,i.subscriptionDelay=r,i}return t.__extends(r,e),r.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new l(t,this.source))},r}(r.Observable),l=function(e){function r(t,r){var i=e.call(this)||this;return i.parent=t,i.source=r,i.sourceSubscribed=!1,i}return t.__extends(r,e),r.prototype._next=function(t){this.subscribeToSource()},r.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},r.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},r.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},r}(e.Subscriber);
},{"tslib":"vCxL","../Subscriber":"RaFB","../Observable":"wbSE","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],"v6b5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.dematerialize=u;var e=n(require("tslib")),t=require("../Subscriber");function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=u?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function u(){return function(e){return e.lift(new i)}}var i=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new o(e))},e}(),o=function(t){function r(e){return t.call(this,e)||this}return e.__extends(r,t),r.prototype._next=function(e){e.observe(this.destination)},r}(t.Subscriber);
},{"tslib":"vCxL","../Subscriber":"RaFB"}],"H608":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.distinct=o,exports.DistinctSubscriber=void 0;var e=n(require("tslib")),t=require("../OuterSubscriber"),r=require("../util/subscribeToResult");function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function o(e,t){return function(r){return r.lift(new u(e,t))}}var u=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.keySelector,this.flushes))},e}(),s=function(t){function i(e,i,n){var o=t.call(this,e)||this;return o.keySelector=i,o.values=new Set,n&&o.add((0,r.subscribeToResult)(o,n)),o}return e.__extends(i,t),i.prototype.notifyNext=function(e,t,r,i,n){this.values.clear()},i.prototype.notifyError=function(e,t){this._error(e)},i.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},i.prototype._useKeySelector=function(e){var t,r=this.destination;try{t=this.keySelector(e)}catch(i){return void r.error(i)}this._finalizeNext(t,e)},i.prototype._finalizeNext=function(e,t){var r=this.values;r.has(e)||(r.add(e),this.destination.next(t))},i}(t.OuterSubscriber);exports.DistinctSubscriber=s;
},{"tslib":"vCxL","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],"hFX7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.distinctUntilChanged=i;var e=n(require("tslib")),t=require("../Subscriber");function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var c=i?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(n,o,c):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function i(e,t){return function(r){return r.lift(new o(e,t))}}var o=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.compare,this.keySelector))},e}(),c=function(t){function r(e,r,n){var i=t.call(this,e)||this;return i.keySelector=n,i.hasKey=!1,"function"==typeof r&&(i.compare=r),i}return e.__extends(r,t),r.prototype.compare=function(e,t){return e===t},r.prototype._next=function(e){var t;try{var r=this.keySelector;t=r?r(e):e}catch(i){return this.destination.error(i)}var n=!1;if(this.hasKey)try{n=(0,this.compare)(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))},r}(t.Subscriber);
},{"tslib":"vCxL","../Subscriber":"RaFB"}],"Egbr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.distinctUntilKeyChanged=e;var t=require("./distinctUntilChanged");function e(e,n){return(0,t.distinctUntilChanged)(function(t,i){return n?n(t[e],i[e]):t[e]===i[e]})}
},{"./distinctUntilChanged":"hFX7"}],"D7Ma":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.throwIfEmpty=i;var t=o(require("tslib")),r=require("../util/EmptyError"),e=require("../Subscriber");function n(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return n=function(){return t},t}function o(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=n();if(r&&r.has(t))return r.get(t);var e={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var u=o?Object.getOwnPropertyDescriptor(t,i):null;u&&(u.get||u.set)?Object.defineProperty(e,i,u):e[i]=t[i]}return e.default=t,r&&r.set(t,e),e}function i(t){return void 0===t&&(t=a),function(r){return r.lift(new u(t))}}var u=function(){function t(t){this.errorFactory=t}return t.prototype.call=function(t,r){return r.subscribe(new c(t,this.errorFactory))},t}(),c=function(r){function e(t,e){var n=r.call(this,t)||this;return n.errorFactory=e,n.hasValue=!1,n}return t.__extends(e,r),e.prototype._next=function(t){this.hasValue=!0,this.destination.next(t)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(r){t=r}this.destination.error(t)},e}(e.Subscriber);function a(){return new r.EmptyError}
},{"tslib":"vCxL","../util/EmptyError":"vsl0","../Subscriber":"RaFB"}],"JVEz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.take=o;var t=u(require("tslib")),e=require("../Subscriber"),r=require("../util/ArgumentOutOfRangeError"),n=require("../observable/empty");function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function u(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=i();if(e&&e.has(t))return e.get(t);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if(Object.prototype.hasOwnProperty.call(t,u)){var o=n?Object.getOwnPropertyDescriptor(t,u):null;o&&(o.get||o.set)?Object.defineProperty(r,u,o):r[u]=t[u]}return r.default=t,e&&e.set(t,r),r}function o(t){return function(e){return 0===t?(0,n.empty)():e.lift(new c(t))}}var c=function(){function t(t){if(this.total=t,this.total<0)throw new r.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.total))},t}(),s=function(e){function r(t,r){var n=e.call(this,t)||this;return n.total=r,n.count=0,n}return t.__extends(r,e),r.prototype._next=function(t){var e=this.total,r=++this.count;r<=e&&(this.destination.next(t),r===e&&(this.destination.complete(),this.unsubscribe()))},r}(e.Subscriber);
},{"tslib":"vCxL","../Subscriber":"RaFB","../util/ArgumentOutOfRangeError":"Qh4I","../observable/empty":"XsKQ"}],"TbZV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.elementAt=f;var e=require("../util/ArgumentOutOfRangeError"),r=require("./filter"),t=require("./throwIfEmpty"),u=require("./defaultIfEmpty"),n=require("./take");function f(f,i){if(f<0)throw new e.ArgumentOutOfRangeError;var o=arguments.length>=2;return function(a){return a.pipe((0,r.filter)(function(e,r){return r===f}),(0,n.take)(1),o?(0,u.defaultIfEmpty)(i):(0,t.throwIfEmpty)(function(){return new e.ArgumentOutOfRangeError}))}}
},{"../util/ArgumentOutOfRangeError":"Qh4I","./filter":"HKzi","./throwIfEmpty":"D7Ma","./defaultIfEmpty":"YBdz","./take":"JVEz"}],"loee":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.endWith=o;var e=require("../observable/concat"),r=require("../observable/of");function o(){for(var o=[],t=0;t<arguments.length;t++)o[t]=arguments[t];return function(t){return(0,e.concat)(t,r.of.apply(void 0,o))}}
},{"../observable/concat":"CsdO","../observable/of":"wZuk"}],"eEZZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.every=n;var t=i(require("tslib")),e=require("../Subscriber");function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function i(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=r();if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var s=n?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=t[o]}return i.default=t,e&&e.set(t,i),i}function n(t,e){return function(r){return r.lift(new o(t,e,r))}}var o=function(){function t(t,e,r){this.predicate=t,this.thisArg=e,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg,this.source))},t}(),s=function(e){function r(t,r,i,n){var o=e.call(this,t)||this;return o.predicate=r,o.thisArg=i,o.source=n,o.index=0,o.thisArg=i||o,o}return t.__extends(r,e),r.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},r.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(r){return void this.destination.error(r)}e||this.notifyComplete(!1)},r.prototype._complete=function(){this.notifyComplete(!0)},r}(e.Subscriber);
},{"tslib":"vCxL","../Subscriber":"RaFB"}],"ifNj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.exhaust=o;var t=i(require("tslib")),e=require("../OuterSubscriber"),r=require("../util/subscribeToResult");function n(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return n=function(){return t},t}function i(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=n();if(e&&e.has(t))return e.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var u=i?Object.getOwnPropertyDescriptor(t,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=t[o]}return r.default=t,e&&e.set(t,r),r}function o(){return function(t){return t.lift(new u)}}var u=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new s(t))},t}(),s=function(e){function n(t){var r=e.call(this,t)||this;return r.hasCompleted=!1,r.hasSubscription=!1,r}return t.__extends(n,e),n.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add((0,r.subscribeToResult)(this,t)))},n.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},n.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},n}(e.OuterSubscriber);
},{"tslib":"vCxL","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],"DGWU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.exhaustMap=c;var t=s(require("tslib")),e=require("../OuterSubscriber"),r=require("../InnerSubscriber"),i=require("../util/subscribeToResult"),n=require("./map"),o=require("../observable/from");function u(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return u=function(){return t},t}function s(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=u();if(e&&e.has(t))return e.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=i?Object.getOwnPropertyDescriptor(t,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=t[n]}return r.default=t,e&&e.set(t,r),r}function c(t,e){return e?function(r){return r.pipe(c(function(r,i){return(0,o.from)(t(r,i)).pipe((0,n.map)(function(t,n){return e(r,t,i,n)}))}))}:function(e){return e.lift(new p(t))}}var p=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project))},t}(),a=function(e){function n(t,r){var i=e.call(this,t)||this;return i.project=r,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return t.__extends(n,e),n.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},n.prototype.tryNext=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(i){return void this.destination.error(i)}this.hasSubscription=!0,this._innerSub(e,t,r)},n.prototype._innerSub=function(t,e,n){var o=new r.InnerSubscriber(this,void 0,void 0);this.destination.add(o),(0,i.subscribeToResult)(this,t,e,n,o)},n.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},n.prototype.notifyNext=function(t,e,r,i,n){this.destination.next(e)},n.prototype.notifyError=function(t){this.destination.error(t)},n.prototype.notifyComplete=function(t){this.destination.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},n}(e.OuterSubscriber);
},{"tslib":"vCxL","../OuterSubscriber":"hZYI","../InnerSubscriber":"aQbR","../util/subscribeToResult":"JM7e","./map":"dNh5","../observable/from":"WXUl"}],"iYcS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.expand=n,exports.ExpandSubscriber=exports.ExpandOperator=void 0;var e=s(require("tslib")),t=require("../OuterSubscriber"),r=require("../util/subscribeToResult");function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function s(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=s?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n]}return r.default=e,t&&t.set(e,r),r}function n(e,t,r){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=void 0),t=(t||0)<1?Number.POSITIVE_INFINITY:t,function(i){return i.lift(new o(e,t,r))}}var o=function(){function e(e,t,r){this.project=e,this.concurrent=t,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.project,this.concurrent,this.scheduler))},e}();exports.ExpandOperator=o;var u=function(t){function i(e,r,i,s){var n=t.call(this,e)||this;return n.project=r,n.concurrent=i,n.scheduler=s,n.index=0,n.active=0,n.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(n.buffer=[]),n}return e.__extends(i,t),i.dispatch=function(e){var t=e.subscriber,r=e.result,i=e.value,s=e.index;t.subscribeToProjection(r,i,s)},i.prototype._next=function(e){var t=this.destination;if(t.closed)this._complete();else{var r=this.index++;if(this.active<this.concurrent){t.next(e);try{var s=(0,this.project)(e,r);if(this.scheduler){var n={subscriber:this,result:s,value:e,index:r};this.destination.add(this.scheduler.schedule(i.dispatch,0,n))}else this.subscribeToProjection(s,e,r)}catch(o){t.error(o)}}else this.buffer.push(e)}},i.prototype.subscribeToProjection=function(e,t,i){this.active++,this.destination.add((0,r.subscribeToResult)(this,e,t,i))},i.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},i.prototype.notifyNext=function(e,t,r,i,s){this._next(t)},i.prototype.notifyComplete=function(e){var t=this.buffer;this.destination.remove(e),this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},i}(t.OuterSubscriber);exports.ExpandSubscriber=u;
},{"tslib":"vCxL","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],"x5qu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.finalize=u;var e=i(require("tslib")),r=require("../Subscriber"),t=require("../Subscription");function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function i(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n();if(r&&r.has(e))return r.get(e);var t={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var o=i?Object.getOwnPropertyDescriptor(e,u):null;o&&(o.get||o.set)?Object.defineProperty(t,u,o):t[u]=e[u]}return t.default=e,r&&r.set(e,t),t}function u(e){return function(r){return r.lift(new o(e))}}var o=function(){function e(e){this.callback=e}return e.prototype.call=function(e,r){return r.subscribe(new c(e,this.callback))},e}(),c=function(r){function n(e,n){var i=r.call(this,e)||this;return i.add(new t.Subscription(n)),i}return e.__extends(n,r),n}(r.Subscriber);
},{"tslib":"vCxL","../Subscriber":"RaFB","../Subscription":"I8KM"}],"t6rP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.find=n,exports.FindValueSubscriber=exports.FindValueOperator=void 0;var e=i(require("tslib")),t=require("../Subscriber");function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function i(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,t&&t.set(e,i),i}function n(e,t){if("function"!=typeof e)throw new TypeError("predicate is not a function");return function(r){return r.lift(new o(e,r,!1,t))}}var o=function(){function e(e,t,r,i){this.predicate=e,this.source=t,this.yieldIndex=r,this.thisArg=i}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},e}();exports.FindValueOperator=o;var s=function(t){function r(e,r,i,n,o){var s=t.call(this,e)||this;return s.predicate=r,s.source=i,s.yieldIndex=n,s.thisArg=o,s.index=0,s}return e.__extends(r,t),r.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete(),this.unsubscribe()},r.prototype._next=function(e){var t=this.predicate,r=this.thisArg,i=this.index++;try{t.call(r||this,e,i,this.source)&&this.notifyComplete(this.yieldIndex?i:e)}catch(n){this.destination.error(n)}},r.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},r}(t.Subscriber);exports.FindValueSubscriber=s;
},{"tslib":"vCxL","../Subscriber":"RaFB"}],"GIlo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.findIndex=r;var e=require("../operators/find");function r(r,t){return function(n){return n.lift(new e.FindValueOperator(r,n,!0,t))}}
},{"../operators/find":"t6rP"}],"f9sd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.first=f;var r=require("../util/EmptyError"),e=require("./filter"),t=require("./take"),i=require("./defaultIfEmpty"),u=require("./throwIfEmpty"),n=require("../util/identity");function f(f,o){var p=arguments.length>=2;return function(l){return l.pipe(f?(0,e.filter)(function(r,e){return f(r,e,l)}):n.identity,(0,t.take)(1),p?(0,i.defaultIfEmpty)(o):(0,u.throwIfEmpty)(function(){return new r.EmptyError}))}}
},{"../util/EmptyError":"vsl0","./filter":"HKzi","./take":"JVEz","./defaultIfEmpty":"YBdz","./throwIfEmpty":"D7Ma","../util/identity":"LXph"}],"P82l":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ignoreElements=u;var e=n(require("tslib")),t=require("../Subscriber");function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=u?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function u(){return function(e){return e.lift(new o)}}var o=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new i(e))},e}(),i=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e.__extends(r,t),r.prototype._next=function(e){},r}(t.Subscriber);
},{"tslib":"vCxL","../Subscriber":"RaFB"}],"LqVv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isEmpty=o;var t=n(require("tslib")),e=require("../Subscriber");function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function n(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=r();if(e&&e.has(t))return e.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var u=o?Object.getOwnPropertyDescriptor(t,i):null;u&&(u.get||u.set)?Object.defineProperty(n,i,u):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function o(){return function(t){return t.lift(new i)}}var i=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new u(t))},t}(),u=function(e){function r(t){return e.call(this,t)||this}return t.__extends(r,e),r.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},r.prototype._next=function(t){this.notifyComplete(!1)},r.prototype._complete=function(){this.notifyComplete(!0)},r}(e.Subscriber);
},{"tslib":"vCxL","../Subscriber":"RaFB"}],"FbHg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.takeLast=u;var t=i(require("tslib")),e=require("../Subscriber"),r=require("../util/ArgumentOutOfRangeError"),n=require("../observable/empty");function o(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}function i(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=o();if(e&&e.has(t))return e.get(t);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var u=n?Object.getOwnPropertyDescriptor(t,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=t[i]}return r.default=t,e&&e.set(t,r),r}function u(t){return function(e){return 0===t?(0,n.empty)():e.lift(new a(t))}}var a=function(){function t(t){if(this.total=t,this.total<0)throw new r.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.total))},t}(),c=function(e){function r(t,r){var n=e.call(this,t)||this;return n.total=r,n.ring=new Array,n.count=0,n}return t.__extends(r,e),r.prototype._next=function(t){var e=this.ring,r=this.total,n=this.count++;e.length<r?e.push(t):e[n%r]=t},r.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var r=this.count>=this.total?this.total:this.count,n=this.ring,o=0;o<r;o++){var i=e++%r;t.next(n[i])}t.complete()},r}(e.Subscriber);
},{"tslib":"vCxL","../Subscriber":"RaFB","../util/ArgumentOutOfRangeError":"Qh4I","../observable/empty":"XsKQ"}],"xu0X":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.last=f;var t=require("../util/EmptyError"),e=require("./filter"),r=require("./takeLast"),i=require("./throwIfEmpty"),u=require("./defaultIfEmpty"),n=require("../util/identity");function f(f,o){var p=arguments.length>=2;return function(a){return a.pipe(f?(0,e.filter)(function(t,e){return f(t,e,a)}):n.identity,(0,r.takeLast)(1),p?(0,u.defaultIfEmpty)(o):(0,i.throwIfEmpty)(function(){return new t.EmptyError}))}}
},{"../util/EmptyError":"vsl0","./filter":"HKzi","./takeLast":"FbHg","./throwIfEmpty":"D7Ma","./defaultIfEmpty":"YBdz","../util/identity":"LXph"}],"yJbZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mapTo=u;var e=n(require("tslib")),t=require("../Subscriber");function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=u?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function u(e){return function(t){return t.lift(new i(e))}}var i=function(){function e(e){this.value=e}return e.prototype.call=function(e,t){return t.subscribe(new o(e,this.value))},e}(),o=function(t){function r(e,r){var n=t.call(this,e)||this;return n.value=r,n}return e.__extends(r,t),r.prototype._next=function(e){this.destination.next(this.value)},r}(t.Subscriber);
},{"tslib":"vCxL","../Subscriber":"RaFB"}],"ZwCH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.materialize=o;var t=i(require("tslib")),e=require("../Subscriber"),r=require("../Notification");function n(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return n=function(){return t},t}function i(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=n();if(e&&e.has(t))return e.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var u=i?Object.getOwnPropertyDescriptor(t,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=t[o]}return r.default=t,e&&e.set(t,r),r}function o(){return function(t){return t.lift(new u)}}var u=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new c(t))},t}(),c=function(e){function n(t){return e.call(this,t)||this}return t.__extends(n,e),n.prototype._next=function(t){this.destination.next(r.Notification.createNext(t))},n.prototype._error=function(t){var e=this.destination;e.next(r.Notification.createError(t)),e.complete()},n.prototype._complete=function(){var t=this.destination;t.next(r.Notification.createComplete()),t.complete()},n}(e.Subscriber);
},{"tslib":"vCxL","../Subscriber":"RaFB","../Notification":"n7Mc"}],"U785":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.scan=i;var e=n(require("tslib")),t=require("../Subscriber");function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var u=i?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(n,s,u):n[s]=e[s]}return n.default=e,t&&t.set(e,n),n}function i(e,t){var r=!1;return arguments.length>=2&&(r=!0),function(n){return n.lift(new s(e,t,r))}}var s=function(){function e(e,t,r){void 0===r&&(r=!1),this.accumulator=e,this.seed=t,this.hasSeed=r}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.accumulator,this.seed,this.hasSeed))},e}(),u=function(t){function r(e,r,n,i){var s=t.call(this,e)||this;return s.accumulator=r,s._seed=n,s.hasSeed=i,s.index=0,s}return e.__extends(r,t),Object.defineProperty(r.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),r.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},r.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.accumulator(this.seed,e,r)}catch(n){this.destination.error(n)}this.seed=t,this.destination.next(t)},r}(t.Subscriber);
},{"tslib":"vCxL","../Subscriber":"RaFB"}],"BORG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.reduce=n;var e=require("./scan"),t=require("./takeLast"),r=require("./defaultIfEmpty"),u=require("../util/pipe");function n(n,i){return arguments.length>=2?function(a){return(0,u.pipe)((0,e.scan)(n,i),(0,t.takeLast)(1),(0,r.defaultIfEmpty)(i))(a)}:function(r){return(0,u.pipe)((0,e.scan)(function(e,t,r){return n(e,t,r+1)}),(0,t.takeLast)(1))(r)}}
},{"./scan":"U785","./takeLast":"FbHg","./defaultIfEmpty":"YBdz","../util/pipe":"HQCS"}],"BgD2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.max=r;var e=require("./reduce");function r(r){var t="function"==typeof r?function(e,t){return r(e,t)>0?e:t}:function(e,r){return e>r?e:r};return(0,e.reduce)(t)}
},{"./reduce":"BORG"}],"sbfV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.merge=r;var e=require("../observable/merge");function r(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return function(t){return t.lift.call(e.merge.apply(void 0,[t].concat(r)))}}
},{"../observable/merge":"DQig"}],"S3q6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mergeMapTo=r;var e=require("./mergeMap");function r(r,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?(0,e.mergeMap)(function(){return r},t,n):("number"==typeof t&&(n=t),(0,e.mergeMap)(function(){return r},n))}
},{"./mergeMap":"nFsM"}],"wQne":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mergeScan=o,exports.MergeScanSubscriber=exports.MergeScanOperator=void 0;var t=s(require("tslib")),e=require("../util/subscribeToResult"),r=require("../OuterSubscriber"),i=require("../InnerSubscriber");function n(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return n=function(){return t},t}function s(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=n();if(e&&e.has(t))return e.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,e&&e.set(t,r),r}function o(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),function(i){return i.lift(new u(t,e,r))}}var u=function(){function t(t,e,r){this.accumulator=t,this.seed=e,this.concurrent=r}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.accumulator,this.seed,this.concurrent))},t}();exports.MergeScanOperator=u;var c=function(r){function n(t,e,i,n){var s=r.call(this,t)||this;return s.accumulator=e,s.acc=i,s.concurrent=n,s.hasValue=!1,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return t.__extends(n,r),n.prototype._next=function(t){if(this.active<this.concurrent){var e=this.index++,r=this.destination,i=void 0;try{i=(0,this.accumulator)(this.acc,t,e)}catch(n){return r.error(n)}this.active++,this._innerSub(i,t,e)}else this.buffer.push(t)},n.prototype._innerSub=function(t,r,n){var s=new i.InnerSubscriber(this,void 0,void 0);this.destination.add(s),(0,e.subscribeToResult)(this,t,r,n,s)},n.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},n.prototype.notifyNext=function(t,e,r,i,n){var s=this.destination;this.acc=e,this.hasValue=!0,s.next(e)},n.prototype.notifyComplete=function(t){var e=this.buffer;this.destination.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},n}(r.OuterSubscriber);exports.MergeScanSubscriber=c;
},{"tslib":"vCxL","../util/subscribeToResult":"JM7e","../OuterSubscriber":"hZYI","../InnerSubscriber":"aQbR"}],"bAWd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.min=r;var e=require("./reduce");function r(r){var t="function"==typeof r?function(e,t){return r(e,t)<0?e:t}:function(e,r){return e<r?e:r};return(0,e.reduce)(t)}
},{"./reduce":"BORG"}],"M6Em":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.multicast=e,exports.MulticastOperator=void 0;var t=require("../observable/ConnectableObservable");function e(e,c){return function(o){var n;if(n="function"==typeof e?e:function(){return e},"function"==typeof c)return o.lift(new r(n,c));var s=Object.create(o,t.connectableObservableDescriptor);return s.source=o,s.subjectFactory=n,s}}var r=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var r=this.selector,c=this.subjectFactory(),o=r(c).subscribe(t);return o.add(e.subscribe(c)),o},t}();exports.MulticastOperator=r;
},{"../observable/ConnectableObservable":"kkfD"}],"S4UH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.onErrorResumeNext=c,exports.onErrorResumeNextStatic=f;var e=s(require("tslib")),r=require("../observable/from"),t=require("../util/isArray"),n=require("../OuterSubscriber"),i=require("../InnerSubscriber"),o=require("../util/subscribeToResult");function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function s(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u();if(r&&r.has(e))return r.get(e);var t={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(t,i,o):t[i]=e[i]}return t.default=e,r&&r.set(e,t),t}function c(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return 1===e.length&&(0,t.isArray)(e[0])&&(e=e[0]),function(r){return r.lift(new b(e))}}function f(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i;return 1===e.length&&(0,t.isArray)(e[0])&&(e=e[0]),i=e.shift(),(0,r.from)(i,null).lift(new b(e))}var b=function(){function e(e){this.nextSources=e}return e.prototype.call=function(e,r){return r.subscribe(new l(e,this.nextSources))},e}(),l=function(r){function t(e,t){var n=r.call(this,e)||this;return n.destination=e,n.nextSources=t,n}return e.__extends(t,r),t.prototype.notifyError=function(e,r){this.subscribeToNextSource()},t.prototype.notifyComplete=function(e){this.subscribeToNextSource()},t.prototype._error=function(e){this.subscribeToNextSource(),this.unsubscribe()},t.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},t.prototype.subscribeToNextSource=function(){var e=this.nextSources.shift();if(e){var r=new i.InnerSubscriber(this,void 0,void 0);this.destination.add(r),(0,o.subscribeToResult)(this,e,void 0,void 0,r)}else this.destination.complete()},t}(n.OuterSubscriber);
},{"tslib":"vCxL","../observable/from":"WXUl","../util/isArray":"KeTG","../OuterSubscriber":"hZYI","../InnerSubscriber":"aQbR","../util/subscribeToResult":"JM7e"}],"u6OS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pairwise=i;var e=n(require("tslib")),t=require("../Subscriber");function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var o=i?Object.getOwnPropertyDescriptor(e,u):null;o&&(o.get||o.set)?Object.defineProperty(n,u,o):n[u]=e[u]}return n.default=e,t&&t.set(e,n),n}function i(){return function(e){return e.lift(new u)}}var u=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new o(e))},e}(),o=function(t){function r(e){var r=t.call(this,e)||this;return r.hasPrev=!1,r}return e.__extends(r,t),r.prototype._next=function(e){var t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)},r}(t.Subscriber);
},{"tslib":"vCxL","../Subscriber":"RaFB"}],"jvG2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.partition=t;var e=require("../util/not"),r=require("./filter");function t(t,i){return function(n){return[(0,r.filter)(t,i)(n),(0,r.filter)((0,e.not)(t,i))(n)]}}
},{"../util/not":"nij6","./filter":"HKzi"}],"TdE4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pluck=e;var r=require("./map");function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=e.length;if(0===o)throw new Error("list of properties cannot be empty.");return function(n){return(0,r.map)(t(e,o))(n)}}function t(r,e){return function(t){for(var n=t,o=0;o<e;o++){var u=n[r[o]];if(void 0===u)return;n=u}return n}}
},{"./map":"dNh5"}],"TQAB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.publish=u;var e=require("../Subject"),t=require("./multicast");function u(u){return u?(0,t.multicast)(function(){return new e.Subject},u):(0,t.multicast)(new e.Subject)}
},{"../Subject":"r9t1","./multicast":"M6Em"}],"fUyM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.publishBehavior=t;var e=require("../BehaviorSubject"),r=require("./multicast");function t(t){return function(u){return(0,r.multicast)(new e.BehaviorSubject(t))(u)}}
},{"../BehaviorSubject":"MPU6","./multicast":"M6Em"}],"fQ7S":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.publishLast=r;var e=require("../AsyncSubject"),t=require("./multicast");function r(){return function(r){return(0,t.multicast)(new e.AsyncSubject)(r)}}
},{"../AsyncSubject":"Scvc","./multicast":"M6Em"}],"aqWk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.publishReplay=u;var e=require("../ReplaySubject"),t=require("./multicast");function u(u,r,n,i){n&&"function"!=typeof n&&(i=n);var o="function"==typeof n?n:void 0,c=new e.ReplaySubject(u,r,i);return function(e){return(0,t.multicast)(function(){return c},o)(e)}}
},{"../ReplaySubject":"Cp6P","./multicast":"M6Em"}],"EAaA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.race=t;var r=require("../util/isArray"),e=require("../observable/race");function t(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return function(a){return 1===t.length&&(0,r.isArray)(t[0])&&(t=t[0]),a.lift.call(e.race.apply(void 0,[a].concat(t)))}}
},{"../util/isArray":"KeTG","../observable/race":"bwYX"}],"Fbxf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.repeat=i;var e=u(require("tslib")),t=require("../Subscriber"),r=require("../observable/empty");function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=u?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}function i(e){return void 0===e&&(e=-1),function(t){return 0===e?(0,r.empty)():e<0?t.lift(new o(-1,t)):t.lift(new o(e-1,t))}}var o=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.count,this.source))},e}(),c=function(t){function r(e,r,n){var u=t.call(this,e)||this;return u.count=r,u.source=n,u}return e.__extends(r,t),r.prototype.complete=function(){if(!this.isStopped){var e=this.source,r=this.count;if(0===r)return t.prototype.complete.call(this);r>-1&&(this.count=r-1),e.subscribe(this._unsubscribeAndRecycle())}},r}(t.Subscriber);
},{"tslib":"vCxL","../Subscriber":"RaFB","../observable/empty":"XsKQ"}],"CT9q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.repeatWhen=o;var t=n(require("tslib")),e=require("../Subject"),i=require("../OuterSubscriber"),r=require("../util/subscribeToResult");function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function n(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=r?Object.getOwnPropertyDescriptor(t,n):null;o&&(o.get||o.set)?Object.defineProperty(i,n,o):i[n]=t[n]}return i.default=t,e&&e.set(t,i),i}function o(t){return function(e){return e.lift(new u(t))}}var u=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.notifier,e))},t}(),c=function(i){function s(t,e,r){var s=i.call(this,t)||this;return s.notifier=e,s.source=r,s.sourceIsBeingSubscribedTo=!0,s}return t.__extends(s,i),s.prototype.notifyNext=function(t,e,i,r,s){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},s.prototype.notifyComplete=function(t){if(!1===this.sourceIsBeingSubscribedTo)return i.prototype.complete.call(this)},s.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return i.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next()}},s.prototype._unsubscribe=function(){var t=this.notifications,e=this.retriesSubscription;t&&(t.unsubscribe(),this.notifications=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},s.prototype._unsubscribeAndRecycle=function(){var t=this._unsubscribe;return this._unsubscribe=null,i.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=t,this},s.prototype.subscribeToRetries=function(){var t;this.notifications=new e.Subject;try{t=(0,this.notifier)(this.notifications)}catch(s){return i.prototype.complete.call(this)}this.retries=t,this.retriesSubscription=(0,r.subscribeToResult)(this,t)},s}(i.OuterSubscriber);
},{"tslib":"vCxL","../Subject":"r9t1","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],"ZHEI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.retry=u;var t=n(require("tslib")),e=require("../Subscriber");function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function n(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=r();if(e&&e.has(t))return e.get(t);var n={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=u?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}function u(t){return void 0===t&&(t=-1),function(e){return e.lift(new o(t,e))}}var o=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new i(t,this.count,this.source))},t}(),i=function(e){function r(t,r,n){var u=e.call(this,t)||this;return u.count=r,u.source=n,u}return t.__extends(r,e),r.prototype.error=function(t){if(!this.isStopped){var r=this.source,n=this.count;if(0===n)return e.prototype.error.call(this,t);n>-1&&(this.count=n-1),r.subscribe(this._unsubscribeAndRecycle())}},r}(e.Subscriber);
},{"tslib":"vCxL","../Subscriber":"RaFB"}],"GHe2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.retryWhen=u;var r=n(require("tslib")),e=require("../Subject"),t=require("../OuterSubscriber"),i=require("../util/subscribeToResult");function s(){if("function"!=typeof WeakMap)return null;var r=new WeakMap;return s=function(){return r},r}function n(r){if(r&&r.__esModule)return r;if(null===r||"object"!=typeof r&&"function"!=typeof r)return{default:r};var e=s();if(e&&e.has(r))return e.get(r);var t={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){var u=i?Object.getOwnPropertyDescriptor(r,n):null;u&&(u.get||u.set)?Object.defineProperty(t,n,u):t[n]=r[n]}return t.default=r,e&&e.set(r,t),t}function u(r){return function(e){return e.lift(new o(r,e))}}var o=function(){function r(r,e){this.notifier=r,this.source=e}return r.prototype.call=function(r,e){return e.subscribe(new c(r,this.notifier,this.source))},r}(),c=function(t){function s(r,e,i){var s=t.call(this,r)||this;return s.notifier=e,s.source=i,s}return r.__extends(s,t),s.prototype.error=function(r){if(!this.isStopped){var s=this.errors,n=this.retries,u=this.retriesSubscription;if(n)this.errors=null,this.retriesSubscription=null;else{s=new e.Subject;try{n=(0,this.notifier)(s)}catch(o){return t.prototype.error.call(this,o)}u=(0,i.subscribeToResult)(this,n)}this._unsubscribeAndRecycle(),this.errors=s,this.retries=n,this.retriesSubscription=u,s.next(r)}},s.prototype._unsubscribe=function(){var r=this.errors,e=this.retriesSubscription;r&&(r.unsubscribe(),this.errors=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},s.prototype.notifyNext=function(r,e,t,i,s){var n=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=n,this.source.subscribe(this)},s}(t.OuterSubscriber);
},{"tslib":"vCxL","../Subject":"r9t1","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],"Rd9o":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sample=u;var t=i(require("tslib")),e=require("../OuterSubscriber"),r=require("../util/subscribeToResult");function n(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return n=function(){return t},t}function i(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=n();if(e&&e.has(t))return e.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if(Object.prototype.hasOwnProperty.call(t,u)){var o=i?Object.getOwnPropertyDescriptor(t,u):null;o&&(o.get||o.set)?Object.defineProperty(r,u,o):r[u]=t[u]}return r.default=t,e&&e.set(t,r),r}function u(t){return function(e){return e.lift(new o(t))}}var o=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new s(t),i=e.subscribe(n);return i.add((0,r.subscribeToResult)(n,this.notifier)),i},t}(),s=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasValue=!1,t}return t.__extends(r,e),r.prototype._next=function(t){this.value=t,this.hasValue=!0},r.prototype.notifyNext=function(t,e,r,n,i){this.emitValue()},r.prototype.notifyComplete=function(){this.emitValue()},r.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},r}(e.OuterSubscriber);
},{"tslib":"vCxL","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],"nb45":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sampleTime=u;var e=i(require("tslib")),t=require("../Subscriber"),r=require("../scheduler/async");function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function i(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var s=i?Object.getOwnPropertyDescriptor(e,u):null;s&&(s.get||s.set)?Object.defineProperty(r,u,s):r[u]=e[u]}return r.default=e,t&&t.set(e,r),r}function u(e,t){return void 0===t&&(t=r.async),function(r){return r.lift(new s(e,t))}}var s=function(){function e(e,t){this.period=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new o(e,this.period,this.scheduler))},e}(),o=function(t){function r(e,r,n){var i=t.call(this,e)||this;return i.period=r,i.scheduler=n,i.hasValue=!1,i.add(n.schedule(c,r,{subscriber:i,period:r})),i}return e.__extends(r,t),r.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},r.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},r}(t.Subscriber);function c(e){var t=e.subscriber,r=e.period;t.notifyNext(),this.schedule(e,r)}
},{"tslib":"vCxL","../Subscriber":"RaFB","../scheduler/async":"jun6"}],"PMGC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sequenceEqual=o,exports.SequenceEqualSubscriber=exports.SequenceEqualOperator=void 0;var t=n(require("tslib")),e=require("../Subscriber");function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function n(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=r();if(e&&e.has(t))return e.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=o?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function o(t,e){return function(r){return r.lift(new i(t,e))}}var i=function(){function t(t,e){this.compareTo=t,this.comparator=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.compareTo,this.comparator))},t}();exports.SequenceEqualOperator=i;var s=function(e){function r(t,r,n){var o=e.call(this,t)||this;return o.compareTo=r,o.comparator=n,o._a=[],o._b=[],o._oneComplete=!1,o.destination.add(r.subscribe(new u(t,o))),o}return t.__extends(r,e),r.prototype._next=function(t){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(t),this.checkValues())},r.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},r.prototype.checkValues=function(){for(var t=this._a,e=this._b,r=this.comparator;t.length>0&&e.length>0;){var n=t.shift(),o=e.shift(),i=!1;try{i=r?r(n,o):n===o}catch(s){this.destination.error(s)}i||this.emit(!1)}},r.prototype.emit=function(t){var e=this.destination;e.next(t),e.complete()},r.prototype.nextB=function(t){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(t),this.checkValues())},r.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},r}(e.Subscriber);exports.SequenceEqualSubscriber=s;var u=function(e){function r(t,r){var n=e.call(this,t)||this;return n.parent=r,n}return t.__extends(r,e),r.prototype._next=function(t){this.parent.nextB(t)},r.prototype._error=function(t){this.parent.error(t),this.unsubscribe()},r.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},r}(e.Subscriber);
},{"tslib":"vCxL","../Subscriber":"RaFB"}],"KBGh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.share=n;var e=require("./multicast"),r=require("./refCount"),t=require("../Subject");function u(){return new t.Subject}function n(){return function(t){return(0,r.refCount)()((0,e.multicast)(u)(t))}}
},{"./multicast":"M6Em","./refCount":"vT9o","../Subject":"r9t1"}],"xsrM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shareReplay=r;var e=require("../ReplaySubject");function r(e,r,t){var n;return n=e&&"object"==typeof e?e:{bufferSize:e,windowTime:r,refCount:!1,scheduler:t},function(e){return e.lift(u(n))}}function u(r){var u,t,n=r.bufferSize,i=void 0===n?Number.POSITIVE_INFINITY:n,o=r.windowTime,c=void 0===o?Number.POSITIVE_INFINITY:o,s=r.refCount,f=r.scheduler,b=0,d=!1,a=!1;return function(r){b++,u&&!d||(d=!1,u=new e.ReplaySubject(i,c,f),t=r.subscribe({next:function(e){u.next(e)},error:function(e){d=!0,u.error(e)},complete:function(){a=!0,u.complete()}}));var n=u.subscribe(this);this.add(function(){b--,n.unsubscribe(),t&&!a&&s&&0===b&&(t.unsubscribe(),t=void 0,u=void 0)})}}
},{"../ReplaySubject":"Cp6P"}],"angX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.single=o;var e=i(require("tslib")),t=require("../Subscriber"),r=require("../util/EmptyError");function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function i(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=i?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function o(e){return function(t){return t.lift(new u(e,t))}}var u=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.source))},e}(),s=function(t){function n(e,r,n){var i=t.call(this,e)||this;return i.predicate=r,i.source=n,i.seenValue=!1,i.index=0,i}return e.__extends(n,t),n.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},n.prototype._next=function(e){var t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)},n.prototype.tryNext=function(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(r){this.destination.error(r)}},n.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new r.EmptyError)},n}(t.Subscriber);
},{"tslib":"vCxL","../Subscriber":"RaFB","../util/EmptyError":"vsl0"}],"vMIz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.skip=o;var t=n(require("tslib")),e=require("../Subscriber");function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function n(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=r();if(e&&e.has(t))return e.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var u=o?Object.getOwnPropertyDescriptor(t,i):null;u&&(u.get||u.set)?Object.defineProperty(n,i,u):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function o(t){return function(e){return e.lift(new i(t))}}var i=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.total))},t}(),u=function(e){function r(t,r){var n=e.call(this,t)||this;return n.total=r,n.count=0,n}return t.__extends(r,e),r.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},r}(e.Subscriber);
},{"tslib":"vCxL","../Subscriber":"RaFB"}],"iB53":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.skipLast=u;var t=i(require("tslib")),r=require("../Subscriber"),e=require("../util/ArgumentOutOfRangeError");function n(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return n=function(){return t},t}function i(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=n();if(r&&r.has(t))return r.get(t);var e={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if(Object.prototype.hasOwnProperty.call(t,u)){var o=i?Object.getOwnPropertyDescriptor(t,u):null;o&&(o.get||o.set)?Object.defineProperty(e,u,o):e[u]=t[u]}return e.default=t,r&&r.set(t,e),e}function u(t){return function(r){return r.lift(new o(t))}}var o=function(){function t(t){if(this._skipCount=t,this._skipCount<0)throw new e.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return 0===this._skipCount?e.subscribe(new r.Subscriber(t)):e.subscribe(new s(t,this._skipCount))},t}(),s=function(r){function e(t,e){var n=r.call(this,t)||this;return n._skipCount=e,n._count=0,n._ring=new Array(e),n}return t.__extends(e,r),e.prototype._next=function(t){var r=this._skipCount,e=this._count++;if(e<r)this._ring[e]=t;else{var n=e%r,i=this._ring,u=i[n];i[n]=t,this.destination.next(u)}},e}(r.Subscriber);
},{"tslib":"vCxL","../Subscriber":"RaFB","../util/ArgumentOutOfRangeError":"Qh4I"}],"xmsT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.skipUntil=o;var e=u(require("tslib")),t=require("../OuterSubscriber"),r=require("../InnerSubscriber"),n=require("../util/subscribeToResult");function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var o=n?Object.getOwnPropertyDescriptor(e,u):null;o&&(o.get||o.set)?Object.defineProperty(r,u,o):r[u]=e[u]}return r.default=e,t&&t.set(e,r),r}function o(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.notifier))},e}(),c=function(t){function i(e,i){var u=t.call(this,e)||this;u.hasValue=!1;var o=new r.InnerSubscriber(u,void 0,void 0);return u.add(o),u.innerSubscription=o,(0,n.subscribeToResult)(u,i,void 0,void 0,o),u}return e.__extends(i,t),i.prototype._next=function(e){this.hasValue&&t.prototype._next.call(this,e)},i.prototype.notifyNext=function(e,t,r,n,i){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},i.prototype.notifyComplete=function(){},i}(t.OuterSubscriber);
},{"tslib":"vCxL","../OuterSubscriber":"hZYI","../InnerSubscriber":"aQbR","../util/subscribeToResult":"JM7e"}],"qjDA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.skipWhile=i;var t=n(require("tslib")),e=require("../Subscriber");function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function n(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=r();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var u=i?Object.getOwnPropertyDescriptor(t,o):null;u&&(u.get||u.set)?Object.defineProperty(n,o,u):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}function i(t){return function(e){return e.lift(new o(t))}}var o=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.predicate))},t}(),u=function(e){function r(t,r){var n=e.call(this,t)||this;return n.predicate=r,n.skipping=!0,n.index=0,n}return t.__extends(r,e),r.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},r.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(r){this.destination.error(r)}},r}(e.Subscriber);
},{"tslib":"vCxL","../Subscriber":"RaFB"}],"doo6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.startWith=t;var e=require("../observable/concat"),r=require("../util/isScheduler");function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var u=t[t.length-1];return(0,r.isScheduler)(u)?(t.pop(),function(r){return(0,e.concat)(t,r,u)}):function(r){return(0,e.concat)(t,r)}}
},{"../observable/concat":"CsdO","../util/isScheduler":"VqoH"}],"r9wA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SubscribeOnObservable=void 0;var e=s(require("tslib")),r=require("../Observable"),t=require("../scheduler/asap"),i=require("../util/isNumeric");function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function s(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u();if(r&&r.has(e))return r.get(e);var t={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var n=i?Object.getOwnPropertyDescriptor(e,s):null;n&&(n.get||n.set)?Object.defineProperty(t,s,n):t[s]=e[s]}return t.default=e,r&&r.set(e,t),t}var n=function(r){function u(e,u,s){void 0===u&&(u=0),void 0===s&&(s=t.asap);var n=r.call(this)||this;return n.source=e,n.delayTime=u,n.scheduler=s,(!(0,i.isNumeric)(u)||u<0)&&(n.delayTime=0),s&&"function"==typeof s.schedule||(n.scheduler=t.asap),n}return e.__extends(u,r),u.create=function(e,r,i){return void 0===r&&(r=0),void 0===i&&(i=t.asap),new u(e,r,i)},u.dispatch=function(e){var r=e.source,t=e.subscriber;return this.add(r.subscribe(t))},u.prototype._subscribe=function(e){var r=this.delayTime,t=this.source;return this.scheduler.schedule(u.dispatch,r,{source:t,subscriber:e})},u}(r.Observable);exports.SubscribeOnObservable=n;
},{"tslib":"vCxL","../Observable":"wbSE","../scheduler/asap":"ZqYc","../util/isNumeric":"wBpm"}],"Et1l":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.subscribeOn=r;var e=require("../observable/SubscribeOnObservable");function r(e,r){return void 0===r&&(r=0),function(n){return n.lift(new t(e,r))}}var t=function(){function r(e,r){this.scheduler=e,this.delay=r}return r.prototype.call=function(r,t){return new e.SubscribeOnObservable(t,this.delay,this.scheduler).subscribe(r)},r}();
},{"../observable/SubscribeOnObservable":"r9wA"}],"g5Rk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.switchMap=c;var t=s(require("tslib")),e=require("../OuterSubscriber"),r=require("../InnerSubscriber"),n=require("../util/subscribeToResult"),i=require("./map"),o=require("../observable/from");function u(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return u=function(){return t},t}function s(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=u();if(e&&e.has(t))return e.get(t);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=n?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=t[i]}return r.default=t,e&&e.set(t,r),r}function c(t,e){return"function"==typeof e?function(r){return r.pipe(c(function(r,n){return(0,o.from)(t(r,n)).pipe((0,i.map)(function(t,i){return e(r,t,n,i)}))}))}:function(e){return e.lift(new p(t))}}var p=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.project))},t}(),f=function(e){function i(t,r){var n=e.call(this,t)||this;return n.project=r,n.index=0,n}return t.__extends(i,e),i.prototype._next=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(n){return void this.destination.error(n)}this._innerSub(e,t,r)},i.prototype._innerSub=function(t,e,i){var o=this.innerSubscription;o&&o.unsubscribe();var u=new r.InnerSubscriber(this,void 0,void 0);this.destination.add(u),this.innerSubscription=(0,n.subscribeToResult)(this,t,e,i,u)},i.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},i.prototype._unsubscribe=function(){this.innerSubscription=null},i.prototype.notifyComplete=function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},i.prototype.notifyNext=function(t,e,r,n,i){this.destination.next(e)},i}(e.OuterSubscriber);
},{"tslib":"vCxL","../OuterSubscriber":"hZYI","../InnerSubscriber":"aQbR","../util/subscribeToResult":"JM7e","./map":"dNh5","../observable/from":"WXUl"}],"CBg8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.switchAll=i;var e=require("./switchMap"),t=require("../util/identity");function i(){return(0,e.switchMap)(t.identity)}
},{"./switchMap":"g5Rk","../util/identity":"LXph"}],"Hs9S":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.switchMapTo=e;var t=require("./switchMap");function e(e,r){return r?(0,t.switchMap)(function(){return e},r):(0,t.switchMap)(function(){return e})}
},{"./switchMap":"g5Rk"}],"qGSv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.takeUntil=i;var e=u(require("tslib")),t=require("../OuterSubscriber"),r=require("../util/subscribeToResult");function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=u?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}function i(e){return function(t){return t.lift(new o(e))}}var o=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new c(e),u=(0,r.subscribeToResult)(n,this.notifier);return u&&!n.seenValue?(n.add(u),t.subscribe(n)):n},e}(),c=function(t){function r(e){var r=t.call(this,e)||this;return r.seenValue=!1,r}return e.__extends(r,t),r.prototype.notifyNext=function(e,t,r,n,u){this.seenValue=!0,this.complete()},r.prototype.notifyComplete=function(){},r}(t.OuterSubscriber);
},{"tslib":"vCxL","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],"EYJX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.takeWhile=i;var e=n(require("tslib")),t=require("../Subscriber");function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=i?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(n,o,u):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function i(e,t){return void 0===t&&(t=!1),function(r){return r.lift(new o(e,t))}}var o=function(){function e(e,t){this.predicate=e,this.inclusive=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.predicate,this.inclusive))},e}(),u=function(t){function r(e,r,n){var i=t.call(this,e)||this;return i.predicate=r,i.inclusive=n,i.index=0,i}return e.__extends(r,t),r.prototype._next=function(e){var t,r=this.destination;try{t=this.predicate(e,this.index++)}catch(n){return void r.error(n)}this.nextOrComplete(e,t)},r.prototype.nextOrComplete=function(e,t){var r=this.destination;Boolean(t)?r.next(e):(this.inclusive&&r.next(e),r.complete())},r}(t.Subscriber);
},{"tslib":"vCxL","../Subscriber":"RaFB"}],"okAI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.tap=p;var t=i(require("tslib")),e=require("../Subscriber"),r=require("../util/noop"),o=require("../util/isFunction");function n(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return n=function(){return t},t}function i(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=n();if(e&&e.has(t))return e.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var p=o?Object.getOwnPropertyDescriptor(t,i):null;p&&(p.get||p.set)?Object.defineProperty(r,i,p):r[i]=t[i]}return r.default=t,e&&e.set(t,r),r}function p(t,e,r){return function(o){return o.lift(new c(t,e,r))}}var c=function(){function t(t,e,r){this.nextOrObserver=t,this.error=e,this.complete=r}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))},t}(),u=function(e){function n(t,n,i,p){var c=e.call(this,t)||this;return c._tapNext=r.noop,c._tapError=r.noop,c._tapComplete=r.noop,c._tapError=i||r.noop,c._tapComplete=p||r.noop,(0,o.isFunction)(n)?(c._context=c,c._tapNext=n):n&&(c._context=n,c._tapNext=n.next||r.noop,c._tapError=n.error||r.noop,c._tapComplete=n.complete||r.noop),c}return t.__extends(n,e),n.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)},n.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},n.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},n}(e.Subscriber);
},{"tslib":"vCxL","../Subscriber":"RaFB","../util/noop":"rXfM","../util/isFunction":"Qnsq"}],"Yoo8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.throttle=u,exports.defaultThrottleConfig=void 0;var t=n(require("tslib")),e=require("../OuterSubscriber"),r=require("../util/subscribeToResult");function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function n(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=i();if(e&&e.has(t))return e.get(t);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var u=n?Object.getOwnPropertyDescriptor(t,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=t[o]}return r.default=t,e&&e.set(t,r),r}var o={leading:!0,trailing:!1};function u(t,e){return void 0===e&&(e=o),function(r){return r.lift(new s(t,e.leading,e.trailing))}}exports.defaultThrottleConfig=o;var s=function(){function t(t,e,r){this.durationSelector=t,this.leading=e,this.trailing=r}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.durationSelector,this.leading,this.trailing))},t}(),l=function(e){function i(t,r,i,n){var o=e.call(this,t)||this;return o.destination=t,o.durationSelector=r,o._leading=i,o._trailing=n,o._hasValue=!1,o}return t.__extends(i,e),i.prototype._next=function(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))},i.prototype.send=function(){var t=this._hasValue,e=this._sendValue;t&&(this.destination.next(e),this.throttle(e)),this._hasValue=!1,this._sendValue=null},i.prototype.throttle=function(t){var e=this.tryDurationSelector(t);e&&this.add(this._throttled=(0,r.subscribeToResult)(this,e))},i.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(e){return this.destination.error(e),null}},i.prototype.throttlingDone=function(){var t=this._throttled,e=this._trailing;t&&t.unsubscribe(),this._throttled=null,e&&this.send()},i.prototype.notifyNext=function(t,e,r,i,n){this.throttlingDone()},i.prototype.notifyComplete=function(){this.throttlingDone()},i}(e.OuterSubscriber);
},{"tslib":"vCxL","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],"v3FQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.throttleTime=s;var t=l(require("tslib")),i=require("../Subscriber"),e=require("../scheduler/async"),r=require("./throttle");function n(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return n=function(){return t},t}function l(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var i=n();if(i&&i.has(t))return i.get(t);var e={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if(Object.prototype.hasOwnProperty.call(t,l)){var s=r?Object.getOwnPropertyDescriptor(t,l):null;s&&(s.get||s.set)?Object.defineProperty(e,l,s):e[l]=t[l]}return e.default=t,i&&i.set(t,e),e}function s(t,i,n){return void 0===i&&(i=e.async),void 0===n&&(n=r.defaultThrottleConfig),function(e){return e.lift(new a(t,i,n.leading,n.trailing))}}var a=function(){function t(t,i,e,r){this.duration=t,this.scheduler=i,this.leading=e,this.trailing=r}return t.prototype.call=function(t,i){return i.subscribe(new u(t,this.duration,this.scheduler,this.leading,this.trailing))},t}(),u=function(i){function e(t,e,r,n,l){var s=i.call(this,t)||this;return s.duration=e,s.scheduler=r,s.leading=n,s.trailing=l,s._hasTrailingValue=!1,s._trailingValue=null,s}return t.__extends(e,i),e.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(o,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},e}(i.Subscriber);function o(t){t.subscriber.clearThrottle()}
},{"tslib":"vCxL","../Subscriber":"RaFB","../scheduler/async":"jun6","./throttle":"Yoo8"}],"n6SK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.timeInterval=u,exports.TimeInterval=void 0;var e=require("../scheduler/async"),r=require("./scan"),n=require("../observable/defer"),t=require("./map");function u(u){return void 0===u&&(u=e.async),function(e){return(0,n.defer)(function(){return e.pipe((0,r.scan)(function(e,r){var n=e.current;return{value:r,current:u.now(),last:n}},{current:u.now(),value:void 0,last:void 0}),(0,t.map)(function(e){var r=e.current,n=e.last,t=e.value;return new i(t,r-n)}))})}}var i=function(){return function(e,r){this.value=e,this.interval=r}}();exports.TimeInterval=i;
},{"../scheduler/async":"jun6","./scan":"U785","../observable/defer":"w9G6","./map":"dNh5"}],"L72b":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.timeoutWith=o;var t=n(require("tslib")),e=require("../scheduler/async"),i=require("../util/isDate"),r=require("../OuterSubscriber"),u=require("../util/subscribeToResult");function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function n(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if(Object.prototype.hasOwnProperty.call(t,u)){var n=r?Object.getOwnPropertyDescriptor(t,u):null;n&&(n.get||n.set)?Object.defineProperty(i,u,n):i[u]=t[u]}return i.default=t,e&&e.set(t,i),i}function o(t,r,u){return void 0===u&&(u=e.async),function(e){var s=(0,i.isDate)(t),n=s?+t-u.now():Math.abs(t);return e.lift(new c(n,s,r,u))}}var c=function(){function t(t,e,i,r){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=i,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),l=function(e){function i(t,i,r,u,s){var n=e.call(this,t)||this;return n.absoluteTimeout=i,n.waitFor=r,n.withObservable=u,n.scheduler=s,n.action=null,n.scheduleTimeout(),n}return t.__extends(i,e),i.dispatchTimeout=function(t){var e=t.withObservable;t._unsubscribeAndRecycle(),t.add((0,u.subscribeToResult)(t,e))},i.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(i.dispatchTimeout,this.waitFor,this))},i.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},i.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},i}(r.OuterSubscriber);
},{"tslib":"vCxL","../scheduler/async":"jun6","../util/isDate":"rxSS","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],"Cp8V":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.timeout=i;var r=require("../scheduler/async"),e=require("../util/TimeoutError"),t=require("./timeoutWith"),o=require("../observable/throwError");function i(i,u){return void 0===u&&(u=r.async),(0,t.timeoutWith)(i,(0,o.throwError)(new e.TimeoutError),u)}
},{"../scheduler/async":"jun6","../util/TimeoutError":"SZK7","./timeoutWith":"L72b","../observable/throwError":"FdIu"}],"pXuq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.timestamp=r,exports.Timestamp=void 0;var e=require("../scheduler/async"),t=require("./map");function r(r){return void 0===r&&(r=e.async),(0,t.map)(function(e){return new i(e,r.now())})}var i=function(){return function(e,t){this.value=e,this.timestamp=t}}();exports.Timestamp=i;
},{"../scheduler/async":"jun6","./map":"dNh5"}],"LA40":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.toArray=t;var e=require("./reduce");function r(e,r,t){return 0===t?[r]:(e.push(r),e)}function t(){return(0,e.reduce)(r,[])}
},{"./reduce":"BORG"}],"Iygx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.window=u;var t=i(require("tslib")),e=require("../Subject"),r=require("../OuterSubscriber"),n=require("../util/subscribeToResult");function o(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}function i(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=o();if(e&&e.has(t))return e.get(t);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var u=n?Object.getOwnPropertyDescriptor(t,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=t[i]}return r.default=t,e&&e.set(t,r),r}function u(t){return function(e){return e.lift(new c(t))}}var c=function(){function t(t){this.windowBoundaries=t}return t.prototype.call=function(t,e){var r=new s(t),o=e.subscribe(r);return o.closed||r.add((0,n.subscribeToResult)(r,this.windowBoundaries)),o},t}(),s=function(r){function n(t){var n=r.call(this,t)||this;return n.window=new e.Subject,t.next(n.window),n}return t.__extends(n,r),n.prototype.notifyNext=function(t,e,r,n,o){this.openWindow()},n.prototype.notifyError=function(t,e){this._error(t)},n.prototype.notifyComplete=function(t){this._complete()},n.prototype._next=function(t){this.window.next(t)},n.prototype._error=function(t){this.window.error(t),this.destination.error(t)},n.prototype._complete=function(){this.window.complete(),this.destination.complete()},n.prototype._unsubscribe=function(){this.window=null},n.prototype.openWindow=function(){var t=this.window;t&&t.complete();var r=this.destination,n=this.window=new e.Subject;r.next(n)},n}(r.OuterSubscriber);
},{"tslib":"vCxL","../Subject":"r9t1","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],"GYT2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.windowCount=o;var t=r(require("tslib")),e=require("../Subscriber"),n=require("../Subject");function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var s=r?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}function o(t,e){return void 0===e&&(e=0),function(n){return n.lift(new s(t,e))}}var s=function(){function t(t,e){this.windowSize=t,this.startWindowEvery=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.windowSize,this.startWindowEvery))},t}(),u=function(e){function i(t,i,r){var o=e.call(this,t)||this;return o.destination=t,o.windowSize=i,o.startWindowEvery=r,o.windows=[new n.Subject],o.count=0,t.next(o.windows[0]),o}return t.__extends(i,e),i.prototype._next=function(t){for(var e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,r=this.windowSize,o=this.windows,s=o.length,u=0;u<s&&!this.closed;u++)o[u].next(t);var c=this.count-r+1;if(c>=0&&c%e==0&&!this.closed&&o.shift().complete(),++this.count%e==0&&!this.closed){var f=new n.Subject;o.push(f),i.next(f)}},i.prototype._error=function(t){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)},i.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},i.prototype._unsubscribe=function(){this.count=0,this.windows=null},i}(e.Subscriber);
},{"tslib":"vCxL","../Subscriber":"RaFB","../Subject":"r9t1"}],"Okss":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.windowTime=c;var e=u(require("tslib")),n=require("../Subject"),t=require("../scheduler/async"),i=require("../Subscriber"),r=require("../util/isNumeric"),o=require("../util/isScheduler");function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s();if(n&&n.has(e))return n.get(e);var t={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=i?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(t,r,o):t[r]=e[r]}return t.default=e,n&&n.set(e,t),t}function c(e){var n=t.async,i=null,s=Number.POSITIVE_INFINITY;return(0,o.isScheduler)(arguments[3])&&(n=arguments[3]),(0,o.isScheduler)(arguments[2])?n=arguments[2]:(0,r.isNumeric)(arguments[2])&&(s=arguments[2]),(0,o.isScheduler)(arguments[1])?n=arguments[1]:(0,r.isNumeric)(arguments[1])&&(i=arguments[1]),function(t){return t.lift(new d(e,i,s,n))}}var d=function(){function e(e,n,t,i){this.windowTimeSpan=e,this.windowCreationInterval=n,this.maxWindowSize=t,this.scheduler=i}return e.prototype.call=function(e,n){return n.subscribe(new l(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},e}(),a=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e._numberOfNextedValues=0,e}return e.__extends(t,n),t.prototype.next=function(e){this._numberOfNextedValues++,n.prototype.next.call(this,e)},Object.defineProperty(t.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),t}(n.Subject),l=function(n){function t(e,t,i,r,o){var s=n.call(this,e)||this;s.destination=e,s.windowTimeSpan=t,s.windowCreationInterval=i,s.maxWindowSize=r,s.scheduler=o,s.windows=[];var u=s.openWindow();if(null!==i&&i>=0){var c={subscriber:s,window:u,context:null},d={windowTimeSpan:t,windowCreationInterval:i,subscriber:s,scheduler:o};s.add(o.schedule(f,t,c)),s.add(o.schedule(p,i,d))}else{var a={subscriber:s,window:u,windowTimeSpan:t};s.add(o.schedule(w,t,a))}return s}return e.__extends(t,n),t.prototype._next=function(e){for(var n=this.windows,t=n.length,i=0;i<t;i++){var r=n[i];r.closed||(r.next(e),r.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(r))}},t.prototype._error=function(e){for(var n=this.windows;n.length>0;)n.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){for(var e=this.windows;e.length>0;){var n=e.shift();n.closed||n.complete()}this.destination.complete()},t.prototype.openWindow=function(){var e=new a;return this.windows.push(e),this.destination.next(e),e},t.prototype.closeWindow=function(e){e.complete();var n=this.windows;n.splice(n.indexOf(e),1)},t}(i.Subscriber);function w(e){var n=e.subscriber,t=e.windowTimeSpan,i=e.window;i&&n.closeWindow(i),e.window=n.openWindow(),this.schedule(e,t)}function p(e){var n=e.windowTimeSpan,t=e.subscriber,i=e.scheduler,r=e.windowCreationInterval,o=t.openWindow(),s={action:this,subscription:null},u={subscriber:t,window:o,context:s};s.subscription=i.schedule(f,n,u),this.add(s.subscription),this.schedule(e,r)}function f(e){var n=e.subscriber,t=e.window,i=e.context;i&&i.action&&i.subscription&&i.action.remove(i.subscription),n.closeWindow(t)}
},{"tslib":"vCxL","../Subject":"r9t1","../scheduler/async":"jun6","../Subscriber":"RaFB","../util/isNumeric":"wBpm","../util/isScheduler":"VqoH"}],"JiQj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.windowToggle=c;var t=s(require("tslib")),e=require("../Subject"),r=require("../Subscription"),n=require("../OuterSubscriber"),o=require("../util/subscribeToResult");function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function s(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=i();if(e&&e.has(t))return e.get(t);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var s=n?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,e&&e.set(t,r),r}function c(t,e){return function(r){return r.lift(new u(t,e))}}var u=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new p(t,this.openings,this.closingSelector))},t}(),p=function(n){function i(t,e,r){var i=n.call(this,t)||this;return i.openings=e,i.closingSelector=r,i.contexts=[],i.add(i.openSubscription=(0,o.subscribeToResult)(i,e,e)),i}return t.__extends(i,n),i.prototype._next=function(t){var e=this.contexts;if(e)for(var r=e.length,n=0;n<r;n++)e[n].window.next(t)},i.prototype._error=function(t){var e=this.contexts;if(this.contexts=null,e)for(var r=e.length,o=-1;++o<r;){var i=e[o];i.window.error(t),i.subscription.unsubscribe()}n.prototype._error.call(this,t)},i.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var e=t.length,r=-1;++r<e;){var o=t[r];o.window.complete(),o.subscription.unsubscribe()}n.prototype._complete.call(this)},i.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var e=t.length,r=-1;++r<e;){var n=t[r];n.window.unsubscribe(),n.subscription.unsubscribe()}},i.prototype.notifyNext=function(t,n,i,s,c){if(t===this.openings){var u=void 0;try{u=(0,this.closingSelector)(n)}catch(a){return this.error(a)}var p=new e.Subject,l=new r.Subscription,f={window:p,subscription:l};this.contexts.push(f);var b=(0,o.subscribeToResult)(this,u,f);b.closed?this.closeWindow(this.contexts.length-1):(b.context=f,l.add(b)),this.destination.next(p)}else this.closeWindow(this.contexts.indexOf(t))},i.prototype.notifyError=function(t){this.error(t)},i.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},i.prototype.closeWindow=function(t){if(-1!==t){var e=this.contexts,r=e[t],n=r.window,o=r.subscription;e.splice(t,1),n.complete(),o.unsubscribe()}},i}(n.OuterSubscriber);
},{"tslib":"vCxL","../Subject":"r9t1","../Subscription":"I8KM","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],"YaG1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.windowWhen=s;var t=r(require("tslib")),e=require("../Subject"),i=require("../OuterSubscriber"),n=require("../util/subscribeToResult");function o(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=o();if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var s=n?Object.getOwnPropertyDescriptor(t,r):null;s&&(s.get||s.set)?Object.defineProperty(i,r,s):i[r]=t[r]}return i.default=t,e&&e.set(t,i),i}function s(t){return function(e){return e.lift(new u(t))}}var u=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.closingSelector))},t}(),c=function(i){function o(t,e){var n=i.call(this,t)||this;return n.destination=t,n.closingSelector=e,n.openWindow(),n}return t.__extends(o,i),o.prototype.notifyNext=function(t,e,i,n,o){this.openWindow(o)},o.prototype.notifyError=function(t,e){this._error(t)},o.prototype.notifyComplete=function(t){this.openWindow(t)},o.prototype._next=function(t){this.window.next(t)},o.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},o.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},o.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},o.prototype.openWindow=function(t){void 0===t&&(t=null),t&&(this.remove(t),t.unsubscribe());var i=this.window;i&&i.complete();var o,r=this.window=new e.Subject;this.destination.next(r);try{o=(0,this.closingSelector)()}catch(s){return this.destination.error(s),void this.window.error(s)}this.add(this.closingNotification=(0,n.subscribeToResult)(this,o))},o}(i.OuterSubscriber);
},{"tslib":"vCxL","../Subject":"r9t1","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],"JDwQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.withLatestFrom=i;var t=o(require("tslib")),e=require("../OuterSubscriber"),r=require("../util/subscribeToResult");function n(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return n=function(){return t},t}function o(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=n();if(e&&e.has(t))return e.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=o?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=t[i]}return r.default=t,e&&e.set(t,r),r}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var r;"function"==typeof t[t.length-1]&&(r=t.pop());var n=t;return e.lift(new s(n,r))}}var s=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.observables,this.project))},t}(),u=function(e){function n(t,n,o){var i=e.call(this,t)||this;i.observables=n,i.project=o,i.toRespond=[];var s=n.length;i.values=new Array(s);for(var u=0;u<s;u++)i.toRespond.push(u);for(u=0;u<s;u++){var c=n[u];i.add((0,r.subscribeToResult)(i,c,c,u))}return i}return t.__extends(n,e),n.prototype.notifyNext=function(t,e,r,n,o){this.values[r]=e;var i=this.toRespond;if(i.length>0){var s=i.indexOf(r);-1!==s&&i.splice(s,1)}},n.prototype.notifyComplete=function(){},n.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},n.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)},n}(e.OuterSubscriber);
},{"tslib":"vCxL","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],"UwLD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.zip=r;var e=require("../observable/zip");function r(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return function(t){return t.lift.call(e.zip.apply(void 0,[t].concat(r)))}}
},{"../observable/zip":"ff2A"}],"DmwP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.zipAll=r;var e=require("../observable/zip");function r(r){return function(t){return t.lift(new e.ZipOperator(r))}}
},{"../observable/zip":"ff2A"}],"cVrl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"audit",{enumerable:!0,get:function(){return e.audit}}),Object.defineProperty(exports,"auditTime",{enumerable:!0,get:function(){return r.auditTime}}),Object.defineProperty(exports,"buffer",{enumerable:!0,get:function(){return t.buffer}}),Object.defineProperty(exports,"bufferCount",{enumerable:!0,get:function(){return n.bufferCount}}),Object.defineProperty(exports,"bufferTime",{enumerable:!0,get:function(){return o.bufferTime}}),Object.defineProperty(exports,"bufferToggle",{enumerable:!0,get:function(){return i.bufferToggle}}),Object.defineProperty(exports,"bufferWhen",{enumerable:!0,get:function(){return u.bufferWhen}}),Object.defineProperty(exports,"catchError",{enumerable:!0,get:function(){return a.catchError}}),Object.defineProperty(exports,"combineAll",{enumerable:!0,get:function(){return p.combineAll}}),Object.defineProperty(exports,"combineLatest",{enumerable:!0,get:function(){return l.combineLatest}}),Object.defineProperty(exports,"concat",{enumerable:!0,get:function(){return s.concat}}),Object.defineProperty(exports,"concatAll",{enumerable:!0,get:function(){return c.concatAll}}),Object.defineProperty(exports,"concatMap",{enumerable:!0,get:function(){return f.concatMap}}),Object.defineProperty(exports,"concatMapTo",{enumerable:!0,get:function(){return b.concatMapTo}}),Object.defineProperty(exports,"count",{enumerable:!0,get:function(){return m.count}}),Object.defineProperty(exports,"debounce",{enumerable:!0,get:function(){return d.debounce}}),Object.defineProperty(exports,"debounceTime",{enumerable:!0,get:function(){return g.debounceTime}}),Object.defineProperty(exports,"defaultIfEmpty",{enumerable:!0,get:function(){return y.defaultIfEmpty}}),Object.defineProperty(exports,"delay",{enumerable:!0,get:function(){return x.delay}}),Object.defineProperty(exports,"delayWhen",{enumerable:!0,get:function(){return O.delayWhen}}),Object.defineProperty(exports,"dematerialize",{enumerable:!0,get:function(){return q.dematerialize}}),Object.defineProperty(exports,"distinct",{enumerable:!0,get:function(){return j.distinct}}),Object.defineProperty(exports,"distinctUntilChanged",{enumerable:!0,get:function(){return P.distinctUntilChanged}}),Object.defineProperty(exports,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return h.distinctUntilKeyChanged}}),Object.defineProperty(exports,"elementAt",{enumerable:!0,get:function(){return w.elementAt}}),Object.defineProperty(exports,"endWith",{enumerable:!0,get:function(){return T.endWith}}),Object.defineProperty(exports,"every",{enumerable:!0,get:function(){return W.every}}),Object.defineProperty(exports,"exhaust",{enumerable:!0,get:function(){return k.exhaust}}),Object.defineProperty(exports,"exhaustMap",{enumerable:!0,get:function(){return M.exhaustMap}}),Object.defineProperty(exports,"expand",{enumerable:!0,get:function(){return A.expand}}),Object.defineProperty(exports,"filter",{enumerable:!0,get:function(){return E.filter}}),Object.defineProperty(exports,"finalize",{enumerable:!0,get:function(){return z.finalize}}),Object.defineProperty(exports,"find",{enumerable:!0,get:function(){return C.find}}),Object.defineProperty(exports,"findIndex",{enumerable:!0,get:function(){return L.findIndex}}),Object.defineProperty(exports,"first",{enumerable:!0,get:function(){return v.first}}),Object.defineProperty(exports,"groupBy",{enumerable:!0,get:function(){return I.groupBy}}),Object.defineProperty(exports,"ignoreElements",{enumerable:!0,get:function(){return U.ignoreElements}}),Object.defineProperty(exports,"isEmpty",{enumerable:!0,get:function(){return R.isEmpty}}),Object.defineProperty(exports,"last",{enumerable:!0,get:function(){return B.last}}),Object.defineProperty(exports,"map",{enumerable:!0,get:function(){return F.map}}),Object.defineProperty(exports,"mapTo",{enumerable:!0,get:function(){return K.mapTo}}),Object.defineProperty(exports,"materialize",{enumerable:!0,get:function(){return N.materialize}}),Object.defineProperty(exports,"max",{enumerable:!0,get:function(){return S.max}}),Object.defineProperty(exports,"merge",{enumerable:!0,get:function(){return _.merge}}),Object.defineProperty(exports,"mergeAll",{enumerable:!0,get:function(){return D.mergeAll}}),Object.defineProperty(exports,"mergeMap",{enumerable:!0,get:function(){return G.mergeMap}}),Object.defineProperty(exports,"flatMap",{enumerable:!0,get:function(){return G.mergeMap}}),Object.defineProperty(exports,"mergeMapTo",{enumerable:!0,get:function(){return H.mergeMapTo}}),Object.defineProperty(exports,"mergeScan",{enumerable:!0,get:function(){return J.mergeScan}}),Object.defineProperty(exports,"min",{enumerable:!0,get:function(){return Q.min}}),Object.defineProperty(exports,"multicast",{enumerable:!0,get:function(){return V.multicast}}),Object.defineProperty(exports,"observeOn",{enumerable:!0,get:function(){return X.observeOn}}),Object.defineProperty(exports,"onErrorResumeNext",{enumerable:!0,get:function(){return Y.onErrorResumeNext}}),Object.defineProperty(exports,"pairwise",{enumerable:!0,get:function(){return Z.pairwise}}),Object.defineProperty(exports,"partition",{enumerable:!0,get:function(){return $.partition}}),Object.defineProperty(exports,"pluck",{enumerable:!0,get:function(){return ee.pluck}}),Object.defineProperty(exports,"publish",{enumerable:!0,get:function(){return re.publish}}),Object.defineProperty(exports,"publishBehavior",{enumerable:!0,get:function(){return te.publishBehavior}}),Object.defineProperty(exports,"publishLast",{enumerable:!0,get:function(){return ne.publishLast}}),Object.defineProperty(exports,"publishReplay",{enumerable:!0,get:function(){return oe.publishReplay}}),Object.defineProperty(exports,"race",{enumerable:!0,get:function(){return ie.race}}),Object.defineProperty(exports,"reduce",{enumerable:!0,get:function(){return ue.reduce}}),Object.defineProperty(exports,"repeat",{enumerable:!0,get:function(){return ae.repeat}}),Object.defineProperty(exports,"repeatWhen",{enumerable:!0,get:function(){return pe.repeatWhen}}),Object.defineProperty(exports,"retry",{enumerable:!0,get:function(){return le.retry}}),Object.defineProperty(exports,"retryWhen",{enumerable:!0,get:function(){return se.retryWhen}}),Object.defineProperty(exports,"refCount",{enumerable:!0,get:function(){return ce.refCount}}),Object.defineProperty(exports,"sample",{enumerable:!0,get:function(){return fe.sample}}),Object.defineProperty(exports,"sampleTime",{enumerable:!0,get:function(){return be.sampleTime}}),Object.defineProperty(exports,"scan",{enumerable:!0,get:function(){return me.scan}}),Object.defineProperty(exports,"sequenceEqual",{enumerable:!0,get:function(){return de.sequenceEqual}}),Object.defineProperty(exports,"share",{enumerable:!0,get:function(){return ge.share}}),Object.defineProperty(exports,"shareReplay",{enumerable:!0,get:function(){return ye.shareReplay}}),Object.defineProperty(exports,"single",{enumerable:!0,get:function(){return xe.single}}),Object.defineProperty(exports,"skip",{enumerable:!0,get:function(){return Oe.skip}}),Object.defineProperty(exports,"skipLast",{enumerable:!0,get:function(){return qe.skipLast}}),Object.defineProperty(exports,"skipUntil",{enumerable:!0,get:function(){return je.skipUntil}}),Object.defineProperty(exports,"skipWhile",{enumerable:!0,get:function(){return Pe.skipWhile}}),Object.defineProperty(exports,"startWith",{enumerable:!0,get:function(){return he.startWith}}),Object.defineProperty(exports,"subscribeOn",{enumerable:!0,get:function(){return we.subscribeOn}}),Object.defineProperty(exports,"switchAll",{enumerable:!0,get:function(){return Te.switchAll}}),Object.defineProperty(exports,"switchMap",{enumerable:!0,get:function(){return We.switchMap}}),Object.defineProperty(exports,"switchMapTo",{enumerable:!0,get:function(){return ke.switchMapTo}}),Object.defineProperty(exports,"take",{enumerable:!0,get:function(){return Me.take}}),Object.defineProperty(exports,"takeLast",{enumerable:!0,get:function(){return Ae.takeLast}}),Object.defineProperty(exports,"takeUntil",{enumerable:!0,get:function(){return Ee.takeUntil}}),Object.defineProperty(exports,"takeWhile",{enumerable:!0,get:function(){return ze.takeWhile}}),Object.defineProperty(exports,"tap",{enumerable:!0,get:function(){return Ce.tap}}),Object.defineProperty(exports,"throttle",{enumerable:!0,get:function(){return Le.throttle}}),Object.defineProperty(exports,"throttleTime",{enumerable:!0,get:function(){return ve.throttleTime}}),Object.defineProperty(exports,"throwIfEmpty",{enumerable:!0,get:function(){return Ie.throwIfEmpty}}),Object.defineProperty(exports,"timeInterval",{enumerable:!0,get:function(){return Ue.timeInterval}}),Object.defineProperty(exports,"timeout",{enumerable:!0,get:function(){return Re.timeout}}),Object.defineProperty(exports,"timeoutWith",{enumerable:!0,get:function(){return Be.timeoutWith}}),Object.defineProperty(exports,"timestamp",{enumerable:!0,get:function(){return Fe.timestamp}}),Object.defineProperty(exports,"toArray",{enumerable:!0,get:function(){return Ke.toArray}}),Object.defineProperty(exports,"window",{enumerable:!0,get:function(){return Ne.window}}),Object.defineProperty(exports,"windowCount",{enumerable:!0,get:function(){return Se.windowCount}}),Object.defineProperty(exports,"windowTime",{enumerable:!0,get:function(){return _e.windowTime}}),Object.defineProperty(exports,"windowToggle",{enumerable:!0,get:function(){return De.windowToggle}}),Object.defineProperty(exports,"windowWhen",{enumerable:!0,get:function(){return Ge.windowWhen}}),Object.defineProperty(exports,"withLatestFrom",{enumerable:!0,get:function(){return He.withLatestFrom}}),Object.defineProperty(exports,"zip",{enumerable:!0,get:function(){return Je.zip}}),Object.defineProperty(exports,"zipAll",{enumerable:!0,get:function(){return Qe.zipAll}});var e=require("../internal/operators/audit"),r=require("../internal/operators/auditTime"),t=require("../internal/operators/buffer"),n=require("../internal/operators/bufferCount"),o=require("../internal/operators/bufferTime"),i=require("../internal/operators/bufferToggle"),u=require("../internal/operators/bufferWhen"),a=require("../internal/operators/catchError"),p=require("../internal/operators/combineAll"),l=require("../internal/operators/combineLatest"),s=require("../internal/operators/concat"),c=require("../internal/operators/concatAll"),f=require("../internal/operators/concatMap"),b=require("../internal/operators/concatMapTo"),m=require("../internal/operators/count"),d=require("../internal/operators/debounce"),g=require("../internal/operators/debounceTime"),y=require("../internal/operators/defaultIfEmpty"),x=require("../internal/operators/delay"),O=require("../internal/operators/delayWhen"),q=require("../internal/operators/dematerialize"),j=require("../internal/operators/distinct"),P=require("../internal/operators/distinctUntilChanged"),h=require("../internal/operators/distinctUntilKeyChanged"),w=require("../internal/operators/elementAt"),T=require("../internal/operators/endWith"),W=require("../internal/operators/every"),k=require("../internal/operators/exhaust"),M=require("../internal/operators/exhaustMap"),A=require("../internal/operators/expand"),E=require("../internal/operators/filter"),z=require("../internal/operators/finalize"),C=require("../internal/operators/find"),L=require("../internal/operators/findIndex"),v=require("../internal/operators/first"),I=require("../internal/operators/groupBy"),U=require("../internal/operators/ignoreElements"),R=require("../internal/operators/isEmpty"),B=require("../internal/operators/last"),F=require("../internal/operators/map"),K=require("../internal/operators/mapTo"),N=require("../internal/operators/materialize"),S=require("../internal/operators/max"),_=require("../internal/operators/merge"),D=require("../internal/operators/mergeAll"),G=require("../internal/operators/mergeMap"),H=require("../internal/operators/mergeMapTo"),J=require("../internal/operators/mergeScan"),Q=require("../internal/operators/min"),V=require("../internal/operators/multicast"),X=require("../internal/operators/observeOn"),Y=require("../internal/operators/onErrorResumeNext"),Z=require("../internal/operators/pairwise"),$=require("../internal/operators/partition"),ee=require("../internal/operators/pluck"),re=require("../internal/operators/publish"),te=require("../internal/operators/publishBehavior"),ne=require("../internal/operators/publishLast"),oe=require("../internal/operators/publishReplay"),ie=require("../internal/operators/race"),ue=require("../internal/operators/reduce"),ae=require("../internal/operators/repeat"),pe=require("../internal/operators/repeatWhen"),le=require("../internal/operators/retry"),se=require("../internal/operators/retryWhen"),ce=require("../internal/operators/refCount"),fe=require("../internal/operators/sample"),be=require("../internal/operators/sampleTime"),me=require("../internal/operators/scan"),de=require("../internal/operators/sequenceEqual"),ge=require("../internal/operators/share"),ye=require("../internal/operators/shareReplay"),xe=require("../internal/operators/single"),Oe=require("../internal/operators/skip"),qe=require("../internal/operators/skipLast"),je=require("../internal/operators/skipUntil"),Pe=require("../internal/operators/skipWhile"),he=require("../internal/operators/startWith"),we=require("../internal/operators/subscribeOn"),Te=require("../internal/operators/switchAll"),We=require("../internal/operators/switchMap"),ke=require("../internal/operators/switchMapTo"),Me=require("../internal/operators/take"),Ae=require("../internal/operators/takeLast"),Ee=require("../internal/operators/takeUntil"),ze=require("../internal/operators/takeWhile"),Ce=require("../internal/operators/tap"),Le=require("../internal/operators/throttle"),ve=require("../internal/operators/throttleTime"),Ie=require("../internal/operators/throwIfEmpty"),Ue=require("../internal/operators/timeInterval"),Re=require("../internal/operators/timeout"),Be=require("../internal/operators/timeoutWith"),Fe=require("../internal/operators/timestamp"),Ke=require("../internal/operators/toArray"),Ne=require("../internal/operators/window"),Se=require("../internal/operators/windowCount"),_e=require("../internal/operators/windowTime"),De=require("../internal/operators/windowToggle"),Ge=require("../internal/operators/windowWhen"),He=require("../internal/operators/withLatestFrom"),Je=require("../internal/operators/zip"),Qe=require("../internal/operators/zipAll");
},{"../internal/operators/audit":"Pdg2","../internal/operators/auditTime":"jcYn","../internal/operators/buffer":"mG6b","../internal/operators/bufferCount":"f9IP","../internal/operators/bufferTime":"Axj2","../internal/operators/bufferToggle":"ZTTP","../internal/operators/bufferWhen":"Ul3A","../internal/operators/catchError":"THoY","../internal/operators/combineAll":"TMFF","../internal/operators/combineLatest":"DJQm","../internal/operators/concat":"ZHmI","../internal/operators/concatAll":"Yxey","../internal/operators/concatMap":"DoUK","../internal/operators/concatMapTo":"APQq","../internal/operators/count":"U1Ln","../internal/operators/debounce":"y9EZ","../internal/operators/debounceTime":"KBFO","../internal/operators/defaultIfEmpty":"YBdz","../internal/operators/delay":"zkgx","../internal/operators/delayWhen":"iVuv","../internal/operators/dematerialize":"v6b5","../internal/operators/distinct":"H608","../internal/operators/distinctUntilChanged":"hFX7","../internal/operators/distinctUntilKeyChanged":"Egbr","../internal/operators/elementAt":"TbZV","../internal/operators/endWith":"loee","../internal/operators/every":"eEZZ","../internal/operators/exhaust":"ifNj","../internal/operators/exhaustMap":"DGWU","../internal/operators/expand":"iYcS","../internal/operators/filter":"HKzi","../internal/operators/finalize":"x5qu","../internal/operators/find":"t6rP","../internal/operators/findIndex":"GIlo","../internal/operators/first":"f9sd","../internal/operators/groupBy":"dNgG","../internal/operators/ignoreElements":"P82l","../internal/operators/isEmpty":"LqVv","../internal/operators/last":"xu0X","../internal/operators/map":"dNh5","../internal/operators/mapTo":"yJbZ","../internal/operators/materialize":"ZwCH","../internal/operators/max":"BgD2","../internal/operators/merge":"sbfV","../internal/operators/mergeAll":"Nkv4","../internal/operators/mergeMap":"nFsM","../internal/operators/mergeMapTo":"S3q6","../internal/operators/mergeScan":"wQne","../internal/operators/min":"bAWd","../internal/operators/multicast":"M6Em","../internal/operators/observeOn":"ezNs","../internal/operators/onErrorResumeNext":"S4UH","../internal/operators/pairwise":"u6OS","../internal/operators/partition":"jvG2","../internal/operators/pluck":"TdE4","../internal/operators/publish":"TQAB","../internal/operators/publishBehavior":"fUyM","../internal/operators/publishLast":"fQ7S","../internal/operators/publishReplay":"aqWk","../internal/operators/race":"EAaA","../internal/operators/reduce":"BORG","../internal/operators/repeat":"Fbxf","../internal/operators/repeatWhen":"CT9q","../internal/operators/retry":"ZHEI","../internal/operators/retryWhen":"GHe2","../internal/operators/refCount":"vT9o","../internal/operators/sample":"Rd9o","../internal/operators/sampleTime":"nb45","../internal/operators/scan":"U785","../internal/operators/sequenceEqual":"PMGC","../internal/operators/share":"KBGh","../internal/operators/shareReplay":"xsrM","../internal/operators/single":"angX","../internal/operators/skip":"vMIz","../internal/operators/skipLast":"iB53","../internal/operators/skipUntil":"xmsT","../internal/operators/skipWhile":"qjDA","../internal/operators/startWith":"doo6","../internal/operators/subscribeOn":"Et1l","../internal/operators/switchAll":"CBg8","../internal/operators/switchMap":"g5Rk","../internal/operators/switchMapTo":"Hs9S","../internal/operators/take":"JVEz","../internal/operators/takeLast":"FbHg","../internal/operators/takeUntil":"qGSv","../internal/operators/takeWhile":"EYJX","../internal/operators/tap":"okAI","../internal/operators/throttle":"Yoo8","../internal/operators/throttleTime":"v3FQ","../internal/operators/throwIfEmpty":"D7Ma","../internal/operators/timeInterval":"n6SK","../internal/operators/timeout":"Cp8V","../internal/operators/timeoutWith":"L72b","../internal/operators/timestamp":"pXuq","../internal/operators/toArray":"LA40","../internal/operators/window":"Iygx","../internal/operators/windowCount":"GYT2","../internal/operators/windowTime":"Okss","../internal/operators/windowToggle":"JiQj","../internal/operators/windowWhen":"YaG1","../internal/operators/withLatestFrom":"JDwQ","../internal/operators/zip":"UwLD","../internal/operators/zipAll":"DmwP"}],"TsdW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.changeEventfromJSON=o,exports.changeEventfromPouchChange=r,exports.createChangeEvent=i,exports.isInstanceOf=s,exports.RxChangeEvent=void 0;var t=a(require("@babel/runtime/helpers/createClass")),e=require("./util");function a(t){return t&&t.__esModule?t:{default:t}}var n=function(){function a(t){this._hash=null,this.data=t}var n=a.prototype;return n.toJSON=function(){var t={col:null,doc:null,v:null,op:this.data.op,t:this.data.t,db:this.data.db,it:this.data.it,isLocal:this.data.isLocal};return this.data.col&&(t.col=this.data.col),this.data.doc&&(t.doc=this.data.doc),this.data.v&&(t.v=this.data.v),t},n.isIntern=function(){return!(!this.data.col||"_"!==this.data.col.charAt(0))},n.isSocket=function(){return!(!this.data.col||"_socket"!==this.data.col)},(0,t.default)(a,[{key:"hash",get:function(){return this._hash||(this._hash=(0,e.hash)(this.data)),this._hash}}]),a}();function o(t){return new n(t)}function r(t,e){var a=t._rev.startsWith("1-")?"INSERT":"UPDATE";t._deleted&&(a="REMOVE"),t=e._handleFromPouch(t);var o={op:a,t:(new Date).getTime(),db:"remote",col:e.name,it:e.database.token,doc:t[e.schema.primaryPath],v:t};return new n(o)}function i(t,e,a,o,r){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s={col:a?a.name:null,doc:o?o.primary:null,v:r||null,op:t,t:(new Date).getTime(),db:e.name,it:e.token,isLocal:i};return new n(s)}function s(t){return t instanceof n}exports.RxChangeEvent=n;
},{"@babel/runtime/helpers/createClass":"MCuf","./util":"fx0o"}],"N09Y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createRxDocumentConstructor=h,exports.defineGetterSetter=d,exports.createWithConstructor=p,exports.properties=m,exports.isInstanceOf=v,exports.default=exports.basePrototype=void 0;var t=c(require("object-path")),e=require("rxjs"),r=require("rxjs/operators"),n=require("./util"),i=require("./rx-change-event"),o=require("./rx-error"),a=require("./hooks");function c(t){return t&&t.__esModule?t:{default:t}}var s={get _data(){if(this.isInstanceOfRxDocument)return this._dataSync$.getValue()},get primaryPath(){if(this.isInstanceOfRxDocument)return this.collection.schema.primaryPath},get primary(){if(this.isInstanceOfRxDocument)return this._data[this.primaryPath]},get revision(){if(this.isInstanceOfRxDocument)return this._data._rev},get deleted$(){if(this.isInstanceOfRxDocument)return this._deleted$.asObservable()},get deleted(){if(this.isInstanceOfRxDocument)return this._deleted$.getValue()},get $(){return this._dataSync$.asObservable()},_handleChangeEvent:function(t){if(t.data.doc===this.primary){var e=(0,n.getHeightOfRevision)(t.data.v._rev);if(!((0,n.getHeightOfRevision)(this._data._rev)>e))switch(t.data.op){case"INSERT":break;case"UPDATE":var r=(0,n.clone)(t.data.v);this._dataSync$.next((0,n.clone)(r));break;case"REMOVE":this.collection._docCache.delete(this.primary),this._deleted$.next(!0)}}},$emit:function(t){return this.collection.$emit(t)},get$:function(e){if(e.includes(".item."))throw(0,o.newRxError)("DOC1",{path:e});if(e===this.primaryPath)throw(0,o.newRxError)("DOC2");if(this.collection.schema.finalFields.includes(e))throw(0,o.newRxError)("DOC3",{path:e});if(!this.collection.schema.getSchemaByObjectPath(e))throw(0,o.newRxError)("DOC4",{path:e});return this._dataSync$.pipe((0,r.map)(function(r){return t.default.get(r,e)}),(0,r.distinctUntilChanged)())},populate:function(t){var e=this.collection.schema.getSchemaByObjectPath(t),r=this.get(t);if(!r)return Promise.resolve(null);if(!e)throw(0,o.newRxError)("DOC5",{path:t});if(!e.ref)throw(0,o.newRxError)("DOC6",{path:t,schemaObj:e});var n=this.collection.database.collections[e.ref];if(!n)throw(0,o.newRxError)("DOC7",{ref:e.ref,path:t,schemaObj:e});return"array"===e.type?Promise.all(r.map(function(t){return n.findOne(t).exec()})):n.findOne(r).exec()},get:function(e){if(this._data){var r=t.default.get(this._data,e);return"object"!=typeof(r=(0,n.clone)(r))||Array.isArray(r)?r:(d(this.collection.schema,r,e,this),r)}},toJSON:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=(0,n.clone)(this._data);return t||(delete e._rev,delete e._attachments),e},set:function(e,r){if(!this._isTemporary)throw(0,o.newRxTypeError)("DOC16",{objPath:e,value:r});if("string"!=typeof e)throw(0,o.newRxTypeError)("DOC15",{objPath:e,value:r});if(!Object.is(this.get(e),r)){var n=e.split(".");n.pop();var i=n.join(".");if(void 0===t.default.get(this._data,i))throw(0,o.newRxError)("DOC10",{childpath:e,rootPath:i});return t.default.set(this._data,e,r),this}},update:function(t){throw(0,n.pluginMissing)("update")},putAttachment:function(){throw(0,n.pluginMissing)("attachments")},getAttachment:function(){throw(0,n.pluginMissing)("attachments")},allAttachments:function(){throw(0,n.pluginMissing)("attachments")},get allAttachments$(){throw(0,n.pluginMissing)("attachments")},atomicUpdate:function(t){var e=this;return this._atomicQueue=this._atomicQueue.then(function(){var r=(0,n.clone)(e._dataSync$.getValue()),i=t((0,n.clone)(e._dataSync$.getValue()),e);return(0,n.toPromise)(i).then(function(t){return e._saveData(t,r)})}),this._atomicQueue.then(function(){return e})},atomicSet:function(e,r){return this.atomicUpdate(function(n){return t.default.set(n,e,r),n})},_saveData:function(t,e){var r=this;if(t=(0,n.clone)(t),this._deleted$.getValue())throw(0,o.newRxError)("DOC11",{id:this.primary,document:this});return this.collection.schema.validateChange(e,t),this.collection._runHooks("pre","save",t,this).then(function(){return r.collection.schema.validate(t),r.collection._pouchPut((0,n.clone)(t))}).then(function(e){if(!e.ok)throw(0,o.newRxError)("DOC12",{data:e});t._rev=e.rev;var n=(0,i.createChangeEvent)("UPDATE",r.collection.database,r.collection,r,t);return r.$emit(n),r.collection._runHooks("post","save",t,r)})},save:function(){var t=this;if(!this._isTemporary)throw(0,o.newRxError)("DOC17",{id:this.primary,document:this});return this.collection.insert(this).then(function(){return t._isTemporary=!1,t.collection._docCache.set(t.primary,t),t._dataSync$.next((0,n.clone)(t._data)),!0})},remove:function(){var t=this;if(this.deleted)return Promise.reject((0,o.newRxError)("DOC13",{document:this,id:this.primary}));var e=(0,n.clone)(this._data);return this.collection._runHooks("pre","remove",e,this).then(function(){return e._deleted=!0,t.collection._pouchPut(e)}).then(function(){return t.$emit((0,i.createChangeEvent)("REMOVE",t.collection.database,t.collection,t,t._data)),t.collection._runHooks("post","remove",e,t)}).then(function(){return t})},destroy:function(){throw(0,o.newRxError)("DOC14")}};function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,r=function(t,r){this.collection=t,this._isTemporary=!1,this._dataSync$=new e.BehaviorSubject((0,n.clone)(r)),this._deleted$=new e.BehaviorSubject(!1),this._atomicQueue=Promise.resolve(),this.isInstanceOfRxDocument=!0};return r.prototype=t,r}exports.basePrototype=s;var u,l=h(s),f=new l;function d(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null!==e){var o=t.getSchemaByObjectPath(r);void 0!==o&&(o.properties&&(o=o.properties),Object.keys(o).forEach(function(t){var o=(0,n.trimDots)(r+"."+t);e.__defineGetter__(t,function(){var t=i||this;if(t.get&&"function"==typeof t.get)return t.get(o)}),Object.defineProperty(e,t+"$",{get:function(){return(i||this).get$(o)},enumerable:!1,configurable:!1}),Object.defineProperty(e,t+"_",{get:function(){return(i||this).populate(o)},enumerable:!1,configurable:!1}),e.__defineSetter__(t,function(t){return(i||this).set(o,t)})}))}}function p(t,e,r){if(r[e.schema.primaryPath]&&r[e.schema.primaryPath].startsWith("_design"))return null;var n=new t(e,r);return(0,a.runPluginHooks)("createRxDocument",n),n}function m(){if(!u){var t=Object.getOwnPropertyNames(f),e=Object.getOwnPropertyNames(s);u=[].concat(t,e,["deleted","synced"])}return u}function v(t){return void 0!==t&&!!t.isInstanceOfRxDocument}var _={createWithConstructor:p,properties:m,createRxDocumentConstructor:h,basePrototype:s,isInstanceOf:v};exports.default=_;
},{"object-path":"kzoD","rxjs":"iRqj","rxjs/operators":"cVrl","./util":"fx0o","./rx-change-event":"TsdW","./rx-error":"iwQ4","./hooks":"ZLkX"}],"hw9e":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getEncryptedPaths=h,exports.hasCrypt=c,exports.getIndexes=p,exports.getPrimary=f,exports.getPreviousVersions=d,exports.getFinalFields=l,exports.normalize=y,exports.createRxSchema=v,exports.isInstanceOf=j,exports.RxSchema=void 0;var e=a(require("@babel/runtime/helpers/createClass")),t=a(require("object-path")),r=a(require("deep-equal")),n=require("./util"),i=require("./rx-error"),s=require("./hooks"),o=require("./rx-document");function a(e){return e&&e.__esModule?e:{default:e}}var u=function(){function s(e){this.jsonID=e,this.compoundIndexes=this.jsonID.compoundIndexes,this.indexes=p(this.jsonID),this.primaryPath=f(this.jsonID),this.primaryPath&&this.jsonID.required.push(this.primaryPath),this.finalFields=l(this.jsonID),this.jsonID.required=this.jsonID.required.concat(this.finalFields).filter(function(e,t,r){return r.indexOf(e)===t}),this.jsonID.properties[this.primaryPath]||(this.jsonID.properties[this.primaryPath]={type:"string",minLength:1})}var a=s.prototype;return a.getSchemaByObjectPath=function(e){var r=e;return r="properties."+(r=r.replace(/\./g,".properties.")),r=(0,n.trimDots)(r),t.default.get(this.jsonID,r)},a.validateChange=function(e,t){this.finalFields.forEach(function(n){if(!(0,r.default)(e[n],t[n]))throw(0,i.newRxError)("DOC9",{dataBefore:e,dataAfter:t,fieldName:n})})},a.validate=function(e,t){throw(0,n.pluginMissing)("validate")},a.fillObjectWithDefaults=function(e){return e=(0,n.clone)(e),Object.entries(this.defaultValues).filter(function(t){var r=t[0];return!e.hasOwnProperty(r)||void 0===e[r]}).forEach(function(t){var r=t[0],n=t[1];return e[r]=n}),e},a.swapIdToPrimary=function(e){return"_id"===this.primaryPath||e[this.primaryPath]?e:(e[this.primaryPath]=e._id,delete e._id,e)},a.swapPrimaryToId=function(e){var t=this;if("_id"===this.primaryPath)return e;var r={};return Object.entries(e).forEach(function(e){var n=e[0]===t.primaryPath?"_id":e[0];r[n]=e[1]}),r},a.doKeyCompression=function(){return this.jsonID.keyCompression},a.getDocumentPrototype=function(){if(!this._getDocumentPrototype){var e={};(0,o.defineGetterSetter)(this,e,""),this._getDocumentPrototype=e}return this._getDocumentPrototype},(0,e.default)(s,[{key:"version",get:function(){return this.jsonID.version}},{key:"crypt",get:function(){return this._crypt||(this._crypt=c(this.jsonID)),this._crypt}},{key:"normalized",get:function(){return this._normalized||(this._normalized=y(this.jsonID)),this._normalized}},{key:"topLevelFields",get:function(){return Object.keys(this.normalized.properties)}},{key:"defaultValues",get:function(){var e=this;return this._defaultValues||(this._defaultValues={},Object.entries(this.normalized.properties).filter(function(e){return e[1].hasOwnProperty("default")}).forEach(function(t){var r=t[0],n=t[1];return e._defaultValues[r]=n.default})),this._defaultValues}},{key:"encryptedPaths",get:function(){return this._encryptedPaths||(this._encryptedPaths=h(this.jsonID)),this._encryptedPaths}},{key:"hash",get:function(){return this._hash||(this._hash=(0,n.hash)(this.normalized)),this._hash}}]),s}();function h(e){var t={};return function e(r,n){"object"==typeof r&&(r.encrypted?t[n.substring(1)]=r:Object.keys(r).forEach(function(t){var i=n;"properties"!==t&&(i=i+"."+t),e(r[t],i)}))}(e.properties,""),t}function c(e){var t=h(e);return Object.keys(t).length>0}function p(e){var r=(0,n.flattenObject)(e),i=Object.keys(r).map(function(e){var t=e.split(".");return t.pop(),t.join(".")}).filter(function(e){return""!==e}).filter(function(e,t,r){return r.indexOf(e)===t}).filter(function(r){return!!t.default.get(e,r).index}).map(function(e){return e=(e=e.replace("properties.","")).replace(/\.properties\./g,"."),[(0,n.trimDots)(e)]}),s=e.compoundIndexes||[];return i=i.concat(s)}function f(e){var t=Object.keys(e.properties).filter(function(t){return e.properties[t].primary}).shift();return t||"_id"}function d(e){var t=e.version?e.version:0,r=0;return new Array(t).fill(0).map(function(){return r++})}function l(e){var t=Object.keys(e.properties).filter(function(t){return e.properties[t].final});return t.push(f(e)),t}function y(e){return(0,n.sortObject)((0,n.clone)(e))}exports.RxSchema=u;var m=function(e){return(e=(0,n.clone)(e)).additionalProperties=!1,e.hasOwnProperty("keyCompression")||(e.keyCompression=!1),e.compoundIndexes=e.compoundIndexes||[],e.required=e.required||[],e.properties._rev={type:"string",minLength:1},e.properties._attachments={type:"object"},e.version=e.version||0,e};function v(e){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(0,s.runPluginHooks)("preCreateRxSchema",e);var t=new u(m(e));return(0,s.runPluginHooks)("createRxSchema",t),t}function j(e){return e instanceof u}
},{"@babel/runtime/helpers/createClass":"MCuf","object-path":"kzoD","deep-equal":"koiw","./util":"fx0o","./rx-error":"iwQ4","./hooks":"ZLkX","./rx-document":"N09Y"}],"lC2b":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=s,exports.default=exports.Crypter=void 0;var e=r(require("object-path")),t=require("./util");function r(e){return e&&e.__esModule?e:{default:e}}var n=function(){function r(e,t){this.password=e,this.schema=t}var n=r.prototype;return n._encryptValue=function(e){throw(0,t.pluginMissing)("encryption")},n._decryptValue=function(e){throw(0,t.pluginMissing)("encryption")},n.encrypt=function(r){var n=this;return r=(0,t.clone)(r),this.password?(Object.keys(this.schema.encryptedPaths).forEach(function(t){var s=e.default.get(r,t);if(void 0!==s){var i=n._encryptValue(s);e.default.set(r,t,i)}}),r):r},n.decrypt=function(r){var n=this;return r=(0,t.clone)(r),this.password?(Object.keys(this.schema.encryptedPaths).forEach(function(t){var s=e.default.get(r,t);if(void 0!==s){var i=n._decryptValue(s);e.default.set(r,t,i)}}),r):r},r}();function s(e,t){return new n(e,t)}exports.Crypter=n;var i={create:s,Crypter:n};exports.default=i;
},{"object-path":"kzoD","./util":"fx0o"}],"o4Tf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.merge=t,exports.mergeClone=o,exports.isObject=r;var e=require("../util");function t(e,o){Object.keys(o).forEach(function(c){void 0===e[c]?e[c]=o[c]:r(o[c])?t(e[c],o[c]):e[c]=o[c]})}function o(t,c){Object.keys(c).forEach(function(n){void 0===t[n]?t[n]=(0,e.clone)(c[n]):r(c[n])?o(t[n],c[n]):t[n]=(0,e.clone)(c[n])})}function r(e){return"[object Object]"===e.toString()}
},{"../util":"fx0o"}],"hWnt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createMQuery=n,exports.canMerge=h,exports.MQueryBase=void 0;var t=require("./mquery_utils"),i=require("../rx-error"),r=require("../util"),e=function(){function e(t){this.options={},this._conditions={},t&&this.find(t)}var n=e.prototype;return n.clone=function(){var t=new e;return Object.entries(this).forEach(function(i){var e=i[0],n=i[1];return t[e]=(0,r.clone)(n)}),t},n.where=function(t,r){if(!arguments.length)return this;var e=typeof arguments[0];if("string"===e)return this._path=arguments[0],2===arguments.length&&(this._conditions[this._path]=arguments[1]),this;if("object"===e&&!Array.isArray(arguments[0]))return this.merge(arguments[0]);throw(0,i.newRxTypeError)("MQ1",{path:arguments[0]})},n.equals=function(t){this._ensurePath("equals");var i=this._path;return this._conditions[i]=t,this},n.eq=function(t){this._ensurePath("eq");var i=this._path;return this._conditions[i]=t,this},n.or=function(t){var i=this._conditions.$or||(this._conditions.$or=[]);return Array.isArray(t)||(t=[t]),i.push.apply(i,t),this},n.nor=function(t){var i=this._conditions.$nor||(this._conditions.$nor=[]);return Array.isArray(t)||(t=[t]),i.push.apply(i,t),this},n.and=function(t){var i=this._conditions.$and||(this._conditions.$and=[]);return Array.isArray(t)||(t=[t]),i.push.apply(i,t),this},n.mod=function(t,i){var r,e;return 1===arguments.length?(this._ensurePath("mod"),r=arguments[0],e=this._path):2!==arguments.length||Array.isArray(arguments[1])?3===arguments.length?(r=arguments.slice(1),e=arguments[0]):(r=arguments[1],e=arguments[0]):(this._ensurePath("mod"),r=arguments.slice(),e=this._path),(this._conditions[e]||(this._conditions[e]={})).$mod=r,this},n.exists=function(t,i){var r,e;return 0===arguments.length?(this._ensurePath("exists"),r=this._path,e=!0):1===arguments.length?"boolean"==typeof arguments[0]?(this._ensurePath("exists"),r=this._path,e=arguments[0]):(r=arguments[0],e=!0):2===arguments.length&&(r=arguments[0],e=arguments[1]),(this._conditions[r]||(this._conditions[r]={})).$exists=e,this},n.elemMatch=function(r,n){if(null===arguments[0])throw(0,i.newRxTypeError)("MQ2");var s,o,h;if("function"==typeof arguments[0])this._ensurePath("elemMatch"),o=this._path,s=arguments[0];else if((0,t.isObject)(arguments[0]))this._ensurePath("elemMatch"),o=this._path,h=arguments[0];else if("function"==typeof arguments[1])o=arguments[0],s=arguments[1];else{if(!arguments[1]||!(0,t.isObject)(arguments[1]))throw(0,i.newRxTypeError)("MQ2");o=arguments[0],h=arguments[1]}return s&&(s(h=new e),h=h._conditions),(this._conditions[o]||(this._conditions[o]={})).$elemMatch=h,this},n.sort=function(r){var e,n=this;if(!r)return this;var h=typeof r;if(Array.isArray(r)){e=r.length;for(var a=0;a<r.length;++a)o(this.options,r[a][0],r[a][1]);return this}if(1===arguments.length&&"string"===h){e=(r=r.split(/\s+/)).length;for(var c=0;c<e;++c){var u=r[c];if(u){var f="-"===u[0]?-1:1;-1===f&&(u=u.substring(1)),s(this.options,u,f)}}return this}if((0,t.isObject)(r))return Object.keys(r).forEach(function(t){return s(n.options,t,r[t])}),this;throw(0,i.newRxTypeError)("MQ3",{args:arguments})},n.merge=function(r){if(!r)return this;if(!h(r))throw(0,i.newRxTypeError)("MQ4",{source:r});return r instanceof e?(r._conditions&&(0,t.merge)(this._conditions,r._conditions),r._fields&&(this._fields||(this._fields={}),(0,t.merge)(this._fields,r._fields)),r.options&&(this.options||(this.options={}),(0,t.merge)(this.options,r.options)),r._update&&(this._update||(this._update={}),(0,t.mergeClone)(this._update,r._update)),r._distinct&&(this._distinct=r._distinct),this):((0,t.merge)(this._conditions,r),this)},n.find=function(t){return h(t)&&this.merge(t),this},n._ensurePath=function(t){if(!this._path)throw(0,i.newRxError)("MQ5",{method:t})},e}();function n(t){return new e(t)}function s(t,r,e){if(Array.isArray(t.sort))throw(0,i.newRxTypeError)("MQ6",{opts:t,field:r,value:e});if(e&&e.$meta){(t.sort||(t.sort={}))[r]={$meta:e.$meta}}else{var n=String(e||1).toLowerCase();if(!/^(?:ascending|asc|descending|desc|1|-1)$/.test(n))throw Array.isArray(e)&&(e="["+e+"]"),(0,i.newRxTypeError)("MQ7",{field:r,value:e});var s=t.sort||(t.sort={}),o=e.toString().replace("asc","1").replace("ascending","1").replace("desc","-1").replace("descending","-1");s[r]=parseInt(o,10)}}function o(t,r,e){if(t.sort=t.sort||[],!Array.isArray(t.sort))throw(0,i.newRxTypeError)("MQ8",{opts:t,field:r,value:e});t.sort.push([r,e])}function h(i){return i instanceof e||(0,t.isObject)(i)}exports.MQueryBase=e,["limit","skip","maxScan","batchSize","comment"].forEach(function(t){e.prototype[t]=function(i){return this.options[t]=i,this}}),["gt","gte","lt","lte","ne","in","nin","all","regex","size"].forEach(function(t){e.prototype[t]=function(){var i,r;return 1===arguments.length?(this._ensurePath(t),r=arguments[0],i=this._path):(r=arguments[1],i=arguments[0]),(null===this._conditions[i]||"object"==typeof this._conditions[i]?this._conditions[i]:this._conditions[i]={})["$"+t]=r,this}});
},{"./mquery_utils":"o4Tf","../rx-error":"iwQ4","../util":"fx0o"}],"YT9Y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocumentPrototype=n,exports.getRxDocumentConstructor=c,exports.createRxDocument=u,exports.createRxDocuments=a,exports.getDocumentOrmPrototype=s;var e=require("./rx-document"),t=require("./hooks"),r=new WeakMap,o=new WeakMap;function n(t){if(!r.has(t)){var o=t.schema.getDocumentPrototype(),n=s(t),c=e.basePrototype,u={};[o,n,c].forEach(function(e){Object.getOwnPropertyNames(e).forEach(function(t){var r=Object.getOwnPropertyDescriptor(e,t),o=!0;(t.startsWith("_")||t.endsWith("_")||t.startsWith("$")||t.endsWith("$"))&&(o=!1),"function"==typeof r.value?Object.defineProperty(u,t,{get:function(){return r.value.bind(this)},enumerable:o,configurable:!1}):(r.enumerable=o,r.configurable=!1,r.writable&&(r.writable=!1),Object.defineProperty(u,t,r))})}),r.set(t,u)}return r.get(t)}function c(t){if(!o.has(t)){var r=(0,e.createRxDocumentConstructor)(n(t));o.set(t,r)}return o.get(t)}function u(r,o){var n=o[r.schema.primaryPath],u=r._docCache.get(n);if(u)return u;var a=(0,e.createWithConstructor)(c(r),r,o);return r._docCache.set(n,a),r._runHooksSync("post","create",o,a),(0,t.runPluginHooks)("postCreateRxDocument",a),a}function a(e,t){return t.map(function(t){return u(e,t)})}function s(e){var t={};return Object.entries(e.methods).forEach(function(e){var r=e[0],o=e[1];t[r]=o}),t}
},{"./rx-document":"N09Y","./hooks":"ZLkX"}],"HG6H":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createRxQuery=d,exports.isInstanceOf=E,exports.RxQueryBase=void 0;var e=h(require("@babel/runtime/helpers/createClass")),t=h(require("deep-equal")),r=require("rxjs"),n=require("rxjs/operators"),i=require("pouchdb-selector-core"),o=require("./mquery/mquery"),s=require("./util"),u=require("./query-change-detector"),c=require("./rx-error"),a=require("./hooks"),l=require("./rx-document-prototype-merge");function h(e){return e&&e.__esModule?e:{default:e}}var f=0,y=function(){return++f},m=function(){function t(e,t,n){this.id=y(),this._latestChangeEvent=-1,this._resultsData=null,this._resultsDocs$=new r.BehaviorSubject(null),this._execOverDatabaseCount=0,this._ensureEqualQueue=Promise.resolve(!1),this.op=e,this.queryObj=t,this.collection=n,this._queryChangeDetector=(0,u.create)(this),t||(t=p(this.collection)),this.mquery=(0,o.createMQuery)(t)}var a=t.prototype;return a.toString=function(){if(!this.stringRep){var e=(0,s.sortObject)({op:this.op,options:this.mquery.options,_conditions:this.mquery._conditions,_path:this.mquery._path,_fields:this.mquery._fields},!0);this.stringRep=JSON.stringify(e,s.stringifyFilter)}return this.stringRep},a._clone=function(){var e=new t(this.op,p(this.collection),this.collection);return e.mquery=this.mquery.clone(),e},a._setResultData=function(e){this._resultsData=e;var t=(0,l.createRxDocuments)(this.collection,this._resultsData);return this._resultsDocs$.next(t),t},a._execOverDatabase=function(){var e;switch(this._execOverDatabaseCount=this._execOverDatabaseCount+1,this.op){case"find":e=this.collection._pouchFind(this);break;case"findOne":e=this.collection._pouchFind(this,1);break;default:throw(0,c.newRxError)("QU1",{op:this.op})}return e},a.exec=function(){var e=this;return x(this).then(function(){return e.$.pipe((0,n.first)()).toPromise()})},a.toJSON=function(){if(this._toJSON)return this._toJSON;var e=this.collection.schema.primaryPath,t={selector:this.mquery._conditions},r=(0,s.clone)(this.mquery.options);if(r.sort){var n=[];Object.keys(r.sort).map(function(t){var i="asc";-1===r.sort[t]&&(i="desc");var o={};t===e&&(t="_id"),o[t]=i,n.push(o)}),t.sort=n}if(r.limit){if("number"!=typeof r.limit)throw(0,c.newRxTypeError)("QU2",{limit:r.limit});t.limit=r.limit}if(r.skip){if("number"!=typeof r.skip)throw(0,c.newRxTypeError)("QU3",{skip:r.skip});t.skip=r.skip}return Object.entries(t.selector).filter(function(e){return"object"==typeof e[1]}).filter(function(e){return null!==e[1]}).filter(function(e){var t=e[1];return!Array.isArray(t)}).filter(function(e){var t=e[1];return 0===Object.keys(t).length}).forEach(function(e){var r=e[0];return delete t.selector[r]}),"_id"!==e&&t.selector[e]&&(t.selector._id=t.selector[e],delete t.selector[e]),0===Object.keys(t.selector).length&&(t.selector={_id:{}}),this._toJSON=t,this._toJSON},a.keyCompress=function(){return this.collection.schema.doKeyCompression()?(this._keyCompress||(this._keyCompress=this.collection._keyCompressor.compressQuery(this.toJSON())),this._keyCompress):this.toJSON()},a.doesDocumentDataMatch=function(e){if(e._deleted)return!1;var t=this.mquery._conditions;e=this.collection.schema.swapPrimaryToId(e);var r=Object.keys(t);return(0,i.rowFilter)(e,this.massageSelector,r)},a.remove=function(){var e;return this.exec().then(function(t){return e=t,Array.isArray(t)?Promise.all(t.map(function(e){return e.remove()})):t.remove()}).then(function(){return e})},a.update=function(e){throw(0,s.pluginMissing)("update")},a.regex=function(e){var t=this._clone();if(this.mquery._path===this.collection.schema.primaryPath)throw(0,c.newRxError)("QU4",{path:this.mquery._path});return t.mquery.regex(e),_(t)},a.sort=function(e){var t=this._clone();if("object"!=typeof e){var r="-"===e.charAt(0)?e.substring(1):e;t.mquery._conditions[r]||b(r,t)}else Object.keys(e).filter(function(e){return!t.mquery._conditions[e]||!t.mquery._conditions[e].$gt}).forEach(function(e){return b(e,t)});return t.mquery.sort(e),_(t)},a.limit=function(e){if("findOne"===this.op)throw(0,c.newRxError)("QU6");var t=this._clone();return t.mquery.limit(e),_(t)},(0,e.default)(t,[{key:"$",get:function(){var e=this;if(!this._$){var t=this._resultsDocs$.pipe((0,n.mergeMap)(function(t){return x(e).then(function(e){return!e&&t})}),(0,n.filter)(function(e){return!!e}),(0,n.map)(function(t){return"findOne"===e.op?0===t.length?null:t[0]:t}),(0,n.map)(function(e){return Array.isArray(e)?e.slice():e})).asObservable(),i=this.collection.docChanges$.pipe((0,n.tap)(function(){return x(e)}),(0,n.filter)(function(){return!1}));this._$=(0,r.merge)(t,i)}return this._$}},{key:"massageSelector",get:function(){if(!this._massageSelector){var e=this.mquery._conditions;this._massageSelector=(0,i.massageSelector)(e)}return this._massageSelector}}]),t}();function p(e){var t;return(t={})[e.schema.primaryPath]={},t}function _(e){return e.collection._queryCache.getByQuery(e)}function v(e,t){t.filter(function(e){return!e.startsWith("_")}).filter(function(t){return!e[t]}).forEach(function(t){e[t]=function(e){var r=this._clone();return r.mquery[t](e),_(r)}})}exports.RxQueryBase=m;var g=!1;function d(e,t,r){if(t&&"object"!=typeof t)throw(0,c.newRxTypeError)("QU7",{queryObj:t});if(Array.isArray(t))throw(0,c.newRxTypeError)("QU8",{queryObj:t});var n=new m(e,t,r);return n=_(n),g||(g=!0,v(Object.getPrototypeOf(n),Object.getOwnPropertyNames(Object.getPrototypeOf(n.mquery)))),(0,a.runPluginHooks)("createRxQuery",n),n}function q(e){throw(0,c.newRxError)("QU5",{key:e})}function b(e,t){var r=t.collection.schema.getSchemaByObjectPath(e);switch(r||q(e),r.type){case"integer":t.mquery.where(e).gt(-1e28);break;case"string":t.mquery.where(e).gt("");break;default:t.mquery.where(e).gt(null)}}function O(e){return e._latestChangeEvent>=e.collection._changeEventBuffer.counter}function x(e){return e._ensureEqualQueue=e._ensureEqualQueue.then(function(){return new Promise(function(e){return setTimeout(e,0)})}).then(function(){return w(e)}).then(function(e){return new Promise(function(e){return setTimeout(e,0)}).then(function(){return e})}),e._ensureEqualQueue}function w(e){if(e.collection.database.destroyed)return!1;if(O(e))return!1;var r=!1,n=!1;if(-1===e._latestChangeEvent&&(n=!0),!n){var i=e.collection._changeEventBuffer.getFrom(e._latestChangeEvent+1);if(null===i)n=!0;else{e._latestChangeEvent=e.collection._changeEventBuffer.counter;var o=e.collection._changeEventBuffer.reduceByLastOfDoc(i),s=e._queryChangeDetector.runChangeDetection(o);!Array.isArray(s)&&s&&(n=!0),Array.isArray(s)&&!(0,t.default)(s,e._resultsData)&&(r=!0,e._setResultData(s))}}if(n){var u=e.collection._changeEventBuffer.counter;return e._execOverDatabase().then(function(n){return e._latestChangeEvent=u,(0,t.default)(n,e._resultsData)||(r=!0,e._setResultData(n)),r})}return r}function E(e){return e instanceof m}
},{"@babel/runtime/helpers/createClass":"MCuf","deep-equal":"koiw","rxjs":"iRqj","rxjs/operators":"cVrl","pouchdb-selector-core":"C9XX","./mquery/mquery":"hWnt","./util":"fx0o","./query-change-detector":"gYd7","./rx-error":"iwQ4","./hooks":"ZLkX","./rx-document-prototype-merge":"YT9Y"}],"p4HA":[function(require,module,exports) {
"use strict";function e(e){for(var r,s,t,o,n=e.rev_tree.slice();o=n.pop();){var i=o.ids,p=i[2],a=o.pos;if(p.length)for(var l=0,f=p.length;l<f;l++)n.push({pos:a+1,ids:p[l]});else{var u=!!i[1].deleted,v=i[0];r&&!(t!==u?t:s!==a?s<a:r<v)||(r=v,s=a,t=u)}}return s+"-"+r}function r(e,r){for(var s,t=e.slice();s=t.pop();)for(var o=s.pos,n=s.ids,i=n[2],p=r(0===i.length,o,n[0],s.ctx,n[1]),a=0,l=i.length;a<l;a++)t.push({pos:o+1,ids:i[a],ctx:p})}function s(e,r){return e.pos-r.pos}function t(e){var t=[];r(e,function(e,r,s,o,n){e&&t.push({rev:r+"-"+s,pos:r,opts:n})}),t.sort(s).reverse();for(var o=0,n=t.length;o<n;o++)delete t[o].pos;return t}function o(r){for(var s=e(r),o=t(r.rev_tree),n=[],i=0,p=o.length;i<p;i++){var a=o[i];a.rev===s||a.opts.deleted||n.push(a.rev)}return n}function n(e){var s=[];return r(e.rev_tree,function(e,r,t,o,n){"available"!==n.status||e||(s.push(r+"-"+t),n.status="missing")}),s}function i(e){for(var r,s=[],t=e.slice();r=t.pop();){var o=r.pos,n=r.ids,i=n[0],p=n[1],a=n[2],l=0===a.length,f=r.history?r.history.slice():[];f.push({id:i,opts:p}),l&&s.push({pos:o+1-f.length,ids:f});for(var u=0,v=a.length;u<v;u++)t.push({pos:o+1,ids:a[u],history:f})}return s.reverse()}function p(e,r){return e.pos-r.pos}function a(e,r,s){for(var t,o=0,n=e.length;o<n;)s(e[t=o+n>>>1],r)<0?o=t+1:n=t;return o}function l(e,r,s){var t=a(e,r,s);e.splice(t,0,r)}function f(e,r){for(var s,t,o=r,n=e.length;o<n;o++){var i=e[o],p=[i.id,i.opts,[]];t?(t[2].push(p),t=p):s=t=p}return s}function u(e,r){return e[0]<r[0]?-1:1}function v(e,r){for(var s=[{tree1:e,tree2:r}],t=!1;s.length>0;){var o=s.pop(),n=o.tree1,i=o.tree2;(n[1].status||i[1].status)&&(n[1].status="available"===n[1].status||"available"===i[1].status?"available":"missing");for(var p=0;p<i[2].length;p++)if(n[2][0]){for(var a=!1,f=0;f<n[2].length;f++)n[2][f][0]===i[2][p][0]&&(s.push({tree1:n[2][f],tree2:i[2][p]}),a=!0);a||(t="new_branch",l(n[2],i[2][p],u))}else t="new_leaf",n[2][0]=i[2][p]}return{conflicts:t,tree:e}}function c(e,r,s){var t,o=[],n=!1,i=!1;if(!e.length)return{tree:[r],conflicts:"new_leaf"};for(var a=0,l=e.length;a<l;a++){var f=e[a];if(f.pos===r.pos&&f.ids[0]===r.ids[0])t=v(f.ids,r.ids),o.push({pos:f.pos,ids:t.tree}),n=n||t.conflicts,i=!0;else if(!0!==s){var u=f.pos<r.pos?f:r,c=f.pos<r.pos?r:f,d=c.pos-u.pos,h=[],g=[];for(g.push({ids:u.ids,diff:d,parent:null,parentIdx:null});g.length>0;){var x=g.pop();if(0!==x.diff)for(var _=x.ids[2],b=0,y=_.length;b<y;b++)g.push({ids:_[b],diff:x.diff-1,parent:x.ids,parentIdx:b});else x.ids[0]===c.ids[0]&&h.push(x)}var m=h[0];m?(t=v(m.ids,c.ids),m.parent[2][m.parentIdx]=t.tree,o.push({pos:u.pos,ids:u.ids}),n=n||t.conflicts,i=!0):o.push(f)}else o.push(f)}return i||o.push(r),o.sort(p),{tree:o,conflicts:n||"internal_node"}}function d(e,s){for(var t,o,n=i(e),p=0,a=n.length;p<a;p++){var l,u=n[p],v=u.ids;if(v.length>s){t||(t={});var d=v.length-s;l={pos:u.pos+d,ids:f(v,d)};for(var h=0;h<d;h++){var g=u.pos+h+"-"+v[h].id;t[g]=!0}}else l={pos:u.pos,ids:f(v,0)};o=o?c(o,l,!0).tree:[l]}return t&&r(o,function(e,r,s){delete t[r+"-"+s]}),{tree:o,revs:t?Object.keys(t):[]}}function h(e,r,s){var t=c(e,r),o=d(t.tree,s);return{tree:o.tree,stemmedRevs:o.revs,conflicts:t.conflicts}}function g(e,r){for(var s,t=e.slice(),o=r.split("-"),n=parseInt(o[0],10),i=o[1];s=t.pop();){if(s.pos===n&&s.ids[0]===i)return!0;for(var p=s.ids[2],a=0,l=p.length;a<l;a++)t.push({pos:s.pos+1,ids:p[a]})}return!1}function x(e){return e.ids}function _(r,s){s||(s=e(r));for(var t,o=s.substring(s.indexOf("-")+1),n=r.rev_tree.map(x);t=n.pop();){if(t[0]===o)return!!t[1].deleted;n=n.concat(t[2])}}function b(e){return/^_local/.test(e)}function y(e,r){for(var s,t=r.rev_tree.slice();s=t.pop();){var o=s.pos,n=s.ids,i=n[0],p=n[1],a=n[2],l=0===a.length,f=s.history?s.history.slice():[];if(f.push({id:i,pos:o,opts:p}),l)for(var u=0,v=f.length;u<v;u++){var c=f[u];if(c.pos+"-"+c.id===e)return o+"-"+i}for(var d=0,h=a.length;d<h;d++)t.push({pos:o+1,ids:a[d],history:f})}throw new Error("Unable to resolve latest revision for id "+r.id+", rev "+e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.collectConflicts=o,exports.collectLeaves=t,exports.compactTree=n,exports.isDeleted=_,exports.isLocalId=b,exports.merge=h,exports.revExists=g,exports.rootToLeaf=i,exports.traverseRevTree=r,exports.winningRev=e,exports.latest=y;
},{}],"o28F":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbortController=exports.Headers=exports.fetch=void 0;var e="undefined"!=typeof AbortController?AbortController:function(){return{abort:function(){}}};exports.AbortController=e;var r=fetch;exports.fetch=r;var t=Headers;exports.Headers=t;
},{}],"WT8M":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("pouchdb-errors"),r=require("pouchdb-selector-core"),t=require("pouchdb-utils");function i(e){return(0,t.scopeEval)('"use strict";\nreturn '+e+";",{})}function n(e){var r=["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+e+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n");return(0,t.scopeEval)(r,{})}function o(e,r){if(e.selector&&e.filter&&"_selector"!==e.filter){var t="string"==typeof e.filter?e.filter:"function";return r(new Error('selector invalid for filter "'+t+'"'))}r()}function s(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=(0,t.normalizeDdocFunctionName)(e.view):e.filter=(0,t.normalizeDdocFunctionName)(e.filter))}function l(e,r){return r.filter&&"string"==typeof r.filter&&!r.doc_ids&&!(0,t.isRemote)(e.db)}function f(o,s){var l=s.complete;if("_view"===s.filter){if(!s.view||"string"!=typeof s.view){var f=(0,e.createError)(e.BAD_REQUEST,"`view` filter parameter not found or invalid.");return l(f)}var c=(0,t.parseDdocFunctionName)(s.view);o.db.get("_design/"+c[0],function(r,t){if(o.isCancelled)return l(null,{status:"cancelled"});if(r)return l((0,e.generateErrorFromResponse)(r));var i=t&&t.views&&t.views[c[1]]&&t.views[c[1]].map;if(!i)return l((0,e.createError)(e.MISSING_DOC,t.views?"missing json key: "+c[1]:"missing json key: views"));s.filter=n(i),o.doChanges(s)})}else if(s.selector)s.filter=function(e){return(0,r.matchesSelector)(e,s.selector)},o.doChanges(s);else{var u=(0,t.parseDdocFunctionName)(s.filter);o.db.get("_design/"+u[0],function(r,t){if(o.isCancelled)return l(null,{status:"cancelled"});if(r)return l((0,e.generateErrorFromResponse)(r));var n=t&&t.filters&&t.filters[u[1]];if(!n)return l((0,e.createError)(e.MISSING_DOC,t&&t.filters?"missing json key: "+u[1]:"missing json key: filters"));s.filter=i(n),o.doChanges(s)})}}function c(e){e._changesFilterPlugin={validate:o,normalize:s,shouldFilter:l,filter:f}}var u=c;exports.default=u;
},{"pouchdb-errors":"qncM","pouchdb-selector-core":"C9XX","pouchdb-utils":"mY35"}],"fR4A":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("pouchdb-collections"),t=u(require("argsarray")),n=require("pouchdb-merge"),r=require("pouchdb-errors"),i=require("pouchdb-utils"),o=u(require("inherits")),a=require("events"),s=require("pouchdb-fetch"),c=u(require("pouchdb-changes-filter"));function u(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,r){try{e.emit("change",t,n,r)}catch(o){(0,i.guardedConsole)("error",'Error in .on("change", function):',o)}}function d(e,t,n){a.EventEmitter.call(this);var r=this;this.db=e;var o=(t=t?(0,i.clone)(t):{}).complete=(0,i.once)(function(t,n){t?(0,i.listenerCount)(r,"error")>0&&r.emit("error",t):r.emit("complete",n),r.removeAllListeners(),e.removeListener("destroyed",s)});function s(){r.cancel()}n&&(r.on("complete",function(e){n(null,e)}),r.on("error",n)),e.once("destroyed",s),t.onChange=function(e,t,n){r.isCancelled||f(r,e,t,n)};var c=new Promise(function(e,n){t.complete=function(t,r){t?n(t):e(r)}});r.once("cancel",function(){e.removeListener("destroyed",s),t.complete(null,{status:"cancelled"})}),this.then=c.then.bind(c),this.catch=c.catch.bind(c),this.then(function(e){o(null,e)},o),e.taskqueue.isReady?r.validateChanges(t):e.taskqueue.addTask(function(e){e?t.complete(e):r.isCancelled?r.emit("cancel"):r.validateChanges(t)})}function l(e,t,r){var i=[{rev:e._rev}];"all_docs"===r.style&&(i=(0,n.collectLeaves)(t.rev_tree).map(function(e){return{rev:e.rev}}));var o={id:t.id,changes:i,doc:e};return(0,n.isDeleted)(t,e._rev)&&(o.deleted=!0),r.conflicts&&(o.doc._conflicts=(0,n.collectConflicts)(t),o.doc._conflicts.length||delete o.doc._conflicts),o}function p(e,t){return e<t?-1:e>t?1:0}function h(e,t){return function(n,r){n||r[0]&&r[0].error?((n=n||r[0]).docId=t,e(n)):e(null,r.length?r[0]:r)}}function _(e){for(var t=0;t<e.length;t++){var n=e[t];if(n._deleted)delete n._attachments;else if(n._attachments)for(var r=Object.keys(n._attachments),o=0;o<r.length;o++){var a=r[o];n._attachments[a]=(0,i.pick)(n._attachments[a],["data","digest","content_type","length","revpos","stub"])}}}function v(e,t){var n=p(e._id,t._id);return 0!==n?n:p(e._revisions?e._revisions.start:0,t._revisions?t._revisions.start:0)}function m(e){var t={},r=[];return(0,n.traverseRevTree)(e,function(e,n,i,o){var a=n+"-"+i;return e&&(t[a]=0),void 0!==o&&r.push({from:o,to:a}),a}),r.reverse(),r.forEach(function(e){void 0===t[e.from]?t[e.from]=1+t[e.to]:t[e.from]=Math.min(t[e.from],1+t[e.to])}),t}function y(e){var t="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;e.keys=t,e.skip=0,delete e.limit,e.descending&&(t.reverse(),e.descending=!1)}function g(e){var t=e._compactionQueue[0],n=t.opts,r=t.callback;e.get("_local/compaction").catch(function(){return!1}).then(function(t){t&&t.last_seq&&(n.last_seq=t.last_seq),e._compact(n,function(t,n){t?r(t):r(null,n),(0,i.nextTick)(function(){e._compactionQueue.shift(),e._compactionQueue.length&&g(e)})})})}function b(e){return"_"===e.charAt(0)&&e+" is not a valid attachment name, attachment names cannot start with '_'"}function k(){for(var e in a.EventEmitter.call(this),k.prototype)"function"==typeof this[e]&&(this[e]=this[e].bind(this))}function E(){this.isReady=!1,this.failed=!1,this.queue=[]}function w(e,t){var n=e.match(/([a-z-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var r=D.adapters,o=D.preferredAdapters,a=D.prefix,s=t.adapter;if(!s)for(var c=0;c<o.length&&("idb"===(s=o[c])&&"websql"in r&&(0,i.hasLocalStorage)()&&localStorage["_pouch__websqldb_"+a+e]);++c)(0,i.guardedConsole)("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var u=r[s];return{name:!(u&&"use_prefix"in u)||u.use_prefix?a+e:e,adapter:s}}function A(e){function t(t){e.removeListener("closed",n),t||e.constructor.emit("destroyed",e.name)}function n(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",n),e.constructor.emit("ref",e)}function D(e,t){if(!(this instanceof D))return new D(e,t);var n=this;if(t=t||{},e&&"object"==typeof e&&(e=(t=e).name,delete t.name),void 0===t.deterministic_revs&&(t.deterministic_revs=!0),this.__opts=t=(0,i.clone)(t),n.auto_compaction=t.auto_compaction,n.prefix=D.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var r=w((t.prefix||"")+e,t);if(t.name=r.name,t.adapter=t.adapter||r.adapter,n.name=e,n._adapter=t.adapter,D.emit("debug",["adapter","Picked adapter: ",t.adapter]),!D.adapters[t.adapter]||!D.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);k.call(n),n.taskqueue=new E,n.adapter=t.adapter,D.adapters[t.adapter].call(n,t,function(e){if(e)return n.taskqueue.fail(e);A(n),n.emit("created",n),D.emit("created",n.name),n.taskqueue.ready(n)})}(0,o.default)(d,a.EventEmitter),d.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},d.prototype.validateChanges=function(e){var t=e.complete,n=this;D._changesFilterPlugin?D._changesFilterPlugin.validate(e,function(r){if(r)return t(r);n.doChanges(e)}):n.doChanges(e)},d.prototype.doChanges=function(e){var n=this,r=e.complete;if("live"in(e=(0,i.clone)(e))&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=l,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"!==e.since){if(D._changesFilterPlugin){if(D._changesFilterPlugin.normalize(e),D._changesFilterPlugin.shouldFilter(this,e))return D._changesFilterPlugin.filter(this,e)}else["doc_ids","filter","selector","view"].forEach(function(t){t in e&&(0,i.guardedConsole)("warn",'The "'+t+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=r;var o=this.db._changes(e);if(o&&"function"==typeof o.cancel){var a=n.cancel;n.cancel=(0,t.default)(function(e){o.cancel(),a.apply(this,e)})}}else this.db.info().then(function(t){n.isCancelled?r(null,{status:"cancelled"}):(e.since=t.update_seq,n.doChanges(e))},r)},(0,o.default)(k,a.EventEmitter),k.prototype.post=(0,i.adapterFun)("post",function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n((0,r.createError)(r.NOT_AN_OBJECT));this.bulkDocs({docs:[e]},t,h(n,e._id))}),k.prototype.put=(0,i.adapterFun)("put",function(e,t,o){if("function"==typeof t&&(o=t,t={}),"object"!=typeof e||Array.isArray(e))return o((0,r.createError)(r.NOT_AN_OBJECT));if((0,i.invalidIdError)(e._id),(0,n.isLocalId)(e._id)&&"function"==typeof this._putLocal)return e._deleted?this._removeLocal(e,o):this._putLocal(e,o);var a,s,c,u,f=this;function d(n){"function"==typeof f._put&&!1!==t.new_edits?f._put(e,t,n):f.bulkDocs({docs:[e]},t,h(n,e._id))}t.force&&e._rev?(a=e._rev.split("-"),s=a[1],c=parseInt(a[0],10)+1,u=(0,i.rev)(),e._revisions={start:c,ids:[u,s]},e._rev=c+"-"+u,t.new_edits=!1,d(function(t){var n=t?null:{ok:!0,id:e._id,rev:e._rev};o(t,n)})):d(o)}),k.prototype.putAttachment=(0,i.adapterFun)("putAttachment",function(e,t,n,o,a){var s=this;function c(e){var n="_rev"in e?parseInt(e._rev,10):0;return e._attachments=e._attachments||{},e._attachments[t]={content_type:a,data:o,revpos:++n},s.put(e)}return"function"==typeof a&&(a=o,o=n,n=null),void 0===a&&(a=o,o=n,n=null),a||(0,i.guardedConsole)("warn","Attachment",t,"on document",e,"is missing content_type"),s.get(e).then(function(e){if(e._rev!==n)throw(0,r.createError)(r.REV_CONFLICT);return c(e)},function(t){if(t.reason===r.MISSING_DOC.message)return c({_id:e});throw t})}),k.prototype.removeAttachment=(0,i.adapterFun)("removeAttachment",function(e,t,n,i){var o=this;o.get(e,function(e,a){if(e)i(e);else if(a._rev===n){if(!a._attachments)return i();delete a._attachments[t],0===Object.keys(a._attachments).length&&delete a._attachments,o.put(a,i)}else i((0,r.createError)(r.REV_CONFLICT))})}),k.prototype.remove=(0,i.adapterFun)("remove",function(e,t,r,i){var o;"string"==typeof t?(o={_id:e,_rev:t},"function"==typeof r&&(i=r,r={})):(o=e,"function"==typeof t?(i=t,r={}):(i=r,r=t)),(r=r||{}).was_delete=!0;var a={_id:o._id,_rev:o._rev||r.rev,_deleted:!0};if((0,n.isLocalId)(a._id)&&"function"==typeof this._removeLocal)return this._removeLocal(o,i);this.bulkDocs({docs:[a]},r,h(i,a._id))}),k.prototype.revsDiff=(0,i.adapterFun)("revsDiff",function(t,r,i){"function"==typeof r&&(i=r,r={});var o=Object.keys(t);if(!o.length)return i(null,{});var a=0,s=new e.Map;function c(e,t){s.has(e)||s.set(e,{missing:[]}),s.get(e).missing.push(t)}o.map(function(e){this._getRevisionTree(e,function(r,u){if(r&&404===r.status&&"missing"===r.message)s.set(e,{missing:t[e]});else{if(r)return i(r);!function(e,r){var i=t[e].slice(0);(0,n.traverseRevTree)(r,function(t,n,r,o,a){var s=n+"-"+r,u=i.indexOf(s);-1!==u&&(i.splice(u,1),"available"!==a.status&&c(e,s))}),i.forEach(function(t){c(e,t)})}(e,u)}if(++a===o.length){var f={};return s.forEach(function(e,t){f[t]=e}),i(null,f)}})},this)}),k.prototype.bulkGet=(0,i.adapterFun)("bulkGet",function(e,t){(0,i.bulkGetShim)(this,e,t)}),k.prototype.compactDocument=(0,i.adapterFun)("compactDocument",function(e,t,r){var i=this;this._getRevisionTree(e,function(o,a){if(o)return r(o);var s=m(a),c=[],u=[];Object.keys(s).forEach(function(e){s[e]>t&&c.push(e)}),(0,n.traverseRevTree)(a,function(e,t,n,r,i){var o=t+"-"+n;"available"===i.status&&-1!==c.indexOf(o)&&u.push(o)}),i._doCompaction(e,u,r)})}),k.prototype.compact=(0,i.adapterFun)("compact",function(e,t){"function"==typeof e&&(t=e,e={});e=e||{},this._compactionQueue=this._compactionQueue||[],this._compactionQueue.push({opts:e,callback:t}),1===this._compactionQueue.length&&g(this)}),k.prototype._compact=function(e,t){var n=this,r={return_docs:!1,last_seq:e.last_seq||0},o=[];n.changes(r).on("change",function(e){o.push(n.compactDocument(e.id,0))}).on("complete",function(e){var r=e.last_seq;Promise.all(o).then(function(){return(0,i.upsert)(n,"_local/compaction",function(e){return(!e.last_seq||e.last_seq<r)&&(e.last_seq=r,e)})}).then(function(){t(null,{ok:!0})}).catch(t)}).on("error",t)},k.prototype.get=(0,i.adapterFun)("get",function(e,t,i){if("function"==typeof t&&(i=t,t={}),"string"!=typeof e)return i((0,r.createError)(r.INVALID_ID));if((0,n.isLocalId)(e)&&"function"==typeof this._getLocal)return this._getLocal(e,i);var o=[],a=this;function s(){var n=[],r=o.length;if(!r)return i(null,n);o.forEach(function(o){a.get(e,{rev:o,revs:t.revs,latest:t.latest,attachments:t.attachments,binary:t.binary},function(e,t){if(e)n.push({missing:o});else{for(var a,s=0,c=n.length;s<c;s++)if(n[s].ok&&n[s].ok._rev===t._rev){a=!0;break}a||n.push({ok:t})}--r||i(null,n)})})}if(!t.open_revs)return this._get(e,t,function(r,o){if(r)return r.docId=e,i(r);var s=o.doc,c=o.metadata,u=o.ctx;if(t.conflicts){var f=(0,n.collectConflicts)(c);f.length&&(s._conflicts=f)}if((0,n.isDeleted)(c,s._rev)&&(s._deleted=!0),t.revs||t.revs_info){for(var d=s._rev.split("-"),l=parseInt(d[0],10),p=d[1],h=(0,n.rootToLeaf)(c.rev_tree),_=null,v=0;v<h.length;v++){var m=h[v],y=m.ids.map(function(e){return e.id}).indexOf(p);(y===l-1||!_&&-1!==y)&&(_=m)}if(!_)return(r=new Error("invalid rev tree")).docId=e,i(r);var g=_.ids.map(function(e){return e.id}).indexOf(s._rev.split("-")[1])+1,b=_.ids.length-g;if(_.ids.splice(g,b),_.ids.reverse(),t.revs&&(s._revisions={start:_.pos+_.ids.length-1,ids:_.ids.map(function(e){return e.id})}),t.revs_info){var k=_.pos+_.ids.length;s._revs_info=_.ids.map(function(e){return{rev:--k+"-"+e.id,status:e.opts.status}})}}if(t.attachments&&s._attachments){var E=s._attachments,w=Object.keys(E).length;if(0===w)return i(null,s);Object.keys(E).forEach(function(e){this._getAttachment(s._id,e,E[e],{rev:s._rev,binary:t.binary,ctx:u},function(t,n){var r=s._attachments[e];r.data=n,delete r.stub,delete r.length,--w||i(null,s)})},a)}else{if(s._attachments)for(var A in s._attachments)s._attachments.hasOwnProperty(A)&&(s._attachments[A].stub=!0);i(null,s)}});if("all"===t.open_revs)this._getRevisionTree(e,function(e,t){if(e)return i(e);o=(0,n.collectLeaves)(t).map(function(e){return e.rev}),s()});else{if(!Array.isArray(t.open_revs))return i((0,r.createError)(r.UNKNOWN_ERROR,"function_clause"));o=t.open_revs;for(var c=0;c<o.length;c++){var u=o[c];if("string"!=typeof u||!/^\d+-/.test(u))return i((0,r.createError)(r.INVALID_REV))}s()}}),k.prototype.getAttachment=(0,i.adapterFun)("getAttachment",function(e,t,n,i){var o=this;n instanceof Function&&(i=n,n={}),this._get(e,n,function(a,s){return a?i(a):s.doc._attachments&&s.doc._attachments[t]?(n.ctx=s.ctx,n.binary=!0,void o._getAttachment(e,t,s.doc._attachments[t],n,i)):i((0,r.createError)(r.MISSING_DOC))})}),k.prototype.allDocs=(0,i.adapterFun)("allDocs",function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip=void 0!==e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter(function(t){return t in e})[0];if(n)return void t((0,r.createError)(r.QUERY_PARSE_ERROR,"Query parameter `"+n+"` is not compatible with multi-get"));if(!(0,i.isRemote)(this)&&(y(e),0===e.keys.length))return this._allDocs({limit:0},t)}return this._allDocs(e,t)}),k.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),(e=e||{}).return_docs="return_docs"in e?e.return_docs:!e.live,new d(this,e,t)},k.prototype.close=(0,i.adapterFun)("close",function(e){return this._closed=!0,this.emit("closed"),this._close(e)}),k.prototype.info=(0,i.adapterFun)("info",function(e){var t=this;this._info(function(n,r){if(n)return e(n);r.db_name=r.db_name||t.name,r.auto_compaction=!(!t.auto_compaction||(0,i.isRemote)(t)),r.adapter=t.adapter,e(null,r)})}),k.prototype.id=(0,i.adapterFun)("id",function(e){return this._id(e)}),k.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},k.prototype.bulkDocs=(0,i.adapterFun)("bulkDocs",function(e,t,n){if("function"==typeof t&&(n=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return n((0,r.createError)(r.MISSING_BULK_DOCS));for(var o=0;o<e.docs.length;++o)if("object"!=typeof e.docs[o]||Array.isArray(e.docs[o]))return n((0,r.createError)(r.NOT_AN_OBJECT));var a;if(e.docs.forEach(function(e){e._attachments&&Object.keys(e._attachments).forEach(function(t){a=a||b(t),e._attachments[t].content_type||(0,i.guardedConsole)("warn","Attachment",t,"on document",e._id,"is missing content_type")})}),a)return n((0,r.createError)(r.BAD_REQUEST,a));"new_edits"in t||(t.new_edits=!("new_edits"in e)||e.new_edits);var s=this;t.new_edits||(0,i.isRemote)(s)||e.docs.sort(v),_(e.docs);var c=e.docs.map(function(e){return e._id});return this._bulkDocs(e,t,function(e,r){if(e)return n(e);if(t.new_edits||(r=r.filter(function(e){return e.error})),!(0,i.isRemote)(s))for(var o=0,a=r.length;o<a;o++)r[o].id=r[o].id||c[o];n(null,r)})}),k.prototype.registerDependentDatabase=(0,i.adapterFun)("registerDependentDatabase",function(e,t){var n=new this.constructor(e,this.__opts);(0,i.upsert)(this,"_local/_pouch_dependentDbs",function(t){return t.dependentDbs=t.dependentDbs||{},!t.dependentDbs[e]&&(t.dependentDbs[e]=!0,t)}).then(function(){t(null,{db:n})}).catch(t)}),k.prototype.destroy=(0,i.adapterFun)("destroy",function(e,t){"function"==typeof e&&(t=e,e={});var n=this,r=!("use_prefix"in n)||n.use_prefix;function o(){n._destroy(e,function(e,r){if(e)return t(e);n._destroyed=!0,n.emit("destroyed"),t(null,r||{ok:!0})})}if((0,i.isRemote)(n))return o();n.get("_local/_pouch_dependentDbs",function(e,i){if(e)return 404!==e.status?t(e):o();var a=i.dependentDbs,s=n.constructor,c=Object.keys(a).map(function(e){var t=r?e.replace(new RegExp("^"+s.prefix),""):e;return new s(t,n.__opts).destroy()});Promise.all(c).then(o,t)})}),E.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},E.prototype.fail=function(e){this.failed=e,this.execute()},E.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},E.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},(0,o.default)(D,k),D.adapters={},D.preferredAdapters=[],D.prefix="_pouch_";var O=new a.EventEmitter;function C(t){Object.keys(a.EventEmitter.prototype).forEach(function(e){"function"==typeof a.EventEmitter.prototype[e]&&(t[e]=O[e].bind(O))});var n=t._destructionListeners=new e.Map;t.on("ref",function(e){n.has(e.name)||n.set(e.name,[]),n.get(e.name).push(e)}),t.on("unref",function(e){if(n.has(e.name)){var t=n.get(e.name),r=t.indexOf(e);r<0||(t.splice(r,1),t.length>1?n.set(e.name,t):n.delete(e.name))}}),t.on("destroyed",function(e){if(n.has(e)){var t=n.get(e);n.delete(e),t.forEach(function(e){e.emit("destroyed",!0)})}})}C(D),D.adapter=function(e,t,n){t.valid()&&(D.adapters[e]=t,n&&D.preferredAdapters.push(e))},D.plugin=function(e){if("function"==typeof e)e(D);else{if("object"!=typeof e||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach(function(t){D.prototype[t]=e[t]})}return this.__defaults&&(D.__defaults=(0,i.assign)({},this.__defaults)),D},D.defaults=function(e){function t(e,n){if(!(this instanceof t))return new t(e,n);n=n||{},e&&"object"==typeof e&&(e=(n=e).name,delete n.name),n=(0,i.assign)({},t.__defaults,n),D.call(this,e,n)}return(0,o.default)(t,D),t.preferredAdapters=D.preferredAdapters.slice(),Object.keys(D).forEach(function(e){e in t||(t[e]=D[e])}),t.__defaults=(0,i.assign)({},this.__defaults,e),t},D.fetch=function(e,t){return(0,s.fetch)(e,t)};var q="7.1.1";D.plugin(c.default),D.version=q;var x=D;exports.default=x;
},{"pouchdb-collections":"qpbW","argsarray":"I5Ig","pouchdb-merge":"p4HA","pouchdb-errors":"qncM","pouchdb-utils":"mY35","inherits":"pyp0","events":"FRpO","pouchdb-fetch":"o28F","pouchdb-changes-filter":"WT8M"}],"YYof":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createError=A,exports.generateErrorFromResponse=L,exports.INVALID_URL=exports.IDB_ERROR=exports.MISSING_STUB=exports.FILE_EXISTS=exports.INVALID_REV=exports.FORBIDDEN=exports.LDB_ERROR=exports.WSQ_ERROR=exports.DB_MISSING=exports.NOT_AN_OBJECT=exports.BAD_REQUEST=exports.DOC_VALIDATION=exports.QUERY_PARSE_ERROR=exports.INVALID_REQUEST=exports.BAD_ARG=exports.UNKNOWN_ERROR=exports.NOT_OPEN=exports.RESERVED_ID=exports.MISSING_ID=exports.INVALID_ID=exports.REV_CONFLICT=exports.MISSING_DOC=exports.MISSING_BULK_DOCS=exports.UNAUTHORIZED=void 0;var e=r(require("inherits"));function r(e){return e&&e.__esModule?e:{default:e}}function t(e,r,t){Error.call(this,t),this.status=e,this.name=r,this.message=t,this.error=!0}(0,e.default)(t,Error),t.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};var s=new t(401,"unauthorized","Name or password is incorrect.");exports.UNAUTHORIZED=s;var o=new t(400,"bad_request","Missing JSON list of 'docs'");exports.MISSING_BULK_DOCS=o;var n=new t(404,"not_found","missing");exports.MISSING_DOC=n;var a=new t(409,"conflict","Document update conflict");exports.REV_CONFLICT=a;var i=new t(400,"bad_request","_id field must contain a string");exports.INVALID_ID=i;var _=new t(412,"missing_id","_id is required for puts");exports.MISSING_ID=_;var p=new t(400,"bad_request","Only reserved document ids may start with underscore.");exports.RESERVED_ID=p;var d=new t(412,"precondition_failed","Database not open");exports.NOT_OPEN=d;var u=new t(500,"unknown_error","Database encountered an unknown error");exports.UNKNOWN_ERROR=u;var I=new t(500,"badarg","Some query argument is invalid");exports.BAD_ARG=I;var R=new t(400,"invalid_request","Request was invalid");exports.INVALID_REQUEST=R;var x=new t(400,"query_parse_error","Some query parameter is invalid");exports.QUERY_PARSE_ERROR=x;var E=new t(500,"doc_validation","Bad special document member");exports.DOC_VALIDATION=E;var D=new t(400,"bad_request","Something wrong with the request");exports.BAD_REQUEST=D;var S=new t(400,"bad_request","Document must be a JSON object");exports.NOT_AN_OBJECT=S;var N=new t(404,"not_found","Database not found");exports.DB_MISSING=N;var v=new t(500,"indexed_db_went_bad","unknown");exports.IDB_ERROR=v;var w=new t(500,"web_sql_went_bad","unknown");exports.WSQ_ERROR=w;var c=new t(500,"levelDB_went_went_bad","unknown");exports.LDB_ERROR=c;var O=new t(403,"forbidden","Forbidden by design doc validate_doc_update function");exports.FORBIDDEN=O;var l=new t(400,"bad_request","Invalid rev format");exports.INVALID_REV=l;var m=new t(412,"file_exists","The database could not be created, the file already exists.");exports.FILE_EXISTS=m;var f=new t(412,"missing_stub","A pre-existing attachment stub wasn't found");exports.MISSING_STUB=f;var b=new t(413,"invalid_url","Provided URL is invalid");function A(e,r){function s(r){for(var t in e)"function"!=typeof e[t]&&(this[t]=e[t]);void 0!==r&&(this.reason=r)}return s.prototype=t.prototype,new s(r)}function L(e){if("object"!=typeof e){var r=e;(e=u).data=r}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}exports.INVALID_URL=b;
},{"inherits":"pyp0"}],"kn18":[function(require,module,exports) {
var e,r,o=require("./lib/rng"),s=require("./lib/bytesToUuid"),i=0,n=0;function c(c,l,u){var v=l&&u||0,a=l||[],d=(c=c||{}).node||e,t=void 0!==c.clockseq?c.clockseq:r;if(null==d||null==t){var m=o();null==d&&(d=e=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==t&&(t=r=16383&(m[6]<<8|m[7]))}var q=void 0!==c.msecs?c.msecs:(new Date).getTime(),f=void 0!==c.nsecs?c.nsecs:n+1,b=q-i+(f-n)/1e4;if(b<0&&void 0===c.clockseq&&(t=t+1&16383),(b<0||q>i)&&void 0===c.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");i=q,n=f,r=t;var k=(1e4*(268435455&(q+=122192928e5))+f)%4294967296;a[v++]=k>>>24&255,a[v++]=k>>>16&255,a[v++]=k>>>8&255,a[v++]=255&k;var w=q/4294967296*1e4&268435455;a[v++]=w>>>8&255,a[v++]=255&w,a[v++]=w>>>24&15|16,a[v++]=w>>>16&255,a[v++]=t>>>8|128,a[v++]=255&t;for(var g=0;g<6;++g)a[v+g]=d[g];return l||s(a)}module.exports=c;
},{"./lib/rng":"OdJ5","./lib/bytesToUuid":"KHHX"}],"KJHO":[function(require,module,exports) {
var r=require("./lib/rng"),n=require("./lib/bytesToUuid");function e(e,i,u){var a=i&&u||0;"string"==typeof e&&(i="binary"===e?new Array(16):null,e=null);var l=(e=e||{}).random||(e.rng||r)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,i)for(var o=0;o<16;++o)i[a+o]=l[o];return i||n(l)}module.exports=e;
},{"./lib/rng":"OdJ5","./lib/bytesToUuid":"KHHX"}],"S1Cg":[function(require,module,exports) {
var e=require("./v1"),r=require("./v4"),v=r;v.v1=e,v.v4=r,module.exports=v;
},{"./v1":"kn18","./v4":"KJHO"}],"jQiz":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.binaryMd5=c,exports.stringMd5=d;var n=require("pouchdb-binary-utils"),t=r(require("spark-md5"));function r(e){return e&&e.__esModule?e:{default:e}}var i=e.setImmediate||e.setTimeout,u=32768;function a(e){return(0,n.btoa)(e)}function o(e,n,t){return e.webkitSlice?e.webkitSlice(n,t):e.slice(n,t)}function f(e,t,r,i,u){(r>0||i<t.size)&&(t=o(t,r,i)),(0,n.readAsArrayBuffer)(t,function(n){e.append(n),u()})}function s(e,n,t,r,i){(t>0||r<n.length)&&(n=n.substring(t,r)),e.appendBinary(n),i()}function c(e,n){var r="string"==typeof e,o=r?e.length:e.size,c=Math.min(u,o),d=Math.ceil(o/c),l=0,p=r?new t.default:new t.default.ArrayBuffer,b=r?s:f;function y(){i(v)}function h(){var e=a(p.end(!0));n(e),p.destroy()}function v(){var n=l*c,t=n+c;b(p,e,n,t,++l<d?y:h)}v()}function d(e){return t.default.hash(e)}
},{"pouchdb-binary-utils":"WfYg","spark-md5":"nbIu"}],"VnLM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.adapterFun=x,exports.bulkGetShim=j,exports.changesHandler=k,exports.clone=y,exports.defaultBackOff=L,exports.explainError=B,exports.filterChange=N,exports.flatten=F,exports.guardedConsole=A,exports.hasLocalStorage=I,exports.invalidIdError=G,exports.isRemote=V,exports.listenerCount=W,exports.normalizeDdocFunctionName=J,exports.once=g,exports.parseDdocFunctionName=H,exports.parseUri=Y,exports.pick=b,exports.rev=re,exports.scopeEval=Z,exports.toPromise=m,exports.upsert=ee,Object.defineProperty(exports,"nextTick",{enumerable:!0,get:function(){return r.default}}),exports.uuid=exports.functionName=exports.assign=void 0;var e=s(require("argsarray")),t=require("pouchdb-collections"),r=s(require("immediate")),n=require("events"),o=s(require("inherits")),i=require("pouchdb-errors"),u=s(require("uuid")),a=require("pouchdb-md5"),c=require("pouchdb-utils");function s(e){return e&&e.__esModule?e:{default:e}}function f(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}function l(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),r=new Uint8Array(t),n=new Uint8Array(e);return r.set(n),t}function p(e){if(e instanceof ArrayBuffer)return l(e);var t=e.size,r=e.type;return"function"==typeof e.slice?e.slice(0,t,r):e.webkitSlice(0,t,r)}var d=Function.prototype.toString,h=d.call(Object);function v(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=t.constructor;return"function"==typeof r&&r instanceof r&&d.call(r)==h}function y(e){var t,r,n;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],r=0,n=e.length;r<n;r++)t[r]=y(e[r]);return t}if(e instanceof Date)return e.toISOString();if(f(e))return p(e);if(!v(e))return e;for(r in t={},e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=y(e[r]);void 0!==o&&(t[r]=o)}return t}function g(t){var r=!1;return(0,e.default)(function(e){if(r)throw new Error("once called more than once");r=!0,t.apply(this,e)})}function m(t){return(0,e.default)(function(e){e=y(e);var r=this,n="function"==typeof e[e.length-1]&&e.pop(),o=new Promise(function(n,o){var i;try{var u=g(function(e,t){e?o(e):n(t)});e.push(u),(i=t.apply(r,e))&&"function"==typeof i.then&&n(i)}catch(a){o(a)}});return n&&o.then(function(e){n(null,e)},n),o})}function _(e,t,r){if(e.constructor.listeners("debug").length){for(var n=["api",e.name,t],o=0;o<r.length-1;o++)n.push(r[o]);e.constructor.emit("debug",n);var i=r[r.length-1];r[r.length-1]=function(r,n){var o=["api",e.name,t];o=o.concat(r?["error",r]:["success",n]),e.constructor.emit("debug",o),i(r,n)}}}function x(t,r){return m((0,e.default)(function(e){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var n=this;return _(n,t,e),this.taskqueue.isReady?r.apply(this,e):new Promise(function(r,o){n.taskqueue.addTask(function(i){i?o(i):r(n[t].apply(n,e))})})}))}function b(e,t){for(var r={},n=0,o=t.length;n<o;n++){var i=t[n];i in e&&(r[i]=e[i])}return r}var w,E,q=6;function O(e){return e}function S(e){return[{ok:e}]}function j(e,r,n){var o=r.docs,i=new t.Map;o.forEach(function(e){i.has(e.id)?i.get(e.id).push(e):i.set(e.id,[e])});var u=i.size,a=0,c=new Array(u);function s(){var e;++a===u&&(e=[],c.forEach(function(t){t.docs.forEach(function(r){e.push({id:t.id,docs:[r]})})}),n(null,{results:e}))}var f=[];i.forEach(function(e,t){f.push(t)});var l=0;function p(){if(!(l>=f.length)){var t=Math.min(l+q,f.length),n=f.slice(l,t);!function(t,n){t.forEach(function(t,o){var u=n+o,a=i.get(t),f=b(a[0],["atts_since","attachments"]);f.open_revs=a.map(function(e){return e.rev}),f.open_revs=f.open_revs.filter(O);var l=O;0===f.open_revs.length&&(delete f.open_revs,l=S),["revs","attachments","binary","ajax","latest"].forEach(function(e){e in r&&(f[e]=r[e])}),e.get(t,f,function(e,r){var n,o,i;n=e?[{error:e}]:l(r),o=t,i=n,c[u]={id:o,docs:i},s(),p()})})}(n,l),l+=n.length}}p()}try{localStorage.setItem("_pouch_check_localstorage",1),w=!!localStorage.getItem("_pouch_check_localstorage")}catch(oe){w=!1}function I(){return w}function P(e){I()&&addEventListener("storage",function(t){e.emit(t.key)})}function k(){n.EventEmitter.call(this),this._listeners={},P(this)}function A(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function D(e,t){return e=parseInt(e,10)||0,(t=parseInt(t,10))!=t||t<=e?t=(e||1)<<1:t+=1,t>6e5&&(e=3e5,t=6e5),~~((t-e)*Math.random()+e)}function L(e){var t=0;return e||(t=2e3),D(e,t)}function B(e,t){A("info","The above "+e+" is totally normal. "+t)}(0,o.default)(k,n.EventEmitter),k.prototype.addListener=function(e,t,n,o){if(!this._listeners[t]){var i=this,u=!1;this._listeners[t]=a,this.on(e,a)}function a(){if(i._listeners[t])if(u)u="waiting";else{u=!0;var e=b(o,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);n.changes(e).on("change",function(e){e.seq>o.since&&!o.cancelled&&(o.since=e.seq,o.onChange(e))}).on("complete",function(){"waiting"===u&&(0,r.default)(a),u=!1}).on("error",function(){u=!1})}}},k.prototype.removeListener=function(e,t){t in this._listeners&&(n.EventEmitter.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},k.prototype.notifyLocalWindows=function(e){I()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},k.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var C=E="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t};function M(e,t,r){try{return!e(t,r)}catch(o){var n="Filter function threw: "+o.toString();return(0,i.createError)(i.BAD_REQUEST,n)}}function N(e){var t={},r=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(n){n.doc||(n.doc={});var o=r&&M(e.filter,n.doc,t);if("object"==typeof o)return o;if(o)return!1;if(e.include_docs){if(!e.attachments)for(var i in n.doc._attachments)n.doc._attachments.hasOwnProperty(i)&&(n.doc._attachments[i].stub=!0)}else delete n.doc;return!0}}function F(e){for(var t=[],r=0,n=e.length;r<n;r++)t=t.concat(e[r]);return t}function R(){}exports.assign=C;var U,T=R.name,z=U=T?function(e){return e.name}:function(e){var t=e.toString().match(/^\s*function\s*(?:(\S+)\s*)?\(/);return t&&t[1]?t[1]:""};function G(e){var t;if(e?"string"!=typeof e?t=(0,i.createError)(i.INVALID_ID):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=(0,i.createError)(i.RESERVED_ID)):t=(0,i.createError)(i.MISSING_ID),t)throw t}function V(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(A("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function W(e,t){return"listenerCount"in e?e.listenerCount(t):n.EventEmitter.listenerCount(e,t)}function H(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function J(e){var t=H(e);return t?t.join("/"):null}exports.functionName=z;var K=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Q="queryKey",$=/(?:^|&)([^&=]*)=?([^&]*)/g,X=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function Y(e){for(var t=X.exec(e),r={},n=14;n--;){var o=K[n],i=t[n]||"",u=-1!==["user","password"].indexOf(o);r[o]=u?decodeURIComponent(i):i}return r[Q]={},r[K[12]].replace($,function(e,t,n){t&&(r[Q][t]=n)}),r}function Z(e,t){var r=[],n=[];for(var o in t)t.hasOwnProperty(o)&&(r.push(o),n.push(t[o]));return r.push(e),Function.apply(null,r).apply(null,n)}function ee(e,t,r){return new Promise(function(n,o){e.get(t,function(i,u){if(i){if(404!==i.status)return o(i);u={}}var a=u._rev,c=r(u);if(!c)return n({updated:!1,rev:a});c._id=t,c._rev=a,n(te(e,c,r))})})}function te(e,t,r){return e.put(t).then(function(e){return{updated:!0,rev:e.rev}},function(n){if(409!==n.status)throw n;return ee(e,t._id,r)})}function re(e,t){var r=(0,c.clone)(e);return t?(delete r._rev_tree,(0,a.stringMd5)(JSON.stringify(r))):u.default.v4().replace(/-/g,"").toLowerCase()}var ne=u.default.v4;exports.uuid=ne;
},{"argsarray":"I5Ig","pouchdb-collections":"qpbW","immediate":"uUPe","events":"FRpO","inherits":"pyp0","pouchdb-errors":"YYof","uuid":"S1Cg","pouchdb-md5":"jQiz","pouchdb-utils":"VnLM"}],"rGNp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.massageSelector=p,exports.matchesSelector=S,exports.filterInMemoryFields=v,exports.createFieldSorter=y,exports.rowFilter=b,exports.isCombinationalField=c,exports.getKey=l,exports.getValue=f,exports.getFieldFromDoc=n,exports.setFieldInDoc=r,exports.compare=o,exports.parseField=u;var e=require("pouchdb-utils"),t=require("pouchdb-collate");function n(e,t){for(var n=e,r=0,o=t.length;r<o;r++){if(!(n=n[t[r]]))break}return n}function r(e,t,n){for(var r=0,o=t.length;r<o-1;r++){e=e[t[r]]={}}e[t[o-1]]=n}function o(e,t){return e<t?-1:e>t?1:0}function u(e){for(var t=[],n="",r=0,o=e.length;r<o;r++){var u=e[r];"."===u?r>0&&"\\"===e[r-1]?n=n.substring(0,n.length-1)+".":(t.push(n),n=""):n+=u}return t.push(n),t}var i=["$or","$nor","$not"];function c(e){return i.indexOf(e)>-1}function l(e){return Object.keys(e)[0]}function f(e){return e[l(e)]}function a(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(n){var r=e[n];if("object"!=typeof r&&(r={$eq:r}),c(n))r instanceof Array?t[n]=r.map(function(e){return a([e])}):t[n]=a([r]);else{var o=t[n]=t[n]||{};Object.keys(r).forEach(function(e){var t=r[e];return"$gt"===e||"$gte"===e?s(e,t,o):"$lt"===e||"$lte"===e?$(e,t,o):"$ne"===e?d(t,o):"$eq"===e?g(t,o):void(o[e]=t)})}})}),t}function s(e,t,n){void 0===n.$eq&&(void 0!==n.$gte?"$gte"===e?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):void 0!==n.$gt?"$gte"===e?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t)}function $(e,t,n){void 0===n.$eq&&(void 0!==n.$lte?"$lte"===e?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):void 0!==n.$lt?"$lte"===e?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t)}function d(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}function g(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}function p(t){var n=(0,e.clone)(t),r=!1;"$and"in n&&(n=a(n.$and),r=!0),["$or","$nor"].forEach(function(e){e in n&&n[e].forEach(function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n],o=e[r];"object"==typeof o&&null!==o||(e[r]={$eq:o})}})}),"$not"in n&&(n.$not=a([n.$not]));for(var o=Object.keys(n),u=0;u<o.length;u++){var i=o[u],c=n[i];"object"!=typeof c||null===c?c={$eq:c}:"$ne"in c&&!r&&(c.$ne=[c.$ne]),n[i]=c}return n}function y(e){function r(t){return e.map(function(e){var r=u(l(e));return n(t,r)})}return function(e,n){var u=r(e.doc),i=r(n.doc),c=(0,t.collate)(u,i);return 0!==c?c:o(e.doc._id,n.doc._id)}}function v(e,t,n){if(e=e.filter(function(e){return b(e.doc,t.selector,n)}),t.sort){var r=y(t.sort);e=e.sort(r),"string"!=typeof t.sort[0]&&"desc"===f(t.sort[0])&&(e=e.reverse())}if("limit"in t||"skip"in t){var o=t.skip||0,u=("limit"in t?t.limit:e.length)+o;e=e.slice(o,u)}return e}function b(e,t,r){return r.every(function(r){var o=t[r],i=u(r),l=n(e,i);return c(r)?j(r,o,e):h(o,e,i,l)})}function h(e,t,n,r){return!e||Object.keys(e).every(function(o){var u=e[o];return m(o,t,u,n,r)})}function j(e,t,n){return"$or"===e?t.some(function(e){return b(n,e,Object.keys(e))}):"$not"===e?!b(n,t,Object.keys(t)):!t.find(function(e){return b(n,e,Object.keys(e))})}function m(e,t,n,r,o){if(!M[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return M[e](t,n,r,o)}function x(e){return null!=e}function O(e){return void 0!==e}function k(e,t){var n=t[0],r=t[1];if(0===n)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(n,10)!==n)throw new Error("Divisor is not an integer");if(parseInt(r,10)!==r)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%n===r}function w(e,t){return t.some(function(t){return e instanceof Array?e.indexOf(t)>-1:e===t})}function E(e,t){return t.every(function(t){return e.indexOf(t)>-1})}function q(e,t){return e.length===t}function A(e,t){return new RegExp(t).test(e)}function F(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}var M={$elemMatch:function(e,t,n,r){return!!Array.isArray(r)&&(0!==r.length&&("object"==typeof r[0]?r.some(function(e){return b(e,t,Object.keys(t))}):r.some(function(r){return h(t,e,n,r)})))},$allMatch:function(e,t,n,r){return!!Array.isArray(r)&&(0!==r.length&&("object"==typeof r[0]?r.every(function(e){return b(e,t,Object.keys(t))}):r.every(function(r){return h(t,e,n,r)})))},$eq:function(e,n,r,o){return O(o)&&0===(0,t.collate)(o,n)},$gte:function(e,n,r,o){return O(o)&&(0,t.collate)(o,n)>=0},$gt:function(e,n,r,o){return O(o)&&(0,t.collate)(o,n)>0},$lte:function(e,n,r,o){return O(o)&&(0,t.collate)(o,n)<=0},$lt:function(e,n,r,o){return O(o)&&(0,t.collate)(o,n)<0},$exists:function(e,t,n,r){return t?O(r):!O(r)},$mod:function(e,t,n,r){return x(r)&&k(r,t)},$ne:function(e,n,r,o){return n.every(function(e){return 0!==(0,t.collate)(o,e)})},$in:function(e,t,n,r){return x(r)&&w(r,t)},$nin:function(e,t,n,r){return x(r)&&!w(r,t)},$size:function(e,t,n,r){return x(r)&&q(r,t)},$all:function(e,t,n,r){return Array.isArray(r)&&E(r,t)},$regex:function(e,t,n,r){return x(r)&&A(r,t)},$type:function(e,t,n,r){return F(r,t)}};function S(e,t){if("object"!=typeof t)throw new Error("Selector error: expected a JSON object");var n=v([{doc:e}],{selector:t=p(t)},Object.keys(t));return n&&1===n.length}
},{"pouchdb-utils":"VnLM","pouchdb-collate":"XVUJ"}],"nowN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createError=A,exports.generateErrorFromResponse=L,exports.INVALID_URL=exports.IDB_ERROR=exports.MISSING_STUB=exports.FILE_EXISTS=exports.INVALID_REV=exports.FORBIDDEN=exports.LDB_ERROR=exports.WSQ_ERROR=exports.DB_MISSING=exports.NOT_AN_OBJECT=exports.BAD_REQUEST=exports.DOC_VALIDATION=exports.QUERY_PARSE_ERROR=exports.INVALID_REQUEST=exports.BAD_ARG=exports.UNKNOWN_ERROR=exports.NOT_OPEN=exports.RESERVED_ID=exports.MISSING_ID=exports.INVALID_ID=exports.REV_CONFLICT=exports.MISSING_DOC=exports.MISSING_BULK_DOCS=exports.UNAUTHORIZED=void 0;var e=r(require("inherits"));function r(e){return e&&e.__esModule?e:{default:e}}function t(e,r,t){Error.call(this,t),this.status=e,this.name=r,this.message=t,this.error=!0}(0,e.default)(t,Error),t.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};var s=new t(401,"unauthorized","Name or password is incorrect.");exports.UNAUTHORIZED=s;var o=new t(400,"bad_request","Missing JSON list of 'docs'");exports.MISSING_BULK_DOCS=o;var n=new t(404,"not_found","missing");exports.MISSING_DOC=n;var a=new t(409,"conflict","Document update conflict");exports.REV_CONFLICT=a;var i=new t(400,"bad_request","_id field must contain a string");exports.INVALID_ID=i;var _=new t(412,"missing_id","_id is required for puts");exports.MISSING_ID=_;var p=new t(400,"bad_request","Only reserved document ids may start with underscore.");exports.RESERVED_ID=p;var d=new t(412,"precondition_failed","Database not open");exports.NOT_OPEN=d;var u=new t(500,"unknown_error","Database encountered an unknown error");exports.UNKNOWN_ERROR=u;var I=new t(500,"badarg","Some query argument is invalid");exports.BAD_ARG=I;var R=new t(400,"invalid_request","Request was invalid");exports.INVALID_REQUEST=R;var x=new t(400,"query_parse_error","Some query parameter is invalid");exports.QUERY_PARSE_ERROR=x;var E=new t(500,"doc_validation","Bad special document member");exports.DOC_VALIDATION=E;var D=new t(400,"bad_request","Something wrong with the request");exports.BAD_REQUEST=D;var S=new t(400,"bad_request","Document must be a JSON object");exports.NOT_AN_OBJECT=S;var N=new t(404,"not_found","Database not found");exports.DB_MISSING=N;var v=new t(500,"indexed_db_went_bad","unknown");exports.IDB_ERROR=v;var w=new t(500,"web_sql_went_bad","unknown");exports.WSQ_ERROR=w;var c=new t(500,"levelDB_went_went_bad","unknown");exports.LDB_ERROR=c;var O=new t(403,"forbidden","Forbidden by design doc validate_doc_update function");exports.FORBIDDEN=O;var l=new t(400,"bad_request","Invalid rev format");exports.INVALID_REV=l;var m=new t(412,"file_exists","The database could not be created, the file already exists.");exports.FILE_EXISTS=m;var f=new t(412,"missing_stub","A pre-existing attachment stub wasn't found");exports.MISSING_STUB=f;var b=new t(413,"invalid_url","Provided URL is invalid");function A(e,r){function s(r){for(var t in e)"function"!=typeof e[t]&&(this[t]=e[t]);void 0!==r&&(this.reason=r)}return s.prototype=t.prototype,new s(r)}function L(e){if("object"!=typeof e){var r=e;(e=u).data=r}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}exports.INVALID_URL=b;
},{"inherits":"pyp0"}],"dIzT":[function(require,module,exports) {
var e,r,o=require("./lib/rng"),s=require("./lib/bytesToUuid"),i=0,n=0;function c(c,l,u){var v=l&&u||0,a=l||[],d=(c=c||{}).node||e,t=void 0!==c.clockseq?c.clockseq:r;if(null==d||null==t){var m=o();null==d&&(d=e=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==t&&(t=r=16383&(m[6]<<8|m[7]))}var q=void 0!==c.msecs?c.msecs:(new Date).getTime(),f=void 0!==c.nsecs?c.nsecs:n+1,b=q-i+(f-n)/1e4;if(b<0&&void 0===c.clockseq&&(t=t+1&16383),(b<0||q>i)&&void 0===c.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");i=q,n=f,r=t;var k=(1e4*(268435455&(q+=122192928e5))+f)%4294967296;a[v++]=k>>>24&255,a[v++]=k>>>16&255,a[v++]=k>>>8&255,a[v++]=255&k;var w=q/4294967296*1e4&268435455;a[v++]=w>>>8&255,a[v++]=255&w,a[v++]=w>>>24&15|16,a[v++]=w>>>16&255,a[v++]=t>>>8|128,a[v++]=255&t;for(var g=0;g<6;++g)a[v+g]=d[g];return l||s(a)}module.exports=c;
},{"./lib/rng":"OdJ5","./lib/bytesToUuid":"KHHX"}],"yGiT":[function(require,module,exports) {
var r=require("./lib/rng"),n=require("./lib/bytesToUuid");function e(e,i,u){var a=i&&u||0;"string"==typeof e&&(i="binary"===e?new Array(16):null,e=null);var l=(e=e||{}).random||(e.rng||r)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,i)for(var o=0;o<16;++o)i[a+o]=l[o];return i||n(l)}module.exports=e;
},{"./lib/rng":"OdJ5","./lib/bytesToUuid":"KHHX"}],"ZkPr":[function(require,module,exports) {
var e=require("./v1"),r=require("./v4"),v=r;v.v1=e,v.v4=r,module.exports=v;
},{"./v1":"dIzT","./v4":"yGiT"}],"FoCX":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.binaryMd5=c,exports.stringMd5=d;var n=require("pouchdb-binary-utils"),t=r(require("spark-md5"));function r(e){return e&&e.__esModule?e:{default:e}}var i=e.setImmediate||e.setTimeout,u=32768;function a(e){return(0,n.btoa)(e)}function o(e,n,t){return e.webkitSlice?e.webkitSlice(n,t):e.slice(n,t)}function f(e,t,r,i,u){(r>0||i<t.size)&&(t=o(t,r,i)),(0,n.readAsArrayBuffer)(t,function(n){e.append(n),u()})}function s(e,n,t,r,i){(t>0||r<n.length)&&(n=n.substring(t,r)),e.appendBinary(n),i()}function c(e,n){var r="string"==typeof e,o=r?e.length:e.size,c=Math.min(u,o),d=Math.ceil(o/c),l=0,p=r?new t.default:new t.default.ArrayBuffer,b=r?s:f;function y(){i(v)}function h(){var e=a(p.end(!0));n(e),p.destroy()}function v(){var n=l*c,t=n+c;b(p,e,n,t,++l<d?y:h)}v()}function d(e){return t.default.hash(e)}
},{"pouchdb-binary-utils":"WfYg","spark-md5":"nbIu"}],"GQBM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.adapterFun=x,exports.bulkGetShim=j,exports.changesHandler=k,exports.clone=y,exports.defaultBackOff=L,exports.explainError=B,exports.filterChange=N,exports.flatten=F,exports.guardedConsole=A,exports.hasLocalStorage=I,exports.invalidIdError=G,exports.isRemote=V,exports.listenerCount=W,exports.normalizeDdocFunctionName=J,exports.once=g,exports.parseDdocFunctionName=H,exports.parseUri=Y,exports.pick=b,exports.rev=re,exports.scopeEval=Z,exports.toPromise=m,exports.upsert=ee,Object.defineProperty(exports,"nextTick",{enumerable:!0,get:function(){return r.default}}),exports.uuid=exports.functionName=exports.assign=void 0;var e=s(require("argsarray")),t=require("pouchdb-collections"),r=s(require("immediate")),n=require("events"),o=s(require("inherits")),i=require("pouchdb-errors"),u=s(require("uuid")),a=require("pouchdb-md5"),c=require("pouchdb-utils");function s(e){return e&&e.__esModule?e:{default:e}}function f(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}function l(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),r=new Uint8Array(t),n=new Uint8Array(e);return r.set(n),t}function p(e){if(e instanceof ArrayBuffer)return l(e);var t=e.size,r=e.type;return"function"==typeof e.slice?e.slice(0,t,r):e.webkitSlice(0,t,r)}var d=Function.prototype.toString,h=d.call(Object);function v(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=t.constructor;return"function"==typeof r&&r instanceof r&&d.call(r)==h}function y(e){var t,r,n;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],r=0,n=e.length;r<n;r++)t[r]=y(e[r]);return t}if(e instanceof Date)return e.toISOString();if(f(e))return p(e);if(!v(e))return e;for(r in t={},e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=y(e[r]);void 0!==o&&(t[r]=o)}return t}function g(t){var r=!1;return(0,e.default)(function(e){if(r)throw new Error("once called more than once");r=!0,t.apply(this,e)})}function m(t){return(0,e.default)(function(e){e=y(e);var r=this,n="function"==typeof e[e.length-1]&&e.pop(),o=new Promise(function(n,o){var i;try{var u=g(function(e,t){e?o(e):n(t)});e.push(u),(i=t.apply(r,e))&&"function"==typeof i.then&&n(i)}catch(a){o(a)}});return n&&o.then(function(e){n(null,e)},n),o})}function _(e,t,r){if(e.constructor.listeners("debug").length){for(var n=["api",e.name,t],o=0;o<r.length-1;o++)n.push(r[o]);e.constructor.emit("debug",n);var i=r[r.length-1];r[r.length-1]=function(r,n){var o=["api",e.name,t];o=o.concat(r?["error",r]:["success",n]),e.constructor.emit("debug",o),i(r,n)}}}function x(t,r){return m((0,e.default)(function(e){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var n=this;return _(n,t,e),this.taskqueue.isReady?r.apply(this,e):new Promise(function(r,o){n.taskqueue.addTask(function(i){i?o(i):r(n[t].apply(n,e))})})}))}function b(e,t){for(var r={},n=0,o=t.length;n<o;n++){var i=t[n];i in e&&(r[i]=e[i])}return r}var w,E,q=6;function O(e){return e}function S(e){return[{ok:e}]}function j(e,r,n){var o=r.docs,i=new t.Map;o.forEach(function(e){i.has(e.id)?i.get(e.id).push(e):i.set(e.id,[e])});var u=i.size,a=0,c=new Array(u);function s(){var e;++a===u&&(e=[],c.forEach(function(t){t.docs.forEach(function(r){e.push({id:t.id,docs:[r]})})}),n(null,{results:e}))}var f=[];i.forEach(function(e,t){f.push(t)});var l=0;function p(){if(!(l>=f.length)){var t=Math.min(l+q,f.length),n=f.slice(l,t);!function(t,n){t.forEach(function(t,o){var u=n+o,a=i.get(t),f=b(a[0],["atts_since","attachments"]);f.open_revs=a.map(function(e){return e.rev}),f.open_revs=f.open_revs.filter(O);var l=O;0===f.open_revs.length&&(delete f.open_revs,l=S),["revs","attachments","binary","ajax","latest"].forEach(function(e){e in r&&(f[e]=r[e])}),e.get(t,f,function(e,r){var n,o,i;n=e?[{error:e}]:l(r),o=t,i=n,c[u]={id:o,docs:i},s(),p()})})}(n,l),l+=n.length}}p()}try{localStorage.setItem("_pouch_check_localstorage",1),w=!!localStorage.getItem("_pouch_check_localstorage")}catch(oe){w=!1}function I(){return w}function P(e){I()&&addEventListener("storage",function(t){e.emit(t.key)})}function k(){n.EventEmitter.call(this),this._listeners={},P(this)}function A(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function D(e,t){return e=parseInt(e,10)||0,(t=parseInt(t,10))!=t||t<=e?t=(e||1)<<1:t+=1,t>6e5&&(e=3e5,t=6e5),~~((t-e)*Math.random()+e)}function L(e){var t=0;return e||(t=2e3),D(e,t)}function B(e,t){A("info","The above "+e+" is totally normal. "+t)}(0,o.default)(k,n.EventEmitter),k.prototype.addListener=function(e,t,n,o){if(!this._listeners[t]){var i=this,u=!1;this._listeners[t]=a,this.on(e,a)}function a(){if(i._listeners[t])if(u)u="waiting";else{u=!0;var e=b(o,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);n.changes(e).on("change",function(e){e.seq>o.since&&!o.cancelled&&(o.since=e.seq,o.onChange(e))}).on("complete",function(){"waiting"===u&&(0,r.default)(a),u=!1}).on("error",function(){u=!1})}}},k.prototype.removeListener=function(e,t){t in this._listeners&&(n.EventEmitter.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},k.prototype.notifyLocalWindows=function(e){I()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},k.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var C=E="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t};function M(e,t,r){try{return!e(t,r)}catch(o){var n="Filter function threw: "+o.toString();return(0,i.createError)(i.BAD_REQUEST,n)}}function N(e){var t={},r=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(n){n.doc||(n.doc={});var o=r&&M(e.filter,n.doc,t);if("object"==typeof o)return o;if(o)return!1;if(e.include_docs){if(!e.attachments)for(var i in n.doc._attachments)n.doc._attachments.hasOwnProperty(i)&&(n.doc._attachments[i].stub=!0)}else delete n.doc;return!0}}function F(e){for(var t=[],r=0,n=e.length;r<n;r++)t=t.concat(e[r]);return t}function R(){}exports.assign=C;var U,T=R.name,z=U=T?function(e){return e.name}:function(e){var t=e.toString().match(/^\s*function\s*(?:(\S+)\s*)?\(/);return t&&t[1]?t[1]:""};function G(e){var t;if(e?"string"!=typeof e?t=(0,i.createError)(i.INVALID_ID):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=(0,i.createError)(i.RESERVED_ID)):t=(0,i.createError)(i.MISSING_ID),t)throw t}function V(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(A("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function W(e,t){return"listenerCount"in e?e.listenerCount(t):n.EventEmitter.listenerCount(e,t)}function H(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function J(e){var t=H(e);return t?t.join("/"):null}exports.functionName=z;var K=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Q="queryKey",$=/(?:^|&)([^&=]*)=?([^&]*)/g,X=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function Y(e){for(var t=X.exec(e),r={},n=14;n--;){var o=K[n],i=t[n]||"",u=-1!==["user","password"].indexOf(o);r[o]=u?decodeURIComponent(i):i}return r[Q]={},r[K[12]].replace($,function(e,t,n){t&&(r[Q][t]=n)}),r}function Z(e,t){var r=[],n=[];for(var o in t)t.hasOwnProperty(o)&&(r.push(o),n.push(t[o]));return r.push(e),Function.apply(null,r).apply(null,n)}function ee(e,t,r){return new Promise(function(n,o){e.get(t,function(i,u){if(i){if(404!==i.status)return o(i);u={}}var a=u._rev,c=r(u);if(!c)return n({updated:!1,rev:a});c._id=t,c._rev=a,n(te(e,c,r))})})}function te(e,t,r){return e.put(t).then(function(e){return{updated:!0,rev:e.rev}},function(n){if(409!==n.status)throw n;return ee(e,t._id,r)})}function re(e,t){var r=(0,c.clone)(e);return t?(delete r._rev_tree,(0,a.stringMd5)(JSON.stringify(r))):u.default.v4().replace(/-/g,"").toLowerCase()}var ne=u.default.v4;exports.uuid=ne;
},{"argsarray":"I5Ig","pouchdb-collections":"qpbW","immediate":"uUPe","events":"FRpO","inherits":"pyp0","pouchdb-errors":"nowN","uuid":"ZkPr","pouchdb-md5":"FoCX","pouchdb-utils":"GQBM"}],"FrDX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createError=A,exports.generateErrorFromResponse=L,exports.INVALID_URL=exports.IDB_ERROR=exports.MISSING_STUB=exports.FILE_EXISTS=exports.INVALID_REV=exports.FORBIDDEN=exports.LDB_ERROR=exports.WSQ_ERROR=exports.DB_MISSING=exports.NOT_AN_OBJECT=exports.BAD_REQUEST=exports.DOC_VALIDATION=exports.QUERY_PARSE_ERROR=exports.INVALID_REQUEST=exports.BAD_ARG=exports.UNKNOWN_ERROR=exports.NOT_OPEN=exports.RESERVED_ID=exports.MISSING_ID=exports.INVALID_ID=exports.REV_CONFLICT=exports.MISSING_DOC=exports.MISSING_BULK_DOCS=exports.UNAUTHORIZED=void 0;var e=r(require("inherits"));function r(e){return e&&e.__esModule?e:{default:e}}function t(e,r,t){Error.call(this,t),this.status=e,this.name=r,this.message=t,this.error=!0}(0,e.default)(t,Error),t.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};var s=new t(401,"unauthorized","Name or password is incorrect.");exports.UNAUTHORIZED=s;var o=new t(400,"bad_request","Missing JSON list of 'docs'");exports.MISSING_BULK_DOCS=o;var n=new t(404,"not_found","missing");exports.MISSING_DOC=n;var a=new t(409,"conflict","Document update conflict");exports.REV_CONFLICT=a;var i=new t(400,"bad_request","_id field must contain a string");exports.INVALID_ID=i;var _=new t(412,"missing_id","_id is required for puts");exports.MISSING_ID=_;var p=new t(400,"bad_request","Only reserved document ids may start with underscore.");exports.RESERVED_ID=p;var d=new t(412,"precondition_failed","Database not open");exports.NOT_OPEN=d;var u=new t(500,"unknown_error","Database encountered an unknown error");exports.UNKNOWN_ERROR=u;var I=new t(500,"badarg","Some query argument is invalid");exports.BAD_ARG=I;var R=new t(400,"invalid_request","Request was invalid");exports.INVALID_REQUEST=R;var x=new t(400,"query_parse_error","Some query parameter is invalid");exports.QUERY_PARSE_ERROR=x;var E=new t(500,"doc_validation","Bad special document member");exports.DOC_VALIDATION=E;var D=new t(400,"bad_request","Something wrong with the request");exports.BAD_REQUEST=D;var S=new t(400,"bad_request","Document must be a JSON object");exports.NOT_AN_OBJECT=S;var N=new t(404,"not_found","Database not found");exports.DB_MISSING=N;var v=new t(500,"indexed_db_went_bad","unknown");exports.IDB_ERROR=v;var w=new t(500,"web_sql_went_bad","unknown");exports.WSQ_ERROR=w;var c=new t(500,"levelDB_went_went_bad","unknown");exports.LDB_ERROR=c;var O=new t(403,"forbidden","Forbidden by design doc validate_doc_update function");exports.FORBIDDEN=O;var l=new t(400,"bad_request","Invalid rev format");exports.INVALID_REV=l;var m=new t(412,"file_exists","The database could not be created, the file already exists.");exports.FILE_EXISTS=m;var f=new t(412,"missing_stub","A pre-existing attachment stub wasn't found");exports.MISSING_STUB=f;var b=new t(413,"invalid_url","Provided URL is invalid");function A(e,r){function s(r){for(var t in e)"function"!=typeof e[t]&&(this[t]=e[t]);void 0!==r&&(this.reason=r)}return s.prototype=t.prototype,new s(r)}function L(e){if("object"!=typeof e){var r=e;(e=u).data=r}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}exports.INVALID_URL=b;
},{"inherits":"pyp0"}],"qlv5":[function(require,module,exports) {
var e,r,o=require("./lib/rng"),s=require("./lib/bytesToUuid"),i=0,n=0;function c(c,l,u){var v=l&&u||0,a=l||[],d=(c=c||{}).node||e,t=void 0!==c.clockseq?c.clockseq:r;if(null==d||null==t){var m=o();null==d&&(d=e=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==t&&(t=r=16383&(m[6]<<8|m[7]))}var q=void 0!==c.msecs?c.msecs:(new Date).getTime(),f=void 0!==c.nsecs?c.nsecs:n+1,b=q-i+(f-n)/1e4;if(b<0&&void 0===c.clockseq&&(t=t+1&16383),(b<0||q>i)&&void 0===c.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");i=q,n=f,r=t;var k=(1e4*(268435455&(q+=122192928e5))+f)%4294967296;a[v++]=k>>>24&255,a[v++]=k>>>16&255,a[v++]=k>>>8&255,a[v++]=255&k;var w=q/4294967296*1e4&268435455;a[v++]=w>>>8&255,a[v++]=255&w,a[v++]=w>>>24&15|16,a[v++]=w>>>16&255,a[v++]=t>>>8|128,a[v++]=255&t;for(var g=0;g<6;++g)a[v+g]=d[g];return l||s(a)}module.exports=c;
},{"./lib/rng":"OdJ5","./lib/bytesToUuid":"KHHX"}],"QmC0":[function(require,module,exports) {
var r=require("./lib/rng"),n=require("./lib/bytesToUuid");function e(e,i,u){var a=i&&u||0;"string"==typeof e&&(i="binary"===e?new Array(16):null,e=null);var l=(e=e||{}).random||(e.rng||r)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,i)for(var o=0;o<16;++o)i[a+o]=l[o];return i||n(l)}module.exports=e;
},{"./lib/rng":"OdJ5","./lib/bytesToUuid":"KHHX"}],"ptHy":[function(require,module,exports) {
var e=require("./v1"),r=require("./v4"),v=r;v.v1=e,v.v4=r,module.exports=v;
},{"./v1":"qlv5","./v4":"QmC0"}],"NRa5":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.binaryMd5=c,exports.stringMd5=d;var n=require("pouchdb-binary-utils"),t=r(require("spark-md5"));function r(e){return e&&e.__esModule?e:{default:e}}var i=e.setImmediate||e.setTimeout,u=32768;function a(e){return(0,n.btoa)(e)}function o(e,n,t){return e.webkitSlice?e.webkitSlice(n,t):e.slice(n,t)}function f(e,t,r,i,u){(r>0||i<t.size)&&(t=o(t,r,i)),(0,n.readAsArrayBuffer)(t,function(n){e.append(n),u()})}function s(e,n,t,r,i){(t>0||r<n.length)&&(n=n.substring(t,r)),e.appendBinary(n),i()}function c(e,n){var r="string"==typeof e,o=r?e.length:e.size,c=Math.min(u,o),d=Math.ceil(o/c),l=0,p=r?new t.default:new t.default.ArrayBuffer,b=r?s:f;function y(){i(v)}function h(){var e=a(p.end(!0));n(e),p.destroy()}function v(){var n=l*c,t=n+c;b(p,e,n,t,++l<d?y:h)}v()}function d(e){return t.default.hash(e)}
},{"pouchdb-binary-utils":"WfYg","spark-md5":"nbIu"}],"nQxG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.adapterFun=x,exports.bulkGetShim=j,exports.changesHandler=k,exports.clone=y,exports.defaultBackOff=L,exports.explainError=B,exports.filterChange=N,exports.flatten=F,exports.guardedConsole=A,exports.hasLocalStorage=I,exports.invalidIdError=G,exports.isRemote=V,exports.listenerCount=W,exports.normalizeDdocFunctionName=J,exports.once=g,exports.parseDdocFunctionName=H,exports.parseUri=Y,exports.pick=b,exports.rev=re,exports.scopeEval=Z,exports.toPromise=m,exports.upsert=ee,Object.defineProperty(exports,"nextTick",{enumerable:!0,get:function(){return r.default}}),exports.uuid=exports.functionName=exports.assign=void 0;var e=s(require("argsarray")),t=require("pouchdb-collections"),r=s(require("immediate")),n=require("events"),o=s(require("inherits")),i=require("pouchdb-errors"),u=s(require("uuid")),a=require("pouchdb-md5"),c=require("pouchdb-utils");function s(e){return e&&e.__esModule?e:{default:e}}function f(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}function l(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),r=new Uint8Array(t),n=new Uint8Array(e);return r.set(n),t}function p(e){if(e instanceof ArrayBuffer)return l(e);var t=e.size,r=e.type;return"function"==typeof e.slice?e.slice(0,t,r):e.webkitSlice(0,t,r)}var d=Function.prototype.toString,h=d.call(Object);function v(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=t.constructor;return"function"==typeof r&&r instanceof r&&d.call(r)==h}function y(e){var t,r,n;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],r=0,n=e.length;r<n;r++)t[r]=y(e[r]);return t}if(e instanceof Date)return e.toISOString();if(f(e))return p(e);if(!v(e))return e;for(r in t={},e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=y(e[r]);void 0!==o&&(t[r]=o)}return t}function g(t){var r=!1;return(0,e.default)(function(e){if(r)throw new Error("once called more than once");r=!0,t.apply(this,e)})}function m(t){return(0,e.default)(function(e){e=y(e);var r=this,n="function"==typeof e[e.length-1]&&e.pop(),o=new Promise(function(n,o){var i;try{var u=g(function(e,t){e?o(e):n(t)});e.push(u),(i=t.apply(r,e))&&"function"==typeof i.then&&n(i)}catch(a){o(a)}});return n&&o.then(function(e){n(null,e)},n),o})}function _(e,t,r){if(e.constructor.listeners("debug").length){for(var n=["api",e.name,t],o=0;o<r.length-1;o++)n.push(r[o]);e.constructor.emit("debug",n);var i=r[r.length-1];r[r.length-1]=function(r,n){var o=["api",e.name,t];o=o.concat(r?["error",r]:["success",n]),e.constructor.emit("debug",o),i(r,n)}}}function x(t,r){return m((0,e.default)(function(e){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var n=this;return _(n,t,e),this.taskqueue.isReady?r.apply(this,e):new Promise(function(r,o){n.taskqueue.addTask(function(i){i?o(i):r(n[t].apply(n,e))})})}))}function b(e,t){for(var r={},n=0,o=t.length;n<o;n++){var i=t[n];i in e&&(r[i]=e[i])}return r}var w,E,q=6;function O(e){return e}function S(e){return[{ok:e}]}function j(e,r,n){var o=r.docs,i=new t.Map;o.forEach(function(e){i.has(e.id)?i.get(e.id).push(e):i.set(e.id,[e])});var u=i.size,a=0,c=new Array(u);function s(){var e;++a===u&&(e=[],c.forEach(function(t){t.docs.forEach(function(r){e.push({id:t.id,docs:[r]})})}),n(null,{results:e}))}var f=[];i.forEach(function(e,t){f.push(t)});var l=0;function p(){if(!(l>=f.length)){var t=Math.min(l+q,f.length),n=f.slice(l,t);!function(t,n){t.forEach(function(t,o){var u=n+o,a=i.get(t),f=b(a[0],["atts_since","attachments"]);f.open_revs=a.map(function(e){return e.rev}),f.open_revs=f.open_revs.filter(O);var l=O;0===f.open_revs.length&&(delete f.open_revs,l=S),["revs","attachments","binary","ajax","latest"].forEach(function(e){e in r&&(f[e]=r[e])}),e.get(t,f,function(e,r){var n,o,i;n=e?[{error:e}]:l(r),o=t,i=n,c[u]={id:o,docs:i},s(),p()})})}(n,l),l+=n.length}}p()}try{localStorage.setItem("_pouch_check_localstorage",1),w=!!localStorage.getItem("_pouch_check_localstorage")}catch(oe){w=!1}function I(){return w}function P(e){I()&&addEventListener("storage",function(t){e.emit(t.key)})}function k(){n.EventEmitter.call(this),this._listeners={},P(this)}function A(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function D(e,t){return e=parseInt(e,10)||0,(t=parseInt(t,10))!=t||t<=e?t=(e||1)<<1:t+=1,t>6e5&&(e=3e5,t=6e5),~~((t-e)*Math.random()+e)}function L(e){var t=0;return e||(t=2e3),D(e,t)}function B(e,t){A("info","The above "+e+" is totally normal. "+t)}(0,o.default)(k,n.EventEmitter),k.prototype.addListener=function(e,t,n,o){if(!this._listeners[t]){var i=this,u=!1;this._listeners[t]=a,this.on(e,a)}function a(){if(i._listeners[t])if(u)u="waiting";else{u=!0;var e=b(o,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);n.changes(e).on("change",function(e){e.seq>o.since&&!o.cancelled&&(o.since=e.seq,o.onChange(e))}).on("complete",function(){"waiting"===u&&(0,r.default)(a),u=!1}).on("error",function(){u=!1})}}},k.prototype.removeListener=function(e,t){t in this._listeners&&(n.EventEmitter.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},k.prototype.notifyLocalWindows=function(e){I()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},k.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var C=E="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t};function M(e,t,r){try{return!e(t,r)}catch(o){var n="Filter function threw: "+o.toString();return(0,i.createError)(i.BAD_REQUEST,n)}}function N(e){var t={},r=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(n){n.doc||(n.doc={});var o=r&&M(e.filter,n.doc,t);if("object"==typeof o)return o;if(o)return!1;if(e.include_docs){if(!e.attachments)for(var i in n.doc._attachments)n.doc._attachments.hasOwnProperty(i)&&(n.doc._attachments[i].stub=!0)}else delete n.doc;return!0}}function F(e){for(var t=[],r=0,n=e.length;r<n;r++)t=t.concat(e[r]);return t}function R(){}exports.assign=C;var U,T=R.name,z=U=T?function(e){return e.name}:function(e){var t=e.toString().match(/^\s*function\s*(?:(\S+)\s*)?\(/);return t&&t[1]?t[1]:""};function G(e){var t;if(e?"string"!=typeof e?t=(0,i.createError)(i.INVALID_ID):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=(0,i.createError)(i.RESERVED_ID)):t=(0,i.createError)(i.MISSING_ID),t)throw t}function V(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(A("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function W(e,t){return"listenerCount"in e?e.listenerCount(t):n.EventEmitter.listenerCount(e,t)}function H(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function J(e){var t=H(e);return t?t.join("/"):null}exports.functionName=z;var K=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Q="queryKey",$=/(?:^|&)([^&=]*)=?([^&]*)/g,X=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function Y(e){for(var t=X.exec(e),r={},n=14;n--;){var o=K[n],i=t[n]||"",u=-1!==["user","password"].indexOf(o);r[o]=u?decodeURIComponent(i):i}return r[Q]={},r[K[12]].replace($,function(e,t,n){t&&(r[Q][t]=n)}),r}function Z(e,t){var r=[],n=[];for(var o in t)t.hasOwnProperty(o)&&(r.push(o),n.push(t[o]));return r.push(e),Function.apply(null,r).apply(null,n)}function ee(e,t,r){return new Promise(function(n,o){e.get(t,function(i,u){if(i){if(404!==i.status)return o(i);u={}}var a=u._rev,c=r(u);if(!c)return n({updated:!1,rev:a});c._id=t,c._rev=a,n(te(e,c,r))})})}function te(e,t,r){return e.put(t).then(function(e){return{updated:!0,rev:e.rev}},function(n){if(409!==n.status)throw n;return ee(e,t._id,r)})}function re(e,t){var r=(0,c.clone)(e);return t?(delete r._rev_tree,(0,a.stringMd5)(JSON.stringify(r))):u.default.v4().replace(/-/g,"").toLowerCase()}var ne=u.default.v4;exports.uuid=ne;
},{"argsarray":"I5Ig","pouchdb-collections":"qpbW","immediate":"uUPe","events":"FRpO","inherits":"pyp0","pouchdb-errors":"FrDX","uuid":"ptHy","pouchdb-md5":"NRa5","pouchdb-utils":"nQxG"}],"TC0Y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.uniq=p,exports.sequentialize=h,exports.fin=f,exports.callbackify=c,exports.promisedCallback=a,exports.mapToKeysArray=l,exports.QueryParseError=o,exports.NotFoundError=i,exports.BuiltInError=s;var r=u(require("inherits")),t=require("pouchdb-collections"),e=u(require("argsarray")),n=require("pouchdb-utils");function u(r){return r&&r.__esModule?r:{default:r}}function o(r){this.status=400,this.name="query_parse_error",this.message=r,this.error=!0;try{Error.captureStackTrace(this,o)}catch(t){}}function i(r){this.status=404,this.name="not_found",this.message=r,this.error=!0;try{Error.captureStackTrace(this,i)}catch(t){}}function s(r){this.status=500,this.name="invalid_value",this.message=r,this.error=!0;try{Error.captureStackTrace(this,s)}catch(t){}}function a(r,t){return t&&r.then(function(r){(0,n.nextTick)(function(){t(null,r)})},function(r){(0,n.nextTick)(function(){t(r)})}),r}function c(r){return(0,e.default)(function(t){var e=t.pop(),n=r.apply(this,t);return"function"==typeof e&&a(n,e),n})}function f(r,t){return r.then(function(r){return t().then(function(){return r})},function(r){return t().then(function(){throw r})})}function h(r,t){return function(){var e=arguments,n=this;return r.add(function(){return t.apply(n,e)})}}function p(r){var e=new t.Set(r),n=new Array(e.size),u=-1;return e.forEach(function(r){n[++u]=r}),n}function l(r){var t=new Array(r.size),e=-1;return r.forEach(function(r,n){t[++e]=n}),t}(0,r.default)(o,Error),(0,r.default)(i,Error),(0,r.default)(s,Error);
},{"inherits":"pyp0","pouchdb-collections":"qpbW","argsarray":"I5Ig","pouchdb-utils":"nQxG"}],"qove":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("pouchdb-utils"),n=require("pouchdb-md5"),r=require("pouchdb-collections"),t=require("pouchdb-binary-utils"),o=require("pouchdb-collate"),u=require("pouchdb-errors"),i=require("pouchdb-fetch"),a=require("pouchdb-mapreduce-utils");function c(){this.promise=new Promise(function(e){e()})}function s(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function d(e,n){return s(e)+s(n)+"undefined"}function f(r,t,o,u,i,a){var c,s=d(o,u);if(!i&&(c=r._cachedViews=r._cachedViews||{})[s])return c[s];var f=r.info().then(function(d){var f=d.db_name+"-mrview-"+(i?"temp":(0,n.stringMd5)(s));return(0,e.upsert)(r,"_local/"+a,function(e){e.views=e.views||{};var n=t;-1===n.indexOf("/")&&(n=t+"/"+t);var r=e.views[n]=e.views[n]||{};if(!r[f])return r[f]=!0,e}).then(function(){return r.registerDependentDatabase(f).then(function(e){var n=e.db;n.auto_compaction=!0;var t={name:f,db:n,sourceDB:r,adapter:r.adapter,mapFun:o,reduceFun:u};return t.db.get("_local/lastSeq").catch(function(e){if(404!==e.status)throw e}).then(function(e){return t.seq=e?e.seq:0,c&&t.db.once("destroyed",function(){delete c[s]}),t})})})});return c&&(c[s]=f),f}c.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},c.prototype.finish=function(){return this.promise};var l={},v=new c,y=50;function h(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function p(e){return 1===e.length&&/^1-/.test(e[0].rev)}function k(n,r){try{n.emit("error",r)}catch(t){(0,e.guardedConsole)("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),(0,e.guardedConsole)("error",r)}}function _(n,s,d,_){function g(e,n,r){try{n(r)}catch(t){k(e,t)}}function m(e,n,r,t,o){try{return{output:n(r,t,o)}}catch(u){return k(e,u),{error:u}}}function w(e,n){var r=(0,o.collate)(e.key,n.key);return 0!==r?r:(0,o.collate)(e.value,n.value)}function b(e,n,r){return r=r||0,"number"==typeof n?e.slice(r,n+r):r>0?e.slice(r):e}function q(e){var n=e.value;return n&&"object"==typeof n&&n._id||e.id}function S(e){return function(n){return e.include_docs&&e.attachments&&e.binary&&function(e){e.rows.forEach(function(e){var n=e.doc&&e.doc._attachments;n&&Object.keys(n).forEach(function(e){var r=n[e];n[e].data=(0,t.base64StringToBlobOrBuffer)(r.data,r.content_type)})})}(n),n}}function E(e,n,r,t){var o=n[e];void 0!==o&&(t&&(o=encodeURIComponent(JSON.stringify(o))),r.push(e+"="+o))}function I(e){if(void 0!==e){var n=Number(e);return isNaN(n)||n!==parseInt(e,10)?e:n}}function P(e,n){var r=e.descending?"endkey":"startkey",t=e.descending?"startkey":"endkey";if(void 0!==e[r]&&void 0!==e[t]&&(0,o.collate)(e[r],e[t])>0)throw new a.QueryParseError("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(n.reduce&&!1!==e.reduce){if(e.include_docs)throw new a.QueryParseError("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new a.QueryParseError("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(n){var r=function(e){if(e){if("number"!=typeof e)return new a.QueryParseError('Invalid value for integer: "'+e+'"');if(e<0)return new a.QueryParseError('Invalid value for positive integer: "'+e+'"')}}(e[n]);if(r)throw r})}function O(e){return function(n){if(404===n.status)return e;throw n}}function j(e,n,t){var o="_local/doc_"+e,u={_id:o,keys:[]},i=t.get(e),c=i[0];return(p(i[1])?Promise.resolve(u):n.db.get(o).catch(O(u))).then(function(e){return function(e){return e.keys.length?n.db.allDocs({keys:e.keys,include_docs:!0}):Promise.resolve({rows:[]})}(e).then(function(n){return function(e,n){for(var t=[],o=new r.Set,u=0,i=n.rows.length;u<i;u++){var s=n.rows[u].doc;if(s&&(t.push(s),o.add(s._id),s._deleted=!c.has(s._id),!s._deleted)){var d=c.get(s._id);"value"in d&&(s.value=d.value)}}var f=(0,a.mapToKeysArray)(c);return f.forEach(function(e){if(!o.has(e)){var n={_id:e},r=c.get(e);"value"in r&&(n.value=r.value),t.push(n)}}),e.keys=(0,a.uniq)(f.concat(e.keys)),t.push(e),t}(e,n)})})}function x(e){var n="string"==typeof e?e:e.name,r=l[n];return r||(r=l[n]=new c),r}function N(n){return(0,a.sequentialize)(x(n),function(){return function(n){var t,u;var i=s(n.mapFun,function(e,n){var r={id:u._id,key:(0,o.normalizeKey)(e)};null!=n&&(r.value=(0,o.normalizeKey)(n));t.push(r)}),d=n.seq||0;function f(r,t){return function(){return function(n,r,t){return n.db.get("_local/lastSeq").catch(O({_id:"_local/lastSeq",seq:0})).then(function(o){var u=(0,a.mapToKeysArray)(r);return Promise.all(u.map(function(e){return j(e,n,r)})).then(function(r){var u=(0,e.flatten)(r);return o.seq=t,u.push(o),n.db.bulkDocs({docs:u})})})}(n,r,t)}}var l=new c;function v(){return n.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:d,limit:y}).then(h)}function h(e){var o=e.results;if(o.length){var a=function(e){for(var o=new r.Map,a=0,c=e.length;a<c;a++){var s=e[a];if("_"!==s.doc._id[0]){t=[],(u=s.doc)._deleted||g(n.sourceDB,i,u),t.sort(w);var f=p(t);o.set(s.doc._id,[f,s.changes])}d=s.seq}return o}(o);if(l.add(f(a,d)),!(o.length<y))return v()}}function p(e){for(var n,t=new r.Map,u=0,i=e.length;u<i;u++){var a=e[u],c=[a.key,a.id];u>0&&0===(0,o.collate)(a.key,n)&&c.push(u),t.set((0,o.toIndexableString)(c),a),n=a.key}return t}return v().then(function(){return l.finish()}).then(function(){n.seq=d})}(n)})()}function T(n,t){return(0,a.sequentialize)(x(n),function(){return function(n,t){var u,i=n.reduceFun&&!1!==t.reduce,c=t.skip||0;void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys);function s(e){return e.include_docs=!0,n.db.allDocs(e).then(function(e){return u=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var n=Object.keys(e.doc.value).sort(),r=["id","key","value"];if(!(n<r||n>r))return e.doc.value}var t=(0,o.parseIndexableString)(e.doc._id);return{key:t[0],id:t[1],value:"value"in e.doc?e.doc.value:null}})})}function f(e){var s;if(s=i?function(e,n,r){0===r.group_level&&delete r.group_level;var t=r.group||r.group_level,u=d(e.reduceFun),i=[],c=isNaN(r.group_level)?Number.POSITIVE_INFINITY:r.group_level;n.forEach(function(e){var n=i[i.length-1],r=t?e.key:null;if(t&&Array.isArray(r)&&(r=r.slice(0,c)),n&&0===(0,o.collate)(n.groupKey,r))return n.keys.push([e.key,e.id]),void n.values.push(e.value);i.push({keys:[[e.key,e.id]],values:[e.value],groupKey:r})}),n=[];for(var s=0,f=i.length;s<f;s++){var l=i[s],v=m(e.sourceDB,u,l.keys,l.values,!1);if(v.error&&v.error instanceof a.BuiltInError)throw v.error;n.push({value:v.error?null:v.output,key:l.groupKey})}return{rows:b(n,r.limit,r.skip)}}(n,e,t):{total_rows:u,offset:c,rows:e},t.update_seq&&(s.update_seq=n.seq),t.include_docs){var f=(0,a.uniq)(e.map(q));return n.sourceDB.allDocs({keys:f,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then(function(n){var t=new r.Map;return n.rows.forEach(function(e){t.set(e.id,e.doc)}),e.forEach(function(e){var n=q(e),r=t.get(n);r&&(e.doc=r)}),s})}return s}if(void 0!==t.keys){var l=t.keys,v=l.map(function(e){var n={startkey:(0,o.toIndexableString)([e]),endkey:(0,o.toIndexableString)([e,{}])};return t.update_seq&&(n.update_seq=!0),s(n)});return Promise.all(v).then(e.flatten).then(f)}var y,h,p={descending:t.descending};if(t.update_seq&&(p.update_seq=!0),"start_key"in t&&(y=t.start_key),"startkey"in t&&(y=t.startkey),"end_key"in t&&(h=t.end_key),"endkey"in t&&(h=t.endkey),void 0!==y&&(p.startkey=t.descending?(0,o.toIndexableString)([y,{}]):(0,o.toIndexableString)([y])),void 0!==h){var k=!1!==t.inclusive_end;t.descending&&(k=!k),p.endkey=(0,o.toIndexableString)(k?[h,{}]:[h])}if(void 0!==t.key){var _=(0,o.toIndexableString)([t.key]),g=(0,o.toIndexableString)([t.key,{}]);p.descending?(p.endkey=_,p.startkey=g):(p.startkey=_,p.endkey=g)}return i||("number"==typeof t.limit&&(p.limit=t.limit),p.skip=c),s(p).then(f)}(n,t)})()}function D(r,t,o){if("function"==typeof r._query)return function(e,n,r){return new Promise(function(t,o){e._query(n,r,function(e,n){if(e)return o(e);t(n)})})}(r,t,o);if((0,e.isRemote)(r))return function(e,n,r){var t,o,a,c=[],s="GET";if(E("reduce",r,c),E("include_docs",r,c),E("attachments",r,c),E("limit",r,c),E("descending",r,c),E("group",r,c),E("group_level",r,c),E("skip",r,c),E("stale",r,c),E("conflicts",r,c),E("startkey",r,c,!0),E("start_key",r,c,!0),E("endkey",r,c,!0),E("end_key",r,c,!0),E("inclusive_end",r,c),E("key",r,c,!0),E("update_seq",r,c),c=""===(c=c.join("&"))?"":"?"+c,void 0!==r.keys){var d="keys="+encodeURIComponent(JSON.stringify(r.keys));d.length+c.length+1<=2e3?c+=("?"===c[0]?"&":"?")+d:(s="POST","string"==typeof n?t={keys:r.keys}:n.keys=r.keys)}if("string"==typeof n){var f=h(n);return e.fetch("_design/"+f[0]+"/_view/"+f[1]+c,{headers:new i.Headers({"Content-Type":"application/json"}),method:s,body:JSON.stringify(t)}).then(function(e){return o=e.ok,a=e.status,e.json()}).then(function(e){if(!o)throw e.status=a,(0,u.generateErrorFromResponse)(e);return e.rows.forEach(function(e){if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw new Error(e.reason)}),e}).then(S(r))}return t=t||{},Object.keys(n).forEach(function(e){Array.isArray(n[e])?t[e]=n[e]:t[e]=n[e].toString()}),e.fetch("_temp_view"+c,{headers:new i.Headers({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(t)}).then(function(e){return o=e.ok,a=e.status,e.json()}).then(function(e){if(!o)throw e.status=a,(0,u.generateErrorFromResponse)(e);return e}).then(S(r))}(r,t,o);if("string"!=typeof t)return P(o,t),v.add(function(){return f(r,"temp_view/temp_view",t.map,t.reduce,!0,n).then(function(e){return(0,a.fin)(N(e).then(function(){return T(e,o)}),function(){return e.db.destroy()})})}),v.finish();var c=t,s=h(c),d=s[0],l=s[1];return r.get("_design/"+d).then(function(t){var u=t.views&&t.views[l];if(!u)throw new a.NotFoundError("ddoc "+t._id+" has no view named "+l);return _(t,l),P(o,u),f(r,c,u.map,u.reduce,!1,n).then(function(n){return"ok"===o.stale||"update_after"===o.stale?("update_after"===o.stale&&(0,e.nextTick)(function(){N(n)}),T(n,o)):N(n).then(function(){return T(n,o)})})})}return{query:function(e,n,r){var t=this;"function"==typeof n&&(r=n,n={}),n=n?function(e){return e.group_level=I(e.group_level),e.limit=I(e.limit),e.skip=I(e.skip),e}(n):{},"function"==typeof e&&(e={map:e});var o=Promise.resolve().then(function(){return D(t,e,n)});return(0,a.promisedCallback)(o,r),o},viewCleanup:(0,a.callbackify)(function(){var t=this;return"function"==typeof t._viewCleanup?function(e){return new Promise(function(n,r){e._viewCleanup(function(e,t){if(e)return r(e);n(t)})})}(t):(0,e.isRemote)(t)?function(e){return e.fetch("_view_cleanup",{headers:new i.Headers({"Content-Type":"application/json"}),method:"POST"}).then(function(e){return e.json()})}(t):function(e){return e.get("_local/"+n).then(function(n){var t=new r.Map;Object.keys(n.views).forEach(function(e){var n=h(e),o="_design/"+n[0],u=n[1],i=t.get(o);i||(i=new r.Set,t.set(o,i)),i.add(u)});var o={keys:(0,a.mapToKeysArray)(t),include_docs:!0};return e.allDocs(o).then(function(r){var o={};r.rows.forEach(function(e){var r=e.key.substring(8);t.get(e.key).forEach(function(t){var u=r+"/"+t;n.views[u]||(u=t);var i=Object.keys(n.views[u]),a=e.doc&&e.doc.views&&e.doc.views[t];i.forEach(function(e){o[e]=o[e]||a})})});var u=Object.keys(o).filter(function(e){return!o[e]}).map(function(n){return(0,a.sequentialize)(x(n),function(){return new e.constructor(n,e.__opts).destroy()})()});return Promise.all(u).then(function(){return{ok:!0}})})},O({ok:!0}))}(t)})}}var g=_;exports.default=g;
},{"pouchdb-utils":"GQBM","pouchdb-md5":"FoCX","pouchdb-collections":"qpbW","pouchdb-binary-utils":"WfYg","pouchdb-collate":"XVUJ","pouchdb-errors":"nowN","pouchdb-fetch":"o28F","pouchdb-mapreduce-utils":"TC0Y"}],"rsNZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("pouchdb-utils"),n=require("pouchdb-errors"),t=require("pouchdb-fetch"),r=require("pouchdb-selector-core"),i=s(require("pouchdb-abstract-mapreduce")),o=require("pouchdb-collate"),u=require("pouchdb-md5");function s(e){return e&&e.__esModule?e:{default:e}}function d(n){return(n=(0,e.clone)(n)).index||(n.index={}),["type","name","ddoc"].forEach(function(e){n.index[e]&&(n[e]=n.index[e],delete n.index[e])}),n.fields&&(n.index.fields=n.fields,delete n.fields),n.type||(n.type="json"),n}function c(e,r,i,o){var u,s;i.headers=new t.Headers({"Content-type":"application/json"}),e.fetch(r,i).then(function(e){return u=e.status,s=e.ok,e.json()}).then(function(e){if(s)o(null,e);else{e.status=u;var t=(0,n.generateErrorFromResponse)(e);o(t)}}).catch(o)}function a(e,n,t){n=d(n),c(e,"_index",{method:"POST",body:JSON.stringify(n)},t)}function f(e,n,t){c(e,"_find",{method:"POST",body:JSON.stringify(n)},t)}function l(e,n,t){c(e,"_explain",{method:"POST",body:JSON.stringify(n)},t)}function y(e,n){c(e,"_index",{method:"GET"},n)}function v(e,n,t){var r=n.ddoc,i=n.type||"json",o=n.name;return r?o?void c(e,"_index/"+[r,i,o].map(encodeURIComponent).join("/"),{method:"DELETE"},t):t(new Error("you must provide an index's name")):t(new Error("you must provide an index's ddoc"))}function h(e){return function(){for(var n=arguments.length,t=new Array(n),r=-1;++r<n;)t[r]=arguments[r];return e.call(this,t)}}function p(e){return h(function(n){var t=n.pop(),r=e.apply(this,n);return g(r,t),r})}function g(n,t){return n.then(function(n){(0,e.nextTick)(function(){t(null,n)})},function(n){(0,e.nextTick)(function(){t(n)})}),n}var m=h(function(e){for(var n=[],t=0,r=e.length;t<r;t++){var i=e[t];Array.isArray(i)?n=n.concat(m.apply(null,i)):n.push(i)}return n});function k(n){for(var t={},r=0,i=n.length;r<i;r++)t=(0,e.assign)(t,n[r]);return t}function x(e,n){for(var t={},i=0,o=n.length;i<o;i++){var u=(0,r.parseField)(n[i]),s=(0,r.getFieldFromDoc)(e,u);void 0!==s&&(0,r.setFieldInDoc)(t,u,s)}return t}function _(e,n){for(var t=0,r=Math.min(e.length,n.length);t<r;t++)if(e[t]!==n[t])return!1;return!0}function w(e,n){return!(e.length>n.length)&&_(e,n)}function b(e,n){e=e.slice();for(var t=0,r=n.length;t<r;t++){var i=n[t];if(!e.length)break;var o=e.indexOf(i);if(-1===o)return!1;e.splice(o,1)}return!0}function O(e){for(var n={},t=0,r=e.length;t<r;t++)n[e[t]]=!0;return n}function j(e,n){for(var t=null,r=-1,i=0,o=e.length;i<o;i++){var u=e[i],s=n(u);s>r&&(r=s,t=u)}return t}function q(e,n){if(e.length!==n.length)return!1;for(var t=0,r=e.length;t<r;t++)if(e[t]!==n[t])return!1;return!0}function E(e){for(var n={},t=0;t<e.length;t++)n["$"+e[t]]=!0;return Object.keys(n).map(function(e){return e.substring(1)})}function $(e,n){return function(t){for(var i=[],o=0,u=e.length;o<u;o++){for(var s=(0,r.parseField)(e[o]),d=t,c=0,a=s.length;c<a;c++){if(void 0===(d=d[s[c]]))return}i.push(d)}n(i)}}function M(e,n){var t=(0,r.parseField)(e);return function(e){for(var r=e,i=0,o=t.length;i<o;i++){if(void 0===(r=r[t[i]]))return}n(r)}}function F(e,n){return function(t){n(t[e])}}function A(e,n){return function(t){for(var r=[],i=0,o=e.length;i<o;i++)r.push(t[e[i]]);n(r)}}function K(e){for(var n=0,t=e.length;n<t;n++){if(-1!==e[n].indexOf("."))return!1}return!0}function P(e,n){var t=K(e),r=1===e.length;return t?r?F(e[0],n):A(e,n):r?M(e[0],n):$(e,n)}function U(e,n){return P(Object.keys(e.fields),n)}function N(){throw new Error("reduce not supported")}function S(e,n){var t=e.views[n];if(!t.map||!t.map.fields)throw new Error("ddoc "+e._id+" with view "+n+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")}var T=(0,i.default)("indexes",U,N,S);function R(e){if(!Array.isArray(e))throw new Error("invalid sort json - should be an array");return e.map(function(e){if("string"==typeof e){var n={};return n[e]="asc",n}return e})}function I(e){var n=[];return"string"==typeof e?n.push(e):n=e,n.map(function(e){return e.replace("_design/","")})}function V(e){return e.fields=e.fields.map(function(e){if("string"==typeof e){var n={};return n[e]="asc",n}return e}),e}function C(e,n){for(var t=[],i=0;i<n.def.fields.length;i++){var o=(0,r.getKey)(n.def.fields[i]);t.push(e[o])}return t}function D(e,n,t){for(var r=t.def.fields,i=0,u=e.length;i<u;i++){var s=C(e[i].doc,t);if(1===r.length)s=s[0];else for(;s.length>n.length;)s.pop();if(Math.abs((0,o.collate)(s,n))>0)break}return i>0?e.slice(i):e}function L(n){var t=(0,e.clone)(n);return delete t.startkey,delete t.endkey,delete t.inclusive_start,delete t.inclusive_end,"endkey"in n&&(t.startkey=n.endkey),"startkey"in n&&(t.endkey=n.startkey),"inclusive_start"in n&&(t.inclusive_end=n.inclusive_start),"inclusive_end"in n&&(t.inclusive_start=n.inclusive_end),t}function J(e){var n=e.fields.filter(function(e){return"asc"===(0,r.getValue)(e)});if(0!==n.length&&n.length!==e.fields.length)throw new Error("unsupported mixed sorting")}function X(e,n){if(n.defaultUsed&&e.sort){var t=e.sort.filter(function(e){return"_id"!==Object.keys(e)[0]}).map(function(e){return Object.keys(e)[0]});if(t.length>0)throw new Error('Cannot sort on field(s) "'+t.join(",")+'" when using the default index')}n.defaultUsed}function z(e){if("object"!=typeof e.selector)throw new Error("you must provide a selector when you find()")}function G(e,n){var t,i=Object.keys(e),o=n?n.map(r.getKey):[];return t=i.length>=o.length?i:o,0===o.length?{fields:t}:{fields:t=t.sort(function(e,n){var t=o.indexOf(e);-1===t&&(t=Number.MAX_VALUE);var r=o.indexOf(n);return-1===r&&(r=Number.MAX_VALUE),t<r?-1:t>r?1:0}),sortOrder:n.map(r.getKey)}}function H(n,t){t=d(t);var r,i=(0,e.clone)(t.index);function o(){return r||(r=(0,u.stringMd5)(JSON.stringify(t)))}t.index=V(t.index),J(t.index);var s=t.name||"idx-"+o(),c=t.ddoc||"idx-"+o(),a="_design/"+c,f=!1,l=!1;return n.constructor.emit("debug",["find","creating index",a]),(0,e.upsert)(n,a,function(e){return e._rev&&"query"!==e.language&&(f=!0),e.language="query",e.views=e.views||{},!(l=!!e.views[s])&&(e.views[s]={map:{fields:k(t.index.fields)},reduce:"_count",options:{def:i}},e)}).then(function(){if(f)throw new Error('invalid language for ddoc with id "'+a+'" (should be "query")')}).then(function(){var e=c+"/"+s;return T.query.call(n,e,{limit:0,reduce:!1}).then(function(){return{id:a,name:s,result:l?"exists":"created"}})})}function B(e){return e.allDocs({startkey:"_design/",endkey:"_design/￿",include_docs:!0}).then(function(e){var n={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return n.indexes=m(n.indexes,e.rows.filter(function(e){return"query"===e.doc.language}).map(function(e){return(void 0!==e.doc.views?Object.keys(e.doc.views):[]).map(function(n){var t=e.doc.views[n];return{ddoc:e.id,name:n,type:"json",def:V(t.options.def)}})})),n.indexes.sort(function(e,n){return(0,r.compare)(e.name,n.name)}),n.total_rows=n.indexes.length,n})}var Q=null,W={"￿":{}};function Y(e,n){for(var t=e.def.fields.map(r.getKey),i=0,o=t.length;i<o;i++){if(n===t[i])return!0}return!1}function Z(e,n){var t=e[n];return"$eq"!==(0,r.getKey)(t)}function ee(e,n){var t=n.def.fields.map(r.getKey);return e.slice().sort(function(e,n){var i=t.indexOf(e),o=t.indexOf(n);return-1===i&&(i=Number.MAX_VALUE),-1===o&&(o=Number.MAX_VALUE),(0,r.compare)(i,o)})}function ne(e,n,t){for(var r=!1,i=0,o=(t=ee(t,e)).length;i<o;i++){var u=t[i];if(r||!Y(e,u))return t.slice(i);i<o-1&&Z(n,u)&&(r=!0)}return[]}function te(e){var n=[];return Object.keys(e).forEach(function(t){var r=e[t];Object.keys(r).forEach(function(e){"$ne"===e&&n.push(t)})}),n}function re(e,n,t,r){return ee(E(m(e,ne(n,t,r),te(t))),n)}function ie(e,n,t){if(n){var r=w(n,e),i=_(t,e);return r&&i}return b(t,e)}var oe=["$eq","$gt","$gte","$lt","$lte"];function ue(e){return-1===oe.indexOf(e)}function se(e,n){var t=n[e[0]];return void 0===t||!!Object.keys(t).some(function(e){return!ue(e)})&&!(1===Object.keys(t).length&&"$ne"===(0,r.getKey)(t))}function de(e,n,t,i){var o=e.def.fields.map(r.getKey);return!!ie(o,n,t)&&se(o,i)}function ce(e,n,t,r){return r.reduce(function(r,i){return de(i,t,n,e)&&r.push(i),r},[])}function ae(e,n,t,i,o){var u=ce(e,n,t,i);if(0===u.length){if(o)throw{error:"no_usable_index",message:"There is no index available for this selector."};var s=i[0];return s.defaultUsed=!0,s}if(1===u.length&&!o)return u[0];var d=O(n);if(o){var c="_design/"+o[0],a=2===o.length&&o[1],f=u.find(function(e){return!(!a||e.ddoc!==c||a!==e.name)||e.ddoc===c});if(!f)throw{error:"unknown_error",message:"Could not find that index or could not use that index for the query"};return f}return j(u,function(e){for(var n=e.def.fields.map(r.getKey),t=0,i=0,o=n.length;i<o;i++){var u=n[i];d[u]&&t++}return t})}function fe(e,n){switch(e){case"$eq":return{key:n};case"$lte":return{endkey:n};case"$gte":return{startkey:n};case"$lt":return{endkey:n,inclusive_end:!1};case"$gt":return{startkey:n,inclusive_start:!1}}}function le(e,n){var t,i=(0,r.getKey)(n.def.fields[0]),o=e[i]||{},u=[];return Object.keys(o).forEach(function(e){if(ue(e))u.push(i);else{var n=fe(e,o[e]);t=t?k([t,n]):n}}),{queryOpts:t,inMemoryFields:u}}function ye(e,n){switch(e){case"$eq":return{startkey:n,endkey:n};case"$lte":return{endkey:n};case"$gte":return{startkey:n};case"$lt":return{endkey:n,inclusive_end:!1};case"$gt":return{startkey:n,inclusive_start:!1}}}function ve(e,n){var t,i,o=n.def.fields.map(r.getKey),u=[],s=[],d=[];function c(e){!1!==t&&s.push(Q),!1!==i&&d.push(W),u=o.slice(e)}for(var a=0,f=o.length;a<f;a++){var l=e[o[a]];if(!l||!Object.keys(l).length){c(a);break}if(a>0){if(Object.keys(l).some(ue)){c(a);break}var y="$gt"in l||"$gte"in l||"$lt"in l||"$lte"in l,v=Object.keys(e[o[a-1]]),h=q(v,["$eq"]),p=q(v,Object.keys(l));if(y&&!h&&!p){c(a);break}}for(var g=Object.keys(l),m=null,x=0;x<g.length;x++){var _=g[x],w=ye(_,l[_]);m=m?k([m,w]):w}s.push("startkey"in m?m.startkey:Q),d.push("endkey"in m?m.endkey:W),"inclusive_start"in m&&(t=m.inclusive_start),"inclusive_end"in m&&(i=m.inclusive_end)}var b={startkey:s,endkey:d};return void 0!==t&&(b.inclusive_start=t),void 0!==i&&(b.inclusive_end=i),{queryOpts:b,inMemoryFields:u}}function he(e){return{queryOpts:{startkey:null},inMemoryFields:[Object.keys(e)]}}function pe(e,n){return n.defaultUsed?he(e,n):1===n.def.fields.length?le(e,n):ve(e,n)}function ge(e,n){var t=e.selector,r=G(t,e.sort),i=r.fields,o=ae(t,i,r.sortOrder,n,e.use_index),u=pe(t,o);return{queryOpts:u.queryOpts,index:o,inMemoryFields:re(u.inMemoryFields,o,t,i)}}function me(e){return e.ddoc.substring(8)+"/"+e.name}function ke(n,t){var r=(0,e.clone)(t);return r.descending?("endkey"in r&&"string"!=typeof r.endkey&&(r.endkey=""),"startkey"in r&&"string"!=typeof r.startkey&&(r.limit=0)):("startkey"in r&&"string"!=typeof r.startkey&&(r.startkey=""),"endkey"in r&&"string"!=typeof r.endkey&&(r.limit=0)),"key"in r&&"string"!=typeof r.key&&(r.limit=0),n.allDocs(r).then(function(e){return e.rows=e.rows.filter(function(e){return!/^_design\//.test(e.id)}),e})}function xe(n,t,i){return t.selector&&(t.selector=(0,r.massageSelector)(t.selector)),t.sort&&(t.sort=R(t.sort)),t.use_index&&(t.use_index=I(t.use_index)),z(t),B(n).then(function(u){n.constructor.emit("debug",["find","planning query",t]);var s=ge(t,u.indexes);n.constructor.emit("debug",["find","query plan",s]);var d=s.index;X(t,d);var c=(0,e.assign)({include_docs:!0,reduce:!1},s.queryOpts);return"startkey"in c&&"endkey"in c&&(0,o.collate)(c.startkey,c.endkey)>0?{docs:[]}:(t.sort&&"string"!=typeof t.sort[0]&&"desc"===(0,r.getValue)(t.sort[0])&&(c.descending=!0,c=L(c)),s.inMemoryFields.length||("limit"in t&&(c.limit=t.limit),"skip"in t&&(c.skip=t.skip)),i?Promise.resolve(s,c):Promise.resolve().then(function(){if("_all_docs"===d.name)return ke(n,c);var e=me(d);return T.query.call(n,e,c)}).then(function(e){!1===c.inclusive_start&&(e.rows=D(e.rows,c.startkey,d)),s.inMemoryFields.length&&(e.rows=(0,r.filterInMemoryFields)(e.rows,t,s.inMemoryFields));var n={docs:e.rows.map(function(e){var n=e.doc;return t.fields?x(n,t.fields):n})};return d.defaultUsed&&(n.warning="no matching index found, create an index to optimize query time"),n}))})}function _e(e,n){return xe(e,n,!0).then(function(t){return{dbname:e.name,index:t.index,selector:n.selector,range:{start_key:t.queryOpts.startkey,end_key:t.queryOpts.endkey},opts:{use_index:n.use_index||[],bookmark:"nil",limit:n.limit,skip:n.skip,sort:n.sort||{},fields:n.fields,conflicts:!1,r:[49]},limit:n.limit,skip:n.skip||0,fields:n.fields}})}function we(n,t){if(!t.ddoc)throw new Error("you must supply an index.ddoc when deleting");if(!t.name)throw new Error("you must supply an index.name when deleting");var r=t.ddoc,i=t.name;return(0,e.upsert)(n,r,function(e){return 1===Object.keys(e.views).length&&e.views[i]?{_id:r,_deleted:!0}:(delete e.views[i],e)}).then(function(){return T.viewCleanup.apply(n)}).then(function(){return{ok:!0}})}var be=p(H),Oe=p(xe),je=p(_e),qe=p(B),Ee=p(we),$e={};$e.createIndex=(0,e.toPromise)(function(n,t){if("object"!=typeof n)return t(new Error("you must provide an index to create"));((0,e.isRemote)(this)?a:be)(this,n,t)}),$e.find=(0,e.toPromise)(function(n,t){if(void 0===t&&(t=n,n=void 0),"object"!=typeof n)return t(new Error("you must provide search parameters to find()"));((0,e.isRemote)(this)?f:Oe)(this,n,t)}),$e.explain=(0,e.toPromise)(function(n,t){if(void 0===t&&(t=n,n=void 0),"object"!=typeof n)return t(new Error("you must provide search parameters to explain()"));((0,e.isRemote)(this)?l:je)(this,n,t)}),$e.getIndexes=(0,e.toPromise)(function(n){((0,e.isRemote)(this)?y:qe)(this,n)}),$e.deleteIndex=(0,e.toPromise)(function(n,t){if("object"!=typeof n)return t(new Error("you must provide an index to delete"));((0,e.isRemote)(this)?v:Ee)(this,n,t)});var Me=$e;exports.default=Me;
},{"pouchdb-utils":"VnLM","pouchdb-errors":"YYof","pouchdb-fetch":"o28F","pouchdb-selector-core":"rGNp","pouchdb-abstract-mapreduce":"qove","pouchdb-collate":"XVUJ","pouchdb-md5":"jQiz"}],"WkpD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.countAllUndeleted=i,exports.getBatch=o,exports.isLevelDown=u,exports.validateCouchDBString=c,exports.pouchReplicationFunction=s,exports.isInstanceOf=a,exports.PouchDB=void 0;var e=n(require("pouchdb-core")),r=n(require("pouchdb-find")),t=require("./rx-error");function n(e){return e&&e.__esModule?e:{default:e}}function i(e){return e.allDocs({include_docs:!1,attachments:!1}).then(function(e){return e.rows.filter(function(e){return!e.id.startsWith("_design/")}).length})}function o(e,r){if(r<=1)throw(0,t.newRxError)("P1",{limit:r});return e.allDocs({include_docs:!0,attachments:!1,limit:r}).then(function(e){return e.rows.map(function(e){return e.doc}).filter(function(e){return!e._id.startsWith("_design")})})}function u(e){if(!e||"function"!=typeof e.super_)throw(0,t.newRxError)("UT4",{adapter:e})}function c(e){if("string"!=typeof e||0===e.length)throw(0,t.newRxTypeError)("UT1",{name:e});if(e.includes("/")||e.includes("\\"))return!0;var r=new RegExp("^[a-z][_$a-z0-9]*$");if(!e.match(r))throw(0,t.newRxError)("UT2",{regex:"^[a-z][_$a-z0-9]*$",givenName:e});return!0}function s(e,r){var n=r.pull,i=void 0===n||n,o=r.push,u=void 0===o||o;if(i&&u)return e.sync.bind(e);if(!i&&u)return e.replicate.to.bind(e);if(i&&!u)return e.replicate.from.bind(e);if(!i&&!u)throw(0,t.newRxError)("UT3",{pull:i,push:u})}function a(r){return r instanceof e.default}e.default.plugin(r.default);var f=e.default;exports.PouchDB=f;
},{"pouchdb-core":"fR4A","pouchdb-find":"rsNZ","./rx-error":"iwQ4"}],"cEzh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports._handleToPouch=o,exports._handleFromPouch=t,exports.fillObjectDataBeforeInsert=s;var e=require("./util"),r=require("./rx-error");function o(r,o){var t=(0,e.clone)(o);return t=r._crypter.encrypt(t),t=r.schema.swapPrimaryToId(t),r.schema.doKeyCompression()&&(t=r._keyCompressor.compress(t)),t}function t(r,o){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=(0,e.clone)(o);return s=r.schema.swapIdToPrimary(s),r.schema.doKeyCompression()&&(s=r._keyCompressor.decompress(s)),t?s:s=r._crypter.decrypt(s)}function s(o,t){var s=o.schema.fillObjectWithDefaults(t);if(s._id&&"_id"!==o.schema.primaryPath)throw(0,r.newRxError)("COL2",{data:t});return"_id"!==o.schema.primaryPath||s._id||(s._id=(0,e.generateId)()),s}
},{"./util":"fx0o","./rx-error":"iwQ4"}],"yyqh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createOldCollection=h,exports._getOldCollections=m,exports.mustMigrate=f,exports.createDataMigrator=d,exports._runStrategyIfNotNull=p,exports.getBatchOfOldCollection=g,exports.migrateDocumentData=v,exports._migrateDocument=b,exports.deleteOldCollection=P,exports.migrateOldCollection=w,exports.migratePromise=x,exports.DataMigrator=void 0;var e=require("./pouch-db"),t=require("./util"),r=require("./rx-schema"),n=require("./rx-error"),o=s(require("./overwritable")),i=require("./hooks"),u=require("rxjs"),c=require("./crypter"),a=require("./rx-collection-helper");function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){function r(e,t){this._migrated=!1,this.newestCollection=e,this.migrationStrategies=t,this.currentSchema=e.schema,this.database=e.database,this.name=e.name}var o=r.prototype;return o.migrate=function(){var r=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;if(this._migrated)throw(0,n.newRxError)("DM1");this._migrated=!0;var i,c={done:!1,total:0,handled:0,success:0,deleted:0,percent:0},a=new u.Subject;return m(r).then(function(t){return i=t,Promise.all(i.map(function(t){return(0,e.countAllUndeleted)(t.pouchdb)}))}).then(function(e){var r=e.reduce(function(e,t){return e+t},0);c.total=r,a.next((0,t.clone)(c));for(var n=i.shift(),u=Promise.resolve(),s=function(){var e=w(n,o);u=u.then(function(){return new Promise(function(r){var n=e.subscribe(function(e){c.handled++,c[e.type]=c[e.type]+1,c.percent=Math.round(c.handled/c.total*100),a.next((0,t.clone)(c))},function(e){n.unsubscribe(),a.error(e)},function(){n.unsubscribe(),r()})})}),n=i.shift()};n;)s();return u}).then(function(){c.done=!0,c.percent=100,a.next((0,t.clone)(c)),a.complete()}),a.asObservable()},o.migratePromise=function(e){var t=this;return this._migratePromise||(this._migratePromise=f(this).then(function(r){return r?new Promise(function(r,n){t.migrate(e).subscribe(null,n,r)}):Promise.resolve(!1)})),this._migratePromise},r}();function h(e,t,n){var i=n.newestCollection.database,u=(0,r.createRxSchema)(t,!1),a={version:e,dataMigrator:n,newestCollection:n.newestCollection,database:i,schema:(0,r.createRxSchema)(t,!1),pouchdb:i._spawnPouchDB(n.newestCollection.name,e,n.newestCollection.pouchSettings),_crypter:(0,c.create)(i.password,u)};return u.doKeyCompression()&&(a._keyCompressor=o.default.createKeyCompressor(u)),a}function m(e){return Promise.all((0,r.getPreviousVersions)(e.currentSchema.jsonID).map(function(t){return e.database._collectionsPouch.get(e.name+"-"+t)}).map(function(e){return e.catch(function(){return null})})).then(function(t){return t.filter(function(e){return null!==e}).map(function(t){return h(t.schema.version,t.schema,e)})})}function f(e){return 0===e.currentSchema.version?Promise.resolve(!1):m(e).then(function(e){return 0!==e.length})}function d(e,t){return new l(e,t)}function p(e,r,n){if(null===n)return Promise.resolve(null);var o=e.dataMigrator.migrationStrategies[r](n);return(0,t.toPromise)(o)}function g(t,r){return(0,e.getBatch)(t.pouchdb,r).then(function(e){return e.map(function(e){return(0,a._handleFromPouch)(t,e)})})}function v(e,r){r=(0,t.clone)(r);for(var o=e.version+1,i=Promise.resolve(r),u=function(){var t=o;i=i.then(function(r){return p(e,t,r)}),o++};o<=e.newestCollection.schema.version;)u();return i.then(function(t){if(null===t)return Promise.resolve(null);try{e.newestCollection.schema.validate(t)}catch(r){throw(0,n.newRxError)("DM2",{fromVersion:e.version,toVersion:e.newestCollection.schema.version,finalDoc:t})}return t})}function b(e,t){var r={res:null,type:"",migrated:null,doc:t,oldCollection:e,newestCollection:e.newestCollection};return v(e,t).then(function(t){if(r.migrated=t,t)return(0,i.runPluginHooks)("preMigrateDocument",r),delete t._rev,e.newestCollection._pouchPut(t,!0).then(function(e){return r.res=e,r.type="success",(0,i.runAsyncPluginHooks)("postMigrateDocument",r)});r.type="deleted"}).then(function(){return e.pouchdb.remove((0,a._handleToPouch)(e,t)).catch(function(){})}).then(function(){return r})}function P(e){return e.pouchdb.destroy().then(function(){return e.database.removeCollectionDoc(e.dataMigrator.name,e.schema)})}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;if(e._migrate)throw(0,n.newRxError)("DM3");e._migrate=!0;var r,o=new u.Subject;return function n(){return g(e,t).then(function(t){return 0===t.length?(P(e).then(function(){return o.complete()}),!1):Promise.all(t.map(function(t){return b(e,t).then(function(e){return o.next(e)})})).catch(function(e){return r=e}).then(function(){return!0})}).then(function(e){e&&(r?o.error(r):n())})}(),o.asObservable()}function x(e,t){return e._migratePromise||(e._migratePromise=new Promise(function(r,n){w(e,t).subscribe(null,n,r)})),e._migratePromise}exports.DataMigrator=l;
},{"./pouch-db":"WkpD","./util":"fx0o","./rx-schema":"hw9e","./rx-error":"iwQ4","./overwritable":"Iri2","./hooks":"ZLkX","rxjs":"iRqj","./crypter":"lC2b","./rx-collection-helper":"cEzh"}],"qedX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createDocCache=t,exports.DocCache=void 0;var e=function(){function e(){this._map=new Map,this._map=new Map}var t=e.prototype;return t.get=function(e){return this._map.get(e)},t.set=function(e,t){return this._map.set(e,t)},t.delete=function(e){return this._map.delete(e)},e}();function t(){return new e}exports.DocCache=e;
},{}],"Z4EY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createQueryCache=t,exports.QueryCache=void 0;var e=function(){function e(){this.subs=[],this._map=new Map}var t=e.prototype;return t.getByQuery=function(e){var t=e.toString();return this._map.has(t)||this._map.set(t,e),this._map.get(t)},t.destroy=function(){this.subs.forEach(function(e){return e.unsubscribe()}),this._map=new Map},e}();function t(){return new e}exports.QueryCache=e;
},{}],"duhZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createChangeEventBuffer=e,exports.ChangeEventBuffer=void 0;var t=function(){function t(t){var e=this;this.subs=[],this.limit=100,this.counter=0,this.eventCounterMap=new WeakMap,this.buffer=[],this.collection=t,this.subs.push(this.collection.$.subscribe(function(t){return e._handleChangeEvent(t)}))}var e=t.prototype;return e._handleChangeEvent=function(t){for(this.counter++,this.buffer.push(t),this.eventCounterMap.set(t,this.counter);this.buffer.length>this.limit;)this.buffer.shift()},e.getArrayIndexByPointer=function(t){var e=this.buffer[0],r=this.eventCounterMap.get(e);return t<r?null:t-r},e.getFrom=function(t){var e=[],r=this.getArrayIndexByPointer(t);if(null===r)return null;for(;;){var n=this.buffer[r];if(r++,!n)return e;e.push(n)}},e.runFrom=function(t,e){var r=this.getFrom(t);if(null===r)throw new Error("out of bounds");r.forEach(function(t){return e(t)})},e.reduceByLastOfDoc=function(t){var e={};return t.forEach(function(t){e[t.data.doc]=t}),Object.values(e)},e.hasChangeWithRevision=function(t){for(var e=this.buffer.length;e>0;){e--;var r=this.buffer[e];if(r.data.v&&r.data.v._rev===t)return!0}return!1},e.destroy=function(){this.subs.forEach(function(t){return t.unsubscribe()})},t}();function e(e){return new t(e)}exports.ChangeEventBuffer=t;
},{}],"Ds7G":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.properties=O,exports.create=q,exports.isInstanceOf=D,exports.default=exports.RxCollectionBase=void 0;var e=_(require("@babel/runtime/helpers/createClass")),t=require("rxjs/operators"),r=require("./util"),n=require("./pouch-db"),i=require("./rx-collection-helper"),o=require("./rx-query"),s=require("./rx-schema"),a=require("./rx-change-event"),u=require("./rx-error"),c=require("./data-migrator"),h=_(require("./crypter")),f=require("./doc-cache"),d=require("./query-cache"),p=require("./change-event-buffer"),l=_(require("./overwritable")),m=require("./hooks"),v=require("./rx-document"),g=require("./rx-document-prototype-merge");function _(e){return e&&e.__esModule?e:{default:e}}var y=["pre","post"],b=["insert","save","remove","create"],x=!1,k=function(){function n(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{};this._isInMemory=!1,this.destroyed=!1,this._atomicUpsertQueues=new Map,this.synced=!1,this.hooks={},this._subs=[],this._repStates=[],this.pouch={},this._docCache=(0,f.createDocCache)(),this._queryCache=(0,d.createQueryCache)(),this._dataMigrator={},this._crypter={},this._changeEventBuffer={},this.database=e,this.name=t,this.schema=r,this.pouchSettings=n,this.migrationStrategies=i,this.methods=o,this.attachments=s,this.options=a,this.statics=u,w(this)}var s=n.prototype;return s.prepare=function(){var e=this;this.pouch=this.database._spawnPouchDB(this.name,this.schema.version,this.pouchSettings),this.schema.doKeyCompression()&&(this._keyCompressor=l.default.createKeyCompressor(this.schema));var r=this.pouch.info(),n=R(this,r);return this._dataMigrator=(0,c.createDataMigrator)(this,this.migrationStrategies),this._crypter=h.default.create(this.database.password,this.schema),this._observable$=this.database.$.pipe((0,t.filter)(function(t){return t.data.col===e.name})),this._changeEventBuffer=(0,p.createChangeEventBuffer)(this),this._subs.push(this._observable$.pipe((0,t.filter)(function(e){return!e.data.isLocal})).subscribe(function(t){var r=e._docCache.get(t.data.doc);r&&r._handleChangeEvent(t)})),Promise.all([r,n])},s.migrationNeeded=function(){return(0,c.mustMigrate)(this._dataMigrator)},s.migrate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._dataMigrator.migrate(e)},s.migratePromise=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._dataMigrator.migratePromise(e)},s._handleToPouch=function(e){return(0,i._handleToPouch)(this,e)},s._handleFromPouch=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,i._handleFromPouch)(this,e,t)},s._pouchPut=function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e=this._handleToPouch(e),this.database.lockedRun(function(){return t.pouch.put(e)}).catch(function(n){if(r&&409===n.status)return t.database.lockedRun(function(){return t.pouch.get(e._id)}).then(function(r){return e._rev=r._rev,t.database.lockedRun(function(){return t.pouch.put(e)})});throw 409===n.status?(0,u.newRxError)("COL19",{id:e._id,pouchDbError:n,data:e}):n})},s._pouchGet=function(e){var t=this;return this.pouch.get(e).then(function(e){return t._handleFromPouch(e)})},s._pouchFind=function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.keyCompress();return t&&(i.limit=t),this.database.lockedRun(function(){return r.pouch.find(i)}).then(function(e){return e.docs.map(function(e){return r._handleFromPouch(e,n)})})},s.$emit=function(e){return this.database.$emit(e)},s.insert=function(e){var t=this,r=null;if((0,v.isInstanceOf)(e)){if(!(r=e)._isTemporary)throw(0,u.newRxError)("COL1",{data:e});e=r.toJSON()}var n=(0,i.fillObjectDataBeforeInsert)(this,e),o=r;return this._runHooks("pre","insert",n).then(function(){return t.schema.validate(n),t._pouchPut(n)}).then(function(e){return n[t.schema.primaryPath]=e.id,n._rev=e.rev,r?r._dataSync$.next(n):o=(0,g.createRxDocument)(t,n),t._runHooks("post","insert",n,o)}).then(function(){var e=(0,a.createChangeEvent)("INSERT",t.database,t,o,n);return t.$emit(e),o})},s.bulkInsert=function(e){var t=this,r=e.map(function(e){return(0,i.fillObjectDataBeforeInsert)(t,e)});return Promise.all(r.map(function(e){return t._runHooks("pre","insert",e).then(function(){return t.schema.validate(e),e})})).then(function(e){var r=e.map(function(e){return t._handleToPouch(e)}),n=new Map;return e.forEach(function(e){n.set(e[t.schema.primaryPath],e)}),t.database.lockedRun(function(){return t.pouch.bulkDocs(r).then(function(e){var r=e.filter(function(e){return e.ok}).map(function(e){var r=n.get(e.id);return r._rev=e.rev,(0,g.createRxDocument)(t,r)});return r.forEach(function(e){var r=(0,a.createChangeEvent)("INSERT",t.database,t,e,n.get(e.primary));t.$emit(r)}),{success:r,error:e.filter(function(e){return!e.ok})}})})})},s.upsert=function(e){var t=this,n=(0,r.clone)(e),i=n[this.schema.primaryPath];if(!i)throw(0,u.newRxError)("COL3",{primaryPath:this.schema.primaryPath,data:n});return this.findOne(i).exec().then(function(r){return r?(n._rev=r._rev,r.atomicUpdate(function(){return n}).then(function(){return r})):t.insert(e)})},s.atomicUpsert=function(e){var t,n=this,i=(e=(0,r.clone)(e))[this.schema.primaryPath];if(!i)throw(0,u.newRxError)("COL4",{data:e});return t=(t=this._atomicUpsertQueues.has(i)?this._atomicUpsertQueues.get(i):Promise.resolve()).then(function(){return E(n,i,e)}).then(function(t){return t.inserted?t.doc:P(t.doc,e).then(function(){return(0,r.nextTick)()}).then(function(){return t.doc})}),this._atomicUpsertQueues.set(i,t),t},s.find=function(e){if("string"==typeof e)throw(0,u.newRxError)("COL5",{queryObj:e});return(0,o.createRxQuery)("find",e,this)},s.findOne=function(e){var t;if(t="string"==typeof e?(0,o.createRxQuery)("findOne",{_id:e},this):(0,o.createRxQuery)("findOne",e,this),"number"==typeof e||Array.isArray(e))throw(0,u.newRxTypeError)("COL6",{queryObj:e});return t},s.dump=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];throw(0,r.pluginMissing)("json-dump")},s.importDump=function(e){throw(0,r.pluginMissing)("json-dump")},s.watchForChanges=function(){throw(0,r.pluginMissing)("watch-for-changes")},s.sync=function(e){throw(0,r.pluginMissing)("replication")},s.syncGraphQL=function(e){throw(0,r.pluginMissing)("replication-graphql")},s.inMemory=function(){throw(0,r.pluginMissing)("in-memory")},s.addHook=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("function"!=typeof r)throw(0,u.newRxTypeError)("COL7",{key:t,when:e});if(!y.includes(e))throw(0,u.newRxTypeError)("COL8",{key:t,when:e});if(!b.includes(t))throw(0,u.newRxError)("COL9",{key:t});if("post"===e&&"create"===t&&!0===n)throw(0,u.newRxError)("COL10",{when:e,key:t,parallel:n});var i=r.bind(this),o=n?"parallel":"series";this.hooks[t]=this.hooks[t]||{},this.hooks[t][e]=this.hooks[t][e]||{series:[],parallel:[]},this.hooks[t][e][o].push(i)},s.getHooks=function(e,t){try{return this.hooks[t][e]}catch(r){return{series:[],parallel:[]}}},s._runHooks=function(e,t,n,i){var o=this.getHooks(e,t);if(!o)return Promise.resolve();var s=o.series.map(function(e){return function(){return e(n,i)}});return(0,r.promiseSeries)(s).then(function(){return Promise.all(o.parallel.map(function(e){return e(n,i)}))})},s._runHooksSync=function(e,t,r,n){var i=this.getHooks(e,t);i&&i.series.forEach(function(e){return e(r,n)})},s.newDocument=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=this.schema.fillObjectWithDefaults(e);var t=(0,v.createWithConstructor)((0,g.getRxDocumentConstructor)(this),this,e);return t._isTemporary=!0,this._runHooksSync("post","create",e,t),t},s.destroy=function(){return this.destroyed?Promise.resolve(!1):(this._onDestroyCall&&this._onDestroyCall(),this._subs.forEach(function(e){return e.unsubscribe()}),this._changeEventBuffer&&this._changeEventBuffer.destroy(),this._queryCache.destroy(),this._repStates.forEach(function(e){return e.cancel()}),delete this.database.collections[this.name],this.destroyed=!0,Promise.resolve(!0))},s.remove=function(){return this.database.removeCollection(this.name)},(0,e.default)(n,[{key:"$",get:function(){return this._observable$}},{key:"insert$",get:function(){return this.$.pipe((0,t.filter)(function(e){return"INSERT"===e.data.op}))}},{key:"update$",get:function(){return this.$.pipe((0,t.filter)(function(e){return"UPDATE"===e.data.op}))}},{key:"remove$",get:function(){return this.$.pipe((0,t.filter)(function(e){return"REMOVE"===e.data.op}))}},{key:"docChanges$",get:function(){return this.__docChanges$||(this.__docChanges$=this.$.pipe((0,t.filter)(function(e){return["INSERT","UPDATE","REMOVE"].includes(e.data.op)}))),this.__docChanges$}},{key:"onDestroy",get:function(){var e=this;return this._onDestroy||(this._onDestroy=new Promise(function(t){return e._onDestroyCall=t})),this._onDestroy}}]),n}();function w(e){if(!x){x=!0;var t=Object.getPrototypeOf(e);b.forEach(function(e){y.map(function(n){var i=n+(0,r.ucfirst)(e);t[i]=function(t,r){return this.addHook(n,e,t,r)}})})}}exports.RxCollectionBase=k;var C=null;function O(){if(!C){var e=new k,t=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(Object.getPrototypeOf(e));C=[].concat(t,r)}return C}function P(e,t){return e.atomicUpdate(function(e){return t._rev=e._rev,e._data=t,e._data}).then(function(){return e})}function E(e,t,r){return e.findOne(t).exec().then(function(t){return t?{doc:t,inserted:!1}:e.insert(r).then(function(e){return{doc:e,inserted:!0}})})}function R(e,t){return Promise.all(e.schema.indexes.map(function(r){var n=r.map(function(t){return e.schema.doKeyCompression()?e._keyCompressor.transformKey("","",t.split(".")):t});return t.then(function(){return e.pouch.createIndex({index:{fields:n}})})}))}function q(e){var t=e.database,r=e.name,i=e.schema,o=e.pouchSettings,a=void 0===o?{}:o,c=e.migrationStrategies,h=void 0===c?{}:c,f=e.autoMigrate,d=void 0===f||f,p=e.statics,l=void 0===p?{}:p,v=e.methods,g=void 0===v?{}:v,_=e.attachments,y=void 0===_?{}:_,b=e.options,x=void 0===b?{}:b;(0,n.validateCouchDBString)(r),(0,s.isInstanceOf)(i)||(i=(0,s.createRxSchema)(i)),Object.keys(g).filter(function(e){return i.topLevelFields.includes(e)}).forEach(function(e){throw(0,u.newRxError)("COL18",{funName:e})});var w=new k(t,r,i,a,h,g,y,x,l);return w.prepare().then(function(){Object.entries(l).forEach(function(e){var t=e[0],r=e[1];Object.defineProperty(w,t,{get:function(){return r.bind(w)}})});var e=Promise.resolve();return d&&(e=w.migratePromise()),e}).then(function(){return(0,m.runPluginHooks)("createRxCollection",w),w})}function D(e){return e instanceof k}var M={create:q,properties:O,isInstanceOf:D,RxCollectionBase:k};exports.default=M;
},{"@babel/runtime/helpers/createClass":"MCuf","rxjs/operators":"cVrl","./util":"fx0o","./pouch-db":"WkpD","./rx-collection-helper":"cEzh","./rx-query":"HG6H","./rx-schema":"hw9e","./rx-change-event":"TsdW","./rx-error":"iwQ4","./data-migrator":"yyqh","./crypter":"lC2b","./doc-cache":"qedX","./query-cache":"Z4EY","./change-event-buffer":"duhZ","./overwritable":"Iri2","./hooks":"ZLkX","./rx-document":"N09Y","./rx-document-prototype-merge":"YT9Y"}],"GA0r":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this._parallels=t||1,this._qC=0,this._iC=new Set,this._lHN=0,this._hPM=new Map,this._pHM=new Map};function e(t){0!==t._iC.size&&(t._iC.values().next().value._manRes(),setTimeout(function(){return n(t)},0))}function i(t,e){if(e){if(e._timeoutObj&&clearTimeout(e._timeoutObj),t._pHM.has(e)){var i=t._pHM.get(e);t._hPM.delete(i),t._pHM.delete(e)}t._iC.delete(e)}}function n(t){t._tryIR||0===t._iC.size||(t._tryIR=!0,setTimeout(function(){t.isIdle()?setTimeout(function(){t.isIdle()?(e(t),t._tryIR=!1):t._tryIR=!1},0):t._tryIR=!1},0))}t.prototype={isIdle:function(){return this._qC<this._parallels},lock:function(){this._qC++},unlock:function(){this._qC--,n(this)},wrapCall:function(t){var e,i=this;this.lock();try{e=t()}catch(n){throw this.unlock(),n}return e.then&&"function"==typeof e.then?e.then(function(t){return i.unlock(),t}).catch(function(t){throw i.unlock(),t}):(this.unlock(),e)},requestIdlePromise:function(t){var e,s=this;t=t||{};var o=new Promise(function(t){return e=t});if(o._manRes=function(){i(s,o),e()},t.timeout){var r=setTimeout(function(){o._manRes()},t.timeout);o._timeoutObj=r}return this._iC.add(o),n(this),o},cancelIdlePromise:function(t){i(this,t)},requestIdleCallback:function(t,e){var i=this._lHN++,n=this.requestIdlePromise(e);return this._hPM.set(i,n),this._pHM.set(n,i),n.then(function(){return t()}),i},cancelIdleCallback:function(t){var e=this._hPM.get(t);this.cancelIdlePromise(e)},clear:function(){var t=this;this._iC.forEach(function(e){return i(t,e)}),this._qC=0,this._iC.clear(),this._hPM=new Map,this._pHM=new Map}};var s=t;exports.default=s;
},{}],"sUx8":[function(require,module,exports) {
var process = require("process");
var e=require("process");function r(e){return!(!e||"function"!=typeof e.then)}function o(e){return e||(e=0),new Promise(function(r){return setTimeout(r,e)})}function t(e,r){return Math.floor(Math.random()*(r-e+1)+e)}function n(e){e||(e=5);for(var r="",o="abcdefghijklmnopqrstuvwxzy0123456789",t=0;t<e;t++)r+=o.charAt(Math.floor(Math.random()*o.length));return r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isPromise=r,exports.sleep=o,exports.randomInt=t,exports.randomToken=n,exports.microSeconds=a,exports.isNode=void 0;var s=0,i=0;function a(){var e=(new Date).getTime();return e===s?1e3*e+ ++i:(s=e,i=0,1e3*e)}var u="[object process]"===Object.prototype.toString.call(void 0!==e?e:0);exports.isNode=u;
},{"process":"pBGv"}],"bkHH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=t,exports.close=n,exports.postMessage=a,exports.onMessage=r,exports.canBeUsed=c,exports.averageResponseTime=i,exports.default=exports.type=exports.microSeconds=void 0;var e=require("../util"),s=e.microSeconds;exports.microSeconds=s;var o="native";function t(e){var s={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return s.bc.onmessage=function(e){s.messagesCallback&&s.messagesCallback(e.data)},s}function n(e){e.bc.close(),e.subFns=[]}function a(e,s){e.bc.postMessage(s,!1)}function r(e,s){e.messagesCallback=s}function c(){if(e.isNode&&"undefined"==typeof window)return!1;if("function"==typeof BroadcastChannel){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}return!1}function i(){return 150}exports.type=o;var l={create:t,close:n,onMessage:r,postMessage:a,canBeUsed:c,type:o,averageResponseTime:i,microSeconds:s};exports.default=l;
},{"../util":"sUx8"}],"GCcg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e){var r=new Set,a=new Map;this.has=r.has.bind(r),this.add=function(n){a.set(n,t()),r.add(n),function(){var n=t()-e,i=r[Symbol.iterator]();for(;;){var o=i.next().value;if(!o)return;var u=a.get(o);if(!(u<n))return;a.delete(o),r.delete(o)}}()},this.clear=function(){r.clear(),a.clear()}};function t(){return(new Date).getTime()}var r=e;exports.default=r;
},{}],"amqw":[function(require,module,exports) {
"use strict";function e(e){return e||(e={}),void 0===(e=JSON.parse(JSON.stringify(e))).webWorkerSupport&&(e.webWorkerSupport=!0),e.idb||(e.idb={}),e.idb.ttl||(e.idb.ttl=45e3),e.idb.fallbackInterval||(e.idb.fallbackInterval=150),e.localstorage||(e.localstorage={}),e.localstorage.removeTimeout||(e.localstorage.removeTimeout=6e4),e.node||(e.node={}),e.node.ttl||(e.node.ttl=12e4),void 0===e.node.useFastPath&&(e.node.useFastPath=!0),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.fillOptionsWithDefaults=e;
},{}],"sKZk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getIdb=a,exports.createDatabase=c,exports.writeMessage=d,exports.getAllMessages=l,exports.getMessagesHigherThen=f,exports.removeMessageById=m,exports.getOldMessages=p,exports.cleanOldMessages=b,exports.create=v,exports.close=I,exports.postMessage=h,exports.onMessage=k,exports.canBeUsed=P,exports.averageResponseTime=B,exports.default=exports.type=exports.microSeconds=void 0;var e=require("../util.js"),n=r(require("../oblivious-set")),t=require("../options");function r(e){return e&&e.__esModule?e:{default:e}}var o=e.microSeconds;exports.microSeconds=o;var s="pubkey.broadcast-channel-0-",i="messages",u="idb";function a(){return"undefined"!=typeof indexedDB?indexedDB:void 0!==window.mozIndexedDB?window.mozIndexedDB:void 0!==window.webkitIndexedDB?window.webkitIndexedDB:void 0!==window.msIndexedDB&&window.msIndexedDB}function c(e){var n=a(),t=s+e,r=n.open(t,1);return r.onupgradeneeded=function(e){e.target.result.createObjectStore(i,{keyPath:"id",autoIncrement:!0})},new Promise(function(e,n){r.onerror=function(e){return n(e)},r.onsuccess=function(){e(r.result)}})}function d(e,n,t){var r={uuid:n,time:(new Date).getTime(),data:t},o=e.transaction([i],"readwrite");return new Promise(function(e,n){o.oncomplete=function(){return e()},o.onerror=function(e){return n(e)},o.objectStore(i).add(r)})}function l(e){var n=e.transaction(i).objectStore(i),t=[];return new Promise(function(e){n.openCursor().onsuccess=function(n){var r=n.target.result;r?(t.push(r.value),r.continue()):e(t)}})}function f(e,n){var t=e.transaction(i).objectStore(i),r=[],o=IDBKeyRange.bound(n+1,1/0);return new Promise(function(e){t.openCursor(o).onsuccess=function(n){var t=n.target.result;t?(r.push(t.value),t.continue()):e(r)}})}function m(e,n){var t=e.transaction([i],"readwrite").objectStore(i).delete(n);return new Promise(function(e){t.onsuccess=function(){return e()}})}function p(e,n){var t=(new Date).getTime()-n,r=e.transaction(i).objectStore(i),o=[];return new Promise(function(e){r.openCursor().onsuccess=function(n){var r=n.target.result;if(r){var s=r.value;if(!(s.time<t))return void e(o);o.push(s),r.continue()}else e(o)}})}function b(e,n){return p(e,n).then(function(n){return Promise.all(n.map(function(n){return m(e,n.id)}))})}function v(r,o){return o=(0,t.fillOptionsWithDefaults)(o),c(r).then(function(t){var s={closed:!1,lastCursorId:0,channelName:r,options:o,uuid:(0,e.randomToken)(10),eMIs:new n.default(2*o.idb.ttl),writeBlockPromise:Promise.resolve(),messagesCallback:null,readQueuePromises:[],db:t};return g(s),s})}function g(n){if(!n.closed)return x(n).then(function(){return(0,e.sleep)(n.options.idb.fallbackInterval)}).then(function(){return g(n)})}function w(e,n){return e.uuid!==n.uuid&&(!n.eMIs.has(e.id)&&!(e.data.time<n.messagesCallbackTime))}function x(e){return e.closed?Promise.resolve():e.messagesCallback?f(e.db,e.lastCursorId).then(function(n){return n.filter(function(e){return!!e}).map(function(n){return n.id>e.lastCursorId&&(e.lastCursorId=n.id),n}).filter(function(n){return w(n,e)}).sort(function(e,n){return e.time-n.time}).forEach(function(n){e.messagesCallback&&(e.eMIs.add(n.id),e.messagesCallback(n.data))}),Promise.resolve()}):Promise.resolve()}function I(e){e.closed=!0,e.db.close()}function h(n,t){return n.writeBlockPromise=n.writeBlockPromise.then(function(){return d(n.db,n.uuid,t)}).then(function(){0===(0,e.randomInt)(0,10)&&b(n.db,n.options.idb.ttl)}),n.writeBlockPromise}function k(e,n,t){e.messagesCallbackTime=t,e.messagesCallback=n,x(e)}function P(){return!e.isNode&&!!a()}function B(e){return 2*e.idb.fallbackInterval}exports.type=u;var M={create:v,close:I,onMessage:k,postMessage:h,canBeUsed:P,type:u,averageResponseTime:B,microSeconds:o};exports.default=M;
},{"../util.js":"sUx8","../oblivious-set":"GCcg","../options":"amqw"}],"vH5R":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getLocalStorage=i,exports.storageKey=c,exports.postMessage=u,exports.addStorageEventListener=l,exports.removeStorageEventListener=d,exports.create=p,exports.close=m,exports.onMessage=f,exports.canBeUsed=v,exports.averageResponseTime=g,exports.default=exports.type=exports.microSeconds=void 0;var e=r(require("../oblivious-set")),t=require("../options"),n=require("../util");function r(e){return e&&e.__esModule?e:{default:e}}var o=n.microSeconds;exports.microSeconds=o;var a="pubkey.broadcastChannel-",s="localstorage";function i(){var e;if("undefined"==typeof window)return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch(t){}return e}function c(e){return a+e}function u(e,t){return new Promise(function(r){(0,n.sleep)().then(function(){var o=c(e.channelName),a={token:(0,n.randomToken)(10),time:(new Date).getTime(),data:t,uuid:e.uuid},s=JSON.stringify(a);i().setItem(o,s);var u=document.createEvent("Event");u.initEvent("storage",!0,!0),u.key=o,u.newValue=s,window.dispatchEvent(u),r()})})}function l(e,t){var n=c(e),r=function(e){e.key===n&&t(JSON.parse(e.newValue))};return window.addEventListener("storage",r),r}function d(e){window.removeEventListener("storage",e)}function p(r,o){if(o=(0,t.fillOptionsWithDefaults)(o),!v())throw new Error("BroadcastChannel: localstorage cannot be used");var a=(0,n.randomToken)(10),s=new e.default(o.localstorage.removeTimeout),i={channelName:r,uuid:a,eMIs:s};return i.listener=l(r,function(e){i.messagesCallback&&e.uuid!==a&&e.token&&!s.has(e.token)&&(e.data.time&&e.data.time<i.messagesCallbackTime||(s.add(e.token),i.messagesCallback(e.data)))}),i}function m(e){d(e.listener)}function f(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t}function v(){if(n.isNode)return!1;var e=i();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch(r){return!1}return!0}function g(){return 120}exports.type=s;var w={create:p,close:m,onMessage:f,postMessage:u,canBeUsed:v,type:s,averageResponseTime:g,microSeconds:o};exports.default=w;
},{"../oblivious-set":"GCcg","../options":"amqw","../util":"sUx8"}],"PsEb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=n,exports.close=o,exports.postMessage=a,exports.onMessage=c,exports.canBeUsed=u,exports.averageResponseTime=i,exports.default=exports.type=exports.microSeconds=void 0;var e=require("../util"),r=e.microSeconds;exports.microSeconds=r;var t="simulate";exports.type=t;var s=new Set;function n(e){var r={name:e,messagesCallback:null};return s.add(r),r}function o(e){s.delete(e)}function a(e,r){return new Promise(function(t){return setTimeout(function(){Array.from(s).filter(function(r){return r.name===e.name}).filter(function(r){return r!==e}).filter(function(e){return!!e.messagesCallback}).forEach(function(e){return e.messagesCallback(r)}),t()},5)})}function c(e,r){e.messagesCallback=r}function u(){return!0}function i(){return 5}var l={create:n,close:o,onMessage:c,postMessage:a,canBeUsed:u,type:t,averageResponseTime:i,microSeconds:r};exports.default=l;
},{"../util":"sUx8"}],"L4Nm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.chooseMethod=s;var e=n(require("./methods/native.js")),r=n(require("./methods/indexed-db.js")),t=n(require("./methods/localstorage.js")),o=n(require("./methods/simulate.js")),u=require("./util");function n(e){return e&&e.__esModule?e:{default:e}}var i=[e.default,r.default,t.default];if(u.isNode){var d=require("../../src/methods/node.js");"function"==typeof d.canBeUsed&&i.push(d)}function s(e){if(e.type){if("simulate"===e.type)return o.default;var r=i.find(function(r){return r.type===e.type});if(r)return r;throw new Error("method-type "+e.type+" not found")}var t=i;e.webWorkerSupport||u.isNode||(t=i.filter(function(e){return"idb"!==e.type}));var n=t.find(function(e){return e.canBeUsed()});if(n)return n;throw new Error("No useable methode found:"+JSON.stringify(i.map(function(e){return e.type})))}
},{"./methods/native.js":"bkHH","./methods/indexed-db.js":"sKZk","./methods/localstorage.js":"vH5R","./methods/simulate.js":"PsEb","./util":"sUx8"}],"zXOY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e,t=require("./util.js"),n=require("./method-chooser.js"),o=require("./options.js"),s=function(t,s){this.name=t,e&&(s=e),this.options=(0,o.fillOptionsWithDefaults)(s),this.method=(0,n.chooseMethod)(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._befC=[],this._prepP=null,r(this)};function i(e,t,n){var o={time:e.method.microSeconds(),type:t,data:n};return(e._prepP?e._prepP:Promise.resolve()).then(function(){return e.method.postMessage(e._state,o)})}function r(e){var n=e.method.create(e.name,e.options);(0,t.isPromise)(n)?(e._prepP=n,n.then(function(t){e._state=t})):e._state=n}function a(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function h(e,t,n){e._addEL[t].push(n),u(e)}function d(e,t,n){e._addEL[t]=e._addEL[t].filter(function(e){return e!==n}),c(e)}function u(e){if(!e._iL&&a(e)){var t=function(t){e._addEL[t.type].forEach(function(e){t.time>=e.time&&e.fn(t.data)})},n=e.method.microSeconds();e._prepP?e._prepP.then(function(){e._iL=!0,e.method.onMessage(e._state,t,n)}):(e._iL=!0,e.method.onMessage(e._state,t,n))}}function c(e){if(e._iL&&!a(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}s._pubkey=!0,s.clearNodeFolder=function(e){e=(0,o.fillOptionsWithDefaults)(e);var t=(0,n.chooseMethod)(e);return"node"===t.type?t.clearNodeFolder().then(function(){return!0}):Promise.resolve(!1)},s.enforceOptions=function(t){e=t},s.prototype={postMessage:function(e){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed");return i(this,"message",e)},postInternal:function(e){return i(this,"internal",e)},set onmessage(e){var t={time:this.method.microSeconds(),fn:e};d(this,"message",this._onML),e&&"function"==typeof e?(this._onML=t,h(this,"message",t)):this._onML=null},addEventListener:function(e,t){h(this,e,{time:this.method.microSeconds(),fn:t})},removeEventListener:function(e,t){d(this,e,this._addEL[e].find(function(e){return e.fn===t}))},close:function(){var e=this;if(!this.closed){this.closed=!0;var t=this._prepP?this._prepP:Promise.resolve();return this._onML=null,this._addEL.message=[],t.then(function(){return Promise.all(e._befC.map(function(e){return e()}))}).then(function(){return e.method.close(e._state)})}},get type(){return this.method.type}};var f=s;exports.default=f;
},{"./util.js":"sUx8","./method-chooser.js":"L4Nm","./options.js":"amqw"}],"waAW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.properties=_,exports._preparePasswordHash=x,exports._ensureStorageTokenExists=D,exports.writeToSocket=k,exports._collectionNamePrimary=y,exports._removeAllOfCollection=R,exports.create=E,exports.getPouchLocation=O,exports.removeDatabase=H,exports.checkAdapter=I,exports.isInstanceOf=T,exports.dbCount=$,exports.default=exports.RxDatabaseBase=void 0;var e=m(require("@babel/runtime/helpers/createClass")),t=m(require("random-token")),n=m(require("custom-idle-queue")),r=m(require("broadcast-channel")),o=require("./util"),i=require("./rx-error"),a=require("./rx-schema"),s=require("./rx-change-event"),u=m(require("./overwritable")),c=require("./hooks"),l=require("rxjs"),h=require("rxjs/operators"),d=require("./pouch-db"),f=require("./rx-collection");function m(e){return e&&e.__esModule?e:{default:e}}var p={},v=0,g=function(){function r(e,r,o,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},c=arguments.length>6?arguments[6]:void 0;this.idleQueue=new n.default,this.token=(0,t.default)(10),this._subs=[],this.destroyed=!1,this.subject=new l.Subject,this.observable$=this.subject.asObservable().pipe((0,h.filter)(function(e){return(0,s.isInstanceOf)(e)})),this._adminPouch={},this._collectionsPouch={},this.name=e,this.adapter=r,this.password=o,this.multiInstance=i,this.queryChangeDetection=a,this.options=u,this.pouchSettings=c,this.collections={},void 0!==e&&v++}var d=r.prototype;return d.dangerousRemoveCollectionInfo=function(){var e=this._collectionsPouch;return e.allDocs().then(function(t){return Promise.all(t.rows.map(function(e){return{_id:e.key,_rev:e.value.rev}}).map(function(t){return e.remove(t._id,t._rev)}))})},d._spawnPouchDB=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return j(this.name,this.adapter,e,t,n,this.pouchSettings)},d.waitForLeadership=function(){return this.multiInstance?this.leaderElector.waitForLeadership():Promise.resolve(!0)},d.$emit=function(e){e&&(this.subject.next(e),e.data.it===this.token&&k(this,e))},d.removeCollectionDoc=function(e,t){var n=this,r=y(e,t);return this._collectionsPouch.get(r).then(function(e){return n.lockedRun(function(){return n._collectionsPouch.remove(e)})})},d.collection=function(e){var t=this;if("string"==typeof e)return Promise.resolve(this.collections[e]);if((e=Object.assign({},e)).database=this,(0,c.runPluginHooks)("preCreateRxCollection",e),"_"===e.name.charAt(0))throw(0,i.newRxError)("DB2",{name:e.name});if(this.collections[e.name])throw(0,i.newRxError)("DB3",{name:e.name});if(!e.schema)throw(0,i.newRxError)("DB4",{name:e.name,args:e});var n=y(e.name,e.schema);if(_().includes(e.name))throw(0,i.newRxError)("DB5",{name:e.name});var r=(0,a.createRxSchema)(e.schema);e.schema=r;var o,u,l=r.hash;return this.lockedRun(function(){return t._collectionsPouch.get(n)}).catch(function(){return null}).then(function(n){return o=n,n&&n.schemaHash!==l?t._spawnPouchDB(e.name,e.schema.version,e.pouchSettings).find({selector:{_id:{}},limit:1}).then(function(t){if(0!==t.docs.length)throw(0,i.newRxError)("DB6",{name:e.name,previousSchemaHash:n.schemaHash,schemaHash:l});return n}):n}).then(function(){return(0,f.create)(e)}).then(function(r){if(u=r,Object.keys(r.schema.encryptedPaths).length>0&&!t.password)throw(0,i.newRxError)("DB7",{name:e.name});if(!o)return t.lockedRun(function(){return t._collectionsPouch.put({_id:n,schemaHash:l,schema:r.schema.normalized,version:r.schema.version})}).catch(function(){})}).then(function(){var n=(0,s.createChangeEvent)("RxDatabase.collection",t,u);return n.data.v=u.name,n.data.col="_collections",t.collections[e.name]=u,t[e.name]||Object.defineProperty(t,e.name,{get:function(){return t.collections[e.name]}}),t.$emit(n),u})},d.removeCollection=function(e){var t=this;return this.collections[e]&&this.collections[e].destroy(),R(this,e).then(function(n){return n.map(function(n){return t._spawnPouchDB(e,n)})}).then(function(e){return Promise.all(e.map(function(e){return t.lockedRun(function(){return e.destroy()})}))})},d.lockedRun=function(e){return this.idleQueue.wrapCall(e)},d.requestIdlePromise=function(){return this.idleQueue.requestIdlePromise()},d.dump=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&arguments[1];throw(0,o.pluginMissing)("json-dump")},d.importDump=function(e){throw(0,o.pluginMissing)("json-dump")},d.server=function(e){throw(0,o.pluginMissing)("server")},d.destroy=function(){var e=this;return this.destroyed?Promise.resolve(!1):((0,c.runPluginHooks)("preDestroyRxDatabase",this),v--,this.destroyed=!0,this.broadcastChannel&&setTimeout(function(){return e.broadcastChannel.close()},1e3),this._leaderElector&&this._leaderElector.destroy(),this._subs.map(function(e){return e.unsubscribe()}),Promise.all(Object.keys(this.collections).map(function(t){return e.collections[t]}).map(function(e){return e.destroy()})).then(function(){return P(e.name,e.adapter)}).then(function(){return!0}))},d.remove=function(){var e=this;return this.destroy().then(function(){return H(e.name,e.adapter)})},(0,e.default)(r,[{key:"leaderElector",get:function(){return this._leaderElector||(this._leaderElector=u.default.createLeaderElector(this)),this._leaderElector}},{key:"isLeader",get:function(){return!this.multiInstance||this.leaderElector.isLeader}},{key:"$",get:function(){return this.observable$}}]),r}();exports.RxDatabaseBase=g;var b=null;function _(){if(!b){var e=new g,t=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(Object.getPrototypeOf(e));b=[].concat(t,n)}return b}function w(e,t){if(!p[e])return!1;var n=!1;if(p[e].forEach(function(e){e===t&&(n=!0)}),n)throw(0,i.newRxError)("DB8",{name:e,adapter:t,link:"https://pubkey.github.io/rxdb/rx-database.html#ignoreduplicate"})}function P(e,t){if(p[e]){var n=p[e].indexOf(t);p[e].splice(n,1)}}function x(e){if(!e.password)return Promise.resolve(!1);var t=(0,o.hash)(e.password);return e._adminPouch.get("_local/pwHash").catch(function(){return null}).then(function(n){return n||e._adminPouch.put({_id:"_local/pwHash",value:t}).catch(function(){return null}),!n||!e.password||t===n.value||e.destroy().then(function(){throw(0,i.newRxError)("DB1",{passwordHash:(0,o.hash)(e.password),existingPasswordHash:n.value})})})}function D(e){return e._adminPouch.get("_local/storageToken").catch(function(){return e._adminPouch.put({_id:"_local/storageToken",value:(0,t.default)(10)}).catch(function(){}).then(function(){return(0,o.promiseWait)(0)})}).then(function(){return e._adminPouch.get("_local/storageToken")}).then(function(e){return e.value})}function k(e,t){if(e.multiInstance&&!t.isIntern()&&e.broadcastChannel){var n=t.toJSON();delete n.db;var r={db:e.token,st:e.storageToken,d:n};return e.broadcastChannel.postMessage(r).then(function(){return!0})}return Promise.resolve(!1)}function y(e,t){return e+"-"+t.version}function R(e,t){return e.lockedRun(function(){return e._collectionsPouch.allDocs({include_docs:!0})}).then(function(n){var r=n.rows.map(function(e){return e.doc}).filter(function(e){return e._id.split("-")[0]===t});return Promise.all(r.map(function(t){return e.lockedRun(function(){return e._collectionsPouch.remove(t)})})).then(function(){return r.map(function(e){return e.version})})})}function C(e){e.broadcastChannel=new r.default("RxDB:"+e.name+":socket"),e.broadcastChannel$=new l.Subject,e.broadcastChannel.onmessage=function(t){if(t.st===e.storageToken&&t.db!==e.token){var n=(0,s.changeEventfromJSON)(t.d);e.broadcastChannel$.next(n)}},e._subs.push(e.broadcastChannel$.subscribe(function(t){e.$emit(t)}))}function B(e){return e._adminPouch=q(e.name,e.adapter,e.pouchSettings),e._collectionsPouch=S(e.name,e.adapter,e.pouchSettings),e._adminPouch.info().then(function(){return Promise.all([D(e),x(e)])}).then(function(t){var n=t[0];e.storageToken=n,e.multiInstance&&C(e)})}function E(e){var t=e.name,n=e.adapter,r=e.password,o=e.multiInstance,a=void 0===o||o,s=e.queryChangeDetection,l=void 0!==s&&s,h=e.ignoreDuplicate,f=void 0!==h&&h,m=e.options,v=void 0===m?{}:m,b=e.pouchSettings,_=void 0===b?{}:b;if((0,d.validateCouchDBString)(t),"string"==typeof n){if(!d.PouchDB.adapters||!d.PouchDB.adapters[n])throw(0,i.newRxError)("DB9",{adapter:n})}else if((0,d.isLevelDown)(n),!d.PouchDB.adapters||!d.PouchDB.adapters.leveldb)throw(0,i.newRxError)("DB10",{adapter:n});r&&u.default.validatePassword(r),f||w(t,n),p[t]||(p[t]=[]),p[t].push(n);var P=new g(t,n,r,a,l,v,_);return B(P).then(function(){return(0,c.runPluginHooks)("createRxDatabase",P),P})}function O(e,t,n){var r=e+"-rxdb-"+n+"-";if(t.includes("/")){var o=t.split("/"),i=o.pop(),a=o.join("/");return a+="/"+r+i}return r+t}function j(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s={location:O(e,n,r),adapter:(0,o.adapterObject)(t),settings:i},u=Object.assign({},s.adapter,a,s.settings);return(0,c.runPluginHooks)("preCreatePouchDb",s),new d.PouchDB(s.location,u)}function q(e,t){return j(e,t,"_admin",0,{auto_compaction:!1,revs_limit:1},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}function S(e,t){return j(e,t,"_collections",0,{auto_compaction:!1,revs_limit:1},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}function H(e,t){var n=q(e,t),r=S(e,t);return r.allDocs({include_docs:!0}).then(function(n){return Promise.all(n.rows.map(function(e){return e.id}).map(function(n){var r=n.split("-"),o=r[0],i=parseInt(r[1],10);return j(e,t,o,i).destroy()}))}).then(function(){return Promise.all([r.destroy(),n.destroy()])})}function I(e){return u.default.checkAdapter(e)}function T(e){return e instanceof g}function $(){return v}var L={create:E,removeDatabase:H,checkAdapter:I,isInstanceOf:T,RxDatabaseBase:g,dbCount:$};exports.default=L;
},{"@babel/runtime/helpers/createClass":"MCuf","random-token":"vS6c","custom-idle-queue":"GA0r","broadcast-channel":"zXOY","./util":"fx0o","./rx-error":"iwQ4","./rx-schema":"hw9e","./rx-change-event":"TsdW","./overwritable":"Iri2","./hooks":"ZLkX","rxjs":"iRqj","rxjs/operators":"cVrl","./pouch-db":"WkpD","./rx-collection":"Ds7G"}],"iQdq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=f;var e=require("./rx-schema"),r=p(require("./crypter")),t=require("./rx-document"),o=require("./rx-query"),u=require("./rx-collection"),a=require("./rx-database"),i=require("./pouch-db"),c=p(require("./overwritable")),n=require("./hooks");function p(e){return e&&e.__esModule?e:{default:e}}var s={RxSchema:e.RxSchema.prototype,Crypter:r.default.Crypter.prototype,RxDocument:t.basePrototype,RxQuery:o.RxQueryBase.prototype,RxCollection:u.RxCollectionBase.prototype,RxDatabase:a.RxDatabaseBase.prototype},l=new Set;function f(e){if(!l.has(e)){if(l.add(e),!e.rxdb)return"object"==typeof e&&e.default&&(e=e.default),void i.PouchDB.plugin(e);var r=e;r.prototypes&&Object.entries(e.prototypes).forEach(function(e){var r=e[0];return(0,e[1])(s[r])}),r.overwritable&&Object.entries(e.overwritable).forEach(function(e){var r=e[0],t=e[1];return c.default[r]=t}),r.hooks&&Object.entries(e.hooks).forEach(function(e){var r=e[0],t=e[1];return n.HOOKS[r].push(t)})}}
},{"./rx-schema":"hw9e","./crypter":"lC2b","./rx-document":"N09Y","./rx-query":"HG6H","./rx-collection":"Ds7G","./rx-database":"waAW","./pouch-db":"WkpD","./overwritable":"Iri2","./hooks":"ZLkX"}],"FRoU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"QueryChangeDetector",{enumerable:!0,get:function(){return e.QueryChangeDetector}}),Object.defineProperty(exports,"PouchDB",{enumerable:!0,get:function(){return r.PouchDB}}),Object.defineProperty(exports,"create",{enumerable:!0,get:function(){return n.create}}),Object.defineProperty(exports,"removeDatabase",{enumerable:!0,get:function(){return n.removeDatabase}}),Object.defineProperty(exports,"checkAdapter",{enumerable:!0,get:function(){return n.checkAdapter}}),Object.defineProperty(exports,"isRxDatabase",{enumerable:!0,get:function(){return n.isInstanceOf}}),Object.defineProperty(exports,"dbCount",{enumerable:!0,get:function(){return n.dbCount}}),Object.defineProperty(exports,"createRxDatabase",{enumerable:!0,get:function(){return n.create}}),Object.defineProperty(exports,"isRxCollection",{enumerable:!0,get:function(){return u.isInstanceOf}}),Object.defineProperty(exports,"isRxDocument",{enumerable:!0,get:function(){return c.isInstanceOf}}),Object.defineProperty(exports,"isRxQuery",{enumerable:!0,get:function(){return a.isInstanceOf}}),Object.defineProperty(exports,"isRxSchema",{enumerable:!0,get:function(){return o.isInstanceOf}}),Object.defineProperty(exports,"createRxSchema",{enumerable:!0,get:function(){return o.createRxSchema}}),Object.defineProperty(exports,"RxSchema",{enumerable:!0,get:function(){return o.RxSchema}}),Object.defineProperty(exports,"RxChangeEvent",{enumerable:!0,get:function(){return i.RxChangeEvent}}),exports.default=exports.plugin=void 0;var e=require("./query-change-detector"),t=s(require("./plugin")),r=require("./pouch-db"),n=require("./rx-database"),u=require("./rx-collection"),c=require("./rx-document"),a=require("./rx-query"),o=require("./rx-schema"),i=require("./rx-change-event");function s(e){return e&&e.__esModule?e:{default:e}}var f=t.default;exports.plugin=f;var p={create:n.create,removeDatabase:n.removeDatabase,checkAdapter:n.checkAdapter,plugin:f,dbCount:n.dbCount,isRxDatabase:n.isInstanceOf,isRxCollection:u.isInstanceOf,isRxDocument:c.isInstanceOf,isRxQuery:a.isInstanceOf,isRxSchema:o.isInstanceOf,PouchDB:r.PouchDB,QueryChangeDetector:e.QueryChangeDetector};exports.default=p;
},{"./query-change-detector":"gYd7","./plugin":"iQdq","./pouch-db":"WkpD","./rx-database":"waAW","./rx-collection":"Ds7G","./rx-document":"N09Y","./rx-query":"HG6H","./rx-schema":"hw9e","./rx-change-event":"TsdW"}],"nMgn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.checkFieldNameRegex=s,exports.validateFieldsDeep=p,exports.checkSchema=c,exports.default=exports.hooks=exports.rxdb=void 0;var r=f(require("object-path")),e=a(require("../rx-document")),t=require("../rx-error"),o=require("../rx-schema"),n=require("../rx-collection");function i(){if("function"!=typeof WeakMap)return null;var r=new WeakMap;return i=function(){return r},r}function a(r){if(r&&r.__esModule)return r;if(null===r||"object"!=typeof r&&"function"!=typeof r)return{default:r};var e=i();if(e&&e.has(r))return e.get(r);var t={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){var a=o?Object.getOwnPropertyDescriptor(r,n):null;a&&(a.get||a.set)?Object.defineProperty(t,n,a):t[n]=r[n]}return t.default=r,e&&e.set(r,t),t}function f(r){return r&&r.__esModule?r:{default:r}}function s(r){if(""!==r&&"_id"!==r){if(["properties","language"].includes(r))throw(0,t.newRxError)("SC23",{fieldName:r});var e="^[a-zA-Z](?:[[a-zA-Z0-9_]*]?[a-zA-Z0-9])?$",o=new RegExp(e);if(!r.match(o))throw(0,t.newRxError)("SC1",{regex:e,fieldName:r})}}function p(r){return function r(e,o){"object"==typeof e&&Object.keys(e).forEach(function(n){e.properties||function(r,e,o){if("string"!=typeof r||"object"!=typeof e||Array.isArray(e)||s(r),e.hasOwnProperty("item")&&"array"!==e.type)throw(0,t.newRxError)("SC2",{fieldName:r});if(e.hasOwnProperty("required")&&"boolean"==typeof e.required)throw(0,t.newRxError)("SC24",{fieldName:r});if(e.hasOwnProperty("ref"))switch(e.type){case"string":break;case"array":if(!e.items||!e.items.type||"string"!==e.items.type)throw(0,t.newRxError)("SC3",{fieldName:r});break;default:throw(0,t.newRxError)("SC4",{fieldName:r})}if(e.hasOwnProperty("ref")&&e.primary)throw(0,t.newRxError)("SC5",{fieldName:r});var n=o.split(".").length>=2;if(n){if(e.primary)throw(0,t.newRxError)("SC6",{path:o,primary:e.primary});if(e.default)throw(0,t.newRxError)("SC7",{path:o})}if(!n&&"_"===r.charAt(0)){if("_id"===r&&e.primary)return;throw(0,t.newRxError)("SC8",{fieldName:r})}}(n,e[n],o);var i=o;"properties"!==n&&(i=i+"."+n),r(e[n],i)})}(r,""),!0}function c(n){if(n.properties._rev)throw(0,t.newRxError)("SC10",{schema:n});if(!n.hasOwnProperty("version")||"number"!=typeof n.version||n.version<0)throw(0,t.newRxError)("SC11",{version:n.version});var i;if(p(n),Object.keys(n.properties).forEach(function(r){var o=n.properties[r];if(o.primary){if(i)throw(0,t.newRxError)("SC12",{value:o});if(i=r,o.index)throw(0,t.newRxError)("SC13",{value:o});if(o.unique)throw(0,t.newRxError)("SC14",{value:o});if(o.encrypted)throw(0,t.newRxError)("SC15",{value:o});if("string"!==o.type)throw(0,t.newRxError)("SC16",{value:o})}if(e.default.properties().includes(r))throw(0,t.newRxError)("SC17",{key:r})}),n.compoundIndexes){if(!Array.isArray(n.compoundIndexes))throw(0,t.newRxError)("SC18",{compoundIndexes:n.compoundIndexes});n.compoundIndexes.forEach(function(r){if(!Array.isArray(r))throw(0,t.newRxError)("SC19",{compoundIndexes:n.compoundIndexes});r.forEach(function(r){if("string"!=typeof r)throw(0,t.newRxError)("SC20",{compoundIndexes:n.compoundIndexes})})})}(0,o.getIndexes)(n).reduce(function(r,e){return r.concat(e)},[]).filter(function(r,e,t){return t.indexOf(r)===e}).map(function(e){var o="properties."+e.replace(/\./g,".properties."),i=r.default.get(n,o);if(!i||"object"!=typeof i)throw(0,t.newRxError)("SC21",{key:e});return{key:e,schemaObj:i}}).filter(function(r){return"string"!==r.schemaObj.type&&"integer"!==r.schemaObj.type&&"number"!==r.schemaObj.type}).forEach(function(r){throw(0,t.newRxError)("SC22",{key:r.key,type:r.schemaObj.type})})}var u=function(r){r&&Object.entries(r).forEach(function(r){var o=r[0],i=r[1];if("string"!=typeof o)throw(0,t.newRxTypeError)("COL14",{name:o});if(o.startsWith("_"))throw(0,t.newRxTypeError)("COL15",{name:o});if("function"!=typeof i)throw(0,t.newRxTypeError)("COL16",{name:o,type:typeof o});if((0,n.properties)().includes(o)||(0,e.properties)().includes(o))throw(0,t.newRxError)("COL17",{name:o})})};function h(r,e){if("object"!=typeof e||Array.isArray(e))throw(0,t.newRxTypeError)("COL11",{schema:r});var n=(0,o.getPreviousVersions)(r);if(n.length!==Object.keys(e).length)throw(0,t.newRxError)("COL12",{have:Object.keys(e),should:n});return n.map(function(r){return{v:r,s:e[r+1]}}).filter(function(r){return"function"!=typeof r.s}).forEach(function(e){throw(0,t.newRxTypeError)("COL13",{version:e.v,type:typeof e,schema:r})}),!0}var w=!0;exports.rxdb=w;var y={preCreateRxSchema:c,createRxCollection:function(r){u(r.statics),u(r.methods),u(r.attachments),r.schema&&r.migrationStrategies&&h(r.schema,r.migrationStrategies)}};exports.hooks=y;var d={rxdb:w,hooks:y};exports.default=d;
},{"object-path":"kzoD","../rx-document":"N09Y","../rx-error":"iwQ4","../rx-schema":"hw9e","../rx-collection":"Ds7G"}],"xVCC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.overwritable=exports.prototypes=exports.rxdb=void 0;var e={UT1:"given name is no string or empty",UT2:"collection- and database-names must match the regex\n    info: if your database-name specifies a folder, the name must contain the slash-char '/' or '\\'",UT3:"replication-direction must either be push or pull or both. But not none",UT4:"given leveldown is no valid adapter",P1:"PouchDB.getBatch: limit must be > 2",QU1:"RxQuery._execOverDatabase(): op not known",QU2:"limit() must get a number",QU3:"skip() must get a number",QU4:"RxQuery.regex(): You cannot use .regex() on the primary field",QU5:"RxQuery.sort(): does not work because key is not defined in the schema",QU6:"RxQuery.limit(): cannot be called on .findOne()",QU7:"query must be an object",QU8:"query cannot be an array",MQ1:"path must be a string or object",MQ2:"Invalid argument",MQ3:"Invalid sort() argument. Must be a string, object, or array",MQ4:"Invalid argument. Expected instanceof mquery or plain object",MQ5:"method must be used after where() when called with these arguments",MQ6:"Can't mix sort syntaxes. Use either array or object | .sort([['field', 1], ['test', -1]]) | .sort({ field: 1, test: -1 })",MQ7:"Invalid sort value",MQ8:"Can't mix sort syntaxes. Use either array or object",DB1:"RxDocument.prepare(): another instance on this adapter has a different password",DB2:"RxDatabase.collection(): collection-names cannot start with underscore _",DB3:"RxDatabase.collection(): collection already exists. use myDatabase.[collectionName] to get it",DB4:"RxDatabase.collection(): schema is missing",DB5:"RxDatabase.collection(): collection-name not allowed",DB6:"RxDatabase.collection(): another instance created this collection with a different schema. Read this https://pubkey.github.io/rxdb/questions-answers.html#cant-change-the-schema",DB7:"RxDatabase.collection(): schema encrypted but no password given",DB8:"RxDatabase.create(): A RxDatabase with the same name and adapter already exists.\nMake sure to use this combination only once or set ignoreDuplicate to true if you do this intentional",DB9:"RxDatabase.create(): Adapter not added. Use RxDB.plugin(require('pouchdb-adapter-[adaptername]');",DB10:"RxDatabase.create(): To use leveldown-adapters, you have to add the leveldb-plugin. Use RxDB.plugin(require('pouchdb-adapter-leveldb'));",COL1:"RxDocument.insert() You cannot insert an existing document",COL2:"RxCollection.insert() do not provide ._id when it is not the primary key",COL3:"RxCollection.upsert() does not work without primary",COL4:"RxCollection.atomicUpsert() does not work without primary",COL5:"RxCollection.find() if you want to search by _id, use .findOne(_id)",COL6:"RxCollection.findOne() needs a queryObject or string",COL7:"hook must be a function",COL8:"hooks-when not known",COL9:"RxCollection.addHook() hook-name not known",COL10:"RxCollection .postCreate-hooks cannot be async",COL11:"migrationStrategies must be an object",COL12:"A migrationStrategy is missing or too much",COL13:"migrationStrategy must be a function",COL14:"given static method-name is not a string",COL15:"static method-names cannot start with underscore _",COL16:"given static method is not a function",COL17:"RxCollection.ORM: statics-name not allowed",COL18:"collection-method not allowed because fieldname is in the schema",COL19:"Pouchdb document update conflict",DOC1:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",DOC2:"cannot observe primary path",DOC3:"final fields cannot be observed",DOC4:"RxDocument.get$ cannot observe a non-existed field",DOC5:"RxDocument.populate() cannot populate a non-existed field",DOC6:"RxDocument.populate() cannot populate because path has no ref",DOC7:"RxDocument.populate() ref-collection not in database",DOC8:"RxDocument.set(): primary-key cannot be modified",DOC9:"final fields cannot be modified",DOC10:"RxDocument.set(): cannot set childpath when rootPath not selected",DOC11:"RxDocument.save(): cant save deleted document",DOC12:"RxDocument.save(): error",DOC13:"RxDocument.remove(): Document is already deleted",DOC14:"RxDocument.destroy() does not exist",DOC15:"query cannot be an array",DOC16:"Since version 8.0.0 RxDocument.set() can only be called on temporary RxDocuments",DOC17:"Since version 8.0.0 RxDocument.save() can only be called on non-temporary documents",DM1:"migrate() Migration has already run",DM2:"migration of document failed final document does not match final schema",DM3:"migration already running",AT1:"to use attachments, please define this in your schema",EN1:"password is no string",EN2:"validatePassword: min-length of password not complied",JD1:"You must create the collections before you can import their data",JD2:"RxCollection.importDump(): the imported json relies on a different schema",JD3:"RxCollection.importDump(): json.passwordHash does not match the own",LD1:"RxDocument.allAttachments$ cant use attachments on local documents",LD2:"RxDocument.get(): objPath must be a string",LD3:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",LD4:"cannot observe primary path",LD5:"RxDocument.set() id cannot be modified",LD6:"LocalDocument: Function is not useable on local documents",LD7:"Local document already exists",RC1:"Replication: already added",RC2:"RxCollection.sync() query must be from the same RxCollection",RC3:"RxCollection.sync() Do not use a collection's pouchdb as remote, use the collection instead",SC1:"fieldnames do not match the regex",SC2:"SchemaCheck: name 'item' reserved for array-fields",SC3:"SchemaCheck: fieldname has a ref-array but items-type is not string",SC4:"SchemaCheck: fieldname has a ref but is not type string or array<string>",SC5:"SchemaCheck: fieldname cannot be primary and ref at same time",SC6:"SchemaCheck: primary can only be defined at top-level",SC7:"SchemaCheck: default-values can only be defined at top-level",SC8:"SchemaCheck: first level-fields cannot start with underscore _",SC10:"SchemaCheck: schema defines ._rev, this will be done automatically",SC11:"SchemaCheck: schema needs a number >=0 as version",SC12:"SchemaCheck: primary can only be defined once",SC13:"SchemaCheck: primary is always index, do not declare it as index",SC14:"SchemaCheck: primary is always unique, do not declare it as index",SC15:"SchemaCheck: primary cannot be encrypted",SC16:"SchemaCheck: primary must have type: string",SC17:"SchemaCheck: top-level fieldname is not allowed",SC18:"SchemaCheck: compoundIndexes must be an array",SC19:"SchemaCheck: compoundIndexes must contain arrays",SC20:"SchemaCheck: compoundIndexes.array must contains strings",SC21:"SchemaCheck: given index is not defined in schema",SC22:"SchemaCheck: given indexKey is not type:string",SC23:"SchemaCheck: fieldname is not allowed",SC24:"SchemaCheck: required fields must be set via array. See https://spacetelescope.github.io/understanding-json-schema/reference/object.html#required",VD1:"Sub-schema not found, does the schemaPath exists in your schema?",VD2:"object does not match schema",IM1:"InMemory: Memory-Adapter must be added. Use RxDB.plugin(require('pouchdb-adapter-memory'));",IM2:"inMemoryCollection.sync(): Do not replicate with the in-memory instance. Replicate with the parent instead",S1:"You cannot create collections after calling RxDatabase.server()",QL1:"TODO"},t=!0;exports.rxdb=t;var a={};exports.prototypes=a;var o={tunnelErrorMessage:function(t){if(!e[t])throw console.error("RxDB: Error-Code not known: "+t),new Error("Error-Cdoe "+t+" not known, contact the maintainer");return e[t]}};exports.overwritable=o;var n={rxdb:t,prototypes:a,overwritable:o};exports.default=n;
},{}],"ihy3":[function(require,module,exports) {
"use strict";function u(u){return/^[$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/.test(u)}module.exports=u;
},{}],"gMWH":[function(require,module,exports) {
var r=require("is-property"),i=function(i,t){return r(t)?i+"."+t:i+"["+JSON.stringify(t)+"]"};i.valid=r,i.property=function(i){return r(i)?i:JSON.stringify(i)},module.exports=i;
},{"is-property":"ihy3"}],"gADh":[function(require,module,exports) {
module.exports=function(o){return o&&"object"==typeof o&&"function"==typeof o.copy&&"function"==typeof o.fill&&"function"==typeof o.readUInt8};
},{}],"nq70":[function(require,module,exports) {
var process = require("process");
var e=require("process"),t=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},r=/%[sdj%]/g;exports.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}n=1;for(var o=arguments,u=o.length,s=String(e).replace(r,function(e){if("%%"===e)return"%";if(n>=u)return e;switch(e){case"%s":return String(o[n++]);case"%d":return Number(o[n++]);case"%j":try{return JSON.stringify(o[n++])}catch(t){return"[Circular]"}default:return e}}),c=o[n];n<u;c=o[++n])h(c)||!S(c)?s+=" "+c:s+=" "+i(c);return s},exports.deprecate=function(t,r){if(void 0!==e&&!0===e.noDeprecation)return t;if(void 0===e)return function(){return exports.deprecate(t,r).apply(this,arguments)};var n=!1;return function(){if(!n){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),n=!0}return t.apply(this,arguments)}};var n,o={};function i(e,t){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),b(t)?r.showHidden=t:t&&exports._extend(r,t),j(r.showHidden)&&(r.showHidden=!1),j(r.depth)&&(r.depth=2),j(r.colors)&&(r.colors=!1),j(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),p(r,e,r.depth)}function u(e,t){var r=i.styles[t];return r?"["+i.colors[r][0]+"m"+e+"["+i.colors[r][1]+"m":e}function s(e,t){return e}function c(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function p(e,t,r){if(e.customInspect&&t&&P(t.inspect)&&t.inspect!==exports.inspect&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return v(n)||(n=p(e,n,r)),n}var o=l(e,t);if(o)return o;var i=Object.keys(t),u=c(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(t)),E(t)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return f(t);if(0===i.length){if(P(t)){var s=t.name?": "+t.name:"";return e.stylize("[Function"+s+"]","special")}if(w(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(z(t))return e.stylize(Date.prototype.toString.call(t),"date");if(E(t))return f(t)}var b,h="",m=!1,x=["{","}"];(d(t)&&(m=!0,x=["[","]"]),P(t))&&(h=" [Function"+(t.name?": "+t.name:"")+"]");return w(t)&&(h=" "+RegExp.prototype.toString.call(t)),z(t)&&(h=" "+Date.prototype.toUTCString.call(t)),E(t)&&(h=" "+f(t)),0!==i.length||m&&0!=t.length?r<0?w(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),b=m?a(e,t,r,u,i):i.map(function(n){return y(e,t,r,u,n,m)}),e.seen.pop(),g(b,h,x)):x[0]+h+x[1]}function l(e,t){if(j(t))return e.stylize("undefined","undefined");if(v(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return x(t)?e.stylize(""+t,"number"):b(t)?e.stylize(""+t,"boolean"):h(t)?e.stylize("null","null"):void 0}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function a(e,t,r,n,o){for(var i=[],u=0,s=t.length;u<s;++u)A(t,String(u))?i.push(y(e,t,r,n,String(u),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(y(e,t,r,n,o,!0))}),i}function y(e,t,r,n,o,i){var u,s,c;if((c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),A(n,o)||(u="["+o+"]"),s||(e.seen.indexOf(c.value)<0?(s=h(r)?p(e,c.value,null):p(e,c.value,r-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),j(u)){if(i&&o.match(/^\d+$/))return s;(u=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=e.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=e.stylize(u,"string"))}return u+": "+s}function g(e,t,r){return e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function d(e){return Array.isArray(e)}function b(e){return"boolean"==typeof e}function h(e){return null===e}function m(e){return null==e}function x(e){return"number"==typeof e}function v(e){return"string"==typeof e}function O(e){return"symbol"==typeof e}function j(e){return void 0===e}function w(e){return S(e)&&"[object RegExp]"===T(e)}function S(e){return"object"==typeof e&&null!==e}function z(e){return S(e)&&"[object Date]"===T(e)}function E(e){return S(e)&&("[object Error]"===T(e)||e instanceof Error)}function P(e){return"function"==typeof e}function D(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function T(e){return Object.prototype.toString.call(e)}function N(e){return e<10?"0"+e.toString(10):e.toString(10)}exports.debuglog=function(t){if(j(n)&&(n=""),t=t.toUpperCase(),!o[t])if(new RegExp("\\b"+t+"\\b","i").test(n)){var r=e.pid;o[t]=function(){var e=exports.format.apply(exports,arguments);console.error("%s %d: %s",t,r,e)}}else o[t]=function(){};return o[t]},exports.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=d,exports.isBoolean=b,exports.isNull=h,exports.isNullOrUndefined=m,exports.isNumber=x,exports.isString=v,exports.isSymbol=O,exports.isUndefined=j,exports.isRegExp=w,exports.isObject=S,exports.isDate=z,exports.isError=E,exports.isFunction=P,exports.isPrimitive=D,exports.isBuffer=require("./support/isBuffer");var F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(){var e=new Date,t=[N(e.getHours()),N(e.getMinutes()),N(e.getSeconds())].join(":");return[e.getDate(),F[e.getMonth()],t].join(" ")}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}exports.log=function(){console.log("%s - %s",k(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(e,t){if(!t||!S(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var J="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function R(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}function H(r){if("function"!=typeof r)throw new TypeError('The "original" argument must be of type Function');function n(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);var o=t.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,u=function(){return o.apply(i,arguments)};r.apply(this,t).then(function(t){e.nextTick(u,null,t)},function(t){e.nextTick(R,t,u)})}return Object.setPrototypeOf(n,Object.getPrototypeOf(r)),Object.defineProperties(n,t(r)),n}exports.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(J&&e[J]){var r;if("function"!=typeof(r=e[J]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,J,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var t,r,n=new Promise(function(e,n){t=e,r=n}),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push(function(e,n){e?r(e):t(n)});try{e.apply(this,o)}catch(u){r(u)}return n}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),J&&Object.defineProperty(r,J,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,t(e))},exports.promisify.custom=J,exports.callbackify=H;
},{"./support/isBuffer":"gADh","inherits":"pyp0","process":"pBGv"}],"J0m0":[function(require,module,exports) {
for(var t=require("util"),n=require("is-property"),e=/[\{\[]/,r=/[\}\]]/,i=["do","if","in","for","let","new","try","var","case","else","enum","eval","null","this","true","void","with","await","break","catch","class","const","false","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof","NaN","undefined"],o={},u=0;u<i.length;u++)o[i[u]]=!0;var c=function(t){return n(t)&&!o.hasOwnProperty(t)},a={s:function(t){return""+t},d:function(t){return""+Number(t)},o:function(t){return JSON.stringify(t)}},f=function(){var i=[],o=0,u={},f=function(t){for(var n="";n.length<2*o;)n+="  ";i.push(n+t)},l=function(t){return r.test(t.trim()[0])&&e.test(t[t.length-1])?(o--,f(t),void o++):e.test(t[t.length-1])?(f(t),void o++):r.test(t.trim()[0])?(o--,void f(t)):void f(t)},s=function(n){if(!n)return s;if(1===arguments.length&&n.indexOf("\n")>-1)for(var e=n.trim().split("\n"),r=0;r<e.length;r++)l(e[r].trim());else l(t.format.apply(t,arguments));return s};return s.scope={},s.formats=a,s.sym=function(t){return t&&c(t)||(t="tmp"),u[t]||(u[t]=0),t+(u[t]++||"")},s.property=function(t,e){return 1===arguments.length&&(e=t,t=""),n(e+="")?t?t+"."+e:e:t?t+"["+JSON.stringify(e)+"]":JSON.stringify(e)},s.toString=function(){return i.join("\n")},s.toFunction=function(t){t||(t={});var n="return ("+s.toString()+")";Object.keys(s.scope).forEach(function(n){t[n]||(t[n]=s.scope[n])});var e=Object.keys(t).map(function(t){return t}),r=e.map(function(n){return t[n]});return Function.apply(null,e.concat(n)).apply(null,r)},arguments.length&&s.apply(null,arguments),s};f.formats=a,module.exports=f;
},{"util":"nq70","is-property":"ihy3"}],"i1ww":[function(require,module,exports) {
var r=/~/,t=/~[01]/g;function e(r){switch(r){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+r)}function n(n){return r.test(n)?n.replace(t,e):n}function o(r,t,e){for(var o,i,f=1,u=t.length;f<u&&(o=n(t[f++]),i=u>f,void 0===r[o]&&(Array.isArray(r)&&"-"===o&&(o=r.length),i&&(""!==t[f]&&t[f]<1/0||"-"===t[f]?r[o]=[]:r[o]={})),i);)r=r[o];var a=r[o];return void 0===e?delete r[o]:r[o]=e,a}function i(r){if("string"==typeof r){if(""===(r=r.split("/"))[0])return r;throw new Error("Invalid JSON pointer.")}if(Array.isArray(r))return r;throw new Error("Invalid JSON pointer.")}function f(r,t){if("object"!=typeof r)throw new Error("Invalid input object.");var e=(t=i(t)).length;if(1===e)return r;for(var o=1;o<e;){if(r=r[n(t[o++])],e===o)return r;if("object"!=typeof r)return}}function u(r,t,e){if("object"!=typeof r)throw new Error("Invalid input object.");if(0===(t=i(t)).length)throw new Error("Invalid JSON pointer for set.");return o(r,t,e)}function a(r){var t=i(r);return{get:function(r){return f(r,t)},set:function(r,e){return u(r,t,e)}}}exports.get=f,exports.set=u,exports.compile=a;
},{}],"K5Tb":[function(require,module,exports) {
module.exports=o;var r=Object.prototype.hasOwnProperty;function o(){for(var o={},t=0;t<arguments.length;t++){var e=arguments[t];for(var a in e)r.call(e,a)&&(o[a]=e[a])}return o}
},{}],"eHYs":[function(require,module,exports) {
var r=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e=/\/\d{1,3}(?=%|$)/,t=/\//,n=/%.*$/,i=/([^0-9a-f:\/%])/i,u=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\/$)/i;function l(e){if(!r.test(e))return!1;var t=e.split(".");if(4!==t.length)return!1;if("0"===t[0][0]&&t[0].length>1)return!1;if("0"===t[1][0]&&t[1].length>1)return!1;if("0"===t[2][0]&&t[2].length>1)return!1;if("0"===t[3][0]&&t[3].length>1)return!1;var n=Number(t[0]),i=Number(t[1]),u=Number(t[2]),l=Number(t[3]);return n>=0&&n<256&&i>=0&&i<256&&u>=0&&u<256&&l>=0&&l<256}function f(r){var f=r.replace(e,""),s=r.length!==f.length;if(s)return!1;if(!s&&t.test(r))return!1;var o=f.replace(n,""),g=o.lastIndexOf(":");if(-1===g)return!1;var a=l(o.substring(g+1))?o.substring(0,g+1)+"1234:5678":o;if(i.test(a))return!1;if(u.test(a))return!1;var h=a.split("::");if(h.length>2)return!1;if(2===h.length){var v=""===h[0]?[]:h[0].split(":"),p=""===h[1]?[]:h[1].split(":");if(8-(v.length+p.length)<=0)return!1}else if(8!==a.split(":").length)return!1;return!0}function s(r){return l(r)||f(r)}module.exports=function(r){if(r||(r={}),4===r.version)return l;if(6===r.version)return f;if(null==r.version)return s;throw new Error("Unknown version: "+r.version)},module.exports.__all_regexes__=[r,e,t,n,i,u];
},{}],"wiX3":[function(require,module,exports) {
var e=require("is-my-ip-valid"),r=/\s/,s=/^[a-zA-Z0-9.-]+$/,t=/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/,a=/^\+[0-9][0-9 ]{5,27}[0-9]$/,i=/ {2}/,o=/ /g;exports["date-time"]=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}[tT ]\d{2}:\d{2}:\d{2}(?:\.\d+|)([zZ]|[+-]\d{2}:\d{2})$/,exports.date=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}$/,exports.time=/^\d{2}:\d{2}:\d{2}$/,exports.email=function(e){return-1!==e.indexOf("@")&&!r.test(e)},exports["ip-address"]=exports.ipv4=e({version:4}),exports.ipv6=e({version:6}),exports.uri=/^[a-zA-Z][a-zA-Z0-9+-.]*:[^\s]*$/,exports.color=/(#?([0-9A-Fa-f]{3,6})\b)|(aqua)|(black)|(blue)|(fuchsia)|(gray)|(green)|(lime)|(maroon)|(navy)|(olive)|(orange)|(purple)|(red)|(silver)|(teal)|(white)|(yellow)|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\))/,exports.hostname=function(e){if(!s.test(e))return!1;for(var r=e.split("."),a=0;a<r.length;a++)if(!t.test(r[a]))return!1;return!0},exports.alpha=/^[a-zA-Z]+$/,exports.alphanumeric=/^[a-zA-Z0-9]+$/,exports.style=/\s*(.+?):\s*([^;]+);?/g,exports.phone=function(e){if(!a.test(e))return!1;if(i.test(e))return!1;var r=e.substring(1).replace(o,"").length;return r>=7&&r<=15},exports["utc-millisec"]=/^[0-9]{1,15}\.?[0-9]{0,15}$/;
},{"is-my-ip-valid":"eHYs"}],"a3EQ":[function(require,module,exports) {
var e=require("generate-object-property"),r=require("generate-function"),t=require("jsonpointer"),n=require("xtend"),i=require("./formats"),s=function(e,r,n){var i=function(e){return e&&e.id===n?e:"object"==typeof e&&e?Object.keys(e).reduce(function(r,t){return r||i(e[t])},null):null},s=i(e);if(s)return s;n=(n=n.replace(/^#/,"")).replace(/\/$/,"");try{return t.get(e,decodeURI(n))}catch(u){var a,o=n.indexOf("#");if(0!==o)if(-1===o)a=r[n];else{a=r[n.slice(0,o)];var f=n.slice(o).replace(/^#/,"");try{return t.get(a,f)}catch(u){}}else a=r[n];return a||null}},a=function(e){e=JSON.stringify(e);for(var r=/\[([^\[\]"]+)\]/;r.test(e);)e=e.replace(r,'."+$1+"');return e},o={any:function(){return"true"},null:function(e){return e+" === null"},boolean:function(e){return"typeof "+e+' === "boolean"'},array:function(e){return"Array.isArray("+e+")"},object:function(e){return"typeof "+e+' === "object" && '+e+" && !Array.isArray("+e+")"},number:function(e){return"typeof "+e+' === "number" && isFinite('+e+")"},integer:function(e){return"typeof "+e+' === "number" && (Math.floor('+e+") === "+e+" || "+e+" > 9007199254740992 || "+e+" < -9007199254740992)"},string:function(e){return"typeof "+e+' === "string"'}},f=function(e){for(var r=[],t=0;t<e.length;t++)r.push("object"==typeof e[t]?JSON.stringify(e[t]):e[t]);for(t=1;t<r.length;t++)if(r.indexOf(r[t])!==t)return!1;return!0},u=function(e,r){var t,n=(0|r)!==r?Math.pow(10,r.toString().split(".").pop().length):1;n>1?t=((0|e)!==e?Math.pow(10,e.toString().split(".").pop().length):1)>n||Math.round(n*e)%(n*r):t=e%r;return!t},c=function(t,l,m,d,p){var y=p?n(i,p.formats):i,g={unique:f,formats:y,isMultipleOf:u},h=!!p&&!!p.verbose,v=!(!p||void 0===p.greedy)&&p.greedy,b={},O=function(e){return e+(b[e]=(b[e]||0)+1)},j={},x=function(e){if(j[e])return j[e];var r=O("pattern");return g[r]=new RegExp(e),j[e]=r,r},P=["i","j","k","l","m","n","o","p","q","r","s","t","u","v","x","y","z"],S=function(){var e=P.shift();return P.push(e+e[0]),e},q=function(r,t,n,f,u){var d=t.properties,b=t.type,j=!1;Array.isArray(t.items)&&(d={},t.items.forEach(function(e,r){d[r]=e}),b="array",j=!0);var P=0,w=function(e,t,i){k("errors++"),!0===n&&(k("if (validate.errors === null) validate.errors = []"),h?k("validate.errors.push({field:%s,message:%s,value:%s,type:%s,schemaPath:%s})",a(t||r),JSON.stringify(e),i||r,JSON.stringify(b),JSON.stringify(u)):k("validate.errors.push({field:%s,message:%s})",a(t||r),JSON.stringify(e)))};!0===t.required?(P++,k("if (%s === undefined) {",r),w("is required"),k("} else {")):(P++,k("if (%s !== undefined) {",r));var A=[].concat(b).map(function(e){if(e&&!o.hasOwnProperty(e))throw new Error("Unknown type: "+e);return o[e||"any"](r)}).join(" || ")||"true";if("true"!==A&&(P++,k("if (!(%s)) {",A),w("is the wrong type"),k("} else {")),j)if(!1===t.additionalItems)k("if (%s.length > %d) {",r,t.items.length),w("has additional items"),k("}");else if(t.additionalItems){var J=S();k("for (var %s = %d; %s < %s.length; %s++) {",J,t.items.length,J,r,J),q(r+"["+J+"]",t.additionalItems,n,f,u.concat("additionalItems")),k("}")}if(t.format&&y[t.format]){"string"!==b&&i[t.format]&&k("if (%s) {",o.string(r));var N=O("format");g[N]=y[t.format],"function"==typeof g[N]?k("if (!%s(%s)) {",N,r):k("if (!%s.test(%s)) {",N,r),w("must be "+t.format+" format"),k("}"),"string"!==b&&i[t.format]&&k("}")}if(Array.isArray(t.required)){k("if ((%s)) {","object"!==b?o.object(r):"true"),k("var missing = 0"),t.required.map(function(t){var n=e(r,t);k("if (%s === undefined) {",n),w("is required",n),k("missing++"),k("}")}),k("}"),v||(k("if (missing === 0) {"),P++)}if(t.uniqueItems&&("array"!==b&&k("if (%s) {",o.array(r)),k("if (!(unique(%s))) {",r),w("must be unique"),k("}"),"array"!==b&&k("}")),t.enum){var E=t.enum.some(function(e){return"object"==typeof e})?function(e){return"JSON.stringify("+r+") !== JSON.stringify("+JSON.stringify(e)+")"}:function(e){return r+" !== "+JSON.stringify(e)};k("if (%s) {",t.enum.map(E).join(" && ")||"false"),w("must be an enum value"),k("}")}if(t.dependencies&&("object"!==b&&k("if (%s) {",o.object(r)),Object.keys(t.dependencies).forEach(function(i){var s=t.dependencies[i];"string"==typeof s&&(s=[s]);Array.isArray(s)&&(k("if (%s !== undefined && !(%s)) {",e(r,i),s.map(function(t){return e(r,t)+" !== undefined"}).join(" && ")||"true"),w("dependencies not set"),k("}")),"object"==typeof s&&(k("if (%s !== undefined) {",e(r,i)),q(r,s,n,f,u.concat(["dependencies",i])),k("}"))}),"object"!==b&&k("}")),t.additionalProperties||!1===t.additionalProperties){"object"!==b&&k("if (%s) {",o.object(r));J=S();var I=O("keys"),M=Object.keys(d||{}).map(function(e){return I+"["+J+"] !== "+JSON.stringify(e)}).concat(Object.keys(t.patternProperties||{}).map(function(e){return"!"+x(e)+".test("+I+"["+J+"])"})).join(" && ")||"true";k("var %s = Object.keys(%s)",I,r)("for (var %s = 0; %s < %s.length; %s++) {",J,J,I,J)("if (%s) {",M),!1===t.additionalProperties?(f&&k("delete %s",r+"["+I+"["+J+"]]"),w("has additional properties",null,JSON.stringify(r+".")+" + "+I+"["+J+"]")):q(r+"["+I+"["+J+"]]",t.additionalProperties,n,f,u.concat(["additionalProperties"])),k("}")("}"),"object"!==b&&k("}")}if(t.$ref){var $=s(m,p&&p.schemas||{},t.$ref);if($){var L=l[t.$ref];L||(l[t.$ref]=function(e){return L(e)},L=c($,l,m,!1,p));N=O("ref");g[N]=L,k("if (!(%s(%s))) {",N,r),w("referenced schema does not match"),k("}")}}if(t.not){var F=O("prev");k("var %s = errors",F),q(r,t.not,!1,f,u.concat("not")),k("if (%s === errors) {",F),w("negative schema matches"),k("} else {")("errors = %s",F)("}")}if(t.items&&!j){"array"!==b&&k("if (%s) {",o.array(r));J=S();k("for (var %s = 0; %s < %s.length; %s++) {",J,J,r,J),q(r+"["+J+"]",t.items,n,f,u.concat("items")),k("}"),"array"!==b&&k("}")}if(t.patternProperties){"object"!==b&&k("if (%s) {",o.object(r));I=O("keys"),J=S();k("var %s = Object.keys(%s)",I,r)("for (var %s = 0; %s < %s.length; %s++) {",J,J,I,J),Object.keys(t.patternProperties).forEach(function(e){var i=x(e);k("if (%s.test(%s)) {",i,I+"["+J+"]"),q(r+"["+I+"["+J+"]]",t.patternProperties[e],n,f,u.concat(["patternProperties",e])),k("}")}),k("}"),"object"!==b&&k("}")}if(t.pattern){var R=x(t.pattern);"string"!==b&&k("if (%s) {",o.string(r)),k("if (!(%s.test(%s))) {",R,r),w("pattern mismatch"),k("}"),"string"!==b&&k("}")}if(t.allOf&&t.allOf.forEach(function(e,t){q(r,e,n,f,u.concat(["allOf",t]))}),t.anyOf&&t.anyOf.length){F=O("prev");t.anyOf.forEach(function(e,t){0===t?k("var %s = errors",F):k("if (errors !== %s) {",F)("errors = %s",F),q(r,e,!1,!1,u)}),t.anyOf.forEach(function(e,r){r&&k("}")}),k("if (%s !== errors) {",F),w("no schemas match"),k("}")}if(t.oneOf&&t.oneOf.length){F=O("prev");var U=O("passes");k("var %s = errors",F)("var %s = 0",U),t.oneOf.forEach(function(e,t){q(r,e,!1,!1,u),k("if (%s === errors) {",F)("%s++",U)("} else {")("errors = %s",F)("}")}),k("if (%s !== 1) {",U),w("no (or more than one) schemas match"),k("}")}for(void 0!==t.multipleOf&&("number"!==b&&"integer"!==b&&k("if (%s) {",o.number(r)),k("if (!isMultipleOf(%s, %d)) {",r,t.multipleOf),w("has a remainder"),k("}"),"number"!==b&&"integer"!==b&&k("}")),void 0!==t.maxProperties&&("object"!==b&&k("if (%s) {",o.object(r)),k("if (Object.keys(%s).length > %d) {",r,t.maxProperties),w("has more properties than allowed"),k("}"),"object"!==b&&k("}")),void 0!==t.minProperties&&("object"!==b&&k("if (%s) {",o.object(r)),k("if (Object.keys(%s).length < %d) {",r,t.minProperties),w("has less properties than allowed"),k("}"),"object"!==b&&k("}")),void 0!==t.maxItems&&("array"!==b&&k("if (%s) {",o.array(r)),k("if (%s.length > %d) {",r,t.maxItems),w("has more items than allowed"),k("}"),"array"!==b&&k("}")),void 0!==t.minItems&&("array"!==b&&k("if (%s) {",o.array(r)),k("if (%s.length < %d) {",r,t.minItems),w("has less items than allowed"),k("}"),"array"!==b&&k("}")),void 0!==t.maxLength&&("string"!==b&&k("if (%s) {",o.string(r)),k("if (%s.length > %d) {",r,t.maxLength),w("has longer length than allowed"),k("}"),"string"!==b&&k("}")),void 0!==t.minLength&&("string"!==b&&k("if (%s) {",o.string(r)),k("if (%s.length < %d) {",r,t.minLength),w("has less length than allowed"),k("}"),"string"!==b&&k("}")),void 0!==t.minimum&&("number"!==b&&"integer"!==b&&k("if (%s) {",o.number(r)),k("if (%s %s %d) {",r,t.exclusiveMinimum?"<=":"<",t.minimum),w("is less than minimum"),k("}"),"number"!==b&&"integer"!==b&&k("}")),void 0!==t.maximum&&("number"!==b&&"integer"!==b&&k("if (%s) {",o.number(r)),k("if (%s %s %d) {",r,t.exclusiveMaximum?">=":">",t.maximum),w("is more than maximum"),k("}"),"number"!==b&&"integer"!==b&&k("}")),d&&Object.keys(d).forEach(function(t){Array.isArray(b)&&-1!==b.indexOf("null")&&k("if (%s !== null) {",r),q(e(r,t),d[t],n,f,u.concat(j?t:["properties",t])),Array.isArray(b)&&-1!==b.indexOf("null")&&k("}")});P--;)k("}")},k=r("function validate(data) {")("if (data === undefined) data = null")("validate.errors = null")("var errors = 0");return q("data",t,d,p&&p.filter,[]),k("return errors === 0")("}"),(k=k.toFunction(g)).errors=null,Object.defineProperty&&Object.defineProperty(k,"error",{get:function(){return k.errors?k.errors.map(function(e){return e.field+" "+e.message}).join("\n"):""}}),k.toJSON=function(){return t},k};module.exports=function(e,r){return"string"==typeof e&&(e=JSON.parse(e)),c(e,{},e,!0,r)},module.exports.filter=function(e,r){var t=module.exports(e,n(r,{filter:!0}));return function(e){return t(e),e}};
},{"generate-object-property":"gMWH","generate-function":"J0m0","jsonpointer":"i1ww","xtend":"K5Tb","./formats":"wiX3"}],"fBuI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.hooks=exports.prototypes=exports.rxdb=void 0;var r=o(require("is-my-json-valid")),e=require("../rx-error"),t=require("../util");function o(r){return r&&r.__esModule?r:{default:r}}var s=new Map;function a(e){var t=e.hash;if(!s.has(t)){var o=(0,r.default)(e.jsonID);s.set(t,o)}return s.get(t)}var i=function(r){var t=a(this);if(t(r))return r;throw(0,e.newRxError)("VD2",{errors:t.errors,obj:r,schema:this.jsonID})},u=function(r){(0,t.requestIdleCallbackIfAvailable)(function(){a(r)})},n=!0;exports.rxdb=n;var p={RxSchema:function(r){r._getValidator=a,r.validate=i}};exports.prototypes=p;var l={createRxSchema:u};exports.hooks=l;var x={rxdb:n,prototypes:p,hooks:l};exports.default=x;
},{"is-my-json-valid":"a3EQ","../rx-error":"iwQ4","../util":"fx0o"}],"xe3a":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=a,exports.default=exports.overwritable=exports.prototypes=exports.rxdb=exports.KeyCompressor=void 0;var e=t(require("@babel/runtime/helpers/createClass")),r=require("../util");function t(e){return e&&e.__esModule?e:{default:e}}var s=function(){function t(e){this.schema=e}var s=t.prototype;return s.compress=function(e){return this.schema.doKeyCompression()?o(this,e):(0,r.clone)(e)},s._decompressObj=function(e){var r=this,t=this.reverseTable;if("object"!=typeof e||null===e)return e;if(Array.isArray(e))return e.map(function(e){return r._decompressObj(e)});var s={};return Object.keys(e).forEach(function(o){var a=o;(o.startsWith("|")||o.startsWith("_"))&&t[o]&&(a=t[o]),s[a]=r._decompressObj(e[o])}),s},s.decompress=function(e){return this.schema.doKeyCompression()?this._decompressObj(e):(0,r.clone)(e)},s.transformKey=function(e,t,s){var o=this.table;e=(0,r.trimDots)(e),t=(0,r.trimDots)(t);var a=s.shift(),i=(0,r.trimDots)(e+"."+a);return o[i]?t+="."+o[i]:t+="."+a,s.length>0?this.transformKey(i,t,s):(0,r.trimDots)(t)},s.compressQuery=function(e){var t=this;if(e=(0,r.clone)(e),!this.schema.doKeyCompression())return e;var s={};return Object.keys(e.selector).forEach(function(r){var o=e.selector[r];if(r.startsWith("$")){var a=o.map(function(e){var r={};return Object.keys(e).forEach(function(s){var o=t.transformKey("","",s.split("."));r[o]=e[s]}),r});s[r]=a}else{var i=t.transformKey("","",r.split("."));s[i]=o}}),e.selector=s,e.sort&&(e.sort=e.sort.map(function(e){var r=Object.keys(e)[0],s=e[r],o={};return o[t.transformKey("","",r.split("."))]=s,o})),e},(0,e.default)(t,[{key:"table",get:function(){var e=this;if(!this._table){var t=0;this._table={};!function s(o,a){Object.keys(a).map(function(i){var n=a[i],c="properties"===i?o:(0,r.trimDots)(o+"."+i);"object"==typeof n&&!Array.isArray(n)&&!e._table[c]&&""!==c&&i.length>3&&!c.startsWith("_")&&(e._table[c]="|"+(t++,(0,r.numberToLetter)(t-1))),!0===n.primary&&(e._table[c]="_id"),"object"!=typeof n||Array.isArray(n)||s(c,n)})}("",this.schema.normalized)}return this._table}},{key:"reverseTable",get:function(){var e=this;if(!this._reverseTable){var r=this.table;this._reverseTable={},Object.keys(r).forEach(function(t){var s=r[t],o=t.split(".").pop();e._reverseTable[s]=o})}return this._reverseTable}}]),t}();function o(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a={};return"object"!=typeof t||null===t?t:Array.isArray(t)?t.map(function(t){return o(e,t,(0,r.trimDots)(s+".item"))}):(Object.keys(t).forEach(function(i){var n,c=t[i],u=(0,r.trimDots)(s+"."+i),p=e.table[u]?e.table[u]:i;n=o(e,c,u),a[p]=n}),a)}function a(e){return new s(e)}exports.KeyCompressor=s;var i=!0;exports.rxdb=i;var n={};exports.prototypes=n;var c={createKeyCompressor:a};exports.overwritable=c;var u={rxdb:i,prototypes:n,overwritable:c};exports.default=u;
},{"@babel/runtime/helpers/createClass":"MCuf","../util":"fx0o"}],"V57G":[function(require,module,exports) {
module.exports=!1;
},{}],"gd2E":[function(require,module,exports) {
"use strict";function e(e){if("function"==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);else{if("function"!=typeof window.addEventListener)return;window.addEventListener("beforeunload",function(){e()},!0),window.addEventListener("unload",function(){e()},!0)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o={add:e};exports.default=o;
},{}],"rDCW":[function(require,module,exports) {

},{}],"Qnpa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.add=l,exports.runAll=f,exports.removeAll=s,exports.getSize=a,exports.default=void 0;var e=n(require("detect-node")),r=n(require("./browser.js")),t=n(require("./node.js"));function n(e){return e&&e.__esModule?e:{default:e}}var o=e.default?t.default:r.default,u=new Set,d=!1;function i(){d||(d=!0,o.add(f))}function l(e){if(i(),"function"!=typeof e)throw new Error("Listener is no function");return u.add(e),{remove:function(){return u.delete(e)},run:function(){return u.delete(e),e()}}}function f(){var e=[];return u.forEach(function(r){e.push(r()),u.delete(r)}),Promise.all(e)}function s(){u.clear()}function a(){return u.size}var c={add:l,runAll:f,removeAll:s,getSize:a};exports.default=c;
},{"detect-node":"V57G","./browser.js":"gd2E","./node.js":"rDCW"}],"Z3lH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=l,exports.default=void 0;var e=require("../util.js"),n=t(require("unload"));function t(e){return e&&e.__esModule?e:{default:e}}var r=function(n,t){this._channel=n,this._options=t,this.isLeader=!1,this.isDead=!1,this.token=(0,e.randomToken)(10),this._isApl=!1,this._reApply=!1,this._unl=[],this._lstns=[],this._invs=[]};function i(e){return e.isLeader?Promise.resolve():new Promise(function(n){var t=!1,r=function(){t||(t=!0,clearInterval(i),e._channel.removeEventListener("internal",s),n(!0))};e.applyOnce().then(function(){e.isLeader&&r()});var i=setInterval(function(){e.applyOnce().then(function(){e.isLeader&&r()})},e._options.fallbackInterval);e._invs.push(i);var s=function(n){"leader"===n.context&&"death"===n.action&&e.applyOnce().then(function(){e.isLeader&&r()})};e._channel.addEventListener("internal",s),e._lstns.push(s)})}function s(e,n){var t={context:"leader",action:n,token:e.token};return e._channel.postInternal(t)}function a(e){e.isLeader=!0;var t=n.default.add(function(){return e.die()});e._unl.push(t);var r=function(n){"leader"===n.context&&"apply"===n.action&&s(e,"tell")};return e._channel.addEventListener("internal",r),e._lstns.push(r),s(e,"tell")}function o(e,n){return e||(e={}),(e=JSON.parse(JSON.stringify(e))).fallbackInterval||(e.fallbackInterval=3e3),e.responseTime||(e.responseTime=n.method.averageResponseTime(n.options)),e}function l(e,n){if(e._leaderElector)throw new Error("BroadcastChannel already has a leader-elector");n=o(n,e);var t=new r(e,n);return e._befC.push(function(){return t.die()}),e._leaderElector=t,t}r.prototype={applyOnce:function(){var n=this;if(this.isLeader)return Promise.resolve(!1);if(this.isDead)return Promise.resolve(!1);if(this._isApl)return this._reApply=!0,Promise.resolve(!1);this._isApl=!0;var t=!1,r=[],i=function(e){"leader"===e.context&&e.token!=n.token&&(r.push(e),"apply"===e.action&&e.token>n.token&&(t=!0),"tell"===e.action&&(t=!0))};return this._channel.addEventListener("internal",i),s(this,"apply").then(function(){return(0,e.sleep)(n._options.responseTime)}).then(function(){return t?Promise.reject(new Error):s(n,"apply")}).then(function(){return(0,e.sleep)(n._options.responseTime)}).then(function(){return t?Promise.reject(new Error):s(n)}).then(function(){return a(n)}).then(function(){return!0}).catch(function(){return!1}).then(function(e){return n._channel.removeEventListener("internal",i),n._isApl=!1,!e&&n._reApply?(n._reApply=!1,n.applyOnce()):e})},awaitLeadership:function(){return this._aLP||(this._aLP=i(this)),this._aLP},die:function(){var e=this;if(!this.isDead)return this.isDead=!0,this._lstns.forEach(function(n){return e._channel.removeEventListener("internal",n)}),this._invs.forEach(function(e){return clearInterval(e)}),this._unl.forEach(function(e){e.remove()}),s(this,"death")}};var u={create:l};exports.default=u;
},{"../util.js":"sUx8","unload":"Qnpa"}],"yXjL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=r,exports.default=exports.overwritable=exports.prototypes=exports.rxdb=exports.LeaderElector=void 0;var e=require("broadcast-channel/leader-election"),t=function(){function t(t){this.destroyed=!1,this.isLeader=!1,this.isDead=!1,this.database=t,this.elector=(0,e.create)(t.broadcastChannel)}var r=t.prototype;return r.die=function(){return this.elector.die()},r.waitForLeadership=function(){var e=this;return this.elector.awaitLeadership().then(function(){return e.isLeader=!0,!0})},r.destroy=function(){if(!this.destroyed)return this.destroyed=!0,this.isDead=!0,this.die()},t}();function r(e){return new t(e)}exports.LeaderElector=t;var o=!0;exports.rxdb=o;var s={};exports.prototypes=s;var i={createLeaderElector:r};exports.overwritable=i;var a={rxdb:o,prototypes:s,overwritable:i},d=a;exports.default=d;
},{"broadcast-channel/leader-election":"Z3lH"}],"KOvs":[function(require,module,exports) {
var define;
var t;!function(n,i){"object"==typeof exports?module.exports=exports=i():"function"==typeof t&&t.amd?t([],i):n.CryptoJS=i()}(this,function(){var t=t||function(t,n){var i=Object.create||function(){function t(){}return function(n){var i;return t.prototype=n,i=new t,t.prototype=null,i}}(),r={},e=r.lib={},o=e.Base={extend:function(t){var n=i(this);return t&&n.mixIn(t),n.hasOwnProperty("init")&&this.init!==n.init||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},s=e.WordArray=o.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=null!=n?n:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var n=this.words,i=t.words,r=this.sigBytes,e=t.sigBytes;if(this.clamp(),r%4)for(var o=0;o<e;o++){var s=i[o>>>2]>>>24-o%4*8&255;n[r+o>>>2]|=s<<24-(r+o)%4*8}else for(o=0;o<e;o+=4)n[r+o>>>2]=i[o>>>2];return this.sigBytes+=e,this},clamp:function(){var n=this.words,i=this.sigBytes;n[i>>>2]&=4294967295<<32-i%4*8,n.length=t.ceil(i/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(n){for(var i,r=[],e=function(n){n=n;var i=987654321,r=4294967295;return function(){var e=((i=36969*(65535&i)+(i>>16)&r)<<16)+(n=18e3*(65535&n)+(n>>16)&r)&r;return e/=4294967296,(e+=.5)*(t.random()>.5?1:-1)}},o=0;o<n;o+=4){var a=e(4294967296*(i||t.random()));i=987654071*a(),r.push(4294967296*a()|0)}return new s.init(r,n)}}),a=r.enc={},c=a.Hex={stringify:function(t){for(var n=t.words,i=t.sigBytes,r=[],e=0;e<i;e++){var o=n[e>>>2]>>>24-e%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var n=t.length,i=[],r=0;r<n;r+=2)i[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new s.init(i,n/2)}},u=a.Latin1={stringify:function(t){for(var n=t.words,i=t.sigBytes,r=[],e=0;e<i;e++){var o=n[e>>>2]>>>24-e%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var n=t.length,i=[],r=0;r<n;r++)i[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new s.init(i,n)}},f=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(n){throw new Error("Malformed UTF-8 data")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},h=e.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=f.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(n){var i=this._data,r=i.words,e=i.sigBytes,o=this.blockSize,a=e/(4*o),c=(a=n?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*o,u=t.min(4*c,e);if(c){for(var f=0;f<c;f+=o)this._doProcessBlock(r,f);var h=r.splice(0,c);i.sigBytes-=u}return new s.init(h,u)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),p=(e.Hasher=h.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(n,i){return new t.init(i).finalize(n)}},_createHmacHelper:function(t){return function(n,i){return new p.HMAC.init(t,i).finalize(n)}}}),r.algo={});return r}(Math);return t});
},{}],"fV5T":[function(require,module,exports) {
var define;
var r;!function(e,t){"object"==typeof exports?module.exports=exports=t(require("./core")):"function"==typeof r&&r.amd?r(["./core"],t):t(e.CryptoJS)}(this,function(r){return function(){var e=r,t=e.lib.WordArray;e.enc.Base64={stringify:function(r){var e=r.words,t=r.sigBytes,a=this._map;r.clamp();for(var o=[],n=0;n<t;n+=3)for(var i=(e[n>>>2]>>>24-n%4*8&255)<<16|(e[n+1>>>2]>>>24-(n+1)%4*8&255)<<8|e[n+2>>>2]>>>24-(n+2)%4*8&255,c=0;c<4&&n+.75*c<t;c++)o.push(a.charAt(i>>>6*(3-c)&63));var f=a.charAt(64);if(f)for(;o.length%4;)o.push(f);return o.join("")},parse:function(r){var e=r.length,a=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var n=0;n<a.length;n++)o[a.charCodeAt(n)]=n}var i=a.charAt(64);if(i){var c=r.indexOf(i);-1!==c&&(e=c)}return function(r,e,a){for(var o=[],n=0,i=0;i<e;i++)if(i%4){var c=a[r.charCodeAt(i-1)]<<i%4*2,f=a[r.charCodeAt(i)]>>>6-i%4*2;o[n>>>2]|=(c|f)<<24-n%4*8,n++}return t.create(o,n)}(r,e,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),r.enc.Base64});
},{"./core":"KOvs"}],"Pylf":[function(require,module,exports) {
var define;
var r;!function(t,n){"object"==typeof exports?module.exports=exports=n(require("./core")):"function"==typeof r&&r.amd?r(["./core"],n):n(t.CryptoJS)}(this,function(r){return function(t){var n=r,e=n.lib,o=e.WordArray,a=e.Hasher,s=n.algo,i=[];!function(){for(var r=0;r<64;r++)i[r]=4294967296*t.abs(t.sin(r+1))|0}();var c=s.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(r,t){for(var n=0;n<16;n++){var e=t+n,o=r[e];r[e]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var a=this._hash.words,s=r[t+0],c=r[t+1],l=r[t+2],_=r[t+3],d=r[t+4],p=r[t+5],y=r[t+6],D=r[t+7],H=r[t+8],M=r[t+9],g=r[t+10],m=r[t+11],w=r[t+12],x=r[t+13],B=r[t+14],b=r[t+15],j=a[0],k=a[1],q=a[2],z=a[3];j=h(j,k,q,z,s,7,i[0]),z=h(z,j,k,q,c,12,i[1]),q=h(q,z,j,k,l,17,i[2]),k=h(k,q,z,j,_,22,i[3]),j=h(j,k,q,z,d,7,i[4]),z=h(z,j,k,q,p,12,i[5]),q=h(q,z,j,k,y,17,i[6]),k=h(k,q,z,j,D,22,i[7]),j=h(j,k,q,z,H,7,i[8]),z=h(z,j,k,q,M,12,i[9]),q=h(q,z,j,k,g,17,i[10]),k=h(k,q,z,j,m,22,i[11]),j=h(j,k,q,z,w,7,i[12]),z=h(z,j,k,q,x,12,i[13]),q=h(q,z,j,k,B,17,i[14]),j=u(j,k=h(k,q,z,j,b,22,i[15]),q,z,c,5,i[16]),z=u(z,j,k,q,y,9,i[17]),q=u(q,z,j,k,m,14,i[18]),k=u(k,q,z,j,s,20,i[19]),j=u(j,k,q,z,p,5,i[20]),z=u(z,j,k,q,g,9,i[21]),q=u(q,z,j,k,b,14,i[22]),k=u(k,q,z,j,d,20,i[23]),j=u(j,k,q,z,M,5,i[24]),z=u(z,j,k,q,B,9,i[25]),q=u(q,z,j,k,_,14,i[26]),k=u(k,q,z,j,H,20,i[27]),j=u(j,k,q,z,x,5,i[28]),z=u(z,j,k,q,l,9,i[29]),q=u(q,z,j,k,D,14,i[30]),j=f(j,k=u(k,q,z,j,w,20,i[31]),q,z,p,4,i[32]),z=f(z,j,k,q,H,11,i[33]),q=f(q,z,j,k,m,16,i[34]),k=f(k,q,z,j,B,23,i[35]),j=f(j,k,q,z,c,4,i[36]),z=f(z,j,k,q,d,11,i[37]),q=f(q,z,j,k,D,16,i[38]),k=f(k,q,z,j,g,23,i[39]),j=f(j,k,q,z,x,4,i[40]),z=f(z,j,k,q,s,11,i[41]),q=f(q,z,j,k,_,16,i[42]),k=f(k,q,z,j,y,23,i[43]),j=f(j,k,q,z,M,4,i[44]),z=f(z,j,k,q,w,11,i[45]),q=f(q,z,j,k,b,16,i[46]),j=v(j,k=f(k,q,z,j,l,23,i[47]),q,z,s,6,i[48]),z=v(z,j,k,q,D,10,i[49]),q=v(q,z,j,k,B,15,i[50]),k=v(k,q,z,j,p,21,i[51]),j=v(j,k,q,z,w,6,i[52]),z=v(z,j,k,q,_,10,i[53]),q=v(q,z,j,k,g,15,i[54]),k=v(k,q,z,j,c,21,i[55]),j=v(j,k,q,z,H,6,i[56]),z=v(z,j,k,q,b,10,i[57]),q=v(q,z,j,k,y,15,i[58]),k=v(k,q,z,j,x,21,i[59]),j=v(j,k,q,z,d,6,i[60]),z=v(z,j,k,q,m,10,i[61]),q=v(q,z,j,k,l,15,i[62]),k=v(k,q,z,j,M,21,i[63]),a[0]=a[0]+j|0,a[1]=a[1]+k|0,a[2]=a[2]+q|0,a[3]=a[3]+z|0},_doFinalize:function(){var r=this._data,n=r.words,e=8*this._nDataBytes,o=8*r.sigBytes;n[o>>>5]|=128<<24-o%32;var a=t.floor(e/4294967296),s=e;n[15+(o+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),n[14+(o+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),r.sigBytes=4*(n.length+1),this._process();for(var i=this._hash,c=i.words,h=0;h<4;h++){var u=c[h];c[h]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return i},clone:function(){var r=a.clone.call(this);return r._hash=this._hash.clone(),r}});function h(r,t,n,e,o,a,s){var i=r+(t&n|~t&e)+o+s;return(i<<a|i>>>32-a)+t}function u(r,t,n,e,o,a,s){var i=r+(t&e|n&~e)+o+s;return(i<<a|i>>>32-a)+t}function f(r,t,n,e,o,a,s){var i=r+(t^n^e)+o+s;return(i<<a|i>>>32-a)+t}function v(r,t,n,e,o,a,s){var i=r+(n^(t|~e))+o+s;return(i<<a|i>>>32-a)+t}n.MD5=a._createHelper(c),n.HmacMD5=a._createHmacHelper(c)}(Math),r.MD5});
},{"./core":"KOvs"}],"NPgf":[function(require,module,exports) {
var define;
var e;!function(t,r){"object"==typeof exports?module.exports=exports=r(require("./core")):"function"==typeof e&&e.amd?e(["./core"],r):r(t.CryptoJS)}(this,function(e){var t,r,o,s,a,n,i;return r=(t=e).lib,o=r.WordArray,s=r.Hasher,a=t.algo,n=[],i=a.SHA1=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,o=r[0],s=r[1],a=r[2],i=r[3],h=r[4],c=0;c<80;c++){if(c<16)n[c]=0|e[t+c];else{var l=n[c-3]^n[c-8]^n[c-14]^n[c-16];n[c]=l<<1|l>>>31}var _=(o<<5|o>>>27)+h+n[c];_+=c<20?1518500249+(s&a|~s&i):c<40?1859775393+(s^a^i):c<60?(s&a|s&i|a&i)-1894007588:(s^a^i)-899497514,h=i,i=a,a=s<<30|s>>>2,s=o,o=_}r[0]=r[0]+o|0,r[1]=r[1]+s|0,r[2]=r[2]+a|0,r[3]=r[3]+i|0,r[4]=r[4]+h|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,o=8*e.sigBytes;return t[o>>>5]|=128<<24-o%32,t[14+(o+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(o+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA1=s._createHelper(i),t.HmacSHA1=s._createHmacHelper(i),e.SHA1});
},{"./core":"KOvs"}],"v95G":[function(require,module,exports) {
var define;
var e;!function(t,i){"object"==typeof exports?module.exports=exports=i(require("./core")):"function"==typeof e&&e.amd?e(["./core"],i):i(t.CryptoJS)}(this,function(e){var t,i,s;i=(t=e).lib.Base,s=t.enc.Utf8,t.algo.HMAC=i.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=s.parse(t));var i=e.blockSize,r=4*i;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var n=this._oKey=t.clone(),o=this._iKey=t.clone(),a=n.words,h=o.words,c=0;c<i;c++)a[c]^=1549556828,h[c]^=909522486;n.sigBytes=o.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,i=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(i))}})});
},{"./core":"KOvs"}],"QDOL":[function(require,module,exports) {
var define;
var e;!function(t,r,i){"object"==typeof exports?module.exports=exports=r(require("./core"),require("./sha1"),require("./hmac")):"function"==typeof e&&e.amd?e(["./core","./sha1","./hmac"],r):r(t.CryptoJS)}(this,function(e){var t,r,i,o,a,n,c;return r=(t=e).lib,i=r.Base,o=r.WordArray,a=t.algo,n=a.MD5,c=a.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:n,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,i=r.hasher.create(),a=o.create(),n=a.words,c=r.keySize,s=r.iterations;n.length<c;){u&&i.update(u);var u=i.update(e).finalize(t);i.reset();for(var f=1;f<s;f++)u=i.finalize(u),i.reset();a.concat(u)}return a.sigBytes=4*c,a}}),t.EvpKDF=function(e,t,r){return c.create(r).compute(e,t)},e.EvpKDF});
},{"./core":"KOvs","./sha1":"NPgf","./hmac":"v95G"}],"hULA":[function(require,module,exports) {
var define;
var e;!function(t,r){"object"==typeof exports?module.exports=exports=r(require("./core")):"function"==typeof e&&e.amd?e(["./core"],r):r(t.CryptoJS)}(this,function(e){e.lib.Cipher||function(t){var r=e,i=r.lib,n=i.Base,c=i.WordArray,o=i.BufferedBlockAlgorithm,s=r.enc,a=(s.Utf8,s.Base64),f=r.algo.EvpKDF,p=i.Cipher=o.extend({cfg:n.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?g:v}return function(t){return{encrypt:function(r,i,n){return e(i).encrypt(t,r,i,n)},decrypt:function(r,i,n){return e(i).decrypt(t,r,i,n)}}}}()}),h=(i.StreamCipher=p.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),r.mode={}),d=i.BlockCipherMode=n.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),u=h.CBC=function(){var e=d.extend();function r(e,r,i){var n=this._iv;if(n){var c=n;this._iv=t}else c=this._prevBlock;for(var o=0;o<i;o++)e[r+o]^=c[o]}return e.Encryptor=e.extend({processBlock:function(e,t){var i=this._cipher,n=i.blockSize;r.call(this,e,t,n),i.encryptBlock(e,t),this._prevBlock=e.slice(t,t+n)}}),e.Decryptor=e.extend({processBlock:function(e,t){var i=this._cipher,n=i.blockSize,c=e.slice(t,t+n);i.decryptBlock(e,t),r.call(this,e,t,n),this._prevBlock=c}}),e}(),l=(r.pad={}).Pkcs7={pad:function(e,t){for(var r=4*t,i=r-e.sigBytes%r,n=i<<24|i<<16|i<<8|i,o=[],s=0;s<i;s+=4)o.push(n);var a=c.create(o,i);e.concat(a)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},_=(i.BlockCipher=p.extend({cfg:p.cfg.extend({mode:u,padding:l}),reset:function(){p.reset.call(this);var e=this.cfg,t=e.iv,r=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var i=r.createEncryptor;else{i=r.createDecryptor;this._minBufferSize=1}this._mode=i.call(r,this,t&&t.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else{t=this._process(!0);e.unpad(t)}return t},blockSize:4}),i.CipherParams=n.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),y=(r.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,r=e.salt;if(r)var i=c.create([1398893684,1701076831]).concat(r).concat(t);else i=t;return i.toString(a)},parse:function(e){var t=a.parse(e),r=t.words;if(1398893684==r[0]&&1701076831==r[1]){var i=c.create(r.slice(2,4));r.splice(0,4),t.sigBytes-=16}return _.create({ciphertext:t,salt:i})}},v=i.SerializableCipher=n.extend({cfg:n.extend({format:y}),encrypt:function(e,t,r,i){i=this.cfg.extend(i);var n=e.createEncryptor(r,i),c=n.finalize(t),o=n.cfg;return _.create({ciphertext:c,key:r,iv:o.iv,algorithm:e,mode:o.mode,padding:o.padding,blockSize:e.blockSize,formatter:i.format})},decrypt:function(e,t,r,i){return i=this.cfg.extend(i),t=this._parse(t,i.format),e.createDecryptor(r,i).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),x=(r.kdf={}).OpenSSL={execute:function(e,t,r,i){i||(i=c.random(8));var n=f.create({keySize:t+r}).compute(e,i),o=c.create(n.words.slice(t),4*r);return n.sigBytes=4*t,_.create({key:n,iv:o,salt:i})}},g=i.PasswordBasedCipher=v.extend({cfg:v.cfg.extend({kdf:x}),encrypt:function(e,t,r,i){var n=(i=this.cfg.extend(i)).kdf.execute(r,e.keySize,e.ivSize);i.iv=n.iv;var c=v.encrypt.call(this,e,t,n.key,i);return c.mixIn(n),c},decrypt:function(e,t,r,i){i=this.cfg.extend(i),t=this._parse(t,i.format);var n=i.kdf.execute(r,e.keySize,e.ivSize,t.salt);return i.iv=n.iv,v.decrypt.call(this,e,t,n.key,i)}})}()});
},{"./core":"KOvs"}],"Xa8o":[function(require,module,exports) {
var define;
var e;!function(r,o,t){"object"==typeof exports?module.exports=exports=o(require("./core"),require("./enc-base64"),require("./md5"),require("./evpkdf"),require("./cipher-core")):"function"==typeof e&&e.amd?e(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],o):o(r.CryptoJS)}(this,function(e){return function(){var r=e,o=r.lib.BlockCipher,t=r.algo,i=[],c=[],n=[],s=[],u=[],f=[],h=[],d=[],a=[],y=[];!function(){for(var e=[],r=0;r<256;r++)e[r]=r<128?r<<1:r<<1^283;var o=0,t=0;for(r=0;r<256;r++){var p=t^t<<1^t<<2^t<<3^t<<4;p=p>>>8^255&p^99,i[o]=p,c[p]=o;var v=e[o],l=e[v],_=e[l],k=257*e[p]^16843008*p;n[o]=k<<24|k>>>8,s[o]=k<<16|k>>>16,u[o]=k<<8|k>>>24,f[o]=k;k=16843009*_^65537*l^257*v^16843008*o;h[p]=k<<24|k>>>8,d[p]=k<<16|k>>>16,a[p]=k<<8|k>>>24,y[p]=k,o?(o=v^e[e[e[_^v]]],t^=e[e[t]]):o=t=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],v=t.AES=o.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,r=e.words,o=e.sigBytes/4,t=4*((this._nRounds=o+6)+1),c=this._keySchedule=[],n=0;n<t;n++)if(n<o)c[n]=r[n];else{var s=c[n-1];n%o?o>6&&n%o==4&&(s=i[s>>>24]<<24|i[s>>>16&255]<<16|i[s>>>8&255]<<8|i[255&s]):(s=i[(s=s<<8|s>>>24)>>>24]<<24|i[s>>>16&255]<<16|i[s>>>8&255]<<8|i[255&s],s^=p[n/o|0]<<24),c[n]=c[n-o]^s}for(var u=this._invKeySchedule=[],f=0;f<t;f++){n=t-f;if(f%4)s=c[n];else s=c[n-4];u[f]=f<4||n<=4?s:h[i[s>>>24]]^d[i[s>>>16&255]]^a[i[s>>>8&255]]^y[i[255&s]]}}},encryptBlock:function(e,r){this._doCryptBlock(e,r,this._keySchedule,n,s,u,f,i)},decryptBlock:function(e,r){var o=e[r+1];e[r+1]=e[r+3],e[r+3]=o,this._doCryptBlock(e,r,this._invKeySchedule,h,d,a,y,c);o=e[r+1];e[r+1]=e[r+3],e[r+3]=o},_doCryptBlock:function(e,r,o,t,i,c,n,s){for(var u=this._nRounds,f=e[r]^o[0],h=e[r+1]^o[1],d=e[r+2]^o[2],a=e[r+3]^o[3],y=4,p=1;p<u;p++){var v=t[f>>>24]^i[h>>>16&255]^c[d>>>8&255]^n[255&a]^o[y++],l=t[h>>>24]^i[d>>>16&255]^c[a>>>8&255]^n[255&f]^o[y++],_=t[d>>>24]^i[a>>>16&255]^c[f>>>8&255]^n[255&h]^o[y++],k=t[a>>>24]^i[f>>>16&255]^c[h>>>8&255]^n[255&d]^o[y++];f=v,h=l,d=_,a=k}v=(s[f>>>24]<<24|s[h>>>16&255]<<16|s[d>>>8&255]<<8|s[255&a])^o[y++],l=(s[h>>>24]<<24|s[d>>>16&255]<<16|s[a>>>8&255]<<8|s[255&f])^o[y++],_=(s[d>>>24]<<24|s[a>>>16&255]<<16|s[f>>>8&255]<<8|s[255&h])^o[y++],k=(s[a>>>24]<<24|s[f>>>16&255]<<16|s[h>>>8&255]<<8|s[255&d])^o[y++];e[r]=v,e[r+1]=l,e[r+2]=_,e[r+3]=k},keySize:8});r.AES=o._createHelper(v)}(),e.AES});
},{"./core":"KOvs","./enc-base64":"fV5T","./md5":"Pylf","./evpkdf":"QDOL","./cipher-core":"hULA"}],"gl2I":[function(require,module,exports) {
var define;
var e;!function(o,t){"object"==typeof exports?module.exports=exports=t(require("./core")):"function"==typeof e&&e.amd?e(["./core"],t):t(o.CryptoJS)}(this,function(e){return e.enc.Utf8});
},{"./core":"KOvs"}],"oS7T":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.encrypt=u,exports.decrypt=a,exports.default=exports.overwritable=exports.prototypes=exports.rxdb=void 0;var r=p(require("crypto-js/aes")),e=n(require("crypto-js/enc-utf8")),t=require("../rx-error");function o(){if("function"!=typeof WeakMap)return null;var r=new WeakMap;return o=function(){return r},r}function n(r){if(r&&r.__esModule)return r;if(null===r||"object"!=typeof r&&"function"!=typeof r)return{default:r};var e=o();if(e&&e.has(r))return e.get(r);var t={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in r)if(Object.prototype.hasOwnProperty.call(r,p)){var s=n?Object.getOwnPropertyDescriptor(r,p):null;s&&(s.get||s.set)?Object.defineProperty(t,p,s):t[p]=r[p]}return t.default=r,e&&e.set(r,t),t}function p(r){return r&&r.__esModule?r:{default:r}}var s=8;function u(e,t){return r.default.encrypt(e,t).toString()}function a(t,o){return r.default.decrypt(t,o).toString(e)}var i=function(r){return u(JSON.stringify(r),this.password)},f=function(r){var e=a(r,this.password);return JSON.parse(e)},c=!0;exports.rxdb=c;var d={Crypter:function(r){r._encryptValue=i,r._decryptValue=f}};exports.prototypes=d;var l={validatePassword:function(r){if(r&&"string"!=typeof r)throw(0,t.newRxTypeError)("EN1",{password:r});if(r&&r.length<s)throw(0,t.newRxError)("EN2",{minPassLength:s,password:r})}};exports.overwritable=l;var y={rxdb:c,prototypes:d,overwritable:l};exports.default=y;
},{"crypto-js/aes":"Xa8o","crypto-js/enc-utf8":"gl2I","../rx-error":"iwQ4"}],"QIbi":[function(require,module,exports) {
"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var n=e(require("clone")),r=e(require("deep-equal")),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},o=function(e){return"object"===(void 0===e?"undefined":i(e))&&null!==e},f=function(e,n){return e.every(function(e){return n&&n(e)||e})},a=function(e,n){return e.hasOwnProperty(n)},l=function(e){return Object.keys(e)},u=function(e,n){Object.keys(e).forEach(function(r){n(e[r],r)})},d=function(e){return Array.isArray(e)},s=function(e){return!!("undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&e.$Uint8ArrayPolyfill)},p={isArray:d,each:u},c=function(e){return p.isArray(e)&&!s(e)},y=function(e){return c(e)||$(e)},h=function(e,n){if(!$(e))return!1;var r=void 0;return p.each(e,function(i,t){var o="$"===t.substr(0,1);if(void 0===r)r=o;else if(r!==o){if(!n)throw new Error("Inconsistent operator: "+JSON.stringify(e));r=!1}}),!!r},m=function(e){return/^[0-9]+$/.test(e)},$=function(e){return!!e&&("number"!=typeof e&&("string"!=typeof e&&("boolean"!=typeof e&&(!c(e)&&(null!==e&&(!(e instanceof RegExp)&&("function"!=typeof e&&(!(e instanceof Date)&&!s(e)))))))))},v=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof e&&n.field&&(e+=" for field '"+n.field+"'");var r=new Error(e);return r.name="ModifyJsError",r},b={all:f,each:u,keys:l,has:a,isObject:o},w=function(e,n,r){if(!r||!r.each)return A(e,n,t({},r,{returnInsteadOfReplacing:!0}))},A=function(e,r,i){if(i=i||{},!$(r))throw v("Modifier must be an object");var t;if(r=n(r),h(r)?(t=n(e),b.each(r,function(e,n){var r=C[n];if(!r)throw v("Invalid modifier specified "+n);b.each(e,function(e,o){if(""===o)throw v("An empty update path is not valid.");var f=o.split(".");if(!b.all(f))throw v("The update path '"+o+"' contains an empty field name, which is not allowed.");var a=g(t,f,{noCreate:j[n],forbidArray:"$rename"===n,arrayIndices:i.arrayIndices}),l=f.pop();r(a,l,e,o,t)})})):t=r,i.returnInsteadOfReplacing)return t;b.each(b.keys(e),function(n){"_id"!==n&&delete e[n]}),b.each(t,function(n,r){e[r]=n})},g=function(e,n,r){r=r||{};for(var t=!1,o=0;o<n.length;o++){var f=o===n.length-1,a=n[o];if(!y(e)){if(r.noCreate)return;var l=v("cannot use the part '"+a+"' to traverse "+e);throw l.setPropertyError=!0,l}if(e instanceof Array){if(r.forbidArray)return null;if("$"===a){if(t)throw v("Too many positional (i.e. '$') elements");if(!r.arrayIndices||!r.arrayIndices.length)throw v("The positional operator did not find the match needed from the query");a=r.arrayIndices[0],t=!0}else{if(!m(a)){if(r.noCreate)return;throw v("can't append to array using string field name ["+a+"]")}a=parseInt(a)}if(f&&(n[o]=a),r.noCreate&&a>=e.length)return;for(;e.length<a;)e.push(null);if(!f)if(e.length===a)e.push({});else if("object"!==i(e[a]))throw v("can't modify field '"+n[o+1]+"' of list value "+JSON.stringify(e[a]))}else if(!(a in e)){if(r.noCreate)return;f||(e[a]={})}if(f)return e;e=e[a]}},j={$unset:!0,$pop:!0,$rename:!0,$pull:!0,$pullAll:!0},C={$currentDate:function(e,n,r){if("object"===(void 0===r?"undefined":i(r))&&r.hasOwnProperty("$type")){if("date"!==r.$type)throw v("Minimongo does currently only support the date type in $currentDate modifiers",{field:n})}else if(!0!==r)throw v("Invalid $currentDate modifier",{field:n});e[n]=new Date},$min:function(e,n,r){if("number"!=typeof r)throw v("Modifier $min allowed for numbers only",{field:n});if(n in e){if("number"!=typeof e[n])throw v("Cannot apply $min modifier to non-number",{field:n});e[n]>r&&(e[n]=r)}else e[n]=r},$max:function(e,n,r){if("number"!=typeof r)throw v("Modifier $max allowed for numbers only",{field:n});if(n in e){if("number"!=typeof e[n])throw v("Cannot apply $max modifier to non-number",{field:n});e[n]<r&&(e[n]=r)}else e[n]=r},$inc:function(e,n,r){if("number"!=typeof r)throw v("Modifier $inc allowed for numbers only",{field:n});if(n in e){if("number"!=typeof e[n])throw v("Cannot apply $inc modifier to non-number",{field:n});e[n]+=r}else e[n]=r},$set:function(e,n,r){var i;if(!b.isObject(e))throw(i=v("Cannot set property on non-object field",{field:n})).setPropertyError=!0,i;if(null===e)throw(i=v("Cannot set property on null",{field:n})).setPropertyError=!0,i;e[n]=r},$setOnInsert:function(e,n,r){},$unset:function(e,n,r){void 0!==e&&(e instanceof Array?n in e&&(e[n]=null):delete e[n])},$push:function(e,n,r){if(void 0===e[n]&&(e[n]=[]),!(e[n]instanceof Array))throw v("Cannot apply $push modifier to non-array",{field:n});if(r&&r.$each){var i=r.$each;if(!(i instanceof Array))throw v("$each must be an array",{field:n});var t=void 0;if("$position"in r){if("number"!=typeof r.$position)throw v("$position must be a numeric value",{field:n});if(r.$position<0)throw v("$position in $push must be zero or positive",{field:n});t=r.$position}var o=void 0;if("$slice"in r){if("number"!=typeof r.$slice)throw v("$slice must be a numeric value",{field:n});if(r.$slice>0)throw v("$slice in $push must be zero or negative",{field:n});o=r.$slice}if(r.$sort)throw v("$sort in $push not implemented yet");if(void 0===t)for(var f=0;f<i.length;f++)e[n].push(i[f]);else{var a=[t,0];for(f=0;f<i.length;f++)a.push(i[f]);Array.prototype.splice.apply(e[n],a)}void 0,void 0!==o&&(e[n]=0===o?[]:e[n].slice(o))}else e[n].push(r)},$pushAll:function(e,n,r){if(!("object"===(void 0===r?"undefined":i(r))&&r instanceof Array))throw v("Modifier $pushAll/pullAll allowed for arrays only");var t=e[n];if(void 0===t)e[n]=r;else{if(!(t instanceof Array))throw v("Cannot apply $pushAll modifier to non-array",{field:n});for(var o=0;o<r.length;o++)t.push(r[o])}},$addToSet:function(e,n,t){var o=!1;"object"===(void 0===t?"undefined":i(t))&&("$each"===Object.keys(t)[0]&&(o=!0));var f=o?t.$each:[t],a=e[n];if(void 0===a)e[n]=f;else{if(!(a instanceof Array))throw v("Cannot apply $addToSet modifier to non-array",{field:n});b.each(f,function(e){for(var n=0;n<a.length;n++)if(r(e,a[n]))return;a.push(e)})}},$pop:function(e,n,r){if(void 0!==e){var i=e[n];if(void 0!==i){if(!(i instanceof Array))throw v("Cannot apply $pop modifier to non-array",{field:n});"number"==typeof r&&r<0?i.splice(0,1):i.pop()}}},$pull:function(e,n,r){if(void 0!==e){var i=e[n];if(void 0!==i)throw i instanceof Array?v("$pull not implemented yet"):v("Cannot apply $pull/pullAll modifier to non-array",{field:n})}},$pullAll:function(e,n,t){if(!("object"===(void 0===t?"undefined":i(t))&&t instanceof Array))throw v("Modifier $pushAll/pullAll allowed for arrays only",{field:n});if(void 0!==e){var o=e[n];if(void 0!==o){if(!(o instanceof Array))throw v("Cannot apply $pull/pullAll modifier to non-array",{field:n});for(var f=[],a=0;a<o.length;a++){for(var l=!1,u=0;u<t.length;u++)if(r(o[a],t[u])){l=!0;break}l||f.push(o[a])}e[n]=f}}},$rename:function(e,n,r,i,t){if(i===r)throw v("$rename source must differ from target",{field:n});if(null===e)throw v("$rename source field invalid",{field:n});if("string"!=typeof r)throw v("$rename target must be a string",{field:n});if(r.indexOf("\0")>-1)throw v("The 'to' field for $rename cannot contain an embedded null byte",{field:n});if(void 0!==e){var o=e[n];delete e[n];var f=r.split("."),a=g(t,f,{forbidArray:!0});if(null===a)throw v("$rename target field invalid",{field:n});a[f.pop()]=o}},$bit:function(e,n,r){throw v("$bit is not supported",{field:n})}};module.exports=w;
},{"clone":"nTXV","deep-equal":"koiw"}],"Nilz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.update=u,exports.RxQueryUpdate=n,exports.default=exports.prototypes=exports.rxdb=void 0;var t=r(require("modifyjs")),e=require("../util.js");function r(t){return t&&t.__esModule?t:{default:t}}function u(r){var u=(0,e.clone)(this._data),n=(0,t.default)(u,r);return this._saveData(n,u)}function n(t){return this.exec().then(function(e){return e?Array.isArray(e)?Promise.all(e.map(function(e){return e.update(t)})).then(function(){return e}):e.update(t).then(function(){return e}):null})}var o=!0;exports.rxdb=o;var a={RxDocument:function(t){t.update=u},RxQuery:function(t){t.update=n}};exports.prototypes=a;var s={rxdb:o,prototypes:a};exports.default=s;
},{"modifyjs":"QIbi","../util.js":"fx0o"}],"w2qu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.watchForChanges=o,exports.default=exports.prototypes=exports.rxdb=void 0;var e=require("rxjs"),r=require("rxjs/operators"),t=require("../util"),n=require("../rx-change-event");function o(){var t=this;if(!this.synced){this.synced=!0,this._watchForChangesUnhandled=new Set;var n=(0,e.fromEvent)(this.pouch.changes({since:"now",live:!0,include_docs:!0}),"change").pipe((0,r.map)(function(e){return e[0]})).subscribe(function(e){var r=s(t,e);t._watchForChangesUnhandled.add(r),r.then(function(){t._watchForChangesUnhandled.delete(r)})});this._subs.push(n)}}function s(e,r){return"_"===r.id.charAt(0)?Promise.resolve(!1):(0,t.promiseWait)(20).then(function(){return(0,t.nextTick)()}).then(function(){return(0,t.nextTick)()}).then(function(){var t=r.doc;if(e._changeEventBuffer.hasChangeWithRevision(t._rev))return!1;var o=(0,n.changeEventfromPouchChange)(t,e);return e.$emit(o),!0})}var i=!0;exports.rxdb=i;var a={RxCollection:function(e){e.watchForChanges=o}};exports.prototypes=a;var h={rxdb:i,prototypes:a},c=h;exports.default=c;
},{"rxjs":"iRqj","rxjs/operators":"cVrl","../util":"fx0o","../rx-change-event":"TsdW"}],"XgBx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("pouchdb-utils"),e=require("pouchdb-collate"),r=1,s="pouchdb",i=5,n=0;function o(e,n,u,c,a){return e.get(n).catch(function(i){if(404===i.status)return"http"!==e.adapter&&"https"!==e.adapter||(0,t.explainError)(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:c,_id:n,history:[],replicator:s,version:r};throw i}).then(function(t){if(!a.cancelled&&t.last_seq!==u)return t.history=(t.history||[]).filter(function(t){return t.session_id!==c}),t.history.unshift({last_seq:u,session_id:c}),t.history=t.history.slice(0,i),t.version=r,t.replicator=s,t.session_id=c,t.last_seq=u,e.put(t).catch(function(t){if(409===t.status)return o(e,n,u,c,a);throw t})})}function u(t,e,r,s,i){this.src=t,this.target=e,this.id=r,this.returnValue=s,this.opts=i||{}}u.prototype.writeCheckpoint=function(t,e){var r=this;return this.updateTarget(t,e).then(function(){return r.updateSource(t,e)})},u.prototype.updateTarget=function(t,e){return this.opts.writeTargetCheckpoint?o(this.target,this.id,t,e,this.returnValue):Promise.resolve(!0)},u.prototype.updateSource=function(t,e){if(this.opts.writeSourceCheckpoint){var r=this;return o(this.src,this.id,t,e,this.returnValue).catch(function(t){if(l(t))return r.opts.writeSourceCheckpoint=!1,!0;throw t})}return Promise.resolve(!0)};var c={undefined:function(t,r){return 0===(0,e.collate)(t.last_seq,r.last_seq)?r.last_seq:0},1:function(t,e){return a(e,t).last_seq}};function a(t,e){return t.session_id===e.session_id?{last_seq:t.last_seq,history:t.history}:h(t.history,e.history)}function h(t,e){var r=t[0],s=t.slice(1),i=e[0],o=e.slice(1);return r&&0!==e.length?p(r.session_id,e)?{last_seq:r.last_seq,history:t}:p(i.session_id,s)?{last_seq:i.last_seq,history:o}:h(s,o):{last_seq:n,history:[]}}function p(t,e){var r=e[0],s=e.slice(1);return!(!t||0===e.length)&&(t===r.session_id||p(t,s))}function l(t){return"number"==typeof t.status&&4===Math.floor(t.status/100)}u.prototype.getCheckpoint=function(){var t=this;return t.opts&&t.opts.writeSourceCheckpoint&&!t.opts.writeTargetCheckpoint?t.src.get(t.id).then(function(t){return t.last_seq||n}).catch(function(t){if(404!==t.status)throw t;return n}):t.target.get(t.id).then(function(e){return t.opts&&t.opts.writeTargetCheckpoint&&!t.opts.writeSourceCheckpoint?e.last_seq||n:t.src.get(t.id).then(function(t){return e.version!==t.version?n:(r=e.version?e.version.toString():"undefined")in c?c[r](e,t):n;var r},function(r){if(404===r.status&&e.last_seq)return t.src.put({_id:t.id,last_seq:n}).then(function(){return n},function(r){return l(r)?(t.opts.writeSourceCheckpoint=!1,e.last_seq):n});throw r})}).catch(function(t){if(404!==t.status)throw t;return n})};var f=u;exports.default=f;
},{"pouchdb-utils":"mY35","pouchdb-collate":"XVUJ"}],"wIqX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("pouchdb-md5"),r=require("pouchdb-collate");function t(e){return Object.keys(e).sort(r.collate).reduce(function(r,t){return r[t]=e[t],r},{})}function i(i,o,n){var l=n.doc_ids?n.doc_ids.sort(r.collate):"",u=n.filter?n.filter.toString():"",c="",a="",s="";return n.selector&&(s=JSON.stringify(n.selector)),n.filter&&n.query_params&&(c=JSON.stringify(t(n.query_params))),n.filter&&"_view"===n.filter&&(a=n.view.toString()),Promise.all([i.id(),o.id()]).then(function(r){var t=r[0]+r[1]+u+a+c+l+s;return new Promise(function(r){(0,e.binaryMd5)(t,r)})}).then(function(e){return"_local/"+(e=e.replace(/\//g,".").replace(/\+/g,"_"))})}var o=i;exports.default=o;
},{"pouchdb-md5":"ZfEw","pouchdb-collate":"XVUJ"}],"nBSV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("pouchdb-checkpointer")),t=o(require("pouchdb-generate-replication-id")),n=require("pouchdb-errors"),c=require("pouchdb-utils"),r=o(require("inherits")),i=require("events");function o(e){return e&&e.__esModule?e:{default:e}}function s(e){return/^1-/.test(e)}function u(e,t,n){return!e._attachments||!e._attachments[n]||e._attachments[n].digest!==t._attachments[n].digest}function a(e,t){var n=Object.keys(t._attachments);return Promise.all(n.map(function(n){return e.getAttachment(t._id,n,{rev:t._rev})}))}function l(e,t,n){var r=(0,c.isRemote)(t)&&!(0,c.isRemote)(e),i=Object.keys(n._attachments);return r?e.get(n._id).then(function(c){return Promise.all(i.map(function(r){return u(c,n,r)?t.getAttachment(n._id,r):e.getAttachment(c._id,r)}))}).catch(function(e){if(404!==e.status)throw e;return a(t,n)}):a(t,n)}function h(e){var t=[];return Object.keys(e).forEach(function(n){e[n].missing.forEach(function(e){t.push({id:n,rev:e})})}),{docs:t,revs:!0,latest:!0}}function d(e,t,n,r){n=(0,c.clone)(n);var i=[],o=!0;function u(t){return e.allDocs({keys:t,include_docs:!0,conflicts:!0}).then(function(e){if(r.cancelled)throw new Error("cancelled");e.rows.forEach(function(e){var t;e.deleted||!e.doc||!s(e.value.rev)||(t=e.doc,t._attachments&&Object.keys(t._attachments).length>0)||function(e){return e._conflicts&&e._conflicts.length>0}(e.doc)||(e.doc._conflicts&&delete e.doc._conflicts,i.push(e.doc),delete n[e.id])})})}return Promise.resolve().then(function(){var e=Object.keys(n).filter(function(e){var t=n[e].missing;return 1===t.length&&s(t[0])});if(e.length>0)return u(e)}).then(function(){var s=h(n);if(s.docs.length)return e.bulkGet(s).then(function(n){if(r.cancelled)throw new Error("cancelled");return Promise.all(n.results.map(function(n){return Promise.all(n.docs.map(function(n){var c=n.ok;return n.error&&(o=!1),c&&c._attachments?l(t,e,c).then(function(e){var t=Object.keys(c._attachments);return e.forEach(function(e,n){var r=c._attachments[t[n]];delete r.stub,delete r.length,r.data=e}),c}):c}))})).then(function(e){i=i.concat((0,c.flatten)(e).filter(Boolean))})})}).then(function(){return{ok:o,docs:i}})}var f=0;function p(e,t,n,r){if(!1===e.retry)return t.emit("error",n),void t.removeAllListeners();if("function"!=typeof e.back_off_function&&(e.back_off_function=c.defaultBackOff),t.emit("requestError",n),"active"===t.state||"pending"===t.state){t.emit("paused",n),t.state="stopped";var i=function(){e.current_back_off=f};t.once("paused",function(){t.removeListener("active",i)}),t.once("active",i)}e.current_back_off=e.current_back_off||f,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(r,e.current_back_off)}function m(r,i,o,s,u){var a,l,h,f=[],v={seq:0,changes:[],docs:[]},g=!1,_=!1,w=!1,y=0,k=o.continuous||o.live||!1,b=o.batch_size||100,L=o.batches_limit||10,C=!1,E=o.doc_ids,P=o.selector,q=[],O=(0,c.uuid)();u=u||{ok:!0,start_time:(new Date).toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var j={};function A(){return h?Promise.resolve():(0,t.default)(r,i,o).then(function(t){l=t;var n={};n=!1===o.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===o.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===o.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},h=new e.default(r,i,l,s,n)})}function S(){if(q=[],0!==a.docs.length){var e=a.docs,t={timeout:o.timeout};return i.bulkDocs({docs:e,new_edits:!1},t).then(function(t){if(s.cancelled)throw B(),new Error("cancelled");var n=Object.create(null);t.forEach(function(e){e.error&&(n[e.id]=e)});var r=Object.keys(n).length;u.doc_write_failures+=r,u.docs_written+=e.length-r,e.forEach(function(e){var t=n[e._id];if(t){u.errors.push(t);var r=(t.name||"").toLowerCase();if("unauthorized"!==r&&"forbidden"!==r)throw t;s.emit("denied",(0,c.clone)(t))}else q.push(e)})},function(t){throw u.doc_write_failures+=e.length,t})}}function T(){if(a.error)throw new Error("There was a problem getting docs.");u.last_seq=y=a.seq;var e=(0,c.clone)(u);return q.length&&(e.docs=q,"number"==typeof a.pending&&(e.pending=a.pending,delete a.pending),s.emit("change",e)),g=!0,h.writeCheckpoint(a.seq,O).then(function(){if(g=!1,s.cancelled)throw B(),new Error("cancelled");a=void 0,Q()}).catch(function(e){throw F(e),e})}function D(){return d(r,i,a.diffs,s).then(function(e){a.error=!e.ok,e.docs.forEach(function(e){delete a.diffs[e._id],u.docs_read++,a.docs.push(e)})})}function x(){var e;s.cancelled||a||(0!==f.length?(a=f.shift(),(e={},a.changes.forEach(function(t){"_user/"!==t.id&&(e[t.id]=t.changes.map(function(e){return e.rev}))}),i.revsDiff(e).then(function(e){if(s.cancelled)throw B(),new Error("cancelled");a.diffs=e})).then(D).then(S).then(T).then(x).catch(function(e){z("batch processing terminated with error",e)})):M(!0))}function M(e){0!==v.changes.length?(e||_||v.changes.length>=b)&&(f.push(v),v={seq:0,changes:[],docs:[]},"pending"!==s.state&&"stopped"!==s.state||(s.state="active",s.emit("active")),x()):0!==f.length||a||((k&&j.live||_)&&(s.state="pending",s.emit("paused")),_&&B())}function z(e,t){w||(t.message||(t.message=e),u.ok=!1,u.status="aborting",f=[],v={seq:0,changes:[],docs:[]},B(t))}function B(e){if(!(w||s.cancelled&&(u.status="cancelled",g)))if(u.status=u.status||"complete",u.end_time=(new Date).toISOString(),u.last_seq=y,w=!0,e){(e=(0,n.createError)(e)).result=u;var t=(e.name||"").toLowerCase();"unauthorized"===t||"forbidden"===t?(s.emit("error",e),s.removeAllListeners()):p(o,s,e,function(){m(r,i,o,s)})}else s.emit("complete",u),s.removeAllListeners()}function R(e,t,n){if(s.cancelled)return B();"number"==typeof t&&(v.pending=t),(0,c.filterChange)(o)(e)&&(v.seq=e.seq||n,v.changes.push(e),(0,c.nextTick)(function(){M(0===f.length&&j.live)}))}function I(e){if(C=!1,s.cancelled)return B();if(e.results.length>0)j.since=e.results[e.results.length-1].seq,Q(),M(!0);else{var t=function(){k?(j.live=!0,Q()):_=!0,M(!0)};a||0!==e.results.length?t():(g=!0,h.writeCheckpoint(e.last_seq,O).then(function(){g=!1,u.last_seq=y=e.last_seq,t()}).catch(F))}}function G(e){if(C=!1,s.cancelled)return B();z("changes rejected",e)}function Q(){if(!C&&!_&&f.length<L){C=!0,s._changes&&(s.removeListener("cancel",s._abortChanges),s._changes.cancel()),s.once("cancel",t);var e=r.changes(j).on("change",R);e.then(n,n),e.then(I).catch(G),o.retry&&(s._changes=e,s._abortChanges=t)}function t(){e.cancel()}function n(){s.removeListener("cancel",t)}}function U(){A().then(function(){if(!s.cancelled)return h.getCheckpoint().then(function(e){j={since:y=e,limit:b,batch_size:b,style:"all_docs",doc_ids:E,selector:P,return_docs:!0},o.filter&&("string"!=typeof o.filter?j.include_docs=!0:j.filter=o.filter),"heartbeat"in o&&(j.heartbeat=o.heartbeat),"timeout"in o&&(j.timeout=o.timeout),o.query_params&&(j.query_params=o.query_params),o.view&&(j.view=o.view),Q()});B()}).catch(function(e){z("getCheckpoint rejected with ",e)})}function F(e){g=!1,z("writeCheckpoint completed with error",e)}s.ready(r,i),s.cancelled?B():(s._addedListeners||(s.once("cancel",B),"function"==typeof o.complete&&(s.once("error",o.complete),s.once("complete",function(e){o.complete(null,e)})),s._addedListeners=!0),void 0===o.since?U():A().then(function(){return g=!0,h.writeCheckpoint(o.since,O)}).then(function(){g=!1,s.cancelled?B():(y=o.since,U())}).catch(F))}function v(){i.EventEmitter.call(this),this.cancelled=!1,this.state="pending";var e=this,t=new Promise(function(t,n){e.once("complete",t),e.once("error",n)});e.then=function(e,n){return t.then(e,n)},e.catch=function(e){return t.catch(e)},e.catch(function(){})}function g(e,t){var n=t.PouchConstructor;return"string"==typeof e?new n(e,t):e}function _(e,t,r,i){if("function"==typeof r&&(i=r,r={}),void 0===r&&(r={}),r.doc_ids&&!Array.isArray(r.doc_ids))throw(0,n.createError)(n.BAD_REQUEST,"`doc_ids` filter parameter is not a list.");r.complete=i,(r=(0,c.clone)(r)).continuous=r.continuous||r.live,r.retry="retry"in r&&r.retry,r.PouchConstructor=r.PouchConstructor||this;var o=new v(r);return m(g(e,r),g(t,r),r,o),o}function w(e,t,n,r){return"function"==typeof n&&(r=n,n={}),void 0===n&&(n={}),(n=(0,c.clone)(n)).PouchConstructor=n.PouchConstructor||this,new y(e=g(e,n),t=g(t,n),n,r)}function y(e,t,n,r){var i=this;this.canceled=!1;var o=n.push?(0,c.assign)({},n,n.push):n,s=n.pull?(0,c.assign)({},n,n.pull):n;function u(e){i.emit("change",{direction:"pull",change:e})}function a(e){i.emit("change",{direction:"push",change:e})}function l(e){i.emit("denied",{direction:"push",doc:e})}function h(e){i.emit("denied",{direction:"pull",doc:e})}function d(){i.pushPaused=!0,i.pullPaused&&i.emit("paused")}function f(){i.pullPaused=!0,i.pushPaused&&i.emit("paused")}function p(){i.pushPaused=!1,i.pullPaused&&i.emit("active",{direction:"push"})}function m(){i.pullPaused=!1,i.pushPaused&&i.emit("active",{direction:"pull"})}this.push=_(e,t,o),this.pull=_(t,e,s),this.pushPaused=!0,this.pullPaused=!0;var v={};function g(e){return function(t,n){("change"===t&&(n===u||n===a)||"denied"===t&&(n===h||n===l)||"paused"===t&&(n===f||n===d)||"active"===t&&(n===m||n===p))&&(t in v||(v[t]={}),v[t][e]=!0,2===Object.keys(v[t]).length&&i.removeAllListeners(t))}}function w(e,t,n){-1==e.listeners(t).indexOf(n)&&e.on(t,n)}n.live&&(this.push.on("complete",i.pull.cancel.bind(i.pull)),this.pull.on("complete",i.push.cancel.bind(i.push))),this.on("newListener",function(e){"change"===e?(w(i.pull,"change",u),w(i.push,"change",a)):"denied"===e?(w(i.pull,"denied",h),w(i.push,"denied",l)):"active"===e?(w(i.pull,"active",m),w(i.push,"active",p)):"paused"===e&&(w(i.pull,"paused",f),w(i.push,"paused",d))}),this.on("removeListener",function(e){"change"===e?(i.pull.removeListener("change",u),i.push.removeListener("change",a)):"denied"===e?(i.pull.removeListener("denied",h),i.push.removeListener("denied",l)):"active"===e?(i.pull.removeListener("active",m),i.push.removeListener("active",p)):"paused"===e&&(i.pull.removeListener("paused",f),i.push.removeListener("paused",d))}),this.pull.on("removeListener",g("pull")),this.push.on("removeListener",g("push"));var y=Promise.all([this.push,this.pull]).then(function(e){var t={push:e[0],pull:e[1]};return i.emit("complete",t),r&&r(null,t),i.removeAllListeners(),t},function(e){if(i.cancel(),r?r(e):i.emit("error",e),i.removeAllListeners(),r)throw e});this.then=function(e,t){return y.then(e,t)},this.catch=function(e){return y.catch(e)}}function k(e){e.replicate=_,e.sync=w,Object.defineProperty(e.prototype,"replicate",{get:function(){var e=this;return void 0===this.replicateMethods&&(this.replicateMethods={from:function(t,n,c){return e.constructor.replicate(t,e,n,c)},to:function(t,n,c){return e.constructor.replicate(e,t,n,c)}}),this.replicateMethods}}),e.prototype.sync=function(e,t,n){return this.constructor.sync(this,e,t,n)}}(0,r.default)(v,i.EventEmitter),v.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},v.prototype.ready=function(e,t){var n=this;function c(){n.cancel()}n._readyCalled||(n._readyCalled=!0,e.once("destroyed",c),t.once("destroyed",c),n.once("complete",function(){e.removeListener("destroyed",c),t.removeListener("destroyed",c)}))},(0,r.default)(y,i.EventEmitter),y.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())};var b=k;exports.default=b;
},{"pouchdb-checkpointer":"XgBx","pouchdb-generate-replication-id":"wIqX","pouchdb-errors":"qncM","pouchdb-utils":"mY35","inherits":"pyp0","events":"FRpO"}],"VfBo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setPouchEventEmitter=b,exports.createRxReplicationState=l,exports.sync=f,exports.default=exports.hooks=exports.prototypes=exports.rxdb=exports.RxReplicationStateBase=void 0;var e=a(require("pouchdb-replication")),t=require("rxjs"),r=require("rxjs/operators"),n=require("../util"),s=a(require("../core")),o=require("../rx-error"),c=require("../pouch-db"),u=a(require("./watch-for-changes")),i=require("../rx-collection");function a(e){return e&&e.__esModule?e:{default:e}}s.default.plugin(e.default),s.default.plugin(u.default);var p=new WeakSet,h=function(){function e(e){var r=this;this._subs=[],this._subjects={change:new t.Subject,docs:new t.Subject,denied:new t.Subject,active:new t.BehaviorSubject(!1),complete:new t.BehaviorSubject(!1),alive:new t.BehaviorSubject(!1),error:new t.Subject},this.collection=e,Object.keys(this._subjects).forEach(function(e){Object.defineProperty(r,e+"$",{get:function(){return this._subjects[e].asObservable()}})})}return e.prototype.cancel=function(){this._pouchEventEmitterObject&&this._pouchEventEmitterObject.cancel(),this._subs.forEach(function(e){return e.unsubscribe()})},e}();function b(e,s){if(e._pouchEventEmitterObject)throw(0,o.newRxError)("RC1");e._pouchEventEmitterObject=s,e._subs.push((0,t.fromEvent)(s,"change").subscribe(function(t){return e._subjects.change.next(t)})),e._subs.push((0,t.fromEvent)(s,"denied").subscribe(function(t){return e._subjects.denied.next(t)})),e._subs.push((0,t.fromEvent)(s,"change").subscribe(function(t){0!==e._subjects.docs.observers.length&&"pull"===t.direction&&t.change.docs.filter(function(e){return"query"!==e.language}).map(function(t){return e.collection._handleFromPouch(t)}).forEach(function(t){return e._subjects.docs.next(t)})})),e._subs.push((0,t.fromEvent)(s,"error").subscribe(function(t){return e._subjects.error.next(t)})),e._subs.push((0,t.fromEvent)(s,"active").subscribe(function(){return e._subjects.active.next(!0)})),e._subs.push((0,t.fromEvent)(s,"paused").subscribe(function(){return e._subjects.active.next(!1)})),e._subs.push((0,t.fromEvent)(s,"complete").subscribe(function(t){var r=Array.from(e.collection._watchForChangesUnhandled);Promise.all(r).then(function(){return e._subjects.complete.next(t)})})),e._subs.push((0,t.fromEvent)(s,"paused").pipe((0,r.skipUntil)((0,t.fromEvent)(s,"active"))).subscribe(function(){(function e(t){var r=t.state;if(r||(r=[t.pull.state,t.push.state].reduce(function(e,t){return"active"===e||"active"===t?"active":"stopped"===e?e:t},"")),"active"===r)return(0,n.promiseWait)(15).then(function(){return e(t)});var s="stopped"!==r;return Promise.resolve(s)})(e._pouchEventEmitterObject).then(function(t){return e._subjects.alive.next(t)})}))}function l(e){return new h(e)}function f(e){var t=this,r=e.remote,s=e.waitForLeadership,u=void 0===s||s,a=e.direction,h=void 0===a?{pull:!0,push:!0}:a,f=e.options,v=void 0===f?{live:!0,retry:!0}:f,d=e.query,x=(0,n.clone)(v);if((0,c.isInstanceOf)(r)&&p.has(r))throw(0,o.newRxError)("RC3",{database:this.database.name,collection:this.name});if((0,i.isInstanceOf)(r)&&(r.watchForChanges(),r=r.pouch),d&&this!==d.collection)throw(0,o.newRxError)("RC2",{query:d});var _=(0,c.pouchReplicationFunction)(this.pouch,h);d&&(x.selector=d.keyCompress().selector);var j=l(this);return(u?this.database.waitForLeadership():(0,n.promiseWait)(0)).then(function(){var e=_(r,x);t.watchForChanges(),b(j,e),t._repStates.push(j)}),j}exports.RxReplicationStateBase=h;var v=!0;exports.rxdb=v;var d={RxCollection:function(e){e.sync=f}};exports.prototypes=d;var x={createRxCollection:function(e){p.add(e.pouch)}};exports.hooks=x;var _={rxdb:v,prototypes:d,hooks:x,sync:f};exports.default=_;
},{"pouchdb-replication":"nBSV","rxjs":"iRqj","rxjs/operators":"cVrl","../util":"fx0o","../core":"FRoU","../rx-error":"iwQ4","../pouch-db":"WkpD","./watch-for-changes":"w2qu","../rx-collection":"Ds7G"}],"bCy3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.checkAdapter=o,exports.default=exports.overwritable=exports.prototypes=exports.rxdb=exports.POUCHDB_LOCATION=void 0;var e=require("../pouch-db"),t=require("../util"),r="rxdb-adapter-check";function o(o){var n,u,a=r+"-"+(0,t.generateId)();try{n=new e.PouchDB(r,(0,t.adapterObject)(o),{auto_compaction:!0,revs_limit:1})}catch(p){return Promise.resolve(!1)}return n.info().then(function(){return n.put({_id:a,value:{ok:!0,time:(new Date).getTime()}})}).then(function(){return n.get(a)}).then(function(e){return u=e}).then(function(){return n.remove(u)}).then(function(){return!0}).then(function(){return!!(u&&u.value&&u.value.ok)}).catch(function(){return!1})}exports.POUCHDB_LOCATION=r;var n=!0;exports.rxdb=n;var u={};exports.prototypes=u;var a={checkAdapter:o};exports.overwritable=a;var p={rxdb:n,prototypes:u,overwritable:a};exports.default=p;
},{"../pouch-db":"WkpD","../util":"fx0o"}],"OpYf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.overwritable=exports.prototypes=exports.rxdb=void 0;var e=require("../util"),t=require("../rx-query"),r=require("../rx-error"),n=require("../rx-change-event");function s(){var t=this,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1?arguments[1]:void 0,s={name:this.name,instanceToken:this.token,encrypted:!1,passwordHash:null,collections:[]};this.password&&(s.passwordHash=(0,e.hash)(this.password),s.encrypted=!r);var a=Object.keys(this.collections).filter(function(e){return!n||n.includes(e)}).filter(function(e){return"_"!==e.charAt(0)}).map(function(e){return t.collections[e]});return Promise.all(a.map(function(e){return e.dump(r)})).then(function(e){return s.collections=e,s})}var a=function(e){var t=this,n=e.collections.filter(function(e){return!t.collections[e.name]}).map(function(e){return e.name});if(n.length>0)throw(0,r.newRxError)("JD1",{missingCollections:n});return Promise.all(e.collections.map(function(e){return t.collections[e.name].importDump(e)}))},o=function(){var r=!(arguments.length>0&&void 0!==arguments[0]&&arguments[0]),n={name:this.name,schemaHash:this.schema.hash,encrypted:!1,passwordHash:null,docs:[]};this.database.password&&r&&(n.passwordHash=(0,e.hash)(this.database.password),n.encrypted=!0);var s=(0,t.createRxQuery)("find",{},this);return this._pouchFind(s,void 0,r).then(function(e){return n.docs=e.map(function(e){return delete e._rev,delete e._attachments,e}),n})};function i(t){var s=this;if(t.schemaHash!==this.schema.hash)throw(0,r.newRxError)("JD2",{schemaHash:t.schemaHash,own:this.schema.hash});if(t.encrypted&&t.passwordHash!==(0,e.hash)(this.database.password))throw(0,r.newRxError)("JD3",{passwordHash:t.passwordHash,own:(0,e.hash)(this.database.password)});var a=t.docs.map(function(e){return s._crypter.decrypt(e)}).map(function(e){return s.schema.validate(e)}).map(function(e){return s._handleToPouch(e)});return this.database.lockedRun(function(){return s.pouch.bulkDocs(a)}).then(function(){a.forEach(function(e){var t=e[s.schema.primaryPath],r=(0,n.createChangeEvent)("INSERT",s.database,s,null,e);r.data.doc=t,s.$emit(r)})})}var c=!0;exports.rxdb=c;var h={RxDatabase:function(e){e.dump=s,e.importDump=a},RxCollection:function(e){e.dump=o,e.importDump=i}};exports.prototypes=h;var u={};exports.overwritable=u;var p={rxdb:c,prototypes:h,overwritable:u};exports.default=p;
},{"../util":"fx0o","../rx-query":"HG6H","../rx-error":"iwQ4","../rx-change-event":"TsdW"}],"sQgn":[function(require,module,exports) {
function e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}module.exports=e;
},{}],"dMAG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.replicateExistingDocuments=g,exports.setIndexes=P,exports.streamChangedDocuments=w,exports.applyChangedDocumentToPouch=y,exports.spawnInMemory=S,exports.default=exports.overwritable=exports.prototypes=exports.rxdb=exports.InMemoryRxCollection=void 0;var e=d(require("@babel/runtime/helpers/assertThisInitialized")),t=d(require("@babel/runtime/helpers/inheritsLoose")),n=require("rxjs"),r=require("rxjs/operators"),o=require("../rx-collection"),i=require("../util"),s=d(require("../core")),u=d(require("../crypter")),c=require("../change-event-buffer"),a=require("../rx-schema"),h=require("../pouch-db"),p=require("../rx-error"),l=d(require("../plugins/watch-for-changes"));function d(e){return e&&e.__esModule?e:{default:e}}s.default.plugin(l.default);var f=new WeakMap,v=new WeakMap,_={new_edits:!0},m={new_edits:!1},b=function(o){function s(t){var r,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(r=o.call(this,t.database,t.name,x(t.schema),s,{},t._methods)||this)._eventCounter=0,r._isInMemory=!0,r._parentCollection=t,r._parentCollection.onDestroy.then(function(){return r.destroy()}),r._crypter=u.default.create(r.database.password,r.schema),r._changeStreams=[],r.onDestroy.then(function(){r._changeStreams.forEach(function(e){return e.cancel()}),r.pouch.destroy()}),r.options=t.options,Object.entries(t.statics).forEach(function(t){var n=t[0],o=t[1];Object.defineProperty((0,e.default)(r),n,{get:function(){return o.bind((0,e.default)(r))}})}),r.pouch=new h.PouchDB("rxdb-in-memory-"+(0,i.randomCouchString)(10),(0,i.adapterObject)("memory")),r._observable$=new n.Subject,r._changeEventBuffer=(0,c.createChangeEventBuffer)((0,e.default)(r));var a=Object.getPrototypeOf(t);return r._oldPouchPut=a._pouchPut.bind((0,e.default)(r)),r._nonPersistentRevisions=new Set,r._nonPersistentRevisionsSubject=new n.Subject,r}(0,t.default)(s,o);var a=s.prototype;return a.prepareChild=function(){var e=this;return P(this.schema,this.pouch).then(function(){e._subs.push(e._observable$.subscribe(function(t){var n=e._docCache.get(t.data.doc);n&&n._handleChangeEvent(t)}))}).then(function(){return g(e._parentCollection,e)}).then(function(){e._parentCollection.watchForChanges(),e.watchForChanges();var t=w(e).pipe((0,r.mergeMap)(function(t){return y(e._parentCollection,t).then(function(){return t._rev})})).subscribe(function(t){e._nonPersistentRevisions.delete(t),e._nonPersistentRevisionsSubject.next(e._nonPersistentRevisions.size)});e._subs.push(t);var n=w(e._parentCollection).subscribe(function(t){return y(e,t)});e._subs.push(n)})},a.awaitPersistence=function(){var e=this;return 0===this._nonPersistentRevisions.size?Promise.resolve():this._nonPersistentRevisionsSubject.pipe((0,r.filter)(function(){return 0===e._nonPersistentRevisions.size}),(0,r.first)()).toPromise()},a._pouchPut=function(e,t){var n=this;return this._oldPouchPut(e,t).then(function(e){return n._nonPersistentRevisions.add(e.rev),e})},a.$emit=function(e){this._changeEventBuffer.hasChangeWithRevision(e.data.v&&e.data.v._rev)||(this._observable$.next(e),this._eventCounter++,10===this._eventCounter&&(this._eventCounter=0,this.pouch.compact()))},a.sync=function(){throw(0,p.newRxError)("IM2")},s}(o.RxCollectionBase);function x(e){var t=(0,i.clone)(e.jsonID);t.keyCompression=!1,delete t.properties._id,delete t.properties._rev,delete t.properties._attachments;return function e(t,n){delete t.encrypted,Object.values(t).filter(function(e){return"object"==typeof e}).forEach(function(t){return e(t,n)})}(t,t),(0,a.createRxSchema)(t)}function g(e,t){return e.pouch.allDocs({attachments:!1,include_docs:!0}).then(function(n){var r=n.rows.map(function(e){return e.doc}).filter(function(e){return!e.language}).map(function(t){return e._handleFromPouch(t)}).map(function(t){return e.schema.swapPrimaryToId(t)});return 0===r.length?Promise.resolve([]):t.pouch.bulkDocs({docs:r},m).then(function(){return r})})}function P(e,t){return Promise.all(e.indexes.map(function(e){return t.createIndex({index:{fields:e}})}))}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return!0};return e._doNotEmitSet||(e._doNotEmitSet=new Set),(0,n.fromEvent)(e.pouch.changes({since:"now",live:!0,include_docs:!0}),"change").pipe((0,r.map)(function(e){return e[0]}),(0,r.filter)(function(t){var n=t.id+":"+t.doc._rev;return!e._doNotEmitSet.has(n)}),(0,r.filter)(function(e){return t(e)}),(0,r.map)(function(t){return e._handleFromPouch(t.doc)}))}function y(e,t){e._doNotEmitSet||(e._doNotEmitSet=new Set);var n=e._handleToPouch(t);return e.pouch.get(n._id).then(function(e){return n._rev=e._rev}).catch(function(){delete n._rev}).then(function(){return e.pouch.bulkDocs({docs:[n]},_)}).then(function(t){if(t.length>0&&!t[0].ok)throw new Error(JSON.stringify(t[0]));var r=n._id+":"+t[0].rev;return e._doNotEmitSet.add(r),setTimeout(function(){return e._doNotEmitSet.delete(r)},3e4),n})}exports.InMemoryRxCollection=b;var C=!1;function S(){var e=this;if(!C&&(C=!0,!h.PouchDB.adapters||!h.PouchDB.adapters.memory))throw(0,p.newRxError)("IM1");if(f.has(this))return v.get(this).then(function(){return f.get(e)});var t=new b(this),n=t.prepareChild();return f.set(this,t),v.set(this,n),n.then(function(){return t})}var E=!0;exports.rxdb=E;var R={RxCollection:function(e){e.inMemory=S}};exports.prototypes=R;var j={};exports.overwritable=j;var q={rxdb:E,prototypes:R,overwritable:j,spawnInMemory:S};exports.default=q;
},{"@babel/runtime/helpers/assertThisInitialized":"sQgn","@babel/runtime/helpers/inheritsLoose":"HDHM","rxjs":"iRqj","rxjs/operators":"cVrl","../rx-collection":"Ds7G","../util":"fx0o","../core":"FRoU","../crypter":"lC2b","../change-event-buffer":"duhZ","../rx-schema":"hw9e","../pouch-db":"WkpD","../rx-error":"iwQ4","../plugins/watch-for-changes":"w2qu"}],"ot2g":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var t=require("buffer").Buffer;Object.defineProperty(exports,"__esModule",{value:!0}),exports.fromPouchDocument=h,exports.putAttachment=p,exports.getAttachment=f,exports.allAttachments=m,exports.preMigrateDocument=d,exports.postMigrateDocument=v,exports.default=exports.hooks=exports.overwritable=exports.prototypes=exports.rxdb=exports.RxAttachment=exports.blobBufferUtil=void 0;var e=require("rxjs/operators"),r=require("./../rx-change-event"),n=require("./../util"),o=require("../rx-error");function c(t){if(!t.collection.schema.jsonID.attachments)throw(0,o.newRxError)("AT1",{link:"https://pubkey.github.io/rxdb/rx-attachment.html"})}function i(t){return t.collection.pouch.get(t.primary).then(function(e){var n=t.collection._handleFromPouch(e),o=(0,r.createChangeEvent)("UPDATE",t.collection.database,t.collection,t,n);t.$emit(o)})}var a={createBlobBuffer:function(e,r){var o;if(n.isElectronRenderer)return t.from(e,{type:r});try{o=new Blob([e],{type:r})}catch(c){o=t.from(e,{type:r})}return o},toString:function(e){return e instanceof t?(0,n.nextTick)().then(function(){return e.toString()}):new Promise(function(t){var r=new FileReader;r.addEventListener("loadend",function(e){var r=e.target.result;t(r)}),"[object Uint8Array]"===Object.prototype.toString.call(e)&&(e=new Blob([e])),r.readAsText(e)})}};exports.blobBufferUtil=a;var u=function(t){Object.entries(t.doc.collection.attachments).forEach(function(e){var r=e[0],n=e[1];Object.defineProperty(t,r,{get:function(){return n.bind(t)}})})},s=function(){function t(t){var e=t.doc,r=t.id,n=t.type,o=t.length,c=t.digest,i=t.rev;this.doc=e,this.id=r,this.type=n,this.length=o,this.digest=c,this.rev=i,u(this)}var e=t.prototype;return e.remove=function(){var t=this;return this.doc.collection.pouch.removeAttachment(this.doc.primary,this.id,this.doc._data._rev).then(function(){return i(t.doc)})},e.getData=function(){var t=this;return this.doc.collection.pouch.getAttachment(this.doc.primary,this.id).then(function(e){return l(t.doc)?a.toString(e).then(function(e){return a.createBlobBuffer(t.doc.collection._crypter._decryptValue(e),t.type)}):e})},e.getStringData=function(){return this.getData().then(function(t){return a.toString(t)})},t}();function h(t,e,r){return new s({doc:r,id:t,type:e.content_type,length:e.length,digest:e.digest,rev:e.revpos})}function l(t){return!!t.collection.schema.jsonID.attachments.encrypted}function p(t){var e=this,r=t.id,n=t.data,o=t.type,u=void 0===o?"text/plain":o;c(this),l(this)&&(n=this.collection._crypter._encryptValue(n));var s=a.createBlobBuffer(n,u);return this._atomicQueue=this._atomicQueue.then(function(){return e.collection.pouch.putAttachment(e.primary,r,e._data._rev,s,u)}).then(function(){return e.collection.pouch.get(e.primary)}).then(function(t){var n=t._attachments[r],o=h(r,n,e);return e._data._rev=t._rev,e._data._attachments=t._attachments,i(e).then(function(){return o})}),this._atomicQueue}function f(t){c(this);var e=this._dataSync$.getValue();return e._attachments&&e._attachments[t]?h(t,e._attachments[t],this):null}function m(){var t=this;c(this);var e=this._dataSync$.getValue();return e._attachments?Object.keys(e._attachments).map(function(r){return h(r,e._attachments[r],t)}):[]}function d(t){return delete t.migrated._attachments,t}function v(t){var e=t.oldCollection.schema.primaryPath,r=t.doc._attachments;if(!r)return Promise.resolve(t);var n=Promise.resolve();return Object.keys(r).forEach(function(o){var c=r[o],i=t.doc[e];n=n.then(function(){return t.oldCollection.pouchdb.getAttachment(i,o)}).then(function(t){return a.toString(t)}).then(function(e){return t.newestCollection.pouch.putAttachment(i,o,t.res.rev,a.createBlobBuffer(e,c.content_type),c.content_type)}).then(function(e){return t.res=e})}),n}exports.RxAttachment=s;var y=!0;exports.rxdb=y;var g={RxDocument:function(t){t.putAttachment=p,t.getAttachment=f,t.allAttachments=m,Object.defineProperty(t,"allAttachments$",{get:function(){var t=this;return this._dataSync$.pipe((0,e.map)(function(t){return t._attachments?t._attachments:{}}),(0,e.map)(function(t){return Object.entries(t)}),(0,e.map)(function(e){return e.map(function(e){return h(e[0],e[1],t)})}))}})}};exports.prototypes=g;var _={};exports.overwritable=_;var x={preMigrateDocument:d,postMigrateDocument:v};exports.hooks=x;var b={rxdb:y,prototypes:g,overwritable:_,hooks:x,blobBufferUtil:a};exports.default=b;
},{"rxjs/operators":"cVrl","./../rx-change-event":"TsdW","./../util":"fx0o","../rx-error":"iwQ4","buffer":"dskh"}],"T1vm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.overwritable=exports.prototypes=exports.rxdb=exports.RxLocalDocument=void 0;var t=h(require("@babel/runtime/helpers/inheritsLoose")),e=h(require("object-path")),r=require("../rx-document"),n=require("../rx-change-event"),a=require("../doc-cache"),i=require("../rx-error"),o=require("../util"),c=require("../rx-database"),s=require("../rx-collection"),u=require("rxjs/operators");function h(t){return t&&t.__esModule?t:{default:t}}var l=new WeakMap,p=function(t){return l.has(t)||l.set(t,(0,a.createDocCache)()),l.get(t)},f=new WeakMap,d=function(t){if(!f.has(t)){var e=t.$.pipe((0,u.filter)(function(t){return t.data.isLocal})).subscribe(function(e){var r=p(t).get(e.data.doc);r&&r._handleChangeEvent(e)});t._subs.push(e),f.set(t,e)}return f.get(t)},v="_local/",_=(0,r.createRxDocumentConstructor)(),x=function(e){function r(t,r,n){var a;return(a=e.call(this,null,r)||this).id=t,a.parent=n,a}return(0,t.default)(r,e),r}(_);exports.RxLocalDocument=x;var g=function(t){return(0,c.isInstanceOf)(t)?t._adminPouch:t.pouch},m={toPouchJson:function(){(0,o.clone)(this._data)._id=v+this.id},get isLocal(){return!0},get parentPouch(){return g(this.parent)},_handleChangeEvent:function(t){if(t.data.doc===this.primary)switch(t.data.op){case"UPDATE":var e=(0,o.clone)(t.data.v);this._dataSync$.next((0,o.clone)(e));break;case"REMOVE":p(this.parent).delete(this.primary),this._deleted$.next(!0)}},get allAttachments$(){throw(0,i.newRxError)("LD1",{document:this})},get primaryPath(){return"id"},get primary(){return this.id},get $(){return this._dataSync$.asObservable()},$emit:function(t){return this.parent.$emit(t)},get:function(t){if(this._data){if("string"!=typeof t)throw(0,i.newRxTypeError)("LD2",{objPath:t});var r=e.default.get(this._data,t);return r=(0,o.clone)(r)}},get$:function(t){if(t.includes(".item."))throw(0,i.newRxError)("LD3",{path:t});if(t===this.primaryPath)throw(0,i.newRxError)("LD4");return this._dataSync$.pipe((0,u.map)(function(r){return e.default.get(r,t)}),(0,u.distinctUntilChanged)())},set:function(t,r){if(!r){var n=(0,o.clone)(t);return n._rev=this._data._rev,this._data=n,this}if("_id"===t)throw(0,i.newRxError)("LD5",{objPath:t,value:r});if(!Object.is(this.get(t),r))return e.default.set(this._data,t,r),this},_saveData:function(t){var e=this;return(t=(0,o.clone)(t))._id=v+this.id,this.parentPouch.put(t).then(function(r){t._rev=r.rev,e._dataSync$.next(t);var a=(0,n.createChangeEvent)("UPDATE",(0,c.isInstanceOf)(e.parent)?e.parent:e.parent.database,(0,s.isInstanceOf)(e.parent)?e.parent:null,e,(0,o.clone)(e._data),!0);e.$emit(a)})},remove:function(){var t=this,e=v+this.id;return this.parentPouch.remove(e,this._data._rev).then(function(){p(t.parent).delete(t.id);var e=(0,n.createChangeEvent)("REMOVE",(0,c.isInstanceOf)(t.parent)?t.parent:t.parent.database,(0,s.isInstanceOf)(t.parent)?t.parent:null,t,(0,o.clone)(t._data),!0);t.$emit(e)})}},b=!1,w=function(){if(!b){b=!0;var t=r.basePrototype;Object.getOwnPropertyNames(t).forEach(function(e){if(!Object.getOwnPropertyDescriptor(m,e)){var r=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(m,e,r)}});["populate","update","putAttachment","getAttachment","allAttachments"].forEach(function(t){return m[t]=function(t){return function(){throw(0,i.newRxError)("LD6",{functionName:t})}}(t)})}};function L(t,e){var r=this;return(0,s.isInstanceOf)(this)&&this._isInMemory?this._parentCollection.insertLocal(t,e):(e=(0,o.clone)(e),this.getLocal(t).then(function(n){if(n)throw(0,i.newRxError)("LD7",{id:t,data:e});var a=g(r),c=(0,o.clone)(e);return c._id=v+t,a.put(c)}).then(function(n){return e._rev=n.rev,x.create(t,e,r)}))}function y(t,e){var r=this;return(0,s.isInstanceOf)(this)&&this._isInMemory?this._parentCollection.upsertLocal(t,e):this.getLocal(t).then(function(n){return n?(e._rev=n._data._rev,n.atomicUpdate(function(){return e}).then(function(){return n})):r.insertLocal(t,e)})}function O(t){var e=this;if((0,s.isInstanceOf)(this)&&this._isInMemory)return this._parentCollection.getLocal(t);var r=g(this),n=p(this).get(t);return n?Promise.resolve(n):r.get(v+t).then(function(r){return r?x.create(t,r,e):null}).catch(function(){return null})}x.create=function(t,e,r){w(),d(r);var n=new x(t,e,r);return n.__proto__=m,p(r).set(t,n),n};var E=!0;exports.rxdb=E;var P={RxCollection:function(t){t.insertLocal=L,t.upsertLocal=y,t.getLocal=O},RxDatabase:function(t){t.insertLocal=L,t.upsertLocal=y,t.getLocal=O}};exports.prototypes=P;var D={};exports.overwritable=D;var R={rxdb:E,prototypes:P,overwritable:D};exports.default=R;
},{"@babel/runtime/helpers/inheritsLoose":"HDHM","object-path":"kzoD","../rx-document":"N09Y","../rx-change-event":"TsdW","../doc-cache":"qedX","../rx-error":"iwQ4","../util":"fx0o","../rx-database":"waAW","../rx-collection":"Ds7G","rxjs/operators":"cVrl"}],"TBnV":[function(require,module,exports) {
"use strict";var r=require("../rx-query");
},{"../rx-query":"HG6H"}],"AI4W":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./pouch");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./rx-attachment");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./rx-change-event");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var n=require("./rx-collection");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var u=require("./rx-database");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var o=require("./rx-document");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});var c=require("./rx-error");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}})});var f=require("./rx-plugin");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}})});var a=require("./rx-query");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}})});var i=require("./rx-schema");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}})});var l=require("./plugins/replication");Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return l[e]}})});var s=require("./plugins/replication-graphql");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}})});
},{"./pouch":"rDCW","./rx-attachment":"rDCW","./rx-change-event":"rDCW","./rx-collection":"rDCW","./rx-database":"rDCW","./rx-document":"rDCW","./rx-error":"rDCW","./rx-plugin":"rDCW","./rx-query":"TBnV","./rx-schema":"rDCW","./plugins/replication":"rDCW","./plugins/replication-graphql":"rDCW"}],"i0Et":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e={};exports.default=void 0;var t=m(require("./core"));Object.keys(t).forEach(function(u){"default"!==u&&"__esModule"!==u&&(Object.prototype.hasOwnProperty.call(e,u)||Object.defineProperty(exports,u,{enumerable:!0,get:function(){return t[u]}}))});var u=h(require("./plugins/schema-check")),r=h(require("./plugins/error-messages")),l=h(require("./plugins/validate")),n=h(require("./plugins/key-compression")),a=h(require("./plugins/leader-election")),i=h(require("./plugins/encryption")),o=h(require("./plugins/update")),p=h(require("./plugins/watch-for-changes")),c=h(require("./plugins/replication")),f=h(require("./plugins/adapter-check")),s=h(require("./plugins/json-dump")),d=h(require("./plugins/in-memory")),g=h(require("./plugins/attachments")),y=h(require("./plugins/local-documents")),b=require("./types");function h(e){return e&&e.__esModule?e:{default:e}}function O(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return O=function(){return e},e}function m(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=O();if(t&&t.has(e))return t.get(e);var u={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var n=r?Object.getOwnPropertyDescriptor(e,l):null;n&&(n.get||n.set)?Object.defineProperty(u,l,n):u[l]=e[l]}return u.default=e,t&&t.set(e,u),u}Object.keys(b).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(exports,t,{enumerable:!0,get:function(){return b[t]}}))}),t.default.plugin(u.default),t.default.plugin(r.default),t.default.plugin(l.default),t.default.plugin(n.default),t.default.plugin(a.default),t.default.plugin(i.default),t.default.plugin(o.default),t.default.plugin(p.default),t.default.plugin(c.default),t.default.plugin(f.default),t.default.plugin(s.default),t.default.plugin(d.default),t.default.plugin(g.default),t.default.plugin(y.default);var q={create:t.create,checkAdapter:t.checkAdapter,removeDatabase:t.removeDatabase,plugin:t.plugin,dbCount:t.dbCount,isRxDatabase:t.isRxDatabase,isRxCollection:t.isRxCollection,isRxDocument:t.isRxDocument,isRxQuery:t.isRxQuery,isRxSchema:t.isRxSchema,PouchDB:t.PouchDB,QueryChangeDetector:t.QueryChangeDetector};exports.default=q;
},{"./core":"FRoU","./plugins/schema-check":"nMgn","./plugins/error-messages":"xVCC","./plugins/validate":"fBuI","./plugins/key-compression":"xe3a","./plugins/leader-election":"yXjL","./plugins/encryption":"oS7T","./plugins/update":"Nilz","./plugins/watch-for-changes":"w2qu","./plugins/replication":"VfBo","./plugins/adapter-check":"bCy3","./plugins/json-dump":"OpYf","./plugins/in-memory":"dMAG","./plugins/attachments":"ot2g","./plugins/local-documents":"T1vm","./types":"AI4W"}],"lWzm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.allDocsKeysQuery=s,exports.parseDoc=l,exports.preprocessAttachments=b,exports.processDocs=y,exports.updateDoc=g,Object.defineProperty(exports,"invalidIdError",{enumerable:!0,get:function(){return e.invalidIdError}}),Object.defineProperty(exports,"normalizeDdocFunctionName",{enumerable:!0,get:function(){return e.normalizeDdocFunctionName}}),Object.defineProperty(exports,"parseDdocFunctionName",{enumerable:!0,get:function(){return e.parseDdocFunctionName}}),Object.defineProperty(exports,"isDeleted",{enumerable:!0,get:function(){return i.isDeleted}}),Object.defineProperty(exports,"isLocalId",{enumerable:!0,get:function(){return i.isLocalId}});var e=require("pouchdb-utils"),t=require("pouchdb-binary-utils"),r=require("pouchdb-md5"),a=require("pouchdb-collections"),n=require("pouchdb-errors"),i=require("pouchdb-merge");function s(t,r){var a=r.keys,n={offset:r.skip};return Promise.all(a.map(function(a){var i=(0,e.assign)({key:a,deleted:"ok"},r);return["limit","skip","keys"].forEach(function(e){delete i[e]}),new Promise(function(e,s){t._allDocs(i,function(t,i){if(t)return s(t);r.update_seq&&void 0!==i.update_seq&&(n.update_seq=i.update_seq),n.total_rows=i.total_rows,e(i.rows[0]||{key:a,error:"not_found"})})})})).then(function(e){return n.rows=e,n})}function o(e){return e.reduce(function(e,t){return e[t]=!0,e},{})}var d=o(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),c=o(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function u(e){if(!/^\d+-./.test(e))return(0,n.createError)(n.INVALID_REV);var t=e.indexOf("-"),r=e.substring(0,t),a=e.substring(t+1);return{prefix:parseInt(r,10),id:a}}function _(e,t){for(var r=e.start-e.ids.length+1,a=e.ids,n=[a[0],t,[]],i=1,s=a.length;i<s;i++)n=[a[i],{status:"missing"},[n]];return[{pos:r,ids:n}]}function l(t,r,a){var i,s,o;a||(a={deterministic_revs:!0});var l={status:"available"};if(t._deleted&&(l.deleted=!0),r)if(t._id||(t._id=(0,e.uuid)()),s=(0,e.rev)(t,a.deterministic_revs),t._rev){if((o=u(t._rev)).error)return o;t._rev_tree=[{pos:o.prefix,ids:[o.id,{status:"missing"},[[s,l,[]]]]}],i=o.prefix+1}else t._rev_tree=[{pos:1,ids:[s,l,[]]}],i=1;else if(t._revisions&&(t._rev_tree=_(t._revisions,l),i=t._revisions.start,s=t._revisions.ids[0]),!t._rev_tree){if((o=u(t._rev)).error)return o;i=o.prefix,s=o.id,t._rev_tree=[{pos:i,ids:[s,l,[]]}]}(0,e.invalidIdError)(t._id),t._rev=i+"-"+s;var f={metadata:{},data:{}};for(var v in t)if(Object.prototype.hasOwnProperty.call(t,v)){var m="_"===v[0];if(m&&!d[v]){var p=(0,n.createError)(n.DOC_VALIDATION,v);throw p.message=n.DOC_VALIDATION.message+": "+v,p}m&&!c[v]?f.metadata[v.slice(1)]=t[v]:f.data[v]=t[v]}return f}function f(e){try{return(0,t.atob)(e)}catch(r){return{error:(0,n.createError)(n.BAD_ARG,"Attachment is not a valid base64 string")}}}function v(e,a,n){var i=f(e.data);if(i.error)return n(i.error);e.length=i.length,e.data="blob"===a?(0,t.binaryStringToBlobOrBuffer)(i,e.content_type):"base64"===a?(0,t.btoa)(i):i,(0,r.binaryMd5)(i,function(t){e.digest="md5-"+t,n()})}function m(e,a,n){(0,r.binaryMd5)(e.data,function(r){e.digest="md5-"+r,e.length=e.data.size||e.data.length||0,"binary"===a?(0,t.blobOrBufferToBinaryString)(e.data,function(t){e.data=t,n()}):"base64"===a?(0,t.blobOrBufferToBase64)(e.data,function(t){e.data=t,n()}):n()})}function p(e,t,r){if(e.stub)return r();"string"==typeof e.data?v(e,t,r):m(e,t,r)}function b(e,t,r){if(!e.length)return r();var a,n=0;function i(){n++,e.length===n&&(a?r(a):r())}e.forEach(function(e){var r=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],n=0;if(!r.length)return i();function s(e){a=e,++n===r.length&&i()}for(var o in e.data._attachments)e.data._attachments.hasOwnProperty(o)&&p(e.data._attachments[o],t,s)})}function g(e,t,r,a,s,o,d,c){if((0,i.revExists)(t.rev_tree,r.metadata.rev)&&!c)return a[s]=r,o();var u=t.winningRev||(0,i.winningRev)(t),_="deleted"in t?t.deleted:(0,i.isDeleted)(t,u),f="deleted"in r.metadata?r.metadata.deleted:(0,i.isDeleted)(r.metadata),v=/^1-/.test(r.metadata.rev);if(_&&!f&&c&&v){var m=r.data;m._rev=u,m._id=r.metadata.id,r=l(m,c)}var p=(0,i.merge)(t.rev_tree,r.metadata.rev_tree[0],e);if(c&&(_&&f&&"new_leaf"!==p.conflicts||!_&&"new_leaf"!==p.conflicts||_&&!f&&"new_branch"===p.conflicts)){var b=(0,n.createError)(n.REV_CONFLICT);return a[s]=b,o()}var g=r.metadata.rev;r.metadata.rev_tree=p.tree,r.stemmedRevs=p.stemmedRevs||[],t.rev_map&&(r.metadata.rev_map=t.rev_map);var h=(0,i.winningRev)(r.metadata),y=(0,i.isDeleted)(r.metadata,h),D=_===y?0:_<y?-1:1;d(r,h,y,g===h?y:(0,i.isDeleted)(r.metadata,g),!0,D,s,o)}function h(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}function y(e,t,r,s,o,d,c,u,_){e=e||1e3;var l=u.new_edits,f=new a.Map,v=0,m=t.length;function p(){++v===m&&_&&_()}t.forEach(function(e,t){if(e._id&&(0,i.isLocalId)(e._id)){var a=e._deleted?"_removeLocal":"_putLocal";r[a](e,{ctx:o},function(e,r){d[t]=e||r,p()})}else{var n=e.metadata.id;f.has(n)?(m--,f.get(n).push([e,t])):f.set(n,[[e,t]])}}),f.forEach(function(t,r){var a=0;function o(){++a<t.length?_():p()}function _(){var _=t[a],f=_[0],v=_[1];if(s.has(r))g(e,s.get(r),f,d,v,o,c,l);else{var m=(0,i.merge)([],f.metadata.rev_tree[0],e);f.metadata.rev_tree=m.tree,f.stemmedRevs=m.stemmedRevs||[],function(e,t,r){var a=(0,i.winningRev)(e.metadata),s=(0,i.isDeleted)(e.metadata,a);if("was_delete"in u&&s)return d[t]=(0,n.createError)(n.MISSING_DOC,"deleted"),r();if(l&&h(e)){var o=(0,n.createError)(n.REV_CONFLICT);return d[t]=o,r()}c(e,a,s,s,!1,s?0:1,t,r)}(f,v,o)}}_()})}
},{"pouchdb-utils":"mY35","pouchdb-binary-utils":"WfYg","pouchdb-md5":"ZfEw","pouchdb-collections":"qpbW","pouchdb-errors":"qncM","pouchdb-merge":"p4HA"}],"cRy3":[function(require,module,exports) {
"use strict";function e(e,s,a){var r=a[a.length-1];e===r.element&&(a.pop(),r=a[a.length-1]);var n=r.element,t=r.index;if(Array.isArray(n))n.push(e);else if(t===s.length-2){n[s.pop()]=e}else s.push(e)}exports.stringify=function(e){var s=[];s.push({obj:e});for(var a,r,n,t,l,p,i,o,c,f,u="";a=s.pop();)if(r=a.obj,u+=a.prefix||"",n=a.val||"")u+=n;else if("object"!=typeof r)u+=void 0===r?null:JSON.stringify(r);else if(null===r)u+="null";else if(Array.isArray(r)){for(s.push({val:"]"}),t=r.length-1;t>=0;t--)l=0===t?"":",",s.push({obj:r[t],prefix:l});s.push({val:"["})}else{for(i in p=[],r)r.hasOwnProperty(i)&&p.push(i);for(s.push({val:"}"}),t=p.length-1;t>=0;t--)c=r[o=p[t]],f=t>0?",":"",f+=JSON.stringify(o)+":",s.push({obj:c,prefix:f});s.push({val:"{"})}return u},exports.parse=function(s){for(var a,r,n,t,l,p,i,o,c,f=[],u=[],h=0;;)if("}"!==(a=s[h++])&&"]"!==a&&void 0!==a)switch(a){case" ":case"\t":case"\n":case":":case",":break;case"n":h+=3,e(null,f,u);break;case"t":h+=3,e(!0,f,u);break;case"f":h+=4,e(!1,f,u);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(r="",h--;;){if(n=s[h++],!/[\d\.\-e\+]/.test(n)){h--;break}r+=n}e(parseFloat(r),f,u);break;case'"':for(t="",l=void 0,p=0;'"'!==(i=s[h++])||"\\"===l&&p%2==1;)t+=i,"\\"===(l=i)?p++:p=0;e(JSON.parse('"'+t+'"'),f,u);break;case"[":o={element:[],index:f.length},f.push(o.element),u.push(o);break;case"{":c={element:{},index:f.length},f.push(c.element),u.push(c);break;default:throw new Error("unexpectedly reached end of input: "+a)}else{if(1===f.length)return f.pop();e(f.pop(),f,u)}};
},{}],"tHV1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.safeJsonParse=t,exports.safeJsonStringify=u;var e=r(require("vuvuzela"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r){try{return JSON.parse(r)}catch(t){return e.default.parse(r)}}function u(r){try{return JSON.stringify(r)}catch(t){return e.default.stringify(r)}}
},{"vuvuzela":"cRy3"}],"EBay":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("pouchdb-adapter-utils"),t=require("pouchdb-json"),n=require("pouchdb-merge"),r=require("pouchdb-binary-utils"),o=require("pouchdb-errors"),c=require("pouchdb-collections"),a=require("pouchdb-utils"),i=5,u="document-store",s="by-sequence",d="attach-store",l="attach-seq-store",f="meta-store",v="local-store",g="detect-blob-support";function _(e){return function(t){var n="unknown_error";t.target&&t.target.error&&(n=t.target.error.name||t.target.error.message),e((0,o.createError)(o.IDB_ERROR,n,t.type))}}function p(e,n,r){return{data:(0,t.safeJsonStringify)(e),winningRev:n,deletedOrLocal:r?"1":"0",seq:e.seq,id:e.id}}function b(e){if(!e)return null;var n=(0,t.safeJsonParse)(e.data);return n.winningRev=e.winningRev,n.deleted="1"===e.deletedOrLocal,n.seq=e.seq,n}function h(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function m(e,t,n,o){n?o(e?"string"!=typeof e?e:(0,r.base64StringToBlobOrBuffer)(e,t):(0,r.blob)([""],{type:t})):e?"string"!=typeof e?(0,r.readAsBinaryString)(e,function(e){o((0,r.btoa)(e))}):o(e):o("")}function y(e,t,n,r){var o=Object.keys(e._attachments||{});if(!o.length)return r&&r();var c=0;function a(){++c===o.length&&r&&r()}o.forEach(function(r){t.attachments&&t.include_docs?function(e,t){var r=e._attachments[t],o=r.digest;n.objectStore(d).get(o).onsuccess=function(e){r.body=e.target.result.body,a()}}(e,r):(e._attachments[r].stub=!0,a())})}function S(e,t){return Promise.all(e.map(function(e){if(e.doc&&e.doc._attachments){var n=Object.keys(e.doc._attachments);return Promise.all(n.map(function(n){var r=e.doc._attachments[n];if("body"in r){var o=r.body,c=r.content_type;return new Promise(function(i){m(o,c,t,function(t){e.doc._attachments[n]=(0,a.assign)((0,a.pick)(r,["digest","content_type"]),{data:t}),i()})})}}))}}))}function j(e,t,n){var r=[],o=n.objectStore(s),c=n.objectStore(d),a=n.objectStore(l),i=e.length;function u(){--i||function(){if(!r.length)return;r.forEach(function(e){var t=a.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::￿",!1,!1));t.onsuccess=function(t){var n=t.target.result;n||c.delete(e)}})}()}e.forEach(function(e){var n=o.index("_doc_id_rev"),c=t+"::"+e;n.getKey(c).onsuccess=function(e){var t=e.target.result;if("number"!=typeof t)return u();o.delete(t),a.index("seq").openCursor(IDBKeyRange.only(t)).onsuccess=function(e){var t=e.target.result;if(t){var n=t.value.digestSeq.split("::")[0];r.push(n),a.delete(t.primaryKey),t.continue()}else u()}}})}function I(e,t,n){try{return{txn:e.transaction(t,n)}}catch(r){return{error:r}}}var x=new a.changesHandler;function q(t,r,a,i,g,h){for(var m,y,S,q,R,w,D,k,O=r.docs,C=0,B=O.length;C<B;C++){var E=O[C];E._id&&(0,e.isLocalId)(E._id)||(E=O[C]=(0,e.parseDoc)(E,a.new_edits,t)).error&&!D&&(D=E)}if(D)return h(D);var K=!1,L=0,P=new Array(O.length),A=new c.Map,M=!1,T=i._meta.blobSupport?"blob":"base64";function N(){K=!0,G()}function G(){k&&K&&(k.docCount+=L,w.put(k))}function V(){M||(x.notify(i._meta.name),h(null,P))}function F(e,t,n,r,o,c,a,i){e.metadata.winningRev=t,e.metadata.deleted=n;var u=e.data;if(u._id=e.metadata.id,u._rev=e.metadata.rev,r&&(u._deleted=!0),u._attachments&&Object.keys(u._attachments).length)return function(e,t,n,r,o,c){var a=e.data,i=0,u=Object.keys(a._attachments);function s(){i===u.length&&J(e,t,n,r,o,c)}function d(){i++,s()}u.forEach(function(n){var r=e.data._attachments[n];if(r.stub)i++,s();else{var o=r.data;delete r.data,r.revpos=parseInt(t,10);var c=r.digest;!function(e,t,n){q.count(e).onsuccess=function(r){var o=r.target.result;if(o)return n();var c={digest:e,body:t},a=q.put(c);a.onsuccess=n}}(c,o,d)}})}(e,t,n,o,a,i);L+=c,G(),J(e,t,n,o,a,i)}function J(e,t,r,o,c,a){var u=e.data,s=e.metadata;function d(c){var a=e.stemmedRevs||[];o&&i.auto_compaction&&(a=a.concat((0,n.compactTree)(e.metadata))),a&&a.length&&j(a,e.metadata.id,m),s.seq=c.target.result;var u=p(s,t,r);y.put(u).onsuccess=l}function l(){P[c]={ok:!0,id:s.id,rev:s.rev},A.set(e.metadata.id,e.metadata),function(e,t,n){var r=0,o=Object.keys(e.data._attachments||{});if(!o.length)return n();function c(){++r===o.length&&n()}function a(n){var r=e.data._attachments[n].digest,o=R.put({seq:t,digestSeq:r+"::"+t});o.onsuccess=c,o.onerror=function(e){e.preventDefault(),e.stopPropagation(),c()}}for(var i=0;i<o.length;i++)a(o[i])}(e,s.seq,a)}u._doc_id_rev=s.id+"::"+s.rev,delete u._id,delete u._rev;var f=S.put(u);f.onsuccess=d,f.onerror=function(e){e.preventDefault(),e.stopPropagation(),S.index("_doc_id_rev").getKey(u._doc_id_rev).onsuccess=function(e){S.put(u,e.target.result).onsuccess=d}}}(0,e.preprocessAttachments)(O,T,function(n){if(n)return h(n);!function(){var n=I(g,[u,s,d,v,l,f],"readwrite");if(n.error)return h(n.error);(m=n.txn).onabort=_(h),m.ontimeout=_(h),m.oncomplete=V,y=m.objectStore(u),S=m.objectStore(s),q=m.objectStore(d),R=m.objectStore(l),(w=m.objectStore(f)).get(f).onsuccess=function(e){k=e.target.result,G()},function(e){var t=[];if(O.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(n){var r=e.data._attachments[n];r.stub&&t.push(r.digest)})}),!t.length)return e();var n,r=0;t.forEach(function(c){!function(e,t){q.get(e).onsuccess=function(n){if(n.target.result)t();else{var r=(0,o.createError)(o.MISSING_STUB,"unknown stub attachment with digest "+e);r.status=412,t(r)}}}(c,function(o){o&&!n&&(n=o),++r===t.length&&e(n)})})}(function(n){if(n)return M=!0,h(n);!function(){if(!O.length)return;var n=0;function r(){++n===O.length&&(0,e.processDocs)(t.revs_limit,O,i,A,m,P,F,a,N)}function o(e){var t=b(e.target.result);t&&A.set(t.id,t),r()}for(var c=0,u=O.length;c<u;c++){var s=O[c];if(s._id&&(0,e.isLocalId)(s._id))r();else{var d=y.get(s.metadata.id);d.onsuccess=o}}}()})}()})}function R(e,t,n,r,o){var c,a,i;function u(e){a=e.target.result,c&&o(c,a,i)}function s(e){c=e.target.result,a&&o(c,a,i)}function d(e){var t=e.target.result;if(!t)return o();o([t.key],[t.value],t)}-1===r&&(r=1e3),"function"==typeof e.getAll&&"function"==typeof e.getAllKeys&&r>1&&!n?(i={continue:function(){if(!c.length)return o();var n,i=c[c.length-1];if(t&&t.upper)try{n=IDBKeyRange.bound(i,t.upper,!0,t.upperOpen)}catch(d){if("DataError"===d.name&&0===d.code)return o()}else n=IDBKeyRange.lowerBound(i,!0);t=n,c=null,a=null,e.getAll(t,r).onsuccess=u,e.getAllKeys(t,r).onsuccess=s}},e.getAll(t,r).onsuccess=u,e.getAllKeys(t,r).onsuccess=s):n?e.openCursor(t,"prev").onsuccess=d:e.openCursor(t).onsuccess=d}function w(e,t,n){if("function"!=typeof e.getAll){var r=[];e.openCursor(t).onsuccess=function(e){var t=e.target.result;t?(r.push(t.value),t.continue()):n({target:{result:r}})}}else e.getAll(t).onsuccess=n}function D(e,t,n){var r=new Array(e.length),o=0;e.forEach(function(c,a){t.get(c).onsuccess=function(t){t.target.result?r[a]=t.target.result:r[a]={key:c,error:"not_found"},++o===e.length&&n(e,r,{})}})}function k(e,t,n,r,o){try{if(e&&t)return o?IDBKeyRange.bound(t,e,!n,!1):IDBKeyRange.bound(e,t,!1,!n);if(e)return o?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return o?IDBKeyRange.lowerBound(t,!n):IDBKeyRange.upperBound(t,!n);if(r)return IDBKeyRange.only(r)}catch(c){return{error:c}}return null}function O(e,t,r){var c,a,i="startkey"in e&&e.startkey,l="endkey"in e&&e.endkey,v="key"in e&&e.key,g="keys"in e&&e.keys,p=e.skip||0,m="number"==typeof e.limit?e.limit:-1,j=!1!==e.inclusive_end;if(!g&&(a=(c=k(i,l,j,v,e.descending))&&c.error)&&("DataError"!==a.name||0!==a.code))return r((0,o.createError)(o.IDB_ERROR,a.name,a.message));var x=[u,s,f];e.attachments&&x.push(d);var q=I(t,x,"readonly");if(q.error)return r(q.error);var O=q.txn;O.oncomplete=function(){e.attachments?S(A,e.binary).then(G):G()},O.onabort=_(r);var C,B,E=O.objectStore(u),K=O.objectStore(s),L=O.objectStore(f),P=K.index("_doc_id_rev"),A=[];function M(t,r){var o={id:r.id,key:r.id,value:{rev:t}};r.deleted?g&&(A.push(o),o.value.deleted=!0,o.doc=null):p--<=0&&(A.push(o),e.include_docs&&function(t,r,o){var c=t.id+"::"+o;P.get(c).onsuccess=function(o){if(r.doc=h(o.target.result)||{},e.conflicts){var c=(0,n.collectConflicts)(t);c.length&&(r.doc._conflicts=c)}y(r.doc,e,O)}}(r,o,t))}function T(e){for(var t=0,n=e.length;t<n&&A.length!==m;t++){var r=e[t];if(r.error&&g)A.push(r);else{var o=b(r);M(o.winningRev,o)}}}function N(e,t,n){n&&(T(t),A.length<m&&n.continue())}function G(){var t={total_rows:C,offset:e.skip,rows:A};e.update_seq&&void 0!==B&&(t.update_seq=B),r(null,t)}return L.get(f).onsuccess=function(e){C=e.target.result.docCount},e.update_seq&&function(e,t){e.openCursor(null,"prev").onsuccess=function(e){var n=e.target.result,r=void 0;n&&n.key&&(r=n.key);return t({target:{result:[r]}})}}(K,function(e){e.target.result&&e.target.result.length>0&&(B=e.target.result[0])}),a||0===m?void 0:g?D(e.keys,E,N):-1===m?w(E,c,function(t){var n=t.target.result;e.descending&&(n=n.reverse()),T(n)}):void R(E,c,e.descending,m+p,N)}function C(e){return new Promise(function(t){var n=(0,r.blob)([""]),o=e.objectStore(g).put(n,"key");o.onsuccess=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)},o.onerror=e.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)}}).catch(function(){return!1})}function B(e,t){e.objectStore(u).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(e){t(e.target.result)}}var E=!1,K=[];function L(e,t,n,r){try{e(t,n)}catch(t){r.emit("error",t)}}function P(){!E&&K.length&&(E=!0,K.shift()())}function A(e,t,n){K.push(function(){e(function(e,r){L(t,e,r,n),E=!1,(0,a.nextTick)(function(){P(n)})})}),P()}function M(e,t,n,r){if((e=(0,a.clone)(e)).continuous){var o=n+":"+(0,a.uuid)();return x.addListener(n,o,t,e),x.notify(n),{cancel:function(){x.removeListener(n,o)}}}var i=e.doc_ids&&new c.Set(e.doc_ids);e.since=e.since||0;var l=e.since,f="limit"in e?e.limit:-1;0===f&&(f=1);var v,g,p,m,j=[],q=0,w=(0,a.filterChange)(e),D=new c.Map;function k(e,t,n,r){if(n.seq!==t)return r();if(n.winningRev===e._rev)return r(n,e);var o=e._id+"::"+n.winningRev;m.get(o).onsuccess=function(e){r(n,h(e.target.result))}}function O(){e.complete(null,{results:j,last_seq:l})}var C=[u,s];e.attachments&&C.push(d);var B=I(r,C,"readonly");if(B.error)return e.complete(B.error);(v=B.txn).onabort=_(e.complete),v.oncomplete=function(){!e.continuous&&e.attachments?S(j).then(O):O()},g=v.objectStore(s),p=v.objectStore(u),m=g.index("_doc_id_rev"),R(g,e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null,e.descending,f,function(t,n,r){if(r&&t.length){var o=new Array(t.length),c=new Array(t.length),a=0;n.forEach(function(n,s){!function(e,t,n){if(i&&!i.has(e._id))return n();var r=D.get(e._id);if(r)return k(e,t,r,n);p.get(e._id).onsuccess=function(o){r=b(o.target.result),D.set(e._id,r),k(e,t,r,n)}}(h(n),t[s],function(n,i){c[s]=n,o[s]=i,++a===t.length&&function(){for(var t=[],n=0,a=o.length;n<a&&q!==f;n++){var i=o[n];if(i){var s=c[n];t.push(u(s,i))}}Promise.all(t).then(function(t){for(var n=0,r=t.length;n<r;n++)t[n]&&e.onChange(t[n])}).catch(e.complete),q!==f&&r.continue()}()})})}function u(t,n){var r=e.processChange(n,t,e);l=r.seq=t.seq;var o=w(r);return"object"==typeof o?Promise.reject(o):o?(q++,e.return_docs&&j.push(r),e.attachments&&e.include_docs?new Promise(function(t){y(n,e,v,function(){S([r],e.binary).then(function(){t(r)})})}):Promise.resolve(r)):Promise.resolve()}})}var T,N=new c.Map,G=new c.Map;function V(e,t){var n=this;A(function(t){F(n,e,t)},t,n.constructor)}function F(e,t,r){var c=t.name,y=null;function S(e,t){var r=e.objectStore(u);r.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),r.openCursor().onsuccess=function(e){var o=e.target.result;if(o){var c=o.value,a=(0,n.isDeleted)(c);c.deletedOrLocal=a?"1":"0",r.put(c),o.continue()}else t()}}function R(e,t){var r=e.objectStore(v),o=e.objectStore(u),c=e.objectStore(s);o.openCursor().onsuccess=function(e){var a=e.target.result;if(a){var i=a.value,u=i.id,s=(0,n.isLocalId)(u),d=(0,n.winningRev)(i);if(s){var l=u+"::"+d,f=u+"::",v=u+"::~",g=c.index("_doc_id_rev"),_=IDBKeyRange.bound(f,v,!1,!1),p=g.openCursor(_);p.onsuccess=function(e){if(p=e.target.result){var t=p.value;t._doc_id_rev===l&&r.put(t),c.delete(p.primaryKey),p.continue()}else o.delete(a.primaryKey),a.continue()}}else a.continue()}else t&&t()}}function w(e,t){var n=e.objectStore(s),r=e.objectStore(d),o=e.objectStore(l);r.count().onsuccess=function(e){if(!e.target.result)return t();n.openCursor().onsuccess=function(e){var n=e.target.result;if(!n)return t();for(var r=n.value,c=n.primaryKey,a=Object.keys(r._attachments||{}),i={},u=0;u<a.length;u++){i[r._attachments[a[u]].digest]=!0}var s=Object.keys(i);for(u=0;u<s.length;u++){var d=s[u];o.put({seq:c,digestSeq:d+"::"+c})}n.continue()}}}function D(e){var t=e.objectStore(s),r=e.objectStore(u);r.openCursor().onsuccess=function(e){var o=e.target.result;if(o){var c,a,i,u,s,d=(c=o.value).data?b(c):(c.deleted="1"===c.deletedOrLocal,c);if(d.winningRev=d.winningRev||(0,n.winningRev)(d),d.seq)return l();a=d.id+"::",i=d.id+"::￿",u=t.index("_doc_id_rev").openCursor(IDBKeyRange.bound(a,i)),s=0,u.onsuccess=function(e){var t=e.target.result;if(!t)return d.seq=s,l();var n=t.primaryKey;n>s&&(s=n),t.continue()}}function l(){var e=p(d,d.winningRev,d.deleted);r.put(e).onsuccess=function(){o.continue()}}}}e._meta=null,e._remote=!1,e.type=function(){return"idb"},e._id=(0,a.toPromise)(function(t){t(null,e._meta.instanceId)}),e._bulkDocs=function(n,r,o){q(t,n,r,e,y,o)},e._get=function(e,t,r){var c,a,i,l=t.ctx;if(!l){var f=I(y,[u,s,d],"readonly");if(f.error)return r(f.error);l=f.txn}function v(){r(i,{doc:c,metadata:a,ctx:l})}l.objectStore(u).get(e).onsuccess=function(e){if(!(a=b(e.target.result)))return i=(0,o.createError)(o.MISSING_DOC,"missing"),v();var r;if(t.rev)r=t.latest?(0,n.latest)(t.rev,a):t.rev;else if(r=a.winningRev,(0,n.isDeleted)(a))return i=(0,o.createError)(o.MISSING_DOC,"deleted"),v();var u=l.objectStore(s),d=a.id+"::"+r;u.index("_doc_id_rev").get(d).onsuccess=function(e){if((c=e.target.result)&&(c=h(c)),!c)return i=(0,o.createError)(o.MISSING_DOC,"missing"),v();v()}}},e._getAttachment=function(e,t,n,r,o){var c;if(r.ctx)c=r.ctx;else{var a=I(y,[u,s,d],"readonly");if(a.error)return o(a.error);c=a.txn}var i=n.digest,l=n.content_type;c.objectStore(d).get(i).onsuccess=function(e){m(e.target.result.body,l,r.binary,function(e){o(null,e)})}},e._info=function(t){var n,r,o=I(y,[f,s],"readonly");if(o.error)return t(o.error);var c=o.txn;c.objectStore(f).get(f).onsuccess=function(e){r=e.target.result.docCount},c.objectStore(s).openCursor(null,"prev").onsuccess=function(e){var t=e.target.result;n=t?t.key:0},c.oncomplete=function(){t(null,{doc_count:r,update_seq:n,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(e,t){O(e,y,t)},e._changes=function(t){return M(t,e,c,y)},e._close=function(e){y.close(),N.delete(c),e()},e._getRevisionTree=function(e,t){var n=I(y,[u],"readonly");if(n.error)return t(n.error);n.txn.objectStore(u).get(e).onsuccess=function(e){var n=b(e.target.result);n?t(null,n.rev_tree):t((0,o.createError)(o.MISSING_DOC))}},e._doCompaction=function(e,t,r){var o=I(y,[u,s,d,l],"readwrite");if(o.error)return r(o.error);var c=o.txn;c.objectStore(u).get(e).onsuccess=function(r){var o=b(r.target.result);(0,n.traverseRevTree)(o.rev_tree,function(e,n,r,o,c){var a=n+"-"+r;-1!==t.indexOf(a)&&(c.status="missing")}),j(t,e,c);var a=o.winningRev,i=o.deleted;c.objectStore(u).put(p(o,a,i))},c.onabort=_(r),c.oncomplete=function(){r()}},e._getLocal=function(e,t){var n=I(y,[v],"readonly");if(n.error)return t(n.error);var r=n.txn.objectStore(v).get(e);r.onerror=_(t),r.onsuccess=function(e){var n=e.target.result;n?(delete n._doc_id_rev,t(null,n)):t((0,o.createError)(o.MISSING_DOC))}},e._putLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),delete e._revisions;var r=e._rev,c=e._id;e._rev=r?"0-"+(parseInt(r.split("-")[1],10)+1):"0-1";var a,i=t.ctx;if(!i){var u=I(y,[v],"readwrite");if(u.error)return n(u.error);(i=u.txn).onerror=_(n),i.oncomplete=function(){a&&n(null,a)}}var s,d=i.objectStore(v);r?(s=d.get(c)).onsuccess=function(c){var i=c.target.result;i&&i._rev===r?d.put(e).onsuccess=function(){a={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,a)}:n((0,o.createError)(o.REV_CONFLICT))}:((s=d.add(e)).onerror=function(e){n((0,o.createError)(o.REV_CONFLICT)),e.preventDefault(),e.stopPropagation()},s.onsuccess=function(){a={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,a)})},e._removeLocal=function(e,t,n){"function"==typeof t&&(n=t,t={});var r,c=t.ctx;if(!c){var a=I(y,[v],"readwrite");if(a.error)return n(a.error);(c=a.txn).oncomplete=function(){r&&n(null,r)}}var i=e._id,u=c.objectStore(v),s=u.get(i);s.onerror=_(n),s.onsuccess=function(c){var a=c.target.result;a&&a._rev===e._rev?(u.delete(i),r={ok:!0,id:i,rev:"0-0"},t.ctx&&n(null,r)):n((0,o.createError)(o.MISSING_DOC))}},e._destroy=function(e,t){x.removeAllListeners(c);var n=G.get(c);n&&n.result&&(n.result.close(),N.delete(c));var r=indexedDB.deleteDatabase(c);r.onsuccess=function(){G.delete(c),(0,a.hasLocalStorage)()&&c in localStorage&&delete localStorage[c],t(null,{ok:!0})},r.onerror=_(t)};var k=N.get(c);if(k)return y=k.idb,e._meta=k.global,(0,a.nextTick)(function(){r(null,e)});var E=indexedDB.open(c,i);G.set(c,E),E.onupgradeneeded=function(e){var t=e.target.result;if(e.oldVersion<1)return function(e){var t=e.createObjectStore(u,{keyPath:"id"});e.createObjectStore(s,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore(d,{keyPath:"digest"}),e.createObjectStore(f,{keyPath:"id",autoIncrement:!1}),e.createObjectStore(g),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore(v,{keyPath:"_id"});var n=e.createObjectStore(l,{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var n=e.currentTarget.transaction;e.oldVersion<3&&function(e){e.createObjectStore(v,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}(t),e.oldVersion<4&&function(e){var t=e.createObjectStore(l,{autoIncrement:!0});t.createIndex("seq","seq"),t.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var r=[S,R,w,D],o=e.oldVersion;!function e(){var t=r[o-1];o++,t&&t(n,e)}()},E.onsuccess=function(t){(y=t.target.result).onversionchange=function(){y.close(),N.delete(c)},y.onabort=function(e){(0,a.guardedConsole)("error","Database has a global failure",e.target.error),y.close(),N.delete(c)};var n,o,i,s,d=y.transaction([f,g,u],"readwrite"),l=!1;function v(){void 0!==i&&l&&(e._meta={name:c,instanceId:s,blobSupport:i},N.set(c,{idb:y,global:e._meta}),r(null,e))}function p(){if(void 0!==o&&void 0!==n){var e=c+"_id";e in n?s=n[e]:n[e]=s=(0,a.uuid)(),n.docCount=o,d.objectStore(f).put(n)}}d.objectStore(f).get(f).onsuccess=function(e){n=e.target.result||{id:f},p()},B(d,function(e){o=e,p()}),T||(T=C(d)),T.then(function(e){i=e,v()}),d.oncomplete=function(){l=!0,v()},d.onabort=_(r)},E.onerror=function(){var e="Failed to open indexedDB, are you in private browsing mode?";(0,a.guardedConsole)("error",e),r((0,o.createError)(o.IDB_ERROR,e))}}function J(e){e.adapter("idb",V,!0)}V.valid=function(){try{return"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}};var H=J;exports.default=H;
},{"pouchdb-adapter-utils":"lWzm","pouchdb-json":"tHV1","pouchdb-merge":"p4HA","pouchdb-binary-utils":"WfYg","pouchdb-errors":"qncM","pouchdb-collections":"qpbW","pouchdb-utils":"mY35"}],"ZH96":[function(require,module,exports) {
var process = require("process");
var e=require("process");function n(e){if("object"!=typeof e||null===e)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=e,this._ended=!1,this._nexting=!1}n.prototype.next=function(n){var t=this;if("function"!=typeof n)throw new Error("next() requires a callback argument");return t._ended?(e.nextTick(n,new Error("cannot call next() after end()")),t):t._nexting?(e.nextTick(n,new Error("cannot call next() before previous next() has completed")),t):(t._nexting=!0,t._next(function(){t._nexting=!1,n.apply(null,arguments)}),t)},n.prototype._next=function(n){e.nextTick(n)},n.prototype.seek=function(e){if(this._ended)throw new Error("cannot call seek() after end()");if(this._nexting)throw new Error("cannot call seek() before next() has completed");e=this.db._serializeKey(e),this._seek(e)},n.prototype._seek=function(e){},n.prototype.end=function(n){if("function"!=typeof n)throw new Error("end() requires a callback argument");if(this._ended)return e.nextTick(n,new Error("end() already called on iterator"));this._ended=!0,this._end(n)},n.prototype._end=function(n){e.nextTick(n)},module.exports=n;
},{"process":"pBGv"}],"N95y":[function(require,module,exports) {
function t(t){if("object"!=typeof t||null===t)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=t,this._operations=[],this._written=!1}t.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},t.prototype.put=function(t,e){this._checkWritten();var i=this.db._checkKey(t)||this.db._checkValue(e);if(i)throw i;return t=this.db._serializeKey(t),e=this.db._serializeValue(e),this._put(t,e),this},t.prototype._put=function(t,e){this._operations.push({type:"put",key:t,value:e})},t.prototype.del=function(t){this._checkWritten();var e=this.db._checkKey(t);if(e)throw e;return t=this.db._serializeKey(t),this._del(t),this},t.prototype._del=function(t){this._operations.push({type:"del",key:t})},t.prototype.clear=function(){return this._checkWritten(),this._clear(),this},t.prototype._clear=function(){this._operations=[]},t.prototype.write=function(t,e){if(this._checkWritten(),"function"==typeof t&&(e=t),"function"!=typeof e)throw new Error("write() requires a callback argument");"object"==typeof t&&null!==t||(t={}),this._written=!0,this._write(t,e)},t.prototype._write=function(t,e){this.db._batch(this._operations,t,e)},module.exports=t;
},{}],"YySI":[function(require,module,exports) {
var process = require("process");
var Buffer = require("buffer").Buffer;
var e=require("process"),t=require("buffer").Buffer,r=require("xtend"),n=require("./abstract-iterator"),i=require("./abstract-chained-batch"),o=Object.prototype.hasOwnProperty,u="start end gt gte lt lte".split(" ");function a(){this.status="new"}function c(e,t){var r={};for(var n in t)if(o.call(t,n)){var i=t[n];s(n)&&(i=e._serializeKey(i)),r[n]=i}return r}function s(e){return-1!==u.indexOf(e)}a.prototype.open=function(e,t){var r=this,n=this.status;if("function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("open() requires a callback argument");"object"==typeof e&&null!==e||(e={}),e.createIfMissing=!1!==e.createIfMissing,e.errorIfExists=!!e.errorIfExists,this.status="opening",this._open(e,function(e){if(e)return r.status=n,t(e);r.status="open",t()})},a.prototype._open=function(t,r){e.nextTick(r)},a.prototype.close=function(e){var t=this,r=this.status;if("function"!=typeof e)throw new Error("close() requires a callback argument");this.status="closing",this._close(function(n){if(n)return t.status=r,e(n);t.status="closed",e()})},a.prototype._close=function(t){e.nextTick(t)},a.prototype.get=function(t,r,n){if("function"==typeof r&&(n=r),"function"!=typeof n)throw new Error("get() requires a callback argument");var i=this._checkKey(t);if(i)return e.nextTick(n,i);t=this._serializeKey(t),"object"==typeof r&&null!==r||(r={}),r.asBuffer=!1!==r.asBuffer,this._get(t,r,n)},a.prototype._get=function(t,r,n){e.nextTick(function(){n(new Error("NotFound"))})},a.prototype.put=function(t,r,n,i){if("function"==typeof n&&(i=n),"function"!=typeof i)throw new Error("put() requires a callback argument");var o=this._checkKey(t)||this._checkValue(r);if(o)return e.nextTick(i,o);t=this._serializeKey(t),r=this._serializeValue(r),"object"==typeof n&&null!==n||(n={}),this._put(t,r,n,i)},a.prototype._put=function(t,r,n,i){e.nextTick(i)},a.prototype.del=function(t,r,n){if("function"==typeof r&&(n=r),"function"!=typeof n)throw new Error("del() requires a callback argument");var i=this._checkKey(t);if(i)return e.nextTick(n,i);t=this._serializeKey(t),"object"==typeof r&&null!==r||(r={}),this._del(t,r,n)},a.prototype._del=function(t,r,n){e.nextTick(n)},a.prototype.batch=function(t,n,i){if(!arguments.length)return this._chainedBatch();if("function"==typeof n&&(i=n),"function"==typeof t&&(i=t),"function"!=typeof i)throw new Error("batch(array) requires a callback argument");if(!Array.isArray(t))return e.nextTick(i,new Error("batch(array) requires an array argument"));if(0===t.length)return e.nextTick(i);"object"==typeof n&&null!==n||(n={});for(var o=new Array(t.length),u=0;u<t.length;u++){if("object"!=typeof t[u]||null===t[u])return e.nextTick(i,new Error("batch(array) element must be an object and not `null`"));var a=r(t[u]);if("put"!==a.type&&"del"!==a.type)return e.nextTick(i,new Error("`type` must be 'put' or 'del'"));var c=this._checkKey(a.key);if(c)return e.nextTick(i,c);if(a.key=this._serializeKey(a.key),"put"===a.type){var s=this._checkValue(a.value);if(s)return e.nextTick(i,s);a.value=this._serializeValue(a.value)}o[u]=a}this._batch(o,n,i)},a.prototype._batch=function(t,r,n){e.nextTick(n)},a.prototype._setupIteratorOptions=function(e){return(e=c(this,e)).reverse=!!e.reverse,e.keys=!1!==e.keys,e.values=!1!==e.values,e.limit="limit"in e?e.limit:-1,e.keyAsBuffer=!1!==e.keyAsBuffer,e.valueAsBuffer=!1!==e.valueAsBuffer,e},a.prototype.iterator=function(e){return"object"==typeof e&&null!==e||(e={}),e=this._setupIteratorOptions(e),this._iterator(e)},a.prototype._iterator=function(e){return new n(this)},a.prototype._chainedBatch=function(){return new i(this)},a.prototype._serializeKey=function(e){return e},a.prototype._serializeValue=function(e){return e},a.prototype._checkKey=function(e){return null==e?new Error("key cannot be `null` or `undefined`"):t.isBuffer(e)&&0===e.length?new Error("key cannot be an empty Buffer"):""===e?new Error("key cannot be an empty String"):Array.isArray(e)&&0===e.length?new Error("key cannot be an empty Array"):void 0},a.prototype._checkValue=function(e){if(null==e)return new Error("value cannot be `null` or `undefined`")},module.exports=a;
},{"xtend":"K5Tb","./abstract-iterator":"ZH96","./abstract-chained-batch":"N95y","process":"pBGv","buffer":"dskh"}],"ZKYh":[function(require,module,exports) {
exports.AbstractLevelDOWN=require("./abstract-leveldown"),exports.AbstractIterator=require("./abstract-iterator"),exports.AbstractChainedBatch=require("./abstract-chained-batch");
},{"./abstract-leveldown":"YySI","./abstract-iterator":"ZH96","./abstract-chained-batch":"N95y"}],"Bm0n":[function(require,module,exports) {
"function"==typeof Object.create?module.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:module.exports=function(t,e){if(e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t}};
},{}],"QlHG":[function(require,module,exports) {
var t=require("abstract-leveldown").AbstractIterator,o=require("inherits");function r(o){t.call(this,o),this._options=o,this._iterator=null,this._operations=[]}o(r,t),r.prototype.setDb=function(t){var o=this._iterator=t.iterator(this._options);this._operations.forEach(function(t){o[t.method].apply(o,t.args)})},r.prototype._operation=function(t,o){if(this._iterator)return this._iterator[t].apply(this._iterator,o);this._operations.push({method:t,args:o})},"next end".split(" ").forEach(function(t){r.prototype["_"+t]=function(){this._operation(t,arguments)}}),module.exports=r;
},{"abstract-leveldown":"ZKYh","inherits":"Bm0n"}],"TSMM":[function(require,module,exports) {
var t=require("abstract-leveldown").AbstractLevelDOWN,e=require("inherits"),r=require("./deferred-iterator"),i="put get del batch".split(" ");function o(e){t.call(this,""),this._db=e,this._operations=[],this._iterators=[],a(this)}function n(t){i.concat("iterator").forEach(function(e){t["_"+e]=function(){return this._db[e].apply(this._db,arguments)}}),t._db.approximateSize&&(t.approximateSize=function(){return this._db.approximateSize.apply(this._db,arguments)})}function a(t){i.forEach(function(e){t["_"+e]=function(){this._operations.push({method:e,args:arguments})}}),"function"==typeof t._db.approximateSize&&(t.approximateSize=function(){this._operations.push({method:"approximateSize",args:arguments})}),t._iterator=function(t){var e=new r(t);return this._iterators.push(e),e}}e(o,t),o.prototype._open=function(t,e){var r=this;this._db.open(t,function(t){if(t)return e(t);r._operations.forEach(function(t){r._db[t.method].apply(r._db,t.args)}),r._operations=[],r._iterators.forEach(function(t){t.setDb(r._db)}),r._iterators=[],n(r),e()})},o.prototype._close=function(t){var e=this;this._db.close(function(r){if(r)return t(r);a(e),t()})},o.prototype._serializeKey=function(t){return t},o.prototype._serializeValue=function(t){return t},module.exports=o,module.exports.DeferredIterator=r;
},{"abstract-leveldown":"ZKYh","inherits":"Bm0n","./deferred-iterator":"QlHG"}],"ediv":[function(require,module,exports) {
module.exports=require("events").EventEmitter;
},{"events":"FRpO"}],"aMPu":[function(require,module,exports) {

"use strict";function t(t){for(var n=1;n<arguments.length;n++){var h=null!=arguments[n]?arguments[n]:{},i=Object.keys(h);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(h).filter(function(t){return Object.getOwnPropertyDescriptor(h,t).enumerable}))),i.forEach(function(n){e(t,n,h[n])})}return t}function e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var n=require("buffer"),h=n.Buffer,i=require("util"),a=i.inspect,r=a&&a.custom||"inspect";function l(t,e,n){h.prototype.copy.call(t,e,n)}module.exports=function(){function e(){this.head=null,this.tail=null,this.length=0}var n=e.prototype;return n.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},n.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},n.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},n.clear=function(){this.head=this.tail=null,this.length=0},n.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},n.concat=function(t){if(0===this.length)return h.alloc(0);for(var e=h.allocUnsafe(t>>>0),n=this.head,i=0;n;)l(n.data,e,i),i+=n.data.length,n=n.next;return e},n.consume=function(t,e){var n;return t<this.head.data.length?(n=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):n=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),n},n.first=function(){return this.head.data},n._getString=function(t){var e=this.head,n=1,h=e.data;for(t-=h.length;e=e.next;){var i=e.data,a=t>i.length?i.length:t;if(a===i.length?h+=i:h+=i.slice(0,t),0===(t-=a)){a===i.length?(++n,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=i.slice(a));break}++n}return this.length-=n,h},n._getBuffer=function(t){var e=h.allocUnsafe(t),n=this.head,i=1;for(n.data.copy(e),t-=n.data.length;n=n.next;){var a=n.data,r=t>a.length?a.length:t;if(a.copy(e,e.length-t,0,r),0===(t-=r)){r===a.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=a.slice(r));break}++i}return this.length-=i,e},n[r]=function(e,n){return a(this,t({},n,{depth:0,customInspect:!1}))},e}();
},{"buffer":"dskh","util":"rDCW"}],"f4H3":[function(require,module,exports) {
var process = require("process");
var t=require("process");function e(e,r){var d=this,l=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return l||h?(r?r(e):!e||this._writableState&&this._writableState.errorEmitted||t.nextTick(s,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!r&&e?(t.nextTick(a,d,e),d._writableState&&(d._writableState.errorEmitted=!0)):r?(t.nextTick(i,d),r(e)):t.nextTick(i,d)}),this)}function a(t,e){s(t,e),i(t)}function i(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function r(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function s(t,e){t.emit("error",e)}module.exports={destroy:e,undestroy:r};
},{"process":"pBGv"}],"Jjz1":[function(require,module,exports) {
"use strict";function t(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}var n={};function e(e,r,o){o||(o=Error);var c=function(n){function e(t,e,o){return n.call(this,function(t,n,e){return"string"==typeof r?r:r(t,n,e)}(t,e,o))||this}return t(e,n),e}(o);c.prototype.name=o.name,c.prototype.code=e,n[e]=c}function r(t,n){if(Array.isArray(t)){var e=t.length;return t=t.map(function(t){return String(t)}),e>2?"one of ".concat(n," ").concat(t.slice(0,e-1).join(", "),", or ")+t[e-1]:2===e?"one of ".concat(n," ").concat(t[0]," or ").concat(t[1]):"of ".concat(n," ").concat(t[0])}return"of ".concat(n," ").concat(String(t))}function o(t,n,e){return t.substr(!e||e<0?0:+e,n.length)===n}function c(t,n,e){return(void 0===e||e>t.length)&&(e=t.length),t.substring(e-n.length,e)===n}function a(t,n,e){return"number"!=typeof e&&(e=0),!(e+n.length>t.length)&&-1!==t.indexOf(n,e)}e("ERR_INVALID_OPT_VALUE",function(t,n){return'The value "'+n+'" is invalid for option "'+t+'"'},TypeError),e("ERR_INVALID_ARG_TYPE",function(t,n,e){var E,u;if("string"==typeof n&&o(n,"not ")?(E="must not be",n=n.replace(/^not /,"")):E="must be",c(t," argument"))u="The ".concat(t," ").concat(E," ").concat(r(n,"type"));else{var i=a(t,".")?"property":"argument";u='The "'.concat(t,'" ').concat(i," ").concat(E," ").concat(r(n,"type"))}return u+=". Received type ".concat(typeof e)},TypeError),e("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),e("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"}),e("ERR_STREAM_PREMATURE_CLOSE","Premature close"),e("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"}),e("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),e("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),e("ERR_STREAM_WRITE_AFTER_END","write after end"),e("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),e("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError),e("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),module.exports.codes=n;
},{}],"YSMS":[function(require,module,exports) {
"use strict";var r=require("../../../errors").codes.ERR_INVALID_OPT_VALUE;function e(r,e,t){return null!=r.highWaterMark?r.highWaterMark:e?r[t]:null}function t(t,i,o,a){var n=e(i,a,o);if(null!=n){if(!isFinite(n)||Math.floor(n)!==n||n<0)throw new r(a?o:"highWaterMark",n);return Math.floor(n)}return t.objectMode?16:16384}module.exports={getHighWaterMark:t};
},{"../../../errors":"Jjz1"}],"Qi68":[function(require,module,exports) {
var process = require("process");
var e=require("process"),n=new Set;function a(a){if(!n.has(a)){var i=a+" is an experimental feature. This feature could change at any time";n.add(a),e.emitWarning(i,"ExperimentalWarning")}}function i(){}module.exports.emitExperimentalWarning=e.emitWarning?a:i;
},{"process":"pBGv"}],"yM1o":[function(require,module,exports) {
var global = arguments[3];
var r=arguments[3];function t(r,t){if(e("noDeprecation"))return r;var n=!1;return function(){if(!n){if(e("throwDeprecation"))throw new Error(t);e("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return r.apply(this,arguments)}}function e(t){try{if(!r.localStorage)return!1}catch(n){return!1}var e=r.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}module.exports=t;
},{}],"Xrjr":[function(require,module,exports) {

var global = arguments[3];
var process = require("process");
var e,t=arguments[3],n=require("process");function r(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){H(t,e)}}module.exports=v,v.WritableState=m;var o={deprecate:require("util-deprecate")},s=require("./internal/streams/stream"),f=require("buffer").Buffer,u=t.Uint8Array||function(){};function a(e){return f.from(e)}function c(e){return f.isBuffer(e)||e instanceof u}var l,d=require("./internal/streams/destroy"),h=require("./internal/streams/state"),b=h.getHighWaterMark,p=require("../errors").codes,w=p.ERR_INVALID_ARG_TYPE,y=p.ERR_METHOD_NOT_IMPLEMENTED,g=p.ERR_MULTIPLE_CALLBACK,_=p.ERR_STREAM_CANNOT_PIPE,R=p.ERR_STREAM_DESTROYED,k=p.ERR_STREAM_NULL_VALUES,q=p.ERR_STREAM_WRITE_AFTER_END,E=p.ERR_UNKNOWN_ENCODING;function S(){}function m(t,n,r){e=e||require("./_stream_duplex"),t=t||{},"boolean"!=typeof r&&(r=n instanceof e),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=b(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===t.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){O(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function v(t){var n=this instanceof(e=e||require("./_stream_duplex"));if(!n&&!l.call(v,this))return new v(t);this._writableState=new m(t,this,n),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),s.call(this)}function x(e,t){var r=new q;e.emit("error",r),n.nextTick(t,r)}function M(e,t,r,i){var o;return null===r?o=new k:"string"==typeof r||t.objectMode||(o=new w("chunk",["string","Buffer"],r)),!o||(e.emit("error",o),n.nextTick(i,o),!1)}function B(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=f.from(t,n)),t}function T(e,t,n,r,i,o){if(!n){var s=B(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var f=t.objectMode?1:r.length;t.length+=f;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var a=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},a?a.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else P(e,t,!1,f,r,i,o);return u}function P(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new R("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function j(e,t,r,i,o){--t.pendingcb,r?(n.nextTick(o,i),n.nextTick(F,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(o(i),e._writableState.errorEmitted=!0,e.emit("error",i),F(e,t))}function C(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function O(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if("function"!=typeof o)throw new g;if(C(r),t)j(e,r,i,t,o);else{var s=N(r)||e.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||L(e,r),i?n.nextTick(A,e,r,s,o):A(e,r,s,o)}}function A(e,t,n,r){n||D(e,t),t.pendingcb--,r(),F(e,t)}function D(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function L(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),s=t.corkedRequestsFree;s.entry=n;for(var f=0,u=!0;n;)o[f]=n,n.isBuf||(u=!1),n=n.next,f+=1;o.allBuffers=u,P(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var a=n.chunk,c=n.encoding,l=n.callback;if(P(e,t,!1,t.objectMode?1:a.length,a,c,l),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function N(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function I(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),F(e,t)})}function W(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(I,e,t)))}function F(e,t){var n=N(t);return n&&(W(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function U(e,t,r){t.ending=!0,F(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function H(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}require("inherits")(v,s),m.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(m.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||this===v&&(e&&e._writableState instanceof m)}})):l=function(e){return e instanceof this},v.prototype.pipe=function(){this.emit("error",new _)},v.prototype.write=function(e,t,n){var r=this._writableState,i=!1,o=!r.objectMode&&c(e);return o&&!f.isBuffer(e)&&(e=a(e)),"function"==typeof t&&(n=t,t=null),o?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=S),r.ending?x(this,n):(o||M(this,r,e,n))&&(r.pendingcb++,i=T(this,r,o,e,t,n)),i},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||L(this,e))},v.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new E(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(v.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),v.prototype._write=function(e,t,n){n(new y("_write()"))},v.prototype._writev=null,v.prototype.end=function(e,t,n){var r=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||U(this,r,n),this},Object.defineProperty(v.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(v.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),v.prototype.destroy=d.destroy,v.prototype._undestroy=d.undestroy,v.prototype._destroy=function(e,t){t(e)};
},{"util-deprecate":"yM1o","./internal/streams/stream":"ediv","buffer":"dskh","./internal/streams/destroy":"f4H3","./internal/streams/state":"YSMS","../errors":"Jjz1","inherits":"Bm0n","./_stream_duplex":"L24D","process":"pBGv"}],"L24D":[function(require,module,exports) {
var process = require("process");
var e=require("process"),t=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};module.exports=l;var r=require("./_stream_readable"),a=require("./_stream_writable");require("inherits")(l,r);for(var i=t(a.prototype),n=0;n<i.length;n++){var o=i[n];l.prototype[o]||(l.prototype[o]=a.prototype[o])}function l(e){if(!(this instanceof l))return new l(e);r.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",s)))}function s(){this._writableState.ended||e.nextTick(b,this)}function b(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}});
},{"./_stream_readable":"iPTs","./_stream_writable":"Xrjr","inherits":"Bm0n","process":"pBGv"}],"Wugr":[function(require,module,exports) {

var r=require("buffer"),e=r.Buffer;function o(r,e){for(var o in r)e[o]=r[o]}function n(r,o,n){return e(r,o,n)}e.from&&e.alloc&&e.allocUnsafe&&e.allocUnsafeSlow?module.exports=r:(o(r,exports),exports.Buffer=n),n.prototype=Object.create(e.prototype),o(e,n),n.from=function(r,o,n){if("number"==typeof r)throw new TypeError("Argument must not be a number");return e(r,o,n)},n.alloc=function(r,o,n){if("number"!=typeof r)throw new TypeError("Argument must be a number");var t=e(r);return void 0!==o?"string"==typeof n?t.fill(o,n):t.fill(o):t.fill(0),t},n.allocUnsafe=function(r){if("number"!=typeof r)throw new TypeError("Argument must be a number");return e(r)},n.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)};
},{"buffer":"dskh"}],"f2OP":[function(require,module,exports) {

"use strict";var t=require("safe-buffer").Buffer,e=t.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function i(i){var a=s(i);if("string"!=typeof a&&(t.isEncoding===e||!e(i)))throw new Error("Unknown encoding: "+i);return a||i}function a(e){var s;switch(this.encoding=i(e),this.encoding){case"utf16le":this.text=c,this.end=f,s=4;break;case"utf8":this.fillLast=l,s=4;break;case"base64":this.text=d,this.end=g,s=3;break;default:return this.write=N,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(s)}function r(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function n(t,e,s){var i=e.length-1;if(i<s)return 0;var a=r(e[i]);return a>=0?(a>0&&(t.lastNeed=a-1),a):--i<s||-2===a?0:(a=r(e[i]))>=0?(a>0&&(t.lastNeed=a-2),a):--i<s||-2===a?0:(a=r(e[i]))>=0?(a>0&&(2===a?a=0:t.lastNeed=a-3),a):0}function h(t,e,s){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}function l(t){var e=this.lastTotal-this.lastNeed,s=h(this,t,e);return void 0!==s?s:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){var s=n(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=s;var i=t.length-(s-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function o(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e}function c(t,e){if((t.length-e)%2==0){var s=t.toString("utf16le",e);if(s){var i=s.charCodeAt(s.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],s.slice(0,-1)}return s}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function f(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var s=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,s)}return e}function d(t,e){var s=(t.length-e)%3;return 0===s?t.toString("base64",e):(this.lastNeed=3-s,this.lastTotal=3,1===s?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-s))}function g(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function N(t){return t.toString(this.encoding)}function v(t){return t&&t.length?this.write(t):""}exports.StringDecoder=a,a.prototype.write=function(t){if(0===t.length)return"";var e,s;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";s=this.lastNeed,this.lastNeed=0}else s=0;return s<t.length?e?e+this.text(t,s):this.text(t,s):e||""},a.prototype.end=o,a.prototype.text=u,a.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};
},{"safe-buffer":"Wugr"}],"FQZT":[function(require,module,exports) {
"use strict";var e=require("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function r(e){var r=!1;return function(){if(!r){r=!0;for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];e.apply(this,n)}}}function t(){}function n(e){return e.setHeader&&"function"==typeof e.abort}function o(i,a,l){if("function"==typeof a)return o(i,null,a);a||(a={}),l=r(l||t);var s=a.readable||!1!==a.readable&&i.readable,c=a.writable||!1!==a.writable&&i.writable,u=function(){i.writable||d()},f=i._writableState&&i._writableState.finished,d=function(){c=!1,f=!0,s||l.call(i)},b=i._readableState&&i._readableState.endEmitted,v=function(){s=!1,b=!0,c||l.call(i)},m=function(e){l.call(i,e)},w=function(){var r;return s&&!b?(i._readableState&&i._readableState.ended||(r=new e),l.call(i,r)):c&&!f?(i._writableState&&i._writableState.ended||(r=new e),l.call(i,r)):void 0},_=function(){i.req.on("finish",d)};return n(i)?(i.on("complete",d),i.on("abort",w),i.req?_():i.on("request",_)):c&&!i._writableState&&(i.on("end",u),i.on("close",u)),i.on("end",v),i.on("finish",d),!1!==a.error&&i.on("error",m),i.on("close",w),function(){i.removeListener("complete",d),i.removeListener("abort",w),i.removeListener("request",_),i.req&&i.req.removeListener("finish",d),i.removeListener("end",u),i.removeListener("close",u),i.removeListener("finish",d),i.removeListener("end",v),i.removeListener("error",m),i.removeListener("close",w)}}module.exports=o;
},{"../../../errors":"Jjz1"}],"iIPj":[function(require,module,exports) {
var process = require("process");
var e,n=require("process");function r(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var t=require("./end-of-stream"),l=Symbol("lastResolve"),u=Symbol("lastReject"),i=Symbol("error"),o=Symbol("ended"),a=Symbol("lastPromise"),s=Symbol("handlePromise"),c=Symbol("stream");function f(e,n){return{value:e,done:n}}function v(e){var n=e[l];if(null!==n){var r=e[c].read();null!==r&&(e[a]=null,e[l]=null,e[u]=null,n(f(r,!1)))}}function d(e){n.nextTick(v,e)}function b(e,n){return function(r,t){e.then(function(){n[o]?r(f(void 0,!0)):n[s](r,t)},t)}}var m=Object.getPrototypeOf(function(){}),h=Object.setPrototypeOf((r(e={get stream(){return this[c]},next:function(){var e=this,r=this[i];if(null!==r)return Promise.reject(r);if(this[o])return Promise.resolve(f(void 0,!0));if(this[c].destroyed)return new Promise(function(r,t){n.nextTick(function(){e[i]?t(e[i]):r(f(void 0,!0))})});var t,l=this[a];if(l)t=new Promise(b(l,this));else{var u=this[c].read();if(null!==u)return Promise.resolve(f(u,!1));t=new Promise(this[s])}return this[a]=t,t}},Symbol.asyncIterator,function(){return this}),r(e,"return",function(){var e=this;return new Promise(function(n,r){e[c].destroy(null,function(e){e?r(e):n(f(void 0,!0))})})}),e),m),y=function(e){var n,v=Object.create(h,(r(n={},c,{value:e,writable:!0}),r(n,l,{value:null,writable:!0}),r(n,u,{value:null,writable:!0}),r(n,i,{value:null,writable:!0}),r(n,o,{value:e._readableState.endEmitted,writable:!0}),r(n,s,{value:function(e,n){var r=v[c].read();r?(v[a]=null,v[l]=null,v[u]=null,e(f(r,!1))):(v[l]=e,v[u]=n)},writable:!0}),n));return v[a]=null,t(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var n=v[u];return null!==n&&(v[a]=null,v[l]=null,v[u]=null,n(e)),void(v[i]=e)}var r=v[l];null!==r&&(v[a]=null,v[l]=null,v[u]=null,r(f(void 0,!0))),v[o]=!0}),e.on("readable",d.bind(null,v)),v};module.exports=y;
},{"./end-of-stream":"FQZT","process":"pBGv"}],"iPTs":[function(require,module,exports) {

var global = arguments[3];
var process = require("process");
var e,t=arguments[3],n=require("process");module.exports=j,j.ReadableState=L;var r=require("events").EventEmitter,i=function(e,t){return e.listeners(t).length},a=require("./internal/streams/stream"),d=require("buffer").Buffer,o=t.Uint8Array||function(){};function s(e){return d.from(e)}function l(e){return d.isBuffer(e)||e instanceof o}var u,p=require("util");u=p&&p.debuglog?p.debuglog("stream"):function(){};var h,f,c=require("./internal/streams/buffer_list"),g=require("./internal/streams/destroy"),b=require("./internal/streams/state"),m=b.getHighWaterMark,y=require("../errors").codes,_=y.ERR_INVALID_ARG_TYPE,v=y.ERR_STREAM_PUSH_AFTER_EOF,w=y.ERR_METHOD_NOT_IMPLEMENTED,S=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,M=require("../experimentalWarning"),R=M.emitExperimentalWarning;require("inherits")(j,a);var E=["error","close","destroy","pause","resume"];function k(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function L(t,n,r){e=e||require("./_stream_duplex"),t=t||{},"boolean"!=typeof r&&(r=n instanceof e),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=m(this,t,"readableHighWaterMark",r),this.buffer=new c,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(h||(h=require("string_decoder/").StringDecoder),this.decoder=new h(t.encoding),this.encoding=t.encoding)}function j(t){if(e=e||require("./_stream_duplex"),!(this instanceof j))return new j(t);var n=this instanceof e;this._readableState=new L(t,this,n),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),a.call(this)}function C(e,t,n,r,i){u("readableAddChunk",t);var a,o=e._readableState;if(null===t)o.reading=!1,A(e,o);else if(i||(a=D(o,t)),a)e.emit("error",a);else if(o.objectMode||t&&t.length>0)if("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===d.prototype||(t=s(t)),r)o.endEmitted?e.emit("error",new S):T(e,o,t,!0);else if(o.ended)e.emit("error",new v);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?T(e,o,t,!1):U(e,o)):T(e,o,t,!1)}else r||(o.reading=!1,U(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function T(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&O(e)),U(e,t)}function D(e,t){var n;return l(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new _("chunk",["string","Buffer","Uint8Array"],t)),n}Object.defineProperty(j.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),j.prototype.destroy=g.destroy,j.prototype._undestroy=g.undestroy,j.prototype._destroy=function(e,t){t(e)},j.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=d.from(e,t),t=""),n=!0),C(this,e,t,!1,n)},j.prototype.unshift=function(e){return C(this,e,null,!0,!1)},j.prototype.isPaused=function(){return!1===this._readableState.flowing},j.prototype.setEncoding=function(e){return h||(h=require("string_decoder/").StringDecoder),this._readableState.decoder=new h(e),this._readableState.encoding=this._readableState.decoder.encoding,this};var q=8388608;function W(e){return e>=q?e=q:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function x(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=W(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function A(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?O(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,P(e)))}}function O(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(u("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(P,e))}function P(e){var t=e._readableState;u("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||e.emit("readable"),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,G(e)}function U(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(I,e,t))}function I(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(u("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function N(e){return function(){var t=e._readableState;u("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,G(e))}}function H(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function F(e){u("readable nexttick read 0"),e.read(0)}function B(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(V,e,t))}function V(e,t){u("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),G(e),t.flowing&&!t.reading&&e.read(0)}function G(e){var t=e._readableState;for(u("flow",t.flowing);t.flowing&&null!==e.read(););}function Y(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function z(e){var t=e._readableState;u("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(J,t,e))}function J(e,t){u("endReadableNT",e.endEmitted,e.length),e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function K(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}j.prototype.read=function(e){u("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return u("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?z(this):O(this),null;if(0===(e=x(e,t))&&t.ended)return 0===t.length&&z(this),null;var r,i=t.needReadable;return u("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&u("length less than watermark",i=!0),t.ended||t.reading?u("reading or ended",i=!1):i&&(u("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=x(n,t))),null===(r=e>0?Y(e,t):null)?(t.needReadable=!0,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&z(this)),null!==r&&this.emit("data",r),r},j.prototype._read=function(e){this.emit("error",new w("_read()"))},j.prototype.pipe=function(e,t){var r=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,u("pipe count=%d opts=%j",a.pipesCount,t);var d=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?s:b;function o(t,n){u("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,u("cleanup"),e.removeListener("close",c),e.removeListener("finish",g),e.removeListener("drain",l),e.removeListener("error",f),e.removeListener("unpipe",o),r.removeListener("end",s),r.removeListener("end",b),r.removeListener("data",h),p=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function s(){u("onend"),e.end()}a.endEmitted?n.nextTick(d):r.once("end",d),e.on("unpipe",o);var l=N(r);e.on("drain",l);var p=!1;function h(t){u("ondata");var n=e.write(t);u("dest.write",n),!1===n&&((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==K(a.pipes,e))&&!p&&(u("false write response, pause",a.awaitDrain),a.awaitDrain++),r.pause())}function f(t){u("onerror",t),b(),e.removeListener("error",f),0===i(e,"error")&&e.emit("error",t)}function c(){e.removeListener("finish",g),b()}function g(){u("onfinish"),e.removeListener("close",c),b()}function b(){u("unpipe"),r.unpipe(e)}return r.on("data",h),k(e,"error",f),e.once("close",c),e.once("finish",g),e.emit("pipe",r),a.flowing||(u("pipe resume"),r.resume()),e},j.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)r[a].emit("unpipe",this,{hasUnpiped:!1});return this}var d=K(t.pipes,e);return-1===d?this:(t.pipes.splice(d,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},j.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,u("on readable",i.length,i.reading),i.length?O(this):i.reading||n.nextTick(F,this))),r},j.prototype.addListener=j.prototype.on,j.prototype.removeListener=function(e,t){var r=a.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(H,this),r},j.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||n.nextTick(H,this),t},j.prototype.resume=function(){var e=this._readableState;return e.flowing||(u("resume"),e.flowing=!e.readableListening,B(this,e)),e.paused=!1,this},j.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},j.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(u("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(u("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<E.length;a++)e.on(E[a],this.emit.bind(this,E[a]));return this._read=function(t){u("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(j.prototype[Symbol.asyncIterator]=function(){return R("Readable[Symbol.asyncIterator]"),void 0===f&&(f=require("./internal/streams/async_iterator")),f(this)}),Object.defineProperty(j.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(j.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(j.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),j._fromList=Y,Object.defineProperty(j.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});
},{"events":"FRpO","./internal/streams/stream":"ediv","buffer":"dskh","util":"rDCW","./internal/streams/buffer_list":"aMPu","./internal/streams/destroy":"f4H3","./internal/streams/state":"YSMS","../errors":"Jjz1","../experimentalWarning":"Qi68","inherits":"Bm0n","./_stream_duplex":"L24D","string_decoder/":"f2OP","./internal/streams/async_iterator":"iIPj","process":"pBGv"}],"Wkpx":[function(require,module,exports) {
"use strict";module.exports=o;var t=require("../errors").codes,r=t.ERR_METHOD_NOT_IMPLEMENTED,e=t.ERR_MULTIPLE_CALLBACK,n=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=t.ERR_TRANSFORM_WITH_LENGTH_0,a=require("./_stream_duplex");function s(t,r){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(null===i)return this.emit("error",new e);n.writechunk=null,n.writecb=null,null!=r&&this.push(r),i(t);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function o(t){if(!(this instanceof o))return new o(t);a.call(this,t),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",h)}function h(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush(function(r,e){f(t,r,e)})}function f(t,r,e){if(r)return t.emit("error",r);if(null!=e&&t.push(e),t._writableState.length)throw new i;if(t._transformState.transforming)throw new n;return t.push(null)}require("inherits")(o,a),o.prototype.push=function(t,r){return this._transformState.needTransform=!1,a.prototype.push.call(this,t,r)},o.prototype._transform=function(t,e,n){n(new r("_transform()"))},o.prototype._write=function(t,r,e){var n=this._transformState;if(n.writecb=e,n.writechunk=t,n.writeencoding=r,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var r=this._transformState;null===r.writechunk||r.transforming?r.needTransform=!0:(r.transforming=!0,this._transform(r.writechunk,r.writeencoding,r.afterTransform))},o.prototype._destroy=function(t,r){a.prototype._destroy.call(this,t,function(t){r(t)})};
},{"../errors":"Jjz1","./_stream_duplex":"L24D","inherits":"Bm0n"}],"OnLn":[function(require,module,exports) {
"use strict";module.exports=t;var r=require("./_stream_transform");function t(e){if(!(this instanceof t))return new t(e);r.call(this,e)}require("inherits")(t,r),t.prototype._transform=function(r,t,e){e(null,r)};
},{"./_stream_transform":"Wkpx","inherits":"Bm0n"}],"dNxC":[function(require,module,exports) {
"use strict";var r;function n(r){var n=!1;return function(){n||(n=!0,r.apply(void 0,arguments))}}var t=require("../../../errors").codes,e=t.ERR_MISSING_ARGS,o=t.ERR_STREAM_DESTROYED;function i(r){if(r)throw r}function u(r){return r.setHeader&&"function"==typeof r.abort}function f(t,e,i,f){f=n(f);var a=!1;t.on("close",function(){a=!0}),void 0===r&&(r=require("./end-of-stream")),r(t,{readable:e,writable:i},function(r){if(r)return f(r);a=!0,f()});var c=!1;return function(r){if(!a&&!c)return c=!0,u(t)?t.abort():"function"==typeof t.destroy?t.destroy():void f(r||new o("pipe"))}}function a(r){r()}function c(r,n){return r.pipe(n)}function p(r){return r.length?"function"!=typeof r[r.length-1]?i:r.pop():i}function s(){for(var r=arguments.length,n=new Array(r),t=0;t<r;t++)n[t]=arguments[t];var o,i=p(n);if(Array.isArray(n[0])&&(n=n[0]),n.length<2)throw new e("streams");var u=n.map(function(r,t){var e=t<n.length-1;return f(r,e,t>0,function(r){o||(o=r),r&&u.forEach(a),e||(u.forEach(a),i(o))})});return n.reduce(c)}module.exports=s;
},{"../../../errors":"Jjz1","./end-of-stream":"FQZT"}],"aUId":[function(require,module,exports) {
exports=module.exports=require("./lib/_stream_readable.js"),exports.Stream=exports,exports.Readable=exports,exports.Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js"),exports.finished=require("./lib/internal/streams/end-of-stream.js"),exports.pipeline=require("./lib/internal/streams/pipeline.js");
},{"./lib/_stream_readable.js":"iPTs","./lib/_stream_writable.js":"Xrjr","./lib/_stream_duplex.js":"L24D","./lib/_stream_transform.js":"Wkpx","./lib/_stream_passthrough.js":"OnLn","./lib/internal/streams/end-of-stream.js":"FQZT","./lib/internal/streams/pipeline.js":"dNxC"}],"stGZ":[function(require,module,exports) {
var e=require("inherits"),t=require("readable-stream").Readable,i=require("xtend");function s(e,o){if(!(this instanceof s))return new s(e,o);o=o||{},t.call(this,i(o,{objectMode:!0})),this._iterator=e,this._options=o,this.on("end",this.destroy.bind(this,null,null))}module.exports=s,e(s,t),s.prototype._read=function(){var e=this,t=this._options;this.destroyed||this._iterator.next(function(i,s,o){if(!e.destroyed)return i?e.destroy(i):void(void 0===s&&void 0===o?e.push(null):!1!==t.keys&&!1===t.values?e.push(s):!1===t.keys&&!1!==t.values?e.push(o):e.push({key:s,value:o}))})},s.prototype._destroy=function(e,t){this._iterator.end(function(i){t(e||i)})};
},{"inherits":"Bm0n","readable-stream":"aUId","xtend":"K5Tb"}],"uCcW":[function(require,module,exports) {
!function(e,n,r){"undefined"!=typeof module&&module.exports?module.exports=r():n.prr=r()}(0,this,function(){var e="function"==typeof Object.defineProperty?function(e,n,r){return Object.defineProperty(e,n,r),e}:function(e,n,r){return e[n]=r.value,e};return function(n,r,t,o){var u;if(o=function(e,n){var r="object"==typeof n,t=!r&&"string"==typeof n,o=function(e){return r?!!n[e]:!!t&&n.indexOf(e[0])>-1};return{enumerable:o("enumerable"),configurable:o("configurable"),writable:o("writable"),value:e}}(t,o),"object"==typeof r){for(u in r)Object.hasOwnProperty.call(r,u)&&(o.value=r[u],e(n,u,o));return n}return e(n,r,o)}});
},{}],"n8Zz":[function(require,module,exports) {
var r=require("prr");function e(e,t,s){t&&"string"!=typeof t&&(t=t.message||t.name),r(this,{type:e,name:e,cause:"string"!=typeof t?t:s,message:t},"ewr")}function t(r,t){Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),e.call(this,"CustomError",r,t)}function s(r,s,o){var a=function(t,o){e.call(this,s,t,o),"FilesystemError"==s&&(this.code=this.cause.code,this.path=this.cause.path,this.errno=this.cause.errno,this.message=(r.errno[this.cause.errno]?r.errno[this.cause.errno].description:this.cause.message)+(this.cause.path?" ["+this.cause.path+"]":"")),Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,a)};return a.prototype=o?new o:new t,a}t.prototype=new Error,module.exports=function(r){var e=function(e,t){return s(r,e,t)};return{CustomError:t,FilesystemError:e("FilesystemError"),createError:e}};
},{"prr":"uCcW"}],"Ta33":[function(require,module,exports) {
var e=module.exports.all=[{errno:-2,code:"ENOENT",description:"no such file or directory"},{errno:-1,code:"UNKNOWN",description:"unknown error"},{errno:0,code:"OK",description:"success"},{errno:1,code:"EOF",description:"end of file"},{errno:2,code:"EADDRINFO",description:"getaddrinfo error"},{errno:3,code:"EACCES",description:"permission denied"},{errno:4,code:"EAGAIN",description:"resource temporarily unavailable"},{errno:5,code:"EADDRINUSE",description:"address already in use"},{errno:6,code:"EADDRNOTAVAIL",description:"address not available"},{errno:7,code:"EAFNOSUPPORT",description:"address family not supported"},{errno:8,code:"EALREADY",description:"connection already in progress"},{errno:9,code:"EBADF",description:"bad file descriptor"},{errno:10,code:"EBUSY",description:"resource busy or locked"},{errno:11,code:"ECONNABORTED",description:"software caused connection abort"},{errno:12,code:"ECONNREFUSED",description:"connection refused"},{errno:13,code:"ECONNRESET",description:"connection reset by peer"},{errno:14,code:"EDESTADDRREQ",description:"destination address required"},{errno:15,code:"EFAULT",description:"bad address in system call argument"},{errno:16,code:"EHOSTUNREACH",description:"host is unreachable"},{errno:17,code:"EINTR",description:"interrupted system call"},{errno:18,code:"EINVAL",description:"invalid argument"},{errno:19,code:"EISCONN",description:"socket is already connected"},{errno:20,code:"EMFILE",description:"too many open files"},{errno:21,code:"EMSGSIZE",description:"message too long"},{errno:22,code:"ENETDOWN",description:"network is down"},{errno:23,code:"ENETUNREACH",description:"network is unreachable"},{errno:24,code:"ENFILE",description:"file table overflow"},{errno:25,code:"ENOBUFS",description:"no buffer space available"},{errno:26,code:"ENOMEM",description:"not enough memory"},{errno:27,code:"ENOTDIR",description:"not a directory"},{errno:28,code:"EISDIR",description:"illegal operation on a directory"},{errno:29,code:"ENONET",description:"machine is not on the network"},{errno:31,code:"ENOTCONN",description:"socket is not connected"},{errno:32,code:"ENOTSOCK",description:"socket operation on non-socket"},{errno:33,code:"ENOTSUP",description:"operation not supported on socket"},{errno:34,code:"ENOENT",description:"no such file or directory"},{errno:35,code:"ENOSYS",description:"function not implemented"},{errno:36,code:"EPIPE",description:"broken pipe"},{errno:37,code:"EPROTO",description:"protocol error"},{errno:38,code:"EPROTONOSUPPORT",description:"protocol not supported"},{errno:39,code:"EPROTOTYPE",description:"protocol wrong type for socket"},{errno:40,code:"ETIMEDOUT",description:"connection timed out"},{errno:41,code:"ECHARSET",description:"invalid Unicode character"},{errno:42,code:"EAIFAMNOSUPPORT",description:"address family for hostname not supported"},{errno:44,code:"EAISERVICE",description:"servname not supported for ai_socktype"},{errno:45,code:"EAISOCKTYPE",description:"ai_socktype not supported"},{errno:46,code:"ESHUTDOWN",description:"cannot send after transport endpoint shutdown"},{errno:47,code:"EEXIST",description:"file already exists"},{errno:48,code:"ESRCH",description:"no such process"},{errno:49,code:"ENAMETOOLONG",description:"name too long"},{errno:50,code:"EPERM",description:"operation not permitted"},{errno:51,code:"ELOOP",description:"too many symbolic links encountered"},{errno:52,code:"EXDEV",description:"cross-device link not permitted"},{errno:53,code:"ENOTEMPTY",description:"directory not empty"},{errno:54,code:"ENOSPC",description:"no space left on device"},{errno:55,code:"EIO",description:"i/o error"},{errno:56,code:"EROFS",description:"read-only file system"},{errno:57,code:"ENODEV",description:"no such device"},{errno:58,code:"ESPIPE",description:"invalid seek"},{errno:59,code:"ECANCELED",description:"operation canceled"}];module.exports.errno={},module.exports.code={},e.forEach(function(e){module.exports.errno[e.errno]=e,module.exports.code[e.code]=e}),module.exports.custom=require("./custom")(module.exports),module.exports.create=module.exports.custom.createError;
},{"./custom":"n8Zz"}],"hBjv":[function(require,module,exports) {
var r=require("errno").create,o=r("LevelUPError"),e=r("NotFoundError",o);e.prototype.notFound=!0,e.prototype.status=404,module.exports={LevelUPError:o,InitializationError:r("InitializationError",o),OpenError:r("OpenError",o),ReadError:r("ReadError",o),WriteError:r("WriteError",o),NotFoundError:e,EncodingError:r("EncodingError",o)};
},{"errno":"Ta33"}],"R89u":[function(require,module,exports) {
function n(){var n,o=new Promise(function(o,e){n=function(n,r){n?e(n):o(r)}});return n.promise=o,n}module.exports=n;
},{}],"g1yV":[function(require,module,exports) {
exports.getCallback=function(t,n){return"function"==typeof t?t:n},exports.getOptions=function(t){return"object"==typeof t&&null!==t?t:{}};
},{}],"ZcAF":[function(require,module,exports) {
var t=require("level-errors").WriteError,e=require("./promisify"),r=require("./common").getCallback,h=require("./common").getOptions;function i(t){this._levelup=t,this.batch=t.db.batch(),this.ops=[],this.length=0}i.prototype.put=function(e,r){try{this.batch.put(e,r)}catch(h){throw new t(h)}return this.ops.push({type:"put",key:e,value:r}),this.length++,this},i.prototype.del=function(e){try{this.batch.del(e)}catch(r){throw new t(r)}return this.ops.push({type:"del",key:e}),this.length++,this},i.prototype.clear=function(){try{this.batch.clear()}catch(e){throw new t(e)}return this.ops=[],this.length=0,this},i.prototype.write=function(i,o){var s,n=this._levelup,c=this.ops;(o=r(i,o))||(s=(o=e()).promise),i=h(i);try{this.batch.write(i,function(e){if(e)return o(new t(e));n.emit("batch",c),o()})}catch(p){throw new t(p)}return s},module.exports=i;
},{"level-errors":"hBjv","./promisify":"R89u","./common":"g1yV"}],"J4Nk":[function(require,module,exports) {
"use strict";var r=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,e=Object.prototype.propertyIsEnumerable;function n(r){if(null==r)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}function o(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de","5"===Object.getOwnPropertyNames(r)[0])return!1;for(var t={},e=0;e<10;e++)t["_"+String.fromCharCode(e)]=e;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(r){return t[r]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(r){n[r]=r}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(o){return!1}}module.exports=o()?Object.assign:function(o,c){for(var a,i,s=n(o),f=1;f<arguments.length;f++){for(var u in a=Object(arguments[f]))t.call(a,u)&&(s[u]=a[u]);if(r){i=r(a);for(var b=0;b<i.length;b++)e.call(a,i[b])&&(s[i[b]]=a[i[b]])}}return s};
},{}],"XOAc":[function(require,module,exports) {
var global = arguments[3];
var process = require("process");
var e=arguments[3],t=require("process"),r=/%[sdj%]/g;exports.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}n=1;for(var o=arguments,s=o.length,u=String(e).replace(r,function(e){if("%%"===e)return"%";if(n>=s)return e;switch(e){case"%s":return String(o[n++]);case"%d":return Number(o[n++]);case"%j":try{return JSON.stringify(o[n++])}catch(t){return"[Circular]"}default:return e}}),c=o[n];n<s;c=o[++n])h(c)||!z(c)?u+=" "+c:u+=" "+i(c);return u},exports.deprecate=function(r,n){if(j(e.process))return function(){return exports.deprecate(r,n).apply(this,arguments)};if(!0===t.noDeprecation)return r;var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(n);t.traceDeprecation?console.trace(n):console.error(n),o=!0}return r.apply(this,arguments)}};var n,o={};function i(e,t){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),x(t)?r.showHidden=t:t&&exports._extend(r,t),j(r.showHidden)&&(r.showHidden=!1),j(r.depth)&&(r.depth=2),j(r.colors)&&(r.colors=!1),j(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=s),p(r,e,r.depth)}function s(e,t){var r=i.styles[t];return r?"["+i.colors[r][0]+"m"+e+"["+i.colors[r][1]+"m":e}function u(e,t){return e}function c(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function p(e,t,r){if(e.customInspect&&t&&D(t.inspect)&&t.inspect!==exports.inspect&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return v(n)||(n=p(e,n,r)),n}var o=l(e,t);if(o)return o;var i=Object.keys(t),s=c(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(t)),E(t)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return a(t);if(0===i.length){if(D(t)){var u=t.name?": "+t.name:"";return e.stylize("[Function"+u+"]","special")}if(O(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(w(t))return e.stylize(Date.prototype.toString.call(t),"date");if(E(t))return a(t)}var x,h="",b=!1,m=["{","}"];(d(t)&&(b=!0,m=["[","]"]),D(t))&&(h=" [Function"+(t.name?": "+t.name:"")+"]");return O(t)&&(h=" "+RegExp.prototype.toString.call(t)),w(t)&&(h=" "+Date.prototype.toUTCString.call(t)),E(t)&&(h=" "+a(t)),0!==i.length||b&&0!=t.length?r<0?O(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),x=b?f(e,t,r,s,i):i.map(function(n){return g(e,t,r,s,n,b)}),e.seen.pop(),y(x,h,m)):m[0]+h+m[1]}function l(e,t){if(j(t))return e.stylize("undefined","undefined");if(v(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return m(t)?e.stylize(""+t,"number"):x(t)?e.stylize(""+t,"boolean"):h(t)?e.stylize("null","null"):void 0}function a(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,r,n,o){for(var i=[],s=0,u=t.length;s<u;++s)$(t,String(s))?i.push(g(e,t,r,n,String(s),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(g(e,t,r,n,o,!0))}),i}function g(e,t,r,n,o,i){var s,u,c;if((c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?u=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(u=e.stylize("[Setter]","special")),$(n,o)||(s="["+o+"]"),u||(e.seen.indexOf(c.value)<0?(u=h(r)?p(e,c.value,null):p(e,c.value,r-1)).indexOf("\n")>-1&&(u=i?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n")):u=e.stylize("[Circular]","special")),j(s)){if(i&&o.match(/^\d+$/))return u;(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+u}function y(e,t,r){return e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function d(e){return Array.isArray(e)}function x(e){return"boolean"==typeof e}function h(e){return null===e}function b(e){return null==e}function m(e){return"number"==typeof e}function v(e){return"string"==typeof e}function S(e){return"symbol"==typeof e}function j(e){return void 0===e}function O(e){return z(e)&&"[object RegExp]"===A(e)}function z(e){return"object"==typeof e&&null!==e}function w(e){return z(e)&&"[object Date]"===A(e)}function E(e){return z(e)&&("[object Error]"===A(e)||e instanceof Error)}function D(e){return"function"==typeof e}function N(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function A(e){return Object.prototype.toString.call(e)}function J(e){return e<10?"0"+e.toString(10):e.toString(10)}exports.debuglog=function(e){if(j(n)&&(n=""),e=e.toUpperCase(),!o[e])if(new RegExp("\\b"+e+"\\b","i").test(n)){var r=t.pid;o[e]=function(){var t=exports.format.apply(exports,arguments);console.error("%s %d: %s",e,r,t)}}else o[e]=function(){};return o[e]},exports.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=d,exports.isBoolean=x,exports.isNull=h,exports.isNullOrUndefined=b,exports.isNumber=m,exports.isString=v,exports.isSymbol=S,exports.isUndefined=j,exports.isRegExp=O,exports.isObject=z,exports.isDate=w,exports.isError=E,exports.isFunction=D,exports.isPrimitive=N,exports.isBuffer=require("./support/isBuffer");var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function H(){var e=new Date,t=[J(e.getHours()),J(e.getMinutes()),J(e.getSeconds())].join(":");return[e.getDate(),R[e.getMonth()],t].join(" ")}function $(e,t){return Object.prototype.hasOwnProperty.call(e,t)}exports.log=function(){console.log("%s - %s",H(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(e,t){if(!t||!z(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};
},{"./support/isBuffer":"gADh","inherits":"pyp0","process":"pBGv"}],"DlZn":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3],e=require("object-assign");function r(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}function n(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var i=require("util/"),o=Object.prototype.hasOwnProperty,u=Array.prototype.slice,a="foo"===function(){}.name;function c(t){return Object.prototype.toString.call(t)}function f(e){return!n(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var s=module.exports=q,l=/\s*function\s+([^\(\s]*)\s*/;function p(t){if(i.isFunction(t)){if(a)return t.name;var e=t.toString().match(l);return e&&e[1]}}function g(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function E(t){if(a||!i.isFunction(t))return i.inspect(t);var e=p(t);return"[Function"+(e?": "+e:"")+"]"}function h(t){return g(E(t.actual),128)+" "+t.operator+" "+g(E(t.expected),128)}function y(t,e,r,n,i){throw new s.AssertionError({message:r,actual:t,expected:e,operator:n,stackStartFunction:i})}function q(t,e){t||y(t,!0,e,"==",s.ok)}function d(t,e,o,u){if(t===e)return!0;if(n(t)&&n(e))return 0===r(t,e);if(i.isDate(t)&&i.isDate(e))return t.getTime()===e.getTime();if(i.isRegExp(t)&&i.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(f(t)&&f(e)&&c(t)===c(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===r(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(n(t)!==n(e))return!1;var a=(u=u||{actual:[],expected:[]}).actual.indexOf(t);return-1!==a&&a===u.expected.indexOf(e)||(u.actual.push(t),u.expected.push(e),b(t,e,o,u))}return o?t===e:t==e}function m(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function b(t,e,r,n){if(null==t||null==e)return!1;if(i.isPrimitive(t)||i.isPrimitive(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var o=m(t),a=m(e);if(o&&!a||!o&&a)return!1;if(o)return d(t=u.call(t),e=u.call(e),r);var c,f,s=A(t),l=A(e);if(s.length!==l.length)return!1;for(s.sort(),l.sort(),f=s.length-1;f>=0;f--)if(s[f]!==l[f])return!1;for(f=s.length-1;f>=0;f--)if(!d(t[c=s[f]],e[c],r,n))return!1;return!0}function v(t,e,r){d(t,e,!0)&&y(t,e,r,"notDeepStrictEqual",v)}function x(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(r){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function S(t){var e;try{t()}catch(r){e=r}return e}function w(t,e,r,n){var o;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),o=S(e),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!o&&y(o,r,"Missing expected exception"+n);var u="string"==typeof n,a=!t&&o&&!r;if((!t&&i.isError(o)&&u&&x(o,r)||a)&&y(o,r,"Got unwanted exception"+n),t&&o&&r&&!x(o,r)||!t&&o)throw o}function O(t,e){t||y(t,!0,e,"==",O)}s.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=h(this),this.generatedMessage=!0);var e=t.stackStartFunction||y;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var n=r.stack,i=p(e),o=n.indexOf("\n"+i);if(o>=0){var u=n.indexOf("\n",o+1);n=n.substring(u+1)}this.stack=n}}},i.inherits(s.AssertionError,Error),s.fail=y,s.ok=q,s.equal=function(t,e,r){t!=e&&y(t,e,r,"==",s.equal)},s.notEqual=function(t,e,r){t==e&&y(t,e,r,"!=",s.notEqual)},s.deepEqual=function(t,e,r){d(t,e,!1)||y(t,e,r,"deepEqual",s.deepEqual)},s.deepStrictEqual=function(t,e,r){d(t,e,!0)||y(t,e,r,"deepStrictEqual",s.deepStrictEqual)},s.notDeepEqual=function(t,e,r){d(t,e,!1)&&y(t,e,r,"notDeepEqual",s.notDeepEqual)},s.notDeepStrictEqual=v,s.strictEqual=function(t,e,r){t!==e&&y(t,e,r,"===",s.strictEqual)},s.notStrictEqual=function(t,e,r){t===e&&y(t,e,r,"!==",s.notStrictEqual)},s.throws=function(t,e,r){w(!0,t,e,r)},s.doesNotThrow=function(t,e,r){w(!1,t,e,r)},s.ifError=function(t){if(t)throw t},s.strict=e(O,s,{equal:s.strictEqual,deepEqual:s.deepStrictEqual,notEqual:s.notStrictEqual,notDeepEqual:s.notDeepStrictEqual}),s.strict.strict=s.strict;var A=Object.keys||function(t){var e=[];for(var r in t)o.call(t,r)&&e.push(r);return e};
},{"object-assign":"J4Nk","util/":"XOAc"}],"kVlK":[function(require,module,exports) {
var process = require("process");
var t=require("process"),e=require("events").EventEmitter,r=require("util").inherits,n=require("xtend"),i=require("deferred-leveldown"),o=require("level-iterator-stream"),s=require("./batch"),u=require("level-errors"),p=require("assert"),a=require("./promisify"),c=require("./common").getCallback,l=require("./common").getOptions,h=u.WriteError,f=u.ReadError,d=u.NotFoundError,m=u.OpenError,y=u.InitializationError;function b(r,n,o){if(!(this instanceof b))return new b(r,n,o);var s;if(e.call(this),this.setMaxListeners(1/0),"function"==typeof n&&(o=n,n={}),n=n||{},!r||"object"!=typeof r){if(s=new y("First argument must be an abstract-leveldown compliant store"),"function"==typeof o)return t.nextTick(o,s);throw s}p.strictEqual(typeof r.status,"string",".status required, old abstract-leveldown"),this.options=l(n),this._db=r,this.db=new i(r),this.open(o)}function w(e,r){if(!e._isOpening()&&!e.isOpen())return t.nextTick(r,new f("Database is not open")),!0}b.prototype.emit=e.prototype.emit,b.prototype.once=e.prototype.once,r(b,e),b.prototype.open=function(e){var r,n=this;return e||(r=(e=a()).promise),this.isOpen()?(t.nextTick(e,null,n),r):this._isOpening()?(this.once("open",function(){e(null,n)}),r):(this.emit("opening"),this.db.open(this.options,function(t){if(t)return e(new m(t));n.db=n._db,e(null,n),n.emit("open"),n.emit("ready")}),r)},b.prototype.close=function(e){var r,n=this;return e||(r=(e=a()).promise),this.isOpen()?(this.db.close(function(){n.emit("closed"),e.apply(null,arguments)}),this.emit("closing"),this.db=new i(this._db)):this.isClosed()?t.nextTick(e):"closing"===this.db.status?this.once("closed",e):this._isOpening()&&this.once("open",function(){n.close(e)}),r},b.prototype.isOpen=function(){return"open"===this.db.status},b.prototype._isOpening=function(){return"opening"===this.db.status},b.prototype.isClosed=function(){return/^clos|new/.test(this.db.status)},b.prototype.get=function(t,e,r){if(null==t)throw new f("get() requires a key argument");var n;return(r=c(e,r))||(n=(r=a()).promise),w(this,r)?n:(e=l(e),this.db.get(t,e,function(e,n){if(e)return e=/notfound/i.test(e)||e.notFound?new d("Key not found in database ["+t+"]",e):new f(e),r(e);r(null,n)}),n)},b.prototype.put=function(t,e,r,n){if(null==t)throw new h("put() requires a key argument");var i,o=this;return(n=c(r,n))||(i=(n=a()).promise),w(this,n)?i:(r=l(r),this.db.put(t,e,r,function(r){if(r)return n(new h(r));o.emit("put",t,e),n()}),i)},b.prototype.del=function(t,e,r){if(null==t)throw new h("del() requires a key argument");var n,i=this;return(r=c(e,r))||(n=(r=a()).promise),w(this,r)?n:(e=l(e),this.db.del(t,e,function(e){if(e)return r(new h(e));i.emit("del",t),r()}),n)},b.prototype.batch=function(t,e,r){if(!arguments.length)return new s(this);if(!Array.isArray(t))throw new h("batch() requires an array argument");var n,i=this;return(r=c(e,r))||(n=(r=a()).promise),w(this,r)?n:(e=l(e),this.db.batch(t,e,function(e){if(e)return r(new h(e));i.emit("batch",t),r()}),n)},b.prototype.iterator=function(t){return this.db.iterator(t)},b.prototype.readStream=b.prototype.createReadStream=function(t){return"number"!=typeof(t=n({keys:!0,values:!0},t)).limit&&(t.limit=-1),new o(this.db.iterator(t),t)},b.prototype.keyStream=b.prototype.createKeyStream=function(t){return this.createReadStream(n(t,{keys:!0,values:!1}))},b.prototype.valueStream=b.prototype.createValueStream=function(t){return this.createReadStream(n(t,{keys:!1,values:!0}))},b.prototype.toString=function(){return"LevelUP"},b.errors=u,module.exports=b.default=b;
},{"events":"FRpO","util":"nq70","xtend":"K5Tb","deferred-leveldown":"TSMM","level-iterator-stream":"stGZ","./batch":"ZcAF","level-errors":"hBjv","assert":"DlZn","./promisify":"R89u","./common":"g1yV","process":"pBGv"}],"DZfq":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer;function r(e){return void 0!==e&&""!==e}function t(e,r){return Object.hasOwnProperty.call(e,r)}function n(e,r){return Object.hasOwnProperty.call(e,r)&&r}exports.compare=function(r,t){if(e.isBuffer(r)){for(var n=Math.min(r.length,t.length),u=0;u<n;u++){var o=r[u]-t[u];if(o)return o}return r.length-t.length}return r<t?-1:r>t?1:0};var u=exports.lowerBoundKey=function(e){return n(e,"gt")||n(e,"gte")||n(e,"min")||(e.reverse?n(e,"end"):n(e,"start"))||void 0},o=exports.lowerBound=function(e,r){var t=u(e);return t?e[t]:r},s=exports.lowerBoundInclusive=function(e){return!t(e,"gt")},i=exports.upperBoundInclusive=function(e){return!t(e,"lt")},c=exports.lowerBoundExclusive=function(e){return!s(e)},l=exports.upperBoundExclusive=function(e){return!i(e)},p=exports.upperBoundKey=function(e){return n(e,"lt")||n(e,"lte")||n(e,"max")||(e.reverse?n(e,"start"):n(e,"end"))||void 0},f=exports.upperBound=function(e,r){var t=p(e);return t?e[t]:r};function a(e){return e}exports.start=function(e,r){return e.reverse?f(e,r):o(e,r)},exports.end=function(e,r){return e.reverse?o(e,r):f(e,r)},exports.startInclusive=function(e){return e.reverse?i(e):s(e)},exports.endInclusive=function(e){return e.reverse?s(e):i(e)},exports.toLtgt=function(e,r,n,u,o){r=r||{},n=n||a;var s=arguments.length>3,i=exports.lowerBoundKey(e),c=exports.upperBoundKey(e);return i?"gt"===i?r.gt=n(e.gt,!1):r.gte=n(e[i],!1):s&&(r.gte=n(u,!1)),c?"lt"===c?r.lt=n(e.lt,!0):r.lte=n(e[c],!0):s&&(r.lte=n(o,!0)),null!=e.reverse&&(r.reverse=!!e.reverse),t(r,"max")&&delete r.max,t(r,"min")&&delete r.min,t(r,"start")&&delete r.start,t(r,"end")&&delete r.end,r},exports.contains=function(e,t,n){n=n||exports.compare;var u=o(e);if(r(u)&&((s=n(t,u))<0||0===s&&c(e)))return!1;var s,i=f(e);if(r(i)&&((s=n(t,i))>0||0===s&&l(e)))return!1;return!0},exports.filter=function(e,r){return function(t){return exports.contains(e,t,r)}};
},{"buffer":"dskh"}],"EcDU":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer;exports.utf8=exports["utf-8"]={encode:function(e){return t(e)?e:String(e)},decode:n,buffer:!1,type:"utf8"},exports.json={encode:JSON.stringify,decode:JSON.parse,buffer:!1,type:"json"},exports.binary={encode:function(r){return t(r)?r:e.from(r)},decode:n,buffer:!0,type:"binary"},exports.none={encode:n,decode:n,buffer:!1,type:"id"},exports.id=exports.none;var r=["hex","ascii","base64","ucs2","ucs-2","utf16le","utf-16le"];function n(e){return e}function t(r){return null==r||e.isBuffer(r)}r.forEach(function(r){exports[r]={encode:function(n){return t(n)?n:e.from(n,r)},decode:function(e){return e.toString(r)},buffer:!0,type:r}});
},{"buffer":"dskh"}],"VCmq":[function(require,module,exports) {
var e=require("./lib/encodings");function n(t){if(!(this instanceof n))return new n(t);this.opts=t||{},this.encodings=e}module.exports=n,n.prototype._encoding=function(n){return"string"==typeof n&&(n=e[n]),n||(n=e.id),n},n.prototype._keyEncoding=function(e,n){return this._encoding(n&&n.keyEncoding||e&&e.keyEncoding||this.opts.keyEncoding)},n.prototype._valueEncoding=function(e,n){return this._encoding(n&&(n.valueEncoding||n.encoding)||e&&(e.valueEncoding||e.encoding)||this.opts.valueEncoding||this.opts.encoding)},n.prototype.encodeKey=function(e,n,t){return this._keyEncoding(n,t).encode(e)},n.prototype.encodeValue=function(e,n,t){return this._valueEncoding(n,t).encode(e)},n.prototype.decodeKey=function(e,n){return this._keyEncoding(n).decode(e)},n.prototype.decodeValue=function(e,n){return this._valueEncoding(n).decode(e)},n.prototype.encodeBatch=function(e,n){var t=this;return e.map(function(e){var o={type:e.type,key:t.encodeKey(e.key,n,e)};return t.keyAsBuffer(n,e)&&(o.keyEncoding="binary"),e.prefix&&(o.prefix=e.prefix),"value"in e&&(o.value=t.encodeValue(e.value,n,e),t.valueAsBuffer(n,e)&&(o.valueEncoding="binary")),o})};var t=["lt","gt","lte","gte","start","end"];n.prototype.encodeLtgt=function(e){var n=this,o={};return Object.keys(e).forEach(function(i){o[i]=t.indexOf(i)>-1?n.encodeKey(e[i],e):e[i]}),o},n.prototype.createStreamDecoder=function(e){var n=this;return e.keys&&e.values?function(t,o){return{key:n.decodeKey(t,e),value:n.decodeValue(o,e)}}:e.keys?function(t){return n.decodeKey(t,e)}:e.values?function(t,o){return n.decodeValue(o,e)}:function(){}},n.prototype.keyAsBuffer=function(e){return this._keyEncoding(e).buffer},n.prototype.valueAsBuffer=function(e){return this._valueEncoding(e).buffer};
},{"./lib/encodings":"EcDU"}],"Yj0v":[function(require,module,exports) {
var process = require("process");
var n=require("process");function e(e,r,t,c){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,l,u=arguments.length;switch(u){case 0:case 1:return n.nextTick(e);case 2:return n.nextTick(function(){e.call(null,r)});case 3:return n.nextTick(function(){e.call(null,r,t)});case 4:return n.nextTick(function(){e.call(null,r,t,c)});default:for(i=new Array(u-1),l=0;l<i.length;)i[l++]=arguments[l];return n.nextTick(function(){e.apply(null,i)})}}void 0===n||!n.version||0===n.version.indexOf("v0.")||0===n.version.indexOf("v1.")&&0!==n.version.indexOf("v1.8.")?module.exports={nextTick:e}:module.exports=n;
},{"process":"pBGv"}],"l6K0":[function(require,module,exports) {

var r=require("buffer"),e=r.Buffer;function n(r,e){for(var n in r)e[n]=r[n]}function o(r,n,o){return e(r,n,o)}e.from&&e.alloc&&e.allocUnsafe&&e.allocUnsafeSlow?module.exports=r:(n(r,exports),exports.Buffer=o),n(e,o),o.from=function(r,n,o){if("number"==typeof r)throw new TypeError("Argument must not be a number");return e(r,n,o)},o.alloc=function(r,n,o){if("number"!=typeof r)throw new TypeError("Argument must be a number");var f=e(r);return void 0!==n?"string"==typeof o?f.fill(n,o):f.fill(n):f.fill(0),f},o.allocUnsafe=function(r){if("number"!=typeof r)throw new TypeError("Argument must be a number");return e(r)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)};
},{"buffer":"dskh"}],"Q14w":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var r=require("buffer").Buffer;function t(r){return Array.isArray?Array.isArray(r):"[object Array]"===a(r)}function e(r){return"boolean"==typeof r}function n(r){return null===r}function o(r){return null==r}function i(r){return"number"==typeof r}function u(r){return"string"==typeof r}function s(r){return"symbol"==typeof r}function f(r){return void 0===r}function p(r){return"[object RegExp]"===a(r)}function c(r){return"object"==typeof r&&null!==r}function l(r){return"[object Date]"===a(r)}function y(r){return"[object Error]"===a(r)||r instanceof Error}function x(r){return"function"==typeof r}function b(r){return null===r||"boolean"==typeof r||"number"==typeof r||"string"==typeof r||"symbol"==typeof r||void 0===r}function a(r){return Object.prototype.toString.call(r)}exports.isArray=t,exports.isBoolean=e,exports.isNull=n,exports.isNullOrUndefined=o,exports.isNumber=i,exports.isString=u,exports.isSymbol=s,exports.isUndefined=f,exports.isRegExp=p,exports.isObject=c,exports.isDate=l,exports.isError=y,exports.isFunction=x,exports.isPrimitive=b,exports.isBuffer=r.isBuffer;
},{"buffer":"dskh"}],"Um5I":[function(require,module,exports) {

"use strict";function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var n=require("safe-buffer").Buffer,e=require("util");function i(t,n,e){t.copy(n,e)}module.exports=function(){function e(){t(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(t){var n={data:t,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},e.prototype.unshift=function(t){var n={data:t,next:this.head};0===this.length&&(this.tail=n),this.head=n,++this.length},e.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(t){if(0===this.length)return"";for(var n=this.head,e=""+n.data;n=n.next;)e+=t+n.data;return e},e.prototype.concat=function(t){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var e=n.allocUnsafe(t>>>0),h=this.head,a=0;h;)i(h.data,e,a),a+=h.data.length,h=h.next;return e},e}(),e&&e.inspect&&e.inspect.custom&&(module.exports.prototype[e.inspect.custom]=function(){var t=e.inspect({length:this.length});return this.constructor.name+" "+t});
},{"safe-buffer":"l6K0","util":"rDCW"}],"avqi":[function(require,module,exports) {
"use strict";var t=require("process-nextick-args");function e(e,a){var r=this,s=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return s||d?(a?a(e):!e||this._writableState&&this._writableState.errorEmitted||t.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!a&&e?(t.nextTick(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):a&&a(e)}),this)}function a(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(t,e){t.emit("error",e)}module.exports={destroy:e,undestroy:a};
},{"process-nextick-args":"Yj0v"}],"I0x5":[function(require,module,exports) {
var process = require("process");

var global = arguments[3];
var e=require("process"),t=arguments[3],n=require("process-nextick-args");function r(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){W(t,e)}}module.exports=g;var o,s=n.nextTick;g.WritableState=y;var f=require("core-util-is");f.inherits=require("inherits");var u={deprecate:require("util-deprecate")},a=require("./internal/streams/stream"),c=require("safe-buffer").Buffer,l=t.Uint8Array||function(){};function d(e){return c.from(e)}function h(e){return c.isBuffer(e)||e instanceof l}var b,p=require("./internal/streams/destroy");function w(){}function y(e,t){o=o||require("./_stream_duplex"),e=e||{};var n=t instanceof o;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,s=e.writableHighWaterMark,f=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n&&(s||0===s)?s:f,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===e.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){S(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function g(e){if(o=o||require("./_stream_duplex"),!(b.call(g,this)||this instanceof o))return new g(e);this._writableState=new y(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),a.call(this)}function k(e,t){var r=new Error("write after end");e.emit("error",r),n.nextTick(t,r)}function v(e,t,r,i){var o=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),n.nextTick(i,s),o=!1),o}function q(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,n)),t}function _(e,t,n,r,i,o){if(!n){var s=q(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var f=t.objectMode?1:r.length;t.length+=f;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var a=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},a?a.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,f,r,i,o);return u}function m(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function R(e,t,r,i,o){--t.pendingcb,r?(n.nextTick(o,i),n.nextTick(T,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(o(i),e._writableState.errorEmitted=!0,e.emit("error",i),T(e,t))}function x(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function S(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(x(n),t)R(e,n,r,t,i);else{var o=E(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||j(e,n),r?s(M,e,n,o,i):M(e,n,o,i)}}function M(e,t,n,r){n||B(e,t),t.pendingcb--,r(),T(e,t)}function B(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function j(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),s=t.corkedRequestsFree;s.entry=n;for(var f=0,u=!0;n;)o[f]=n,n.isBuf||(u=!1),n=n.next,f+=1;o.allBuffers=u,m(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var a=n.chunk,c=n.encoding,l=n.callback;if(m(e,t,!1,t.objectMode?1:a.length,a,c,l),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function E(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function C(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),T(e,t)})}function P(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,n.nextTick(C,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function T(e,t){var n=E(t);return n&&(P(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function F(e,t,r){t.ending=!0,T(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function W(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}f.inherits(g,a),y.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(y.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(b=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(e){return!!b.call(this,e)||this===g&&(e&&e._writableState instanceof y)}})):b=function(e){return e instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(e,t,n){var r=this._writableState,i=!1,o=!r.objectMode&&h(e);return o&&!c.isBuffer(e)&&(e=d(e)),"function"==typeof t&&(n=t,t=null),o?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=w),r.ended?k(this,n):(o||v(this,r,e,n))&&(r.pendingcb++,i=_(this,r,o,e,t,n)),i},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||j(this,e))},g.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||F(this,r,n)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),g.prototype.destroy=p.destroy,g.prototype._undestroy=p.undestroy,g.prototype._destroy=function(e,t){this.end(),t(e)};
},{"process-nextick-args":"Yj0v","core-util-is":"Q14w","inherits":"Bm0n","util-deprecate":"yM1o","./internal/streams/stream":"ediv","safe-buffer":"l6K0","./internal/streams/destroy":"avqi","./_stream_duplex":"wldW","process":"pBGv"}],"wldW":[function(require,module,exports) {
"use strict";var e=require("process-nextick-args"),t=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};module.exports=l;var r=require("core-util-is");r.inherits=require("inherits");var i=require("./_stream_readable"),a=require("./_stream_writable");r.inherits(l,i);for(var o=t(a.prototype),s=0;s<o.length;s++){var n=o[s];l.prototype[n]||(l.prototype[n]=a.prototype[n])}function l(e){if(!(this instanceof l))return new l(e);i.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||e.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),l.prototype._destroy=function(t,r){this.push(null),this.end(),e.nextTick(r,t)};
},{"process-nextick-args":"Yj0v","core-util-is":"Q14w","inherits":"Bm0n","./_stream_readable":"Ogwm","./_stream_writable":"I0x5"}],"F7WD":[function(require,module,exports) {

"use strict";var t=require("safe-buffer").Buffer,e=t.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function i(i){var a=s(i);if("string"!=typeof a&&(t.isEncoding===e||!e(i)))throw new Error("Unknown encoding: "+i);return a||i}function a(e){var s;switch(this.encoding=i(e),this.encoding){case"utf16le":this.text=c,this.end=f,s=4;break;case"utf8":this.fillLast=l,s=4;break;case"base64":this.text=d,this.end=g,s=3;break;default:return this.write=N,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(s)}function r(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function n(t,e,s){var i=e.length-1;if(i<s)return 0;var a=r(e[i]);return a>=0?(a>0&&(t.lastNeed=a-1),a):--i<s||-2===a?0:(a=r(e[i]))>=0?(a>0&&(t.lastNeed=a-2),a):--i<s||-2===a?0:(a=r(e[i]))>=0?(a>0&&(2===a?a=0:t.lastNeed=a-3),a):0}function h(t,e,s){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}function l(t){var e=this.lastTotal-this.lastNeed,s=h(this,t,e);return void 0!==s?s:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){var s=n(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=s;var i=t.length-(s-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function o(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e}function c(t,e){if((t.length-e)%2==0){var s=t.toString("utf16le",e);if(s){var i=s.charCodeAt(s.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],s.slice(0,-1)}return s}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function f(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var s=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,s)}return e}function d(t,e){var s=(t.length-e)%3;return 0===s?t.toString("base64",e):(this.lastNeed=3-s,this.lastTotal=3,1===s?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-s))}function g(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function N(t){return t.toString(this.encoding)}function v(t){return t&&t.length?this.write(t):""}exports.StringDecoder=a,a.prototype.write=function(t){if(0===t.length)return"";var e,s;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";s=this.lastNeed,this.lastNeed=0}else s=0;return s<t.length?e?e+this.text(t,s):this.text(t,s):e||""},a.prototype.end=o,a.prototype.text=u,a.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};
},{"safe-buffer":"l6K0"}],"Ogwm":[function(require,module,exports) {

var global = arguments[3];
var process = require("process");
var e=arguments[3],t=require("process"),n=require("process-nextick-args");module.exports=_;var r,i=require("isarray");_.ReadableState=w;var a=require("events").EventEmitter,d=function(e,t){return e.listeners(t).length},o=require("./internal/streams/stream"),s=require("safe-buffer").Buffer,u=e.Uint8Array||function(){};function l(e){return s.from(e)}function h(e){return s.isBuffer(e)||e instanceof u}var p=require("core-util-is");p.inherits=require("inherits");var f=require("util"),c=void 0;c=f&&f.debuglog?f.debuglog("stream"):function(){};var g,b=require("./internal/streams/BufferList"),m=require("./internal/streams/destroy");p.inherits(_,o);var v=["error","close","destroy","pause","resume"];function y(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?i(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function w(e,t){e=e||{};var n=t instanceof(r=r||require("./_stream_duplex"));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,d=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(a||0===a)?a:d,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(g||(g=require("string_decoder/").StringDecoder),this.decoder=new g(e.encoding),this.encoding=e.encoding)}function _(e){if(r=r||require("./_stream_duplex"),!(this instanceof _))return new _(e);this._readableState=new w(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function M(e,t,n,r,i){var a,d=e._readableState;null===t?(d.reading=!1,x(e,d)):(i||(a=k(d,t)),a?e.emit("error",a):d.objectMode||t&&t.length>0?("string"==typeof t||d.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=l(t)),r?d.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):S(e,d,t,!0):d.ended?e.emit("error",new Error("stream.push() after EOF")):(d.reading=!1,d.decoder&&!n?(t=d.decoder.write(t),d.objectMode||0!==t.length?S(e,d,t,!1):C(e,d)):S(e,d,t,!1))):r||(d.reading=!1));return j(d)}function S(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&q(e)),C(e,t)}function k(e,t){var n;return h(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function j(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}Object.defineProperty(_.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),_.prototype.destroy=m.destroy,_.prototype._undestroy=m.undestroy,_.prototype._destroy=function(e,t){this.push(null),t(e)},_.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=s.from(e,t),t=""),n=!0),M(this,e,t,!1,n)},_.prototype.unshift=function(e){return M(this,e,null,!0,!1)},_.prototype.isPaused=function(){return!1===this._readableState.flowing},_.prototype.setEncoding=function(e){return g||(g=require("string_decoder/").StringDecoder),this._readableState.decoder=new g(e),this._readableState.encoding=e,this};var R=8388608;function E(e){return e>=R?e=R:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function L(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=E(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function x(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,q(e)}}function q(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?n.nextTick(W,e):W(e))}function W(e){c("emit readable"),e.emit("readable"),B(e)}function C(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(D,e,t))}function D(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(c("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function O(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&d(e,"data")&&(t.flowing=!0,B(e))}}function T(e){c("readable nexttick read 0"),e.read(0)}function U(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(P,e,t))}function P(e,t){t.reading||(c("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),B(e),t.flowing&&!t.reading&&e.read(0)}function B(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function H(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=I(e,t.buffer,t.decoder),n);var n}function I(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?A(e,t):F(e,t),r}function A(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var a=n.data,d=e>a.length?a.length:e;if(d===a.length?i+=a:i+=a.slice(0,e),0===(e-=d)){d===a.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=a.slice(d));break}++r}return t.length-=r,i}function F(e,t){var n=s.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var a=r.data,d=e>a.length?a.length:e;if(a.copy(n,n.length-e,0,d),0===(e-=d)){d===a.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=a.slice(d));break}++i}return t.length-=i,n}function z(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,n.nextTick(G,t,e))}function G(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function J(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}_.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?z(this):q(this),null;if(0===(e=L(e,t))&&t.ended)return 0===t.length&&z(this),null;var r,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=L(n,t))),null===(r=e>0?H(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&z(this)),null!==r&&this.emit("data",r),r},_.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},_.prototype.pipe=function(e,r){var i=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,c("pipe count=%d opts=%j",a.pipesCount,r);var o=(!r||!1!==r.end)&&e!==t.stdout&&e!==t.stderr?u:v;function s(t,n){c("onunpipe"),t===i&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,c("cleanup"),e.removeListener("close",b),e.removeListener("finish",m),e.removeListener("drain",l),e.removeListener("error",g),e.removeListener("unpipe",s),i.removeListener("end",u),i.removeListener("end",v),i.removeListener("data",f),h=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function u(){c("onend"),e.end()}a.endEmitted?n.nextTick(o):i.once("end",o),e.on("unpipe",s);var l=O(i);e.on("drain",l);var h=!1;var p=!1;function f(t){c("ondata"),p=!1,!1!==e.write(t)||p||((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==J(a.pipes,e))&&!h&&(c("false write response, pause",i._readableState.awaitDrain),i._readableState.awaitDrain++,p=!0),i.pause())}function g(t){c("onerror",t),v(),e.removeListener("error",g),0===d(e,"error")&&e.emit("error",t)}function b(){e.removeListener("finish",m),v()}function m(){c("onfinish"),e.removeListener("close",b),v()}function v(){c("unpipe"),i.unpipe(e)}return i.on("data",f),y(e,"error",g),e.once("close",b),e.once("finish",m),e.emit("pipe",i),a.flowing||(c("pipe resume"),i.resume()),e},_.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)r[a].emit("unpipe",this,n);return this}var d=J(t.pipes,e);return-1===d?this:(t.pipes.splice(d,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},_.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&q(this):n.nextTick(T,this))}return r},_.prototype.addListener=_.prototype.on,_.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!0,U(this,e)),this},_.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this},_.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(c("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(c("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<v.length;a++)e.on(v[a],this.emit.bind(this,v[a]));return this._read=function(t){c("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),_._fromList=H;
},{"process-nextick-args":"Yj0v","isarray":"seLU","events":"FRpO","./internal/streams/stream":"ediv","safe-buffer":"l6K0","core-util-is":"Q14w","inherits":"Bm0n","util":"rDCW","./internal/streams/BufferList":"Um5I","./internal/streams/destroy":"avqi","./_stream_duplex":"wldW","string_decoder/":"F7WD","process":"pBGv"}],"I3bg":[function(require,module,exports) {
"use strict";module.exports=n;var t=require("./_stream_duplex"),r=require("core-util-is");function e(t,r){var e=this._transformState;e.transforming=!1;var n=e.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));e.writechunk=null,e.writecb=null,null!=r&&this.push(r),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function n(r){if(!(this instanceof n))return new n(r);t.call(this,r),this._transformState={afterTransform:e.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,r&&("function"==typeof r.transform&&(this._transform=r.transform),"function"==typeof r.flush&&(this._flush=r.flush)),this.on("prefinish",i)}function i(){var t=this;"function"==typeof this._flush?this._flush(function(r,e){a(t,r,e)}):a(this,null,null)}function a(t,r,e){if(r)return t.emit("error",r);if(null!=e&&t.push(e),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}r.inherits=require("inherits"),r.inherits(n,t),n.prototype.push=function(r,e){return this._transformState.needTransform=!1,t.prototype.push.call(this,r,e)},n.prototype._transform=function(t,r,e){throw new Error("_transform() is not implemented")},n.prototype._write=function(t,r,e){var n=this._transformState;if(n.writecb=e,n.writechunk=t,n.writeencoding=r,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},n.prototype._read=function(t){var r=this._transformState;null!==r.writechunk&&r.writecb&&!r.transforming?(r.transforming=!0,this._transform(r.writechunk,r.writeencoding,r.afterTransform)):r.needTransform=!0},n.prototype._destroy=function(r,e){var n=this;t.prototype._destroy.call(this,r,function(t){e(t),n.emit("close")})};
},{"./_stream_duplex":"wldW","core-util-is":"Q14w","inherits":"Bm0n"}],"kQBK":[function(require,module,exports) {
"use strict";module.exports=i;var r=require("./_stream_transform"),e=require("core-util-is");function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}e.inherits=require("inherits"),e.inherits(i,r),i.prototype._transform=function(r,e,i){i(null,r)};
},{"./_stream_transform":"I3bg","core-util-is":"Q14w","inherits":"Bm0n"}],"uwsL":[function(require,module,exports) {
exports=module.exports=require("./lib/_stream_readable.js"),exports.Stream=exports,exports.Readable=exports,exports.Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js");
},{"./lib/_stream_readable.js":"Ogwm","./lib/_stream_writable.js":"I0x5","./lib/_stream_duplex.js":"wldW","./lib/_stream_transform.js":"I3bg","./lib/_stream_passthrough.js":"kQBK"}],"GAH2":[function(require,module,exports) {
module.exports=require("./lib/_stream_writable.js");
},{"./lib/_stream_writable.js":"I0x5"}],"dMbb":[function(require,module,exports) {
module.exports=require("./lib/_stream_duplex.js");
},{"./lib/_stream_duplex.js":"wldW"}],"yG3q":[function(require,module,exports) {
module.exports=require("./readable").Transform;
},{"./readable":"uwsL"}],"jlpe":[function(require,module,exports) {
module.exports=require("./readable").PassThrough;
},{"./readable":"uwsL"}],"fnRj":[function(require,module,exports) {
module.exports=n;var e=require("events").EventEmitter,r=require("inherits");function n(){e.call(this)}r(n,e),n.Readable=require("readable-stream/readable.js"),n.Writable=require("readable-stream/writable.js"),n.Duplex=require("readable-stream/duplex.js"),n.Transform=require("readable-stream/transform.js"),n.PassThrough=require("readable-stream/passthrough.js"),n.Stream=n,n.prototype.pipe=function(r,n){var o=this;function t(e){r.writable&&!1===r.write(e)&&o.pause&&o.pause()}function s(){o.readable&&o.resume&&o.resume()}o.on("data",t),r.on("drain",s),r._isStdio||n&&!1===n.end||(o.on("end",a),o.on("close",u));var i=!1;function a(){i||(i=!0,r.end())}function u(){i||(i=!0,"function"==typeof r.destroy&&r.destroy())}function d(r){if(l(),0===e.listenerCount(this,"error"))throw r}function l(){o.removeListener("data",t),r.removeListener("drain",s),o.removeListener("end",a),o.removeListener("close",u),o.removeListener("error",d),r.removeListener("error",d),o.removeListener("end",l),o.removeListener("close",l),r.removeListener("close",l)}return o.on("error",d),r.on("error",d),o.on("end",l),o.on("close",l),r.on("close",l),r.emit("pipe",o),r};
},{"events":"FRpO","inherits":"Bm0n","readable-stream/readable.js":"uwsL","readable-stream/writable.js":"GAH2","readable-stream/duplex.js":"dMbb","readable-stream/transform.js":"yG3q","readable-stream/passthrough.js":"jlpe"}],"REa7":[function(require,module,exports) {
module.exports=Array.isArray||function(r){return"[object Array]"==Object.prototype.toString.call(r)};
},{}],"lAQt":[function(require,module,exports) {

var e=require("buffer").Buffer,t=e.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function h(e){if(e&&!t(e))throw new Error("Unknown encoding: "+e)}var r=exports.StringDecoder=function(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),h(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=c;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=a;break;default:return void(this.write=i)}this.charBuffer=new e(6),this.charReceived=0,this.charLength=0};function i(e){return e.toString(this.encoding)}function c(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function a(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}r.prototype.write=function(e){for(var t="";this.charLength;){var h=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,h),this.charReceived+=h,this.charReceived<this.charLength)return"";if(e=e.slice(h,e.length),!((i=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1))>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var r=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,r),r-=this.charReceived);var i;r=(t+=e.toString(this.encoding,0,r)).length-1;if((i=t.charCodeAt(r))>=55296&&i<=56319){var c=this.surrogateSize;return this.charLength+=c,this.charReceived+=c,this.charBuffer.copy(this.charBuffer,c,0,c),e.copy(this.charBuffer,0,0,c),t.substring(0,r)}return t},r.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var h=e[e.length-t];if(1==t&&h>>5==6){this.charLength=2;break}if(t<=2&&h>>4==14){this.charLength=3;break}if(t<=3&&h>>3==30){this.charLength=4;break}}this.charReceived=t},r.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var h=this.charReceived,r=this.charBuffer,i=this.encoding;t+=r.slice(0,h).toString(i)}return t};
},{"buffer":"dskh"}],"pEYd":[function(require,module,exports) {

var process = require("process");
var e=require("process");module.exports=s;var t=require("isarray"),n=require("buffer").Buffer;s.ReadableState=d;var r=require("events").EventEmitter;r.listenerCount||(r.listenerCount=function(e,t){return e.listeners(t).length});var i,a=require("stream"),o=require("core-util-is");function d(e,t){var n=(e=e||{}).highWaterMark;this.highWaterMark=n||0===n?n:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=!1,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.calledRead=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(i||(i=require("string_decoder/").StringDecoder),this.decoder=new i(e.encoding),this.encoding=e.encoding)}function s(e){if(!(this instanceof s))return new s(e);this._readableState=new d(e,this),this.readable=!0,a.call(this)}function l(e,t,n,r,i){var a=c(t,n);if(a)e.emit("error",a);else if(null==n)t.reading=!1,t.ended||g(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!i){var o=new Error("stream.push() after EOF");e.emit("error",o)}else if(t.endEmitted&&i){o=new Error("stream.unshift() after end event");e.emit("error",o)}else!t.decoder||i||r||(n=t.decoder.write(n)),t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):(t.reading=!1,t.buffer.push(n)),t.needReadable&&b(e),v(e,t);else i||(t.reading=!1);return u(t)}function u(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}o.inherits=require("inherits"),o.inherits(s,a),s.prototype.push=function(e,t){var r=this._readableState;return"string"!=typeof e||r.objectMode||(t=t||r.defaultEncoding)!==r.encoding&&(e=new n(e,t),t=""),l(this,r,e,t,!1)},s.prototype.unshift=function(e){return l(this,this._readableState,e,"",!0)},s.prototype.setEncoding=function(e){i||(i=require("string_decoder/").StringDecoder),this._readableState.decoder=new i(e),this._readableState.encoding=e};var h=8388608;function f(e){if(e>=h)e=h;else{e--;for(var t=1;t<32;t<<=1)e|=e>>t;e++}return e}function p(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:null===e||isNaN(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:e<=0?0:(e>t.highWaterMark&&(t.highWaterMark=f(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function c(e,t){var r=null;return n.isBuffer(t)||"string"==typeof t||null==t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}function g(e,t){if(t.decoder&&!t.ended){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.length>0?b(e):k(e)}function b(t){var n=t._readableState;n.needReadable=!1,n.emittedReadable||(n.emittedReadable=!0,n.sync?e.nextTick(function(){m(t)}):m(t))}function m(e){e.emit("readable")}function v(t,n){n.readingMore||(n.readingMore=!0,e.nextTick(function(){w(t,n)}))}function w(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function _(e){return function(){var t=e._readableState;t.awaitDrain--,0===t.awaitDrain&&y(e)}}function y(e){var t,n=e._readableState;function i(e,r,i){!1===e.write(t)&&n.awaitDrain++}for(n.awaitDrain=0;n.pipesCount&&null!==(t=e.read());)if(1===n.pipesCount?i(n.pipes):E(n.pipes,i),e.emit("data",t),n.awaitDrain>0)return;if(0===n.pipesCount)return n.flowing=!1,void(r.listenerCount(e,"data")>0&&S(e));n.ranOut=!0}function M(){this._readableState.ranOut&&(this._readableState.ranOut=!1,y(this))}function S(t,n){if(t._readableState.flowing)throw new Error("Cannot switch to old mode now.");var r=n||!1,i=!1;t.readable=!0,t.pipe=a.prototype.pipe,t.on=t.addListener=a.prototype.on,t.on("readable",function(){var e;for(i=!0;!r&&null!==(e=t.read());)t.emit("data",e);null===e&&(i=!1,t._readableState.needReadable=!0)}),t.pause=function(){r=!0,this.emit("pause")},t.resume=function(){r=!1,i?e.nextTick(function(){t.emit("readable")}):this.read(0),this.emit("resume")},t.emit("readable")}function R(e,t){var r,i=t.buffer,a=t.length,o=!!t.decoder,d=!!t.objectMode;if(0===i.length)return null;if(0===a)r=null;else if(d)r=i.shift();else if(!e||e>=a)r=o?i.join(""):n.concat(i,a),i.length=0;else{if(e<i[0].length)r=(h=i[0]).slice(0,e),i[0]=h.slice(e);else if(e===i[0].length)r=i.shift();else{r=o?"":new n(e);for(var s=0,l=0,u=i.length;l<u&&s<e;l++){var h=i[0],f=Math.min(e-s,h.length);o?r+=h.slice(0,f):h.copy(r,s,0,f),f<h.length?i[0]=h.slice(f):i.shift(),s+=f}}}return r}function k(t){var n=t._readableState;if(n.length>0)throw new Error("endReadable called on non-empty stream");!n.endEmitted&&n.calledRead&&(n.ended=!0,e.nextTick(function(){n.endEmitted||0!==n.length||(n.endEmitted=!0,t.readable=!1,t.emit("end"))}))}function E(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}function C(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}s.prototype.read=function(e){var t=this._readableState;t.calledRead=!0;var n,r=e;if(("number"!=typeof e||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return b(this),null;if(0===(e=p(e,t))&&t.ended)return n=null,t.length>0&&t.decoder&&(n=R(e,t),t.length-=n.length),0===t.length&&k(this),n;var i=t.needReadable;return t.length-e<=t.highWaterMark&&(i=!0),(t.ended||t.reading)&&(i=!1),i&&(t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),i&&!t.reading&&(e=p(r,t)),null===(n=e>0?R(e,t):null)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),t.ended&&!t.endEmitted&&0===t.length&&k(this),n},s.prototype._read=function(e){this.emit("error",new Error("not implemented"))},s.prototype.pipe=function(n,i){var a=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=n;break;case 1:o.pipes=[o.pipes,n];break;default:o.pipes.push(n)}o.pipesCount+=1;var d=(!i||!1!==i.end)&&n!==e.stdout&&n!==e.stderr?l:h;function s(e){e===a&&h()}function l(){n.end()}o.endEmitted?e.nextTick(d):a.once("end",d),n.on("unpipe",s);var u=_(a);function h(){n.removeListener("close",p),n.removeListener("finish",c),n.removeListener("drain",u),n.removeListener("error",f),n.removeListener("unpipe",s),a.removeListener("end",l),a.removeListener("end",h),n._writableState&&!n._writableState.needDrain||u()}function f(e){g(),n.removeListener("error",f),0===r.listenerCount(n,"error")&&n.emit("error",e)}function p(){n.removeListener("finish",c),g()}function c(){n.removeListener("close",p),g()}function g(){a.unpipe(n)}return n.on("drain",u),n._events&&n._events.error?t(n._events.error)?n._events.error.unshift(f):n._events.error=[f,n._events.error]:n.on("error",f),n.once("close",p),n.once("finish",c),n.emit("pipe",a),o.flowing||(this.on("readable",M),o.flowing=!0,e.nextTick(function(){y(a)})),n},s.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,this.removeListener("readable",M),t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,this.removeListener("readable",M),t.flowing=!1;for(var i=0;i<r;i++)n[i].emit("unpipe",this);return this}return-1===(i=C(t.pipes,e))?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},s.prototype.on=function(e,t){var n=a.prototype.on.call(this,e,t);if("data"!==e||this._readableState.flowing||S(this),"readable"===e&&this.readable){var r=this._readableState;r.readableListening||(r.readableListening=!0,r.emittedReadable=!1,r.needReadable=!0,r.reading?r.length&&b(this,r):this.read(0))}return n},s.prototype.addListener=s.prototype.on,s.prototype.resume=function(){S(this),this.read(0),this.emit("resume")},s.prototype.pause=function(){S(this,!0),this.emit("pause")},s.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;for(var i in e.on("end",function(){if(t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(i){(t.decoder&&(i=t.decoder.write(i)),t.objectMode&&null==i)||(t.objectMode||i&&i.length)&&(r.push(i)||(n=!0,e.pause()))}),e)"function"==typeof e[i]&&void 0===this[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));return E(["error","close","destroy","pause","resume"],function(t){e.on(t,r.emit.bind(r,t))}),r._read=function(t){n&&(n=!1,e.resume())},r},s._fromList=R;
},{"isarray":"REa7","buffer":"dskh","events":"FRpO","stream":"fnRj","core-util-is":"Q14w","inherits":"pyp0","string_decoder/":"lAQt","process":"pBGv"}],"W04h":[function(require,module,exports) {
var process = require("process");
var e=require("process");module.exports=n;var t=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t},r=require("core-util-is");r.inherits=require("inherits");var i=require("./_stream_readable"),a=require("./_stream_writable");function n(e){if(!(this instanceof n))return new n(e);i.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",l)}function l(){this.allowHalfOpen||this._writableState.ended||e.nextTick(this.end.bind(this))}function o(e,t){for(var r=0,i=e.length;r<i;r++)t(e[r],r)}r.inherits(n,i),o(t(a.prototype),function(e){n.prototype[e]||(n.prototype[e]=a.prototype[e])});
},{"core-util-is":"Q14w","inherits":"pyp0","./_stream_readable":"pEYd","./_stream_writable":"DIBq","process":"pBGv"}],"DIBq":[function(require,module,exports) {

var process = require("process");
var e=require("process");module.exports=o;var t=require("buffer").Buffer;o.WritableState=f;var i=require("core-util-is");i.inherits=require("inherits");var n=require("stream");function r(e,t,i){this.chunk=e,this.encoding=t,this.callback=i}function f(e,t){var i=(e=e||{}).highWaterMark;this.highWaterMark=i||0===i?i:16384,this.objectMode=!!e.objectMode,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var n=!1===e.decodeStrings;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){g(t,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.errorEmitted=!1}function o(e){var t=require("./_stream_duplex");if(!(this instanceof o||this instanceof t))return new o(e);this._writableState=new f(e,this),this.writable=!0,n.call(this)}function u(t,i,n){var r=new Error("write after end");t.emit("error",r),e.nextTick(function(){n(r)})}function s(i,n,r,f){var o=!0;if(!t.isBuffer(r)&&"string"!=typeof r&&null!=r&&!n.objectMode){var u=new TypeError("Invalid non-string/buffer chunk");i.emit("error",u),e.nextTick(function(){f(u)}),o=!1}return o}function c(e,i,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof i||(i=new t(i,n)),i}function h(e,i,n,f,o){n=c(i,n,f),t.isBuffer(n)&&(f="buffer");var u=i.objectMode?1:n.length;i.length+=u;var s=i.length<i.highWaterMark;return s||(i.needDrain=!0),i.writing?i.buffer.push(new r(n,f,o)):a(e,i,u,n,f,o),s}function a(e,t,i,n,r,f){t.writelen=i,t.writecb=f,t.writing=!0,t.sync=!0,e._write(n,r,t.onwrite),t.sync=!1}function l(t,i,n,r,f){n?e.nextTick(function(){f(r)}):f(r),t._writableState.errorEmitted=!0,t.emit("error",r)}function d(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function g(t,i){var n=t._writableState,r=n.sync,f=n.writecb;if(d(n),i)l(t,n,r,i,f);else{var o=v(t,n);o||n.bufferProcessing||!n.buffer.length||p(t,n),r?e.nextTick(function(){b(t,n,o,f)}):b(t,n,o,f)}}function b(e,t,i,n){i||w(e,t),n(),i&&k(e,t)}function w(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function p(e,t){t.bufferProcessing=!0;for(var i=0;i<t.buffer.length;i++){var n=t.buffer[i],r=n.chunk,f=n.encoding,o=n.callback;if(a(e,t,t.objectMode?1:r.length,r,f,o),t.writing){i++;break}}t.bufferProcessing=!1,i<t.buffer.length?t.buffer=t.buffer.slice(i):t.buffer.length=0}function v(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function k(e,t){var i=v(e,t);return i&&(t.finished=!0,e.emit("finish")),i}function y(t,i,n){i.ending=!0,k(t,i),n&&(i.finished?e.nextTick(n):t.once("finish",n)),i.ended=!0}i.inherits(o,n),o.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},o.prototype.write=function(e,i,n){var r=this._writableState,f=!1;return"function"==typeof i&&(n=i,i=null),t.isBuffer(e)?i="buffer":i||(i=r.defaultEncoding),"function"!=typeof n&&(n=function(){}),r.ended?u(this,r,n):s(this,r,e,n)&&(f=h(this,r,e,i,n)),f},o.prototype._write=function(e,t,i){i(new Error("not implemented"))},o.prototype.end=function(e,t,i){var n=this._writableState;"function"==typeof e?(i=e,e=null,t=null):"function"==typeof t&&(i=t,t=null),null!=e&&this.write(e,t),n.ending||n.finished||y(this,n,i)};
},{"buffer":"dskh","core-util-is":"Q14w","inherits":"pyp0","stream":"fnRj","./_stream_duplex":"W04h","process":"pBGv"}],"hLet":[function(require,module,exports) {
module.exports=i;var r=require("./_stream_duplex"),t=require("core-util-is");function e(r,t){this.afterTransform=function(r,e){return n(t,r,e)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function n(r,t,e){var n=r._transformState;n.transforming=!1;var i=n.writecb;if(!i)return r.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!=e&&r.push(e),i&&i(t);var a=r._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&r._read(a.highWaterMark)}function i(t){if(!(this instanceof i))return new i(t);r.call(this,t);this._transformState=new e(t,this);var n=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("finish",function(){"function"==typeof this._flush?this._flush(function(r){a(n,r)}):a(n)})}function a(r,t){if(t)return r.emit("error",t);var e=r._writableState,n=(r._readableState,r._transformState);if(e.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return r.push(null)}t.inherits=require("inherits"),t.inherits(i,r),i.prototype.push=function(t,e){return this._transformState.needTransform=!1,r.prototype.push.call(this,t,e)},i.prototype._transform=function(r,t,e){throw new Error("not implemented")},i.prototype._write=function(r,t,e){var n=this._transformState;if(n.writecb=e,n.writechunk=r,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},i.prototype._read=function(r){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};
},{"./_stream_duplex":"W04h","core-util-is":"Q14w","inherits":"pyp0"}],"i1Vg":[function(require,module,exports) {
module.exports=i;var r=require("./_stream_transform"),e=require("core-util-is");function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}e.inherits=require("inherits"),e.inherits(i,r),i.prototype._transform=function(r,e,i){i(null,r)};
},{"./_stream_transform":"hLet","core-util-is":"Q14w","inherits":"pyp0"}],"Wst6":[function(require,module,exports) {
var r=require("stream");exports=module.exports=require("./lib/_stream_readable.js"),exports.Stream=r,exports.Readable=exports,exports.Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js");
},{"stream":"fnRj","./lib/_stream_readable.js":"pEYd","./lib/_stream_writable.js":"DIBq","./lib/_stream_duplex.js":"W04h","./lib/_stream_transform.js":"hLet","./lib/_stream_passthrough.js":"i1Vg"}],"JqXM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("ltgt")),t=o(require("events")),n=o(require("level-codec")),r=o(require("readable-stream")),i=o(require("inherits"));function o(e){return e&&e.__esModule?e:{default:e}}function u(e){return"function"==typeof e}function f(e){return u(e.prefix)?e.prefix():e}function a(e){var t={};for(var n in e)t[n]=e[n];return t}function c(t,n,r){function i(e,t,i,o){return n.encode([e,r.encodeKey(t,i,o)])}function o(e,t){return t&&t.options&&(e.keyEncoding=e.keyEncoding||t.options.keyEncoding,e.valueEncoding=e.valueEncoding||t.options.valueEncoding),e}return t.open(function(){}),{apply:function(e,n,u){n=n||{};for(var a=[],c=-1,s=e.length;++c<s;){var d=e[c];o(d,d.prefix),d.prefix=f(d.prefix),a.push({key:i(d.prefix,d.key,n,d),value:"del"!==d.type&&r.encodeValue(d.value,n,d),type:d.type})}t.db.batch(a,n,u)},get:function(e,n,o,u){return o.asBuffer=r.valueAsBuffer(o),t.db.get(i(n,e,o),o,function(e,t){e?u(e):u(null,r.decodeValue(t,o))})},createDecoder:function(e){return function(t,i){return{key:r.decodeKey(n.decode(t)[1],e),value:r.decodeValue(i,e)}}},isClosed:function(){return t.isClosed()},close:function(e){return t.close(e)},iterator:function(o){var u,f=a(o||{}),c=o.prefix||[];return e.default.toLtgt(o,f,function(e){return i(c,e,f,{})},n.lowerBound,n.upperBound),f.prefix=null,f.keyAsBuffer=f.valueAsBuffer=!1,"number"!=typeof f.limit&&(f.limit=-1),f.keyAsBuffer=n.buffer,f.valueAsBuffer=r.valueAsBuffer(f),u=t.db.iterator(f),{next:function(e){return u.next(e)},end:function(e){u.end(e)}}}}}function s(){Error.call(this)}(0,i.default)(s,Error),s.prototype.name="NotFoundError";var d=t.default.EventEmitter,l="6.5.4",p=new s,v=function(e,t,n,r){var i=new d;function o(e){var t,n={};if(r)for(t in r)void 0!==r[t]&&(n[t]=r[t]);if(e)for(t in e)void 0!==e[t]&&(n[t]=e[t]);return n}return i.sublevels={},i.options=r,i.version=l,i.methods={},t=t||[],i.put=function(n,r,u,f){"function"==typeof u&&(f=u,u={}),e.apply([{key:n,value:r,prefix:t.slice(),type:"put"}],o(u),function(e){if(e)return f(e);i.emit("put",n,r),f(null)})},i.prefix=function(){return t.slice()},i.batch=function(n,r,u){"function"==typeof r&&(u=r,r={}),n=n.map(function(e){return{key:e.key,value:e.value,prefix:e.prefix||t,keyEncoding:e.keyEncoding,valueEncoding:e.valueEncoding,type:e.type}}),e.apply(n,o(r),function(e){if(e)return u(e);i.emit("batch",n),u(null)})},i.get=function(n,r,i){"function"==typeof r&&(i=r,r={}),e.get(n,t,o(r),function(e,t){e?i(p):i(null,t)})},i.sublevel=function(r,u){return i.sublevels[r]=i.sublevels[r]||v(e,t.concat(r),n,o(u))},i.readStream=i.createReadStream=function(r){var i;(r=o(r)).prefix=t;var u=e.iterator(r);return(i=n(r,e.createDecoder(r))).setIterator(u),i},i.close=function(t){e.close(t)},i.isOpen=e.isOpen,i.isClosed=e.isClosed,i},y=r.default.Readable;function h(e,t){if(!(this instanceof h))return new h(e,t);y.call(this,{objectMode:!0,highWaterMark:e.highWaterMark}),this._waiting=!1,this._options=e,this._makeData=t}(0,i.default)(h,y),h.prototype.setIterator=function(e){return this._iterator=e,this._destroyed?e.end(function(){}):this._waiting?(this._waiting=!1,this._read()):this},h.prototype._read=function(){var e=this;if(!e._destroyed)return e._iterator?void e._iterator.next(function(t,n,r){if(t||void 0===n&&void 0===r)return t||e._destroyed||e.push(null),e._cleanup(t);r=e._makeData(n,r),e._destroyed||e.push(r)}):this._waiting=!0},h.prototype._cleanup=function(e){if(!this._destroyed){this._destroyed=!0;var t=this;e&&"iterator has ended"!==e.message&&t.emit("error",e),t._iterator?t._iterator.end(function(){t._iterator=null,t.emit("close")}):t.emit("close")}},h.prototype.destroy=function(){this._cleanup()};var _={encode:function(e){return"ÿ"+e[0]+"ÿ"+e[1]},decode:function(e){var t=e.toString(),n=t.indexOf("ÿ",1);return[t.substring(1,n),t.substring(n+1)]},lowerBound:"\0",upperBound:"ÿ"},g=new n.default;function x(e){return v(c(e,_,g),[],h,e.options)}var b=x;exports.default=b;
},{"ltgt":"DZfq","events":"FRpO","level-codec":"VCmq","readable-stream":"Wst6","inherits":"pyp0"}],"VKm4":[function(require,module,exports) {
"use strict";var r=require("../../../errors").codes.ERR_INVALID_OPT_VALUE;function e(r,e,t){return null!=r.highWaterMark?r.highWaterMark:e?r[t]:null}function t(t,i,o,a){var n=e(i,a,o);if(null!=n){if(!isFinite(n)||Math.floor(n)!==n||n<0)throw new r(a?o:"highWaterMark",n);return Math.floor(n)}return t.objectMode?16:16384}module.exports={getHighWaterMark:t};
},{"../../../errors":"Jjz1"}],"GwUk":[function(require,module,exports) {

var global = arguments[3];
var process = require("process");
var e,t=arguments[3],n=require("process");function r(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){H(t,e)}}module.exports=v,v.WritableState=m;var o={deprecate:require("util-deprecate")},s=require("./internal/streams/stream"),f=require("buffer").Buffer,u=t.Uint8Array||function(){};function a(e){return f.from(e)}function c(e){return f.isBuffer(e)||e instanceof u}var l,d=require("./internal/streams/destroy"),h=require("./internal/streams/state"),b=h.getHighWaterMark,p=require("../errors").codes,w=p.ERR_INVALID_ARG_TYPE,y=p.ERR_METHOD_NOT_IMPLEMENTED,g=p.ERR_MULTIPLE_CALLBACK,_=p.ERR_STREAM_CANNOT_PIPE,R=p.ERR_STREAM_DESTROYED,k=p.ERR_STREAM_NULL_VALUES,q=p.ERR_STREAM_WRITE_AFTER_END,E=p.ERR_UNKNOWN_ENCODING;function S(){}function m(t,n,r){e=e||require("./_stream_duplex"),t=t||{},"boolean"!=typeof r&&(r=n instanceof e),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=b(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===t.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){O(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function v(t){var n=this instanceof(e=e||require("./_stream_duplex"));if(!n&&!l.call(v,this))return new v(t);this._writableState=new m(t,this,n),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),s.call(this)}function x(e,t){var r=new q;e.emit("error",r),n.nextTick(t,r)}function M(e,t,r,i){var o;return null===r?o=new k:"string"==typeof r||t.objectMode||(o=new w("chunk",["string","Buffer"],r)),!o||(e.emit("error",o),n.nextTick(i,o),!1)}function B(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=f.from(t,n)),t}function T(e,t,n,r,i,o){if(!n){var s=B(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var f=t.objectMode?1:r.length;t.length+=f;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var a=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},a?a.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else P(e,t,!1,f,r,i,o);return u}function P(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new R("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function j(e,t,r,i,o){--t.pendingcb,r?(n.nextTick(o,i),n.nextTick(F,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(o(i),e._writableState.errorEmitted=!0,e.emit("error",i),F(e,t))}function C(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function O(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if("function"!=typeof o)throw new g;if(C(r),t)j(e,r,i,t,o);else{var s=N(r)||e.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||L(e,r),i?n.nextTick(A,e,r,s,o):A(e,r,s,o)}}function A(e,t,n,r){n||D(e,t),t.pendingcb--,r(),F(e,t)}function D(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function L(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),s=t.corkedRequestsFree;s.entry=n;for(var f=0,u=!0;n;)o[f]=n,n.isBuf||(u=!1),n=n.next,f+=1;o.allBuffers=u,P(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var a=n.chunk,c=n.encoding,l=n.callback;if(P(e,t,!1,t.objectMode?1:a.length,a,c,l),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function N(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function I(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),F(e,t)})}function W(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(I,e,t)))}function F(e,t){var n=N(t);return n&&(W(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function U(e,t,r){t.ending=!0,F(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function H(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}require("inherits")(v,s),m.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(m.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||this===v&&(e&&e._writableState instanceof m)}})):l=function(e){return e instanceof this},v.prototype.pipe=function(){this.emit("error",new _)},v.prototype.write=function(e,t,n){var r=this._writableState,i=!1,o=!r.objectMode&&c(e);return o&&!f.isBuffer(e)&&(e=a(e)),"function"==typeof t&&(n=t,t=null),o?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=S),r.ending?x(this,n):(o||M(this,r,e,n))&&(r.pendingcb++,i=T(this,r,o,e,t,n)),i},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||L(this,e))},v.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new E(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(v.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),v.prototype._write=function(e,t,n){n(new y("_write()"))},v.prototype._writev=null,v.prototype.end=function(e,t,n){var r=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||U(this,r,n),this},Object.defineProperty(v.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(v.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),v.prototype.destroy=d.destroy,v.prototype._undestroy=d.undestroy,v.prototype._destroy=function(e,t){t(e)};
},{"util-deprecate":"yM1o","./internal/streams/stream":"ediv","buffer":"dskh","./internal/streams/destroy":"f4H3","./internal/streams/state":"VKm4","../errors":"Jjz1","inherits":"Bm0n","./_stream_duplex":"vWJ8","process":"pBGv"}],"vWJ8":[function(require,module,exports) {
var process = require("process");
var e=require("process"),t=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};module.exports=l;var r=require("./_stream_readable"),a=require("./_stream_writable");require("inherits")(l,r);for(var i=t(a.prototype),n=0;n<i.length;n++){var o=i[n];l.prototype[o]||(l.prototype[o]=a.prototype[o])}function l(e){if(!(this instanceof l))return new l(e);r.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",s)))}function s(){this._writableState.ended||e.nextTick(b,this)}function b(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}});
},{"./_stream_readable":"bg8d","./_stream_writable":"GwUk","inherits":"Bm0n","process":"pBGv"}],"wgjq":[function(require,module,exports) {
"use strict";var e=require("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function r(e){var r=!1;return function(){if(!r){r=!0;for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];e.apply(this,n)}}}function t(){}function n(e){return e.setHeader&&"function"==typeof e.abort}function o(i,a,l){if("function"==typeof a)return o(i,null,a);a||(a={}),l=r(l||t);var s=a.readable||!1!==a.readable&&i.readable,c=a.writable||!1!==a.writable&&i.writable,u=function(){i.writable||d()},f=i._writableState&&i._writableState.finished,d=function(){c=!1,f=!0,s||l.call(i)},b=i._readableState&&i._readableState.endEmitted,v=function(){s=!1,b=!0,c||l.call(i)},m=function(e){l.call(i,e)},w=function(){var r;return s&&!b?(i._readableState&&i._readableState.ended||(r=new e),l.call(i,r)):c&&!f?(i._writableState&&i._writableState.ended||(r=new e),l.call(i,r)):void 0},_=function(){i.req.on("finish",d)};return n(i)?(i.on("complete",d),i.on("abort",w),i.req?_():i.on("request",_)):c&&!i._writableState&&(i.on("end",u),i.on("close",u)),i.on("end",v),i.on("finish",d),!1!==a.error&&i.on("error",m),i.on("close",w),function(){i.removeListener("complete",d),i.removeListener("abort",w),i.removeListener("request",_),i.req&&i.req.removeListener("finish",d),i.removeListener("end",u),i.removeListener("close",u),i.removeListener("finish",d),i.removeListener("end",v),i.removeListener("error",m),i.removeListener("close",w)}}module.exports=o;
},{"../../../errors":"Jjz1"}],"HoUW":[function(require,module,exports) {
var process = require("process");
var e,n=require("process");function r(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var t=require("./end-of-stream"),l=Symbol("lastResolve"),u=Symbol("lastReject"),i=Symbol("error"),o=Symbol("ended"),a=Symbol("lastPromise"),s=Symbol("handlePromise"),c=Symbol("stream");function f(e,n){return{value:e,done:n}}function v(e){var n=e[l];if(null!==n){var r=e[c].read();null!==r&&(e[a]=null,e[l]=null,e[u]=null,n(f(r,!1)))}}function d(e){n.nextTick(v,e)}function b(e,n){return function(r,t){e.then(function(){n[o]?r(f(void 0,!0)):n[s](r,t)},t)}}var m=Object.getPrototypeOf(function(){}),h=Object.setPrototypeOf((r(e={get stream(){return this[c]},next:function(){var e=this,r=this[i];if(null!==r)return Promise.reject(r);if(this[o])return Promise.resolve(f(void 0,!0));if(this[c].destroyed)return new Promise(function(r,t){n.nextTick(function(){e[i]?t(e[i]):r(f(void 0,!0))})});var t,l=this[a];if(l)t=new Promise(b(l,this));else{var u=this[c].read();if(null!==u)return Promise.resolve(f(u,!1));t=new Promise(this[s])}return this[a]=t,t}},Symbol.asyncIterator,function(){return this}),r(e,"return",function(){var e=this;return new Promise(function(n,r){e[c].destroy(null,function(e){e?r(e):n(f(void 0,!0))})})}),e),m),y=function(e){var n,v=Object.create(h,(r(n={},c,{value:e,writable:!0}),r(n,l,{value:null,writable:!0}),r(n,u,{value:null,writable:!0}),r(n,i,{value:null,writable:!0}),r(n,o,{value:e._readableState.endEmitted,writable:!0}),r(n,s,{value:function(e,n){var r=v[c].read();r?(v[a]=null,v[l]=null,v[u]=null,e(f(r,!1))):(v[l]=e,v[u]=n)},writable:!0}),n));return v[a]=null,t(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var n=v[u];return null!==n&&(v[a]=null,v[l]=null,v[u]=null,n(e)),void(v[i]=e)}var r=v[l];null!==r&&(v[a]=null,v[l]=null,v[u]=null,r(f(void 0,!0))),v[o]=!0}),e.on("readable",d.bind(null,v)),v};module.exports=y;
},{"./end-of-stream":"wgjq","process":"pBGv"}],"bg8d":[function(require,module,exports) {

var global = arguments[3];
var process = require("process");
var e,t=arguments[3],n=require("process");module.exports=j,j.ReadableState=L;var r=require("events").EventEmitter,i=function(e,t){return e.listeners(t).length},a=require("./internal/streams/stream"),d=require("buffer").Buffer,o=t.Uint8Array||function(){};function s(e){return d.from(e)}function l(e){return d.isBuffer(e)||e instanceof o}var u,p=require("util");u=p&&p.debuglog?p.debuglog("stream"):function(){};var h,f,c=require("./internal/streams/buffer_list"),g=require("./internal/streams/destroy"),b=require("./internal/streams/state"),m=b.getHighWaterMark,y=require("../errors").codes,_=y.ERR_INVALID_ARG_TYPE,v=y.ERR_STREAM_PUSH_AFTER_EOF,w=y.ERR_METHOD_NOT_IMPLEMENTED,S=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,M=require("../experimentalWarning"),R=M.emitExperimentalWarning;require("inherits")(j,a);var E=["error","close","destroy","pause","resume"];function k(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function L(t,n,r){e=e||require("./_stream_duplex"),t=t||{},"boolean"!=typeof r&&(r=n instanceof e),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=m(this,t,"readableHighWaterMark",r),this.buffer=new c,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(h||(h=require("string_decoder/").StringDecoder),this.decoder=new h(t.encoding),this.encoding=t.encoding)}function j(t){if(e=e||require("./_stream_duplex"),!(this instanceof j))return new j(t);var n=this instanceof e;this._readableState=new L(t,this,n),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),a.call(this)}function C(e,t,n,r,i){u("readableAddChunk",t);var a,o=e._readableState;if(null===t)o.reading=!1,A(e,o);else if(i||(a=D(o,t)),a)e.emit("error",a);else if(o.objectMode||t&&t.length>0)if("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===d.prototype||(t=s(t)),r)o.endEmitted?e.emit("error",new S):T(e,o,t,!0);else if(o.ended)e.emit("error",new v);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?T(e,o,t,!1):U(e,o)):T(e,o,t,!1)}else r||(o.reading=!1,U(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function T(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&O(e)),U(e,t)}function D(e,t){var n;return l(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new _("chunk",["string","Buffer","Uint8Array"],t)),n}Object.defineProperty(j.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),j.prototype.destroy=g.destroy,j.prototype._undestroy=g.undestroy,j.prototype._destroy=function(e,t){t(e)},j.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=d.from(e,t),t=""),n=!0),C(this,e,t,!1,n)},j.prototype.unshift=function(e){return C(this,e,null,!0,!1)},j.prototype.isPaused=function(){return!1===this._readableState.flowing},j.prototype.setEncoding=function(e){return h||(h=require("string_decoder/").StringDecoder),this._readableState.decoder=new h(e),this._readableState.encoding=this._readableState.decoder.encoding,this};var q=8388608;function W(e){return e>=q?e=q:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function x(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=W(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function A(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?O(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,P(e)))}}function O(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(u("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(P,e))}function P(e){var t=e._readableState;u("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||e.emit("readable"),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,G(e)}function U(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(I,e,t))}function I(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(u("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function N(e){return function(){var t=e._readableState;u("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,G(e))}}function H(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function F(e){u("readable nexttick read 0"),e.read(0)}function B(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(V,e,t))}function V(e,t){u("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),G(e),t.flowing&&!t.reading&&e.read(0)}function G(e){var t=e._readableState;for(u("flow",t.flowing);t.flowing&&null!==e.read(););}function Y(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function z(e){var t=e._readableState;u("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(J,t,e))}function J(e,t){u("endReadableNT",e.endEmitted,e.length),e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function K(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}j.prototype.read=function(e){u("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return u("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?z(this):O(this),null;if(0===(e=x(e,t))&&t.ended)return 0===t.length&&z(this),null;var r,i=t.needReadable;return u("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&u("length less than watermark",i=!0),t.ended||t.reading?u("reading or ended",i=!1):i&&(u("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=x(n,t))),null===(r=e>0?Y(e,t):null)?(t.needReadable=!0,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&z(this)),null!==r&&this.emit("data",r),r},j.prototype._read=function(e){this.emit("error",new w("_read()"))},j.prototype.pipe=function(e,t){var r=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,u("pipe count=%d opts=%j",a.pipesCount,t);var d=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?s:b;function o(t,n){u("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,u("cleanup"),e.removeListener("close",c),e.removeListener("finish",g),e.removeListener("drain",l),e.removeListener("error",f),e.removeListener("unpipe",o),r.removeListener("end",s),r.removeListener("end",b),r.removeListener("data",h),p=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function s(){u("onend"),e.end()}a.endEmitted?n.nextTick(d):r.once("end",d),e.on("unpipe",o);var l=N(r);e.on("drain",l);var p=!1;function h(t){u("ondata");var n=e.write(t);u("dest.write",n),!1===n&&((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==K(a.pipes,e))&&!p&&(u("false write response, pause",a.awaitDrain),a.awaitDrain++),r.pause())}function f(t){u("onerror",t),b(),e.removeListener("error",f),0===i(e,"error")&&e.emit("error",t)}function c(){e.removeListener("finish",g),b()}function g(){u("onfinish"),e.removeListener("close",c),b()}function b(){u("unpipe"),r.unpipe(e)}return r.on("data",h),k(e,"error",f),e.once("close",c),e.once("finish",g),e.emit("pipe",r),a.flowing||(u("pipe resume"),r.resume()),e},j.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)r[a].emit("unpipe",this,{hasUnpiped:!1});return this}var d=K(t.pipes,e);return-1===d?this:(t.pipes.splice(d,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},j.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,u("on readable",i.length,i.reading),i.length?O(this):i.reading||n.nextTick(F,this))),r},j.prototype.addListener=j.prototype.on,j.prototype.removeListener=function(e,t){var r=a.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(H,this),r},j.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||n.nextTick(H,this),t},j.prototype.resume=function(){var e=this._readableState;return e.flowing||(u("resume"),e.flowing=!e.readableListening,B(this,e)),e.paused=!1,this},j.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},j.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(u("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(u("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<E.length;a++)e.on(E[a],this.emit.bind(this,E[a]));return this._read=function(t){u("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(j.prototype[Symbol.asyncIterator]=function(){return R("Readable[Symbol.asyncIterator]"),void 0===f&&(f=require("./internal/streams/async_iterator")),f(this)}),Object.defineProperty(j.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(j.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(j.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),j._fromList=Y,Object.defineProperty(j.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});
},{"events":"FRpO","./internal/streams/stream":"ediv","buffer":"dskh","util":"rDCW","./internal/streams/buffer_list":"aMPu","./internal/streams/destroy":"f4H3","./internal/streams/state":"VKm4","../errors":"Jjz1","../experimentalWarning":"Qi68","inherits":"Bm0n","./_stream_duplex":"vWJ8","string_decoder/":"f2OP","./internal/streams/async_iterator":"HoUW","process":"pBGv"}],"C8t1":[function(require,module,exports) {
"use strict";module.exports=o;var t=require("../errors").codes,r=t.ERR_METHOD_NOT_IMPLEMENTED,e=t.ERR_MULTIPLE_CALLBACK,n=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=t.ERR_TRANSFORM_WITH_LENGTH_0,a=require("./_stream_duplex");function s(t,r){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(null===i)return this.emit("error",new e);n.writechunk=null,n.writecb=null,null!=r&&this.push(r),i(t);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function o(t){if(!(this instanceof o))return new o(t);a.call(this,t),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",h)}function h(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush(function(r,e){f(t,r,e)})}function f(t,r,e){if(r)return t.emit("error",r);if(null!=e&&t.push(e),t._writableState.length)throw new i;if(t._transformState.transforming)throw new n;return t.push(null)}require("inherits")(o,a),o.prototype.push=function(t,r){return this._transformState.needTransform=!1,a.prototype.push.call(this,t,r)},o.prototype._transform=function(t,e,n){n(new r("_transform()"))},o.prototype._write=function(t,r,e){var n=this._transformState;if(n.writecb=e,n.writechunk=t,n.writeencoding=r,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var r=this._transformState;null===r.writechunk||r.transforming?r.needTransform=!0:(r.transforming=!0,this._transform(r.writechunk,r.writeencoding,r.afterTransform))},o.prototype._destroy=function(t,r){a.prototype._destroy.call(this,t,function(t){r(t)})};
},{"../errors":"Jjz1","./_stream_duplex":"vWJ8","inherits":"Bm0n"}],"sPoY":[function(require,module,exports) {
"use strict";module.exports=t;var r=require("./_stream_transform");function t(e){if(!(this instanceof t))return new t(e);r.call(this,e)}require("inherits")(t,r),t.prototype._transform=function(r,t,e){e(null,r)};
},{"./_stream_transform":"C8t1","inherits":"Bm0n"}],"K5GX":[function(require,module,exports) {
"use strict";var r;function n(r){var n=!1;return function(){n||(n=!0,r.apply(void 0,arguments))}}var t=require("../../../errors").codes,e=t.ERR_MISSING_ARGS,o=t.ERR_STREAM_DESTROYED;function i(r){if(r)throw r}function u(r){return r.setHeader&&"function"==typeof r.abort}function f(t,e,i,f){f=n(f);var a=!1;t.on("close",function(){a=!0}),void 0===r&&(r=require("./end-of-stream")),r(t,{readable:e,writable:i},function(r){if(r)return f(r);a=!0,f()});var c=!1;return function(r){if(!a&&!c)return c=!0,u(t)?t.abort():"function"==typeof t.destroy?t.destroy():void f(r||new o("pipe"))}}function a(r){r()}function c(r,n){return r.pipe(n)}function p(r){return r.length?"function"!=typeof r[r.length-1]?i:r.pop():i}function s(){for(var r=arguments.length,n=new Array(r),t=0;t<r;t++)n[t]=arguments[t];var o,i=p(n);if(Array.isArray(n[0])&&(n=n[0]),n.length<2)throw new e("streams");var u=n.map(function(r,t){var e=t<n.length-1;return f(r,e,t>0,function(r){o||(o=r),r&&u.forEach(a),e||(u.forEach(a),i(o))})});return n.reduce(c)}module.exports=s;
},{"../../../errors":"Jjz1","./end-of-stream":"wgjq"}],"cx6R":[function(require,module,exports) {
exports=module.exports=require("./lib/_stream_readable.js"),exports.Stream=exports,exports.Readable=exports,exports.Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js"),exports.finished=require("./lib/internal/streams/end-of-stream.js"),exports.pipeline=require("./lib/internal/streams/pipeline.js");
},{"./lib/_stream_readable.js":"bg8d","./lib/_stream_writable.js":"GwUk","./lib/_stream_duplex.js":"vWJ8","./lib/_stream_transform.js":"C8t1","./lib/_stream_passthrough.js":"sPoY","./lib/internal/streams/end-of-stream.js":"wgjq","./lib/internal/streams/pipeline.js":"K5GX"}],"WQvj":[function(require,module,exports) {
var process = require("process");
var t=require("process"),e=require("readable-stream").Transform,r=require("util").inherits;function n(t){e.call(this,t),this._destroyed=!1}function o(t,e,r){r(null,t)}function i(t){return function(e,r,n){return"function"==typeof e&&(n=r,r=e,e={}),"function"!=typeof r&&(r=o),"function"!=typeof n&&(n=null),t(e,r,n)}}r(n,e),n.prototype.destroy=function(e){if(!this._destroyed){this._destroyed=!0;var r=this;t.nextTick(function(){e&&r.emit("error",e),r.emit("close")})}},module.exports=i(function(t,e,r){var o=new n(t);return o._transform=e,r&&(o._flush=r),o}),module.exports.ctor=i(function(t,e,o){function i(e){if(!(this instanceof i))return new i(e);this.options=Object.assign({},t,e),n.call(this,this.options)}return r(i,n),i.prototype._transform=e,o&&(i.prototype._flush=o),i}),module.exports.obj=i(function(t,e,r){var o=new n(Object.assign({objectMode:!0,highWaterMark:16},t));return o._transform=e,r&&(o._flush=r),o});
},{"readable-stream":"cx6R","util":"nq70","process":"pBGv"}],"YEKG":[function(require,module,exports) {
"use strict";function t(t){if(this._capacity=h(t),this._length=0,this._front=0,i(t)){for(var r=t.length,o=0;o<r;++o)this[o]=t[o];this._length=r}}t.prototype.toArray=function(){for(var t=this._length,i=new Array(t),r=this._front,o=this._capacity,h=0;h<t;++h)i[h]=this[r+h&o-1];return i},t.prototype.push=function(t){var i=arguments.length,r=this._length;if(i>1){var o=this._capacity;if(r+i>o){for(var h=0;h<i;++h){this._checkCapacity(r+1),this[n=this._front+r&this._capacity-1]=arguments[h],r++,this._length=r}return r}for(var n=this._front,h=0;h<i;++h)this[n+r&o-1]=arguments[h],n++;return this._length=r+i,r+i}return 0===i?r:(this._checkCapacity(r+1),this[h=this._front+r&this._capacity-1]=t,this._length=r+1,r+1)},t.prototype.pop=function(){var t=this._length;if(0!==t){var i=this._front+t-1&this._capacity-1,r=this[i];return this[i]=void 0,this._length=t-1,r}},t.prototype.shift=function(){var t=this._length;if(0!==t){var i=this._front,r=this[i];return this[i]=void 0,this._front=i+1&this._capacity-1,this._length=t-1,r}},t.prototype.unshift=function(t){var i=this._length,r=arguments.length;if(r>1){if(i+r>(h=this._capacity)){for(var o=r-1;o>=0;o--){this._checkCapacity(i+1);var h=this._capacity;this[e=(this._front-1&h-1^h)-h]=arguments[o],i++,this._length=i,this._front=e}return i}var n=this._front;for(o=r-1;o>=0;o--){var e;this[e=(n-1&h-1^h)-h]=arguments[o],n=e}return this._front=n,this._length=i+r,i+r}if(0===r)return i;this._checkCapacity(i+1);h=this._capacity;return this[o=(this._front-1&h-1^h)-h]=t,this._length=i+1,this._front=o,i+1},t.prototype.peekBack=function(){var t=this._length;if(0!==t)return this[this._front+t-1&this._capacity-1]},t.prototype.peekFront=function(){if(0!==this._length)return this[this._front]},t.prototype.get=function(t){var i=t;if(i===(0|i)){var r=this._length;if(i<0&&(i+=r),!(i<0||i>=r))return this[this._front+i&this._capacity-1]}},t.prototype.isEmpty=function(){return 0===this._length},t.prototype.clear=function(){for(var t=this._length,i=this._front,r=this._capacity,o=0;o<t;++o)this[i+o&r-1]=void 0;this._length=0,this._front=0},t.prototype.toString=function(){return this.toArray().toString()},t.prototype.valueOf=t.prototype.toString,t.prototype.removeFront=t.prototype.shift,t.prototype.removeBack=t.prototype.pop,t.prototype.insertFront=t.prototype.unshift,t.prototype.insertBack=t.prototype.push,t.prototype.enqueue=t.prototype.push,t.prototype.dequeue=t.prototype.shift,t.prototype.toJSON=t.prototype.toArray,Object.defineProperty(t.prototype,"length",{get:function(){return this._length},set:function(){throw new RangeError("")}}),t.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(h(1.5*this._capacity+16))},t.prototype._resizeTo=function(t){var i=this._capacity;this._capacity=t;var o=this._front,h=this._length;o+h>i&&r(this,0,this,i,o+h&i-1)};var i=Array.isArray;function r(t,i,r,o,h){for(var n=0;n<h;++n)r[n+o]=t[n+i],t[n+i]=void 0}function o(t){return t>>>=0,t-=1,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,(t|=t>>16)+1}function h(t){if("number"!=typeof t){if(!i(t))return 16;t=t.length}return o(Math.min(Math.max(16,t),1073741824))}module.exports=t;
},{}],"LJcX":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,n=Object.prototype.toString,r="function"==typeof e.alloc&&"function"==typeof e.allocUnsafe&&"function"==typeof e.from;function o(e){return"ArrayBuffer"===n.call(e).slice(8,-1)}function t(n,o,t){o>>>=0;var f=n.byteLength-o;if(f<0)throw new RangeError("'offset' is out of bounds");if(void 0===t)t=f;else if((t>>>=0)>f)throw new RangeError("'length' is out of bounds");return r?e.from(n.slice(o,o+t)):new e(new Uint8Array(n.slice(o,o+t)))}function f(n,o){if("string"==typeof o&&""!==o||(o="utf8"),!e.isEncoding(o))throw new TypeError('"encoding" must be a valid string encoding');return r?e.from(n,o):new e(n,o)}function i(n,i,u){if("number"==typeof n)throw new TypeError('"value" argument must not be a number');return o(n)?t(n,i,u):"string"==typeof n?f(n,i):r?e.from(n):new e(n)}module.exports=i;
},{"buffer":"dskh"}],"ePpt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=_(require("levelup")),t=_(require("sublevel-pouchdb")),n=require("through2"),r=_(require("argsarray")),o=_(require("double-ended-queue")),i=_(require("buffer-from")),a=require("pouchdb-adapter-utils"),u=require("pouchdb-merge"),c=require("pouchdb-json"),f=require("pouchdb-md5"),l=require("pouchdb-binary-utils"),d=require("pouchdb-collections"),s=require("pouchdb-utils"),v=require("pouchdb-errors");function _(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var n=new Uint8Array(e);return(0,l.blob)([n],{type:t})}function h(e,t){(0,l.readAsBinaryString)(e,t)}function m(e){return(0,l.blob)([""],{type:e})}function g(e,t){var n=t.prefix()[0],r=e._cache,o=r.get(n);return o||(o=new d.Map,r.set(n,o)),o}function y(){this._batch=[],this._cache=new d.Map}y.prototype.get=function(e,t,n){var r=g(this,e),o=r.get(t);return o?(0,s.nextTick)(function(){n(null,o)}):null===o?(0,s.nextTick)(function(){n({name:"NotFoundError"})}):void e.get(t,function(e,o){if(e)return"NotFoundError"===e.name&&r.set(t,null),n(e);r.set(t,o),n(null,o)})},y.prototype.batch=function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t],o=g(this,r.prefix);"put"===r.type?o.set(r.key,r.value):o.set(r.key,null)}this._batch=this._batch.concat(e)},y.prototype.execute=function(e,t){for(var n=new d.Set,r=[],o=this._batch.length-1;o>=0;o--){var i=this._batch[o],a=i.prefix.prefix()[0]+"ÿ"+i.key;n.has(a)||(n.add(a),r.push(i))}e.batch(r,t)};var b="document-store",S="by-sequence",k="attach-store",q="attach-binary-store",E="local-store",x="meta-store",w=new d.Map,L="_local_last_update_seq",N="_local_doc_count",C="_local_uuid",I="md5-",M={encode:c.safeJsonStringify,decode:c.safeJsonParse,buffer:!1,type:"cheap-json"},O=new s.changesHandler;function T(e){return"winningRev"in e?e.winningRev:(0,u.winningRev)(e)}function j(e,t){return"deleted"in e?e.deleted:(0,a.isDeleted)(e,t)}function D(e,t,n){var r=e.content_type;return new Promise(function(o,i){t.binaryStore.get(e.digest,function(t,a){var u;if(t){if("NotFoundError"!==t.name)return i(t);u=n.binary?(0,l.binaryStringToBlobOrBuffer)("",r):""}else u=n.binary?p(a,r):a.toString("base64");delete e.stub,delete e.length,e.data=u,o()})})}function F(e,t,n){var r=[];return e.forEach(function(e){e.doc&&e.doc._attachments&&Object.keys(e.doc._attachments).forEach(function(t){var n=e.doc._attachments[t];"data"in n||r.push(n)})}),Promise.all(r.map(function(e){return D(e,t,n)}))}function P(c,_){c=(0,s.clone)(c);var g,D,P=this,R={},A=c.revs_limit,G=c.name;void 0===c.createIfMissing&&(c.createIfMissing=!0);var B,W=c.db,V=(0,s.functionName)(W);function J(){R.docStore=D.sublevel(b,{valueEncoding:M}),R.bySeqStore=D.sublevel(S,{valueEncoding:"json"}),R.attachmentStore=D.sublevel(k,{valueEncoding:"json"}),R.binaryStore=D.sublevel(q,{valueEncoding:"binary"}),R.localStore=D.sublevel(E,{valueEncoding:"json"}),R.metaStore=D.sublevel(x,{valueEncoding:"json"}),"object"==typeof c.migrate?c.migrate.doMigrationTwo(D,R,U):U()}function U(){R.metaStore.get(L,function(e,t){void 0===D._updateSeq&&(D._updateSeq=t||0),R.metaStore.get(N,function(e,t){D._docCount=e?0:t,R.metaStore.get(C,function(e,t){g=e?(0,s.uuid)():t,R.metaStore.put(C,g,function(){(0,s.nextTick)(function(){_(null,P)})})})})})}function H(e,t){try{e.apply(null,t)}catch(n){t[t.length-1](n)}}function K(){var e=D._queue.peekFront();"read"===e.type?function(e){var t=[e],n=1,o=D._queue.get(n);for(;void 0!==o&&"read"===o.type;)t.push(o),n++,o=D._queue.get(n);var i=0;t.forEach(function(e){var n=e.args,o=n[n.length-1];n[n.length-1]=(0,r.default)(function(e){o.apply(null,e),++i===t.length&&(0,s.nextTick)(function(){t.forEach(function(){D._queue.shift()}),D._queue.length&&K()})}),H(e.fun,n)})}(e):function(e){var t=e.args,n=t[t.length-1];t[t.length-1]=(0,r.default)(function(e){n.apply(null,e),(0,s.nextTick)(function(){D._queue.shift(),D._queue.length&&K()})}),H(e.fun,t)}(e)}function Q(e){return(0,r.default)(function(t){D._queue.push({fun:e,args:t,type:"write"}),1===D._queue.length&&(0,s.nextTick)(K)})}function z(e){return(0,r.default)(function(t){D._queue.push({fun:e,args:t,type:"read"}),1===D._queue.length&&(0,s.nextTick)(K)})}function X(e){return("0000000000000000"+e).slice(-16)}function Y(e,t){"destroy"in W?W.destroy(e,t):t(null)}w.has(V)?B=w.get(V):(B=new d.Map,w.set(V,B)),B.has(G)?(D=B.get(G),J()):B.set(G,(0,t.default)((0,e.default)(W(G),c,function(e){if(e)return B.delete(G),_(e);(D=B.get(G))._docCount=-1,D._queue=new o.default,"object"==typeof c.migrate?c.migrate.doMigrationOne(G,D,J):J()}))),P._remote=!1,P.type=function(){return"leveldb"},P._id=function(e){e(null,g)},P._info=function(e){var t={doc_count:D._docCount,update_seq:D._updateSeq,backend_adapter:(0,s.functionName)(W)};return(0,s.nextTick)(function(){e(null,t)})},P._get=z(function(e,t,n){t=(0,s.clone)(t),R.docStore.get(e,function(e,r){if(e||!r)return n((0,v.createError)(v.MISSING_DOC,"missing"));var o;if(t.rev)o=t.latest?(0,u.latest)(t.rev,r):t.rev;else if(o=T(r),j(r,o))return n((0,v.createError)(v.MISSING_DOC,"deleted"));var i=r.rev_map[o];R.bySeqStore.get(X(i),function(e,t){if(!t)return n((0,v.createError)(v.MISSING_DOC));if("_id"in t&&t._id!==r.id)return n(new Error("wrong doc returned"));if(t._id=r.id,"_rev"in t){if(t._rev!==o)return n(new Error("wrong doc returned"))}else t._rev=o;return n(null,{doc:t,metadata:r})})})}),P._getAttachment=function(e,t,n,r,o){var i=n.digest,a=n.content_type;R.binaryStore.get(i,function(e,t){if(e)return"NotFoundError"!==e.name?o(e):o(null,r.binary?m(a):"");r.binary?o(null,p(t,a)):o(null,t.toString("base64"))})},P._bulkDocs=Q(function(e,t,n){var r=t.new_edits,o=new Array(e.docs.length),c=new d.Map,_=new d.Map,p=new y,m=0,g=D._updateSeq,b=e.docs,S=b.map(function(e){if(e._id&&(0,a.isLocalId)(e._id))return e;var t=(0,a.parseDoc)(e,r,P.__opts);return t.metadata&&!t.metadata.rev_map&&(t.metadata.rev_map={}),t}),k=S.filter(function(e){return e.error});if(k.length)return n(k[0]);function q(e,t){var n=Promise.resolve();e.forEach(function(e,t){n=n.then(function(){return new Promise(function(n,r){P._doCompactionNoLock(t,e,{ctx:p},function(e){if(e)return r(e);n()})})})}),n.then(function(){t()},t)}function E(){q(_,function(e){if(e&&M(e),P.auto_compaction)return t=M,n=new d.Map,c.forEach(function(e,t){n.set(t,(0,u.compactTree)(e))}),void q(n,t);var t,n;M()})}function x(e,t,r,a,u,d,s,y){m+=d;var b=null,S=0;e.metadata.winningRev=t,e.metadata.deleted=r,e.data._id=e.metadata.id,e.data._rev=e.metadata.rev,a&&(e.data._deleted=!0),e.stemmedRevs.length&&_.set(e.metadata.id,e.stemmedRevs);var k=e.data._attachments?Object.keys(e.data._attachments):[];function q(e){S++,b||(e?y(b=e):S===k.length&&O())}function E(e,t,n,r){return function(o){!function(e,t,n,r,o){var a=e.data._attachments[n];delete a.data,a.digest=t,a.length=r.length;var u=e.metadata.id,c=e.metadata.rev;a.revpos=parseInt(c,10),C(u,c,t,function(e,n){return e?o(e):0===r.length?o(e):n?(p.batch([{type:"put",prefix:R.binaryStore,key:t,value:(0,i.default)(r,"binary")}]),void o()):o(e)})}(e,I+o,t,n,r)}}function x(e,t,n){return function(r){(0,f.binaryMd5)(r,E(e,t,r,n))}}for(var w=0;w<k.length;w++){var L,N=k[w],M=e.data._attachments[N];if(M.stub)C(e.data._id,e.data._rev,M.digest,q);else if("string"==typeof M.data){try{L=(0,l.atob)(M.data)}catch(T){return void n((0,v.createError)(v.BAD_ARG,"Attachment is not a valid base64 string"))}x(e,N,q)(L)}else h(M.data,x(e,N,q))}function O(){var t=e.metadata.rev_map[e.metadata.rev];if(t)return y();t=++g,e.metadata.rev_map[e.metadata.rev]=e.metadata.seq=t;var n=[{key:X(t),value:e.data,prefix:R.bySeqStore,type:"put"},{key:e.metadata.id,value:e.metadata,prefix:R.docStore,type:"put"}];p.batch(n),o[s]={ok:!0,id:e.metadata.id,rev:e.metadata.rev},c.set(e.metadata.id,e.metadata),y()}k.length||O()}var w={};function C(e,t,n,r){function o(r){var o=[e,t].join("@"),i={};return r?r.refs&&(i.refs=r.refs,i.refs[o]=!0):(i.refs={},i.refs[o]=!0),new Promise(function(e){p.batch([{type:"put",prefix:R.attachmentStore,key:n,value:i}]),e(!r)})}var i=w[n]||Promise.resolve();w[n]=i.then(function(){return new Promise(function(e,t){p.get(R.attachmentStore,n,function(n,r){if(n&&"NotFoundError"!==n.name)return t(n);e(r)})}).then(o).then(function(e){r(null,e)},r)})}function M(e){if(e)return(0,s.nextTick)(function(){n(e)});p.batch([{prefix:R.metaStore,type:"put",key:L,value:g},{prefix:R.metaStore,type:"put",key:N,value:D._docCount+m}]),p.execute(D,function(e){if(e)return n(e);D._docCount+=m,D._updateSeq=g,O.notify(G),(0,s.nextTick)(function(){n(null,o)})})}if(!S.length)return n(null,[]);!function(e){var t=[];if(b.forEach(function(e){e&&e._attachments&&Object.keys(e._attachments).forEach(function(n){var r=e._attachments[n];r.stub&&t.push(r.digest)})}),!t.length)return e();var n,r=0;t.forEach(function(o){!function(e,t){p.get(R.attachmentStore,e,function(n){if(n){var r=(0,v.createError)(v.MISSING_STUB,"unknown stub attachment with digest "+e);t(r)}else t()})}(o,function(o){o&&!n&&(n=o),++r===t.length&&e(n)})})}(function(e){if(e)return n(e);!function(e){var t,n=0;function r(){if(++n===b.length)return e(t)}b.forEach(function(e){if(e._id&&(0,a.isLocalId)(e._id))return r();p.get(R.docStore,e._id,function(n,o){n?"NotFoundError"!==n.name&&(t=n):c.set(e._id,o),r()})})}(function(e){if(e)return n(e);(0,a.processDocs)(A,S,P,c,p,o,x,t,E)})})}),P._allDocs=function(e,t){return"keys"in e?(0,a.allDocsKeysQuery)(this,e):z(function(e,t){e=(0,s.clone)(e),function(e){D.isClosed()?e(new Error("database is closed")):e(null,D._docCount)}(function(r,o){if(r)return t(r);var i,a={},c=e.skip||0;if(e.startkey&&(a.gte=e.startkey),e.endkey&&(a.lte=e.endkey),e.key&&(a.gte=a.lte=e.key),e.descending){a.reverse=!0;var f=a.lte;a.lte=a.gte,a.gte=f}if("number"==typeof e.limit&&(i=e.limit),0===i||"gte"in a&&"lte"in a&&a.gte>a.lte){var l={total_rows:o,offset:e.skip,rows:[]};return e.update_seq&&(l.update_seq=D._updateSeq),t(null,l)}var d=[],s=R.docStore.readStream(a),v=(0,n.obj)(function(t,n,r){var o=t.value,a=T(o),f=j(o,a);if(f){if("ok"!==e.deleted)return void r()}else{if(c-- >0)return void r();if("number"==typeof i&&i--<=0)return s.unpipe(),s.destroy(),void r()}function l(t){var n={id:o.id,key:o.id,value:{rev:a}};if(e.include_docs){if(n.doc=t,n.doc._rev=n.value.rev,e.conflicts){var i=(0,u.collectConflicts)(o);i.length&&(n.doc._conflicts=i)}for(var c in n.doc._attachments)n.doc._attachments.hasOwnProperty(c)&&(n.doc._attachments[c].stub=!0)}if(!1===e.inclusive_end&&o.id===e.endkey)return r();if(f){if("ok"!==e.deleted)return r();n.value.deleted=!0,n.doc=null}d.push(n),r()}if(e.include_docs){var v=o.rev_map[a];R.bySeqStore.get(X(v),function(e,t){l(t)})}else l()},function(n){Promise.resolve().then(function(){if(e.include_docs&&e.attachments)return F(d,R,e)}).then(function(){var n={total_rows:o,offset:e.skip,rows:d};e.update_seq&&(n.update_seq=D._updateSeq),t(null,n)},t),n()}).on("unpipe",function(){v.end()});s.on("error",t),s.pipe(v)})})(e,t)},P._changes=function(e){if((e=(0,s.clone)(e)).continuous){var t=G+":"+(0,s.uuid)();return O.addListener(G,t,P,e),O.notify(G),{cancel:function(){O.removeListener(G,t)}}}var r,o=e.descending,i=[],u=e.since||0,c=0,f={reverse:o};"limit"in e&&e.limit>0&&(r=e.limit),f.reverse||(f.start=X(e.since||0));var l=e.doc_ids&&new d.Set(e.doc_ids),v=(0,s.filterChange)(e),_=new d.Map;function p(){e.done=!0,e.return_docs&&e.limit&&e.limit<i.length&&(i.length=e.limit),h.unpipe(m),h.destroy(),e.continuous||e.cancelled||(e.include_docs&&e.attachments&&e.return_docs?F(i,R,e).then(function(){e.complete(null,{results:i,last_seq:u})}):e.complete(null,{results:i,last_seq:u}))}var h=R.bySeqStore.readStream(f),m=(0,n.obj)(function(t,n,f){if(r&&c>=r)return p(),f();if(e.cancelled||e.done)return f();var d,s,h=(d=t.key,parseInt(d,10)),m=t.value;if(h===e.since&&!o)return f();if(l&&!l.has(m._id))return f();function g(t){var n=T(t);function r(n){var r=e.processChange(n,t,e);r.seq=t.seq;var o=v(r);if("object"==typeof o)return e.complete(o);o&&(c++,e.attachments&&e.include_docs?F([r],R,e).then(function(){e.onChange(r)}):e.onChange(r),e.return_docs&&i.push(r)),f()}if(t.seq!==h)return f();if(u=h,n===m._rev)return r(m);var o=t.rev_map[n];R.bySeqStore.get(X(o),function(e,t){r(t)})}if(s=_.get(m._id))return g(s);R.docStore.get(m._id,function(t,n){if(e.cancelled||e.done||D.isClosed()||(0,a.isLocalId)(n.id))return f();_.set(m._id,n),g(n)})},function(t){if(e.cancelled)return t();e.return_docs&&e.limit&&e.limit<i.length&&(i.length=e.limit),t()}).on("unpipe",function(){m.end(),p()});return h.pipe(m),{cancel:function(){e.cancelled=!0,p()}}},P._close=function(e){if(D.isClosed())return e((0,v.createError)(v.NOT_OPEN));D.close(function(t){t?e(t):(B.delete(G),e())})},P._getRevisionTree=function(e,t){R.docStore.get(e,function(e,n){e?t((0,v.createError)(v.MISSING_DOC)):t(null,n.rev_tree)})},P._doCompaction=Q(function(e,t,n,r){P._doCompactionNoLock(e,t,n,r)}),P._doCompactionNoLock=function(e,t,n,r){if("function"==typeof n&&(r=n,n={}),!t.length)return r();var o=n.ctx||new y;o.get(R.docStore,e,function(i,a){if(i)return r(i);var c=t.map(function(e){var t=a.rev_map[e];return delete a.rev_map[e],t});(0,u.traverseRevTree)(a.rev_tree,function(e,n,r,o,i){var a=n+"-"+r;-1!==t.indexOf(a)&&(i.status="missing")});var f=[];f.push({key:a.id,value:a,type:"put",prefix:R.docStore});var l,s={},v=0;function _(n){if(n&&(l=n),++v===t.length){if(l)return r(l);!function(){var n=Object.keys(s);if(!n.length)return p();var r,i=0;function a(e){e&&(r=e),++i===n.length&&p(r)}var u=new d.Map;t.forEach(function(t){u.set(e+"@"+t,!0)}),n.forEach(function(e){o.get(R.attachmentStore,e,function(t,n){if(t)return"NotFoundError"===t.name?a():a(t);var r=Object.keys(n.refs||{}).filter(function(e){return!u.has(e)}),o={};r.forEach(function(e){o[e]=!0}),r.length?f.push({key:e,type:"put",value:{refs:o},prefix:R.attachmentStore}):f=f.concat([{key:e,type:"del",prefix:R.attachmentStore},{key:e,type:"del",prefix:R.binaryStore}]),a()})})}()}}function p(e){return e?r(e):(o.batch(f),n.ctx?r():void o.execute(D,r))}c.forEach(function(e){f.push({key:X(e),type:"del",prefix:R.bySeqStore}),o.get(R.bySeqStore,X(e),function(e,t){if(e)return"NotFoundError"===e.name?_():_(e);Object.keys(t._attachments||{}).forEach(function(e){var n=t._attachments[e].digest;s[n]=!0}),_()})})})},P._getLocal=function(e,t){R.localStore.get(e,function(e,n){e?t((0,v.createError)(v.MISSING_DOC)):t(null,n)})},P._putLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),t.ctx?P._putLocalNoLock(e,t,n):P._putLocalWithLock(e,t,n)},P._putLocalWithLock=Q(function(e,t,n){P._putLocalNoLock(e,t,n)}),P._putLocalNoLock=function(e,t,n){delete e._revisions;var r=e._rev,o=e._id,i=t.ctx||new y;i.get(R.localStore,o,function(a,u){if(a&&r)return n((0,v.createError)(v.REV_CONFLICT));if(u&&u._rev!==r)return n((0,v.createError)(v.REV_CONFLICT));e._rev=r?"0-"+(parseInt(r.split("-")[1],10)+1):"0-1";var c=[{type:"put",prefix:R.localStore,key:o,value:e}];i.batch(c);var f={ok:!0,id:e._id,rev:e._rev};if(t.ctx)return n(null,f);i.execute(D,function(e){if(e)return n(e);n(null,f)})})},P._removeLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),t.ctx?P._removeLocalNoLock(e,t,n):P._removeLocalWithLock(e,t,n)},P._removeLocalWithLock=Q(function(e,t,n){P._removeLocalNoLock(e,t,n)}),P._removeLocalNoLock=function(e,t,n){var r=t.ctx||new y;r.get(R.localStore,e._id,function(o,i){if(o)return"NotFoundError"!==o.name?n(o):n((0,v.createError)(v.MISSING_DOC));if(i._rev!==e._rev)return n((0,v.createError)(v.REV_CONFLICT));r.batch([{prefix:R.localStore,type:"del",key:e._id}]);var a={ok:!0,id:e._id,rev:"0-0"};if(t.ctx)return n(null,a);r.execute(D,function(e){if(e)return n(e);n(null,a)})})},P._destroy=function(e,t){var n,r=(0,s.functionName)(W);if(!w.has(r))return Y(G,t);(n=w.get(r)).has(G)?(O.removeAllListeners(G),n.get(G).close(function(){n.delete(G),Y(G,t)})):Y(G,t)}}var R=P;exports.default=R;
},{"levelup":"kVlK","sublevel-pouchdb":"JqXM","through2":"WQvj","argsarray":"I5Ig","double-ended-queue":"YEKG","buffer-from":"LJcX","pouchdb-adapter-utils":"lWzm","pouchdb-merge":"p4HA","pouchdb-json":"tHV1","pouchdb-md5":"ZfEw","pouchdb-binary-utils":"WfYg","pouchdb-collections":"qpbW","pouchdb-utils":"mY35","pouchdb-errors":"qncM"}],"LZmG":[function(require,module,exports) {
var process = require("process");
var n=require("process");function e(n){this.db=n,this._ended=!1,this._nexting=!1}e.prototype.next=function(e){var t=this;if("function"!=typeof e)throw new Error("next() requires a callback argument");return t._ended?e(new Error("cannot call next() after end()")):t._nexting?e(new Error("cannot call next() before previous next() has completed")):(t._nexting=!0,"function"==typeof t._next?t._next(function(){t._nexting=!1,e.apply(null,arguments)}):void n.nextTick(function(){t._nexting=!1,e()}))},e.prototype.end=function(e){if("function"!=typeof e)throw new Error("end() requires a callback argument");return this._ended?e(new Error("end() already called on iterator")):(this._ended=!0,"function"==typeof this._end?this._end(e):void n.nextTick(e))},module.exports=e;
},{"process":"pBGv"}],"J5PJ":[function(require,module,exports) {
var process = require("process");
var t=require("process");function i(t){this._db=t,this._operations=[],this._written=!1}i.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},i.prototype.put=function(t,i){this._checkWritten();var e=this._db._checkKey(t,"key",this._db._isBuffer);if(e)throw e;return this._db._isBuffer(t)||(t=String(t)),this._db._isBuffer(i)||(i=String(i)),"function"==typeof this._put?this._put(t,i):this._operations.push({type:"put",key:t,value:i}),this},i.prototype.del=function(t){this._checkWritten();var i=this._db._checkKey(t,"key",this._db._isBuffer);if(i)throw i;return this._db._isBuffer(t)||(t=String(t)),"function"==typeof this._del?this._del(t):this._operations.push({type:"del",key:t}),this},i.prototype.clear=function(){return this._checkWritten(),this._operations=[],"function"==typeof this._clear&&this._clear(),this},i.prototype.write=function(i,e){if(this._checkWritten(),"function"==typeof i&&(e=i),"function"!=typeof e)throw new Error("write() requires a callback argument");return"object"!=typeof i&&(i={}),this._written=!0,"function"==typeof this._write?this._write(e):"function"==typeof this._db._batch?this._db._batch(this._operations,i,e):void t.nextTick(e)},module.exports=i;
},{"process":"pBGv"}],"r6HX":[function(require,module,exports) {
var process = require("process");
var Buffer = require("buffer").Buffer;
var t=require("process"),e=require("buffer").Buffer,r=require("xtend"),i=require("./abstract-iterator"),n=require("./abstract-chained-batch");function o(t){if(!arguments.length||void 0===t)throw new Error("constructor requires at least a location argument");if("string"!=typeof t)throw new Error("constructor requires a location string argument");this.location=t,this.status="new"}o.prototype.open=function(e,r){var i=this,n=this.status;if("function"==typeof e&&(r=e),"function"!=typeof r)throw new Error("open() requires a callback argument");"object"!=typeof e&&(e={}),e.createIfMissing=0!=e.createIfMissing,e.errorIfExists=!!e.errorIfExists,"function"==typeof this._open?(this.status="opening",this._open(e,function(t){if(t)return i.status=n,r(t);i.status="open",r()})):(this.status="open",t.nextTick(r))},o.prototype.close=function(e){var r=this,i=this.status;if("function"!=typeof e)throw new Error("close() requires a callback argument");"function"==typeof this._close?(this.status="closing",this._close(function(t){if(t)return r.status=i,e(t);r.status="closed",e()})):(this.status="closed",t.nextTick(e))},o.prototype.get=function(e,r,i){var n;if("function"==typeof r&&(i=r),"function"!=typeof i)throw new Error("get() requires a callback argument");return(n=this._checkKey(e,"key",this._isBuffer))?i(n):(this._isBuffer(e)||(e=String(e)),"object"!=typeof r&&(r={}),r.asBuffer=0!=r.asBuffer,"function"==typeof this._get?this._get(e,r,i):void t.nextTick(function(){i(new Error("NotFound"))}))},o.prototype.put=function(e,r,i,n){var o;if("function"==typeof i&&(n=i),"function"!=typeof n)throw new Error("put() requires a callback argument");return(o=this._checkKey(e,"key",this._isBuffer))?n(o):(this._isBuffer(e)||(e=String(e)),null!=r&&this._isBuffer(r),"object"!=typeof i&&(i={}),"function"==typeof this._put?this._put(e,r,i,n):void t.nextTick(n))},o.prototype.del=function(e,r,i){var n;if("function"==typeof r&&(i=r),"function"!=typeof i)throw new Error("del() requires a callback argument");return(n=this._checkKey(e,"key",this._isBuffer))?i(n):(this._isBuffer(e)||(e=String(e)),"object"!=typeof r&&(r={}),"function"==typeof this._del?this._del(e,r,i):void t.nextTick(i))},o.prototype.batch=function(e,r,i){if(!arguments.length)return this._chainedBatch();if("function"==typeof r&&(i=r),"function"==typeof e&&(i=e),"function"!=typeof i)throw new Error("batch(array) requires a callback argument");if(!Array.isArray(e))return i(new Error("batch(array) requires an array argument"));r&&"object"==typeof r||(r={});for(var n,o,f=0,s=e.length;f<s;f++)if("object"==typeof(n=e[f])){if(o=this._checkKey(n.type,"type",this._isBuffer))return i(o);if(o=this._checkKey(n.key,"key",this._isBuffer))return i(o)}if("function"==typeof this._batch)return this._batch(e,r,i);t.nextTick(i)},o.prototype.approximateSize=function(e,r,i){if(null==e||null==r||"function"==typeof e||"function"==typeof r)throw new Error("approximateSize() requires valid `start`, `end` and `callback` arguments");if("function"!=typeof i)throw new Error("approximateSize() requires a callback argument");if(this._isBuffer(e)||(e=String(e)),this._isBuffer(r)||(r=String(r)),"function"==typeof this._approximateSize)return this._approximateSize(e,r,i);t.nextTick(function(){i(null,0)})},o.prototype._setupIteratorOptions=function(t){var e=this;return t=r(t),["start","end","gt","gte","lt","lte"].forEach(function(r){t[r]&&e._isBuffer(t[r])&&0===t[r].length&&delete t[r]}),t.reverse=!!t.reverse,t.keys=0!=t.keys,t.values=0!=t.values,t.limit="limit"in t?t.limit:-1,t.keyAsBuffer=0!=t.keyAsBuffer,t.valueAsBuffer=0!=t.valueAsBuffer,t},o.prototype.iterator=function(t){return"object"!=typeof t&&(t={}),t=this._setupIteratorOptions(t),"function"==typeof this._iterator?this._iterator(t):new i(this)},o.prototype._chainedBatch=function(){return new n(this)},o.prototype._isBuffer=function(t){return e.isBuffer(t)},o.prototype._checkKey=function(t,e){if(null==t)return new Error(e+" cannot be `null` or `undefined`");if(this._isBuffer(t)){if(0===t.length)return new Error(e+" cannot be an empty Buffer")}else if(""===String(t))return new Error(e+" cannot be an empty String")},module.exports=o;
},{"xtend":"K5Tb","./abstract-iterator":"LZmG","./abstract-chained-batch":"J5PJ","process":"pBGv","buffer":"dskh"}],"e56e":[function(require,module,exports) {
var e=require("./abstract-leveldown");function t(t){return!(!t||"object"!=typeof t)&&Object.keys(e.prototype).filter(function(e){return"_"!=e[0]&&"approximateSize"!=e}).every(function(e){return"function"==typeof t[e]})}module.exports=t;
},{"./abstract-leveldown":"r6HX"}],"cM0Q":[function(require,module,exports) {
exports.AbstractLevelDOWN=require("./abstract-leveldown"),exports.AbstractIterator=require("./abstract-iterator"),exports.AbstractChainedBatch=require("./abstract-chained-batch"),exports.isLevelDOWN=require("./is-leveldown");
},{"./abstract-leveldown":"r6HX","./abstract-iterator":"LZmG","./abstract-chained-batch":"J5PJ","./is-leveldown":"e56e"}],"qUYD":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer;function r(e,r){return Object.hasOwnProperty.call(e,r)}function t(e){return void 0!==e&&""!==e}function r(e,r){return Object.hasOwnProperty.call(e,r)}function n(e,r){return Object.hasOwnProperty.call(e,r)&&r}exports.compare=function(r,t){if(e.isBuffer(r)){for(var n=Math.min(r.length,t.length),u=0;u<n;u++){var o=r[u]-t[u];if(o)return o}return r.length-t.length}return r<t?-1:r>t?1:0};var u=exports.lowerBoundKey=function(e){return n(e,"gt")||n(e,"gte")||n(e,"min")||(e.reverse?n(e,"end"):n(e,"start"))||void 0},o=exports.lowerBound=function(e){var r=u(e);return r&&e[r]},i=exports.lowerBoundInclusive=function(e){return!r(e,"gt")},l=exports.upperBoundInclusive=function(e){return!r(e,"lt")},s=exports.lowerBoundExclusive=function(e){return!i(e)},c=exports.upperBoundExclusive=function(e){return!l(e)},p=exports.upperBoundKey=function(e){return n(e,"lt")||n(e,"lte")||n(e,"max")||(e.reverse?n(e,"start"):n(e,"end"))||void 0},f=exports.upperBound=function(e){var r=p(e);return r&&e[r]};function a(e){return e}exports.toLtgt=function(e,t,n,u,o){t=t||{},n=n||a;var i=arguments.length>3,l=exports.lowerBoundKey(e),s=exports.upperBoundKey(e);return l?"gt"===l?t.gt=n(e.gt,!1):t.gte=n(e[l],!1):i&&(t.gte=n(u,!1)),s?"lt"===s?t.lt=n(e.lt,!0):t.lte=n(e[s],!0):i&&(t.lte=n(o,!0)),null!=e.reverse&&(t.reverse=!!e.reverse),r(t,"max")&&delete t.max,r(t,"min")&&delete t.min,r(t,"start")&&delete t.start,r(t,"end")&&delete t.end,t},exports.contains=function(e,r,n){n=n||exports.compare;var u=o(e);if(t(u)&&((i=n(r,u))<0||0===i&&s(e)))return!1;var i,l=f(e);if(t(l)&&((i=n(r,l))>0||0===i&&c(e)))return!1;return!0},exports.filter=function(e,r){return function(t){return exports.contains(e,t,r)}};
},{"buffer":"dskh"}],"gRiN":[function(require,module,exports) {
"use strict";module.exports=p;var t=0,e=1;function r(t,e,r,o,i,n){this._color=t,this.key=e,this.value=r,this.left=o,this.right=i,this._count=n}function o(t){return new r(t._color,t.key,t.value,t.left,t.right,t._count)}function i(t,e){return new r(t,e.key,e.value,e.left,e.right,e._count)}function n(t){t._count=1+(t.left?t.left._count:0)+(t.right?t.right._count:0)}function l(t,e){this._compare=t,this.root=e}var h=l.prototype;function f(t,e){var r;if(e.left&&(r=f(t,e.left)))return r;return(r=t(e.key,e.value))||(e.right?f(t,e.right):void 0)}function c(t,e,r,o){if(e(t,o.key)<=0){var i;if(o.left)if(i=c(t,e,r,o.left))return i;if(i=r(o.key,o.value))return i}if(o.right)return c(t,e,r,o.right)}function u(t,e,r,o,i){var n,l=r(t,i.key),h=r(e,i.key);if(l<=0){if(i.left&&(n=u(t,e,r,o,i.left)))return n;if(h>0&&(n=o(i.key,i.value)))return n}if(h>0&&i.right)return u(t,e,r,o,i.right)}function g(t,e){this.tree=t,this._stack=e}Object.defineProperty(h,"keys",{get:function(){var t=[];return this.forEach(function(e,r){t.push(e)}),t}}),Object.defineProperty(h,"values",{get:function(){var t=[];return this.forEach(function(e,r){t.push(r)}),t}}),Object.defineProperty(h,"length",{get:function(){return this.root?this.root._count:0}}),h.insert=function(o,h){for(var f=this._compare,c=this.root,u=[],g=[];c;){var _=f(o,c.key);u.push(c),g.push(_),c=_<=0?c.left:c.right}u.push(new r(t,o,h,null,null,1));for(var a=u.length-2;a>=0;--a){c=u[a];g[a]<=0?u[a]=new r(c._color,c.key,c.value,u[a+1],c.right,c._count+1):u[a]=new r(c._color,c.key,c.value,c.left,u[a+1],c._count+1)}for(a=u.length-1;a>1;--a){var s=u[a-1];c=u[a];if(s._color===e||c._color===e)break;var v=u[a-2];if(v.left===s)if(s.left===c){if(!(p=v.right)||p._color!==t){if(v._color=t,v.left=s.right,s._color=e,s.right=v,u[a-2]=s,u[a-1]=c,n(v),n(s),a>=3)(k=u[a-3]).left===v?k.left=s:k.right=s;break}s._color=e,v.right=i(e,p),v._color=t,a-=1}else{if(!(p=v.right)||p._color!==t){if(s.right=c.left,v._color=t,v.left=c.right,c._color=e,c.left=s,c.right=v,u[a-2]=c,u[a-1]=s,n(v),n(s),n(c),a>=3)(k=u[a-3]).left===v?k.left=c:k.right=c;break}s._color=e,v.right=i(e,p),v._color=t,a-=1}else if(s.right===c){if(!(p=v.left)||p._color!==t){if(v._color=t,v.right=s.left,s._color=e,s.left=v,u[a-2]=s,u[a-1]=c,n(v),n(s),a>=3)(k=u[a-3]).right===v?k.right=s:k.left=s;break}s._color=e,v.left=i(e,p),v._color=t,a-=1}else{var p;if(!(p=v.left)||p._color!==t){var k;if(s.left=c.right,v._color=t,v.right=c.left,c._color=e,c.right=s,c.left=v,u[a-2]=c,u[a-1]=s,n(v),n(s),n(c),a>=3)(k=u[a-3]).right===v?k.right=c:k.left=c;break}s._color=e,v.left=i(e,p),v._color=t,a-=1}}return u[0]._color=e,new l(f,u[0])},h.forEach=function(t,e,r){if(this.root)switch(arguments.length){case 1:return f(t,this.root);case 2:return c(e,this._compare,t,this.root);case 3:if(this._compare(e,r)>=0)return;return u(e,r,this._compare,t,this.root)}},Object.defineProperty(h,"begin",{get:function(){for(var t=[],e=this.root;e;)t.push(e),e=e.left;return new g(this,t)}}),Object.defineProperty(h,"end",{get:function(){for(var t=[],e=this.root;e;)t.push(e),e=e.right;return new g(this,t)}}),h.at=function(t){if(t<0)return new g(this,[]);for(var e=this.root,r=[];;){if(r.push(e),e.left){if(t<e.left._count){e=e.left;continue}t-=e.left._count}if(!t)return new g(this,r);if(t-=1,!e.right)break;if(t>=e.right._count)break;e=e.right}return new g(this,[])},h.ge=function(t){for(var e=this._compare,r=this.root,o=[],i=0;r;){var n=e(t,r.key);o.push(r),n<=0&&(i=o.length),r=n<=0?r.left:r.right}return o.length=i,new g(this,o)},h.gt=function(t){for(var e=this._compare,r=this.root,o=[],i=0;r;){var n=e(t,r.key);o.push(r),n<0&&(i=o.length),r=n<0?r.left:r.right}return o.length=i,new g(this,o)},h.lt=function(t){for(var e=this._compare,r=this.root,o=[],i=0;r;){var n=e(t,r.key);o.push(r),n>0&&(i=o.length),r=n<=0?r.left:r.right}return o.length=i,new g(this,o)},h.le=function(t){for(var e=this._compare,r=this.root,o=[],i=0;r;){var n=e(t,r.key);o.push(r),n>=0&&(i=o.length),r=n<0?r.left:r.right}return o.length=i,new g(this,o)},h.find=function(t){for(var e=this._compare,r=this.root,o=[];r;){var i=e(t,r.key);if(o.push(r),0===i)return new g(this,o);r=i<=0?r.left:r.right}return new g(this,[])},h.remove=function(t){var e=this.find(t);return e?e.remove():this},h.get=function(t){for(var e=this._compare,r=this.root;r;){var o=e(t,r.key);if(0===o)return r.value;r=o<=0?r.left:r.right}};var _=g.prototype;function a(t,e){t.key=e.key,t.value=e.value,t.left=e.left,t.right=e.right,t._color=e._color,t._count=e._count}function s(r){for(var l,h,f,c,u=r.length-1;u>=0;--u){if(l=r[u],0===u)return void(l._color=e);if((h=r[u-1]).left===l){if((f=h.right).right&&f.right._color===t){if(c=(f=h.right=o(f)).right=o(f.right),h.right=f.left,f.left=h,f.right=c,f._color=h._color,l._color=e,h._color=e,c._color=e,n(h),n(f),u>1)(g=r[u-2]).left===h?g.left=f:g.right=f;return void(r[u-1]=f)}if(f.left&&f.left._color===t){if(c=(f=h.right=o(f)).left=o(f.left),h.right=c.left,f.left=c.right,c.left=h,c.right=f,c._color=h._color,h._color=e,f._color=e,l._color=e,n(h),n(f),n(c),u>1)(g=r[u-2]).left===h?g.left=c:g.right=c;return void(r[u-1]=c)}if(f._color===e){if(h._color===t)return h._color=e,void(h.right=i(t,f));h.right=i(t,f);continue}f=o(f),h.right=f.left,f.left=h,f._color=h._color,h._color=t,n(h),n(f),u>1&&((g=r[u-2]).left===h?g.left=f:g.right=f),r[u-1]=f,r[u]=h,u+1<r.length?r[u+1]=l:r.push(l),u+=2}else{if((f=h.left).left&&f.left._color===t){if(c=(f=h.left=o(f)).left=o(f.left),h.left=f.right,f.right=h,f.left=c,f._color=h._color,l._color=e,h._color=e,c._color=e,n(h),n(f),u>1)(g=r[u-2]).right===h?g.right=f:g.left=f;return void(r[u-1]=f)}if(f.right&&f.right._color===t){if(c=(f=h.left=o(f)).right=o(f.right),h.left=c.right,f.right=c.left,c.right=h,c.left=f,c._color=h._color,h._color=e,f._color=e,l._color=e,n(h),n(f),n(c),u>1)(g=r[u-2]).right===h?g.right=c:g.left=c;return void(r[u-1]=c)}if(f._color===e){if(h._color===t)return h._color=e,void(h.left=i(t,f));h.left=i(t,f);continue}var g;f=o(f),h.left=f.right,f.right=h,f._color=h._color,h._color=t,n(h),n(f),u>1&&((g=r[u-2]).right===h?g.right=f:g.left=f),r[u-1]=f,r[u]=h,u+1<r.length?r[u+1]=l:r.push(l),u+=2}}}function v(t,e){return t<e?-1:t>e?1:0}function p(t){return new l(t||v,null)}Object.defineProperty(_,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(_,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),_.clone=function(){return new g(this.tree,this._stack.slice())},_.remove=function(){var o=this._stack;if(0===o.length)return this.tree;var i=new Array(o.length),n=o[o.length-1];i[i.length-1]=new r(n._color,n.key,n.value,n.left,n.right,n._count);for(var h=o.length-2;h>=0;--h){(n=o[h]).left===o[h+1]?i[h]=new r(n._color,n.key,n.value,i[h+1],n.right,n._count):i[h]=new r(n._color,n.key,n.value,n.left,i[h+1],n._count)}if((n=i[i.length-1]).left&&n.right){var f=i.length;for(n=n.left;n.right;)i.push(n),n=n.right;var c=i[f-1];i.push(new r(n._color,c.key,c.value,n.left,n.right,n._count)),i[f-1].key=n.key,i[f-1].value=n.value;for(h=i.length-2;h>=f;--h)n=i[h],i[h]=new r(n._color,n.key,n.value,n.left,i[h+1],n._count);i[f-1].left=i[f]}if((n=i[i.length-1])._color===t){var u=i[i.length-2];u.left===n?u.left=null:u.right===n&&(u.right=null),i.pop();for(h=0;h<i.length;++h)i[h]._count--;return new l(this.tree._compare,i[0])}if(n.left||n.right){n.left?a(n,n.left):n.right&&a(n,n.right),n._color=e;for(h=0;h<i.length-1;++h)i[h]._count--;return new l(this.tree._compare,i[0])}if(1===i.length)return new l(this.tree._compare,null);for(h=0;h<i.length;++h)i[h]._count--;var g=i[i.length-2];return s(i),g.left===n?g.left=null:g.right=null,new l(this.tree._compare,i[0])},Object.defineProperty(_,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(_,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(_,"index",{get:function(){var t=0,e=this._stack;if(0===e.length){var r=this.tree.root;return r?r._count:0}e[e.length-1].left&&(t=e[e.length-1].left._count);for(var o=e.length-2;o>=0;--o)e[o+1]===e[o].right&&(++t,e[o].left&&(t+=e[o].left._count));return t},enumerable:!0}),_.next=function(){var t=this._stack;if(0!==t.length){var e=t[t.length-1];if(e.right)for(e=e.right;e;)t.push(e),e=e.left;else for(t.pop();t.length>0&&t[t.length-1].right===e;)e=t[t.length-1],t.pop()}},Object.defineProperty(_,"hasNext",{get:function(){var t=this._stack;if(0===t.length)return!1;if(t[t.length-1].right)return!0;for(var e=t.length-1;e>0;--e)if(t[e-1].left===t[e])return!0;return!1}}),_.update=function(t){var e=this._stack;if(0===e.length)throw new Error("Can't update empty node!");var o=new Array(e.length),i=e[e.length-1];o[o.length-1]=new r(i._color,i.key,t,i.left,i.right,i._count);for(var n=e.length-2;n>=0;--n)(i=e[n]).left===e[n+1]?o[n]=new r(i._color,i.key,i.value,o[n+1],i.right,i._count):o[n]=new r(i._color,i.key,i.value,i.left,o[n+1],i._count);return new l(this.tree._compare,o[0])},_.prev=function(){var t=this._stack;if(0!==t.length){var e=t[t.length-1];if(e.left)for(e=e.left;e;)t.push(e),e=e.right;else for(t.pop();t.length>0&&t[t.length-1].left===e;)e=t[t.length-1],t.pop()}},Object.defineProperty(_,"hasPrev",{get:function(){var t=this._stack;if(0===t.length)return!1;if(t[t.length-1].left)return!0;for(var e=t.length-1;e>0;--e)if(t[e-1].right===t[e])return!0;return!1}});
},{}],"x2gs":[function(require,module,exports) {
var process = require("process");
var t=require("process");exports.test=function(){return void 0!==t&&!1},exports.install=function(n){return function(){t.nextTick(n)}};
},{"process":"pBGv"}],"NGUv":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3],e=t.MutationObserver||t.WebKitMutationObserver;exports.test=function(){return e},exports.install=function(r){var n=0,a=new e(r),o=t.document.createTextNode("");return a.observe(o,{characterData:!0}),function(){o.data=n=++n%2}};
},{}],"pibk":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3];exports.test=function(){return!e.setImmediate&&void 0!==e.MessageChannel},exports.install=function(n){var t=new e.MessageChannel;return t.port1.onmessage=n,function(){t.port2.postMessage(0)}};
},{}],"uDaz":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3];exports.test=function(){return"document"in e&&"onreadystatechange"in e.document.createElement("script")},exports.install=function(n){return function(){var t=e.document.createElement("script");return t.onreadystatechange=function(){n(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t),n}};
},{}],"xm5k":[function(require,module,exports) {
"use strict";exports.test=function(){return!0},exports.install=function(t){return function(){setTimeout(t,0)}};
},{}],"Tw75":[function(require,module,exports) {
"use strict";var e,t,r,n=[require("./nextTick"),require("./mutation.js"),require("./messageChannel"),require("./stateChange"),require("./timeout")],u=-1,a=[],i=!1;function s(){e&&t&&(e=!1,t.length?a=t.concat(a):u=-1,a.length&&l())}function l(){if(!e){i=!1,e=!0;for(var r=a.length,n=setTimeout(s);r;){for(t=a,a=[];t&&++u<r;)t[u].run();u=-1,r=a.length}t=null,u=-1,e=!1,clearTimeout(n)}}for(var o=-1,h=n.length;++o<h;)if(n[o]&&n[o].test&&n[o].test()){r=n[o].install(l);break}function c(e,t){this.fun=e,this.array=t}function f(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var u=1;u<arguments.length;u++)n[u-1]=arguments[u];a.push(new c(t,n)),i||e||(i=!0,r())}c.prototype.run=function(){var e=this.fun,t=this.array;switch(t.length){case 0:return e();case 1:return e(t[0]);case 2:return e(t[0],t[1]);case 3:return e(t[0],t[1],t[2]);default:return e.apply(null,t)}},module.exports=f;
},{"./nextTick":"x2gs","./mutation.js":"NGUv","./messageChannel":"pibk","./stateChange":"uDaz","./timeout":"xm5k"}],"Bswz":[function(require,module,exports) {
module.exports=require("immediate");
},{"immediate":"Tw75"}],"utO2":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var t=require("buffer").Buffer,e=require("inherits"),i=require("abstract-leveldown").AbstractLevelDOWN,r=require("abstract-leveldown").AbstractIterator,s=require("ltgt"),o=require("functional-red-black-tree"),n={},h=require("./immediate");function u(t){return s.compare(t,this._end)>0}function _(t){return s.compare(t,this._end)>=0}function l(t){return s.compare(t,this._end)<0}function a(t){return s.compare(t,this._end)<=0}function c(t,e){r.call(this,t),this._limit=e.limit,-1===this._limit&&(this._limit=1/0);var i=t._store[t._location];this.keyAsBuffer=!1!==e.keyAsBuffer,this.valueAsBuffer=!1!==e.valueAsBuffer,this._reverse=e.reverse,this._options=e,this._done=0,this._reverse?(this._incr="prev",this._start=s.upperBound(e),this._end=s.lowerBound(e),void 0===this._start?this._tree=i.end:s.upperBoundInclusive(e)?this._tree=i.le(this._start):this._tree=i.lt(this._start),this._end&&(s.lowerBoundInclusive(e)?this._test=_:this._test=u)):(this._incr="next",this._start=s.lowerBound(e),this._end=s.upperBound(e),void 0===this._start?this._tree=i.begin:s.lowerBoundInclusive(e)?this._tree=i.ge(this._start):this._tree=i.gt(this._start),this._end&&(s.upperBoundInclusive(e)?this._test=a:this._test=l))}function f(t){if(!(this instanceof f))return new f(t);i.call(this,"string"==typeof t?t:""),this._location=this.location?"$"+this.location:"_tree",this._store=this.location?n:this,this._store[this._location]=this._store[this._location]||o(s.compare)}e(c,r),c.prototype._next=function(e){var i,r;return this._done++>=this._limit?h(e):this._tree.valid?(i=this._tree.key,r=this._tree.value,this._test(i)?(this.keyAsBuffer&&(i=new t(i)),this.valueAsBuffer&&(r=new t(r)),this._tree[this._incr](),void h(function(){e(null,i,r)})):h(e)):h(e)},c.prototype._test=function(){return!0},f.clearGlobalStore=function(t){t?Object.keys(n).forEach(function(t){delete n[t]}):n={}},e(f,i),f.prototype._open=function(t,e){var i=this;h(function(){e(null,i)})},f.prototype._put=function(t,e,i,r){null==e&&(e="");var s=this._store[this._location].find(t);s.valid?this._store[this._location]=s.update(e):this._store[this._location]=this._store[this._location].insert(t,e),h(r)},f.prototype._get=function(e,i,r){var s=this._store[this._location].get(e);if(void 0===s)return h(function(){r(new Error("NotFound"))});!1===i.asBuffer||this._isBuffer(s)||(s=new t(String(s))),h(function(){r(null,s)})},f.prototype._del=function(t,e,i){this._store[this._location]=this._store[this._location].remove(t),h(i)},f.prototype._batch=function(t,e,i){for(var r,s,o,n=-1,u=t.length,_=this._store[this._location];++n<u;)t[n]&&(r=this._isBuffer(t[n].key)?t[n].key:String(t[n].key),o=_.find(r),"put"===t[n].type?(s=this._isBuffer(t[n].value)?t[n].value:String(t[n].value),_=o.valid?o.update(s):_.insert(r,s)):_=o.remove());this._store[this._location]=_,h(i)},f.prototype._iterator=function(t){return new c(this,t)},f.prototype._isBuffer=function(e){return t.isBuffer(e)},f.destroy=function(t,e){var i="$"+t;i in n&&delete n[i],h(e)},module.exports=f;
},{"inherits":"Bm0n","abstract-leveldown":"cM0Q","ltgt":"qUYD","functional-red-black-tree":"gRiN","./immediate":"Bswz","buffer":"dskh"}],"VzHG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("pouchdb-utils"),r=u(require("pouchdb-adapter-leveldb-core")),t=u(require("memdown"));function u(e){return e&&e.__esModule?e:{default:e}}function d(u,d){var a=(0,e.assign)({db:t.default},u);r.default.call(this,a,d)}function a(e){e.adapter("memory",d,!0)}d.valid=function(){return!0},d.use_prefix=!1;var o=a;exports.default=o;
},{"pouchdb-utils":"mY35","pouchdb-adapter-leveldb-core":"ePpt","memdown":"utO2"}],"iST0":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("rxdb"));t.default.plugin(require("pouchdb-adapter-idb")),t.default.plugin(require("pouchdb-adapter-memory"));var r=function(){return function(e){void 0===e&&(e={}),this.adapter="memory",this.namespace="visicraft_v1",Object.assign(this,e)}}();exports.DatastoreOptions=r;var a=function(){function e(e){void 0===e&&(e={}),this.datastore=new r(e.datastore)}return e.prototype.create_datastore=function(){var e=this.datastore,r=e.adapter,a=e.namespace;return t.default.create({adapter:r,name:a,queryChangeDetection:!0})},e}();exports.VisicraftClientOptions=a;
},{"rxdb":"i0Et","pouchdb-adapter-idb":"EBay","pouchdb-adapter-memory":"VzHG"}],"cY4a":[function(require,module,exports) {
"use strict";var t=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(o,i){function a(t){try{c(n.next(t))}catch(e){i(e)}}function s(t){try{c(n.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(a,s)}c((n=n.apply(t,e||[])).next())})},e=this&&this.__generator||function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(exports,"__esModule",{value:!0});var r=require("./datastore"),n=require("./visicraft_client_options"),o=function(){function o(t){void 0===t&&(t={}),this.options=new n.VisicraftClientOptions(t)}return o.prototype.close_datastore=function(){return t(this,void 0,Promise,function(){var t;return e(this,function(e){switch(e.label){case 0:return[4,this.get_datastore().destroy()];case 1:return(t=e.sent())&&(this.datastore=void 0),[2,t]}})})},o.prototype.open_datastore=function(){return t(this,void 0,Promise,function(){var t;return e(this,function(e){switch(e.label){case 0:if(this.datastore)throw new Error("bad dispatch to 'VisicraftClient.open_datastore' (datastore already initialized)");return[4,this.options.create_datastore()];case 1:return t=e.sent(),[4,r.create_collections(t)];case 2:return e.sent(),this.datastore=t,[2,t]}})})},o.prototype.get_datastore=function(){if(this.datastore)return this.datastore;throw new Error("bad dispatch to 'get_datastore' (datastore not initialized)")},o}();exports.VisicraftClient=o;
},{"./datastore":"qF1w","./visicraft_client_options":"iST0"}],"JEX0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("./visicraft_client");exports.VisicraftClient=t.VisicraftClient;var e=require("./visicraft_client_options");exports.DatastoreOptions=e.DatastoreOptions,exports.VisicraftClientOptions=e.VisicraftClientOptions;var r=require("./datastore/races");exports.RACE_DOCUMENT_SCHEMA=r.RACE_DOCUMENT_SCHEMA;var i=require("./util/constants");exports.CONTENT_TYPES=i.CONTENT_TYPES,exports.SORTING_DIRECTIONS=i.SORTING_DIRECTIONS,exports.SORTING_MODES=i.SORTING_MODES;
},{"./visicraft_client":"cY4a","./visicraft_client_options":"iST0","./datastore/races":"a2gz","./util/constants":"mfLK"}]},{},["JEX0"], "visicraft")
//# sourceMappingURL=/visicraft-lib.umd.js.map